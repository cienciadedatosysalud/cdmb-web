import{j as U,u as kr}from"./useTranslation.ChJ-2vCC.js";import{r as Z,R as uy,g as Fo,a as xe,c as lt}from"./index.CMt9tOoS.js";import{r as l2,c as u2}from"./client.DQkxkcQC.js";/* empty css                       */const cy=Z.createContext();function c2({children:e}){const[t,r]=Z.useState({metadata:{project:"",funder:"",url_project:"",work_package:"",use_case:"",document:"",version_sem:"",authors:[],keywords:[],description:"",notes:"",spatial_coverage:"",license:""},cohort:{name:"",description:"",inclusion_criteria:"",exclusion_criteria:"",beginning_study_period:null,end_study_period:null,cohort_definition_inclusion:null,cohort_definition_exclusion:null},entities:[],relationships:[]}),n=Z.useCallback((i,o)=>{r(s=>{const a=s[i];return Array.isArray(a)?{...s,[i]:o}:typeof a=="object"&&a!==null?{...s,[i]:{...a,...o}}:{...s,[i]:o}})},[]);return U.jsx(cy.Provider,{value:{formData:t,updateForm:n},children:e})}function Di(){const e=Z.useContext(cy);if(!e)throw new Error("useFormData debe usarse dentro de un FormProvider");return e}function Qe(e,t){const r=t.split(".");let n=e;for(const i of r){if(typeof n=="boolean"||typeof n=="string")return n;if(n==null||typeof n!="object")return;n=n[i]}return n}function d2(e){const{theme:t,clearTheme:r,applyTheme:n,...i}=e;return i}function Jt(e,t){let r=d2(e);return t&&(r={...t,...e}),r}const Mi={defaultMerge:Symbol("deepmerge-ts: default merge"),skip:Symbol("deepmerge-ts: skip")};Mi.defaultMerge;function h2(e,t){return t}function f2(e,t){return e.filter(r=>r!==void 0)}var qp;(function(e){e[e.NOT=0]="NOT",e[e.RECORD=1]="RECORD",e[e.ARRAY=2]="ARRAY",e[e.SET=3]="SET",e[e.MAP=4]="MAP",e[e.OTHER=5]="OTHER"})(qp||(qp={}));function Jp(e){return typeof e!="object"||e===null?0:Array.isArray(e)?2:m2(e)?1:e instanceof Set?3:e instanceof Map?4:5}function p2(e){const t=new Set;for(const r of e)for(const n of[...Object.keys(r),...Object.getOwnPropertySymbols(r)])t.add(n);return t}function g2(e,t){return typeof e=="object"&&Object.prototype.propertyIsEnumerable.call(e,t)}function dy(e){let t=0,r=e[0]?.[Symbol.iterator]();return{[Symbol.iterator](){return{next(){do{if(r===void 0)return{done:!0,value:void 0};const n=r.next();if(n.done===!0){t+=1,r=e[t]?.[Symbol.iterator]();continue}return{done:!1,value:n.value}}while(!0)}}}}}const Yp=["[object Object]","[object Module]"];function m2(e){if(!Yp.includes(Object.prototype.toString.call(e)))return!1;const{constructor:t}=e;if(t===void 0)return!0;const r=t.prototype;return!(r===null||typeof r!="object"||!Yp.includes(Object.prototype.toString.call(r))||!r.hasOwnProperty("isPrototypeOf"))}function b2(e,t,r){const n={};for(const i of p2(e)){const o=[];for(const l of e)g2(l,i)&&o.push(l[i]);if(o.length===0)continue;const s=t.metaDataUpdater(r,{key:i,parents:e}),a=fy(o,t,s);a!==Mi.skip&&(i==="__proto__"?Object.defineProperty(n,i,{value:a,configurable:!0,enumerable:!0,writable:!0}):n[i]=a)}return n}function y2(e){return e.flat()}function v2(e){return new Set(dy(e))}function w2(e){return new Map(dy(e))}function C2(e){return e.at(-1)}const Za={mergeRecords:b2,mergeArrays:y2,mergeSets:v2,mergeMaps:w2,mergeOthers:C2};function F2(...e){return hy({})(...e)}function hy(e,t){const r=S2(e,n);function n(...i){return fy(i,r,t)}return n}function S2(e,t){return{defaultMergeFunctions:Za,mergeFunctions:{...Za,...Object.fromEntries(Object.entries(e).filter(([r,n])=>Object.hasOwn(Za,r)).map(([r,n])=>n===!1?[r,Za.mergeOthers]:[r,n]))},metaDataUpdater:e.metaDataUpdater??h2,deepmerge:t,useImplicitDefaultMerging:e.enableImplicitDefaultMerging??!1,filterValues:e.filterValues===!1?void 0:e.filterValues??f2,actions:Mi}}function fy(e,t,r){const n=t.filterValues?.(e,r)??e;if(n.length===0)return;if(n.length===1)return Zc(n,t,r);const i=Jp(n[0]);if(i!==0&&i!==5){for(let o=1;o<n.length;o++)if(Jp(n[o])!==i)return Zc(n,t,r)}switch(i){case 1:return x2(n,t,r);case 2:return k2(n,t,r);case 3:return E2(n,t,r);case 4:return R2(n,t,r);default:return Zc(n,t,r)}}function x2(e,t,r){const n=t.mergeFunctions.mergeRecords(e,t,r);return n===Mi.defaultMerge||t.useImplicitDefaultMerging&&n===void 0&&t.mergeFunctions.mergeRecords!==t.defaultMergeFunctions.mergeRecords?t.defaultMergeFunctions.mergeRecords(e,t,r):n}function k2(e,t,r){const n=t.mergeFunctions.mergeArrays(e,t,r);return n===Mi.defaultMerge||t.useImplicitDefaultMerging&&n===void 0&&t.mergeFunctions.mergeArrays!==t.defaultMergeFunctions.mergeArrays?t.defaultMergeFunctions.mergeArrays(e):n}function E2(e,t,r){const n=t.mergeFunctions.mergeSets(e,t,r);return n===Mi.defaultMerge||t.useImplicitDefaultMerging&&n===void 0&&t.mergeFunctions.mergeSets!==t.defaultMergeFunctions.mergeSets?t.defaultMergeFunctions.mergeSets(e):n}function R2(e,t,r){const n=t.mergeFunctions.mergeMaps(e,t,r);return n===Mi.defaultMerge||t.useImplicitDefaultMerging&&n===void 0&&t.mergeFunctions.mergeMaps!==t.defaultMergeFunctions.mergeMaps?t.defaultMergeFunctions.mergeMaps(e):n}function Zc(e,t,r){const n=t.mergeFunctions.mergeOthers(e,t,r);return n===Mi.defaultMerge||t.useImplicitDefaultMerging&&n===void 0&&t.mergeFunctions.mergeOthers!==t.defaultMergeFunctions.mergeOthers?t.defaultMergeFunctions.mergeOthers(e):n}function ou(e){var t,r,n;if(Array.isArray(e)){for(r=Array(t=e.length);t--;)r[t]=(n=e[t])&&typeof n=="object"?ou(n):n;return r}if(Object.prototype.toString.call(e)==="[object Object]"){r={};for(t in e)t==="__proto__"?Object.defineProperty(r,t,{value:ou(e[t]),configurable:!0,enumerable:!0,writable:!0}):r[t]=(n=e[t])&&typeof n=="object"?ou(n):n;return r}return e}const bf={dark:void 0,prefix:void 0,version:void 0};function _2(){return bf.dark}function py(){return bf.prefix}function gy(){return bf.version}function A2(e){return hy({mergeOthers:(t,r)=>{if(t.some(n=>typeof n=="string")){const n=t.filter(s=>typeof s=="string"),i=new Set,o=[];for(const s of n){const a=[...new Set(s.split(/\s+/))];o.push(a.filter(l=>!i.has(l)).join(" "));for(const l of a)i.add(l)}return e(o)}return r.actions.defaultMerge}})}function gh(e,t){if(e===t)return!0;if(e&&t&&typeof e=="object"&&typeof t=="object"){if(e.constructor!==t.constructor)return!1;if(Array.isArray(e))return e.length!==t.length?!1:e.every((n,i)=>gh(n,t[i]));if(e.constructor===RegExp)return e.source===t.source&&e.flags===t.flags;if(e.valueOf!==Object.prototype.valueOf)return e.valueOf()===t.valueOf();if(e.toString!==Object.prototype.toString)return e.toString()===t.toString();const r=Object.keys(e);return r.length!==Object.keys(t).length?!1:r.every(n=>Object.prototype.hasOwnProperty.call(t,n)&&gh(e[n],t[n]))}return e!==e&&t!==t}const yf="-",T2=e=>{const t=M2(e),{conflictingClassGroups:r,conflictingClassGroupModifiers:n}=e;return{getClassGroupId:s=>{const a=s.split(yf);return a[0]===""&&a.length!==1&&a.shift(),my(a,t)||D2(s)},getConflictingClassGroupIds:(s,a)=>{const l=r[s]||[];return a&&n[s]?[...l,...n[s]]:l}}},my=(e,t)=>{if(e.length===0)return t.classGroupId;const r=e[0],n=t.nextPart.get(r),i=n?my(e.slice(1),n):void 0;if(i)return i;if(t.validators.length===0)return;const o=e.join(yf);return t.validators.find(({validator:s})=>s(o))?.classGroupId},Zp=/^\[(.+)\]$/,D2=e=>{if(Zp.test(e)){const t=Zp.exec(e)[1],r=t?.substring(0,t.indexOf(":"));if(r)return"arbitrary.."+r}},M2=e=>{const{theme:t,classGroups:r}=e,n={nextPart:new Map,validators:[]};for(const i in r)mh(r[i],n,i,t);return n},mh=(e,t,r,n)=>{e.forEach(i=>{if(typeof i=="string"){const o=i===""?t:Xp(t,i);o.classGroupId=r;return}if(typeof i=="function"){if(P2(i)){mh(i(n),t,r,n);return}t.validators.push({validator:i,classGroupId:r});return}Object.entries(i).forEach(([o,s])=>{mh(s,Xp(t,o),r,n)})})},Xp=(e,t)=>{let r=e;return t.split(yf).forEach(n=>{r.nextPart.has(n)||r.nextPart.set(n,{nextPart:new Map,validators:[]}),r=r.nextPart.get(n)}),r},P2=e=>e.isThemeGetter,I2=e=>{if(e<1)return{get:()=>{},set:()=>{}};let t=0,r=new Map,n=new Map;const i=(o,s)=>{r.set(o,s),t++,t>e&&(t=0,n=r,r=new Map)};return{get(o){let s=r.get(o);if(s!==void 0)return s;if((s=n.get(o))!==void 0)return i(o,s),s},set(o,s){r.has(o)?r.set(o,s):i(o,s)}}},bh="!",yh=":",B2=yh.length,L2=e=>{const{prefix:t,experimentalParseClassName:r}=e;let n=i=>{const o=[];let s=0,a=0,l=0,u;for(let g=0;g<i.length;g++){let m=i[g];if(s===0&&a===0){if(m===yh){o.push(i.slice(l,g)),l=g+B2;continue}if(m==="/"){u=g;continue}}m==="["?s++:m==="]"?s--:m==="("?a++:m===")"&&a--}const c=o.length===0?i:i.substring(l),f=N2(c),d=f!==c,h=u&&u>l?u-l:void 0;return{modifiers:o,hasImportantModifier:d,baseClassName:f,maybePostfixModifierPosition:h}};if(t){const i=t+yh,o=n;n=s=>s.startsWith(i)?o(s.substring(i.length)):{isExternal:!0,modifiers:[],hasImportantModifier:!1,baseClassName:s,maybePostfixModifierPosition:void 0}}if(r){const i=n;n=o=>r({className:o,parseClassName:i})}return n},N2=e=>e.endsWith(bh)?e.substring(0,e.length-1):e.startsWith(bh)?e.substring(1):e,O2=e=>{const t=Object.fromEntries(e.orderSensitiveModifiers.map(n=>[n,!0]));return n=>{if(n.length<=1)return n;const i=[];let o=[];return n.forEach(s=>{s[0]==="["||t[s]?(i.push(...o.sort(),s),o=[]):o.push(s)}),i.push(...o.sort()),i}},H2=e=>({cache:I2(e.cacheSize),parseClassName:L2(e),sortModifiers:O2(e),...T2(e)}),G2=/\s+/,j2=(e,t)=>{const{parseClassName:r,getClassGroupId:n,getConflictingClassGroupIds:i,sortModifiers:o}=t,s=[],a=e.trim().split(G2);let l="";for(let u=a.length-1;u>=0;u-=1){const c=a[u],{isExternal:f,modifiers:d,hasImportantModifier:h,baseClassName:g,maybePostfixModifierPosition:m}=r(c);if(f){l=c+(l.length>0?" "+l:l);continue}let p=!!m,y=n(p?g.substring(0,m):g);if(!y){if(!p){l=c+(l.length>0?" "+l:l);continue}if(y=n(g),!y){l=c+(l.length>0?" "+l:l);continue}p=!1}const b=o(d).join(":"),v=h?b+bh:b,F=v+y;if(s.includes(F))continue;s.push(F);const E=i(y,p);for(let T=0;T<E.length;++T){const I=E[T];s.push(v+I)}l=c+(l.length>0?" "+l:l)}return l};function z2(){let e=0,t,r,n="";for(;e<arguments.length;)(t=arguments[e++])&&(r=by(t))&&(n&&(n+=" "),n+=r);return n}const by=e=>{if(typeof e=="string")return e;let t,r="";for(let n=0;n<e.length;n++)e[n]&&(t=by(e[n]))&&(r&&(r+=" "),r+=t);return r};function Qp(e,...t){let r,n,i,o=s;function s(l){const u=t.reduce((c,f)=>f(c),e());return r=H2(u),n=r.cache.get,i=r.cache.set,o=a,a(l)}function a(l){const u=n(l);if(u)return u;const c=j2(l,r);return i(l,c),c}return function(){return o(z2.apply(null,arguments))}}const cr=e=>{const t=r=>r[e]||[];return t.isThemeGetter=!0,t},yy=/^\[(?:(\w[\w-]*):)?(.+)\]$/i,vy=/^\((?:(\w[\w-]*):)?(.+)\)$/i,V2=/^\d+\/\d+$/,W2=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,$2=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,U2=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,K2=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,q2=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,Bo=e=>V2.test(e),vt=e=>!!e&&!Number.isNaN(Number(e)),ji=e=>!!e&&Number.isInteger(Number(e)),eg=e=>e.endsWith("%")&&vt(e.slice(0,-1)),ci=e=>W2.test(e),J2=()=>!0,Y2=e=>$2.test(e)&&!U2.test(e),vf=()=>!1,Z2=e=>K2.test(e),X2=e=>q2.test(e),Q2=e=>!Ge(e)&&!je(e),eS=e=>Ss(e,Fy,vf),Ge=e=>yy.test(e),zi=e=>Ss(e,Sy,Y2),Xc=e=>Ss(e,dS,vt),tS=e=>Ss(e,wy,vf),rS=e=>Ss(e,Cy,X2),nS=e=>Ss(e,vf,Z2),je=e=>vy.test(e),Xa=e=>xs(e,Sy),iS=e=>xs(e,hS),oS=e=>xs(e,wy),sS=e=>xs(e,Fy),aS=e=>xs(e,Cy),lS=e=>xs(e,fS,!0),Ss=(e,t,r)=>{const n=yy.exec(e);return n?n[1]?t(n[1]):r(n[2]):!1},xs=(e,t,r=!1)=>{const n=vy.exec(e);return n?n[1]?t(n[1]):r:!1},wy=e=>e==="position",uS=new Set(["image","url"]),Cy=e=>uS.has(e),cS=new Set(["length","size","percentage"]),Fy=e=>cS.has(e),Sy=e=>e==="length",dS=e=>e==="number",hS=e=>e==="family-name",fS=e=>e==="shadow",tg=()=>{const e=cr("color"),t=cr("font"),r=cr("text"),n=cr("font-weight"),i=cr("tracking"),o=cr("leading"),s=cr("breakpoint"),a=cr("container"),l=cr("spacing"),u=cr("radius"),c=cr("shadow"),f=cr("inset-shadow"),d=cr("drop-shadow"),h=cr("blur"),g=cr("perspective"),m=cr("aspect"),p=cr("ease"),y=cr("animate"),b=()=>["auto","avoid","all","avoid-page","page","left","right","column"],v=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],F=()=>["auto","hidden","clip","visible","scroll"],E=()=>["auto","contain","none"],T=()=>[Bo,"px","full","auto",je,Ge,l],I=()=>[ji,"none","subgrid",je,Ge],M=()=>["auto",{span:["full",ji,je,Ge]},je,Ge],P=()=>[ji,"auto",je,Ge],O=()=>["auto","min","max","fr",je,Ge],z=()=>[je,Ge,l],L=()=>["start","end","center","between","around","evenly","stretch","baseline"],_=()=>["start","end","center","stretch"],R=()=>[je,Ge,l],k=()=>["px",...R()],S=()=>["px","auto",...R()],w=()=>[Bo,"auto","px","full","dvw","dvh","lvw","lvh","svw","svh","min","max","fit",je,Ge,l],C=()=>[e,je,Ge],x=()=>[eg,zi],A=()=>["","none","full",u,je,Ge],D=()=>["",vt,Xa,zi],B=()=>["solid","dashed","dotted","double"],V=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],j=()=>["","none",h,je,Ge],K=()=>["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",je,Ge],G=()=>["none",vt,je,Ge],Y=()=>["none",vt,je,Ge],H=()=>[vt,je,Ge],N=()=>[Bo,"full","px",je,Ge,l];return{cacheSize:500,theme:{animate:["spin","ping","pulse","bounce"],aspect:["video"],blur:[ci],breakpoint:[ci],color:[J2],container:[ci],"drop-shadow":[ci],ease:["in","out","in-out"],font:[Q2],"font-weight":["thin","extralight","light","normal","medium","semibold","bold","extrabold","black"],"inset-shadow":[ci],leading:["none","tight","snug","normal","relaxed","loose"],perspective:["dramatic","near","normal","midrange","distant","none"],radius:[ci],shadow:[ci],spacing:[vt],text:[ci],tracking:["tighter","tight","normal","wide","wider","widest"]},classGroups:{aspect:[{aspect:["auto","square",Bo,Ge,je,m]}],container:["container"],columns:[{columns:[vt,Ge,je,a]}],"break-after":[{"break-after":b()}],"break-before":[{"break-before":b()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],sr:["sr-only","not-sr-only"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...v(),Ge,je]}],overflow:[{overflow:F()}],"overflow-x":[{"overflow-x":F()}],"overflow-y":[{"overflow-y":F()}],overscroll:[{overscroll:E()}],"overscroll-x":[{"overscroll-x":E()}],"overscroll-y":[{"overscroll-y":E()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:T()}],"inset-x":[{"inset-x":T()}],"inset-y":[{"inset-y":T()}],start:[{start:T()}],end:[{end:T()}],top:[{top:T()}],right:[{right:T()}],bottom:[{bottom:T()}],left:[{left:T()}],visibility:["visible","invisible","collapse"],z:[{z:[ji,"auto",je,Ge]}],basis:[{basis:[Bo,"full","auto",je,Ge,a,l]}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["nowrap","wrap","wrap-reverse"]}],flex:[{flex:[vt,Bo,"auto","initial","none",Ge]}],grow:[{grow:["",vt,je,Ge]}],shrink:[{shrink:["",vt,je,Ge]}],order:[{order:[ji,"first","last","none",je,Ge]}],"grid-cols":[{"grid-cols":I()}],"col-start-end":[{col:M()}],"col-start":[{"col-start":P()}],"col-end":[{"col-end":P()}],"grid-rows":[{"grid-rows":I()}],"row-start-end":[{row:M()}],"row-start":[{"row-start":P()}],"row-end":[{"row-end":P()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":O()}],"auto-rows":[{"auto-rows":O()}],gap:[{gap:z()}],"gap-x":[{"gap-x":z()}],"gap-y":[{"gap-y":z()}],"justify-content":[{justify:[...L(),"normal"]}],"justify-items":[{"justify-items":[..._(),"normal"]}],"justify-self":[{"justify-self":["auto",..._()]}],"align-content":[{content:["normal",...L()]}],"align-items":[{items:[..._(),"baseline"]}],"align-self":[{self:["auto",..._(),"baseline"]}],"place-content":[{"place-content":L()}],"place-items":[{"place-items":[..._(),"baseline"]}],"place-self":[{"place-self":["auto",..._()]}],p:[{p:k()}],px:[{px:k()}],py:[{py:k()}],ps:[{ps:k()}],pe:[{pe:k()}],pt:[{pt:k()}],pr:[{pr:k()}],pb:[{pb:k()}],pl:[{pl:k()}],m:[{m:S()}],mx:[{mx:S()}],my:[{my:S()}],ms:[{ms:S()}],me:[{me:S()}],mt:[{mt:S()}],mr:[{mr:S()}],mb:[{mb:S()}],ml:[{ml:S()}],"space-x":[{"space-x":R()}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":R()}],"space-y-reverse":["space-y-reverse"],size:[{size:w()}],w:[{w:[a,"screen",...w()]}],"min-w":[{"min-w":[a,"screen","none",...w()]}],"max-w":[{"max-w":[a,"screen","none","prose",{screen:[s]},...w()]}],h:[{h:["screen",...w()]}],"min-h":[{"min-h":["screen","none",...w()]}],"max-h":[{"max-h":["screen",...w()]}],"font-size":[{text:["base",r,Xa,zi]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:[n,je,Xc]}],"font-stretch":[{"font-stretch":["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded",eg,Ge]}],"font-family":[{font:[iS,Ge,t]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:[i,je,Ge]}],"line-clamp":[{"line-clamp":[vt,"none",je,Xc]}],leading:[{leading:[je,Ge,o,l]}],"list-image":[{"list-image":["none",je,Ge]}],"list-style-position":[{list:["inside","outside"]}],"list-style-type":[{list:["disc","decimal","none",je,Ge]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"placeholder-color":[{placeholder:C()}],"text-color":[{text:C()}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...B(),"wavy"]}],"text-decoration-thickness":[{decoration:[vt,"from-font","auto",je,zi]}],"text-decoration-color":[{decoration:C()}],"underline-offset":[{"underline-offset":[vt,"auto",je,Ge]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:["px",...R()]}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",je,Ge]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",je,Ge]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...v(),oS,tS]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","space","round"]}]}],"bg-size":[{bg:["auto","cover","contain",sS,eS]}],"bg-image":[{bg:["none",{linear:[{to:["t","tr","r","br","b","bl","l","tl"]},ji,je,Ge],radial:["",je,Ge],conic:[ji,je,Ge]},aS,rS]}],"bg-color":[{bg:C()}],"gradient-from-pos":[{from:x()}],"gradient-via-pos":[{via:x()}],"gradient-to-pos":[{to:x()}],"gradient-from":[{from:C()}],"gradient-via":[{via:C()}],"gradient-to":[{to:C()}],rounded:[{rounded:A()}],"rounded-s":[{"rounded-s":A()}],"rounded-e":[{"rounded-e":A()}],"rounded-t":[{"rounded-t":A()}],"rounded-r":[{"rounded-r":A()}],"rounded-b":[{"rounded-b":A()}],"rounded-l":[{"rounded-l":A()}],"rounded-ss":[{"rounded-ss":A()}],"rounded-se":[{"rounded-se":A()}],"rounded-ee":[{"rounded-ee":A()}],"rounded-es":[{"rounded-es":A()}],"rounded-tl":[{"rounded-tl":A()}],"rounded-tr":[{"rounded-tr":A()}],"rounded-br":[{"rounded-br":A()}],"rounded-bl":[{"rounded-bl":A()}],"border-w":[{border:D()}],"border-w-x":[{"border-x":D()}],"border-w-y":[{"border-y":D()}],"border-w-s":[{"border-s":D()}],"border-w-e":[{"border-e":D()}],"border-w-t":[{"border-t":D()}],"border-w-r":[{"border-r":D()}],"border-w-b":[{"border-b":D()}],"border-w-l":[{"border-l":D()}],"divide-x":[{"divide-x":D()}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":D()}],"divide-y-reverse":["divide-y-reverse"],"border-style":[{border:[...B(),"hidden","none"]}],"divide-style":[{divide:[...B(),"hidden","none"]}],"border-color":[{border:C()}],"border-color-x":[{"border-x":C()}],"border-color-y":[{"border-y":C()}],"border-color-s":[{"border-s":C()}],"border-color-e":[{"border-e":C()}],"border-color-t":[{"border-t":C()}],"border-color-r":[{"border-r":C()}],"border-color-b":[{"border-b":C()}],"border-color-l":[{"border-l":C()}],"divide-color":[{divide:C()}],"outline-style":[{outline:[...B(),"none","hidden"]}],"outline-offset":[{"outline-offset":[vt,je,Ge]}],"outline-w":[{outline:["",vt,Xa,zi]}],"outline-color":[{outline:[e]}],shadow:[{shadow:["","none",c,lS,nS]}],"shadow-color":[{shadow:C()}],"inset-shadow":[{"inset-shadow":["none",je,Ge,f]}],"inset-shadow-color":[{"inset-shadow":C()}],"ring-w":[{ring:D()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:C()}],"ring-offset-w":[{"ring-offset":[vt,zi]}],"ring-offset-color":[{"ring-offset":C()}],"inset-ring-w":[{"inset-ring":D()}],"inset-ring-color":[{"inset-ring":C()}],opacity:[{opacity:[vt,je,Ge]}],"mix-blend":[{"mix-blend":[...V(),"plus-darker","plus-lighter"]}],"bg-blend":[{"bg-blend":V()}],filter:[{filter:["","none",je,Ge]}],blur:[{blur:j()}],brightness:[{brightness:[vt,je,Ge]}],contrast:[{contrast:[vt,je,Ge]}],"drop-shadow":[{"drop-shadow":["","none",d,je,Ge]}],grayscale:[{grayscale:["",vt,je,Ge]}],"hue-rotate":[{"hue-rotate":[vt,je,Ge]}],invert:[{invert:["",vt,je,Ge]}],saturate:[{saturate:[vt,je,Ge]}],sepia:[{sepia:["",vt,je,Ge]}],"backdrop-filter":[{"backdrop-filter":["","none",je,Ge]}],"backdrop-blur":[{"backdrop-blur":j()}],"backdrop-brightness":[{"backdrop-brightness":[vt,je,Ge]}],"backdrop-contrast":[{"backdrop-contrast":[vt,je,Ge]}],"backdrop-grayscale":[{"backdrop-grayscale":["",vt,je,Ge]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[vt,je,Ge]}],"backdrop-invert":[{"backdrop-invert":["",vt,je,Ge]}],"backdrop-opacity":[{"backdrop-opacity":[vt,je,Ge]}],"backdrop-saturate":[{"backdrop-saturate":[vt,je,Ge]}],"backdrop-sepia":[{"backdrop-sepia":["",vt,je,Ge]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":R()}],"border-spacing-x":[{"border-spacing-x":R()}],"border-spacing-y":[{"border-spacing-y":R()}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["","all","colors","opacity","shadow","transform","none",je,Ge]}],"transition-behavior":[{transition:["normal","discrete"]}],duration:[{duration:[vt,"initial",je,Ge]}],ease:[{ease:["linear","initial",p,je,Ge]}],delay:[{delay:[vt,je,Ge]}],animate:[{animate:["none",y,je,Ge]}],backface:[{backface:["hidden","visible"]}],perspective:[{perspective:[g,je,Ge]}],"perspective-origin":[{"perspective-origin":K()}],rotate:[{rotate:G()}],"rotate-x":[{"rotate-x":G()}],"rotate-y":[{"rotate-y":G()}],"rotate-z":[{"rotate-z":G()}],scale:[{scale:Y()}],"scale-x":[{"scale-x":Y()}],"scale-y":[{"scale-y":Y()}],"scale-z":[{"scale-z":Y()}],"scale-3d":["scale-3d"],skew:[{skew:H()}],"skew-x":[{"skew-x":H()}],"skew-y":[{"skew-y":H()}],transform:[{transform:[je,Ge,"","none","gpu","cpu"]}],"transform-origin":[{origin:K()}],"transform-style":[{transform:["3d","flat"]}],translate:[{translate:N()}],"translate-x":[{"translate-x":N()}],"translate-y":[{"translate-y":N()}],"translate-z":[{"translate-z":N()}],"translate-none":["translate-none"],accent:[{accent:C()}],appearance:[{appearance:["none","auto"]}],"caret-color":[{caret:C()}],"color-scheme":[{scheme:["normal","dark","light","light-dark","only-dark","only-light"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",je,Ge]}],"field-sizing":[{"field-sizing":["fixed","content"]}],"pointer-events":[{"pointer-events":["auto","none"]}],resize:[{resize:["none","","y","x"]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":R()}],"scroll-mx":[{"scroll-mx":R()}],"scroll-my":[{"scroll-my":R()}],"scroll-ms":[{"scroll-ms":R()}],"scroll-me":[{"scroll-me":R()}],"scroll-mt":[{"scroll-mt":R()}],"scroll-mr":[{"scroll-mr":R()}],"scroll-mb":[{"scroll-mb":R()}],"scroll-ml":[{"scroll-ml":R()}],"scroll-p":[{"scroll-p":R()}],"scroll-px":[{"scroll-px":R()}],"scroll-py":[{"scroll-py":R()}],"scroll-ps":[{"scroll-ps":R()}],"scroll-pe":[{"scroll-pe":R()}],"scroll-pt":[{"scroll-pt":R()}],"scroll-pr":[{"scroll-pr":R()}],"scroll-pb":[{"scroll-pb":R()}],"scroll-pl":[{"scroll-pl":R()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",je,Ge]}],fill:[{fill:["none",...C()]}],"stroke-w":[{stroke:[vt,Xa,zi,Xc]}],stroke:[{stroke:["none",...C()]}],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],translate:["translate-x","translate-y","translate-none"],"translate-none":["translate","translate-x","translate-y","translate-z"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]},orderSensitiveModifiers:["before","after","placeholder","file","marker","selection","first-line","first-letter","backdrop","*","**"]}},pS=(e,{cacheSize:t,prefix:r,experimentalParseClassName:n,extend:i={},override:o={}})=>(Ks(e,"cacheSize",t),Ks(e,"prefix",r),Ks(e,"experimentalParseClassName",n),Qa(e.theme,o.theme),Qa(e.classGroups,o.classGroups),Qa(e.conflictingClassGroups,o.conflictingClassGroups),Qa(e.conflictingClassGroupModifiers,o.conflictingClassGroupModifiers),Ks(e,"orderSensitiveModifiers",o.orderSensitiveModifiers),el(e.theme,i.theme),el(e.classGroups,i.classGroups),el(e.conflictingClassGroups,i.conflictingClassGroups),el(e.conflictingClassGroupModifiers,i.conflictingClassGroupModifiers),xy(e,i,"orderSensitiveModifiers"),e),Ks=(e,t,r)=>{r!==void 0&&(e[t]=r)},Qa=(e,t)=>{if(t)for(const r in t)Ks(e,r,t[r])},el=(e,t)=>{if(t)for(const r in t)xy(e,t,r)},xy=(e,t,r)=>{const n=t[r];n!==void 0&&(e[r]=e[r]?e[r].concat(n):n)},gS=(e,...t)=>typeof e=="function"?Qp(tg,e,...t):Qp(()=>pS(tg(),e),...t),rg=new Map;function Rt(...e){const t=py(),r=gy(),n=`${t}.${r}`,i=rg.get(n);if(i)return i(...e);const o=gS({extend:{classGroups:{"bg-image":["bg-arrow-down-icon","bg-check-icon","bg-dash-icon","bg-dot-icon"],shadow:["shadow-sm-light"]}},prefix:t});return rg.set(n,o),o(...e)}function Yt(...e){return mS(()=>bS(...e),e)}function mS(e,t){const r=Z.useRef(),n=Z.useRef();return(!r.current||!gh(r.current,t))&&(r.current=t,n.current=e()),n.current}function bS([e,...t],r,n){const i=_2(),o=py(),s=gy(),a=t?.length?t?.filter(d=>d!==void 0):void 0,l=r?.length?r?.filter(d=>d!==void 0):void 0,u=n?.length?n?.filter(d=>d!==void 0):void 0,c=l?.length||i===!1||s===4||o?ou(e):e;if(l?.length){const d=vh(c,!1);let h=!1;for(const g of l)g&&(h=!0),yS(d,g);h&&wS(c,d)}let f=c;if(a?.length&&(f=A2(Rt)(c,...a)),u?.length&&a?.length){const d=vh(c,"merge");let h=!1;for(const g of u)g!=="merge"&&(h=!0),vS(d,g);h&&CS(f,F2(c,...t),d)}return f}function yS(e,t){function r(n,i){if(typeof i=="boolean")if(typeof n=="object"&&n!==null)for(const o in n)n[o]=r(n[o],i);else return i;if(typeof i=="object"&&i!==null)for(const o in i)n[o]=r(n[o],i[o]);return n}r(e,t)}function vS(e,t){function r(n,i){if(typeof i=="string")if(typeof n=="object"&&n!==null)for(const o in n)n[o]=r(n[o],i);else return i;if(typeof i=="object"&&i!==null)for(const o in i)n[o]=r(n[o],i[o]);return n}r(e,t)}function wS(e,t){function r(n,i){if(i===!0)if(typeof n=="object"&&n!==null)for(const o in n)n[o]=r(n[o],i);else return"";if(typeof i=="object"&&i!==null)for(const o in i)n[o]=r(n[o],i[o]);return n}r(e,t)}function CS(e,t,r){function n(i,o,s){if(s==="replace")if(typeof i=="object"&&i!==null)for(const a in i)i[a]=n(i[a],o[a],s);else return o;if(typeof s=="object"&&s!==null)for(const a in s)i[a]=n(i[a],o[a],s[a]);return i}n(e,t,r)}function vh(e,t){if(e===null||typeof e!="object")return t;const r={};for(const n in e)r[n]=vh(e[n],t);return r}const ky=Z.forwardRef((e,t)=>U.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",fill:"currentColor",stroke:"currentColor",strokeWidth:0,viewBox:"0 0 20 20",ref:t,...e,children:U.jsx("path",{fillRule:"evenodd",stroke:"none",d:"M5.293 7.293a1 1 0 0 1 1.414 0L10 10.586l3.293-3.293a1 1 0 1 1 1.414 1.414l-4 4a1 1 0 0 1-1.414 0l-4-4a1 1 0 0 1 0-1.414z",clipRule:"evenodd"})}));ky.displayName="ChevronDownIcon";const FS=Z.createContext(void 0);function Zt(){return Z.useContext(FS)??{}}const wf={root:{base:"divide-y divide-gray-200 border-gray-200 dark:divide-gray-700 dark:border-gray-700",flush:{off:"rounded-lg border",on:"border-b"}},content:{base:"p-5 first:rounded-t-lg last:rounded-b-lg dark:bg-gray-900"},title:{arrow:{base:"h-6 w-6 shrink-0",open:{off:"",on:"rotate-180"}},base:"flex w-full items-center justify-between p-5 text-left font-medium text-gray-500 first:rounded-t-lg last:rounded-b-lg dark:text-gray-400",flush:{off:"hover:bg-gray-100 focus:ring-4 focus:ring-gray-200 dark:hover:bg-gray-800 dark:focus:ring-gray-800",on:"bg-transparent dark:bg-transparent"},heading:"",open:{off:"",on:"bg-gray-100 text-gray-900 dark:bg-gray-800 dark:text-white"}}};function Ey(e){const t=Zt(),r=Yt([wf.root,t.theme?.accordion?.root,e.theme],[Qe(t.clearTheme,"accordion.root"),e.clearTheme],[Qe(t.applyTheme,"accordion.root"),e.applyTheme]),{alwaysOpen:n=!1,arrowIcon:i=ky,children:o,flush:s=!1,collapseAll:a=!1,className:l,...u}=Jt(e,t.props?.accordion),[c,f]=Z.useState(a?-1:0),d=Z.useMemo(()=>Z.Children.map(o,(h,g)=>Z.cloneElement(h,{alwaysOpen:n,arrowIcon:i,flush:s,isOpen:c===g,setOpen:()=>f(c===g?-1:g)})),[n,i,o,s,c]);return U.jsx("div",{className:Rt(r.base,r.flush[s?"on":"off"],l),"data-testid":"flowbite-accordion",...u,children:d})}Ey.displayName="Accordion";const Ry=Z.createContext(void 0);function _y(){const e=Z.useContext(Ry);if(!e)throw new Error("useAccordionContext should be used within the AccordionPanelContext provider!");return e}function Ay(e){const{isOpen:t}=_y(),r=Zt(),n=Yt([wf.content,r.theme?.accordion?.content,e.theme],[Qe(r.clearTheme,"accordion.content"),e.clearTheme],[Qe(r.applyTheme,"accordion.content"),e.applyTheme]),{className:i,...o}=Jt(e,r.props?.accordionContent);return U.jsx("div",{className:Rt(n.base,i),"data-testid":"flowbite-accordion-content",hidden:!t,...o})}Ay.displayName="AccordionContent";function Ty({children:e,...t}){const{alwaysOpen:r}=t,[n,i]=Z.useState(t.isOpen),o=r?{...t,isOpen:n,setOpen:()=>i(!n)}:t;return U.jsx(Ry.Provider,{value:o,children:e})}Ty.displayName="AccordionPanel";function Dy(e){const{arrowIcon:t,flush:r,isOpen:n,setOpen:i}=_y(),o=()=>typeof i<"u"&&i(),s=Zt(),a=Yt([wf.title,s.theme?.accordion?.title,e.theme],[Qe(s.clearTheme,"accordion.title"),e.clearTheme],[Qe(s.applyTheme,"accordion.title"),e.applyTheme]),{as:l="h2",children:u,className:c,...f}=Jt(e,s.props?.accordionTitle);return U.jsxs("button",{className:Rt(a.base,a.flush[r?"on":"off"],a.open[n?"on":"off"],c),onClick:o,type:"button",...f,children:[U.jsx(l,{className:a.heading,"data-testid":"flowbite-accordion-heading",children:u}),t&&U.jsx(t,{"aria-hidden":!0,className:Rt(a.arrow.base,a.arrow.open[n?"on":"off"]),"data-testid":"flowbite-accordion-arrow"})]})}Dy.displayName="AccordionTitle";const My=Z.forwardRef((e,t)=>U.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",fill:"currentColor",stroke:"currentColor",strokeWidth:0,viewBox:"0 0 20 20",ref:t,...e,children:U.jsx("path",{fillRule:"evenodd",stroke:"none",d:"M4.293 4.293a1 1 0 0 1 1.414 0L10 8.586l4.293-4.293a1 1 0 1 1 1.414 1.414L11.414 10l4.293 4.293a1 1 0 0 1-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 0 1-1.414-1.414L8.586 10 4.293 5.707a1 1 0 0 1 0-1.414z",clipRule:"evenodd"})}));My.displayName="XIcon";const SS={base:"flex flex-col gap-2 p-4 text-sm",borderAccent:"border-t-4",closeButton:{base:"-m-1.5 ml-auto inline-flex h-8 w-8 rounded-lg p-1.5 focus:ring-2",icon:"h-5 w-5",color:{info:"bg-cyan-100 text-cyan-500 hover:bg-cyan-200 focus:ring-cyan-400 dark:bg-cyan-200 dark:text-cyan-600 dark:hover:bg-cyan-300",gray:"bg-gray-100 text-gray-500 hover:bg-gray-200 focus:ring-gray-400 dark:bg-gray-700 dark:text-gray-300 dark:hover:bg-gray-800 dark:hover:text-white",failure:"bg-red-100 text-red-500 hover:bg-red-200 focus:ring-red-400 dark:bg-red-200 dark:text-red-600 dark:hover:bg-red-300",success:"bg-green-100 text-green-500 hover:bg-green-200 focus:ring-green-400 dark:bg-green-200 dark:text-green-600 dark:hover:bg-green-300",warning:"bg-yellow-100 text-yellow-500 hover:bg-yellow-200 focus:ring-yellow-400 dark:bg-yellow-200 dark:text-yellow-600 dark:hover:bg-yellow-300",red:"bg-red-100 text-red-500 hover:bg-red-200 focus:ring-red-400 dark:bg-red-200 dark:text-red-600 dark:hover:bg-red-300",green:"bg-green-100 text-green-500 hover:bg-green-200 focus:ring-green-400 dark:bg-green-200 dark:text-green-600 dark:hover:bg-green-300",yellow:"bg-yellow-100 text-yellow-500 hover:bg-yellow-200 focus:ring-yellow-400 dark:bg-yellow-200 dark:text-yellow-600 dark:hover:bg-yellow-300",blue:"bg-blue-100 text-blue-500 hover:bg-blue-200 focus:ring-blue-400 dark:bg-blue-200 dark:text-blue-600 dark:hover:bg-blue-300",cyan:"bg-cyan-100 text-cyan-500 hover:bg-cyan-200 focus:ring-cyan-400 dark:bg-cyan-200 dark:text-cyan-600 dark:hover:bg-cyan-300",pink:"bg-pink-100 text-pink-500 hover:bg-pink-200 focus:ring-pink-400 dark:bg-pink-200 dark:text-pink-600 dark:hover:bg-pink-300",lime:"bg-lime-100 text-lime-500 hover:bg-lime-200 focus:ring-lime-400 dark:bg-lime-200 dark:text-lime-600 dark:hover:bg-lime-300",dark:"bg-gray-100 text-gray-500 hover:bg-gray-200 focus:ring-gray-400 dark:bg-gray-200 dark:text-gray-600 dark:hover:bg-gray-300",indigo:"bg-indigo-100 text-indigo-500 hover:bg-indigo-200 focus:ring-indigo-400 dark:bg-indigo-200 dark:text-indigo-600 dark:hover:bg-indigo-300",purple:"bg-purple-100 text-purple-500 hover:bg-purple-200 focus:ring-purple-400 dark:bg-purple-200 dark:text-purple-600 dark:hover:bg-purple-300",teal:"bg-teal-100 text-teal-500 hover:bg-teal-200 focus:ring-teal-400 dark:bg-teal-200 dark:text-teal-600 dark:hover:bg-teal-300",light:"bg-gray-50 text-gray-500 hover:bg-gray-100 focus:ring-gray-200 dark:bg-gray-600 dark:text-gray-200 dark:hover:bg-gray-700 dark:hover:text-white"}},color:{info:"border-cyan-500 bg-cyan-100 text-cyan-700 dark:bg-cyan-200 dark:text-cyan-800",gray:"border-gray-500 bg-gray-100 text-gray-700 dark:bg-gray-700 dark:text-gray-300",failure:"border-red-500 bg-red-100 text-red-700 dark:bg-red-200 dark:text-red-800",success:"border-green-500 bg-green-100 text-green-700 dark:bg-green-200 dark:text-green-800",warning:"border-yellow-500 bg-yellow-100 text-yellow-700 dark:bg-yellow-200 dark:text-yellow-800",red:"border-red-500 bg-red-100 text-red-700 dark:bg-red-200 dark:text-red-800",green:"border-green-500 bg-green-100 text-green-700 dark:bg-green-200 dark:text-green-800",yellow:"border-yellow-500 bg-yellow-100 text-yellow-700 dark:bg-yellow-200 dark:text-yellow-800",blue:"border-blue-500 bg-blue-100 text-blue-700 dark:bg-blue-200 dark:text-blue-800",cyan:"border-cyan-500 bg-cyan-100 text-cyan-700 dark:bg-cyan-200 dark:text-cyan-800",pink:"border-pink-500 bg-pink-100 text-pink-700 dark:bg-pink-200 dark:text-pink-800",lime:"border-lime-500 bg-lime-100 text-lime-700 dark:bg-lime-200 dark:text-lime-800",dark:"border-gray-600 bg-gray-800 text-gray-200 dark:bg-gray-900 dark:text-gray-300",indigo:"border-indigo-500 bg-indigo-100 text-indigo-700 dark:bg-indigo-200 dark:text-indigo-800",purple:"border-purple-500 bg-purple-100 text-purple-700 dark:bg-purple-200 dark:text-purple-800",teal:"border-teal-500 bg-teal-100 text-teal-700 dark:bg-teal-200 dark:text-teal-800",light:"border-gray-400 bg-gray-50 text-gray-600 dark:bg-gray-500 dark:text-gray-200"},icon:"mr-3 inline h-5 w-5 shrink-0",rounded:"rounded-lg",wrapper:"flex items-center"},Cf=Z.forwardRef((e,t)=>{const r=Zt(),n=Yt([SS,r.theme?.alert,e.theme],[Qe(r.clearTheme,"alert"),e.clearTheme],[Qe(r.applyTheme,"alert"),e.applyTheme]),{additionalContent:i,children:o,className:s,color:a="info",icon:l,onDismiss:u,rounded:c=!0,withBorderAccent:f,...d}=Jt(e,r.props?.alert);return U.jsxs("div",{ref:t,className:Rt(n.base,n.color[a],c&&n.rounded,f&&n.borderAccent,s),role:"alert",...d,children:[U.jsxs("div",{className:n.wrapper,"data-testid":"flowbite-alert-wrapper",children:[l&&U.jsx(l,{className:n.icon,"data-testid":"flowbite-alert-icon"}),U.jsx("div",{children:o}),typeof u=="function"&&U.jsx("button",{"aria-label":"Dismiss",className:Rt(n.closeButton.base,n.closeButton.color[a]),onClick:u,type:"button",children:U.jsx(My,{"aria-hidden":!0,className:n.closeButton.icon})})]}),i&&U.jsx("div",{children:i})]})});Cf.displayName="Alert";const xS={root:{base:"flex h-fit items-center gap-1 font-semibold",color:{info:"bg-cyan-100 text-cyan-800 hover:bg-cyan-200 dark:bg-cyan-200 dark:text-cyan-800 dark:hover:bg-cyan-300",gray:"bg-gray-100 text-gray-800 hover:bg-gray-200 dark:bg-gray-700 dark:text-gray-300 dark:hover:bg-gray-600",failure:"bg-red-100 text-red-800 hover:bg-red-200 dark:bg-red-200 dark:text-red-900 dark:hover:bg-red-300",success:"bg-green-100 text-green-800 hover:bg-green-200 dark:bg-green-200 dark:text-green-900 dark:hover:bg-green-300",warning:"bg-yellow-100 text-yellow-800 hover:bg-yellow-200 dark:bg-yellow-200 dark:text-yellow-900 dark:hover:bg-yellow-300",indigo:"bg-indigo-100 text-indigo-800 hover:bg-indigo-200 dark:bg-indigo-200 dark:text-indigo-900 dark:hover:bg-indigo-300",purple:"bg-purple-100 text-purple-800 hover:bg-purple-200 dark:bg-purple-200 dark:text-purple-900 dark:hover:bg-purple-300",pink:"bg-pink-100 text-pink-800 hover:bg-pink-200 dark:bg-pink-200 dark:text-pink-900 dark:hover:bg-pink-300",blue:"bg-blue-100 text-blue-800 hover:bg-blue-200 dark:bg-blue-200 dark:text-blue-900 dark:hover:bg-blue-300",cyan:"bg-cyan-100 text-cyan-800 hover:bg-cyan-200 dark:bg-cyan-200 dark:text-cyan-900 dark:hover:bg-cyan-300",dark:"bg-gray-600 text-gray-100 hover:bg-gray-500 dark:bg-gray-900 dark:text-gray-200 dark:hover:bg-gray-700",light:"bg-gray-200 text-gray-800 hover:bg-gray-300 dark:bg-gray-400 dark:text-gray-900 dark:hover:bg-gray-500",green:"bg-green-100 text-green-800 hover:bg-green-200 dark:bg-green-200 dark:text-green-900 dark:hover:bg-green-300",lime:"bg-lime-100 text-lime-800 hover:bg-lime-200 dark:bg-lime-200 dark:text-lime-900 dark:hover:bg-lime-300",red:"bg-red-100 text-red-800 hover:bg-red-200 dark:bg-red-200 dark:text-red-900 dark:hover:bg-red-300",teal:"bg-teal-100 text-teal-800 hover:bg-teal-200 dark:bg-teal-200 dark:text-teal-900 dark:hover:bg-teal-300",yellow:"bg-yellow-100 text-yellow-800 hover:bg-yellow-200 dark:bg-yellow-200 dark:text-yellow-900 dark:hover:bg-yellow-300"},size:{xs:"p-1 text-xs",sm:"p-1.5 text-sm"}},icon:{off:"rounded px-2 py-0.5",on:"rounded-full p-1.5",size:{xs:"h-3 w-3",sm:"h-3.5 w-3.5"}}},Py=Z.forwardRef((e,t)=>{const r=Zt(),n=Yt([xS,r.theme?.badge,e.theme],[Qe(r.clearTheme,"badge"),e.clearTheme],[Qe(r.applyTheme,"badge"),e.applyTheme]),{children:i,color:o="info",icon:s,size:a="xs",className:l,...u}=Jt(e,r.props?.badge);return U.jsxs("span",{ref:t,className:Rt(n.root.base,n.root.color[o],n.root.size[a],n.icon[s?"on":"off"],l),"data-testid":"flowbite-badge",...u,children:[s&&U.jsx(s,{"aria-hidden":!0,className:n.icon.size[a],"data-testid":"flowbite-badge-icon"}),i&&U.jsx("span",{children:i})]})});Py.displayName="Badge";const Iy=Z.forwardRef(({children:e,as:t,href:r,type:n="button",...i},o)=>{const s=t||(r?"a":"button");return Z.createElement(s,{ref:o,href:r,type:n,...i},e)});Iy.displayName="ButtonBase";const kS=Z.createContext(void 0);function ES(){return Z.useContext(kS)}const RS={base:"relative flex items-center justify-center rounded-lg text-center font-medium focus:outline-none focus:ring-4",disabled:"pointer-events-none opacity-50",fullSized:"w-full",grouped:"rounded-none border-l-0 first:rounded-s-lg first:border-l last:rounded-e-lg focus:ring-2",pill:"rounded-full",size:{xs:"h-8 px-3 text-xs",sm:"h-9 px-3 text-sm",md:"h-10 px-5 text-sm",lg:"h-12 px-5 text-base",xl:"h-[52px] px-6 text-base"},color:{default:"bg-primary-700 text-white hover:bg-primary-800 focus:ring-primary-300 dark:bg-primary-600 dark:hover:bg-primary-700 dark:focus:ring-primary-800",alternative:"border border-gray-200 bg-white text-gray-900 hover:bg-gray-100 hover:text-primary-700 focus:ring-gray-100 dark:border-gray-600 dark:bg-gray-800 dark:text-gray-400 dark:hover:bg-gray-700 dark:hover:text-white dark:focus:ring-gray-700",blue:"bg-blue-700 text-white hover:bg-blue-800 focus:ring-blue-300 dark:bg-blue-600 dark:hover:bg-blue-700 dark:focus:ring-blue-800",cyan:"bg-cyan-700 text-white hover:bg-cyan-800 focus:ring-cyan-300 dark:bg-cyan-600 dark:hover:bg-cyan-700 dark:focus:ring-cyan-800",dark:"bg-gray-800 text-white hover:bg-gray-900 focus:ring-gray-300 dark:bg-gray-800 dark:hover:bg-gray-700 dark:focus:ring-gray-700",gray:"bg-gray-700 text-white hover:bg-gray-800 focus:ring-gray-300 dark:bg-gray-600 dark:hover:bg-gray-700 dark:focus:ring-gray-800",green:"bg-green-700 text-white hover:bg-green-800 focus:ring-green-300 dark:bg-green-600 dark:hover:bg-green-700 dark:focus:ring-green-800",indigo:"bg-indigo-700 text-white hover:bg-indigo-800 focus:ring-indigo-300 dark:bg-indigo-600 dark:hover:bg-indigo-700 dark:focus:ring-indigo-800",light:"border border-gray-300 bg-white text-gray-900 hover:bg-gray-100 focus:ring-gray-100 dark:border-gray-600 dark:bg-gray-800 dark:text-white dark:hover:border-gray-600 dark:hover:bg-gray-700 dark:focus:ring-gray-700",lime:"bg-lime-700 text-white hover:bg-lime-800 focus:ring-lime-300 dark:bg-lime-600 dark:hover:bg-lime-700 dark:focus:ring-lime-800",pink:"bg-pink-700 text-white hover:bg-pink-800 focus:ring-pink-300 dark:bg-pink-600 dark:hover:bg-pink-700 dark:focus:ring-pink-800",purple:"bg-purple-700 text-white hover:bg-purple-800 focus:ring-purple-300 dark:bg-purple-600 dark:hover:bg-purple-700 dark:focus:ring-purple-800",red:"bg-red-700 text-white hover:bg-red-800 focus:ring-red-300 dark:bg-red-600 dark:hover:bg-red-700 dark:focus:ring-red-800",teal:"bg-teal-700 text-white hover:bg-teal-800 focus:ring-teal-300 dark:bg-teal-600 dark:hover:bg-teal-700 dark:focus:ring-teal-800",yellow:"bg-yellow-400 text-white hover:bg-yellow-500 focus:ring-yellow-300 dark:bg-yellow-600 dark:hover:bg-yellow-400 dark:focus:ring-yellow-900"},outlineColor:{default:"border border-primary-700 text-primary-700 hover:border-primary-800 hover:bg-primary-800 hover:text-white focus:ring-primary-300 dark:border-primary-600 dark:text-primary-500 dark:hover:border-primary-700 dark:hover:bg-primary-700 dark:hover:text-white dark:focus:ring-primary-800",blue:"border border-blue-700 text-blue-700 hover:border-blue-800 hover:bg-blue-800 hover:text-white focus:ring-blue-300 dark:border-blue-500 dark:text-blue-500 dark:hover:border-blue-700 dark:hover:bg-blue-700 dark:hover:text-white dark:focus:ring-blue-800",cyan:"border border-cyan-700 text-cyan-700 hover:border-cyan-800 hover:bg-cyan-800 hover:text-white focus:ring-cyan-300 dark:border-cyan-500 dark:text-cyan-500 dark:hover:border-cyan-700 dark:hover:bg-cyan-700 dark:hover:text-white dark:focus:ring-cyan-800",dark:"border border-gray-800 text-gray-800 hover:border-gray-900 hover:bg-gray-900 hover:text-white focus:ring-gray-300 dark:border-gray-600 dark:text-gray-400 dark:hover:bg-gray-600 dark:hover:text-white dark:focus:ring-gray-800",gray:"border border-gray-700 text-gray-700 hover:border-gray-800 hover:bg-gray-800 hover:text-white focus:ring-gray-300 dark:border-gray-600 dark:text-gray-400 dark:hover:border-gray-700 dark:hover:bg-gray-700 dark:hover:text-white dark:focus:ring-gray-800",green:"border border-green-700 text-green-700 hover:border-green-800 hover:bg-green-800 hover:text-white focus:ring-green-300 dark:border-green-600 dark:text-green-500 dark:hover:border-green-700 dark:hover:bg-green-700 dark:hover:text-white dark:focus:ring-green-800",indigo:"border border-indigo-700 text-indigo-700 hover:border-indigo-800 hover:bg-indigo-800 hover:text-white focus:ring-indigo-300 dark:border-indigo-600 dark:text-indigo-400 dark:hover:border-indigo-700 dark:hover:bg-indigo-700 dark:hover:text-white dark:focus:ring-indigo-800",lime:"border border-lime-700 text-lime-700 hover:border-lime-800 hover:bg-lime-800 hover:text-white focus:ring-lime-300 dark:border-lime-600 dark:text-lime-500 dark:hover:border-lime-700 dark:hover:bg-lime-700 dark:hover:text-white dark:focus:ring-lime-800",pink:"border border-pink-700 text-pink-700 hover:border-pink-800 hover:bg-pink-800 hover:text-white focus:ring-pink-300 dark:border-pink-600 dark:text-pink-500 dark:hover:border-pink-700 dark:hover:bg-pink-700 dark:hover:text-white dark:focus:ring-pink-800",purple:"border border-purple-700 text-purple-700 hover:border-purple-800 hover:bg-purple-800 hover:text-white focus:ring-purple-300 dark:border-purple-600 dark:text-purple-400 dark:hover:border-purple-700 dark:hover:bg-purple-700 dark:hover:text-white dark:focus:ring-purple-800",red:"border border-red-700 text-red-700 hover:border-red-800 hover:bg-red-800 hover:text-white focus:ring-red-300 dark:border-red-600 dark:text-red-500 dark:hover:border-red-700 dark:hover:bg-red-700 dark:hover:text-white dark:focus:ring-red-800",teal:"border border-teal-700 text-teal-700 hover:border-teal-800 hover:bg-teal-800 hover:text-white focus:ring-teal-300 dark:border-teal-600 dark:text-teal-400 dark:hover:border-teal-700 dark:hover:bg-teal-700 dark:hover:text-white dark:focus:ring-teal-800",yellow:"border border-yellow-400 text-yellow-400 hover:border-yellow-500 hover:bg-yellow-500 hover:text-white focus:ring-yellow-300 dark:border-yellow-300 dark:text-yellow-300 dark:hover:border-yellow-400 dark:hover:bg-yellow-400 dark:hover:text-white dark:focus:ring-yellow-900"}},pt=Z.forwardRef((e,t)=>{const r=Zt(),n=Yt([RS,r.theme?.button,e.theme],[Qe(r.clearTheme,"button"),e.clearTheme],[Qe(r.applyTheme,"button"),e.applyTheme]),{children:i,className:o,color:s="default",disabled:a,fullSized:l,outline:u,pill:c,size:f="md",...d}=Jt(e,r.props?.button),h=ES(),g=h?.outline??u,m=h?.pill??c;return U.jsx(Iy,{ref:t,disabled:a,className:Rt(n.base,n.size[f],m&&n.pill,a&&n.disabled,l&&n.fullSized,g?n.outlineColor[s]:n.color[s],h&&n.grouped,o),...d,children:i})});pt.displayName="Button";const _S={root:{base:"flex rounded-lg border border-gray-200 bg-white shadow-md dark:border-gray-700 dark:bg-gray-800",children:"flex h-full flex-col justify-center gap-4 p-6",horizontal:{off:"flex-col",on:"flex-col md:max-w-xl md:flex-row"},href:"hover:bg-gray-100 dark:hover:bg-gray-700"},img:{base:"",horizontal:{off:"rounded-t-lg",on:"h-96 w-full rounded-t-lg object-cover md:h-auto md:w-48 md:rounded-none md:rounded-l-lg"}}},Yo=Z.forwardRef((e,t)=>{const r=Zt(),n=Yt([_S,r.theme?.card,e.theme],[Qe(r.clearTheme,"card"),e.clearTheme],[Qe(r.applyTheme,"card"),e.applyTheme]),{children:i,className:o,horizontal:s,href:a,imgAlt:l,imgSrc:u,renderImage:c,...f}=Jt(e,r.props?.card),d=typeof a>"u"?"div":"a";return U.jsxs(d,{ref:t,"data-testid":"flowbite-card",href:a,className:Rt(n.root.base,n.root.horizontal[s?"on":"off"],a&&n.root.href,o),...f,children:[c?.(n,!!s)??(u&&U.jsx("img",{"data-testid":"flowbite-card-image",alt:l??"",src:u,className:Rt(n.img.base,n.img.horizontal[e.horizontal?"on":"off"])})),U.jsx("div",{className:n.root.children,children:i})]})});Yo.displayName="Card";const AS={base:"h-4 w-4 appearance-none rounded border border-gray-300 bg-gray-100 bg-[length:0.55em_0.55em] bg-center bg-no-repeat checked:border-transparent checked:bg-current checked:bg-check-icon focus:outline-none focus:ring-2 focus:ring-offset-2 dark:border-gray-600 dark:bg-gray-700 dark:checked:border-transparent dark:checked:bg-current",color:{default:"text-primary-600 focus:ring-primary-600 dark:ring-offset-gray-800 dark:focus:ring-primary-600",dark:"text-gray-800 focus:ring-gray-800 dark:ring-offset-gray-800 dark:focus:ring-gray-800",failure:"text-red-900 focus:ring-red-900 dark:ring-offset-red-900 dark:focus:ring-red-900",gray:"text-gray-900 focus:ring-gray-900 dark:ring-offset-gray-900 dark:focus:ring-gray-900",info:"text-cyan-800 focus:ring-cyan-800 dark:ring-offset-gray-800 dark:focus:ring-cyan-800",light:"text-gray-900 focus:ring-gray-900 dark:ring-offset-gray-900 dark:focus:ring-gray-900",purple:"text-purple-600 focus:ring-purple-600 dark:ring-offset-purple-600 dark:focus:ring-purple-600",success:"text-green-800 focus:ring-green-800 dark:ring-offset-green-800 dark:focus:ring-green-800",warning:"text-yellow-400 focus:ring-yellow-400 dark:ring-offset-yellow-400 dark:focus:ring-yellow-400",blue:"text-blue-700 focus:ring-blue-600 dark:ring-offset-blue-700 dark:focus:ring-blue-700",cyan:"text-cyan-600 focus:ring-cyan-600 dark:ring-offset-cyan-600 dark:focus:ring-cyan-600",green:"text-green-600 focus:ring-green-600 dark:ring-offset-green-600 dark:focus:ring-green-600",indigo:"text-indigo-700 focus:ring-indigo-700 dark:ring-offset-indigo-700 dark:focus:ring-indigo-700",lime:"text-lime-700 focus:ring-lime-700 dark:ring-offset-lime-700 dark:focus:ring-lime-700",pink:"text-pink-600 focus:ring-pink-600 dark:ring-offset-pink-600 dark:focus:ring-pink-600",red:"text-red-600 focus:ring-red-600 dark:ring-offset-red-600 dark:focus:ring-red-600",teal:"text-teal-600 focus:ring-teal-600 dark:ring-offset-teal-600 dark:focus:ring-teal-600",yellow:"text-yellow-400 focus:ring-yellow-400 dark:ring-offset-yellow-400 dark:focus:ring-yellow-400"},indeterminate:"border-transparent bg-current bg-dash-icon dark:border-transparent dark:bg-current"},By=Z.forwardRef((e,t)=>{const r=Zt(),n=Yt([AS,r.theme?.checkbox,e.theme],[Qe(r.clearTheme,"checkbox"),e.clearTheme],[Qe(r.applyTheme,"checkbox"),e.applyTheme]),{className:i,color:o="default",indeterminate:s,...a}=Jt(e,r.props?.checkbox);return U.jsx("input",{ref:t,type:"checkbox",className:Rt(n.base,n.color[o],s&&n.indeterminate,i),...a})});By.displayName="Checkbox";function vc(){return typeof window<"u"}function Pi(e){return Ff(e)?(e.nodeName||"").toLowerCase():"#document"}function Hr(e){var t;return(e==null||(t=e.ownerDocument)==null?void 0:t.defaultView)||window}function Pn(e){var t;return(t=(Ff(e)?e.ownerDocument:e.document)||window.document)==null?void 0:t.documentElement}function Ff(e){return vc()?e instanceof Node||e instanceof Hr(e).Node:!1}function zt(e){return vc()?e instanceof Element||e instanceof Hr(e).Element:!1}function or(e){return vc()?e instanceof HTMLElement||e instanceof Hr(e).HTMLElement:!1}function xu(e){return!vc()||typeof ShadowRoot>"u"?!1:e instanceof ShadowRoot||e instanceof Hr(e).ShadowRoot}const TS=new Set(["inline","contents"]);function Ea(e){const{overflow:t,overflowX:r,overflowY:n,display:i}=an(e);return/auto|scroll|overlay|hidden|clip/.test(t+n+r)&&!TS.has(i)}const DS=new Set(["table","td","th"]);function MS(e){return DS.has(Pi(e))}const PS=[":popover-open",":modal"];function wc(e){return PS.some(t=>{try{return e.matches(t)}catch{return!1}})}const IS=["transform","translate","scale","rotate","perspective"],BS=["transform","translate","scale","rotate","perspective","filter"],LS=["paint","layout","strict","content"];function Sf(e){const t=Cc(),r=zt(e)?an(e):e;return IS.some(n=>r[n]?r[n]!=="none":!1)||(r.containerType?r.containerType!=="normal":!1)||!t&&(r.backdropFilter?r.backdropFilter!=="none":!1)||!t&&(r.filter?r.filter!=="none":!1)||BS.some(n=>(r.willChange||"").includes(n))||LS.some(n=>(r.contain||"").includes(n))}function NS(e){let t=ei(e);for(;or(t)&&!qn(t);){if(Sf(t))return t;if(wc(t))return null;t=ei(t)}return null}function Cc(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const OS=new Set(["html","body","#document"]);function qn(e){return OS.has(Pi(e))}function an(e){return Hr(e).getComputedStyle(e)}function Fc(e){return zt(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function ei(e){if(Pi(e)==="html")return e;const t=e.assignedSlot||e.parentNode||xu(e)&&e.host||Pn(e);return xu(t)?t.host:t}function Ly(e){const t=ei(e);return qn(t)?e.ownerDocument?e.ownerDocument.body:e.body:or(t)&&Ea(t)?t:Ly(t)}function ki(e,t,r){var n;t===void 0&&(t=[]),r===void 0&&(r=!0);const i=Ly(e),o=i===((n=e.ownerDocument)==null?void 0:n.body),s=Hr(i);if(o){const a=wh(s);return t.concat(s,s.visualViewport||[],Ea(i)?i:[],a&&r?ki(a):[])}return t.concat(i,ki(i,[],r))}function wh(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}const HS=["top","right","bottom","left"],ng=["start","end"],ig=HS.reduce((e,t)=>e.concat(t,t+"-"+ng[0],t+"-"+ng[1]),[]),fs=Math.min,ro=Math.max,ku=Math.round,tl=Math.floor,En=e=>({x:e,y:e}),GS={left:"right",right:"left",bottom:"top",top:"bottom"},jS={start:"end",end:"start"};function Ch(e,t,r){return ro(e,fs(t,r))}function ks(e,t){return typeof e=="function"?e(t):e}function ti(e){return e.split("-")[0]}function Rn(e){return e.split("-")[1]}function Ny(e){return e==="x"?"y":"x"}function xf(e){return e==="y"?"height":"width"}const zS=new Set(["top","bottom"]);function wi(e){return zS.has(ti(e))?"y":"x"}function kf(e){return Ny(wi(e))}function Oy(e,t,r){r===void 0&&(r=!1);const n=Rn(e),i=kf(e),o=xf(i);let s=i==="x"?n===(r?"end":"start")?"right":"left":n==="start"?"bottom":"top";return t.reference[o]>t.floating[o]&&(s=Ru(s)),[s,Ru(s)]}function VS(e){const t=Ru(e);return[Eu(e),t,Eu(t)]}function Eu(e){return e.replace(/start|end/g,t=>jS[t])}const og=["left","right"],sg=["right","left"],WS=["top","bottom"],$S=["bottom","top"];function US(e,t,r){switch(e){case"top":case"bottom":return r?t?sg:og:t?og:sg;case"left":case"right":return t?WS:$S;default:return[]}}function KS(e,t,r,n){const i=Rn(e);let o=US(ti(e),r==="start",n);return i&&(o=o.map(s=>s+"-"+i),t&&(o=o.concat(o.map(Eu)))),o}function Ru(e){return e.replace(/left|right|bottom|top/g,t=>GS[t])}function qS(e){return{top:0,right:0,bottom:0,left:0,...e}}function Hy(e){return typeof e!="number"?qS(e):{top:e,right:e,bottom:e,left:e}}function _u(e){const{x:t,y:r,width:n,height:i}=e;return{width:n,height:i,top:r,left:t,right:t+n,bottom:r+i,x:t,y:r}}/*!
* tabbable 6.3.0
* @license MIT, https://github.com/focus-trap/tabbable/blob/master/LICENSE
*/var JS=["input:not([inert])","select:not([inert])","textarea:not([inert])","a[href]:not([inert])","button:not([inert])","[tabindex]:not(slot):not([inert])","audio[controls]:not([inert])","video[controls]:not([inert])",'[contenteditable]:not([contenteditable="false"]):not([inert])',"details>summary:first-of-type:not([inert])","details:not([inert])"],Au=JS.join(","),Gy=typeof Element>"u",ps=Gy?function(){}:Element.prototype.matches||Element.prototype.msMatchesSelector||Element.prototype.webkitMatchesSelector,Tu=!Gy&&Element.prototype.getRootNode?function(e){var t;return e==null||(t=e.getRootNode)===null||t===void 0?void 0:t.call(e)}:function(e){return e?.ownerDocument},la=function(t,r){var n;r===void 0&&(r=!0);var i=t==null||(n=t.getAttribute)===null||n===void 0?void 0:n.call(t,"inert"),o=i===""||i==="true",s=o||r&&t&&la(t.parentNode);return s},YS=function(t){var r,n=t==null||(r=t.getAttribute)===null||r===void 0?void 0:r.call(t,"contenteditable");return n===""||n==="true"},jy=function(t,r,n){if(la(t))return[];var i=Array.prototype.slice.apply(t.querySelectorAll(Au));return r&&ps.call(t,Au)&&i.unshift(t),i=i.filter(n),i},Du=function(t,r,n){for(var i=[],o=Array.from(t);o.length;){var s=o.shift();if(!la(s,!1))if(s.tagName==="SLOT"){var a=s.assignedElements(),l=a.length?a:s.children,u=Du(l,!0,n);n.flatten?i.push.apply(i,u):i.push({scopeParent:s,candidates:u})}else{var c=ps.call(s,Au);c&&n.filter(s)&&(r||!t.includes(s))&&i.push(s);var f=s.shadowRoot||typeof n.getShadowRoot=="function"&&n.getShadowRoot(s),d=!la(f,!1)&&(!n.shadowRootFilter||n.shadowRootFilter(s));if(f&&d){var h=Du(f===!0?s.children:f.children,!0,n);n.flatten?i.push.apply(i,h):i.push({scopeParent:s,candidates:h})}else o.unshift.apply(o,s.children)}}return i},zy=function(t){return!isNaN(parseInt(t.getAttribute("tabindex"),10))},Vy=function(t){if(!t)throw new Error("No node provided");return t.tabIndex<0&&(/^(AUDIO|VIDEO|DETAILS)$/.test(t.tagName)||YS(t))&&!zy(t)?0:t.tabIndex},ZS=function(t,r){var n=Vy(t);return n<0&&r&&!zy(t)?0:n},XS=function(t,r){return t.tabIndex===r.tabIndex?t.documentOrder-r.documentOrder:t.tabIndex-r.tabIndex},Wy=function(t){return t.tagName==="INPUT"},QS=function(t){return Wy(t)&&t.type==="hidden"},ex=function(t){var r=t.tagName==="DETAILS"&&Array.prototype.slice.apply(t.children).some(function(n){return n.tagName==="SUMMARY"});return r},tx=function(t,r){for(var n=0;n<t.length;n++)if(t[n].checked&&t[n].form===r)return t[n]},rx=function(t){if(!t.name)return!0;var r=t.form||Tu(t),n=function(a){return r.querySelectorAll('input[type="radio"][name="'+a+'"]')},i;if(typeof window<"u"&&typeof window.CSS<"u"&&typeof window.CSS.escape=="function")i=n(window.CSS.escape(t.name));else try{i=n(t.name)}catch(s){return console.error("Looks like you have a radio button with a name attribute containing invalid CSS selector characters and need the CSS.escape polyfill: %s",s.message),!1}var o=tx(i,t.form);return!o||o===t},nx=function(t){return Wy(t)&&t.type==="radio"},ix=function(t){return nx(t)&&!rx(t)},ox=function(t){var r,n=t&&Tu(t),i=(r=n)===null||r===void 0?void 0:r.host,o=!1;if(n&&n!==t){var s,a,l;for(o=!!((s=i)!==null&&s!==void 0&&(a=s.ownerDocument)!==null&&a!==void 0&&a.contains(i)||t!=null&&(l=t.ownerDocument)!==null&&l!==void 0&&l.contains(t));!o&&i;){var u,c,f;n=Tu(i),i=(u=n)===null||u===void 0?void 0:u.host,o=!!((c=i)!==null&&c!==void 0&&(f=c.ownerDocument)!==null&&f!==void 0&&f.contains(i))}}return o},ag=function(t){var r=t.getBoundingClientRect(),n=r.width,i=r.height;return n===0&&i===0},sx=function(t,r){var n=r.displayCheck,i=r.getShadowRoot;if(n==="full-native"&&"checkVisibility"in t){var o=t.checkVisibility({checkOpacity:!1,opacityProperty:!1,contentVisibilityAuto:!0,visibilityProperty:!0,checkVisibilityCSS:!0});return!o}if(getComputedStyle(t).visibility==="hidden")return!0;var s=ps.call(t,"details>summary:first-of-type"),a=s?t.parentElement:t;if(ps.call(a,"details:not([open]) *"))return!0;if(!n||n==="full"||n==="full-native"||n==="legacy-full"){if(typeof i=="function"){for(var l=t;t;){var u=t.parentElement,c=Tu(t);if(u&&!u.shadowRoot&&i(u)===!0)return ag(t);t.assignedSlot?t=t.assignedSlot:!u&&c!==t.ownerDocument?t=c.host:t=u}t=l}if(ox(t))return!t.getClientRects().length;if(n!=="legacy-full")return!0}else if(n==="non-zero-area")return ag(t);return!1},ax=function(t){if(/^(INPUT|BUTTON|SELECT|TEXTAREA)$/.test(t.tagName))for(var r=t.parentElement;r;){if(r.tagName==="FIELDSET"&&r.disabled){for(var n=0;n<r.children.length;n++){var i=r.children.item(n);if(i.tagName==="LEGEND")return ps.call(r,"fieldset[disabled] *")?!0:!i.contains(t)}return!0}r=r.parentElement}return!1},Fh=function(t,r){return!(r.disabled||la(r)||QS(r)||sx(r,t)||ex(r)||ax(r))},Sh=function(t,r){return!(ix(r)||Vy(r)<0||!Fh(t,r))},lx=function(t){var r=parseInt(t.getAttribute("tabindex"),10);return!!(isNaN(r)||r>=0)},$y=function(t){var r=[],n=[];return t.forEach(function(i,o){var s=!!i.scopeParent,a=s?i.scopeParent:i,l=ZS(a,s),u=s?$y(i.candidates):a;l===0?s?r.push.apply(r,u):r.push(a):n.push({documentOrder:o,tabIndex:l,item:i,isScope:s,content:u})}),n.sort(XS).reduce(function(i,o){return o.isScope?i.push.apply(i,o.content):i.push(o.content),i},[]).concat(r)},Sc=function(t,r){r=r||{};var n;return r.getShadowRoot?n=Du([t],r.includeContainer,{filter:Sh.bind(null,r),flatten:!1,getShadowRoot:r.getShadowRoot,shadowRootFilter:lx}):n=jy(t,r.includeContainer,Sh.bind(null,r)),$y(n)},ux=function(t,r){r=r||{};var n;return r.getShadowRoot?n=Du([t],r.includeContainer,{filter:Fh.bind(null,r),flatten:!0,getShadowRoot:r.getShadowRoot}):n=jy(t,r.includeContainer,Fh.bind(null,r)),n},Uy=function(t,r){if(r=r||{},!t)throw new Error("No node provided");return ps.call(t,Au)===!1?!1:Sh(r,t)};function Ef(){const e=navigator.userAgentData;return e!=null&&e.platform?e.platform:navigator.platform}function Ky(){const e=navigator.userAgentData;return e&&Array.isArray(e.brands)?e.brands.map(t=>{let{brand:r,version:n}=t;return r+"/"+n}).join(" "):navigator.userAgent}function qy(){return/apple/i.test(navigator.vendor)}function xh(){const e=/android/i;return e.test(Ef())||e.test(Ky())}function cx(){return Ef().toLowerCase().startsWith("mac")&&!navigator.maxTouchPoints}function Jy(){return Ky().includes("jsdom/")}const lg="data-floating-ui-focusable",dx="input:not([type='hidden']):not([disabled]),[contenteditable]:not([contenteditable='false']),textarea:not([disabled])";function yi(e){let t=e.activeElement;for(;((r=t)==null||(r=r.shadowRoot)==null?void 0:r.activeElement)!=null;){var r;t=t.shadowRoot.activeElement}return t}function Cr(e,t){if(!e||!t)return!1;const r=t.getRootNode==null?void 0:t.getRootNode();if(e.contains(t))return!0;if(r&&xu(r)){let n=t;for(;n;){if(e===n)return!0;n=n.parentNode||n.host}}return!1}function $n(e){return"composedPath"in e?e.composedPath()[0]:e.target}function Qc(e,t){if(t==null)return!1;if("composedPath"in e)return e.composedPath().includes(t);const r=e;return r.target!=null&&t.contains(r.target)}function hx(e){return e.matches("html,body")}function Sr(e){return e?.ownerDocument||document}function Rf(e){return or(e)&&e.matches(dx)}function ug(e){return e?e.getAttribute("role")==="combobox"&&Rf(e):!1}function fx(e){if(!e||Jy())return!0;try{return e.matches(":focus-visible")}catch{return!0}}function kh(e){return e?e.hasAttribute(lg)?e:e.querySelector("["+lg+"]")||e:null}function Zo(e,t,r){return r===void 0&&(r=!0),e.filter(i=>{var o;return i.parentId===t&&(!r||((o=i.context)==null?void 0:o.open))}).flatMap(i=>[i,...Zo(e,i.id,r)])}function cg(e,t){var r;let n=[],i=(r=e.find(o=>o.id===t))==null?void 0:r.parentId;for(;i;){const o=e.find(s=>s.id===i);i=o?.parentId,o&&(n=n.concat(o))}return n}function ed(e){e.preventDefault(),e.stopPropagation()}function px(e){return"nativeEvent"in e}function gx(e){return e.mozInputSource===0&&e.isTrusted?!0:xh()&&e.pointerType?e.type==="click"&&e.buttons===1:e.detail===0&&!e.pointerType}function mx(e){return Jy()?!1:!xh()&&e.width===0&&e.height===0||xh()&&e.width===1&&e.height===1&&e.pressure===0&&e.detail===0&&e.pointerType==="mouse"||e.width<1&&e.height<1&&e.pressure===0&&e.detail===0&&e.pointerType==="touch"}function ua(e,t){const r=["mouse","pen"];return t||r.push("",void 0),r.includes(e)}var bx=typeof document<"u",yx=function(){},Tr=bx?Z.useLayoutEffect:yx;const vx={...uy};function Xi(e){const t=Z.useRef(e);return Tr(()=>{t.current=e}),t}const wx=vx.useInsertionEffect,Cx=wx||(e=>e());function Nr(e){const t=Z.useRef(()=>{});return Cx(()=>{t.current=e}),Z.useCallback(function(){for(var r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];return t.current==null?void 0:t.current(...n)},[])}const Ra=()=>({getShadowRoot:!0,displayCheck:typeof ResizeObserver=="function"&&ResizeObserver.toString().includes("[native code]")?"full":"none"});function Yy(e,t){const r=Sc(e,Ra()),n=r.length;if(n===0)return;const i=yi(Sr(e)),o=r.indexOf(i),s=o===-1?t===1?0:n-1:o+t;return r[s]}function Zy(e){return Yy(Sr(e).body,1)||e}function Xy(e){return Yy(Sr(e).body,-1)||e}function Zs(e,t){const r=t||e.currentTarget,n=e.relatedTarget;return!n||!Cr(r,n)}function Fx(e){Sc(e,Ra()).forEach(r=>{r.dataset.tabindex=r.getAttribute("tabindex")||"",r.setAttribute("tabindex","-1")})}function dg(e){e.querySelectorAll("[data-tabindex]").forEach(r=>{const n=r.dataset.tabindex;delete r.dataset.tabindex,n?r.setAttribute("tabindex",n):r.removeAttribute("tabindex")})}var _a=l2();const Sx=Fo(_a);function hg(e,t,r){let{reference:n,floating:i}=e;const o=wi(t),s=kf(t),a=xf(s),l=ti(t),u=o==="y",c=n.x+n.width/2-i.width/2,f=n.y+n.height/2-i.height/2,d=n[a]/2-i[a]/2;let h;switch(l){case"top":h={x:c,y:n.y-i.height};break;case"bottom":h={x:c,y:n.y+n.height};break;case"right":h={x:n.x+n.width,y:f};break;case"left":h={x:n.x-i.width,y:f};break;default:h={x:n.x,y:n.y}}switch(Rn(t)){case"start":h[s]-=d*(r&&u?-1:1);break;case"end":h[s]+=d*(r&&u?-1:1);break}return h}const xx=async(e,t,r)=>{const{placement:n="bottom",strategy:i="absolute",middleware:o=[],platform:s}=r,a=o.filter(Boolean),l=await(s.isRTL==null?void 0:s.isRTL(t));let u=await s.getElementRects({reference:e,floating:t,strategy:i}),{x:c,y:f}=hg(u,n,l),d=n,h={},g=0;for(let m=0;m<a.length;m++){const{name:p,fn:y}=a[m],{x:b,y:v,data:F,reset:E}=await y({x:c,y:f,initialPlacement:n,placement:d,strategy:i,middlewareData:h,rects:u,platform:s,elements:{reference:e,floating:t}});c=b??c,f=v??f,h={...h,[p]:{...h[p],...F}},E&&g<=50&&(g++,typeof E=="object"&&(E.placement&&(d=E.placement),E.rects&&(u=E.rects===!0?await s.getElementRects({reference:e,floating:t,strategy:i}):E.rects),{x:c,y:f}=hg(u,d,l)),m=-1)}return{x:c,y:f,placement:d,strategy:i,middlewareData:h}};async function _f(e,t){var r;t===void 0&&(t={});const{x:n,y:i,platform:o,rects:s,elements:a,strategy:l}=e,{boundary:u="clippingAncestors",rootBoundary:c="viewport",elementContext:f="floating",altBoundary:d=!1,padding:h=0}=ks(t,e),g=Hy(h),p=a[d?f==="floating"?"reference":"floating":f],y=_u(await o.getClippingRect({element:(r=await(o.isElement==null?void 0:o.isElement(p)))==null||r?p:p.contextElement||await(o.getDocumentElement==null?void 0:o.getDocumentElement(a.floating)),boundary:u,rootBoundary:c,strategy:l})),b=f==="floating"?{x:n,y:i,width:s.floating.width,height:s.floating.height}:s.reference,v=await(o.getOffsetParent==null?void 0:o.getOffsetParent(a.floating)),F=await(o.isElement==null?void 0:o.isElement(v))?await(o.getScale==null?void 0:o.getScale(v))||{x:1,y:1}:{x:1,y:1},E=_u(o.convertOffsetParentRelativeRectToViewportRelativeRect?await o.convertOffsetParentRelativeRectToViewportRelativeRect({elements:a,rect:b,offsetParent:v,strategy:l}):b);return{top:(y.top-E.top+g.top)/F.y,bottom:(E.bottom-y.bottom+g.bottom)/F.y,left:(y.left-E.left+g.left)/F.x,right:(E.right-y.right+g.right)/F.x}}const kx=e=>({name:"arrow",options:e,async fn(t){const{x:r,y:n,placement:i,rects:o,platform:s,elements:a,middlewareData:l}=t,{element:u,padding:c=0}=ks(e,t)||{};if(u==null)return{};const f=Hy(c),d={x:r,y:n},h=kf(i),g=xf(h),m=await s.getDimensions(u),p=h==="y",y=p?"top":"left",b=p?"bottom":"right",v=p?"clientHeight":"clientWidth",F=o.reference[g]+o.reference[h]-d[h]-o.floating[g],E=d[h]-o.reference[h],T=await(s.getOffsetParent==null?void 0:s.getOffsetParent(u));let I=T?T[v]:0;(!I||!await(s.isElement==null?void 0:s.isElement(T)))&&(I=a.floating[v]||o.floating[g]);const M=F/2-E/2,P=I/2-m[g]/2-1,O=fs(f[y],P),z=fs(f[b],P),L=O,_=I-m[g]-z,R=I/2-m[g]/2+M,k=Ch(L,R,_),S=!l.arrow&&Rn(i)!=null&&R!==k&&o.reference[g]/2-(R<L?O:z)-m[g]/2<0,w=S?R<L?R-L:R-_:0;return{[h]:d[h]+w,data:{[h]:k,centerOffset:R-k-w,...S&&{alignmentOffset:w}},reset:S}}});function Ex(e,t,r){return(e?[...r.filter(i=>Rn(i)===e),...r.filter(i=>Rn(i)!==e)]:r.filter(i=>ti(i)===i)).filter(i=>e?Rn(i)===e||(t?Eu(i)!==i:!1):!0)}const Rx=function(e){return e===void 0&&(e={}),{name:"autoPlacement",options:e,async fn(t){var r,n,i;const{rects:o,middlewareData:s,placement:a,platform:l,elements:u}=t,{crossAxis:c=!1,alignment:f,allowedPlacements:d=ig,autoAlignment:h=!0,...g}=ks(e,t),m=f!==void 0||d===ig?Ex(f||null,h,d):d,p=await _f(t,g),y=((r=s.autoPlacement)==null?void 0:r.index)||0,b=m[y];if(b==null)return{};const v=Oy(b,o,await(l.isRTL==null?void 0:l.isRTL(u.floating)));if(a!==b)return{reset:{placement:m[0]}};const F=[p[ti(b)],p[v[0]],p[v[1]]],E=[...((n=s.autoPlacement)==null?void 0:n.overflows)||[],{placement:b,overflows:F}],T=m[y+1];if(T)return{data:{index:y+1,overflows:E},reset:{placement:T}};const I=E.map(O=>{const z=Rn(O.placement);return[O.placement,z&&c?O.overflows.slice(0,2).reduce((L,_)=>L+_,0):O.overflows[0],O.overflows]}).sort((O,z)=>O[1]-z[1]),P=((i=I.filter(O=>O[2].slice(0,Rn(O[0])?2:3).every(z=>z<=0))[0])==null?void 0:i[0])||I[0][0];return P!==a?{data:{index:y+1,overflows:E},reset:{placement:P}}:{}}}},_x=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(t){var r,n;const{placement:i,middlewareData:o,rects:s,initialPlacement:a,platform:l,elements:u}=t,{mainAxis:c=!0,crossAxis:f=!0,fallbackPlacements:d,fallbackStrategy:h="bestFit",fallbackAxisSideDirection:g="none",flipAlignment:m=!0,...p}=ks(e,t);if((r=o.arrow)!=null&&r.alignmentOffset)return{};const y=ti(i),b=wi(a),v=ti(a)===a,F=await(l.isRTL==null?void 0:l.isRTL(u.floating)),E=d||(v||!m?[Ru(a)]:VS(a)),T=g!=="none";!d&&T&&E.push(...KS(a,m,g,F));const I=[a,...E],M=await _f(t,p),P=[];let O=((n=o.flip)==null?void 0:n.overflows)||[];if(c&&P.push(M[y]),f){const R=Oy(i,s,F);P.push(M[R[0]],M[R[1]])}if(O=[...O,{placement:i,overflows:P}],!P.every(R=>R<=0)){var z,L;const R=(((z=o.flip)==null?void 0:z.index)||0)+1,k=I[R];if(k&&(!(f==="alignment"?b!==wi(k):!1)||O.every(C=>wi(C.placement)===b?C.overflows[0]>0:!0)))return{data:{index:R,overflows:O},reset:{placement:k}};let S=(L=O.filter(w=>w.overflows[0]<=0).sort((w,C)=>w.overflows[1]-C.overflows[1])[0])==null?void 0:L.placement;if(!S)switch(h){case"bestFit":{var _;const w=(_=O.filter(C=>{if(T){const x=wi(C.placement);return x===b||x==="y"}return!0}).map(C=>[C.placement,C.overflows.filter(x=>x>0).reduce((x,A)=>x+A,0)]).sort((C,x)=>C[1]-x[1])[0])==null?void 0:_[0];w&&(S=w);break}case"initialPlacement":S=a;break}if(i!==S)return{reset:{placement:S}}}return{}}}},Ax=new Set(["left","top"]);async function Tx(e,t){const{placement:r,platform:n,elements:i}=e,o=await(n.isRTL==null?void 0:n.isRTL(i.floating)),s=ti(r),a=Rn(r),l=wi(r)==="y",u=Ax.has(s)?-1:1,c=o&&l?-1:1,f=ks(t,e);let{mainAxis:d,crossAxis:h,alignmentAxis:g}=typeof f=="number"?{mainAxis:f,crossAxis:0,alignmentAxis:null}:{mainAxis:f.mainAxis||0,crossAxis:f.crossAxis||0,alignmentAxis:f.alignmentAxis};return a&&typeof g=="number"&&(h=a==="end"?g*-1:g),l?{x:h*c,y:d*u}:{x:d*u,y:h*c}}const Dx=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(t){var r,n;const{x:i,y:o,placement:s,middlewareData:a}=t,l=await Tx(t,e);return s===((r=a.offset)==null?void 0:r.placement)&&(n=a.arrow)!=null&&n.alignmentOffset?{}:{x:i+l.x,y:o+l.y,data:{...l,placement:s}}}}},Mx=function(e){return e===void 0&&(e={}),{name:"shift",options:e,async fn(t){const{x:r,y:n,placement:i}=t,{mainAxis:o=!0,crossAxis:s=!1,limiter:a={fn:p=>{let{x:y,y:b}=p;return{x:y,y:b}}},...l}=ks(e,t),u={x:r,y:n},c=await _f(t,l),f=wi(ti(i)),d=Ny(f);let h=u[d],g=u[f];if(o){const p=d==="y"?"top":"left",y=d==="y"?"bottom":"right",b=h+c[p],v=h-c[y];h=Ch(b,h,v)}if(s){const p=f==="y"?"top":"left",y=f==="y"?"bottom":"right",b=g+c[p],v=g-c[y];g=Ch(b,g,v)}const m=a.fn({...t,[d]:h,[f]:g});return{...m,data:{x:m.x-r,y:m.y-n,enabled:{[d]:o,[f]:s}}}}}};function Qy(e){const t=an(e);let r=parseFloat(t.width)||0,n=parseFloat(t.height)||0;const i=or(e),o=i?e.offsetWidth:r,s=i?e.offsetHeight:n,a=ku(r)!==o||ku(n)!==s;return a&&(r=o,n=s),{width:r,height:n,$:a}}function Af(e){return zt(e)?e:e.contextElement}function Xo(e){const t=Af(e);if(!or(t))return En(1);const r=t.getBoundingClientRect(),{width:n,height:i,$:o}=Qy(t);let s=(o?ku(r.width):r.width)/n,a=(o?ku(r.height):r.height)/i;return(!s||!Number.isFinite(s))&&(s=1),(!a||!Number.isFinite(a))&&(a=1),{x:s,y:a}}const Px=En(0);function ev(e){const t=Hr(e);return!Cc()||!t.visualViewport?Px:{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}}function Ix(e,t,r){return t===void 0&&(t=!1),!r||t&&r!==Hr(e)?!1:t}function ho(e,t,r,n){t===void 0&&(t=!1),r===void 0&&(r=!1);const i=e.getBoundingClientRect(),o=Af(e);let s=En(1);t&&(n?zt(n)&&(s=Xo(n)):s=Xo(e));const a=Ix(o,r,n)?ev(o):En(0);let l=(i.left+a.x)/s.x,u=(i.top+a.y)/s.y,c=i.width/s.x,f=i.height/s.y;if(o){const d=Hr(o),h=n&&zt(n)?Hr(n):n;let g=d,m=wh(g);for(;m&&n&&h!==g;){const p=Xo(m),y=m.getBoundingClientRect(),b=an(m),v=y.left+(m.clientLeft+parseFloat(b.paddingLeft))*p.x,F=y.top+(m.clientTop+parseFloat(b.paddingTop))*p.y;l*=p.x,u*=p.y,c*=p.x,f*=p.y,l+=v,u+=F,g=Hr(m),m=wh(g)}}return _u({width:c,height:f,x:l,y:u})}function xc(e,t){const r=Fc(e).scrollLeft;return t?t.left+r:ho(Pn(e)).left+r}function tv(e,t){const r=e.getBoundingClientRect(),n=r.left+t.scrollLeft-xc(e,r),i=r.top+t.scrollTop;return{x:n,y:i}}function Bx(e){let{elements:t,rect:r,offsetParent:n,strategy:i}=e;const o=i==="fixed",s=Pn(n),a=t?wc(t.floating):!1;if(n===s||a&&o)return r;let l={scrollLeft:0,scrollTop:0},u=En(1);const c=En(0),f=or(n);if((f||!f&&!o)&&((Pi(n)!=="body"||Ea(s))&&(l=Fc(n)),or(n))){const h=ho(n);u=Xo(n),c.x=h.x+n.clientLeft,c.y=h.y+n.clientTop}const d=s&&!f&&!o?tv(s,l):En(0);return{width:r.width*u.x,height:r.height*u.y,x:r.x*u.x-l.scrollLeft*u.x+c.x+d.x,y:r.y*u.y-l.scrollTop*u.y+c.y+d.y}}function Lx(e){return Array.from(e.getClientRects())}function Nx(e){const t=Pn(e),r=Fc(e),n=e.ownerDocument.body,i=ro(t.scrollWidth,t.clientWidth,n.scrollWidth,n.clientWidth),o=ro(t.scrollHeight,t.clientHeight,n.scrollHeight,n.clientHeight);let s=-r.scrollLeft+xc(e);const a=-r.scrollTop;return an(n).direction==="rtl"&&(s+=ro(t.clientWidth,n.clientWidth)-i),{width:i,height:o,x:s,y:a}}const fg=25;function Ox(e,t){const r=Hr(e),n=Pn(e),i=r.visualViewport;let o=n.clientWidth,s=n.clientHeight,a=0,l=0;if(i){o=i.width,s=i.height;const c=Cc();(!c||c&&t==="fixed")&&(a=i.offsetLeft,l=i.offsetTop)}const u=xc(n);if(u<=0){const c=n.ownerDocument,f=c.body,d=getComputedStyle(f),h=c.compatMode==="CSS1Compat"&&parseFloat(d.marginLeft)+parseFloat(d.marginRight)||0,g=Math.abs(n.clientWidth-f.clientWidth-h);g<=fg&&(o-=g)}else u<=fg&&(o+=u);return{width:o,height:s,x:a,y:l}}const Hx=new Set(["absolute","fixed"]);function Gx(e,t){const r=ho(e,!0,t==="fixed"),n=r.top+e.clientTop,i=r.left+e.clientLeft,o=or(e)?Xo(e):En(1),s=e.clientWidth*o.x,a=e.clientHeight*o.y,l=i*o.x,u=n*o.y;return{width:s,height:a,x:l,y:u}}function pg(e,t,r){let n;if(t==="viewport")n=Ox(e,r);else if(t==="document")n=Nx(Pn(e));else if(zt(t))n=Gx(t,r);else{const i=ev(e);n={x:t.x-i.x,y:t.y-i.y,width:t.width,height:t.height}}return _u(n)}function rv(e,t){const r=ei(e);return r===t||!zt(r)||qn(r)?!1:an(r).position==="fixed"||rv(r,t)}function jx(e,t){const r=t.get(e);if(r)return r;let n=ki(e,[],!1).filter(a=>zt(a)&&Pi(a)!=="body"),i=null;const o=an(e).position==="fixed";let s=o?ei(e):e;for(;zt(s)&&!qn(s);){const a=an(s),l=Sf(s);!l&&a.position==="fixed"&&(i=null),(o?!l&&!i:!l&&a.position==="static"&&!!i&&Hx.has(i.position)||Ea(s)&&!l&&rv(e,s))?n=n.filter(c=>c!==s):i=a,s=ei(s)}return t.set(e,n),n}function zx(e){let{element:t,boundary:r,rootBoundary:n,strategy:i}=e;const s=[...r==="clippingAncestors"?wc(t)?[]:jx(t,this._c):[].concat(r),n],a=s[0],l=s.reduce((u,c)=>{const f=pg(t,c,i);return u.top=ro(f.top,u.top),u.right=fs(f.right,u.right),u.bottom=fs(f.bottom,u.bottom),u.left=ro(f.left,u.left),u},pg(t,a,i));return{width:l.right-l.left,height:l.bottom-l.top,x:l.left,y:l.top}}function Vx(e){const{width:t,height:r}=Qy(e);return{width:t,height:r}}function Wx(e,t,r){const n=or(t),i=Pn(t),o=r==="fixed",s=ho(e,!0,o,t);let a={scrollLeft:0,scrollTop:0};const l=En(0);function u(){l.x=xc(i)}if(n||!n&&!o)if((Pi(t)!=="body"||Ea(i))&&(a=Fc(t)),n){const h=ho(t,!0,o,t);l.x=h.x+t.clientLeft,l.y=h.y+t.clientTop}else i&&u();o&&!n&&i&&u();const c=i&&!n&&!o?tv(i,a):En(0),f=s.left+a.scrollLeft-l.x-c.x,d=s.top+a.scrollTop-l.y-c.y;return{x:f,y:d,width:s.width,height:s.height}}function td(e){return an(e).position==="static"}function gg(e,t){if(!or(e)||an(e).position==="fixed")return null;if(t)return t(e);let r=e.offsetParent;return Pn(e)===r&&(r=r.ownerDocument.body),r}function nv(e,t){const r=Hr(e);if(wc(e))return r;if(!or(e)){let i=ei(e);for(;i&&!qn(i);){if(zt(i)&&!td(i))return i;i=ei(i)}return r}let n=gg(e,t);for(;n&&MS(n)&&td(n);)n=gg(n,t);return n&&qn(n)&&td(n)&&!Sf(n)?r:n||NS(e)||r}const $x=async function(e){const t=this.getOffsetParent||nv,r=this.getDimensions,n=await r(e.floating);return{reference:Wx(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,width:n.width,height:n.height}}};function Ux(e){return an(e).direction==="rtl"}const Kx={convertOffsetParentRelativeRectToViewportRelativeRect:Bx,getDocumentElement:Pn,getClippingRect:zx,getOffsetParent:nv,getElementRects:$x,getClientRects:Lx,getDimensions:Vx,getScale:Xo,isElement:zt,isRTL:Ux};function iv(e,t){return e.x===t.x&&e.y===t.y&&e.width===t.width&&e.height===t.height}function qx(e,t){let r=null,n;const i=Pn(e);function o(){var a;clearTimeout(n),(a=r)==null||a.disconnect(),r=null}function s(a,l){a===void 0&&(a=!1),l===void 0&&(l=1),o();const u=e.getBoundingClientRect(),{left:c,top:f,width:d,height:h}=u;if(a||t(),!d||!h)return;const g=tl(f),m=tl(i.clientWidth-(c+d)),p=tl(i.clientHeight-(f+h)),y=tl(c),v={rootMargin:-g+"px "+-m+"px "+-p+"px "+-y+"px",threshold:ro(0,fs(1,l))||1};let F=!0;function E(T){const I=T[0].intersectionRatio;if(I!==l){if(!F)return s();I?s(!1,I):n=setTimeout(()=>{s(!1,1e-7)},1e3)}I===1&&!iv(u,e.getBoundingClientRect())&&s(),F=!1}try{r=new IntersectionObserver(E,{...v,root:i.ownerDocument})}catch{r=new IntersectionObserver(E,v)}r.observe(e)}return s(!0),o}function ov(e,t,r,n){n===void 0&&(n={});const{ancestorScroll:i=!0,ancestorResize:o=!0,elementResize:s=typeof ResizeObserver=="function",layoutShift:a=typeof IntersectionObserver=="function",animationFrame:l=!1}=n,u=Af(e),c=i||o?[...u?ki(u):[],...ki(t)]:[];c.forEach(y=>{i&&y.addEventListener("scroll",r,{passive:!0}),o&&y.addEventListener("resize",r)});const f=u&&a?qx(u,r):null;let d=-1,h=null;s&&(h=new ResizeObserver(y=>{let[b]=y;b&&b.target===u&&h&&(h.unobserve(t),cancelAnimationFrame(d),d=requestAnimationFrame(()=>{var v;(v=h)==null||v.observe(t)})),r()}),u&&!l&&h.observe(u),h.observe(t));let g,m=l?ho(e):null;l&&p();function p(){const y=ho(e);m&&!iv(m,y)&&r(),m=y,g=requestAnimationFrame(p)}return r(),()=>{var y;c.forEach(b=>{i&&b.removeEventListener("scroll",r),o&&b.removeEventListener("resize",r)}),f?.(),(y=h)==null||y.disconnect(),h=null,l&&cancelAnimationFrame(g)}}const Jx=Dx,Yx=Rx,Zx=Mx,Xx=_x,mg=kx,Qx=(e,t,r)=>{const n=new Map,i={platform:Kx,...r},o={...i.platform,_c:n};return xx(e,t,{...i,platform:o})};var ek=typeof document<"u",tk=function(){},su=ek?Z.useLayoutEffect:tk;function Mu(e,t){if(e===t)return!0;if(typeof e!=typeof t)return!1;if(typeof e=="function"&&e.toString()===t.toString())return!0;let r,n,i;if(e&&t&&typeof e=="object"){if(Array.isArray(e)){if(r=e.length,r!==t.length)return!1;for(n=r;n--!==0;)if(!Mu(e[n],t[n]))return!1;return!0}if(i=Object.keys(e),r=i.length,r!==Object.keys(t).length)return!1;for(n=r;n--!==0;)if(!{}.hasOwnProperty.call(t,i[n]))return!1;for(n=r;n--!==0;){const o=i[n];if(!(o==="_owner"&&e.$$typeof)&&!Mu(e[o],t[o]))return!1}return!0}return e!==e&&t!==t}function sv(e){return typeof window>"u"?1:(e.ownerDocument.defaultView||window).devicePixelRatio||1}function bg(e,t){const r=sv(e);return Math.round(t*r)/r}function rd(e){const t=Z.useRef(e);return su(()=>{t.current=e}),t}function rk(e){e===void 0&&(e={});const{placement:t="bottom",strategy:r="absolute",middleware:n=[],platform:i,elements:{reference:o,floating:s}={},transform:a=!0,whileElementsMounted:l,open:u}=e,[c,f]=Z.useState({x:0,y:0,strategy:r,placement:t,middlewareData:{},isPositioned:!1}),[d,h]=Z.useState(n);Mu(d,n)||h(n);const[g,m]=Z.useState(null),[p,y]=Z.useState(null),b=Z.useCallback(C=>{C!==T.current&&(T.current=C,m(C))},[]),v=Z.useCallback(C=>{C!==I.current&&(I.current=C,y(C))},[]),F=o||g,E=s||p,T=Z.useRef(null),I=Z.useRef(null),M=Z.useRef(c),P=l!=null,O=rd(l),z=rd(i),L=rd(u),_=Z.useCallback(()=>{if(!T.current||!I.current)return;const C={placement:t,strategy:r,middleware:d};z.current&&(C.platform=z.current),Qx(T.current,I.current,C).then(x=>{const A={...x,isPositioned:L.current!==!1};R.current&&!Mu(M.current,A)&&(M.current=A,_a.flushSync(()=>{f(A)}))})},[d,t,r,z,L]);su(()=>{u===!1&&M.current.isPositioned&&(M.current.isPositioned=!1,f(C=>({...C,isPositioned:!1})))},[u]);const R=Z.useRef(!1);su(()=>(R.current=!0,()=>{R.current=!1}),[]),su(()=>{if(F&&(T.current=F),E&&(I.current=E),F&&E){if(O.current)return O.current(F,E,_);_()}},[F,E,_,O,P]);const k=Z.useMemo(()=>({reference:T,floating:I,setReference:b,setFloating:v}),[b,v]),S=Z.useMemo(()=>({reference:F,floating:E}),[F,E]),w=Z.useMemo(()=>{const C={position:r,left:0,top:0};if(!S.floating)return C;const x=bg(S.floating,c.x),A=bg(S.floating,c.y);return a?{...C,transform:"translate("+x+"px, "+A+"px)",...sv(S.floating)>=1.5&&{willChange:"transform"}}:{position:r,left:x,top:A}},[r,a,S.floating,c.x,c.y]);return Z.useMemo(()=>({...c,update:_,refs:k,elements:S,floatingStyles:w}),[c,_,k,S,w])}const nk=e=>{function t(r){return{}.hasOwnProperty.call(r,"current")}return{name:"arrow",options:e,fn(r){const{element:n,padding:i}=typeof e=="function"?e(r):e;return n&&t(n)?n.current!=null?mg({element:n.current,padding:i}).fn(r):{}:n?mg({element:n,padding:i}).fn(r):{}}}},ik=(e,t)=>({...Jx(e),options:[e,t]}),ok=(e,t)=>({...Zx(e),options:[e,t]}),sk=(e,t)=>({...Xx(e),options:[e,t]}),ak=(e,t)=>({...Yx(e),options:[e,t]}),lk=(e,t)=>({...nk(e),options:[e,t]});function uk(e){const t=Z.useRef(void 0),r=Z.useCallback(n=>{const i=e.map(o=>{if(o!=null){if(typeof o=="function"){const s=o,a=s(n);return typeof a=="function"?a:()=>{s(null)}}return o.current=n,()=>{o.current=null}}});return()=>{i.forEach(o=>o?.())}},e);return Z.useMemo(()=>e.every(n=>n==null)?null:n=>{t.current&&(t.current(),t.current=void 0),n!=null&&(t.current=r(n))},e)}const ck="data-floating-ui-focusable",yg="active",vg="selected",dk={...uy};let wg=!1,hk=0;const Cg=()=>"floating-ui-"+Math.random().toString(36).slice(2,6)+hk++;function fk(){const[e,t]=Z.useState(()=>wg?Cg():void 0);return Tr(()=>{e==null&&t(Cg())},[]),Z.useEffect(()=>{wg=!0},[]),e}const pk=dk.useId,Tf=pk||fk;function gk(){const e=new Map;return{emit(t,r){var n;(n=e.get(t))==null||n.forEach(i=>i(r))},on(t,r){e.has(t)||e.set(t,new Set),e.get(t).add(r)},off(t,r){var n;(n=e.get(t))==null||n.delete(r)}}}const mk=Z.createContext(null),bk=Z.createContext(null),Df=()=>{var e;return((e=Z.useContext(mk))==null?void 0:e.id)||null},kc=()=>Z.useContext(bk);function fo(e){return"data-floating-ui-"+e}function Ar(e){e.current!==-1&&(clearTimeout(e.current),e.current=-1)}const Fg=fo("safe-polygon");function nd(e,t,r){if(r&&!ua(r))return 0;if(typeof e=="number")return e;if(typeof e=="function"){const n=e();return typeof n=="number"?n:n?.[t]}return e?.[t]}function id(e){return typeof e=="function"?e():e}function yk(e,t){t===void 0&&(t={});const{open:r,onOpenChange:n,dataRef:i,events:o,elements:s}=e,{enabled:a=!0,delay:l=0,handleClose:u=null,mouseOnly:c=!1,restMs:f=0,move:d=!0}=t,h=kc(),g=Df(),m=Xi(u),p=Xi(l),y=Xi(r),b=Xi(f),v=Z.useRef(),F=Z.useRef(-1),E=Z.useRef(),T=Z.useRef(-1),I=Z.useRef(!0),M=Z.useRef(!1),P=Z.useRef(()=>{}),O=Z.useRef(!1),z=Nr(()=>{var w;const C=(w=i.current.openEvent)==null?void 0:w.type;return C?.includes("mouse")&&C!=="mousedown"});Z.useEffect(()=>{if(!a)return;function w(C){let{open:x}=C;x||(Ar(F),Ar(T),I.current=!0,O.current=!1)}return o.on("openchange",w),()=>{o.off("openchange",w)}},[a,o]),Z.useEffect(()=>{if(!a||!m.current||!r)return;function w(x){z()&&n(!1,x,"hover")}const C=Sr(s.floating).documentElement;return C.addEventListener("mouseleave",w),()=>{C.removeEventListener("mouseleave",w)}},[s.floating,r,n,a,m,z]);const L=Z.useCallback(function(w,C,x){C===void 0&&(C=!0),x===void 0&&(x="hover");const A=nd(p.current,"close",v.current);A&&!E.current?(Ar(F),F.current=window.setTimeout(()=>n(!1,w,x),A)):C&&(Ar(F),n(!1,w,x))},[p,n]),_=Nr(()=>{P.current(),E.current=void 0}),R=Nr(()=>{if(M.current){const w=Sr(s.floating).body;w.style.pointerEvents="",w.removeAttribute(Fg),M.current=!1}}),k=Nr(()=>i.current.openEvent?["click","mousedown"].includes(i.current.openEvent.type):!1);Z.useEffect(()=>{if(!a)return;function w(B){if(Ar(F),I.current=!1,c&&!ua(v.current)||id(b.current)>0&&!nd(p.current,"open"))return;const V=nd(p.current,"open",v.current);V?F.current=window.setTimeout(()=>{y.current||n(!0,B,"hover")},V):r||n(!0,B,"hover")}function C(B){if(k()){R();return}P.current();const V=Sr(s.floating);if(Ar(T),O.current=!1,m.current&&i.current.floatingContext){r||Ar(F),E.current=m.current({...i.current.floatingContext,tree:h,x:B.clientX,y:B.clientY,onClose(){R(),_(),k()||L(B,!0,"safe-polygon")}});const K=E.current;V.addEventListener("mousemove",K),P.current=()=>{V.removeEventListener("mousemove",K)};return}(v.current==="touch"?!Cr(s.floating,B.relatedTarget):!0)&&L(B)}function x(B){k()||i.current.floatingContext&&(m.current==null||m.current({...i.current.floatingContext,tree:h,x:B.clientX,y:B.clientY,onClose(){R(),_(),k()||L(B)}})(B))}function A(){Ar(F)}function D(B){k()||L(B,!1)}if(zt(s.domReference)){const B=s.domReference,V=s.floating;return r&&B.addEventListener("mouseleave",x),d&&B.addEventListener("mousemove",w,{once:!0}),B.addEventListener("mouseenter",w),B.addEventListener("mouseleave",C),V&&(V.addEventListener("mouseleave",x),V.addEventListener("mouseenter",A),V.addEventListener("mouseleave",D)),()=>{r&&B.removeEventListener("mouseleave",x),d&&B.removeEventListener("mousemove",w),B.removeEventListener("mouseenter",w),B.removeEventListener("mouseleave",C),V&&(V.removeEventListener("mouseleave",x),V.removeEventListener("mouseenter",A),V.removeEventListener("mouseleave",D))}}},[s,a,e,c,d,L,_,R,n,r,y,h,p,m,i,k,b]),Tr(()=>{var w;if(a&&r&&(w=m.current)!=null&&(w=w.__options)!=null&&w.blockPointerEvents&&z()){M.current=!0;const x=s.floating;if(zt(s.domReference)&&x){var C;const A=Sr(s.floating).body;A.setAttribute(Fg,"");const D=s.domReference,B=h==null||(C=h.nodesRef.current.find(V=>V.id===g))==null||(C=C.context)==null?void 0:C.elements.floating;return B&&(B.style.pointerEvents=""),A.style.pointerEvents="none",D.style.pointerEvents="auto",x.style.pointerEvents="auto",()=>{A.style.pointerEvents="",D.style.pointerEvents="",x.style.pointerEvents=""}}}},[a,r,g,s,h,m,z]),Tr(()=>{r||(v.current=void 0,O.current=!1,_(),R())},[r,_,R]),Z.useEffect(()=>()=>{_(),Ar(F),Ar(T),R()},[a,s.domReference,_,R]);const S=Z.useMemo(()=>{function w(C){v.current=C.pointerType}return{onPointerDown:w,onPointerEnter:w,onMouseMove(C){const{nativeEvent:x}=C;function A(){!I.current&&!y.current&&n(!0,x,"hover")}c&&!ua(v.current)||r||id(b.current)===0||O.current&&C.movementX**2+C.movementY**2<2||(Ar(T),v.current==="touch"?A():(O.current=!0,T.current=window.setTimeout(A,id(b.current))))}}},[c,n,r,y,b]);return Z.useMemo(()=>a?{reference:S}:{},[a,S])}let Sg=0;function Lo(e,t){t===void 0&&(t={});const{preventScroll:r=!1,cancelPrevious:n=!0,sync:i=!1}=t;n&&cancelAnimationFrame(Sg);const o=()=>e?.focus({preventScroll:r});i?o():Sg=requestAnimationFrame(o)}function od(e,t){if(!e||!t)return!1;const r=t.getRootNode==null?void 0:t.getRootNode();if(e.contains(t))return!0;if(r&&xu(r)){let n=t;for(;n;){if(e===n)return!0;n=n.parentNode||n.host}}return!1}function vk(e){return"composedPath"in e?e.composedPath()[0]:e.target}function wk(e){return e?.ownerDocument||document}const Qo={inert:new WeakMap,"aria-hidden":new WeakMap,none:new WeakMap};function xg(e){return e==="inert"?Qo.inert:e==="aria-hidden"?Qo["aria-hidden"]:Qo.none}let rl=new WeakSet,nl={},sd=0;const Ck=()=>typeof HTMLElement<"u"&&"inert"in HTMLElement.prototype,av=e=>e&&(e.host||av(e.parentNode)),Fk=(e,t)=>t.map(r=>{if(e.contains(r))return r;const n=av(r);return e.contains(n)?n:null}).filter(r=>r!=null);function Sk(e,t,r,n){const i="data-floating-ui-inert",o=n?"inert":r?"aria-hidden":null,s=Fk(t,e),a=new Set,l=new Set(s),u=[];nl[i]||(nl[i]=new WeakMap);const c=nl[i];s.forEach(f),d(t),a.clear();function f(h){!h||a.has(h)||(a.add(h),h.parentNode&&f(h.parentNode))}function d(h){!h||l.has(h)||[].forEach.call(h.children,g=>{if(Pi(g)!=="script")if(a.has(g))d(g);else{const m=o?g.getAttribute(o):null,p=m!==null&&m!=="false",y=xg(o),b=(y.get(g)||0)+1,v=(c.get(g)||0)+1;y.set(g,b),c.set(g,v),u.push(g),b===1&&p&&rl.add(g),v===1&&g.setAttribute(i,""),!p&&o&&g.setAttribute(o,o==="inert"?"":"true")}})}return sd++,()=>{u.forEach(h=>{const g=xg(o),p=(g.get(h)||0)-1,y=(c.get(h)||0)-1;g.set(h,p),c.set(h,y),p||(!rl.has(h)&&o&&h.removeAttribute(o),rl.delete(h)),y||h.removeAttribute(i)}),sd--,sd||(Qo.inert=new WeakMap,Qo["aria-hidden"]=new WeakMap,Qo.none=new WeakMap,rl=new WeakSet,nl={})}}function kg(e,t,r){t===void 0&&(t=!1),r===void 0&&(r=!1);const n=wk(e[0]).body;return Sk(e.concat(Array.from(n.querySelectorAll('[aria-live],[role="status"],output'))),n,t,r)}const Ec={border:0,clip:"rect(0 0 0 0)",height:"1px",margin:"-1px",overflow:"hidden",padding:0,position:"fixed",whiteSpace:"nowrap",width:"1px",top:0,left:0},Pu=Z.forwardRef(function(t,r){const[n,i]=Z.useState();Tr(()=>{qy()&&i("button")},[]);const o={ref:r,tabIndex:0,role:n,"aria-hidden":n?void 0:!0,[fo("focus-guard")]:"",style:Ec};return U.jsx("span",{...t,...o})}),lv=Z.createContext(null),Eg=fo("portal");function xk(e){e===void 0&&(e={});const{id:t,root:r}=e,n=Tf(),i=uv(),[o,s]=Z.useState(null),a=Z.useRef(null);return Tr(()=>()=>{o?.remove(),queueMicrotask(()=>{a.current=null})},[o]),Tr(()=>{if(!n||a.current)return;const l=t?document.getElementById(t):null;if(!l)return;const u=document.createElement("div");u.id=n,u.setAttribute(Eg,""),l.appendChild(u),a.current=u,s(u)},[t,n]),Tr(()=>{if(r===null||!n||a.current)return;let l=r||i?.portalNode;l&&!Ff(l)&&(l=l.current),l=l||document.body;let u=null;t&&(u=document.createElement("div"),u.id=t,l.appendChild(u));const c=document.createElement("div");c.id=n,c.setAttribute(Eg,""),l=u||l,l.appendChild(c),a.current=c,s(c)},[t,r,n,i]),o}function kk(e){const{children:t,id:r,root:n,preserveTabOrder:i=!0}=e,o=xk({id:r,root:n}),[s,a]=Z.useState(null),l=Z.useRef(null),u=Z.useRef(null),c=Z.useRef(null),f=Z.useRef(null),d=s?.modal,h=s?.open,g=!!s&&!s.modal&&s.open&&i&&!!(n||o);return Z.useEffect(()=>{if(!o||!i||d)return;function m(p){o&&Zs(p)&&(p.type==="focusin"?dg:Fx)(o)}return o.addEventListener("focusin",m,!0),o.addEventListener("focusout",m,!0),()=>{o.removeEventListener("focusin",m,!0),o.removeEventListener("focusout",m,!0)}},[o,i,d]),Z.useEffect(()=>{o&&(h||dg(o))},[h,o]),U.jsxs(lv.Provider,{value:Z.useMemo(()=>({preserveTabOrder:i,beforeOutsideRef:l,afterOutsideRef:u,beforeInsideRef:c,afterInsideRef:f,portalNode:o,setFocusManagerState:a}),[i,o]),children:[g&&o&&U.jsx(Pu,{"data-type":"outside",ref:l,onFocus:m=>{if(Zs(m,o)){var p;(p=c.current)==null||p.focus()}else{const y=s?s.domReference:null,b=Xy(y);b?.focus()}}}),g&&o&&U.jsx("span",{"aria-owns":o.id,style:Ec}),o&&_a.createPortal(t,o),g&&o&&U.jsx(Pu,{"data-type":"outside",ref:u,onFocus:m=>{if(Zs(m,o)){var p;(p=f.current)==null||p.focus()}else{const y=s?s.domReference:null,b=Zy(y);b?.focus(),s?.closeOnFocusOut&&s?.onOpenChange(!1,m.nativeEvent,"focus-out")}}})]})}const uv=()=>Z.useContext(lv);function Rg(e){return Z.useMemo(()=>t=>{e.forEach(r=>{r&&(r.current=t)})},e)}const Ek=20;let Ci=[];function Mf(){Ci=Ci.filter(e=>e.isConnected)}function Rk(e){Mf(),e&&Pi(e)!=="body"&&(Ci.push(e),Ci.length>Ek&&(Ci=Ci.slice(-20)))}function _g(){return Mf(),Ci[Ci.length-1]}function _k(e){const t=Ra();return Uy(e,t)?e:Sc(e,t)[0]||e}function Ag(e,t){var r;if(!t.current.includes("floating")&&!((r=e.getAttribute("role"))!=null&&r.includes("dialog")))return;const n=Ra(),o=ux(e,n).filter(a=>{const l=a.getAttribute("data-tabindex")||"";return Uy(a,n)||a.hasAttribute("data-tabindex")&&!l.startsWith("-")}),s=e.getAttribute("tabindex");t.current.includes("floating")||o.length===0?s!=="0"&&e.setAttribute("tabindex","0"):(s!=="-1"||e.hasAttribute("data-tabindex")&&e.getAttribute("data-tabindex")!=="-1")&&(e.setAttribute("tabindex","-1"),e.setAttribute("data-tabindex","-1"))}const Ak=Z.forwardRef(function(t,r){return U.jsx("button",{...t,type:"button",ref:r,tabIndex:-1,style:Ec})});function Tk(e){const{context:t,children:r,disabled:n=!1,order:i=["content"],guards:o=!0,initialFocus:s=0,returnFocus:a=!0,restoreFocus:l=!1,modal:u=!0,visuallyHiddenDismiss:c=!1,closeOnFocusOut:f=!0,outsideElementsInert:d=!1,getInsideElements:h=()=>[]}=e,{open:g,onOpenChange:m,events:p,dataRef:y,elements:{domReference:b,floating:v}}=t,F=Nr(()=>{var Q;return(Q=y.current.floatingContext)==null?void 0:Q.nodeId}),E=Nr(h),T=typeof s=="number"&&s<0,I=ug(b)&&T,M=Ck(),P=M?o:!0,O=!P||M&&d,z=Xi(i),L=Xi(s),_=Xi(a),R=kc(),k=uv(),S=Z.useRef(null),w=Z.useRef(null),C=Z.useRef(!1),x=Z.useRef(!1),A=Z.useRef(-1),D=Z.useRef(-1),B=k!=null,V=kh(v),j=Nr(function(Q){return Q===void 0&&(Q=V),Q?Sc(Q,Ra()):[]}),K=Nr(Q=>{const ee=j(Q);return z.current.map(W=>b&&W==="reference"?b:V&&W==="floating"?V:ee).filter(Boolean).flat()});Z.useEffect(()=>{if(n||!u)return;function Q(W){if(W.key==="Tab"){Cr(V,yi(Sr(V)))&&j().length===0&&!I&&ed(W);const ne=K(),re=$n(W);z.current[0]==="reference"&&re===b&&(ed(W),W.shiftKey?Lo(ne[ne.length-1]):Lo(ne[1])),z.current[1]==="floating"&&re===V&&W.shiftKey&&(ed(W),Lo(ne[0]))}}const ee=Sr(V);return ee.addEventListener("keydown",Q),()=>{ee.removeEventListener("keydown",Q)}},[n,b,V,u,z,I,j,K]),Z.useEffect(()=>{if(n||!v)return;function Q(ee){const W=$n(ee),re=j().indexOf(W);re!==-1&&(A.current=re)}return v.addEventListener("focusin",Q),()=>{v.removeEventListener("focusin",Q)}},[n,v,j]),Z.useEffect(()=>{if(n||!f)return;function Q(){x.current=!0,setTimeout(()=>{x.current=!1})}function ee(re){const q=re.relatedTarget,X=re.currentTarget,te=$n(re);queueMicrotask(()=>{const se=F(),oe=!(Cr(b,q)||Cr(v,q)||Cr(q,v)||Cr(k?.portalNode,q)||q!=null&&q.hasAttribute(fo("focus-guard"))||R&&(Zo(R.nodesRef.current,se).find(ie=>{var ae,ue;return Cr((ae=ie.context)==null?void 0:ae.elements.floating,q)||Cr((ue=ie.context)==null?void 0:ue.elements.domReference,q)})||cg(R.nodesRef.current,se).find(ie=>{var ae,ue,ce;return[(ae=ie.context)==null?void 0:ae.elements.floating,kh((ue=ie.context)==null?void 0:ue.elements.floating)].includes(q)||((ce=ie.context)==null?void 0:ce.elements.domReference)===q})));if(X===b&&V&&Ag(V,z),l&&X!==b&&!(te!=null&&te.isConnected)&&yi(Sr(V))===Sr(V).body){or(V)&&V.focus();const ie=A.current,ae=j(),ue=ae[ie]||ae[ae.length-1]||V;or(ue)&&ue.focus()}if(y.current.insideReactTree){y.current.insideReactTree=!1;return}(I||!u)&&q&&oe&&!x.current&&q!==_g()&&(C.current=!0,m(!1,re,"focus-out"))})}const W=!!(!R&&k);function ne(){Ar(D),y.current.insideReactTree=!0,D.current=window.setTimeout(()=>{y.current.insideReactTree=!1})}if(v&&or(b))return b.addEventListener("focusout",ee),b.addEventListener("pointerdown",Q),v.addEventListener("focusout",ee),W&&v.addEventListener("focusout",ne,!0),()=>{b.removeEventListener("focusout",ee),b.removeEventListener("pointerdown",Q),v.removeEventListener("focusout",ee),W&&v.removeEventListener("focusout",ne,!0)}},[n,b,v,V,u,R,k,m,f,l,j,I,F,z,y]);const G=Z.useRef(null),Y=Z.useRef(null),H=Rg([G,k?.beforeInsideRef]),N=Rg([Y,k?.afterInsideRef]);Z.useEffect(()=>{var Q,ee;if(n||!v)return;const W=Array.from((k==null||(Q=k.portalNode)==null?void 0:Q.querySelectorAll("["+fo("portal")+"]"))||[]),re=(ee=(R?cg(R.nodesRef.current,F()):[]).find(te=>{var se;return ug(((se=te.context)==null?void 0:se.elements.domReference)||null)}))==null||(ee=ee.context)==null?void 0:ee.elements.domReference,q=[v,re,...W,...E(),S.current,w.current,G.current,Y.current,k?.beforeOutsideRef.current,k?.afterOutsideRef.current,z.current.includes("reference")||I?b:null].filter(te=>te!=null),X=u||I?kg(q,!O,O):kg(q);return()=>{X()}},[n,b,v,u,z,k,I,P,O,R,F,E]),Tr(()=>{if(n||!or(V))return;const Q=Sr(V),ee=yi(Q);queueMicrotask(()=>{const W=K(V),ne=L.current,re=(typeof ne=="number"?W[ne]:ne.current)||V,q=Cr(V,ee);!T&&!q&&g&&Lo(re,{preventScroll:re===V})})},[n,g,V,T,K,L]),Tr(()=>{if(n||!V)return;const Q=Sr(V),ee=yi(Q);Rk(ee);function W(q){let{reason:X,event:te,nested:se}=q;if(["hover","safe-polygon"].includes(X)&&te.type==="mouseleave"&&(C.current=!0),X==="outside-press")if(se)C.current=!1;else if(gx(te)||mx(te))C.current=!1;else{let oe=!1;document.createElement("div").focus({get preventScroll(){return oe=!0,!1}}),oe?C.current=!1:C.current=!0}}p.on("openchange",W);const ne=Q.createElement("span");ne.setAttribute("tabindex","-1"),ne.setAttribute("aria-hidden","true"),Object.assign(ne.style,Ec),B&&b&&b.insertAdjacentElement("afterend",ne);function re(){if(typeof _.current=="boolean"){const q=b||_g();return q&&q.isConnected?q:ne}return _.current.current||ne}return()=>{p.off("openchange",W);const q=yi(Q),X=Cr(v,q)||R&&Zo(R.nodesRef.current,F(),!1).some(se=>{var oe;return Cr((oe=se.context)==null?void 0:oe.elements.floating,q)}),te=re();queueMicrotask(()=>{const se=_k(te);_.current&&!C.current&&or(se)&&(!(se!==q&&q!==Q.body)||X)&&se.focus({preventScroll:!0}),ne.remove()})}},[n,v,V,_,y,p,R,B,b,F]),Z.useEffect(()=>(queueMicrotask(()=>{C.current=!1}),()=>{queueMicrotask(Mf)}),[n]),Tr(()=>{if(!n&&k)return k.setFocusManagerState({modal:u,closeOnFocusOut:f,open:g,onOpenChange:m,domReference:b}),()=>{k.setFocusManagerState(null)}},[n,k,u,g,m,f,b]),Tr(()=>{n||V&&Ag(V,z)},[n,V,z]);function $(Q){return n||!c||!u?null:U.jsx(Ak,{ref:Q==="start"?S:w,onClick:ee=>m(!1,ee.nativeEvent),children:typeof c=="string"?c:"Dismiss"})}const J=!n&&P&&(u?!I:!0)&&(B||u);return U.jsxs(U.Fragment,{children:[J&&U.jsx(Pu,{"data-type":"inside",ref:H,onFocus:Q=>{if(u){const W=K();Lo(i[0]==="reference"?W[0]:W[W.length-1])}else if(k!=null&&k.preserveTabOrder&&k.portalNode)if(C.current=!1,Zs(Q,k.portalNode)){const W=Zy(b);W?.focus()}else{var ee;(ee=k.beforeOutsideRef.current)==null||ee.focus()}}}),!I&&$("start"),r,$("end"),J&&U.jsx(Pu,{"data-type":"inside",ref:N,onFocus:Q=>{if(u)Lo(K()[0]);else if(k!=null&&k.preserveTabOrder&&k.portalNode)if(f&&(C.current=!0),Zs(Q,k.portalNode)){const W=Xy(b);W?.focus()}else{var ee;(ee=k.afterOutsideRef.current)==null||ee.focus()}}})]})}let il=0;const Tg="--floating-ui-scrollbar-width";function Dk(){const e=Ef(),t=/iP(hone|ad|od)|iOS/.test(e)||e==="MacIntel"&&navigator.maxTouchPoints>1,r=document.body.style,i=Math.round(document.documentElement.getBoundingClientRect().left)+document.documentElement.scrollLeft?"paddingLeft":"paddingRight",o=window.innerWidth-document.documentElement.clientWidth,s=r.left?parseFloat(r.left):window.scrollX,a=r.top?parseFloat(r.top):window.scrollY;if(r.overflow="hidden",r.setProperty(Tg,o+"px"),o&&(r[i]=o+"px"),t){var l,u;const c=((l=window.visualViewport)==null?void 0:l.offsetLeft)||0,f=((u=window.visualViewport)==null?void 0:u.offsetTop)||0;Object.assign(r,{position:"fixed",top:-(a-Math.floor(f))+"px",left:-(s-Math.floor(c))+"px",right:"0"})}return()=>{Object.assign(r,{overflow:"",[i]:""}),r.removeProperty(Tg),t&&(Object.assign(r,{position:"",top:"",left:"",right:""}),window.scrollTo(s,a))}}let Dg=()=>{};const Mk=Z.forwardRef(function(t,r){const{lockScroll:n=!1,...i}=t;return Tr(()=>{if(n)return il++,il===1&&(Dg=Dk()),()=>{il--,il===0&&Dg()}},[n]),U.jsx("div",{ref:r,...i,style:{position:"fixed",overflow:"auto",top:0,right:0,bottom:0,left:0,...i.style}})});function Mg(e){return or(e.target)&&e.target.tagName==="BUTTON"}function Pk(e){return or(e.target)&&e.target.tagName==="A"}function Pg(e){return Rf(e)}function cv(e,t){t===void 0&&(t={});const{open:r,onOpenChange:n,dataRef:i,elements:{domReference:o}}=e,{enabled:s=!0,event:a="click",toggle:l=!0,ignoreMouse:u=!1,keyboardHandlers:c=!0,stickIfOpen:f=!0}=t,d=Z.useRef(),h=Z.useRef(!1),g=Z.useMemo(()=>({onPointerDown(m){d.current=m.pointerType},onMouseDown(m){const p=d.current;m.button===0&&a!=="click"&&(ua(p,!0)&&u||(r&&l&&(!(i.current.openEvent&&f)||i.current.openEvent.type==="mousedown")?n(!1,m.nativeEvent,"click"):(m.preventDefault(),n(!0,m.nativeEvent,"click"))))},onClick(m){const p=d.current;if(a==="mousedown"&&d.current){d.current=void 0;return}ua(p,!0)&&u||(r&&l&&(!(i.current.openEvent&&f)||i.current.openEvent.type==="click")?n(!1,m.nativeEvent,"click"):n(!0,m.nativeEvent,"click"))},onKeyDown(m){d.current=void 0,!(m.defaultPrevented||!c||Mg(m))&&(m.key===" "&&!Pg(o)&&(m.preventDefault(),h.current=!0),!Pk(m)&&m.key==="Enter"&&n(!(r&&l),m.nativeEvent,"click"))},onKeyUp(m){m.defaultPrevented||!c||Mg(m)||Pg(o)||m.key===" "&&h.current&&(h.current=!1,n(!(r&&l),m.nativeEvent,"click"))}}),[i,o,a,u,c,n,r,f,l]);return Z.useMemo(()=>s?{reference:g}:{},[s,g])}const Ik={pointerdown:"onPointerDown",mousedown:"onMouseDown",click:"onClick"},Bk={pointerdown:"onPointerDownCapture",mousedown:"onMouseDownCapture",click:"onClickCapture"},Ig=e=>{var t,r;return{escapeKey:typeof e=="boolean"?e:(t=e?.escapeKey)!=null?t:!1,outsidePress:typeof e=="boolean"?e:(r=e?.outsidePress)!=null?r:!0}};function dv(e,t){t===void 0&&(t={});const{open:r,onOpenChange:n,elements:i,dataRef:o}=e,{enabled:s=!0,escapeKey:a=!0,outsidePress:l=!0,outsidePressEvent:u="pointerdown",referencePress:c=!1,referencePressEvent:f="pointerdown",ancestorScroll:d=!1,bubbles:h,capture:g}=t,m=kc(),p=Nr(typeof l=="function"?l:()=>!1),y=typeof l=="function"?p:l,b=Z.useRef(!1),{escapeKey:v,outsidePress:F}=Ig(h),{escapeKey:E,outsidePress:T}=Ig(g),I=Z.useRef(!1),M=Nr(R=>{var k;if(!r||!s||!a||R.key!=="Escape"||I.current)return;const S=(k=o.current.floatingContext)==null?void 0:k.nodeId,w=m?Zo(m.nodesRef.current,S):[];if(!v&&(R.stopPropagation(),w.length>0)){let C=!0;if(w.forEach(x=>{var A;if((A=x.context)!=null&&A.open&&!x.context.dataRef.current.__escapeKeyBubbles){C=!1;return}}),!C)return}n(!1,px(R)?R.nativeEvent:R,"escape-key")}),P=Nr(R=>{var k;const S=()=>{var w;M(R),(w=$n(R))==null||w.removeEventListener("keydown",S)};(k=$n(R))==null||k.addEventListener("keydown",S)}),O=Nr(R=>{var k;const S=o.current.insideReactTree;o.current.insideReactTree=!1;const w=b.current;if(b.current=!1,u==="click"&&w||S||typeof y=="function"&&!y(R))return;const C=$n(R),x="["+fo("inert")+"]",A=Sr(i.floating).querySelectorAll(x);let D=zt(C)?C:null;for(;D&&!qn(D);){const K=ei(D);if(qn(K)||!zt(K))break;D=K}if(A.length&&zt(C)&&!hx(C)&&!Cr(C,i.floating)&&Array.from(A).every(K=>!Cr(D,K)))return;if(or(C)&&_){const K=qn(C),G=an(C),Y=/auto|scroll/,H=K||Y.test(G.overflowX),N=K||Y.test(G.overflowY),$=H&&C.clientWidth>0&&C.scrollWidth>C.clientWidth,J=N&&C.clientHeight>0&&C.scrollHeight>C.clientHeight,Q=G.direction==="rtl",ee=J&&(Q?R.offsetX<=C.offsetWidth-C.clientWidth:R.offsetX>C.clientWidth),W=$&&R.offsetY>C.clientHeight;if(ee||W)return}const B=(k=o.current.floatingContext)==null?void 0:k.nodeId,V=m&&Zo(m.nodesRef.current,B).some(K=>{var G;return Qc(R,(G=K.context)==null?void 0:G.elements.floating)});if(Qc(R,i.floating)||Qc(R,i.domReference)||V)return;const j=m?Zo(m.nodesRef.current,B):[];if(j.length>0){let K=!0;if(j.forEach(G=>{var Y;if((Y=G.context)!=null&&Y.open&&!G.context.dataRef.current.__outsidePressBubbles){K=!1;return}}),!K)return}n(!1,R,"outside-press")}),z=Nr(R=>{var k;const S=()=>{var w;O(R),(w=$n(R))==null||w.removeEventListener(u,S)};(k=$n(R))==null||k.addEventListener(u,S)});Z.useEffect(()=>{if(!r||!s)return;o.current.__escapeKeyBubbles=v,o.current.__outsidePressBubbles=F;let R=-1;function k(A){n(!1,A,"ancestor-scroll")}function S(){window.clearTimeout(R),I.current=!0}function w(){R=window.setTimeout(()=>{I.current=!1},Cc()?5:0)}const C=Sr(i.floating);a&&(C.addEventListener("keydown",E?P:M,E),C.addEventListener("compositionstart",S),C.addEventListener("compositionend",w)),y&&C.addEventListener(u,T?z:O,T);let x=[];return d&&(zt(i.domReference)&&(x=ki(i.domReference)),zt(i.floating)&&(x=x.concat(ki(i.floating))),!zt(i.reference)&&i.reference&&i.reference.contextElement&&(x=x.concat(ki(i.reference.contextElement)))),x=x.filter(A=>{var D;return A!==((D=C.defaultView)==null?void 0:D.visualViewport)}),x.forEach(A=>{A.addEventListener("scroll",k,{passive:!0})}),()=>{a&&(C.removeEventListener("keydown",E?P:M,E),C.removeEventListener("compositionstart",S),C.removeEventListener("compositionend",w)),y&&C.removeEventListener(u,T?z:O,T),x.forEach(A=>{A.removeEventListener("scroll",k)}),window.clearTimeout(R)}},[o,i,a,y,u,r,n,d,s,v,F,M,E,P,O,T,z]),Z.useEffect(()=>{o.current.insideReactTree=!1},[o,y,u]);const L=Z.useMemo(()=>({onKeyDown:M,...c&&{[Ik[f]]:R=>{n(!1,R.nativeEvent,"reference-press")},...f!=="click"&&{onClick(R){n(!1,R.nativeEvent,"reference-press")}}}}),[M,n,c,f]),_=Z.useMemo(()=>({onKeyDown:M,onMouseDown(){b.current=!0},onMouseUp(){b.current=!0},[Bk[u]]:()=>{o.current.insideReactTree=!0}}),[M,u,o]);return Z.useMemo(()=>s?{reference:L,floating:_}:{},[s,L,_])}function Lk(e){const{open:t=!1,onOpenChange:r,elements:n}=e,i=Tf(),o=Z.useRef({}),[s]=Z.useState(()=>gk()),a=Df()!=null,[l,u]=Z.useState(n.reference),c=Nr((h,g,m)=>{o.current.openEvent=h?g:void 0,s.emit("openchange",{open:h,event:g,reason:m,nested:a}),r?.(h,g,m)}),f=Z.useMemo(()=>({setPositionReference:u}),[]),d=Z.useMemo(()=>({reference:l||n.reference||null,floating:n.floating||null,domReference:n.reference}),[l,n.reference,n.floating]);return Z.useMemo(()=>({dataRef:o,open:t,onOpenChange:c,elements:d,events:s,floatingId:i,refs:f}),[t,c,d,s,i,f])}function hv(e){e===void 0&&(e={});const{nodeId:t}=e,r=Lk({...e,elements:{reference:null,floating:null,...e.elements}}),n=e.rootContext||r,i=n.elements,[o,s]=Z.useState(null),[a,l]=Z.useState(null),c=i?.domReference||o,f=Z.useRef(null),d=kc();Tr(()=>{c&&(f.current=c)},[c]);const h=rk({...e,elements:{...i,...a&&{reference:a}}}),g=Z.useCallback(v=>{const F=zt(v)?{getBoundingClientRect:()=>v.getBoundingClientRect(),getClientRects:()=>v.getClientRects(),contextElement:v}:v;l(F),h.refs.setReference(F)},[h.refs]),m=Z.useCallback(v=>{(zt(v)||v===null)&&(f.current=v,s(v)),(zt(h.refs.reference.current)||h.refs.reference.current===null||v!==null&&!zt(v))&&h.refs.setReference(v)},[h.refs]),p=Z.useMemo(()=>({...h.refs,setReference:m,setPositionReference:g,domReference:f}),[h.refs,m,g]),y=Z.useMemo(()=>({...h.elements,domReference:c}),[h.elements,c]),b=Z.useMemo(()=>({...h,...n,refs:p,elements:y,nodeId:t}),[h,p,y,t,n]);return Tr(()=>{n.dataRef.current.floatingContext=b;const v=d?.nodesRef.current.find(F=>F.id===t);v&&(v.context=b)}),Z.useMemo(()=>({...h,context:b,refs:p,elements:y}),[h,p,y,b])}function ad(){return cx()&&qy()}function Nk(e,t){t===void 0&&(t={});const{open:r,onOpenChange:n,events:i,dataRef:o,elements:s}=e,{enabled:a=!0,visibleOnly:l=!0}=t,u=Z.useRef(!1),c=Z.useRef(-1),f=Z.useRef(!0);Z.useEffect(()=>{if(!a)return;const h=Hr(s.domReference);function g(){!r&&or(s.domReference)&&s.domReference===yi(Sr(s.domReference))&&(u.current=!0)}function m(){f.current=!0}function p(){f.current=!1}return h.addEventListener("blur",g),ad()&&(h.addEventListener("keydown",m,!0),h.addEventListener("pointerdown",p,!0)),()=>{h.removeEventListener("blur",g),ad()&&(h.removeEventListener("keydown",m,!0),h.removeEventListener("pointerdown",p,!0))}},[s.domReference,r,a]),Z.useEffect(()=>{if(!a)return;function h(g){let{reason:m}=g;(m==="reference-press"||m==="escape-key")&&(u.current=!0)}return i.on("openchange",h),()=>{i.off("openchange",h)}},[i,a]),Z.useEffect(()=>()=>{Ar(c)},[]);const d=Z.useMemo(()=>({onMouseLeave(){u.current=!1},onFocus(h){if(u.current)return;const g=$n(h.nativeEvent);if(l&&zt(g)){if(ad()&&!h.relatedTarget){if(!f.current&&!Rf(g))return}else if(!fx(g))return}n(!0,h.nativeEvent,"focus")},onBlur(h){u.current=!1;const g=h.relatedTarget,m=h.nativeEvent,p=zt(g)&&g.hasAttribute(fo("focus-guard"))&&g.getAttribute("data-type")==="outside";c.current=window.setTimeout(()=>{var y;const b=yi(s.domReference?s.domReference.ownerDocument:document);!g&&b===s.domReference||Cr((y=o.current.floatingContext)==null?void 0:y.refs.floating.current,b)||Cr(s.domReference,b)||p||n(!1,m,"focus")})}}),[o,s.domReference,n,l]);return Z.useMemo(()=>a?{reference:d}:{},[a,d])}function ld(e,t,r){const n=new Map,i=r==="item";let o=e;if(i&&e){const{[yg]:s,[vg]:a,...l}=e;o=l}return{...r==="floating"&&{tabIndex:-1,[ck]:""},...o,...t.map(s=>{const a=s?s[r]:null;return typeof a=="function"?e?a(e):null:a}).concat(e).reduce((s,a)=>(a&&Object.entries(a).forEach(l=>{let[u,c]=l;if(!(i&&[yg,vg].includes(u)))if(u.indexOf("on")===0){if(n.has(u)||n.set(u,[]),typeof c=="function"){var f;(f=n.get(u))==null||f.push(c),s[u]=function(){for(var d,h=arguments.length,g=new Array(h),m=0;m<h;m++)g[m]=arguments[m];return(d=n.get(u))==null?void 0:d.map(p=>p(...g)).find(p=>p!==void 0)}}}else s[u]=c}),s),{})}}function fv(e){e===void 0&&(e=[]);const t=e.map(a=>a?.reference),r=e.map(a=>a?.floating),n=e.map(a=>a?.item),i=Z.useCallback(a=>ld(a,e,"reference"),t),o=Z.useCallback(a=>ld(a,e,"floating"),r),s=Z.useCallback(a=>ld(a,e,"item"),n);return Z.useMemo(()=>({getReferenceProps:i,getFloatingProps:o,getItemProps:s}),[i,o,s])}const Ok=new Map([["select","listbox"],["combobox","listbox"],["label",!1]]);function pv(e,t){var r,n;t===void 0&&(t={});const{open:i,elements:o,floatingId:s}=e,{enabled:a=!0,role:l="dialog"}=t,u=Tf(),c=((r=o.domReference)==null?void 0:r.id)||u,f=Z.useMemo(()=>{var b;return((b=kh(o.floating))==null?void 0:b.id)||s},[o.floating,s]),d=(n=Ok.get(l))!=null?n:l,g=Df()!=null,m=Z.useMemo(()=>d==="tooltip"||l==="label"?{["aria-"+(l==="label"?"labelledby":"describedby")]:i?f:void 0}:{"aria-expanded":i?"true":"false","aria-haspopup":d==="alertdialog"?"dialog":d,"aria-controls":i?f:void 0,...d==="listbox"&&{role:"combobox"},...d==="menu"&&{id:c},...d==="menu"&&g&&{role:"menuitem"},...l==="select"&&{"aria-autocomplete":"none"},...l==="combobox"&&{"aria-autocomplete":"list"}},[d,f,g,i,c,l]),p=Z.useMemo(()=>{const b={id:f,...d&&{role:d}};return d==="tooltip"||l==="label"?b:{...b,...d==="menu"&&{"aria-labelledby":c}}},[d,f,c,l]),y=Z.useCallback(b=>{let{active:v,selected:F}=b;const E={role:"option",...v&&{id:f+"-fui-option"}};switch(l){case"select":case"combobox":return{...E,"aria-selected":F}}return{}},[f,l]);return Z.useMemo(()=>a?{reference:m,floating:p,item:y}:{},[a,m,p,y])}function gv(e,t,r){return r===void 0&&(r=!0),e.filter(i=>{var o;return i.parentId===t&&(!r||((o=i.context)==null?void 0:o.open))}).flatMap(i=>[i,...gv(e,i.id,r)])}function Bg(e,t){const[r,n]=e;let i=!1;const o=t.length;for(let s=0,a=o-1;s<o;a=s++){const[l,u]=t[s]||[0,0],[c,f]=t[a]||[0,0];u>=n!=f>=n&&r<=(c-l)*(n-u)/(f-u)+l&&(i=!i)}return i}function Hk(e,t){return e[0]>=t.x&&e[0]<=t.x+t.width&&e[1]>=t.y&&e[1]<=t.y+t.height}function Gk(e){e===void 0&&(e={});const{buffer:t=.5,blockPointerEvents:r=!1,requireIntent:n=!0}=e,i={current:-1};let o=!1,s=null,a=null,l=typeof performance<"u"?performance.now():0;function u(f,d){const h=performance.now(),g=h-l;if(s===null||a===null||g===0)return s=f,a=d,l=h,null;const m=f-s,p=d-a,b=Math.sqrt(m*m+p*p)/g;return s=f,a=d,l=h,b}const c=f=>{let{x:d,y:h,placement:g,elements:m,onClose:p,nodeId:y,tree:b}=f;return function(F){function E(){Ar(i),p()}if(Ar(i),!m.domReference||!m.floating||g==null||d==null||h==null)return;const{clientX:T,clientY:I}=F,M=[T,I],P=vk(F),O=F.type==="mouseleave",z=od(m.floating,P),L=od(m.domReference,P),_=m.domReference.getBoundingClientRect(),R=m.floating.getBoundingClientRect(),k=g.split("-")[0],S=d>R.right-R.width/2,w=h>R.bottom-R.height/2,C=Hk(M,_),x=R.width>_.width,A=R.height>_.height,D=(x?_:R).left,B=(x?_:R).right,V=(A?_:R).top,j=(A?_:R).bottom;if(z&&(o=!0,!O))return;if(L&&(o=!1),L&&!O){o=!0;return}if(O&&zt(F.relatedTarget)&&od(m.floating,F.relatedTarget)||b&&gv(b.nodesRef.current,y).length)return;if(k==="top"&&h>=_.bottom-1||k==="bottom"&&h<=_.top+1||k==="left"&&d>=_.right-1||k==="right"&&d<=_.left+1)return E();let K=[];switch(k){case"top":K=[[D,_.top+1],[D,R.bottom-1],[B,R.bottom-1],[B,_.top+1]];break;case"bottom":K=[[D,R.top+1],[D,_.bottom-1],[B,_.bottom-1],[B,R.top+1]];break;case"left":K=[[R.right-1,j],[R.right-1,V],[_.left+1,V],[_.left+1,j]];break;case"right":K=[[_.right-1,j],[_.right-1,V],[R.left+1,V],[R.left+1,j]];break}function G(Y){let[H,N]=Y;switch(k){case"top":{const $=[x?H+t/2:S?H+t*4:H-t*4,N+t+1],J=[x?H-t/2:S?H+t*4:H-t*4,N+t+1],Q=[[R.left,S||x?R.bottom-t:R.top],[R.right,S?x?R.bottom-t:R.top:R.bottom-t]];return[$,J,...Q]}case"bottom":{const $=[x?H+t/2:S?H+t*4:H-t*4,N-t],J=[x?H-t/2:S?H+t*4:H-t*4,N-t],Q=[[R.left,S||x?R.top+t:R.bottom],[R.right,S?x?R.top+t:R.bottom:R.top+t]];return[$,J,...Q]}case"left":{const $=[H+t+1,A?N+t/2:w?N+t*4:N-t*4],J=[H+t+1,A?N-t/2:w?N+t*4:N-t*4];return[...[[w||A?R.right-t:R.left,R.top],[w?A?R.right-t:R.left:R.right-t,R.bottom]],$,J]}case"right":{const $=[H-t,A?N+t/2:w?N+t*4:N-t*4],J=[H-t,A?N-t/2:w?N+t*4:N-t*4],Q=[[w||A?R.left+t:R.right,R.top],[w?A?R.left+t:R.right:R.left+t,R.bottom]];return[$,J,...Q]}}}if(!Bg([T,I],K)){if(o&&!C)return E();if(!O&&n){const Y=u(F.clientX,F.clientY);if(Y!==null&&Y<.1)return E()}Bg([T,I],G([d,h]))?!o&&n&&(i.current=window.setTimeout(E,40)):E()}}};return c.__options={blockPointerEvents:r},c}const jk=({arrowRef:e,placement:t})=>{const r=[];return r.push(ik(8)),r.push(t==="auto"?ak():sk()),r.push(ok({padding:8})),e?.current&&r.push(lk({element:e.current})),r},zk=({placement:e})=>e==="auto"?void 0:e,Vk=({placement:e})=>({top:"bottom",right:"left",bottom:"top",left:"right"})[e.split("-")[0]],Wk=({open:e,arrowRef:t,placement:r="top",setOpen:n})=>hv({placement:zk({placement:r}),open:e,onOpenChange:n,whileElementsMounted:ov,middleware:jk({placement:r,arrowRef:t})}),$k=({context:e,trigger:t,role:r="tooltip",interactions:n=[]})=>fv([cv(e,{enabled:t==="click"}),yk(e,{enabled:t==="hover",handleClose:Gk()}),dv(e),pv(e,{role:r}),...n]);function mv({animation:e="duration-300",arrow:t=!0,children:r,className:n,content:i,placement:o="top",style:s="dark",theme:a,trigger:l="hover",minWidth:u,...c}){const f=Z.useRef(null),[d,h]=Z.useState(!1),g=Wk({open:d,placement:o,arrowRef:f,setOpen:h}),{context:m,middlewareData:{arrow:{x:p,y}={}},refs:b,strategy:v,update:F,x:E,y:T}=g,I=Nk(m),{getFloatingProps:M,getReferenceProps:P}=$k({context:m,role:"tooltip",trigger:l,interactions:[I]});return Z.useEffect(()=>{if(b.reference.current&&b.floating.current&&d)return ov(b.reference.current,b.floating.current,F)},[d,b.floating,b.reference,F]),U.jsxs(U.Fragment,{children:[U.jsx("div",{ref:b.setReference,className:a.target,"data-testid":"flowbite-tooltip-target",...P(),children:r}),U.jsxs("div",{ref:b.setFloating,"data-testid":"flowbite-tooltip",...M({className:Rt(a.base,e&&`${a.animation} ${e}`,!d&&a.hidden,a.style[s],n),style:{position:v,top:T??" ",left:E??" ",minWidth:u},...c}),children:[U.jsx("div",{className:a.content,children:i}),t&&U.jsx("div",{className:Rt(a.arrow.base,s==="dark"&&a.arrow.style.dark,s==="light"&&a.arrow.style.light,s==="auto"&&a.arrow.style.auto),"data-testid":"flowbite-tooltip-arrow",ref:f,style:{top:y??" ",left:p??" ",right:" ",bottom:" ",[Vk({placement:g.placement})]:a.arrow.placement},children:""})]})]})}mv.displayName="Floating";const Uk={target:"w-fit",animation:"transition-opacity",arrow:{base:"absolute z-10 h-2 w-2 rotate-45",style:{dark:"bg-gray-900 dark:bg-gray-700",light:"bg-white",auto:"bg-white dark:bg-gray-700"},placement:"-4px"},base:"absolute z-10 inline-block rounded-lg px-3 py-2 text-sm font-medium shadow-sm",hidden:"invisible opacity-0",style:{dark:"bg-gray-900 text-white dark:bg-gray-700",light:"border border-gray-200 bg-white text-gray-900",auto:"border border-gray-200 bg-white text-gray-900 dark:border-none dark:bg-gray-700 dark:text-white"},content:"relative z-20"};function Yi(e){const t=Zt(),r=Yt([Uk,t.theme?.tooltip,e.theme],[Qe(t.clearTheme,"tooltip"),e.clearTheme],[Qe(t.applyTheme,"tooltip"),e.applyTheme]),{animation:n="duration-300",arrow:i=!0,children:o,className:s,content:a,placement:l="top",style:u="dark",trigger:c="hover",...f}=Jt(e,t.props?.tooltip);return U.jsx(mv,{animation:n,arrow:i,content:a,placement:l,style:u,theme:r,trigger:c,className:s,...f,children:o})}Yi.displayName="Tooltip";const Kk={base:"flex",addon:"inline-flex items-center rounded-l-md border border-r-0 border-gray-300 bg-gray-200 px-3 text-sm text-gray-900 dark:border-gray-600 dark:bg-gray-600 dark:text-gray-400",field:{base:"relative w-full",icon:{base:"pointer-events-none absolute inset-y-0 left-0 flex items-center pl-3",svg:"h-5 w-5 text-gray-500 dark:text-gray-400"},rightIcon:{base:"pointer-events-none absolute inset-y-0 right-0 flex items-center pr-3",svg:"h-5 w-5 text-gray-500 dark:text-gray-400"},input:{base:"block w-full border focus:outline-none focus:ring-1 disabled:cursor-not-allowed disabled:opacity-50",sizes:{sm:"p-2 sm:text-xs",md:"p-2.5 text-sm",lg:"p-4 sm:text-base"},colors:{gray:"border-gray-300 bg-gray-50 text-gray-900 placeholder-gray-500 focus:border-primary-500 focus:ring-primary-500 dark:border-gray-600 dark:bg-gray-700 dark:text-white dark:placeholder-gray-400 dark:focus:border-primary-500 dark:focus:ring-primary-500",info:"border-cyan-500 bg-cyan-50 text-cyan-900 placeholder-cyan-700 focus:border-cyan-500 focus:ring-cyan-500 dark:border-cyan-400 dark:bg-cyan-100 dark:focus:border-cyan-500 dark:focus:ring-cyan-500",failure:"border-red-500 bg-red-50 text-red-900 placeholder-red-700 focus:border-red-500 focus:ring-red-500 dark:border-red-400 dark:bg-red-100 dark:focus:border-red-500 dark:focus:ring-red-500",warning:"border-yellow-500 bg-yellow-50 text-yellow-900 placeholder-yellow-700 focus:border-yellow-500 focus:ring-yellow-500 dark:border-yellow-400 dark:bg-yellow-100 dark:focus:border-yellow-500 dark:focus:ring-yellow-500",success:"border-green-500 bg-green-50 text-green-900 placeholder-green-700 focus:border-green-500 focus:ring-green-500 dark:border-green-400 dark:bg-green-100 dark:focus:border-green-500 dark:focus:ring-green-500"},withRightIcon:{on:"pr-10",off:""},withIcon:{on:"pl-10",off:""},withAddon:{on:"rounded-r-lg",off:"rounded-lg"},withShadow:{on:"shadow-sm dark:shadow-sm-light",off:""}}}},br=Z.forwardRef((e,t)=>{const r=Zt(),n=Yt([Kk,r.theme?.textInput,e.theme],[Qe(r.clearTheme,"textInput"),e.clearTheme],[Qe(r.applyTheme,"textInput"),e.applyTheme]),{addon:i,className:o,color:s="gray",icon:a,rightIcon:l,shadow:u,sizing:c="md",type:f="text",...d}=Jt(e,r.props?.textInput);return U.jsxs("div",{className:Rt(n.base,o),children:[i&&U.jsx("span",{className:n.addon,children:i}),U.jsxs("div",{className:n.field.base,children:[a&&U.jsx("div",{className:n.field.icon.base,children:U.jsx(a,{className:n.field.icon.svg})}),l&&U.jsx("div",{"data-testid":"right-icon",className:n.field.rightIcon.base,children:U.jsx(l,{className:n.field.rightIcon.svg})}),U.jsx("input",{className:Rt(n.field.input.base,n.field.input.colors[s],n.field.input.sizes[c],n.field.input.withIcon[a?"on":"off"],n.field.input.withRightIcon[l?"on":"off"],n.field.input.withAddon[i?"on":"off"],n.field.input.withShadow[u?"on":"off"]),type:f,...d,ref:t})]})]})});br.displayName="TextInput";const qk={base:"block w-full cursor-pointer rounded-lg border file:-ms-4 file:me-4 file:cursor-pointer file:border-none file:bg-gray-800 file:py-2.5 file:pe-4 file:ps-8 file:text-sm file:font-medium file:leading-[inherit] file:text-white hover:file:bg-gray-700 focus:outline-none focus:ring-1 dark:file:bg-gray-600 dark:hover:file:bg-gray-500",sizes:{sm:"text-xs",md:"text-sm",lg:"text-lg"},colors:{gray:"border-gray-300 bg-gray-50 text-gray-900 focus:border-primary-500 focus:ring-primary-500 dark:border-gray-600 dark:bg-gray-700 dark:text-gray-400 dark:placeholder-gray-400 dark:focus:border-primary-500 dark:focus:ring-primary-500",info:"border-cyan-500 bg-cyan-50 text-cyan-900 placeholder-cyan-700 focus:border-cyan-500 focus:ring-cyan-500 dark:border-cyan-400 dark:bg-cyan-100 dark:focus:border-cyan-500 dark:focus:ring-cyan-500",failure:"border-red-500 bg-red-50 text-red-900 placeholder-red-700 focus:border-red-500 focus:ring-red-500 dark:border-red-400 dark:bg-red-100 dark:focus:border-red-500 dark:focus:ring-red-500",warning:"border-yellow-500 bg-yellow-50 text-yellow-900 placeholder-yellow-700 focus:border-yellow-500 focus:ring-yellow-500 dark:border-yellow-400 dark:bg-yellow-100 dark:focus:border-yellow-500 dark:focus:ring-yellow-500",success:"border-green-500 bg-green-50 text-green-900 placeholder-green-700 focus:border-green-500 focus:ring-green-500 dark:border-green-400 dark:bg-green-100 dark:focus:border-green-500 dark:focus:ring-green-500"}},ca=Z.forwardRef((e,t)=>{const r=Zt(),n=Yt([qk,r.theme?.fileInput,e.theme],[Qe(r.clearTheme,"fileInput"),e.clearTheme],[Qe(r.applyTheme,"fileInput"),e.applyTheme]),{className:i,color:o="gray",sizing:s="md",...a}=Jt(e,r.props?.fileInput);return U.jsx("input",{ref:t,type:"file",className:Rt(n.base,n.colors[o],n.sizes[s],i),...a})});ca.displayName="FileInput";const Jk={root:{base:"mt-2 text-sm",colors:{gray:"text-gray-500 dark:text-gray-300",info:"text-cyan-700 dark:text-cyan-800",success:"text-green-600 dark:text-green-500",failure:"text-red-600 dark:text-red-500",warning:"text-yellow-500 dark:text-yellow-600"}}},jr=Z.forwardRef((e,t)=>{const r=Zt(),n=Yt([Jk,r.theme?.helperText,e.theme],[Qe(r.clearTheme,"helperText"),e.clearTheme],[Qe(r.applyTheme,"helperText"),e.applyTheme]),{className:i,color:o="gray",...s}=Jt(e,r.props?.helperText);return U.jsx("p",{ref:t,className:Rt(n.root.base,n.root.colors[o],i),...s})});jr.displayName="HelperText";const Yk={root:{base:"rounded-lg border border-gray-200 bg-gray-100 px-2 py-1.5 text-xs font-semibold text-gray-800 dark:border-gray-500 dark:bg-gray-600 dark:text-gray-100",icon:"inline-block"}},hr=Z.forwardRef((e,t)=>{const r=Zt(),n=Yt([Yk,r.theme?.kbd,e.theme],[Qe(r.clearTheme,"kbd"),e.clearTheme],[Qe(r.applyTheme,"kbd"),e.applyTheme]),{children:i,className:o,icon:s,...a}=Jt(e,r.props?.hr);return U.jsxs("span",{ref:t,className:Rt(n.root.base,o),"data-testid":"flowbite-kbd",...a,children:[s&&U.jsx(s,{className:n.root.icon,"data-testid":"flowbite-kbd-icon"}),i]})});hr.displayName="Kbd";const Zk={root:{base:"text-sm font-medium",disabled:"opacity-50",colors:{default:"text-gray-900 dark:text-white",info:"text-cyan-500 dark:text-cyan-600",failure:"text-red-700 dark:text-red-500",warning:"text-yellow-500 dark:text-yellow-600",success:"text-green-700 dark:text-green-500"}}},mt=Z.forwardRef((e,t)=>{const r=Zt(),n=Yt([Zk,r.theme?.label,e.theme],[Qe(r.clearTheme,"label"),e.clearTheme],[Qe(r.applyTheme,"label"),e.applyTheme]),{className:i,color:o="default",disabled:s=!1,...a}=Jt(e,r.props?.label);return U.jsx("label",{ref:t,className:Rt(n.root.base,n.root.colors[o],s&&n.root.disabled,i),"data-testid":"flowbite-label",...a})});mt.displayName="Label";const bv=Z.createContext(void 0);function Pf(){const e=Z.useContext(bv);if(!e)throw new Error("useModalContext should be used within the ModalContext provider!");return e}const Rc={root:{base:"fixed inset-x-0 top-0 z-50 h-screen overflow-y-auto overflow-x-hidden md:inset-0 md:h-full",show:{on:"flex bg-gray-900/50 dark:bg-gray-900/80",off:"hidden"},sizes:{sm:"max-w-sm",md:"max-w-md",lg:"max-w-lg",xl:"max-w-xl","2xl":"max-w-2xl","3xl":"max-w-3xl","4xl":"max-w-4xl","5xl":"max-w-5xl","6xl":"max-w-6xl","7xl":"max-w-7xl"},positions:{"top-left":"items-start justify-start","top-center":"items-start justify-center","top-right":"items-start justify-end","center-left":"items-center justify-start",center:"items-center justify-center","center-right":"items-center justify-end","bottom-right":"items-end justify-end","bottom-center":"items-end justify-center","bottom-left":"items-end justify-start"}},content:{base:"relative h-full w-full p-4 md:h-auto",inner:"relative flex max-h-[90dvh] flex-col rounded-lg bg-white shadow dark:bg-gray-700"},body:{base:"flex-1 overflow-auto p-6",popup:"pt-0"},header:{base:"flex items-start justify-between rounded-t border-b p-5 dark:border-gray-600",popup:"border-b-0 p-2",title:"text-xl font-medium text-gray-900 dark:text-white",close:{base:"ml-auto inline-flex items-center rounded-lg bg-transparent p-1.5 text-sm text-gray-400 hover:bg-gray-200 hover:text-gray-900 dark:hover:bg-gray-600 dark:hover:text-white",icon:"h-5 w-5"}},footer:{base:"flex items-center space-x-2 rounded-b border-gray-200 p-6 dark:border-gray-600",popup:"border-t"}},Qi=Z.forwardRef((e,t)=>{const[r,n]=Z.useState(void 0),i=Zt(),o=Yt([Rc,i.theme?.modal,e.theme],[Qe(i.clearTheme,"modal"),e.clearTheme],[Qe(i.applyTheme,"modal"),e.applyTheme]),{children:s,className:a,dismissible:l=!1,onClose:u,popup:c,position:f="center",root:d,show:h,size:g="2xl",initialFocus:m,...p}=Jt(e,i.props?.modal),{context:y}=hv({open:h,onOpenChange:()=>u&&u()}),b=uk([y.refs.setFloating,t]),v=cv(y),F=dv(y,{outsidePressEvent:"mousedown",enabled:l}),E=pv(y),{getFloatingProps:T}=fv([v,F,E]);return h?U.jsx(bv.Provider,{value:{theme:e.theme,clearTheme:e.clearTheme,applyTheme:e.applyTheme,popup:c,onClose:u,setHeaderId:n},children:U.jsx(kk,{root:d,children:U.jsx(Mk,{lockScroll:!0,"data-testid":"modal-overlay",className:Rt(o.root.base,o.root.positions[f],h?o.root.show.on:o.root.show.off,a),...p,children:U.jsx(Tk,{context:y,initialFocus:m,children:U.jsx("div",{ref:b,...T(p),"aria-labelledby":r,className:Rt(o.content.base,o.root.sizes[g]),children:U.jsx("div",{className:o.content.inner,children:s})})})})})}):null});Qi.displayName="Modal";const Wo=Z.forwardRef((e,t)=>{const{theme:r,clearTheme:n,applyTheme:i,popup:o}=Pf(),s=Zt(),a=Yt([Rc.body,s.theme?.modal?.body,r?.body,e.theme],[Qe(s.clearTheme,"modal.body"),Qe(n,"body"),e.clearTheme],[Qe(s.applyTheme,"modal.body"),Qe(i,"body"),e.applyTheme]),{className:l,...u}=Jt(e,s.props?.modalBody);return U.jsx("div",{ref:t,className:Rt(a.base,o&&a.popup,l),...u})});Wo.displayName="ModalBody";const Iu=Z.forwardRef((e,t)=>{const{theme:r,clearTheme:n,applyTheme:i,popup:o}=Pf(),s=Zt(),a=Yt([Rc.footer,s.theme?.modal?.footer,r?.footer,e.theme],[Qe(s.clearTheme,"modal.footer"),Qe(n,"footer"),e.clearTheme],[Qe(s.applyTheme,"modal.footer"),Qe(i,"footer"),e.applyTheme]),{className:l,...u}=Jt(e,s.props?.modalFooter);return U.jsx("div",{ref:t,className:Rt(a.base,!o&&a.popup,l),...u})});Iu.displayName="ModalFooter";const yv=Z.forwardRef((e,t)=>U.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",fill:"none",stroke:"currentColor",strokeWidth:2,viewBox:"0 0 24 24",ref:t,...e,children:U.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6 18 18 6M6 6l12 12"})}));yv.displayName="OutlineXIcon";const $o=Z.forwardRef((e,t)=>{const{theme:r,clearTheme:n,applyTheme:i,popup:o,onClose:s,setHeaderId:a}=Pf(),l=Zt(),u=Yt([Rc.header,l.theme?.modal?.header,r?.header,e.theme],[Qe(l.clearTheme,"modal.header"),Qe(n,"header"),e.clearTheme],[Qe(l.applyTheme,"modal.header"),Qe(i,"header"),e.applyTheme]),{as:c="h3",children:f,className:d,id:h,...g}=Jt(e,l.props?.modalHeader),m=Z.useId(),p=h||m;return Z.useLayoutEffect(()=>(a(p),()=>a(void 0)),[p,a]),U.jsxs("div",{ref:t,className:Rt(u.base,o&&u.popup,d),...g,children:[U.jsx(c,{id:p,className:u.title,children:f}),U.jsx("button",{"aria-label":"Close",className:u.close.base,type:"button",onClick:s,children:U.jsx(yv,{"aria-hidden":!0,className:u.close.icon})})]})});$o.displayName="ModalHeader";const Xk={base:"w-full overflow-hidden rounded-full bg-gray-200 dark:bg-gray-700",label:"mb-1 flex justify-between font-medium dark:text-white",bar:"space-x-2 rounded-full text-center font-medium leading-none text-primary-300 dark:text-primary-100",color:{default:"bg-primary-600",dark:"bg-gray-600 dark:bg-gray-300",blue:"bg-blue-600",red:"bg-red-600 dark:bg-red-500",green:"bg-green-600 dark:bg-green-500",yellow:"bg-yellow-400",indigo:"bg-indigo-600 dark:bg-indigo-500",purple:"bg-purple-600 dark:bg-purple-500",cyan:"bg-cyan-600",gray:"bg-gray-500",lime:"bg-lime-600",pink:"bg-pink-500",teal:"bg-teal-600"},size:{sm:"h-1.5",md:"h-2.5",lg:"h-4",xl:"h-6"}},vv=Z.forwardRef((e,t)=>{const r=Z.useId(),n=Zt(),i=Yt([Xk,n.theme?.progress,e.theme],[Qe(n.clearTheme,"progress"),e.clearTheme],[Qe(n.applyTheme,"progress"),e.applyTheme]),{className:o,color:s="default",labelProgress:a=!1,labelText:l=!1,progress:u,progressLabelPosition:c="inside",size:f="md",textLabel:d="progressbar",textLabelPosition:h="inside",...g}=Jt(e,n.props?.progress);return U.jsxs("div",{ref:t,id:r,"aria-label":d,"aria-valuenow":u,role:"progressbar",...g,children:[(d&&l&&h==="outside"||u>0&&a&&c==="outside")&&U.jsxs("div",{className:i.label,"data-testid":"flowbite-progress-outer-label-container",children:[d&&l&&h==="outside"&&U.jsx("span",{"data-testid":"flowbite-progress-outer-text-label",children:d}),a&&c==="outside"&&U.jsxs("span",{"data-testid":"flowbite-progress-outer-progress-label",children:[u,"%"]})]}),U.jsx("div",{className:Rt(i.base,i.size[f],o),children:U.jsxs("div",{style:{width:`${u}%`},className:Rt(i.bar,i.color[s],i.size[f]),children:[d&&l&&h==="inside"&&U.jsx("span",{"data-testid":"flowbite-progress-inner-text-label",children:d}),u>0&&a&&c==="inside"&&U.jsxs("span",{"data-testid":"flowbite-progress-inner-progress-label",children:[u,"%"]})]})})]})});vv.displayName="Progress";const Qk={base:"h-4 w-4 appearance-none rounded-full border border-gray-300 bg-gray-100 bg-[length:1em_1em] bg-center bg-no-repeat checked:border-transparent checked:bg-current checked:bg-dot-icon focus:outline-none focus:ring-2 focus:ring-offset-2 dark:border-gray-600 dark:bg-gray-700 dark:checked:border-transparent dark:checked:bg-current",color:{default:"text-primary-600 focus:ring-primary-600 dark:ring-offset-gray-800 dark:focus:ring-primary-600",dark:"text-gray-800 focus:ring-gray-800 dark:ring-offset-gray-800 dark:focus:ring-gray-800",failure:"text-red-900 focus:ring-red-900 dark:ring-offset-red-900 dark:focus:ring-red-900",gray:"text-gray-900 focus:ring-gray-900 dark:ring-offset-gray-900 dark:focus:ring-gray-900",info:"text-cyan-800 focus:ring-cyan-800 dark:ring-offset-gray-800 dark:focus:ring-cyan-800",light:"text-gray-900 focus:ring-gray-900 dark:ring-offset-gray-900 dark:focus:ring-gray-900",purple:"text-purple-600 focus:ring-purple-600 dark:ring-offset-purple-600 dark:focus:ring-purple-600",success:"text-green-800 focus:ring-green-800 dark:ring-offset-green-800 dark:focus:ring-green-800",warning:"text-yellow-400 focus:ring-yellow-400 dark:ring-offset-yellow-400 dark:focus:ring-yellow-400",blue:"text-blue-700 focus:ring-blue-600 dark:ring-offset-blue-700 dark:focus:ring-blue-700",cyan:"text-cyan-600 focus:ring-cyan-600 dark:ring-offset-cyan-600 dark:focus:ring-cyan-600",green:"text-green-600 focus:ring-green-600 dark:ring-offset-green-600 dark:focus:ring-green-600",indigo:"text-indigo-700 focus:ring-indigo-700 dark:ring-offset-indigo-700 dark:focus:ring-indigo-700",lime:"text-lime-700 focus:ring-lime-700 dark:ring-offset-lime-700 dark:focus:ring-lime-700",pink:"text-pink-600 focus:ring-pink-600 dark:ring-offset-pink-600 dark:focus:ring-pink-600",red:"text-red-600 focus:ring-red-600 dark:ring-offset-red-600 dark:focus:ring-red-600",teal:"text-teal-600 focus:ring-teal-600 dark:ring-offset-teal-600 dark:focus:ring-teal-600",yellow:"text-yellow-400 focus:ring-yellow-400 dark:ring-offset-yellow-400 dark:focus:ring-yellow-400"}},da=Z.forwardRef((e,t)=>{const r=Zt(),n=Yt([Qk,r.theme?.radio,e.theme],[Qe(r.clearTheme,"radio"),e.clearTheme],[Qe(r.applyTheme,"radio"),e.applyTheme]),{color:i="default",className:o,...s}=Jt(e,r.props?.radio);return U.jsx("input",{ref:t,type:"radio",className:Rt(n.base,n.color[i],o),...s})});da.displayName="Radio";const eE={base:"flex",addon:"inline-flex items-center rounded-l-md border border-r-0 border-gray-300 bg-gray-200 px-3 text-sm text-gray-900 dark:border-gray-600 dark:bg-gray-600 dark:text-gray-400",field:{base:"relative w-full",icon:{base:"pointer-events-none absolute inset-y-0 left-0 flex items-center pl-3",svg:"h-5 w-5 text-gray-500 dark:text-gray-400"},select:{base:"block w-full appearance-none border bg-arrow-down-icon bg-[length:0.75em_0.75em] bg-[position:right_12px_center] bg-no-repeat pr-10 focus:outline-none focus:ring-1 disabled:cursor-not-allowed disabled:opacity-50",withIcon:{on:"pl-10",off:""},withAddon:{on:"rounded-r-lg",off:"rounded-lg"},withShadow:{on:"shadow-sm dark:shadow-sm-light",off:""},sizes:{sm:"p-2 sm:text-xs",md:"p-2.5 text-sm",lg:"p-4 sm:text-base"},colors:{gray:"border-gray-300 bg-gray-50 text-gray-900 focus:border-primary-500 focus:ring-primary-500 dark:border-gray-600 dark:bg-gray-700 dark:text-white dark:placeholder-gray-400 dark:focus:border-primary-500 dark:focus:ring-primary-500",info:"border-cyan-500 bg-cyan-50 text-cyan-900 placeholder-cyan-700 focus:border-cyan-500 focus:ring-cyan-500 dark:border-cyan-400 dark:bg-cyan-100 dark:focus:border-cyan-500 dark:focus:ring-cyan-500",failure:"border-red-500 bg-red-50 text-red-900 placeholder-red-700 focus:border-red-500 focus:ring-red-500 dark:border-red-400 dark:bg-red-100 dark:focus:border-red-500 dark:focus:ring-red-500",warning:"border-yellow-500 bg-yellow-50 text-yellow-900 placeholder-yellow-700 focus:border-yellow-500 focus:ring-yellow-500 dark:border-yellow-400 dark:bg-yellow-100 dark:focus:border-yellow-500 dark:focus:ring-yellow-500",success:"border-green-500 bg-green-50 text-green-900 placeholder-green-700 focus:border-green-500 focus:ring-green-500 dark:border-green-400 dark:bg-green-100 dark:focus:border-green-500 dark:focus:ring-green-500"}}}},lr=Z.forwardRef((e,t)=>{const r=Zt(),n=Yt([eE,r.theme?.select,e.theme],[Qe(r.clearTheme,"select"),e.clearTheme],[Qe(r.applyTheme,"select"),e.applyTheme]),{addon:i,className:o,color:s="gray",icon:a,shadow:l,sizing:u="md",...c}=Jt(e,r.props?.select);return U.jsxs("div",{className:Rt(n.base,o),children:[i&&U.jsx("span",{className:n.addon,children:i}),U.jsxs("div",{className:n.field.base,children:[a&&U.jsx("div",{className:n.field.icon.base,children:U.jsx(a,{className:n.field.icon.svg})}),U.jsx("select",{ref:t,className:Rt(n.field.select.base,n.field.select.colors[s],n.field.select.sizes[u],n.field.select.withIcon[a?"on":"off"],n.field.select.withAddon[i?"on":"off"],n.field.select.withShadow[l?"on":"off"]),...c})]})]})});lr.displayName="Select";const tE={base:"inline animate-spin text-gray-200",color:{default:"fill-primary-600",failure:"fill-red-600",gray:"fill-gray-600",info:"fill-cyan-600",pink:"fill-pink-600",purple:"fill-purple-600",success:"fill-green-500",warning:"fill-yellow-400"},light:{off:{base:"dark:text-gray-600",color:{default:"",failure:"",gray:"dark:fill-gray-300",info:"",pink:"",purple:"",success:"",warning:""}},on:{base:"",color:{default:"",failure:"",gray:"",info:"",pink:"",purple:"",success:"",warning:""}}},size:{xs:"h-3 w-3",sm:"h-4 w-4",md:"h-6 w-6",lg:"h-8 w-8",xl:"h-10 w-10"}},Eh=Z.forwardRef((e,t)=>{const r=Zt(),n=Yt([tE,r.theme?.spinner,e.theme],[Qe(r.clearTheme,"spinner"),e.clearTheme],[Qe(r.applyTheme,"spinner"),e.applyTheme]),{className:i,color:o="default",light:s,size:a="lg",...l}=Jt(e,r.props?.spinner);return U.jsx("span",{ref:t,role:"status",...l,children:U.jsxs("svg",{fill:"none",viewBox:"0 0 100 101",className:Rt(n.base,n.color[o],n.light[s?"on":"off"].base,n.light[s?"on":"off"].color[o],n.size[a],i),children:[U.jsx("path",{d:"M100 50.5908C100 78.2051 77.6142 100.591 50 100.591C22.3858 100.591 0 78.2051 0 50.5908C0 22.9766 22.3858 0.59082 50 0.59082C77.6142 0.59082 100 22.9766 100 50.5908ZM9.08144 50.5908C9.08144 73.1895 27.4013 91.5094 50 91.5094C72.5987 91.5094 90.9186 73.1895 90.9186 50.5908C90.9186 27.9921 72.5987 9.67226 50 9.67226C27.4013 9.67226 9.08144 27.9921 9.08144 50.5908Z",fill:"currentColor"}),U.jsx("path",{d:"M93.9676 39.0409C96.393 38.4038 97.8624 35.9116 97.0079 33.5539C95.2932 28.8227 92.871 24.3692 89.8167 20.348C85.8452 15.1192 80.8826 10.7238 75.2124 7.41289C69.5422 4.10194 63.2754 1.94025 56.7698 1.05124C51.7666 0.367541 46.6976 0.446843 41.7345 1.27873C39.2613 1.69328 37.813 4.19778 38.4501 6.62326C39.0873 9.04874 41.5694 10.4717 44.0505 10.1071C47.8511 9.54855 51.7191 9.52689 55.5402 10.0491C60.8642 10.7766 65.9928 12.5457 70.6331 15.2552C75.2735 17.9648 79.3347 21.5619 82.5849 25.841C84.9175 28.9121 86.7997 32.2913 88.1811 35.8758C89.083 38.2158 91.5421 39.6781 93.9676 39.0409Z",fill:"currentFill"})]})})});Eh.displayName="Spinner";const rE={base:"block w-full rounded-lg border p-2.5 text-sm focus:outline-none focus:ring-1 disabled:cursor-not-allowed disabled:opacity-50",colors:{gray:"border-gray-300 bg-gray-50 text-gray-900 focus:border-primary-500 focus:ring-primary-500 dark:border-gray-600 dark:bg-gray-700 dark:text-white dark:placeholder-gray-400 dark:focus:border-primary-500 dark:focus:ring-primary-500",info:"border-cyan-500 bg-cyan-50 text-cyan-900 placeholder-cyan-700 focus:border-cyan-500 focus:ring-cyan-500 dark:border-cyan-400 dark:bg-cyan-100 dark:focus:border-cyan-500 dark:focus:ring-cyan-500",failure:"border-red-500 bg-red-50 text-red-900 placeholder-red-700 focus:border-red-500 focus:ring-red-500 dark:border-red-400 dark:bg-red-100 dark:focus:border-red-500 dark:focus:ring-red-500",warning:"border-yellow-500 bg-yellow-50 text-yellow-900 placeholder-yellow-700 focus:border-yellow-500 focus:ring-yellow-500 dark:border-yellow-400 dark:bg-yellow-100 dark:focus:border-yellow-500 dark:focus:ring-yellow-500",success:"border-green-500 bg-green-50 text-green-900 placeholder-green-700 focus:border-green-500 focus:ring-green-500 dark:border-green-400 dark:bg-green-100 dark:focus:border-green-500 dark:focus:ring-green-500"},withShadow:{on:"shadow-sm dark:shadow-sm-light",off:""}},_c=Z.forwardRef((e,t)=>{const r=Zt(),n=Yt([rE,r.theme?.textarea,e.theme],[Qe(r.clearTheme,"textarea"),e.clearTheme],[Qe(r.applyTheme,"textarea"),e.applyTheme]),{className:i,color:o="gray",shadow:s,...a}=Jt(e,r.props?.textarea);return U.jsx("textarea",{ref:t,className:Rt(n.base,n.colors[o],n.withShadow[s?"on":"off"],i),...a})});_c.displayName="Textarea";var wv={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},Lg=xe.createContext&&xe.createContext(wv),nE=["attr","size","title"];function iE(e,t){if(e==null)return{};var r=oE(e,t),n,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)n=o[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function oE(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function Bu(){return Bu=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Bu.apply(this,arguments)}function Ng(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Lu(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Ng(Object(r),!0).forEach(function(n){sE(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Ng(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function sE(e,t,r){return t=aE(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function aE(e){var t=lE(e,"string");return typeof t=="symbol"?t:t+""}function lE(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Cv(e){return e&&e.map((t,r)=>xe.createElement(t.tag,Lu({key:r},t.attr),Cv(t.child)))}function vr(e){return t=>xe.createElement(uE,Bu({attr:Lu({},e.attr)},t),Cv(e.child))}function uE(e){var t=r=>{var{attr:n,size:i,title:o}=e,s=iE(e,nE),a=i||r.size||"1em",l;return r.className&&(l=r.className),e.className&&(l=(l?l+" ":"")+e.className),xe.createElement("svg",Bu({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},r.attr,n,s,{className:l,style:Lu(Lu({color:e.color||r.color},r.style),e.style),height:a,width:a,xmlns:"http://www.w3.org/2000/svg"}),o&&xe.createElement("title",null,o),e.children)};return Lg!==void 0?xe.createElement(Lg.Consumer,null,r=>t(r)):t(wv)}function cE(e){return vr({attr:{viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{fillRule:"evenodd",d:"M12.293 5.293a1 1 0 011.414 0l4 4a1 1 0 010 1.414l-4 4a1 1 0 01-1.414-1.414L14.586 11H3a1 1 0 110-2h11.586l-2.293-2.293a1 1 0 010-1.414z",clipRule:"evenodd"},child:[]}]})(e)}function Fv(e){return vr({attr:{viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z",clipRule:"evenodd"},child:[]}]})(e)}function dE(e){return vr({attr:{viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{fillRule:"evenodd",d:"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z",clipRule:"evenodd"},child:[]}]})(e)}function hE(e){return vr({attr:{viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{d:"M8 2a1 1 0 000 2h2a1 1 0 100-2H8z"},child:[]},{tag:"path",attr:{d:"M3 5a2 2 0 012-2 3 3 0 003 3h2a3 3 0 003-3 2 2 0 012 2v6h-4.586l1.293-1.293a1 1 0 00-1.414-1.414l-3 3a1 1 0 000 1.414l3 3a1 1 0 001.414-1.414L10.414 13H15v3a2 2 0 01-2 2H5a2 2 0 01-2-2V5zM15 11h2a1 1 0 110 2h-2v-2z"},child:[]}]})(e)}function fE(e){return vr({attr:{viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{d:"M9 2a1 1 0 000 2h2a1 1 0 100-2H9z"},child:[]},{tag:"path",attr:{fillRule:"evenodd",d:"M4 5a2 2 0 012-2 3 3 0 003 3h2a3 3 0 003-3 2 2 0 012 2v11a2 2 0 01-2 2H6a2 2 0 01-2-2V5zm3 4a1 1 0 000 2h.01a1 1 0 100-2H7zm3 0a1 1 0 000 2h3a1 1 0 100-2h-3zm-3 4a1 1 0 100 2h.01a1 1 0 100-2H7zm3 0a1 1 0 100 2h3a1 1 0 100-2h-3z",clipRule:"evenodd"},child:[]}]})(e)}function pE(e){return vr({attr:{viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{fillRule:"evenodd",d:"M6 2a2 2 0 00-2 2v12a2 2 0 002 2h8a2 2 0 002-2V7.414A2 2 0 0015.414 6L12 2.586A2 2 0 0010.586 2H6zm5 6a1 1 0 10-2 0v2H7a1 1 0 100 2h2v2a1 1 0 102 0v-2h2a1 1 0 100-2h-2V8z",clipRule:"evenodd"},child:[]}]})(e)}function gE(e){return vr({attr:{viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7 4a1 1 0 11-2 0 1 1 0 012 0zm-1-9a1 1 0 00-1 1v4a1 1 0 102 0V6a1 1 0 00-1-1z",clipRule:"evenodd"},child:[]}]})(e)}function mE(e){return vr({attr:{viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{fillRule:"evenodd",d:"M8.257 3.099c.765-1.36 2.722-1.36 3.486 0l5.58 9.92c.75 1.334-.213 2.98-1.742 2.98H4.42c-1.53 0-2.493-1.646-1.743-2.98l5.58-9.92zM11 13a1 1 0 11-2 0 1 1 0 012 0zm-1-8a1 1 0 00-1 1v3a1 1 0 002 0V6a1 1 0 00-1-1z",clipRule:"evenodd"},child:[]}]})(e)}function bE(e){return vr({attr:{viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{d:"M11 3a1 1 0 100 2h2.586l-6.293 6.293a1 1 0 101.414 1.414L15 6.414V9a1 1 0 102 0V4a1 1 0 00-1-1h-5z"},child:[]},{tag:"path",attr:{d:"M5 5a2 2 0 00-2 2v8a2 2 0 002 2h8a2 2 0 002-2v-3a1 1 0 10-2 0v3H5V7h3a1 1 0 000-2H5z"},child:[]}]})(e)}function Rh(e){return vr({attr:{viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a1 1 0 000 2v3a1 1 0 001 1h1a1 1 0 100-2v-3a1 1 0 00-1-1H9z",clipRule:"evenodd"},child:[]}]})(e)}function yE(e){return vr({attr:{viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{fillRule:"evenodd",d:"M12.586 4.586a2 2 0 112.828 2.828l-3 3a2 2 0 01-2.828 0 1 1 0 00-1.414 1.414 4 4 0 005.656 0l3-3a4 4 0 00-5.656-5.656l-1.5 1.5a1 1 0 101.414 1.414l1.5-1.5zm-5 5a2 2 0 012.828 0 1 1 0 101.414-1.414 4 4 0 00-5.656 0l-3 3a4 4 0 105.656 5.656l1.5-1.5a1 1 0 10-1.414-1.414l-1.5 1.5a2 2 0 11-2.828-2.828l3-3z",clipRule:"evenodd"},child:[]}]})(e)}function vE(e){return vr({attr:{viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{fillRule:"evenodd",d:"M5 4a3 3 0 00-3 3v6a3 3 0 003 3h10a3 3 0 003-3V7a3 3 0 00-3-3H5zm-1 9v-1h5v2H5a1 1 0 01-1-1zm7 1h4a1 1 0 001-1v-1h-5v2zm0-4h5V8h-5v2zM9 8H4v2h5V8z",clipRule:"evenodd"},child:[]}]})(e)}function wE(e){return vr({attr:{viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{fillRule:"evenodd",d:"M2 5a2 2 0 012-2h12a2 2 0 012 2v10a2 2 0 01-2 2H4a2 2 0 01-2-2V5zm3.293 1.293a1 1 0 011.414 0l3 3a1 1 0 010 1.414l-3 3a1 1 0 01-1.414-1.414L7.586 10 5.293 7.707a1 1 0 010-1.414zM11 12a1 1 0 100 2h3a1 1 0 100-2h-3z",clipRule:"evenodd"},child:[]}]})(e)}function CE(e){return vr({attr:{viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{fillRule:"evenodd",d:"M3 17a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1zM6.293 6.707a1 1 0 010-1.414l3-3a1 1 0 011.414 0l3 3a1 1 0 01-1.414 1.414L11 5.414V13a1 1 0 11-2 0V5.414L7.707 6.707a1 1 0 01-1.414 0z",clipRule:"evenodd"},child:[]}]})(e)}function FE(e){return vr({attr:{viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{d:"M13 6a3 3 0 11-6 0 3 3 0 016 0zM18 8a2 2 0 11-4 0 2 2 0 014 0zM14 15a4 4 0 00-8 0v3h8v-3zM6 8a2 2 0 11-4 0 2 2 0 014 0zM16 18v-3a5.972 5.972 0 00-.75-2.906A3.005 3.005 0 0119 15v3h-3zM4.75 12.094A5.973 5.973 0 004 15v3H1v-3a3 3 0 013.75-2.906z"},child:[]}]})(e)}function SE(e){return vr({attr:{viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z",clipRule:"evenodd"},child:[]}]})(e)}function Sv(e){return vr({attr:{viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{fillRule:"evenodd",d:"M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z",clipRule:"evenodd"},child:[]}]})(e)}function xE({label:e,keywords:t=[],onKeywordsChange:r,placeholder:n}){const[i,o]=Z.useState(""),s=Array.isArray(t)?t:[],a=f=>{f.key==="Enter"||f.key===","?(f.preventDefault(),l()):f.key==="Backspace"&&!i&&s.length>0&&u(s.length-1)},l=()=>{const f=i.trim();f&&!s.includes(f)&&(r([...s,f]),o(""))},u=f=>{const d=s.filter((h,g)=>g!==f);r(d)},{t:c}=kr();return U.jsxs("div",{children:[e&&U.jsx(mt,{className:"mb-2 block",children:e}),U.jsxs("div",{className:"flex flex-wrap items-center gap-2 p-2.5 border border-gray-300 bg-gray-50 rounded-lg focus-within:ring-1 focus-within:ring-blue-500 focus-within:border-blue-500 transition-colors",children:[s.map((f,d)=>U.jsxs(Py,{size:"md",className:"px-2 py-1 flex items-center gap-1 border-none",style:{backgroundColor:"#d1d5db",color:"black"},children:[f,U.jsx("button",{type:"button",onClick:()=>u(d),className:"ml-1 text-black/60 hover:text-white focus:outline-none transition-colors",children:U.jsx(Sv,{className:"h-3 w-3"})})]},d)),U.jsx(br,{type:"text",value:i,onChange:f=>o(f.target.value),onKeyDown:a,onBlur:l,className:"flex-1 min-w-[120px] border-none bg-transparent p-0 text-sm text-gray-900 focus:ring-0 placeholder:text-gray-500",placeholder:s.length===0?n:c("metadata.keywords_placeholder")})]})]})}const kE=[{value:"CC BY 4.0 https://creativecommons.org/licenses/by/4.0/",name:"CC BY 4.0"},{value:"CC BY-SA 4.0 https://creativecommons.org/licenses/by-sa/4.0/",name:"CC BY-SA 4.0"},{value:"CC BY-NC 4.0 https://creativecommons.org/licenses/by-nc/4.0/",name:"CC BY-NC 4.0"},{value:"CC BY-NC-SA 4.0 https://creativecommons.org/licenses/by-nc-sa/4.0/",name:"CC BY-NC-SA 4.0"},{value:"CC BY-ND 4.0 https://creativecommons.org/licenses/by-nd/4.0/",name:"CC BY-ND 4.0"},{value:"CC BY-NC-ND 4.0 https://creativecommons.org/licenses/by-nc-nd/4.0/",name:"CC BY-NC-ND 4.0"},{value:"CC0 1.0 https://creativecommons.org/publicdomain/zero/1.0/",name:"CC0 1.0"}],EE=/^(0|[1-9]\d*)\.(0|[1-9]\d*)\.(0|[1-9]\d*)(?:-((?:0|[1-9]\d*|\d*[a-zA-Z-][0-9a-zA-Z-]*)(?:\.(?:0|[1-9]\d*|\d*[a-zA-Z-][0-9a-zA-Z-]*))*))?(?:\+([0-9a-zA-Z-]+(?:\.[0-9a-zA-Z-]+)*))?$/,RE=/^\d{4}-\d{4}-\d{4}-\d{3}[\dX]$/,ol=({label:e,value:t,onSave:r,maxLength:n,required:i,validator:o,customErrorMsg:s,helper:a,...l})=>{const[u,c]=Z.useState(t||""),{t:f}=kr();Z.useEffect(()=>{c(t||"")},[t]);const d=!u||u.trim()==="",h=i&&d,g=!d&&o&&!o(u),m=h||g;return U.jsxs("div",{className:"w-full",children:[e&&U.jsxs(mt,{htmlFor:l.id,className:"mb-2 block",color:m?"failure":"gray",children:[e," ",i&&U.jsx("span",{className:"text-red-500",children:"*"})]}),U.jsx(br,{...l,value:u,maxLength:n,color:m?"failure":"gray",onChange:p=>c(p.target.value),onBlur:()=>r(u)}),U.jsxs("div",{className:"flex justify-between mt-1 items-start gap-2",children:[U.jsxs("div",{className:"flex-1",children:[a&&U.jsx("div",{className:"text-xs text-gray-500 dark:text-gray-400 mb-1",children:a}),m&&U.jsx(jr,{color:"failure",className:"mt-0",children:h?f("common.mandatory"):s||"Invalid format"})]}),U.jsxs(jr,{className:`mt-0 ${u.length>=n?"text-red-600 font-bold":""}`,children:[u.length,"/",n]})]})]})},ud=({label:e,value:t,onSave:r,maxLength:n,rows:i=4,...o})=>{const[s,a]=Z.useState(t||"");return Z.useEffect(()=>{a(t||"")},[t]),U.jsxs("div",{children:[e&&U.jsx(mt,{htmlFor:o.id,className:"mb-2 block",children:e}),U.jsx(_c,{...o,rows:i,value:s,maxLength:n,onChange:l=>a(l.target.value),onBlur:()=>r(s)}),U.jsxs(jr,{className:s.length>=n?"text-red-600 font-bold":"",children:[s.length,"/",n]})]})},_E=xe.memo(({author:e,index:t,handleAuthorChange:r,removeAuthor:n,moveAuthor:i})=>{const{t:o}=kr(),s=e.id||"",a=s.length>0&&!RE.test(s);return U.jsxs("div",{className:"mb-4 border rounded-lg p-3 bg-gray-50 flex items-start gap-2",children:[U.jsxs("div",{className:"flex flex-col gap-1",children:[U.jsx(pt,{size:"xs",onClick:()=>i(t,"up"),disabled:t===0,className:"px-2 py-0.5 bg-[#4D76B2]! hover:bg-[#3C64A3]!",children:""}),U.jsx(pt,{size:"xs",onClick:()=>i(t,"down"),disabled:!1,className:"px-2 py-0.5 bg-[#4D76B2]! hover:bg-[#3C64A3]!",children:""})]}),U.jsx(br,{size:"sm",placeholder:o("metadata.authors.name_ph"),value:e.name,onChange:l=>r(t,"name",l.target.value),className:"flex-1"}),U.jsx(br,{size:"sm",placeholder:o("metadata.authors.affiliation_ph"),value:e.affiliation,onChange:l=>r(t,"affiliation",l.target.value),className:"flex-1"}),U.jsxs("div",{className:"flex-1 flex flex-col",children:[U.jsx(br,{size:"sm",placeholder:"ORCID (0000-0000-0000-0000)",value:e.id,color:a?"failure":"gray",onChange:l=>r(t,"id",l.target.value),className:"w-full"}),U.jsx(jr,{className:"mt-1",color:a?"failure":"gray",children:a?U.jsx("span",{children:o("metadata.errors.orcid_invalid")||"Formato incorrecto (Ej: 0000-0000-0000-000X)"}):e.id?U.jsxs(U.Fragment,{children:[o("metadata.authors.visit")," "," ",U.jsx("a",{href:`https://orcid.org/${e.id}`,target:"_blank",rel:"noopener noreferrer",className:"text-[#3C64A3] hover:underline",children:`https://orcid.org/${e.id}`})]}):U.jsx("span",{className:"italic text-gray-400",children:o("metadata.authors.orcid_helper")})})]}),U.jsx(pt,{size:"sm",onClick:()=>n(t),className:"ml-2 whitespace-nowrap bg-[#D64545]! hover:bg-[#b03939]! text-white focus:ring-4 focus:ring-red-300",children:o("metadata.authors.remove")})]})});function AE(){const{formData:e,updateForm:t}=Di(),{t:r}=kr(),n=e.metadata||{},{project:i="",funder:o="",url_project:s="",work_package:a="",use_case:l="",document:u="",version_sem:c="",authors:f=[],keywords:d=[],description:h="",notes:g="",spatial_coverage:m="",license:p=""}=n,y=(I,M)=>{n[I]!==M&&t("metadata",{...n,[I]:M})},b=I=>{t("metadata",{...n,keywords:I})},v=Z.useCallback((I,M,P)=>{const O=[...f];O[I]={...O[I],[M]:P},y("authors",O)},[f,n]),F=Z.useCallback(()=>{y("authors",[...f,{name:"",affiliation:"",id:""}])},[f,n]),E=Z.useCallback(I=>{y("authors",f.filter((M,P)=>P!==I))},[f,n]),T=Z.useCallback((I,M)=>{const P=[...f];M==="up"&&I>0?[P[I-1],P[I]]=[P[I],P[I-1]]:M==="down"&&I<f.length-1&&([P[I+1],P[I]]=[P[I],P[I+1]]),y("authors",P)},[f,n]);return U.jsxs("div",{className:"w-full min-h-screen p-10",children:[U.jsx("h1",{className:"text-4xl font-bold mb-10 border-b pb-4",children:r("metadata.title")}),U.jsxs("form",{className:"space-y-2",onSubmit:I=>I.preventDefault(),children:[U.jsx("section",{children:U.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:[U.jsx(ol,{id:"project_input",label:r("metadata.project_name"),placeholder:r("metadata.project_ph"),required:!0,value:i,maxLength:250,onSave:I=>y("project",I)}),U.jsx(ol,{id:"urlProject",label:r("metadata.url_project"),placeholder:"https://mi-proyecto.org",value:s,maxLength:250,onSave:I=>y("url_project",I)}),U.jsxs("div",{children:[U.jsx(mt,{className:"mb-2 block",htmlFor:"workPackage",children:r("metadata.work_package")}),U.jsx(br,{id:"workPackage",placeholder:r("metadata.work_package_ph"),defaultValue:a,onBlur:I=>y("work_package",I.target.value)},`wp-${a}`)]}),U.jsx("div",{children:U.jsx(ol,{label:r("metadata.use_case"),required:!0,maxLength:250,id:"useCase",placeholder:r("metadata.use_case_ph"),value:l,onSave:I=>y("use_case",I)},`uc-${l}`)}),U.jsxs("div",{children:[U.jsx(mt,{className:"mb-2 block",htmlFor:"documentName",children:r("metadata.document")}),U.jsx(br,{id:"documentName",placeholder:r("metadata.document_ph"),defaultValue:u,onBlur:I=>y("document",I.target.value)},`doc-${u}`)]}),U.jsx("div",{children:U.jsx(ol,{label:r("metadata.version_sem"),id:"versionSem",required:!0,placeholder:"0.0.1",value:c,maxLength:250,validator:I=>EE.test(I),customErrorMsg:r("metadata.errors.semver_invalid")||"Formato invlido (Ej: 1.0.0)",onSave:I=>y("version_sem",I),helper:U.jsxs(U.Fragment,{children:[r("metadata.semver_helper")," ",U.jsx("a",{href:"https://semver.org/",target:"_blank",rel:"noreferrer",className:"text-blue-600 hover:underline",children:"SemVer 2.0.0"})]})},`ver-${c}`)}),U.jsxs("div",{children:[U.jsx(mt,{className:"mb-2 block",htmlFor:"spatialCoverage",children:r("metadata.spatial_coverage")}),U.jsx(br,{id:"spatialCoverage",placeholder:r("metadata.spatial_coverage_ph"),defaultValue:m,onBlur:I=>y("spatial_coverage",I.target.value)},`spatial-${m}`)]}),U.jsxs("div",{className:"w-full",children:[U.jsx(mt,{className:"mb-2 block",htmlFor:"license",children:r("metadata.license")}),U.jsxs(lr,{id:"license",defaultValue:p,onChange:I=>y("license",I.target.value),children:[U.jsx("option",{value:"",children:r("metadata.license_default")}),kE.map(I=>U.jsx("option",{value:I.value,children:I.name},I.value))]},`lic-${p}`),U.jsx(jr,{children:U.jsx("a",{href:"https://creativecommons.org/about/cclicenses/",target:"_blank",rel:"noreferrer",className:"text-blue-600 hover:underline",children:r("metadata.license_helper")})})]})]})}),U.jsx("section",{children:U.jsx(ud,{id:"funder",label:r("metadata.funder"),placeholder:r("metadata.funder_ph"),value:o,maxLength:500,rows:3,onSave:I=>y("funder",I)})}),U.jsxs("section",{className:"mt-8",children:[U.jsx("h2",{className:"text-2xl font-semibold mb-6",children:r("metadata.authors.title")}),f.map((I,M)=>U.jsx(_E,{author:I,index:M,handleAuthorChange:v,removeAuthor:E,moveAuthor:T},M)),U.jsx(pt,{size:"sm",onClick:F,className:"mt-2 mb-6 bg-[#4D76B2]! hover:bg-[#3C64A3]!",children:r("metadata.authors.add")})]}),U.jsxs("section",{children:[U.jsx(xE,{label:r("metadata.keywords"),placeholder:r("metadata.keywords_placeholder"),keywords:d,onKeywordsChange:b}),U.jsx("div",{className:"mt-10",children:U.jsx(ud,{label:r("metadata.description"),placeholder:r("metadata.description_ph"),value:h,maxLength:3e3,rows:8,onSave:I=>y("description",I)})}),U.jsx("div",{className:"mt-10",children:U.jsx(ud,{label:r("metadata.notes"),placeholder:r("metadata.notes_ph"),value:g,maxLength:3e3,rows:8,onSave:I=>y("notes",I)})})]})]}),U.jsx(Ey,{collapseAll:!0,className:"mt-10 shadow-sm border border-gray-200 rounded-lg",children:U.jsxs(Ty,{children:[U.jsx(Dy,{className:"text-base py-2 text-black bg-[#FED56D] hover:bg-[#F5C75D] focus:ring-0 dark:bg-[#FED56D] dark:text-black dark:hover:bg-[#F5C75D]",children:r("metadata.conventions_title")}),U.jsxs(Ay,{className:"text-sm p-2 bg-white dark:bg-white",children:[U.jsxs("p",{className:"mb-2 text-black dark:text-black",children:[U.jsx("strong",{children:"1: "}),r("metadata.conventions_1")]}),U.jsxs("p",{className:"mb-2 text-black dark:text-black",children:[U.jsx("strong",{children:"2: "}),r("metadata.conventions_2")]}),U.jsxs("p",{className:"mb-2 text-black dark:text-black",children:[U.jsx("strong",{children:"3: "}),r("metadata.conventions_3")]}),U.jsxs("p",{className:"mb-2 text-black dark:text-black",children:[U.jsx("strong",{children:"4: "}),r("metadata.conventions_4")]}),U.jsxs("p",{className:"mb-2 text-black dark:text-black",children:[U.jsx("strong",{children:"5: "}),r("metadata.conventions_5")]}),U.jsxs("p",{className:"mb-2 text-black dark:text-black",children:[U.jsx("strong",{children:"6: "}),r("metadata.conventions_6")]}),U.jsxs("p",{className:"mb-2 text-black dark:text-black",children:[U.jsx("strong",{children:"7: "}),r("metadata.conventions_7")]})]})]})})]})}/*!
* sweetalert2 v11.26.4
* Released under the MIT License.
*/function xv(e,t,r){if(typeof e=="function"?e===t:e.has(t))return arguments.length<3?t:r;throw new TypeError("Private element is not present on this object")}function TE(e,t){if(t.has(e))throw new TypeError("Cannot initialize the same private elements twice on an object")}function Og(e,t){return e.get(xv(e,t))}function DE(e,t,r){TE(e,t),t.set(e,r)}function ME(e,t,r){return e.set(xv(e,t),r),r}const PE=100,Ke={},IE=()=>{Ke.previousActiveElement instanceof HTMLElement?(Ke.previousActiveElement.focus(),Ke.previousActiveElement=null):document.body&&document.body.focus()},BE=e=>new Promise(t=>{if(!e)return t();const r=window.scrollX,n=window.scrollY;Ke.restoreFocusTimeout=setTimeout(()=>{IE(),t()},PE),window.scrollTo(r,n)}),kv="swal2-",LE=["container","shown","height-auto","iosfix","popup","modal","no-backdrop","no-transition","toast","toast-shown","show","hide","close","title","html-container","actions","confirm","deny","cancel","footer","icon","icon-content","image","input","file","range","select","radio","checkbox","label","textarea","inputerror","input-label","validation-message","progress-steps","active-progress-step","progress-step","progress-step-line","loader","loading","styled","top","top-start","top-end","top-left","top-right","center","center-start","center-end","center-left","center-right","bottom","bottom-start","bottom-end","bottom-left","bottom-right","grow-row","grow-column","grow-fullscreen","rtl","timer-progress-bar","timer-progress-bar-container","scrollbar-measure","icon-success","icon-warning","icon-info","icon-question","icon-error","draggable","dragging"],be=LE.reduce((e,t)=>(e[t]=kv+t,e),{}),NE=["success","warning","info","question","error"],Nu=NE.reduce((e,t)=>(e[t]=kv+t,e),{}),Ev="SweetAlert2:",If=e=>e.charAt(0).toUpperCase()+e.slice(1),Mr=e=>{console.warn(`${Ev} ${typeof e=="object"?e.join(" "):e}`)},So=e=>{console.error(`${Ev} ${e}`)},Hg=[],OE=e=>{Hg.includes(e)||(Hg.push(e),Mr(e))},Rv=(e,t=null)=>{OE(`"${e}" is deprecated and will be removed in the next major release.${t?` Use "${t}" instead.`:""}`)},Ac=e=>typeof e=="function"?e():e,Bf=e=>e&&typeof e.toPromise=="function",Aa=e=>Bf(e)?e.toPromise():Promise.resolve(e),Lf=e=>e&&Promise.resolve(e)===e,Ir=()=>document.body.querySelector(`.${be.container}`),Ta=e=>{const t=Ir();return t?t.querySelector(e):null},Zr=e=>Ta(`.${e}`),Et=()=>Zr(be.popup),Es=()=>Zr(be.icon),HE=()=>Zr(be["icon-content"]),_v=()=>Zr(be.title),Nf=()=>Zr(be["html-container"]),Av=()=>Zr(be.image),Of=()=>Zr(be["progress-steps"]),Tc=()=>Zr(be["validation-message"]),Tn=()=>Ta(`.${be.actions} .${be.confirm}`),Rs=()=>Ta(`.${be.actions} .${be.cancel}`),xo=()=>Ta(`.${be.actions} .${be.deny}`),GE=()=>Zr(be["input-label"]),_s=()=>Ta(`.${be.loader}`),Da=()=>Zr(be.actions),Tv=()=>Zr(be.footer),Dc=()=>Zr(be["timer-progress-bar"]),Hf=()=>Zr(be.close),jE=`
  a[href],
  area[href],
  input:not([disabled]),
  select:not([disabled]),
  textarea:not([disabled]),
  button:not([disabled]),
  iframe,
  object,
  embed,
  [tabindex="0"],
  [contenteditable],
  audio[controls],
  video[controls],
  summary
`,Gf=()=>{const e=Et();if(!e)return[];const t=e.querySelectorAll('[tabindex]:not([tabindex="-1"]):not([tabindex="0"])'),r=Array.from(t).sort((o,s)=>{const a=parseInt(o.getAttribute("tabindex")||"0"),l=parseInt(s.getAttribute("tabindex")||"0");return a>l?1:a<l?-1:0}),n=e.querySelectorAll(jE),i=Array.from(n).filter(o=>o.getAttribute("tabindex")!=="-1");return[...new Set(r.concat(i))].filter(o=>Gr(o))},jf=()=>Jn(document.body,be.shown)&&!Jn(document.body,be["toast-shown"])&&!Jn(document.body,be["no-backdrop"]),Mc=()=>{const e=Et();return e?Jn(e,be.toast):!1},zE=()=>{const e=Et();return e?e.hasAttribute("data-loading"):!1},Xr=(e,t)=>{if(e.textContent="",t){const n=new DOMParser().parseFromString(t,"text/html"),i=n.querySelector("head");i&&Array.from(i.childNodes).forEach(s=>{e.appendChild(s)});const o=n.querySelector("body");o&&Array.from(o.childNodes).forEach(s=>{s instanceof HTMLVideoElement||s instanceof HTMLAudioElement?e.appendChild(s.cloneNode(!0)):e.appendChild(s)})}},Jn=(e,t)=>{if(!t)return!1;const r=t.split(/\s+/);for(let n=0;n<r.length;n++)if(!e.classList.contains(r[n]))return!1;return!0},VE=(e,t)=>{Array.from(e.classList).forEach(r=>{!Object.values(be).includes(r)&&!Object.values(Nu).includes(r)&&!Object.values(t.showClass||{}).includes(r)&&e.classList.remove(r)})},Yr=(e,t,r)=>{if(VE(e,t),!t.customClass)return;const n=t.customClass[r];if(n){if(typeof n!="string"&&!n.forEach){Mr(`Invalid type of customClass.${r}! Expected string or iterable object, got "${typeof n}"`);return}At(e,n)}},Pc=(e,t)=>{if(!t)return null;switch(t){case"select":case"textarea":case"file":return e.querySelector(`.${be.popup} > .${be[t]}`);case"checkbox":return e.querySelector(`.${be.popup} > .${be.checkbox} input`);case"radio":return e.querySelector(`.${be.popup} > .${be.radio} input:checked`)||e.querySelector(`.${be.popup} > .${be.radio} input:first-child`);case"range":return e.querySelector(`.${be.popup} > .${be.range} input`);default:return e.querySelector(`.${be.popup} > .${be.input}`)}},Dv=e=>{if(e.focus(),e.type!=="file"){const t=e.value;e.value="",e.value=t}},Mv=(e,t,r)=>{!e||!t||(typeof t=="string"&&(t=t.split(/\s+/).filter(Boolean)),t.forEach(n=>{Array.isArray(e)?e.forEach(i=>{r?i.classList.add(n):i.classList.remove(n)}):r?e.classList.add(n):e.classList.remove(n)}))},At=(e,t)=>{Mv(e,t,!0)},ln=(e,t)=>{Mv(e,t,!1)},Fi=(e,t)=>{const r=Array.from(e.children);for(let n=0;n<r.length;n++){const i=r[n];if(i instanceof HTMLElement&&Jn(i,t))return i}},no=(e,t,r)=>{r===`${parseInt(`${r}`)}`&&(r=parseInt(r)),r||parseInt(`${r}`)===0?e.style.setProperty(t,typeof r=="number"?`${r}px`:r):e.style.removeProperty(t)},pr=(e,t="flex")=>{e&&(e.style.display=t)},xr=e=>{e&&(e.style.display="none")},zf=(e,t="block")=>{e&&new MutationObserver(()=>{Ma(e,e.innerHTML,t)}).observe(e,{childList:!0,subtree:!0})},Gg=(e,t,r,n)=>{const i=e.querySelector(t);i&&i.style.setProperty(r,n)},Ma=(e,t,r="flex")=>{t?pr(e,r):xr(e)},Gr=e=>!!(e&&(e.offsetWidth||e.offsetHeight||e.getClientRects().length)),WE=()=>!Gr(Tn())&&!Gr(xo())&&!Gr(Rs()),_h=e=>e.scrollHeight>e.clientHeight,$E=(e,t)=>{let r=e;for(;r&&r!==t;){if(_h(r))return!0;r=r.parentElement}return!1},Pv=e=>{const t=window.getComputedStyle(e),r=parseFloat(t.getPropertyValue("animation-duration")||"0"),n=parseFloat(t.getPropertyValue("transition-duration")||"0");return r>0||n>0},Vf=(e,t=!1)=>{const r=Dc();r&&Gr(r)&&(t&&(r.style.transition="none",r.style.width="100%"),setTimeout(()=>{r.style.transition=`width ${e/1e3}s linear`,r.style.width="0%"},10))},UE=()=>{const e=Dc();if(!e)return;const t=parseInt(window.getComputedStyle(e).width);e.style.removeProperty("transition"),e.style.width="100%";const r=parseInt(window.getComputedStyle(e).width),n=t/r*100;e.style.width=`${n}%`},KE=()=>typeof window>"u"||typeof document>"u",qE=`
 <div aria-labelledby="${be.title}" aria-describedby="${be["html-container"]}" class="${be.popup}" tabindex="-1">
   <button type="button" class="${be.close}"></button>
   <ul class="${be["progress-steps"]}"></ul>
   <div class="${be.icon}"></div>
   <img class="${be.image}" />
   <h2 class="${be.title}" id="${be.title}"></h2>
   <div class="${be["html-container"]}" id="${be["html-container"]}"></div>
   <input class="${be.input}" id="${be.input}" />
   <input type="file" class="${be.file}" />
   <div class="${be.range}">
     <input type="range" />
     <output></output>
   </div>
   <select class="${be.select}" id="${be.select}"></select>
   <div class="${be.radio}"></div>
   <label class="${be.checkbox}">
     <input type="checkbox" id="${be.checkbox}" />
     <span class="${be.label}"></span>
   </label>
   <textarea class="${be.textarea}" id="${be.textarea}"></textarea>
   <div class="${be["validation-message"]}" id="${be["validation-message"]}"></div>
   <div class="${be.actions}">
     <div class="${be.loader}"></div>
     <button type="button" class="${be.confirm}"></button>
     <button type="button" class="${be.deny}"></button>
     <button type="button" class="${be.cancel}"></button>
   </div>
   <div class="${be.footer}"></div>
   <div class="${be["timer-progress-bar-container"]}">
     <div class="${be["timer-progress-bar"]}"></div>
   </div>
 </div>
`.replace(/(^|\n)\s*/g,""),JE=()=>{const e=Ir();return e?(e.remove(),ln([document.documentElement,document.body],[be["no-backdrop"],be["toast-shown"],be["has-column"]]),!0):!1},Vi=()=>{Ke.currentInstance.resetValidationMessage()},YE=()=>{const e=Et(),t=Fi(e,be.input),r=Fi(e,be.file),n=e.querySelector(`.${be.range} input`),i=e.querySelector(`.${be.range} output`),o=Fi(e,be.select),s=e.querySelector(`.${be.checkbox} input`),a=Fi(e,be.textarea);t.oninput=Vi,r.onchange=Vi,o.onchange=Vi,s.onchange=Vi,a.oninput=Vi,n.oninput=()=>{Vi(),i.value=n.value},n.onchange=()=>{Vi(),i.value=n.value}},ZE=e=>typeof e=="string"?document.querySelector(e):e,XE=e=>{const t=Et();t.setAttribute("role",e.toast?"alert":"dialog"),t.setAttribute("aria-live",e.toast?"polite":"assertive"),e.toast||t.setAttribute("aria-modal","true")},QE=e=>{window.getComputedStyle(e).direction==="rtl"&&(At(Ir(),be.rtl),Ke.isRTL=!0)},e3=e=>{const t=JE();if(KE()){So("SweetAlert2 requires document to initialize");return}const r=document.createElement("div");r.className=be.container,t&&At(r,be["no-transition"]),Xr(r,qE),r.dataset.swal2Theme=e.theme;const n=ZE(e.target);n.appendChild(r),e.topLayer&&(r.setAttribute("popover",""),r.showPopover()),XE(e),QE(n),YE()},Wf=(e,t)=>{e instanceof HTMLElement?t.appendChild(e):typeof e=="object"?t3(e,t):e&&Xr(t,e)},t3=(e,t)=>{e.jquery?r3(t,e):Xr(t,e.toString())},r3=(e,t)=>{if(e.textContent="",0 in t)for(let r=0;r in t;r++)e.appendChild(t[r].cloneNode(!0));else e.appendChild(t.cloneNode(!0))},n3=(e,t)=>{const r=Da(),n=_s();!r||!n||(!t.showConfirmButton&&!t.showDenyButton&&!t.showCancelButton?xr(r):pr(r),Yr(r,t,"actions"),i3(r,n,t),Xr(n,t.loaderHtml||""),Yr(n,t,"loader"))};function i3(e,t,r){const n=Tn(),i=xo(),o=Rs();!n||!i||!o||(dd(n,"confirm",r),dd(i,"deny",r),dd(o,"cancel",r),o3(n,i,o,r),r.reverseButtons&&(r.toast?(e.insertBefore(o,n),e.insertBefore(i,n)):(e.insertBefore(o,t),e.insertBefore(i,t),e.insertBefore(n,t))))}function o3(e,t,r,n){if(!n.buttonsStyling){ln([e,t,r],be.styled);return}At([e,t,r],be.styled),n.confirmButtonColor&&e.style.setProperty("--swal2-confirm-button-background-color",n.confirmButtonColor),n.denyButtonColor&&t.style.setProperty("--swal2-deny-button-background-color",n.denyButtonColor),n.cancelButtonColor&&r.style.setProperty("--swal2-cancel-button-background-color",n.cancelButtonColor),cd(e),cd(t),cd(r)}function cd(e){const t=window.getComputedStyle(e);if(t.getPropertyValue("--swal2-action-button-focus-box-shadow"))return;const r=t.backgroundColor.replace(/rgba?\((\d+), (\d+), (\d+).*/,"rgba($1, $2, $3, 0.5)");e.style.setProperty("--swal2-action-button-focus-box-shadow",t.getPropertyValue("--swal2-outline").replace(/ rgba\(.*/,` ${r}`))}function dd(e,t,r){const n=If(t);Ma(e,r[`show${n}Button`],"inline-block"),Xr(e,r[`${t}ButtonText`]||""),e.setAttribute("aria-label",r[`${t}ButtonAriaLabel`]||""),e.className=be[t],Yr(e,r,`${t}Button`)}const s3=(e,t)=>{const r=Hf();r&&(Xr(r,t.closeButtonHtml||""),Yr(r,t,"closeButton"),Ma(r,t.showCloseButton),r.setAttribute("aria-label",t.closeButtonAriaLabel||""))},a3=(e,t)=>{const r=Ir();r&&(l3(r,t.backdrop),u3(r,t.position),c3(r,t.grow),Yr(r,t,"container"))};function l3(e,t){typeof t=="string"?e.style.background=t:t||At([document.documentElement,document.body],be["no-backdrop"])}function u3(e,t){t&&(t in be?At(e,be[t]):(Mr('The "position" parameter is not valid, defaulting to "center"'),At(e,be.center)))}function c3(e,t){t&&At(e,be[`grow-${t}`])}var Vt={innerParams:new WeakMap,domCache:new WeakMap};const d3=["input","file","range","select","radio","checkbox","textarea"],h3=(e,t)=>{const r=Et();if(!r)return;const n=Vt.innerParams.get(e),i=!n||t.input!==n.input;d3.forEach(o=>{const s=Fi(r,be[o]);s&&(g3(o,t.inputAttributes),s.className=be[o],i&&xr(s))}),t.input&&(i&&f3(t),m3(t))},f3=e=>{if(!e.input)return;if(!tr[e.input]){So(`Unexpected type of input! Expected ${Object.keys(tr).join(" | ")}, got "${e.input}"`);return}const t=Iv(e.input);if(!t)return;const r=tr[e.input](t,e);pr(t),e.inputAutoFocus&&setTimeout(()=>{Dv(r)})},p3=e=>{for(let t=0;t<e.attributes.length;t++){const r=e.attributes[t].name;["id","type","value","style"].includes(r)||e.removeAttribute(r)}},g3=(e,t)=>{const r=Et();if(!r)return;const n=Pc(r,e);if(n){p3(n);for(const i in t)n.setAttribute(i,t[i])}},m3=e=>{if(!e.input)return;const t=Iv(e.input);t&&Yr(t,e,"input")},$f=(e,t)=>{!e.placeholder&&t.inputPlaceholder&&(e.placeholder=t.inputPlaceholder)},Pa=(e,t,r)=>{if(r.inputLabel){const n=document.createElement("label"),i=be["input-label"];n.setAttribute("for",e.id),n.className=i,typeof r.customClass=="object"&&At(n,r.customClass.inputLabel),n.innerText=r.inputLabel,t.insertAdjacentElement("beforebegin",n)}},Iv=e=>{const t=Et();if(t)return Fi(t,be[e]||be.input)},Ou=(e,t)=>{["string","number"].includes(typeof t)?e.value=`${t}`:Lf(t)||Mr(`Unexpected type of inputValue! Expected "string", "number" or "Promise", got "${typeof t}"`)},tr={};tr.text=tr.email=tr.password=tr.number=tr.tel=tr.url=tr.search=tr.date=tr["datetime-local"]=tr.time=tr.week=tr.month=(e,t)=>(Ou(e,t.inputValue),Pa(e,e,t),$f(e,t),e.type=t.input,e);tr.file=(e,t)=>(Pa(e,e,t),$f(e,t),e);tr.range=(e,t)=>{const r=e.querySelector("input"),n=e.querySelector("output");return Ou(r,t.inputValue),r.type=t.input,Ou(n,t.inputValue),Pa(r,e,t),e};tr.select=(e,t)=>{if(e.textContent="",t.inputPlaceholder){const r=document.createElement("option");Xr(r,t.inputPlaceholder),r.value="",r.disabled=!0,r.selected=!0,e.appendChild(r)}return Pa(e,e,t),e};tr.radio=e=>(e.textContent="",e);tr.checkbox=(e,t)=>{const r=Pc(Et(),"checkbox");r.value="1",r.checked=!!t.inputValue;const n=e.querySelector("span");return Xr(n,t.inputPlaceholder||t.inputLabel),r};tr.textarea=(e,t)=>{Ou(e,t.inputValue),$f(e,t),Pa(e,e,t);const r=n=>parseInt(window.getComputedStyle(n).marginLeft)+parseInt(window.getComputedStyle(n).marginRight);return setTimeout(()=>{if("MutationObserver"in window){const n=parseInt(window.getComputedStyle(Et()).width),i=()=>{if(!document.body.contains(e))return;const o=e.offsetWidth+r(e);o>n?Et().style.width=`${o}px`:no(Et(),"width",t.width)};new MutationObserver(i).observe(e,{attributes:!0,attributeFilter:["style"]})}}),e};const b3=(e,t)=>{const r=Nf();r&&(zf(r),Yr(r,t,"htmlContainer"),t.html?(Wf(t.html,r),pr(r,"block")):t.text?(r.textContent=t.text,pr(r,"block")):xr(r),h3(e,t))},y3=(e,t)=>{const r=Tv();r&&(zf(r),Ma(r,!!t.footer,"block"),t.footer&&Wf(t.footer,r),Yr(r,t,"footer"))},v3=(e,t)=>{const r=Vt.innerParams.get(e),n=Es();if(!n)return;if(r&&t.icon===r.icon){zg(n,t),jg(n,t);return}if(!t.icon&&!t.iconHtml){xr(n);return}if(t.icon&&Object.keys(Nu).indexOf(t.icon)===-1){So(`Unknown icon! Expected "success", "error", "warning", "info" or "question", got "${t.icon}"`),xr(n);return}pr(n),zg(n,t),jg(n,t),At(n,t.showClass&&t.showClass.icon),window.matchMedia("(prefers-color-scheme: dark)").addEventListener("change",Bv)},jg=(e,t)=>{for(const[r,n]of Object.entries(Nu))t.icon!==r&&ln(e,n);At(e,t.icon&&Nu[t.icon]),F3(e,t),Bv(),Yr(e,t,"icon")},Bv=()=>{const e=Et();if(!e)return;const t=window.getComputedStyle(e).getPropertyValue("background-color"),r=e.querySelectorAll("[class^=swal2-success-circular-line], .swal2-success-fix");for(let n=0;n<r.length;n++)r[n].style.backgroundColor=t},w3=e=>`
  ${e.animation?'<div class="swal2-success-circular-line-left"></div>':""}
  <span class="swal2-success-line-tip"></span> <span class="swal2-success-line-long"></span>
  <div class="swal2-success-ring"></div>
  ${e.animation?'<div class="swal2-success-fix"></div>':""}
  ${e.animation?'<div class="swal2-success-circular-line-right"></div>':""}
`,C3=`
  <span class="swal2-x-mark">
    <span class="swal2-x-mark-line-left"></span>
    <span class="swal2-x-mark-line-right"></span>
  </span>
`,zg=(e,t)=>{if(!t.icon&&!t.iconHtml)return;let r=e.innerHTML,n="";t.iconHtml?n=Vg(t.iconHtml):t.icon==="success"?(n=w3(t),r=r.replace(/ style=".*?"/g,"")):t.icon==="error"?n=C3:t.icon&&(n=Vg({question:"?",warning:"!",info:"i"}[t.icon])),r.trim()!==n.trim()&&Xr(e,n)},F3=(e,t)=>{if(t.iconColor){e.style.color=t.iconColor,e.style.borderColor=t.iconColor;for(const r of[".swal2-success-line-tip",".swal2-success-line-long",".swal2-x-mark-line-left",".swal2-x-mark-line-right"])Gg(e,r,"background-color",t.iconColor);Gg(e,".swal2-success-ring","border-color",t.iconColor)}},Vg=e=>`<div class="${be["icon-content"]}">${e}</div>`,S3=(e,t)=>{const r=Av();if(r){if(!t.imageUrl){xr(r);return}pr(r,""),r.setAttribute("src",t.imageUrl),r.setAttribute("alt",t.imageAlt||""),no(r,"width",t.imageWidth),no(r,"height",t.imageHeight),r.className=be.image,Yr(r,t,"image")}};let Uf=!1,Lv=0,Nv=0,Ov=0,Hv=0;const x3=e=>{e.addEventListener("mousedown",Hu),document.body.addEventListener("mousemove",Gu),e.addEventListener("mouseup",ju),e.addEventListener("touchstart",Hu),document.body.addEventListener("touchmove",Gu),e.addEventListener("touchend",ju)},k3=e=>{e.removeEventListener("mousedown",Hu),document.body.removeEventListener("mousemove",Gu),e.removeEventListener("mouseup",ju),e.removeEventListener("touchstart",Hu),document.body.removeEventListener("touchmove",Gu),e.removeEventListener("touchend",ju)},Hu=e=>{const t=Et();if(e.target===t||Es().contains(e.target)){Uf=!0;const r=Gv(e);Lv=r.clientX,Nv=r.clientY,Ov=parseInt(t.style.insetInlineStart)||0,Hv=parseInt(t.style.insetBlockStart)||0,At(t,"swal2-dragging")}},Gu=e=>{const t=Et();if(Uf){let{clientX:r,clientY:n}=Gv(e);const i=r-Lv;t.style.insetInlineStart=`${Ov+(Ke.isRTL?-i:i)}px`,t.style.insetBlockStart=`${Hv+(n-Nv)}px`}},ju=()=>{const e=Et();Uf=!1,ln(e,"swal2-dragging")},Gv=e=>{let t=0,r=0;return e.type.startsWith("mouse")?(t=e.clientX,r=e.clientY):e.type.startsWith("touch")&&(t=e.touches[0].clientX,r=e.touches[0].clientY),{clientX:t,clientY:r}},E3=(e,t)=>{const r=Ir(),n=Et();if(!(!r||!n)){if(t.toast){no(r,"width",t.width),n.style.width="100%";const i=_s();i&&n.insertBefore(i,Es())}else no(n,"width",t.width);no(n,"padding",t.padding),t.color&&(n.style.color=t.color),t.background&&(n.style.background=t.background),xr(Tc()),R3(n,t),t.draggable&&!t.toast?(At(n,be.draggable),x3(n)):(ln(n,be.draggable),k3(n))}},R3=(e,t)=>{const r=t.showClass||{};e.className=`${be.popup} ${Gr(e)?r.popup:""}`,t.toast?(At([document.documentElement,document.body],be["toast-shown"]),At(e,be.toast)):At(e,be.modal),Yr(e,t,"popup"),typeof t.customClass=="string"&&At(e,t.customClass),t.icon&&At(e,be[`icon-${t.icon}`])},_3=(e,t)=>{const r=Of();if(!r)return;const{progressSteps:n,currentProgressStep:i}=t;if(!n||n.length===0||i===void 0){xr(r);return}pr(r),r.textContent="",i>=n.length&&Mr("Invalid currentProgressStep parameter, it should be less than progressSteps.length (currentProgressStep like JS arrays starts from 0)"),n.forEach((o,s)=>{const a=A3(o);if(r.appendChild(a),s===i&&At(a,be["active-progress-step"]),s!==n.length-1){const l=T3(t);r.appendChild(l)}})},A3=e=>{const t=document.createElement("li");return At(t,be["progress-step"]),Xr(t,e),t},T3=e=>{const t=document.createElement("li");return At(t,be["progress-step-line"]),e.progressStepsDistance&&no(t,"width",e.progressStepsDistance),t},D3=(e,t)=>{const r=_v();r&&(zf(r),Ma(r,!!(t.title||t.titleText),"block"),t.title&&Wf(t.title,r),t.titleText&&(r.innerText=t.titleText),Yr(r,t,"title"))},jv=(e,t)=>{E3(e,t),a3(e,t),_3(e,t),v3(e,t),S3(e,t),D3(e,t),s3(e,t),b3(e,t),n3(e,t),y3(e,t);const r=Et();typeof t.didRender=="function"&&r&&t.didRender(r),Ke.eventEmitter.emit("didRender",r)},M3=()=>Gr(Et()),zv=()=>{var e;return(e=Tn())===null||e===void 0?void 0:e.click()},P3=()=>{var e;return(e=xo())===null||e===void 0?void 0:e.click()},I3=()=>{var e;return(e=Rs())===null||e===void 0?void 0:e.click()},As=Object.freeze({cancel:"cancel",backdrop:"backdrop",close:"close",esc:"esc",timer:"timer"}),Vv=e=>{e.keydownTarget&&e.keydownHandlerAdded&&(e.keydownTarget.removeEventListener("keydown",e.keydownHandler,{capture:e.keydownListenerCapture}),e.keydownHandlerAdded=!1)},B3=(e,t,r)=>{Vv(e),t.toast||(e.keydownHandler=n=>N3(t,n,r),e.keydownTarget=t.keydownListenerCapture?window:Et(),e.keydownListenerCapture=t.keydownListenerCapture,e.keydownTarget.addEventListener("keydown",e.keydownHandler,{capture:e.keydownListenerCapture}),e.keydownHandlerAdded=!0)},Ah=(e,t)=>{var r;const n=Gf();if(n.length){e=e+t,e===-2&&(e=n.length-1),e===n.length?e=0:e===-1&&(e=n.length-1),n[e].focus();return}(r=Et())===null||r===void 0||r.focus()},Wv=["ArrowRight","ArrowDown"],L3=["ArrowLeft","ArrowUp"],N3=(e,t,r)=>{e&&(t.isComposing||t.keyCode===229||(e.stopKeydownPropagation&&t.stopPropagation(),t.key==="Enter"?O3(t,e):t.key==="Tab"?H3(t):[...Wv,...L3].includes(t.key)?G3(t.key):t.key==="Escape"&&j3(t,e,r)))},O3=(e,t)=>{if(!Ac(t.allowEnterKey))return;const r=Pc(Et(),t.input);if(e.target&&r&&e.target instanceof HTMLElement&&e.target.outerHTML===r.outerHTML){if(["textarea","file"].includes(t.input))return;zv(),e.preventDefault()}},H3=e=>{const t=e.target,r=Gf();let n=-1;for(let i=0;i<r.length;i++)if(t===r[i]){n=i;break}e.shiftKey?Ah(n,-1):Ah(n,1),e.stopPropagation(),e.preventDefault()},G3=e=>{const t=Da(),r=Tn(),n=xo(),i=Rs();if(!t||!r||!n||!i)return;const o=[r,n,i];if(document.activeElement instanceof HTMLElement&&!o.includes(document.activeElement))return;const s=Wv.includes(e)?"nextElementSibling":"previousElementSibling";let a=document.activeElement;if(a){for(let l=0;l<t.children.length;l++){if(a=a[s],!a)return;if(a instanceof HTMLButtonElement&&Gr(a))break}a instanceof HTMLButtonElement&&a.focus()}},j3=(e,t,r)=>{e.preventDefault(),Ac(t.allowEscapeKey)&&r(As.esc)};var gs={swalPromiseResolve:new WeakMap,swalPromiseReject:new WeakMap};const z3=()=>{const e=Ir();Array.from(document.body.children).forEach(r=>{r.contains(e)||(r.hasAttribute("aria-hidden")&&r.setAttribute("data-previous-aria-hidden",r.getAttribute("aria-hidden")||""),r.setAttribute("aria-hidden","true"))})},$v=()=>{Array.from(document.body.children).forEach(t=>{t.hasAttribute("data-previous-aria-hidden")?(t.setAttribute("aria-hidden",t.getAttribute("data-previous-aria-hidden")||""),t.removeAttribute("data-previous-aria-hidden")):t.removeAttribute("aria-hidden")})},Uv=typeof window<"u"&&!!window.GestureEvent,V3=()=>{if(Uv&&!Jn(document.body,be.iosfix)){const e=document.body.scrollTop;document.body.style.top=`${e*-1}px`,At(document.body,be.iosfix),W3()}},W3=()=>{const e=Ir();if(!e)return;let t;e.ontouchstart=r=>{t=$3(r)},e.ontouchmove=r=>{t&&(r.preventDefault(),r.stopPropagation())}},$3=e=>{const t=e.target,r=Ir(),n=Nf();return!r||!n||U3(e)||K3(e)?!1:t===r||!_h(r)&&t instanceof HTMLElement&&!$E(t,n)&&t.tagName!=="INPUT"&&t.tagName!=="TEXTAREA"&&!(_h(n)&&n.contains(t))},U3=e=>e.touches&&e.touches.length&&e.touches[0].touchType==="stylus",K3=e=>e.touches&&e.touches.length>1,q3=()=>{if(Jn(document.body,be.iosfix)){const e=parseInt(document.body.style.top,10);ln(document.body,be.iosfix),document.body.style.top="",document.body.scrollTop=e*-1}},J3=()=>{const e=document.createElement("div");e.className=be["scrollbar-measure"],document.body.appendChild(e);const t=e.getBoundingClientRect().width-e.clientWidth;return document.body.removeChild(e),t};let es=null;const Y3=e=>{es===null&&(document.body.scrollHeight>window.innerHeight||e==="scroll")&&(es=parseInt(window.getComputedStyle(document.body).getPropertyValue("padding-right")),document.body.style.paddingRight=`${es+J3()}px`)},Z3=()=>{es!==null&&(document.body.style.paddingRight=`${es}px`,es=null)};function Kv(e,t,r,n){Mc()?Wg(e,n):(BE(r).then(()=>Wg(e,n)),Vv(Ke)),Uv?(t.setAttribute("style","display:none !important"),t.removeAttribute("class"),t.innerHTML=""):t.remove(),jf()&&(Z3(),q3(),$v()),X3()}function X3(){ln([document.documentElement,document.body],[be.shown,be["height-auto"],be["no-backdrop"],be["toast-shown"]])}function Si(e){e=eR(e);const t=gs.swalPromiseResolve.get(this),r=Q3(this);this.isAwaitingPromise?e.isDismissed||(Ia(this),t(e)):r&&t(e)}const Q3=e=>{const t=Et();if(!t)return!1;const r=Vt.innerParams.get(e);if(!r||Jn(t,r.hideClass.popup))return!1;ln(t,r.showClass.popup),At(t,r.hideClass.popup);const n=Ir();return ln(n,r.showClass.backdrop),At(n,r.hideClass.backdrop),tR(e,t,r),!0};function qv(e){const t=gs.swalPromiseReject.get(this);Ia(this),t&&t(e)}const Ia=e=>{e.isAwaitingPromise&&(delete e.isAwaitingPromise,Vt.innerParams.get(e)||e._destroy())},eR=e=>typeof e>"u"?{isConfirmed:!1,isDenied:!1,isDismissed:!0}:Object.assign({isConfirmed:!1,isDenied:!1,isDismissed:!1},e),tR=(e,t,r)=>{var n;const i=Ir(),o=Pv(t);typeof r.willClose=="function"&&r.willClose(t),(n=Ke.eventEmitter)===null||n===void 0||n.emit("willClose",t),o?rR(e,t,i,r.returnFocus,r.didClose):Kv(e,i,r.returnFocus,r.didClose)},rR=(e,t,r,n,i)=>{Ke.swalCloseEventFinishedCallback=Kv.bind(null,e,r,n,i);const o=function(s){if(s.target===t){var a;(a=Ke.swalCloseEventFinishedCallback)===null||a===void 0||a.call(Ke),delete Ke.swalCloseEventFinishedCallback,t.removeEventListener("animationend",o),t.removeEventListener("transitionend",o)}};t.addEventListener("animationend",o),t.addEventListener("transitionend",o)},Wg=(e,t)=>{setTimeout(()=>{var r;typeof t=="function"&&t.bind(e.params)(),(r=Ke.eventEmitter)===null||r===void 0||r.emit("didClose"),e._destroy&&e._destroy()})},ms=e=>{let t=Et();if(t||new ha,t=Et(),!t)return;const r=_s();Mc()?xr(Es()):nR(t,e),pr(r),t.setAttribute("data-loading","true"),t.setAttribute("aria-busy","true"),t.focus()},nR=(e,t)=>{const r=Da(),n=_s();!r||!n||(!t&&Gr(Tn())&&(t=Tn()),pr(r),t&&(xr(t),n.setAttribute("data-button-to-replace",t.className),r.insertBefore(n,t)),At([e,r],be.loading))},iR=(e,t)=>{t.input==="select"||t.input==="radio"?uR(e,t):["text","email","number","tel","textarea"].some(r=>r===t.input)&&(Bf(t.inputValue)||Lf(t.inputValue))&&(ms(Tn()),cR(e,t))},oR=(e,t)=>{const r=e.getInput();if(!r)return null;switch(t.input){case"checkbox":return sR(r);case"radio":return aR(r);case"file":return lR(r);default:return t.inputAutoTrim?r.value.trim():r.value}},sR=e=>e.checked?1:0,aR=e=>e.checked?e.value:null,lR=e=>e.files&&e.files.length?e.getAttribute("multiple")!==null?e.files:e.files[0]:null,uR=(e,t)=>{const r=Et();if(!r)return;const n=i=>{t.input==="select"?dR(r,zu(i),t):t.input==="radio"&&hR(r,zu(i),t)};Bf(t.inputOptions)||Lf(t.inputOptions)?(ms(Tn()),Aa(t.inputOptions).then(i=>{e.hideLoading(),n(i)})):typeof t.inputOptions=="object"?n(t.inputOptions):So(`Unexpected type of inputOptions! Expected object, Map or Promise, got ${typeof t.inputOptions}`)},cR=(e,t)=>{const r=e.getInput();r&&(xr(r),Aa(t.inputValue).then(n=>{r.value=t.input==="number"?`${parseFloat(n)||0}`:`${n}`,pr(r),r.focus(),e.hideLoading()}).catch(n=>{So(`Error in inputValue promise: ${n}`),r.value="",pr(r),r.focus(),e.hideLoading()}))};function dR(e,t,r){const n=Fi(e,be.select);if(!n)return;const i=(o,s,a)=>{const l=document.createElement("option");l.value=a,Xr(l,s),l.selected=Jv(a,r.inputValue),o.appendChild(l)};t.forEach(o=>{const s=o[0],a=o[1];if(Array.isArray(a)){const l=document.createElement("optgroup");l.label=s,l.disabled=!1,n.appendChild(l),a.forEach(u=>i(l,u[1],u[0]))}else i(n,a,s)}),n.focus()}function hR(e,t,r){const n=Fi(e,be.radio);if(!n)return;t.forEach(o=>{const s=o[0],a=o[1],l=document.createElement("input"),u=document.createElement("label");l.type="radio",l.name=be.radio,l.value=s,Jv(s,r.inputValue)&&(l.checked=!0);const c=document.createElement("span");Xr(c,a),c.className=be.label,u.appendChild(l),u.appendChild(c),n.appendChild(u)});const i=n.querySelectorAll("input");i.length&&i[0].focus()}const zu=e=>{const t=[];return e instanceof Map?e.forEach((r,n)=>{let i=r;typeof i=="object"&&(i=zu(i)),t.push([n,i])}):Object.keys(e).forEach(r=>{let n=e[r];typeof n=="object"&&(n=zu(n)),t.push([r,n])}),t},Jv=(e,t)=>!!t&&t.toString()===e.toString(),fR=e=>{const t=Vt.innerParams.get(e);e.disableButtons(),t.input?Yv(e,"confirm"):qf(e,!0)},pR=e=>{const t=Vt.innerParams.get(e);e.disableButtons(),t.returnInputValueOnDeny?Yv(e,"deny"):Kf(e,!1)},gR=(e,t)=>{e.disableButtons(),t(As.cancel)},Yv=(e,t)=>{const r=Vt.innerParams.get(e);if(!r.input){So(`The "input" parameter is needed to be set when using returnInputValueOn${If(t)}`);return}const n=e.getInput(),i=oR(e,r);r.inputValidator?mR(e,i,t):n&&!n.checkValidity()?(e.enableButtons(),e.showValidationMessage(r.validationMessage||n.validationMessage)):t==="deny"?Kf(e,i):qf(e,i)},mR=(e,t,r)=>{const n=Vt.innerParams.get(e);e.disableInput(),Promise.resolve().then(()=>Aa(n.inputValidator(t,n.validationMessage))).then(o=>{e.enableButtons(),e.enableInput(),o?e.showValidationMessage(o):r==="deny"?Kf(e,t):qf(e,t)})},Kf=(e,t)=>{const r=Vt.innerParams.get(e||void 0);r.showLoaderOnDeny&&ms(xo()),r.preDeny?(e.isAwaitingPromise=!0,Promise.resolve().then(()=>Aa(r.preDeny(t,r.validationMessage))).then(i=>{i===!1?(e.hideLoading(),Ia(e)):e.close({isDenied:!0,value:typeof i>"u"?t:i})}).catch(i=>Zv(e||void 0,i))):e.close({isDenied:!0,value:t})},$g=(e,t)=>{e.close({isConfirmed:!0,value:t})},Zv=(e,t)=>{e.rejectPromise(t)},qf=(e,t)=>{const r=Vt.innerParams.get(e||void 0);r.showLoaderOnConfirm&&ms(),r.preConfirm?(e.resetValidationMessage(),e.isAwaitingPromise=!0,Promise.resolve().then(()=>Aa(r.preConfirm(t,r.validationMessage))).then(i=>{Gr(Tc())||i===!1?(e.hideLoading(),Ia(e)):$g(e,typeof i>"u"?t:i)}).catch(i=>Zv(e||void 0,i))):$g(e,t)};function Vu(){const e=Vt.innerParams.get(this);if(!e)return;const t=Vt.domCache.get(this);xr(t.loader),Mc()?e.icon&&pr(Es()):bR(t),ln([t.popup,t.actions],be.loading),t.popup.removeAttribute("aria-busy"),t.popup.removeAttribute("data-loading"),t.confirmButton.disabled=!1,t.denyButton.disabled=!1,t.cancelButton.disabled=!1}const bR=e=>{const t=e.popup.getElementsByClassName(e.loader.getAttribute("data-button-to-replace"));t.length?pr(t[0],"inline-block"):WE()&&xr(e.actions)};function Xv(){const e=Vt.innerParams.get(this),t=Vt.domCache.get(this);return t?Pc(t.popup,e.input):null}function Qv(e,t,r){const n=Vt.domCache.get(e);t.forEach(i=>{n[i].disabled=r})}function ew(e,t){const r=Et();if(!(!r||!e))if(e.type==="radio"){const n=r.querySelectorAll(`[name="${be.radio}"]`);for(let i=0;i<n.length;i++)n[i].disabled=t}else e.disabled=t}function tw(){Qv(this,["confirmButton","denyButton","cancelButton"],!1)}function rw(){Qv(this,["confirmButton","denyButton","cancelButton"],!0)}function nw(){ew(this.getInput(),!1)}function iw(){ew(this.getInput(),!0)}function ow(e){const t=Vt.domCache.get(this),r=Vt.innerParams.get(this);Xr(t.validationMessage,e),t.validationMessage.className=be["validation-message"],r.customClass&&r.customClass.validationMessage&&At(t.validationMessage,r.customClass.validationMessage),pr(t.validationMessage);const n=this.getInput();n&&(n.setAttribute("aria-invalid","true"),n.setAttribute("aria-describedby",be["validation-message"]),Dv(n),At(n,be.inputerror))}function sw(){const e=Vt.domCache.get(this);e.validationMessage&&xr(e.validationMessage);const t=this.getInput();t&&(t.removeAttribute("aria-invalid"),t.removeAttribute("aria-describedby"),ln(t,be.inputerror))}const ts={title:"",titleText:"",text:"",html:"",footer:"",icon:void 0,iconColor:void 0,iconHtml:void 0,template:void 0,toast:!1,draggable:!1,animation:!0,theme:"light",showClass:{popup:"swal2-show",backdrop:"swal2-backdrop-show",icon:"swal2-icon-show"},hideClass:{popup:"swal2-hide",backdrop:"swal2-backdrop-hide",icon:"swal2-icon-hide"},customClass:{},target:"body",color:void 0,backdrop:!0,heightAuto:!0,allowOutsideClick:!0,allowEscapeKey:!0,allowEnterKey:!0,stopKeydownPropagation:!0,keydownListenerCapture:!1,showConfirmButton:!0,showDenyButton:!1,showCancelButton:!1,preConfirm:void 0,preDeny:void 0,confirmButtonText:"OK",confirmButtonAriaLabel:"",confirmButtonColor:void 0,denyButtonText:"No",denyButtonAriaLabel:"",denyButtonColor:void 0,cancelButtonText:"Cancel",cancelButtonAriaLabel:"",cancelButtonColor:void 0,buttonsStyling:!0,reverseButtons:!1,focusConfirm:!0,focusDeny:!1,focusCancel:!1,returnFocus:!0,showCloseButton:!1,closeButtonHtml:"&times;",closeButtonAriaLabel:"Close this dialog",loaderHtml:"",showLoaderOnConfirm:!1,showLoaderOnDeny:!1,imageUrl:void 0,imageWidth:void 0,imageHeight:void 0,imageAlt:"",timer:void 0,timerProgressBar:!1,width:void 0,padding:void 0,background:void 0,input:void 0,inputPlaceholder:"",inputLabel:"",inputValue:"",inputOptions:{},inputAutoFocus:!0,inputAutoTrim:!0,inputAttributes:{},inputValidator:void 0,returnInputValueOnDeny:!1,validationMessage:void 0,grow:!1,position:"center",progressSteps:[],currentProgressStep:void 0,progressStepsDistance:void 0,willOpen:void 0,didOpen:void 0,didRender:void 0,willClose:void 0,didClose:void 0,didDestroy:void 0,scrollbarPadding:!0,topLayer:!1},yR=["allowEscapeKey","allowOutsideClick","background","buttonsStyling","cancelButtonAriaLabel","cancelButtonColor","cancelButtonText","closeButtonAriaLabel","closeButtonHtml","color","confirmButtonAriaLabel","confirmButtonColor","confirmButtonText","currentProgressStep","customClass","denyButtonAriaLabel","denyButtonColor","denyButtonText","didClose","didDestroy","draggable","footer","hideClass","html","icon","iconColor","iconHtml","imageAlt","imageHeight","imageUrl","imageWidth","preConfirm","preDeny","progressSteps","returnFocus","reverseButtons","showCancelButton","showCloseButton","showConfirmButton","showDenyButton","text","title","titleText","theme","willClose"],vR={allowEnterKey:void 0},wR=["allowOutsideClick","allowEnterKey","backdrop","draggable","focusConfirm","focusDeny","focusCancel","returnFocus","heightAuto","keydownListenerCapture"],aw=e=>Object.prototype.hasOwnProperty.call(ts,e),lw=e=>yR.indexOf(e)!==-1,uw=e=>vR[e],CR=e=>{aw(e)||Mr(`Unknown parameter "${e}"`)},FR=e=>{wR.includes(e)&&Mr(`The parameter "${e}" is incompatible with toasts`)},SR=e=>{const t=uw(e);t&&Rv(e,t)},cw=e=>{e.backdrop===!1&&e.allowOutsideClick&&Mr('"allowOutsideClick" parameter requires `backdrop` parameter to be set to `true`'),e.theme&&!["light","dark","auto","minimal","borderless","bootstrap-4","bootstrap-4-light","bootstrap-4-dark","bootstrap-5","bootstrap-5-light","bootstrap-5-dark","material-ui","material-ui-light","material-ui-dark","embed-iframe","bulma","bulma-light","bulma-dark"].includes(e.theme)&&Mr(`Invalid theme "${e.theme}"`);for(const t in e)CR(t),e.toast&&FR(t),SR(t)};function dw(e){const t=Ir(),r=Et(),n=Vt.innerParams.get(this);if(!r||Jn(r,n.hideClass.popup)){Mr("You're trying to update the closed or closing popup, that won't work. Use the update() method in preConfirm parameter or show a new popup.");return}const i=xR(e),o=Object.assign({},n,i);cw(o),t.dataset.swal2Theme=o.theme,jv(this,o),Vt.innerParams.set(this,o),Object.defineProperties(this,{params:{value:Object.assign({},this.params,e),writable:!1,enumerable:!0}})}const xR=e=>{const t={};return Object.keys(e).forEach(r=>{lw(r)?t[r]=e[r]:Mr(`Invalid parameter to update: ${r}`)}),t};function hw(){const e=Vt.domCache.get(this),t=Vt.innerParams.get(this);if(!t){fw(this);return}e.popup&&Ke.swalCloseEventFinishedCallback&&(Ke.swalCloseEventFinishedCallback(),delete Ke.swalCloseEventFinishedCallback),typeof t.didDestroy=="function"&&t.didDestroy(),Ke.eventEmitter.emit("didDestroy"),kR(this)}const kR=e=>{fw(e),delete e.params,delete Ke.keydownHandler,delete Ke.keydownTarget,delete Ke.currentInstance},fw=e=>{e.isAwaitingPromise?(hd(Vt,e),e.isAwaitingPromise=!0):(hd(gs,e),hd(Vt,e),delete e.isAwaitingPromise,delete e.disableButtons,delete e.enableButtons,delete e.getInput,delete e.disableInput,delete e.enableInput,delete e.hideLoading,delete e.disableLoading,delete e.showValidationMessage,delete e.resetValidationMessage,delete e.close,delete e.closePopup,delete e.closeModal,delete e.closeToast,delete e.rejectPromise,delete e.update,delete e._destroy)},hd=(e,t)=>{for(const r in e)e[r].delete(t)};var ER=Object.freeze({__proto__:null,_destroy:hw,close:Si,closeModal:Si,closePopup:Si,closeToast:Si,disableButtons:rw,disableInput:iw,disableLoading:Vu,enableButtons:tw,enableInput:nw,getInput:Xv,handleAwaitingPromise:Ia,hideLoading:Vu,rejectPromise:qv,resetValidationMessage:sw,showValidationMessage:ow,update:dw});const RR=(e,t,r)=>{e.toast?_R(e,t,r):(TR(t),DR(t),MR(e,t,r))},_R=(e,t,r)=>{t.popup.onclick=()=>{e&&(AR(e)||e.timer||e.input)||r(As.close)}},AR=e=>!!(e.showConfirmButton||e.showDenyButton||e.showCancelButton||e.showCloseButton);let Wu=!1;const TR=e=>{e.popup.onmousedown=()=>{e.container.onmouseup=function(t){e.container.onmouseup=()=>{},t.target===e.container&&(Wu=!0)}}},DR=e=>{e.container.onmousedown=t=>{t.target===e.container&&t.preventDefault(),e.popup.onmouseup=function(r){e.popup.onmouseup=()=>{},(r.target===e.popup||r.target instanceof HTMLElement&&e.popup.contains(r.target))&&(Wu=!0)}}},MR=(e,t,r)=>{t.container.onclick=n=>{if(Wu){Wu=!1;return}n.target===t.container&&Ac(e.allowOutsideClick)&&r(As.backdrop)}},PR=e=>typeof e=="object"&&e.jquery,Ug=e=>e instanceof Element||PR(e),IR=e=>{const t={};return typeof e[0]=="object"&&!Ug(e[0])?Object.assign(t,e[0]):["title","html","icon"].forEach((r,n)=>{const i=e[n];typeof i=="string"||Ug(i)?t[r]=i:i!==void 0&&So(`Unexpected type of ${r}! Expected "string" or "Element", got ${typeof i}`)}),t};function BR(...e){return new this(...e)}function LR(e){class t extends this{_main(n,i){return super._main(n,Object.assign({},e,i))}}return t}const NR=()=>Ke.timeout&&Ke.timeout.getTimerLeft(),pw=()=>{if(Ke.timeout)return UE(),Ke.timeout.stop()},gw=()=>{if(Ke.timeout){const e=Ke.timeout.start();return Vf(e),e}},OR=()=>{const e=Ke.timeout;return e&&(e.running?pw():gw())},HR=e=>{if(Ke.timeout){const t=Ke.timeout.increase(e);return Vf(t,!0),t}},GR=()=>!!(Ke.timeout&&Ke.timeout.isRunning());let Kg=!1;const Th={};function jR(e="data-swal-template"){Th[e]=this,Kg||(document.body.addEventListener("click",zR),Kg=!0)}const zR=e=>{for(let t=e.target;t&&t!==document;t=t.parentNode)for(const r in Th){const n=t.getAttribute(r);if(n){Th[r].fire({template:n});return}}};class VR{constructor(){this.events={}}_getHandlersByEventName(t){return typeof this.events[t]>"u"&&(this.events[t]=[]),this.events[t]}on(t,r){const n=this._getHandlersByEventName(t);n.includes(r)||n.push(r)}once(t,r){const n=(...i)=>{this.removeListener(t,n),r.apply(this,i)};this.on(t,n)}emit(t,...r){this._getHandlersByEventName(t).forEach(n=>{try{n.apply(this,r)}catch(i){console.error(i)}})}removeListener(t,r){const n=this._getHandlersByEventName(t),i=n.indexOf(r);i>-1&&n.splice(i,1)}removeAllListeners(t){this.events[t]!==void 0&&(this.events[t].length=0)}reset(){this.events={}}}Ke.eventEmitter=new VR;const WR=(e,t)=>{Ke.eventEmitter.on(e,t)},$R=(e,t)=>{Ke.eventEmitter.once(e,t)},UR=(e,t)=>{if(!e){Ke.eventEmitter.reset();return}t?Ke.eventEmitter.removeListener(e,t):Ke.eventEmitter.removeAllListeners(e)};var KR=Object.freeze({__proto__:null,argsToParams:IR,bindClickHandler:jR,clickCancel:I3,clickConfirm:zv,clickDeny:P3,enableLoading:ms,fire:BR,getActions:Da,getCancelButton:Rs,getCloseButton:Hf,getConfirmButton:Tn,getContainer:Ir,getDenyButton:xo,getFocusableElements:Gf,getFooter:Tv,getHtmlContainer:Nf,getIcon:Es,getIconContent:HE,getImage:Av,getInputLabel:GE,getLoader:_s,getPopup:Et,getProgressSteps:Of,getTimerLeft:NR,getTimerProgressBar:Dc,getTitle:_v,getValidationMessage:Tc,increaseTimer:HR,isDeprecatedParameter:uw,isLoading:zE,isTimerRunning:GR,isUpdatableParameter:lw,isValidParameter:aw,isVisible:M3,mixin:LR,off:UR,on:WR,once:$R,resumeTimer:gw,showLoading:ms,stopTimer:pw,toggleTimer:OR});class qR{constructor(t,r){this.callback=t,this.remaining=r,this.running=!1,this.start()}start(){return this.running||(this.running=!0,this.started=new Date,this.id=setTimeout(this.callback,this.remaining)),this.remaining}stop(){return this.started&&this.running&&(this.running=!1,clearTimeout(this.id),this.remaining-=new Date().getTime()-this.started.getTime()),this.remaining}increase(t){const r=this.running;return r&&this.stop(),this.remaining+=t,r&&this.start(),this.remaining}getTimerLeft(){return this.running&&(this.stop(),this.start()),this.remaining}isRunning(){return this.running}}const mw=["swal-title","swal-html","swal-footer"],JR=e=>{const t=typeof e.template=="string"?document.querySelector(e.template):e.template;if(!t)return{};const r=t.content;return n_(r),Object.assign(YR(r),ZR(r),XR(r),QR(r),e_(r),t_(r),r_(r,mw))},YR=e=>{const t={};return Array.from(e.querySelectorAll("swal-param")).forEach(n=>{po(n,["name","value"]);const i=n.getAttribute("name"),o=n.getAttribute("value");!i||!o||(typeof ts[i]=="boolean"?t[i]=o!=="false":typeof ts[i]=="object"?t[i]=JSON.parse(o):t[i]=o)}),t},ZR=e=>{const t={};return Array.from(e.querySelectorAll("swal-function-param")).forEach(n=>{const i=n.getAttribute("name"),o=n.getAttribute("value");!i||!o||(t[i]=new Function(`return ${o}`)())}),t},XR=e=>{const t={};return Array.from(e.querySelectorAll("swal-button")).forEach(n=>{po(n,["type","color","aria-label"]);const i=n.getAttribute("type");!i||!["confirm","cancel","deny"].includes(i)||(t[`${i}ButtonText`]=n.innerHTML,t[`show${If(i)}Button`]=!0,n.hasAttribute("color")&&(t[`${i}ButtonColor`]=n.getAttribute("color")),n.hasAttribute("aria-label")&&(t[`${i}ButtonAriaLabel`]=n.getAttribute("aria-label")))}),t},QR=e=>{const t={},r=e.querySelector("swal-image");return r&&(po(r,["src","width","height","alt"]),r.hasAttribute("src")&&(t.imageUrl=r.getAttribute("src")||void 0),r.hasAttribute("width")&&(t.imageWidth=r.getAttribute("width")||void 0),r.hasAttribute("height")&&(t.imageHeight=r.getAttribute("height")||void 0),r.hasAttribute("alt")&&(t.imageAlt=r.getAttribute("alt")||void 0)),t},e_=e=>{const t={},r=e.querySelector("swal-icon");return r&&(po(r,["type","color"]),r.hasAttribute("type")&&(t.icon=r.getAttribute("type")),r.hasAttribute("color")&&(t.iconColor=r.getAttribute("color")),t.iconHtml=r.innerHTML),t},t_=e=>{const t={},r=e.querySelector("swal-input");r&&(po(r,["type","label","placeholder","value"]),t.input=r.getAttribute("type")||"text",r.hasAttribute("label")&&(t.inputLabel=r.getAttribute("label")),r.hasAttribute("placeholder")&&(t.inputPlaceholder=r.getAttribute("placeholder")),r.hasAttribute("value")&&(t.inputValue=r.getAttribute("value")));const n=Array.from(e.querySelectorAll("swal-input-option"));return n.length&&(t.inputOptions={},n.forEach(i=>{po(i,["value"]);const o=i.getAttribute("value");if(!o)return;const s=i.innerHTML;t.inputOptions[o]=s})),t},r_=(e,t)=>{const r={};for(const n in t){const i=t[n],o=e.querySelector(i);o&&(po(o,[]),r[i.replace(/^swal-/,"")]=o.innerHTML.trim())}return r},n_=e=>{const t=mw.concat(["swal-param","swal-function-param","swal-button","swal-image","swal-icon","swal-input","swal-input-option"]);Array.from(e.children).forEach(r=>{const n=r.tagName.toLowerCase();t.includes(n)||Mr(`Unrecognized element <${n}>`)})},po=(e,t)=>{Array.from(e.attributes).forEach(r=>{t.indexOf(r.name)===-1&&Mr([`Unrecognized attribute "${r.name}" on <${e.tagName.toLowerCase()}>.`,`${t.length?`Allowed attributes are: ${t.join(", ")}`:"To set the value, use HTML within the element."}`])})},bw=10,i_=e=>{const t=Ir(),r=Et();typeof e.willOpen=="function"&&e.willOpen(r),Ke.eventEmitter.emit("willOpen",r);const i=window.getComputedStyle(document.body).overflowY;a_(t,r,e),setTimeout(()=>{o_(t,r)},bw),jf()&&(s_(t,e.scrollbarPadding,i),z3()),!Mc()&&!Ke.previousActiveElement&&(Ke.previousActiveElement=document.activeElement),typeof e.didOpen=="function"&&setTimeout(()=>e.didOpen(r)),Ke.eventEmitter.emit("didOpen",r)},$u=e=>{const t=Et();if(e.target!==t)return;const r=Ir();t.removeEventListener("animationend",$u),t.removeEventListener("transitionend",$u),r.style.overflowY="auto",ln(r,be["no-transition"])},o_=(e,t)=>{Pv(t)?(e.style.overflowY="hidden",t.addEventListener("animationend",$u),t.addEventListener("transitionend",$u)):e.style.overflowY="auto"},s_=(e,t,r)=>{V3(),t&&r!=="hidden"&&Y3(r),setTimeout(()=>{e.scrollTop=0})},a_=(e,t,r)=>{At(e,r.showClass.backdrop),r.animation?(t.style.setProperty("opacity","0","important"),pr(t,"grid"),setTimeout(()=>{At(t,r.showClass.popup),t.style.removeProperty("opacity")},bw)):pr(t,"grid"),At([document.documentElement,document.body],be.shown),r.heightAuto&&r.backdrop&&!r.toast&&At([document.documentElement,document.body],be["height-auto"])};var qg={email:(e,t)=>/^[a-zA-Z0-9.+_'-]+@[a-zA-Z0-9.-]+\.[a-zA-Z0-9-]+$/.test(e)?Promise.resolve():Promise.resolve(t||"Invalid email address"),url:(e,t)=>/^https?:\/\/(www\.)?[-a-zA-Z0-9@:%._+~#=]{1,256}\.[a-z]{2,63}\b([-a-zA-Z0-9@:%_+.~#?&/=]*)$/.test(e)?Promise.resolve():Promise.resolve(t||"Invalid URL")};function l_(e){e.inputValidator||(e.input==="email"&&(e.inputValidator=qg.email),e.input==="url"&&(e.inputValidator=qg.url))}function u_(e){(!e.target||typeof e.target=="string"&&!document.querySelector(e.target)||typeof e.target!="string"&&!e.target.appendChild)&&(Mr('Target parameter is not valid, defaulting to "body"'),e.target="body")}function c_(e){l_(e),e.showLoaderOnConfirm&&!e.preConfirm&&Mr(`showLoaderOnConfirm is set to true, but preConfirm is not defined.
showLoaderOnConfirm should be used together with preConfirm, see usage example:
https://sweetalert2.github.io/#ajax-request`),u_(e),typeof e.title=="string"&&(e.title=e.title.split(`
`).join("<br />")),e3(e)}let vn;var sl=new WeakMap;class nr{constructor(...t){if(DE(this,sl,void 0),typeof window>"u")return;vn=this;const r=Object.freeze(this.constructor.argsToParams(t));this.params=r,this.isAwaitingPromise=!1,ME(sl,this,this._main(vn.params))}_main(t,r={}){if(cw(Object.assign({},r,t)),Ke.currentInstance){const o=gs.swalPromiseResolve.get(Ke.currentInstance),{isAwaitingPromise:s}=Ke.currentInstance;Ke.currentInstance._destroy(),s||o({isDismissed:!0}),jf()&&$v()}Ke.currentInstance=vn;const n=h_(t,r);c_(n),Object.freeze(n),Ke.timeout&&(Ke.timeout.stop(),delete Ke.timeout),clearTimeout(Ke.restoreFocusTimeout);const i=f_(vn);return jv(vn,n),Vt.innerParams.set(vn,n),d_(vn,i,n)}then(t){return Og(sl,this).then(t)}finally(t){return Og(sl,this).finally(t)}}const d_=(e,t,r)=>new Promise((n,i)=>{const o=s=>{e.close({isDismissed:!0,dismiss:s,isConfirmed:!1,isDenied:!1})};gs.swalPromiseResolve.set(e,n),gs.swalPromiseReject.set(e,i),t.confirmButton.onclick=()=>{fR(e)},t.denyButton.onclick=()=>{pR(e)},t.cancelButton.onclick=()=>{gR(e,o)},t.closeButton.onclick=()=>{o(As.close)},RR(r,t,o),B3(Ke,r,o),iR(e,r),i_(r),p_(Ke,r,o),g_(t,r),setTimeout(()=>{t.container.scrollTop=0})}),h_=(e,t)=>{const r=JR(e),n=Object.assign({},ts,t,r,e);return n.showClass=Object.assign({},ts.showClass,n.showClass),n.hideClass=Object.assign({},ts.hideClass,n.hideClass),n.animation===!1&&(n.showClass={backdrop:"swal2-noanimation"},n.hideClass={}),n},f_=e=>{const t={popup:Et(),container:Ir(),actions:Da(),confirmButton:Tn(),denyButton:xo(),cancelButton:Rs(),loader:_s(),closeButton:Hf(),validationMessage:Tc(),progressSteps:Of()};return Vt.domCache.set(e,t),t},p_=(e,t,r)=>{const n=Dc();xr(n),t.timer&&(e.timeout=new qR(()=>{r("timer"),delete e.timeout},t.timer),t.timerProgressBar&&(pr(n),Yr(n,t,"timerProgressBar"),setTimeout(()=>{e.timeout&&e.timeout.running&&Vf(t.timer)})))},g_=(e,t)=>{if(!t.toast){if(!Ac(t.allowEnterKey)){Rv("allowEnterKey"),y_();return}m_(e)||b_(e,t)||Ah(-1,1)}},m_=e=>{const t=Array.from(e.popup.querySelectorAll("[autofocus]"));for(const r of t)if(r instanceof HTMLElement&&Gr(r))return r.focus(),!0;return!1},b_=(e,t)=>t.focusDeny&&Gr(e.denyButton)?(e.denyButton.focus(),!0):t.focusCancel&&Gr(e.cancelButton)?(e.cancelButton.focus(),!0):t.focusConfirm&&Gr(e.confirmButton)?(e.confirmButton.focus(),!0):!1,y_=()=>{document.activeElement instanceof HTMLElement&&typeof document.activeElement.blur=="function"&&document.activeElement.blur()};nr.prototype.disableButtons=rw;nr.prototype.enableButtons=tw;nr.prototype.getInput=Xv;nr.prototype.disableInput=iw;nr.prototype.enableInput=nw;nr.prototype.hideLoading=Vu;nr.prototype.disableLoading=Vu;nr.prototype.showValidationMessage=ow;nr.prototype.resetValidationMessage=sw;nr.prototype.close=Si;nr.prototype.closePopup=Si;nr.prototype.closeModal=Si;nr.prototype.closeToast=Si;nr.prototype.rejectPromise=qv;nr.prototype.update=dw;nr.prototype._destroy=hw;Object.assign(nr,KR);Object.keys(ER).forEach(e=>{nr[e]=function(...t){return vn&&vn[e]?vn[e](...t):null}});nr.DismissReason=As;nr.version="11.26.4";const ha=nr;ha.default=ha;typeof document<"u"&&(function(e,t){var r=e.createElement("style");if(e.getElementsByTagName("head")[0].appendChild(r),r.styleSheet)r.styleSheet.disabled||(r.styleSheet.cssText=t);else try{r.innerHTML=t}catch{r.innerText=t}})(document,':root{--swal2-outline: 0 0 0 3px rgba(100, 150, 200, 0.5);--swal2-container-padding: 0.625em;--swal2-backdrop: rgba(0, 0, 0, 0.4);--swal2-backdrop-transition: background-color 0.15s;--swal2-width: 32em;--swal2-padding: 0 0 1.25em;--swal2-border: none;--swal2-border-radius: 0.3125rem;--swal2-background: white;--swal2-color: #545454;--swal2-show-animation: swal2-show 0.3s;--swal2-hide-animation: swal2-hide 0.15s forwards;--swal2-icon-zoom: 1;--swal2-icon-animations: true;--swal2-title-padding: 0.8em 1em 0;--swal2-html-container-padding: 1em 1.6em 0.3em;--swal2-input-border: 1px solid #d9d9d9;--swal2-input-border-radius: 0.1875em;--swal2-input-box-shadow: inset 0 1px 1px rgba(0, 0, 0, 0.06), 0 0 0 3px transparent;--swal2-input-background: transparent;--swal2-input-transition: border-color 0.2s, box-shadow 0.2s;--swal2-input-hover-box-shadow: inset 0 1px 1px rgba(0, 0, 0, 0.06), 0 0 0 3px transparent;--swal2-input-focus-border: 1px solid #b4dbed;--swal2-input-focus-box-shadow: inset 0 1px 1px rgba(0, 0, 0, 0.06), 0 0 0 3px rgba(100, 150, 200, 0.5);--swal2-progress-step-background: #add8e6;--swal2-validation-message-background: #f0f0f0;--swal2-validation-message-color: #666;--swal2-footer-border-color: #eee;--swal2-footer-background: transparent;--swal2-footer-color: inherit;--swal2-timer-progress-bar-background: rgba(0, 0, 0, 0.3);--swal2-close-button-position: initial;--swal2-close-button-inset: auto;--swal2-close-button-font-size: 2.5em;--swal2-close-button-color: #ccc;--swal2-close-button-transition: color 0.2s, box-shadow 0.2s;--swal2-close-button-outline: initial;--swal2-close-button-box-shadow: inset 0 0 0 3px transparent;--swal2-close-button-focus-box-shadow: inset var(--swal2-outline);--swal2-close-button-hover-transform: none;--swal2-actions-justify-content: center;--swal2-actions-width: auto;--swal2-actions-margin: 1.25em auto 0;--swal2-actions-padding: 0;--swal2-actions-border-radius: 0;--swal2-actions-background: transparent;--swal2-action-button-transition: background-color 0.2s, box-shadow 0.2s;--swal2-action-button-hover: black 10%;--swal2-action-button-active: black 10%;--swal2-confirm-button-box-shadow: none;--swal2-confirm-button-border-radius: 0.25em;--swal2-confirm-button-background-color: #7066e0;--swal2-confirm-button-color: #fff;--swal2-deny-button-box-shadow: none;--swal2-deny-button-border-radius: 0.25em;--swal2-deny-button-background-color: #dc3741;--swal2-deny-button-color: #fff;--swal2-cancel-button-box-shadow: none;--swal2-cancel-button-border-radius: 0.25em;--swal2-cancel-button-background-color: #6e7881;--swal2-cancel-button-color: #fff;--swal2-toast-show-animation: swal2-toast-show 0.5s;--swal2-toast-hide-animation: swal2-toast-hide 0.1s forwards;--swal2-toast-border: none;--swal2-toast-box-shadow: 0 0 1px hsl(0deg 0% 0% / 0.075), 0 1px 2px hsl(0deg 0% 0% / 0.075), 1px 2px 4px hsl(0deg 0% 0% / 0.075), 1px 3px 8px hsl(0deg 0% 0% / 0.075), 2px 4px 16px hsl(0deg 0% 0% / 0.075)}[data-swal2-theme=dark]{--swal2-dark-theme-black: #19191a;--swal2-dark-theme-white: #e1e1e1;--swal2-background: var(--swal2-dark-theme-black);--swal2-color: var(--swal2-dark-theme-white);--swal2-footer-border-color: #555;--swal2-input-background: color-mix(in srgb, var(--swal2-dark-theme-black), var(--swal2-dark-theme-white) 10%);--swal2-validation-message-background: color-mix( in srgb, var(--swal2-dark-theme-black), var(--swal2-dark-theme-white) 10% );--swal2-validation-message-color: var(--swal2-dark-theme-white);--swal2-timer-progress-bar-background: rgba(255, 255, 255, 0.7)}@media(prefers-color-scheme: dark){[data-swal2-theme=auto]{--swal2-dark-theme-black: #19191a;--swal2-dark-theme-white: #e1e1e1;--swal2-background: var(--swal2-dark-theme-black);--swal2-color: var(--swal2-dark-theme-white);--swal2-footer-border-color: #555;--swal2-input-background: color-mix(in srgb, var(--swal2-dark-theme-black), var(--swal2-dark-theme-white) 10%);--swal2-validation-message-background: color-mix( in srgb, var(--swal2-dark-theme-black), var(--swal2-dark-theme-white) 10% );--swal2-validation-message-color: var(--swal2-dark-theme-white);--swal2-timer-progress-bar-background: rgba(255, 255, 255, 0.7)}}body.swal2-shown:not(.swal2-no-backdrop,.swal2-toast-shown){overflow:hidden}body.swal2-height-auto{height:auto !important}body.swal2-no-backdrop .swal2-container{background-color:rgba(0,0,0,0) !important;pointer-events:none}body.swal2-no-backdrop .swal2-container .swal2-popup{pointer-events:all}body.swal2-no-backdrop .swal2-container .swal2-modal{box-shadow:0 0 10px var(--swal2-backdrop)}body.swal2-toast-shown .swal2-container{box-sizing:border-box;width:360px;max-width:100%;background-color:rgba(0,0,0,0);pointer-events:none}body.swal2-toast-shown .swal2-container.swal2-top{inset:0 auto auto 50%;transform:translateX(-50%)}body.swal2-toast-shown .swal2-container.swal2-top-end,body.swal2-toast-shown .swal2-container.swal2-top-right{inset:0 0 auto auto}body.swal2-toast-shown .swal2-container.swal2-top-start,body.swal2-toast-shown .swal2-container.swal2-top-left{inset:0 auto auto 0}body.swal2-toast-shown .swal2-container.swal2-center-start,body.swal2-toast-shown .swal2-container.swal2-center-left{inset:50% auto auto 0;transform:translateY(-50%)}body.swal2-toast-shown .swal2-container.swal2-center{inset:50% auto auto 50%;transform:translate(-50%, -50%)}body.swal2-toast-shown .swal2-container.swal2-center-end,body.swal2-toast-shown .swal2-container.swal2-center-right{inset:50% 0 auto auto;transform:translateY(-50%)}body.swal2-toast-shown .swal2-container.swal2-bottom-start,body.swal2-toast-shown .swal2-container.swal2-bottom-left{inset:auto auto 0 0}body.swal2-toast-shown .swal2-container.swal2-bottom{inset:auto auto 0 50%;transform:translateX(-50%)}body.swal2-toast-shown .swal2-container.swal2-bottom-end,body.swal2-toast-shown .swal2-container.swal2-bottom-right{inset:auto 0 0 auto}@media print{body.swal2-shown:not(.swal2-no-backdrop,.swal2-toast-shown){overflow-y:scroll !important}body.swal2-shown:not(.swal2-no-backdrop,.swal2-toast-shown)>[aria-hidden=true]{display:none}body.swal2-shown:not(.swal2-no-backdrop,.swal2-toast-shown) .swal2-container{position:static !important}}div:where(.swal2-container){display:grid;position:fixed;z-index:1060;inset:0;box-sizing:border-box;grid-template-areas:"top-start     top            top-end" "center-start  center         center-end" "bottom-start  bottom-center  bottom-end";grid-template-rows:minmax(min-content, auto) minmax(min-content, auto) minmax(min-content, auto);height:100%;padding:var(--swal2-container-padding);overflow-x:hidden;transition:var(--swal2-backdrop-transition);-webkit-overflow-scrolling:touch}div:where(.swal2-container).swal2-backdrop-show,div:where(.swal2-container).swal2-noanimation{background:var(--swal2-backdrop)}div:where(.swal2-container).swal2-backdrop-hide{background:rgba(0,0,0,0) !important}div:where(.swal2-container).swal2-top-start,div:where(.swal2-container).swal2-center-start,div:where(.swal2-container).swal2-bottom-start{grid-template-columns:minmax(0, 1fr) auto auto}div:where(.swal2-container).swal2-top,div:where(.swal2-container).swal2-center,div:where(.swal2-container).swal2-bottom{grid-template-columns:auto minmax(0, 1fr) auto}div:where(.swal2-container).swal2-top-end,div:where(.swal2-container).swal2-center-end,div:where(.swal2-container).swal2-bottom-end{grid-template-columns:auto auto minmax(0, 1fr)}div:where(.swal2-container).swal2-top-start>.swal2-popup{align-self:start}div:where(.swal2-container).swal2-top>.swal2-popup{grid-column:2;place-self:start center}div:where(.swal2-container).swal2-top-end>.swal2-popup,div:where(.swal2-container).swal2-top-right>.swal2-popup{grid-column:3;place-self:start end}div:where(.swal2-container).swal2-center-start>.swal2-popup,div:where(.swal2-container).swal2-center-left>.swal2-popup{grid-row:2;align-self:center}div:where(.swal2-container).swal2-center>.swal2-popup{grid-column:2;grid-row:2;place-self:center center}div:where(.swal2-container).swal2-center-end>.swal2-popup,div:where(.swal2-container).swal2-center-right>.swal2-popup{grid-column:3;grid-row:2;place-self:center end}div:where(.swal2-container).swal2-bottom-start>.swal2-popup,div:where(.swal2-container).swal2-bottom-left>.swal2-popup{grid-column:1;grid-row:3;align-self:end}div:where(.swal2-container).swal2-bottom>.swal2-popup{grid-column:2;grid-row:3;place-self:end center}div:where(.swal2-container).swal2-bottom-end>.swal2-popup,div:where(.swal2-container).swal2-bottom-right>.swal2-popup{grid-column:3;grid-row:3;place-self:end end}div:where(.swal2-container).swal2-grow-row>.swal2-popup,div:where(.swal2-container).swal2-grow-fullscreen>.swal2-popup{grid-column:1/4;width:100%}div:where(.swal2-container).swal2-grow-column>.swal2-popup,div:where(.swal2-container).swal2-grow-fullscreen>.swal2-popup{grid-row:1/4;align-self:stretch}div:where(.swal2-container).swal2-no-transition{transition:none !important}div:where(.swal2-container)[popover]{width:auto;border:0}div:where(.swal2-container) div:where(.swal2-popup){display:none;position:relative;box-sizing:border-box;grid-template-columns:minmax(0, 100%);width:var(--swal2-width);max-width:100%;padding:var(--swal2-padding);border:var(--swal2-border);border-radius:var(--swal2-border-radius);background:var(--swal2-background);color:var(--swal2-color);font-family:inherit;font-size:1rem;container-name:swal2-popup}div:where(.swal2-container) div:where(.swal2-popup):focus{outline:none}div:where(.swal2-container) div:where(.swal2-popup).swal2-loading{overflow-y:hidden}div:where(.swal2-container) div:where(.swal2-popup).swal2-draggable{cursor:grab}div:where(.swal2-container) div:where(.swal2-popup).swal2-draggable div:where(.swal2-icon){cursor:grab}div:where(.swal2-container) div:where(.swal2-popup).swal2-dragging{cursor:grabbing}div:where(.swal2-container) div:where(.swal2-popup).swal2-dragging div:where(.swal2-icon){cursor:grabbing}div:where(.swal2-container) h2:where(.swal2-title){position:relative;max-width:100%;margin:0;padding:var(--swal2-title-padding);color:inherit;font-size:1.875em;font-weight:600;text-align:center;text-transform:none;overflow-wrap:break-word;cursor:initial}div:where(.swal2-container) div:where(.swal2-actions){display:flex;z-index:1;box-sizing:border-box;flex-wrap:wrap;align-items:center;justify-content:var(--swal2-actions-justify-content);width:var(--swal2-actions-width);margin:var(--swal2-actions-margin);padding:var(--swal2-actions-padding);border-radius:var(--swal2-actions-border-radius);background:var(--swal2-actions-background)}div:where(.swal2-container) div:where(.swal2-loader){display:none;align-items:center;justify-content:center;width:2.2em;height:2.2em;margin:0 1.875em;animation:swal2-rotate-loading 1.5s linear 0s infinite normal;border-width:.25em;border-style:solid;border-radius:100%;border-color:#2778c4 rgba(0,0,0,0) #2778c4 rgba(0,0,0,0)}div:where(.swal2-container) button:where(.swal2-styled){margin:.3125em;padding:.625em 1.1em;transition:var(--swal2-action-button-transition);border:none;box-shadow:0 0 0 3px rgba(0,0,0,0);font-weight:500}div:where(.swal2-container) button:where(.swal2-styled):not([disabled]){cursor:pointer}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-confirm){border-radius:var(--swal2-confirm-button-border-radius);background:initial;background-color:var(--swal2-confirm-button-background-color);box-shadow:var(--swal2-confirm-button-box-shadow);color:var(--swal2-confirm-button-color);font-size:1em}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-confirm):hover{background-color:color-mix(in srgb, var(--swal2-confirm-button-background-color), var(--swal2-action-button-hover))}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-confirm):active{background-color:color-mix(in srgb, var(--swal2-confirm-button-background-color), var(--swal2-action-button-active))}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-deny){border-radius:var(--swal2-deny-button-border-radius);background:initial;background-color:var(--swal2-deny-button-background-color);box-shadow:var(--swal2-deny-button-box-shadow);color:var(--swal2-deny-button-color);font-size:1em}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-deny):hover{background-color:color-mix(in srgb, var(--swal2-deny-button-background-color), var(--swal2-action-button-hover))}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-deny):active{background-color:color-mix(in srgb, var(--swal2-deny-button-background-color), var(--swal2-action-button-active))}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-cancel){border-radius:var(--swal2-cancel-button-border-radius);background:initial;background-color:var(--swal2-cancel-button-background-color);box-shadow:var(--swal2-cancel-button-box-shadow);color:var(--swal2-cancel-button-color);font-size:1em}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-cancel):hover{background-color:color-mix(in srgb, var(--swal2-cancel-button-background-color), var(--swal2-action-button-hover))}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-cancel):active{background-color:color-mix(in srgb, var(--swal2-cancel-button-background-color), var(--swal2-action-button-active))}div:where(.swal2-container) button:where(.swal2-styled):focus-visible{outline:none;box-shadow:var(--swal2-action-button-focus-box-shadow)}div:where(.swal2-container) button:where(.swal2-styled)[disabled]:not(.swal2-loading){opacity:.4}div:where(.swal2-container) button:where(.swal2-styled)::-moz-focus-inner{border:0}div:where(.swal2-container) div:where(.swal2-footer){margin:1em 0 0;padding:1em 1em 0;border-top:1px solid var(--swal2-footer-border-color);background:var(--swal2-footer-background);color:var(--swal2-footer-color);font-size:1em;text-align:center;cursor:initial}div:where(.swal2-container) .swal2-timer-progress-bar-container{position:absolute;right:0;bottom:0;left:0;grid-column:auto !important;overflow:hidden;border-bottom-right-radius:var(--swal2-border-radius);border-bottom-left-radius:var(--swal2-border-radius)}div:where(.swal2-container) div:where(.swal2-timer-progress-bar){width:100%;height:.25em;background:var(--swal2-timer-progress-bar-background)}div:where(.swal2-container) img:where(.swal2-image){max-width:100%;margin:2em auto 1em;cursor:initial}div:where(.swal2-container) button:where(.swal2-close){position:var(--swal2-close-button-position);inset:var(--swal2-close-button-inset);z-index:2;align-items:center;justify-content:center;width:1.2em;height:1.2em;margin-top:0;margin-right:0;margin-bottom:-1.2em;padding:0;overflow:hidden;transition:var(--swal2-close-button-transition);border:none;border-radius:var(--swal2-border-radius);outline:var(--swal2-close-button-outline);background:rgba(0,0,0,0);color:var(--swal2-close-button-color);font-family:monospace;font-size:var(--swal2-close-button-font-size);cursor:pointer;justify-self:end}div:where(.swal2-container) button:where(.swal2-close):hover{transform:var(--swal2-close-button-hover-transform);background:rgba(0,0,0,0);color:#f27474}div:where(.swal2-container) button:where(.swal2-close):focus-visible{outline:none;box-shadow:var(--swal2-close-button-focus-box-shadow)}div:where(.swal2-container) button:where(.swal2-close)::-moz-focus-inner{border:0}div:where(.swal2-container) div:where(.swal2-html-container){z-index:1;justify-content:center;margin:0;padding:var(--swal2-html-container-padding);overflow:auto;color:inherit;font-size:1.125em;font-weight:normal;line-height:normal;text-align:center;overflow-wrap:break-word;word-break:break-word;cursor:initial}div:where(.swal2-container) input:where(.swal2-input),div:where(.swal2-container) input:where(.swal2-file),div:where(.swal2-container) textarea:where(.swal2-textarea),div:where(.swal2-container) select:where(.swal2-select),div:where(.swal2-container) div:where(.swal2-radio),div:where(.swal2-container) label:where(.swal2-checkbox){margin:1em 2em 3px}div:where(.swal2-container) input:where(.swal2-input),div:where(.swal2-container) input:where(.swal2-file),div:where(.swal2-container) textarea:where(.swal2-textarea){box-sizing:border-box;width:auto;transition:var(--swal2-input-transition);border:var(--swal2-input-border);border-radius:var(--swal2-input-border-radius);background:var(--swal2-input-background);box-shadow:var(--swal2-input-box-shadow);color:inherit;font-size:1.125em}div:where(.swal2-container) input:where(.swal2-input).swal2-inputerror,div:where(.swal2-container) input:where(.swal2-file).swal2-inputerror,div:where(.swal2-container) textarea:where(.swal2-textarea).swal2-inputerror{border-color:#f27474 !important;box-shadow:0 0 2px #f27474 !important}div:where(.swal2-container) input:where(.swal2-input):hover,div:where(.swal2-container) input:where(.swal2-file):hover,div:where(.swal2-container) textarea:where(.swal2-textarea):hover{box-shadow:var(--swal2-input-hover-box-shadow)}div:where(.swal2-container) input:where(.swal2-input):focus,div:where(.swal2-container) input:where(.swal2-file):focus,div:where(.swal2-container) textarea:where(.swal2-textarea):focus{border:var(--swal2-input-focus-border);outline:none;box-shadow:var(--swal2-input-focus-box-shadow)}div:where(.swal2-container) input:where(.swal2-input)::placeholder,div:where(.swal2-container) input:where(.swal2-file)::placeholder,div:where(.swal2-container) textarea:where(.swal2-textarea)::placeholder{color:#ccc}div:where(.swal2-container) .swal2-range{margin:1em 2em 3px;background:var(--swal2-background)}div:where(.swal2-container) .swal2-range input{width:80%}div:where(.swal2-container) .swal2-range output{width:20%;color:inherit;font-weight:600;text-align:center}div:where(.swal2-container) .swal2-range input,div:where(.swal2-container) .swal2-range output{height:2.625em;padding:0;font-size:1.125em;line-height:2.625em}div:where(.swal2-container) .swal2-input{height:2.625em;padding:0 .75em}div:where(.swal2-container) .swal2-file{width:75%;margin-right:auto;margin-left:auto;background:var(--swal2-input-background);font-size:1.125em}div:where(.swal2-container) .swal2-textarea{height:6.75em;padding:.75em}div:where(.swal2-container) .swal2-select{min-width:50%;max-width:100%;padding:.375em .625em;background:var(--swal2-input-background);color:inherit;font-size:1.125em}div:where(.swal2-container) .swal2-radio,div:where(.swal2-container) .swal2-checkbox{align-items:center;justify-content:center;background:var(--swal2-background);color:inherit}div:where(.swal2-container) .swal2-radio label,div:where(.swal2-container) .swal2-checkbox label{margin:0 .6em;font-size:1.125em}div:where(.swal2-container) .swal2-radio input,div:where(.swal2-container) .swal2-checkbox input{flex-shrink:0;margin:0 .4em}div:where(.swal2-container) label:where(.swal2-input-label){display:flex;justify-content:center;margin:1em auto 0}div:where(.swal2-container) div:where(.swal2-validation-message){align-items:center;justify-content:center;margin:1em 0 0;padding:.625em;overflow:hidden;background:var(--swal2-validation-message-background);color:var(--swal2-validation-message-color);font-size:1em;font-weight:300}div:where(.swal2-container) div:where(.swal2-validation-message)::before{content:"!";display:inline-block;width:1.5em;min-width:1.5em;height:1.5em;margin:0 .625em;border-radius:50%;background-color:#f27474;color:#fff;font-weight:600;line-height:1.5em;text-align:center}div:where(.swal2-container) .swal2-progress-steps{flex-wrap:wrap;align-items:center;max-width:100%;margin:1.25em auto;padding:0;background:rgba(0,0,0,0);font-weight:600}div:where(.swal2-container) .swal2-progress-steps li{display:inline-block;position:relative}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step{z-index:20;flex-shrink:0;width:2em;height:2em;border-radius:2em;background:#2778c4;color:#fff;line-height:2em;text-align:center}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step.swal2-active-progress-step{background:#2778c4}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step.swal2-active-progress-step~.swal2-progress-step{background:var(--swal2-progress-step-background);color:#fff}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step.swal2-active-progress-step~.swal2-progress-step-line{background:var(--swal2-progress-step-background)}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step-line{z-index:10;flex-shrink:0;width:2.5em;height:.4em;margin:0 -1px;background:#2778c4}div:where(.swal2-icon){position:relative;box-sizing:content-box;justify-content:center;width:5em;height:5em;margin:2.5em auto .6em;zoom:var(--swal2-icon-zoom);border:.25em solid rgba(0,0,0,0);border-radius:50%;border-color:#000;font-family:inherit;line-height:5em;cursor:default;user-select:none}div:where(.swal2-icon) .swal2-icon-content{display:flex;align-items:center;font-size:3.75em}div:where(.swal2-icon).swal2-error{border-color:#f27474;color:#f27474}div:where(.swal2-icon).swal2-error .swal2-x-mark{position:relative;flex-grow:1}div:where(.swal2-icon).swal2-error [class^=swal2-x-mark-line]{display:block;position:absolute;top:2.3125em;width:2.9375em;height:.3125em;border-radius:.125em;background-color:#f27474}div:where(.swal2-icon).swal2-error [class^=swal2-x-mark-line][class$=left]{left:1.0625em;transform:rotate(45deg)}div:where(.swal2-icon).swal2-error [class^=swal2-x-mark-line][class$=right]{right:1em;transform:rotate(-45deg)}@container swal2-popup style(--swal2-icon-animations:true){div:where(.swal2-icon).swal2-error.swal2-icon-show{animation:swal2-animate-error-icon .5s}div:where(.swal2-icon).swal2-error.swal2-icon-show .swal2-x-mark{animation:swal2-animate-error-x-mark .5s}}div:where(.swal2-icon).swal2-warning{border-color:#f8bb86;color:#f8bb86}@container swal2-popup style(--swal2-icon-animations:true){div:where(.swal2-icon).swal2-warning.swal2-icon-show{animation:swal2-animate-error-icon .5s}div:where(.swal2-icon).swal2-warning.swal2-icon-show .swal2-icon-content{animation:swal2-animate-i-mark .5s}}div:where(.swal2-icon).swal2-info{border-color:#3fc3ee;color:#3fc3ee}@container swal2-popup style(--swal2-icon-animations:true){div:where(.swal2-icon).swal2-info.swal2-icon-show{animation:swal2-animate-error-icon .5s}div:where(.swal2-icon).swal2-info.swal2-icon-show .swal2-icon-content{animation:swal2-animate-i-mark .8s}}div:where(.swal2-icon).swal2-question{border-color:#87adbd;color:#87adbd}@container swal2-popup style(--swal2-icon-animations:true){div:where(.swal2-icon).swal2-question.swal2-icon-show{animation:swal2-animate-error-icon .5s}div:where(.swal2-icon).swal2-question.swal2-icon-show .swal2-icon-content{animation:swal2-animate-question-mark .8s}}div:where(.swal2-icon).swal2-success{border-color:#a5dc86;color:#a5dc86}div:where(.swal2-icon).swal2-success [class^=swal2-success-circular-line]{position:absolute;width:3.75em;height:7.5em;border-radius:50%}div:where(.swal2-icon).swal2-success [class^=swal2-success-circular-line][class$=left]{top:-0.4375em;left:-2.0635em;transform:rotate(-45deg);transform-origin:3.75em 3.75em;border-radius:7.5em 0 0 7.5em}div:where(.swal2-icon).swal2-success [class^=swal2-success-circular-line][class$=right]{top:-0.6875em;left:1.875em;transform:rotate(-45deg);transform-origin:0 3.75em;border-radius:0 7.5em 7.5em 0}div:where(.swal2-icon).swal2-success .swal2-success-ring{position:absolute;z-index:2;top:-0.25em;left:-0.25em;box-sizing:content-box;width:100%;height:100%;border:.25em solid rgba(165,220,134,.3);border-radius:50%}div:where(.swal2-icon).swal2-success .swal2-success-fix{position:absolute;z-index:1;top:.5em;left:1.625em;width:.4375em;height:5.625em;transform:rotate(-45deg)}div:where(.swal2-icon).swal2-success [class^=swal2-success-line]{display:block;position:absolute;z-index:2;height:.3125em;border-radius:.125em;background-color:#a5dc86}div:where(.swal2-icon).swal2-success [class^=swal2-success-line][class$=tip]{top:2.875em;left:.8125em;width:1.5625em;transform:rotate(45deg)}div:where(.swal2-icon).swal2-success [class^=swal2-success-line][class$=long]{top:2.375em;right:.5em;width:2.9375em;transform:rotate(-45deg)}@container swal2-popup style(--swal2-icon-animations:true){div:where(.swal2-icon).swal2-success.swal2-icon-show .swal2-success-line-tip{animation:swal2-animate-success-line-tip .75s}div:where(.swal2-icon).swal2-success.swal2-icon-show .swal2-success-line-long{animation:swal2-animate-success-line-long .75s}div:where(.swal2-icon).swal2-success.swal2-icon-show .swal2-success-circular-line-right{animation:swal2-rotate-success-circular-line 4.25s ease-in}}[class^=swal2]{-webkit-tap-highlight-color:rgba(0,0,0,0)}.swal2-show{animation:var(--swal2-show-animation)}.swal2-hide{animation:var(--swal2-hide-animation)}.swal2-noanimation{transition:none}.swal2-scrollbar-measure{position:absolute;top:-9999px;width:50px;height:50px;overflow:scroll}.swal2-rtl .swal2-close{margin-right:initial;margin-left:0}.swal2-rtl .swal2-timer-progress-bar{right:0;left:auto}.swal2-toast{box-sizing:border-box;grid-column:1/4 !important;grid-row:1/4 !important;grid-template-columns:min-content auto min-content;padding:1em;overflow-y:hidden;border:var(--swal2-toast-border);background:var(--swal2-background);box-shadow:var(--swal2-toast-box-shadow);pointer-events:all}.swal2-toast>*{grid-column:2}.swal2-toast h2:where(.swal2-title){margin:.5em 1em;padding:0;font-size:1em;text-align:initial}.swal2-toast .swal2-loading{justify-content:center}.swal2-toast input:where(.swal2-input){height:2em;margin:.5em;font-size:1em}.swal2-toast .swal2-validation-message{font-size:1em}.swal2-toast div:where(.swal2-footer){margin:.5em 0 0;padding:.5em 0 0;font-size:.8em}.swal2-toast button:where(.swal2-close){grid-column:3/3;grid-row:1/99;align-self:center;width:.8em;height:.8em;margin:0;font-size:2em}.swal2-toast div:where(.swal2-html-container){margin:.5em 1em;padding:0;overflow:initial;font-size:1em;text-align:initial}.swal2-toast div:where(.swal2-html-container):empty{padding:0}.swal2-toast .swal2-loader{grid-column:1;grid-row:1/99;align-self:center;width:2em;height:2em;margin:.25em}.swal2-toast .swal2-icon{grid-column:1;grid-row:1/99;align-self:center;width:2em;min-width:2em;height:2em;margin:0 .5em 0 0}.swal2-toast .swal2-icon .swal2-icon-content{display:flex;align-items:center;font-size:1.8em;font-weight:bold}.swal2-toast .swal2-icon.swal2-success .swal2-success-ring{width:2em;height:2em}.swal2-toast .swal2-icon.swal2-error [class^=swal2-x-mark-line]{top:.875em;width:1.375em}.swal2-toast .swal2-icon.swal2-error [class^=swal2-x-mark-line][class$=left]{left:.3125em}.swal2-toast .swal2-icon.swal2-error [class^=swal2-x-mark-line][class$=right]{right:.3125em}.swal2-toast div:where(.swal2-actions){justify-content:flex-start;height:auto;margin:0;margin-top:.5em;padding:0 .5em}.swal2-toast button:where(.swal2-styled){margin:.25em .5em;padding:.4em .6em;font-size:1em}.swal2-toast .swal2-success{border-color:#a5dc86}.swal2-toast .swal2-success [class^=swal2-success-circular-line]{position:absolute;width:1.6em;height:3em;border-radius:50%}.swal2-toast .swal2-success [class^=swal2-success-circular-line][class$=left]{top:-0.8em;left:-0.5em;transform:rotate(-45deg);transform-origin:2em 2em;border-radius:4em 0 0 4em}.swal2-toast .swal2-success [class^=swal2-success-circular-line][class$=right]{top:-0.25em;left:.9375em;transform-origin:0 1.5em;border-radius:0 4em 4em 0}.swal2-toast .swal2-success .swal2-success-ring{width:2em;height:2em}.swal2-toast .swal2-success .swal2-success-fix{top:0;left:.4375em;width:.4375em;height:2.6875em}.swal2-toast .swal2-success [class^=swal2-success-line]{height:.3125em}.swal2-toast .swal2-success [class^=swal2-success-line][class$=tip]{top:1.125em;left:.1875em;width:.75em}.swal2-toast .swal2-success [class^=swal2-success-line][class$=long]{top:.9375em;right:.1875em;width:1.375em}@container swal2-popup style(--swal2-icon-animations:true){.swal2-toast .swal2-success.swal2-icon-show .swal2-success-line-tip{animation:swal2-toast-animate-success-line-tip .75s}.swal2-toast .swal2-success.swal2-icon-show .swal2-success-line-long{animation:swal2-toast-animate-success-line-long .75s}}.swal2-toast.swal2-show{animation:var(--swal2-toast-show-animation)}.swal2-toast.swal2-hide{animation:var(--swal2-toast-hide-animation)}@keyframes swal2-show{0%{transform:translate3d(0, -50px, 0) scale(0.9);opacity:0}100%{transform:translate3d(0, 0, 0) scale(1);opacity:1}}@keyframes swal2-hide{0%{transform:translate3d(0, 0, 0) scale(1);opacity:1}100%{transform:translate3d(0, -50px, 0) scale(0.9);opacity:0}}@keyframes swal2-animate-success-line-tip{0%{top:1.1875em;left:.0625em;width:0}54%{top:1.0625em;left:.125em;width:0}70%{top:2.1875em;left:-0.375em;width:3.125em}84%{top:3em;left:1.3125em;width:1.0625em}100%{top:2.8125em;left:.8125em;width:1.5625em}}@keyframes swal2-animate-success-line-long{0%{top:3.375em;right:2.875em;width:0}65%{top:3.375em;right:2.875em;width:0}84%{top:2.1875em;right:0;width:3.4375em}100%{top:2.375em;right:.5em;width:2.9375em}}@keyframes swal2-rotate-success-circular-line{0%{transform:rotate(-45deg)}5%{transform:rotate(-45deg)}12%{transform:rotate(-405deg)}100%{transform:rotate(-405deg)}}@keyframes swal2-animate-error-x-mark{0%{margin-top:1.625em;transform:scale(0.4);opacity:0}50%{margin-top:1.625em;transform:scale(0.4);opacity:0}80%{margin-top:-0.375em;transform:scale(1.15)}100%{margin-top:0;transform:scale(1);opacity:1}}@keyframes swal2-animate-error-icon{0%{transform:rotateX(100deg);opacity:0}100%{transform:rotateX(0deg);opacity:1}}@keyframes swal2-rotate-loading{0%{transform:rotate(0deg)}100%{transform:rotate(360deg)}}@keyframes swal2-animate-question-mark{0%{transform:rotateY(-360deg)}100%{transform:rotateY(0)}}@keyframes swal2-animate-i-mark{0%{transform:rotateZ(45deg);opacity:0}25%{transform:rotateZ(-25deg);opacity:.4}50%{transform:rotateZ(15deg);opacity:.8}75%{transform:rotateZ(-5deg);opacity:1}100%{transform:rotateX(0);opacity:1}}@keyframes swal2-toast-show{0%{transform:translateY(-0.625em) rotateZ(2deg)}33%{transform:translateY(0) rotateZ(-2deg)}66%{transform:translateY(0.3125em) rotateZ(2deg)}100%{transform:translateY(0) rotateZ(0deg)}}@keyframes swal2-toast-hide{100%{transform:rotateZ(1deg);opacity:0}}@keyframes swal2-toast-animate-success-line-tip{0%{top:.5625em;left:.0625em;width:0}54%{top:.125em;left:.125em;width:0}70%{top:.625em;left:-0.25em;width:1.625em}84%{top:1.0625em;left:.75em;width:.5em}100%{top:1.125em;left:.1875em;width:.75em}}@keyframes swal2-toast-animate-success-line-long{0%{top:1.625em;right:1.375em;width:0}65%{top:1.25em;right:.9375em;width:0}84%{top:.9375em;right:0;width:1.125em}100%{top:.9375em;right:.1875em;width:1.375em}}');const Jg=[{key:"title",getter:e=>e.getTitle()},{key:"html",getter:e=>e.getHtmlContainer()},{key:"confirmButtonText",getter:e=>e.getConfirmButton()},{key:"denyButtonText",getter:e=>e.getDenyButton()},{key:"cancelButtonText",getter:e=>e.getCancelButton()},{key:"footer",getter:e=>e.getFooter()},{key:"closeButtonHtml",getter:e=>e.getCloseButton()},{key:"iconHtml",getter:e=>e.getIconContent()},{key:"loaderHtml",getter:e=>e.getLoader()}],fd=()=>{};function yw(e){function t(i){const o={},s={},a=Jg.map(l=>l.key);return Object.entries(i).forEach(l=>{let[u,c]=l;a.includes(u)&&xe.isValidElement(c)?(o[u]=c,s[u]=" "):s[u]=c}),[o,s]}function r(i,o){Object.entries(o).forEach(s=>{let[a,l]=s;const c=Jg.find(d=>d.key===a).getter(e),f=u2.createRoot(c);f.render(l),i.__roots.push(f)})}function n(i){i.__roots.forEach(o=>{o.unmount()}),i.__roots=[]}return class extends e{static argsToParams(i){if(xe.isValidElement(i[0])||xe.isValidElement(i[1])){const o={};return["title","html","icon"].forEach((s,a)=>{i[a]!==void 0&&(o[s]=i[a])}),o}else return e.argsToParams(i)}_main(i,o){this.__roots=[],this.__params=Object.assign({},o,i);const[s,a]=t(this.__params),l=a.willOpen||fd,u=a.didOpen||fd,c=a.didDestroy||fd;return super._main(Object.assign({},a,{willOpen:f=>{r(this,s),l(f)},didOpen:f=>{setTimeout(()=>{u(f)})},didDestroy:f=>{c(f),n(this)}}))}update(i){Object.assign(this.__params,i),n(this);const[o,s]=t(this.__params);super.update(s),r(this,o)}}}const v_=yw(ha),Pt=v_.mixin({customClass:{confirmButton:"bg-blue-700 text-white px-4 py-2 rounded-lg hover:bg-blue-800 focus:ring-4 focus:outline-none focus:ring-blue-300 ml-2",denyButton:"bg-red-600 text-white px-4 py-2 rounded-lg hover:bg-red-700 focus:ring-4 focus:outline-none focus:ring-red-300",cancelButton:"bg-red-600 text-white px-4 py-2 rounded-lg hover:bg-red-700 focus:ring-4 focus:outline-none focus:ring-red-300",popup:"rounded-lg"},buttonsStyling:!0});var au={exports:{}};/* @license
Papa Parse
v5.5.3
https://github.com/mholt/PapaParse
License: MIT
*/var w_=au.exports,Yg;function C_(){return Yg||(Yg=1,(function(e,t){((r,n)=>{e.exports=n()})(w_,function r(){var n=typeof self<"u"?self:typeof window<"u"?window:n!==void 0?n:{},i,o=!n.document&&!!n.postMessage,s=n.IS_PAPA_WORKER||!1,a={},l=0,u={};function c(M){this._handle=null,this._finished=!1,this._completed=!1,this._halted=!1,this._input=null,this._baseIndex=0,this._partialLine="",this._rowCount=0,this._start=0,this._nextChunk=null,this.isFirstChunk=!0,this._completeResults={data:[],errors:[],meta:{}},function(P){var O=E(P);O.chunkSize=parseInt(O.chunkSize),P.step||P.chunk||(O.chunkSize=null),this._handle=new m(O),(this._handle.streamer=this)._config=O}.call(this,M),this.parseChunk=function(P,O){var z=parseInt(this._config.skipFirstNLines)||0;if(this.isFirstChunk&&0<z){let _=this._config.newline;_||(L=this._config.quoteChar||'"',_=this._handle.guessLineEndings(P,L)),P=[...P.split(_).slice(z)].join(_)}this.isFirstChunk&&I(this._config.beforeFirstChunk)&&(L=this._config.beforeFirstChunk(P))!==void 0&&(P=L),this.isFirstChunk=!1,this._halted=!1;var z=this._partialLine+P,L=(this._partialLine="",this._handle.parse(z,this._baseIndex,!this._finished));if(!this._handle.paused()&&!this._handle.aborted()){if(P=L.meta.cursor,z=(this._finished||(this._partialLine=z.substring(P-this._baseIndex),this._baseIndex=P),L&&L.data&&(this._rowCount+=L.data.length),this._finished||this._config.preview&&this._rowCount>=this._config.preview),s)n.postMessage({results:L,workerId:u.WORKER_ID,finished:z});else if(I(this._config.chunk)&&!O){if(this._config.chunk(L,this._handle),this._handle.paused()||this._handle.aborted())return void(this._halted=!0);this._completeResults=L=void 0}return this._config.step||this._config.chunk||(this._completeResults.data=this._completeResults.data.concat(L.data),this._completeResults.errors=this._completeResults.errors.concat(L.errors),this._completeResults.meta=L.meta),this._completed||!z||!I(this._config.complete)||L&&L.meta.aborted||(this._config.complete(this._completeResults,this._input),this._completed=!0),z||L&&L.meta.paused||this._nextChunk(),L}this._halted=!0},this._sendError=function(P){I(this._config.error)?this._config.error(P):s&&this._config.error&&n.postMessage({workerId:u.WORKER_ID,error:P,finished:!1})}}function f(M){var P;(M=M||{}).chunkSize||(M.chunkSize=u.RemoteChunkSize),c.call(this,M),this._nextChunk=o?function(){this._readChunk(),this._chunkLoaded()}:function(){this._readChunk()},this.stream=function(O){this._input=O,this._nextChunk()},this._readChunk=function(){if(this._finished)this._chunkLoaded();else{if(P=new XMLHttpRequest,this._config.withCredentials&&(P.withCredentials=this._config.withCredentials),o||(P.onload=T(this._chunkLoaded,this),P.onerror=T(this._chunkError,this)),P.open(this._config.downloadRequestBody?"POST":"GET",this._input,!o),this._config.downloadRequestHeaders){var O,z=this._config.downloadRequestHeaders;for(O in z)P.setRequestHeader(O,z[O])}var L;this._config.chunkSize&&(L=this._start+this._config.chunkSize-1,P.setRequestHeader("Range","bytes="+this._start+"-"+L));try{P.send(this._config.downloadRequestBody)}catch(_){this._chunkError(_.message)}o&&P.status===0&&this._chunkError()}},this._chunkLoaded=function(){P.readyState===4&&(P.status<200||400<=P.status?this._chunkError():(this._start+=this._config.chunkSize||P.responseText.length,this._finished=!this._config.chunkSize||this._start>=(O=>(O=O.getResponseHeader("Content-Range"))!==null?parseInt(O.substring(O.lastIndexOf("/")+1)):-1)(P),this.parseChunk(P.responseText)))},this._chunkError=function(O){O=P.statusText||O,this._sendError(new Error(O))}}function d(M){(M=M||{}).chunkSize||(M.chunkSize=u.LocalChunkSize),c.call(this,M);var P,O,z=typeof FileReader<"u";this.stream=function(L){this._input=L,O=L.slice||L.webkitSlice||L.mozSlice,z?((P=new FileReader).onload=T(this._chunkLoaded,this),P.onerror=T(this._chunkError,this)):P=new FileReaderSync,this._nextChunk()},this._nextChunk=function(){this._finished||this._config.preview&&!(this._rowCount<this._config.preview)||this._readChunk()},this._readChunk=function(){var L=this._input,_=(this._config.chunkSize&&(_=Math.min(this._start+this._config.chunkSize,this._input.size),L=O.call(L,this._start,_)),P.readAsText(L,this._config.encoding));z||this._chunkLoaded({target:{result:_}})},this._chunkLoaded=function(L){this._start+=this._config.chunkSize,this._finished=!this._config.chunkSize||this._start>=this._input.size,this.parseChunk(L.target.result)},this._chunkError=function(){this._sendError(P.error)}}function h(M){var P;c.call(this,M=M||{}),this.stream=function(O){return P=O,this._nextChunk()},this._nextChunk=function(){var O,z;if(!this._finished)return O=this._config.chunkSize,P=O?(z=P.substring(0,O),P.substring(O)):(z=P,""),this._finished=!P,this.parseChunk(z)}}function g(M){c.call(this,M=M||{});var P=[],O=!0,z=!1;this.pause=function(){c.prototype.pause.apply(this,arguments),this._input.pause()},this.resume=function(){c.prototype.resume.apply(this,arguments),this._input.resume()},this.stream=function(L){this._input=L,this._input.on("data",this._streamData),this._input.on("end",this._streamEnd),this._input.on("error",this._streamError)},this._checkIsFinished=function(){z&&P.length===1&&(this._finished=!0)},this._nextChunk=function(){this._checkIsFinished(),P.length?this.parseChunk(P.shift()):O=!0},this._streamData=T(function(L){try{P.push(typeof L=="string"?L:L.toString(this._config.encoding)),O&&(O=!1,this._checkIsFinished(),this.parseChunk(P.shift()))}catch(_){this._streamError(_)}},this),this._streamError=T(function(L){this._streamCleanUp(),this._sendError(L)},this),this._streamEnd=T(function(){this._streamCleanUp(),z=!0,this._streamData("")},this),this._streamCleanUp=T(function(){this._input.removeListener("data",this._streamData),this._input.removeListener("end",this._streamEnd),this._input.removeListener("error",this._streamError)},this)}function m(M){var P,O,z,L,_=Math.pow(2,53),R=-_,k=/^\s*-?(\d+\.?|\.\d+|\d+\.\d+)([eE][-+]?\d+)?\s*$/,S=/^((\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d\.\d+([+-][0-2]\d:[0-5]\d|Z))|(\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d([+-][0-2]\d:[0-5]\d|Z))|(\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d([+-][0-2]\d:[0-5]\d|Z)))$/,w=this,C=0,x=0,A=!1,D=!1,B=[],V={data:[],errors:[],meta:{}};function j(H){return M.skipEmptyLines==="greedy"?H.join("").trim()==="":H.length===1&&H[0].length===0}function K(){if(V&&z&&(Y("Delimiter","UndetectableDelimiter","Unable to auto-detect delimiting character; defaulted to '"+u.DefaultDelimiter+"'"),z=!1),M.skipEmptyLines&&(V.data=V.data.filter(function(J){return!j(J)})),G()){let J=function(Q,ee){I(M.transformHeader)&&(Q=M.transformHeader(Q,ee)),B.push(Q)};if(V)if(Array.isArray(V.data[0])){for(var H=0;G()&&H<V.data.length;H++)V.data[H].forEach(J);V.data.splice(0,1)}else V.data.forEach(J)}function N(J,Q){for(var ee=M.header?{}:[],W=0;W<J.length;W++){var ne=W,re=J[W],re=((q,X)=>(te=>(M.dynamicTypingFunction&&M.dynamicTyping[te]===void 0&&(M.dynamicTyping[te]=M.dynamicTypingFunction(te)),(M.dynamicTyping[te]||M.dynamicTyping)===!0))(q)?X==="true"||X==="TRUE"||X!=="false"&&X!=="FALSE"&&((te=>{if(k.test(te)&&(te=parseFloat(te),R<te&&te<_))return 1})(X)?parseFloat(X):S.test(X)?new Date(X):X===""?null:X):X)(ne=M.header?W>=B.length?"__parsed_extra":B[W]:ne,re=M.transform?M.transform(re,ne):re);ne==="__parsed_extra"?(ee[ne]=ee[ne]||[],ee[ne].push(re)):ee[ne]=re}return M.header&&(W>B.length?Y("FieldMismatch","TooManyFields","Too many fields: expected "+B.length+" fields but parsed "+W,x+Q):W<B.length&&Y("FieldMismatch","TooFewFields","Too few fields: expected "+B.length+" fields but parsed "+W,x+Q)),ee}var $;V&&(M.header||M.dynamicTyping||M.transform)&&($=1,!V.data.length||Array.isArray(V.data[0])?(V.data=V.data.map(N),$=V.data.length):V.data=N(V.data,0),M.header&&V.meta&&(V.meta.fields=B),x+=$)}function G(){return M.header&&B.length===0}function Y(H,N,$,J){H={type:H,code:N,message:$},J!==void 0&&(H.row=J),V.errors.push(H)}I(M.step)&&(L=M.step,M.step=function(H){V=H,G()?K():(K(),V.data.length!==0&&(C+=H.data.length,M.preview&&C>M.preview?O.abort():(V.data=V.data[0],L(V,w))))}),this.parse=function(H,N,$){var J=M.quoteChar||'"',J=(M.newline||(M.newline=this.guessLineEndings(H,J)),z=!1,M.delimiter?I(M.delimiter)&&(M.delimiter=M.delimiter(H),V.meta.delimiter=M.delimiter):((J=((Q,ee,W,ne,re)=>{var q,X,te,se;re=re||[",","	","|",";",u.RECORD_SEP,u.UNIT_SEP];for(var oe=0;oe<re.length;oe++){for(var ie,ae=re[oe],ue=0,ce=0,pe=0,ye=(te=void 0,new y({comments:ne,delimiter:ae,newline:ee,preview:10}).parse(Q)),ge=0;ge<ye.data.length;ge++)W&&j(ye.data[ge])?pe++:(ie=ye.data[ge].length,ce+=ie,te===void 0?te=ie:0<ie&&(ue+=Math.abs(ie-te),te=ie));0<ye.data.length&&(ce/=ye.data.length-pe),(X===void 0||ue<=X)&&(se===void 0||se<ce)&&1.99<ce&&(X=ue,q=ae,se=ce)}return{successful:!!(M.delimiter=q),bestDelimiter:q}})(H,M.newline,M.skipEmptyLines,M.comments,M.delimitersToGuess)).successful?M.delimiter=J.bestDelimiter:(z=!0,M.delimiter=u.DefaultDelimiter),V.meta.delimiter=M.delimiter),E(M));return M.preview&&M.header&&J.preview++,P=H,O=new y(J),V=O.parse(P,N,$),K(),A?{meta:{paused:!0}}:V||{meta:{paused:!1}}},this.paused=function(){return A},this.pause=function(){A=!0,O.abort(),P=I(M.chunk)?"":P.substring(O.getCharIndex())},this.resume=function(){w.streamer._halted?(A=!1,w.streamer.parseChunk(P,!0)):setTimeout(w.resume,3)},this.aborted=function(){return D},this.abort=function(){D=!0,O.abort(),V.meta.aborted=!0,I(M.complete)&&M.complete(V),P=""},this.guessLineEndings=function(Q,J){Q=Q.substring(0,1048576);var J=new RegExp(p(J)+"([^]*?)"+p(J),"gm"),$=(Q=Q.replace(J,"")).split("\r"),J=Q.split(`
`),Q=1<J.length&&J[0].length<$[0].length;if($.length===1||Q)return`
`;for(var ee=0,W=0;W<$.length;W++)$[W][0]===`
`&&ee++;return ee>=$.length/2?`\r
`:"\r"}}function p(M){return M.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function y(M){var P=(M=M||{}).delimiter,O=M.newline,z=M.comments,L=M.step,_=M.preview,R=M.fastMode,k=null,S=!1,w=M.quoteChar==null?'"':M.quoteChar,C=w;if(M.escapeChar!==void 0&&(C=M.escapeChar),(typeof P!="string"||-1<u.BAD_DELIMITERS.indexOf(P))&&(P=","),z===P)throw new Error("Comment character same as delimiter");z===!0?z="#":(typeof z!="string"||-1<u.BAD_DELIMITERS.indexOf(z))&&(z=!1),O!==`
`&&O!=="\r"&&O!==`\r
`&&(O=`
`);var x=0,A=!1;this.parse=function(D,B,V){if(typeof D!="string")throw new Error("Input must be a string");var j=D.length,K=P.length,G=O.length,Y=z.length,H=I(L),N=[],$=[],J=[],Q=x=0;if(!D)return ue();if(R||R!==!1&&D.indexOf(w)===-1){for(var ee=D.split(O),W=0;W<ee.length;W++){if(J=ee[W],x+=J.length,W!==ee.length-1)x+=O.length;else if(V)return ue();if(!z||J.substring(0,Y)!==z){if(H){if(N=[],se(J.split(P)),ce(),A)return ue()}else se(J.split(P));if(_&&_<=W)return N=N.slice(0,_),ue(!0)}}return ue()}for(var ne=D.indexOf(P,x),re=D.indexOf(O,x),q=new RegExp(p(C)+p(w),"g"),X=D.indexOf(w,x);;)if(D[x]===w)for(X=x,x++;;){if((X=D.indexOf(w,X+1))===-1)return V||$.push({type:"Quotes",code:"MissingQuotes",message:"Quoted field unterminated",row:N.length,index:x}),ie();if(X===j-1)return ie(D.substring(x,X).replace(q,w));if(w===C&&D[X+1]===C)X++;else if(w===C||X===0||D[X-1]!==C){ne!==-1&&ne<X+1&&(ne=D.indexOf(P,X+1));var te=oe((re=re!==-1&&re<X+1?D.indexOf(O,X+1):re)===-1?ne:Math.min(ne,re));if(D.substr(X+1+te,K)===P){J.push(D.substring(x,X).replace(q,w)),D[x=X+1+te+K]!==w&&(X=D.indexOf(w,x)),ne=D.indexOf(P,x),re=D.indexOf(O,x);break}if(te=oe(re),D.substring(X+1+te,X+1+te+G)===O){if(J.push(D.substring(x,X).replace(q,w)),ae(X+1+te+G),ne=D.indexOf(P,x),X=D.indexOf(w,x),H&&(ce(),A))return ue();if(_&&N.length>=_)return ue(!0);break}$.push({type:"Quotes",code:"InvalidQuotes",message:"Trailing quote on quoted field is malformed",row:N.length,index:x}),X++}}else if(z&&J.length===0&&D.substring(x,x+Y)===z){if(re===-1)return ue();x=re+G,re=D.indexOf(O,x),ne=D.indexOf(P,x)}else if(ne!==-1&&(ne<re||re===-1))J.push(D.substring(x,ne)),x=ne+K,ne=D.indexOf(P,x);else{if(re===-1)break;if(J.push(D.substring(x,re)),ae(re+G),H&&(ce(),A))return ue();if(_&&N.length>=_)return ue(!0)}return ie();function se(pe){N.push(pe),Q=x}function oe(pe){var ye=0;return ye=pe!==-1&&(pe=D.substring(X+1,pe))&&pe.trim()===""?pe.length:ye}function ie(pe){return V||(pe===void 0&&(pe=D.substring(x)),J.push(pe),x=j,se(J),H&&ce()),ue()}function ae(pe){x=pe,se(J),J=[],re=D.indexOf(O,x)}function ue(pe){if(M.header&&!B&&N.length&&!S){var ye=N[0],ge=Object.create(null),Re=new Set(ye);let _e=!1;for(let Ae=0;Ae<ye.length;Ae++){let De=ye[Ae];if(ge[De=I(M.transformHeader)?M.transformHeader(De,Ae):De]){let Fe,ke=ge[De];for(;Fe=De+"_"+ke,ke++,Re.has(Fe););Re.add(Fe),ye[Ae]=Fe,ge[De]++,_e=!0,(k=k===null?{}:k)[Fe]=De}else ge[De]=1,ye[Ae]=De;Re.add(De)}_e&&console.warn("Duplicate headers found and renamed."),S=!0}return{data:N,errors:$,meta:{delimiter:P,linebreak:O,aborted:A,truncated:!!pe,cursor:Q+(B||0),renamedHeaders:k}}}function ce(){L(ue()),N=[],$=[]}},this.abort=function(){A=!0},this.getCharIndex=function(){return x}}function b(M){var P=M.data,O=a[P.workerId],z=!1;if(P.error)O.userError(P.error,P.file);else if(P.results&&P.results.data){var L={abort:function(){z=!0,v(P.workerId,{data:[],errors:[],meta:{aborted:!0}})},pause:F,resume:F};if(I(O.userStep)){for(var _=0;_<P.results.data.length&&(O.userStep({data:P.results.data[_],errors:P.results.errors,meta:P.results.meta},L),!z);_++);delete P.results}else I(O.userChunk)&&(O.userChunk(P.results,L,P.file),delete P.results)}P.finished&&!z&&v(P.workerId,P.results)}function v(M,P){var O=a[M];I(O.userComplete)&&O.userComplete(P),O.terminate(),delete a[M]}function F(){throw new Error("Not implemented.")}function E(M){if(typeof M!="object"||M===null)return M;var P,O=Array.isArray(M)?[]:{};for(P in M)O[P]=E(M[P]);return O}function T(M,P){return function(){M.apply(P,arguments)}}function I(M){return typeof M=="function"}return u.parse=function(M,P){var O=(P=P||{}).dynamicTyping||!1;if(I(O)&&(P.dynamicTypingFunction=O,O={}),P.dynamicTyping=O,P.transform=!!I(P.transform)&&P.transform,!P.worker||!u.WORKERS_SUPPORTED)return O=null,u.NODE_STREAM_INPUT,typeof M=="string"?(M=(z=>z.charCodeAt(0)!==65279?z:z.slice(1))(M),O=new(P.download?f:h)(P)):M.readable===!0&&I(M.read)&&I(M.on)?O=new g(P):(n.File&&M instanceof File||M instanceof Object)&&(O=new d(P)),O.stream(M);(O=(()=>{var z;return!!u.WORKERS_SUPPORTED&&(z=(()=>{var L=n.URL||n.webkitURL||null,_=r.toString();return u.BLOB_URL||(u.BLOB_URL=L.createObjectURL(new Blob(["var global = (function() { if (typeof self !== 'undefined') { return self; } if (typeof window !== 'undefined') { return window; } if (typeof global !== 'undefined') { return global; } return {}; })(); global.IS_PAPA_WORKER=true; ","(",_,")();"],{type:"text/javascript"})))})(),(z=new n.Worker(z)).onmessage=b,z.id=l++,a[z.id]=z)})()).userStep=P.step,O.userChunk=P.chunk,O.userComplete=P.complete,O.userError=P.error,P.step=I(P.step),P.chunk=I(P.chunk),P.complete=I(P.complete),P.error=I(P.error),delete P.worker,O.postMessage({input:M,config:P,workerId:O.id})},u.unparse=function(M,P){var O=!1,z=!0,L=",",_=`\r
`,R='"',k=R+R,S=!1,w=null,C=!1,x=((()=>{if(typeof P=="object"){if(typeof P.delimiter!="string"||u.BAD_DELIMITERS.filter(function(B){return P.delimiter.indexOf(B)!==-1}).length||(L=P.delimiter),typeof P.quotes!="boolean"&&typeof P.quotes!="function"&&!Array.isArray(P.quotes)||(O=P.quotes),typeof P.skipEmptyLines!="boolean"&&typeof P.skipEmptyLines!="string"||(S=P.skipEmptyLines),typeof P.newline=="string"&&(_=P.newline),typeof P.quoteChar=="string"&&(R=P.quoteChar),typeof P.header=="boolean"&&(z=P.header),Array.isArray(P.columns)){if(P.columns.length===0)throw new Error("Option columns is empty");w=P.columns}P.escapeChar!==void 0&&(k=P.escapeChar+R),P.escapeFormulae instanceof RegExp?C=P.escapeFormulae:typeof P.escapeFormulae=="boolean"&&P.escapeFormulae&&(C=/^[=+\-@\t\r].*$/)}})(),new RegExp(p(R),"g"));if(typeof M=="string"&&(M=JSON.parse(M)),Array.isArray(M)){if(!M.length||Array.isArray(M[0]))return A(null,M,S);if(typeof M[0]=="object")return A(w||Object.keys(M[0]),M,S)}else if(typeof M=="object")return typeof M.data=="string"&&(M.data=JSON.parse(M.data)),Array.isArray(M.data)&&(M.fields||(M.fields=M.meta&&M.meta.fields||w),M.fields||(M.fields=Array.isArray(M.data[0])?M.fields:typeof M.data[0]=="object"?Object.keys(M.data[0]):[]),Array.isArray(M.data[0])||typeof M.data[0]=="object"||(M.data=[M.data])),A(M.fields||[],M.data||[],S);throw new Error("Unable to serialize unrecognized input");function A(B,V,j){var K="",G=(typeof B=="string"&&(B=JSON.parse(B)),typeof V=="string"&&(V=JSON.parse(V)),Array.isArray(B)&&0<B.length),Y=!Array.isArray(V[0]);if(G&&z){for(var H=0;H<B.length;H++)0<H&&(K+=L),K+=D(B[H],H);0<V.length&&(K+=_)}for(var N=0;N<V.length;N++){var $=(G?B:V[N]).length,J=!1,Q=G?Object.keys(V[N]).length===0:V[N].length===0;if(j&&!G&&(J=j==="greedy"?V[N].join("").trim()==="":V[N].length===1&&V[N][0].length===0),j==="greedy"&&G){for(var ee=[],W=0;W<$;W++){var ne=Y?B[W]:W;ee.push(V[N][ne])}J=ee.join("").trim()===""}if(!J){for(var re=0;re<$;re++){0<re&&!Q&&(K+=L);var q=G&&Y?B[re]:re;K+=D(V[N][q],re)}N<V.length-1&&(!j||0<$&&!Q)&&(K+=_)}}return K}function D(B,V){var j,K;return B==null?"":B.constructor===Date?JSON.stringify(B).slice(1,25):(K=!1,C&&typeof B=="string"&&C.test(B)&&(B="'"+B,K=!0),j=B.toString().replace(x,k),(K=K||O===!0||typeof O=="function"&&O(B,V)||Array.isArray(O)&&O[V]||((G,Y)=>{for(var H=0;H<Y.length;H++)if(-1<G.indexOf(Y[H]))return!0;return!1})(j,u.BAD_DELIMITERS)||-1<j.indexOf(L)||j.charAt(0)===" "||j.charAt(j.length-1)===" ")?R+j+R:j)}},u.RECORD_SEP="",u.UNIT_SEP="",u.BYTE_ORDER_MARK="\uFEFF",u.BAD_DELIMITERS=["\r",`
`,'"',u.BYTE_ORDER_MARK],u.WORKERS_SUPPORTED=!o&&!!n.Worker,u.NODE_STREAM_INPUT=1,u.LocalChunkSize=10485760,u.RemoteChunkSize=5242880,u.DefaultDelimiter=",",u.Parser=y,u.ParserHandle=m,u.NetworkStreamer=f,u.FileStreamer=d,u.StringStreamer=h,u.ReadableStreamStreamer=g,n.jQuery&&((i=n.jQuery).fn.parse=function(M){var P=M.config||{},O=[];return this.each(function(_){if(!(i(this).prop("tagName").toUpperCase()==="INPUT"&&i(this).attr("type").toLowerCase()==="file"&&n.FileReader)||!this.files||this.files.length===0)return!0;for(var R=0;R<this.files.length;R++)O.push({file:this.files[R],inputElem:this,instanceConfig:i.extend({},P)})}),z(),this;function z(){if(O.length===0)I(M.complete)&&M.complete();else{var _,R,k,S,w=O[0];if(I(M.before)){var C=M.before(w.file,w.inputElem);if(typeof C=="object"){if(C.action==="abort")return _="AbortError",R=w.file,k=w.inputElem,S=C.reason,void(I(M.error)&&M.error({name:_},R,k,S));if(C.action==="skip")return void L();typeof C.config=="object"&&(w.instanceConfig=i.extend(w.instanceConfig,C.config))}else if(C==="skip")return void L()}var x=w.instanceConfig.complete;w.instanceConfig.complete=function(A){I(x)&&x(A,w.file,w.inputElem),L()},u.parse(w.file,w.instanceConfig)}}function L(){O.splice(0,1),z()}}),s&&(n.onmessage=function(M){M=M.data,u.WORKER_ID===void 0&&M&&(u.WORKER_ID=M.workerId),typeof M.input=="string"?n.postMessage({workerId:u.WORKER_ID,results:u.parse(M.input,M.config),finished:!0}):(n.File&&M.input instanceof File||M.input instanceof Object)&&(M=u.parse(M.input,M.config))&&n.postMessage({workerId:u.WORKER_ID,results:M,finished:!0})}),(f.prototype=Object.create(c.prototype)).constructor=f,(d.prototype=Object.create(c.prototype)).constructor=d,(h.prototype=Object.create(h.prototype)).constructor=h,(g.prototype=Object.create(c.prototype)).constructor=g,u})})(au)),au.exports}var F_=C_();const Ba=Fo(F_),S_=({label:e,value:t,onSave:r,maxLength:n,required:i,...o})=>{const[s,a]=Z.useState(t||""),{t:l}=kr();Z.useEffect(()=>{a(t||"")},[t]);const u=i&&(!s||s.trim()==="");return U.jsxs("div",{className:"w-full",children:[e&&U.jsxs(mt,{htmlFor:o.id,className:"mb-2 block",color:u?"failure":"gray",children:[e," ",i&&U.jsx("span",{className:"text-red-500",children:"*"})]}),U.jsx(br,{...o,value:s,maxLength:n,color:u?"failure":"gray",onChange:c=>a(c.target.value),onBlur:()=>r(s)}),U.jsxs("div",{className:"flex justify-between mt-1",children:[U.jsx("div",{className:"flex-1",children:u&&U.jsx(jr,{color:"failure",children:l("common.mandatory")})}),U.jsxs(jr,{className:`${s.length>=n?"text-red-600 font-bold":""}`,children:[s.length,"/",n]})]})]})},pd=({label:e,value:t,onSave:r,maxLength:n,rows:i=5,required:o,placeholder:s,...a})=>{const[l,u]=Z.useState(t||""),{t:c}=kr();Z.useEffect(()=>{u(t||"")},[t]);const f=o&&(!l||l.trim()==="");return U.jsxs("div",{className:"w-full",children:[e&&U.jsxs(mt,{htmlFor:a.id,className:"mb-2 block",color:f?"failure":"gray",children:[e," ",o&&U.jsx("span",{className:"text-red-500",children:"*"})]}),U.jsx(_c,{...a,rows:i,value:l,maxLength:n,placeholder:s,color:f?"failure":"gray",onChange:d=>u(d.target.value),onBlur:()=>r(l)}),U.jsxs("div",{className:"flex justify-between mt-1",children:[U.jsx("div",{className:"flex-1",children:f&&U.jsx(jr,{color:"failure",children:c("common.mandatory")})}),U.jsxs(jr,{className:`${l.length>=n?"text-red-600 font-bold":""}`,children:[l.length,"/",n]})]})]})},Zg=({label:e,value:t,onChange:r,placeholder:n,...i})=>{const{t:o}=kr(),a=(c=>c?c instanceof Date?c.toISOString().split("T")[0]:typeof c=="string"?c.split("T")[0]:"":"")(t),l=c=>{c.preventDefault(),c.stopPropagation(),r(null)},u=c=>{const f=c.target.value;r(f||null)};return U.jsxs("div",{className:"w-full",children:[e&&U.jsx(mt,{className:"mb-2 block",children:e}),U.jsxs("div",{className:"relative",children:[U.jsx("div",{className:"pointer-events-none absolute inset-y-0 left-0 flex items-center pl-3",children:U.jsx("svg",{className:"h-5 w-5 text-gray-500 dark:text-gray-400",fill:"currentColor",viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg",children:U.jsx("path",{fillRule:"evenodd",d:"M6 2a1 1 0 00-1 1v1H4a2 2 0 00-2 2v10a2 2 0 002 2h12a2 2 0 002-2V6a2 2 0 00-2-2h-1V3a1 1 0 10-2 0v1H7V3a1 1 0 00-1-1zm0 5a1 1 0 000 2h8a1 1 0 100-2H6z",clipRule:"evenodd"})})}),U.jsx("input",{...i,type:"date",value:a,onChange:u,className:"block w-full rounded-lg border border-gray-300 bg-gray-50 p-2.5 pl-10 text-sm text-gray-900 focus:border-blue-500 focus:ring-blue-500 dark:border-gray-600 dark:bg-gray-700 dark:text-white dark:placeholder-gray-400 dark:focus:border-blue-500 dark:focus:ring-blue-500",placeholder:n||"dd/mm/yyyy"}),a&&U.jsx("button",{type:"button",onClick:l,className:"absolute inset-y-0 right-10 flex items-center text-gray-400 hover:text-red-600 bg-transparent p-2 transition-colors cursor-pointer z-10",title:o("cohort.clear_date"),children:U.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:U.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M6 18L18 6M6 6l12 12"})})})]}),!a&&U.jsx(jr,{className:"italic text-gray-600 mt-1",children:o("cohort.no_date_selected")||""})]})};function x_(){const{formData:e,updateForm:t}=Di(),{t:r}=kr(),n=e.cohort||{},{name:i="",description:o="",inclusion_criteria:s="",exclusion_criteria:a="",beginning_study_period:l=null,end_study_period:u=null,cohort_definition_inclusion:c=null,cohort_definition_exclusion:f=null}=n,d=[{value:"Condition",name:r("cohort.nature.condition")},{value:"Intervention",name:r("cohort.nature.intervention")},{value:"Drugs",name:r("cohort.nature.drugs")},{value:"Any",name:r("cohort.nature.any")}],h=Z.useCallback((b,v)=>{JSON.stringify(n[b])!==JSON.stringify(v)&&t("cohort",{...n,[b]:v})},[n,t]),g=(b,v)=>{const F=b.target.files[0];F&&Ba.parse(F,{header:!0,skipEmptyLines:!0,complete:E=>{const T=E.meta.fields||[],I=E.data||[],M=n[v]||{};h(v,{...M,filename:F.name,fileloaded:!0,header:T,rows:I,column_name:""}),Pt.fire({toast:!0,icon:"success",title:r("cohort.file_loaded")||"Fichero cargado",position:"top-end",showConfirmButton:!1,timer:2e3})},error:E=>{console.error(E),Pt.fire({icon:"error",title:"Error",text:"Error al leer CSV"})}})},m=Z.useCallback(()=>{const v="data:text/csv;charset=utf-8,"+encodeURIComponent("encoding|code|code_clean|description|source|observations"),F=document.createElement("a");F.setAttribute("href",v),F.setAttribute("download","example_crosswalks_cohort_definition.csv"),document.body.appendChild(F),F.click(),F.remove()},[]),p=Z.useCallback(()=>{Pt.fire({title:r("cohort.alerts.delete_inclusion_title"),showConfirmButton:!1,showDenyButton:!0,showCancelButton:!0,denyButtonText:r("cohort.alerts.delete_btn"),cancelButtonText:r("cohort.alerts.cancel_btn")}).then(b=>{if(!b.isConfirmed){const v=document.getElementById("file_inclusion");v&&(v.value=""),h("cohort_definition_inclusion",null)}})},[h,r]),y=Z.useCallback(()=>{Pt.fire({title:r("cohort.alerts.delete_exclusion_title"),showConfirmButton:!1,showDenyButton:!0,showCancelButton:!0,denyButtonText:r("cohort.alerts.delete_btn"),cancelButtonText:r("cohort.alerts.cancel_btn")}).then(b=>{if(!b.isConfirmed){const v=document.getElementById("file_exclusion");v&&(v.value=""),h("cohort_definition_exclusion",{})}})},[h,r]);return U.jsxs("div",{className:"w-full min-h-screen p-10",children:[U.jsx("h1",{className:"text-4xl font-bold mb-10 border-b pb-4",children:r("cohort.title")}),U.jsxs("form",{className:"space-y-16",onSubmit:b=>b.preventDefault(),children:[U.jsx("section",{children:U.jsx(S_,{id:"name",label:r("cohort.cohort_name"),required:!0,placeholder:r("cohort.cohort_name_ph"),value:i,maxLength:250,onSave:b=>h("name",b)})}),U.jsx("section",{children:U.jsx(pd,{id:"description",label:r("cohort.cohort_desc"),required:!0,placeholder:r("cohort.description_placeholder"),value:o,maxLength:3e3,rows:8,onSave:b=>h("description",b)})}),U.jsx("section",{children:U.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[U.jsx("div",{children:U.jsx(pd,{id:"inclusion_criteria",label:r("cohort.inclusion_crit"),required:!0,placeholder:r("cohort.inclusion_crit_ph"),value:s,maxLength:1500,onSave:b=>h("inclusion_criteria",b)})}),U.jsx("div",{children:U.jsx(pd,{id:"exclusion_criteria",label:r("cohort.exclusion_crit"),placeholder:r("cohort.exclusion_crit_ph"),value:a,maxLength:1500,onSave:b=>h("exclusion_criteria",b)})})]})}),U.jsx("section",{children:U.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[U.jsx("div",{children:U.jsx(Zg,{id:"beginning_study_period",label:r("cohort.start_date"),value:l,onChange:b=>h("beginning_study_period",b)})}),U.jsx("div",{children:U.jsx(Zg,{id:"end_study_period",label:r("cohort.end_date"),value:u,onChange:b=>h("end_study_period",b)})})]})}),U.jsx("div",{className:"flex flex-col md:flex-row justify-between items-end border-b pb-4 mb-10 gap-4",children:U.jsx("h3",{className:"text-4xl font-bold",children:"CrossWalks"})}),U.jsxs(pt,{size:"sm",onClick:m,className:"bg-[#4D76B2]! hover:bg-[#3C64A3]!",children:[" ",r("cohort.btn_download_cw_template")]}),U.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[U.jsxs("div",{children:[U.jsx("h3",{className:"text-2xl font-bold mb-10 pb-1",children:r("cohort.cw_inclusion_title")}),U.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-0",children:[U.jsxs("div",{children:[U.jsx(mt,{className:"mb-2 block",htmlFor:"first-selector-inclusion",children:r("cohort.nature_label")}),U.jsxs(lr,{id:"first-selector-inclusion",value:c?.nature||"",onChange:b=>h("cohort_definition_inclusion",{...c,nature:b.target.value}),children:[U.jsx("option",{value:"",disabled:!0,children:r("cohort.select_opt")}),d.map(b=>U.jsx("option",{value:b.value,children:b.name},b.value))]},`inc-nat-${c?.nature}`)]}),U.jsxs("div",{children:[U.jsx(mt,{className:"mb-2 block",htmlFor:"first-selector-exclusion",children:r("cohort.col_name_label")}),U.jsxs(lr,{id:"first-selector-exclusion",value:c?.column_name||"",disabled:!c?.header||c.header.length===0,onChange:b=>h("cohort_definition_inclusion",{...c,column_name:b.target.value}),children:[U.jsx("option",{value:"",children:r("cohort.select_opt")}),c?.header?.length>0?c.header.map((b,v)=>U.jsx("option",{value:b,children:b},v)):U.jsx("option",{disabled:!0,children:r("cohort.no_cols")})]},`inc-col-${c?.column_name}`)]})]}),U.jsxs("div",{className:"mb-2 mt-6",children:[U.jsx(mt,{className:"mb-2 block",htmlFor:"file_inclusion",children:r("cohort.upload_cw")}),U.jsx(ca,{id:"file_inclusion",accept:".csv",onChange:b=>g(b,"cohort_definition_inclusion")})]}),U.jsx(jr,{className:"mt-1",color:c?.filename?c?.fileloaded?"success":"failure":"gray",children:c?.filename?c?.fileloaded?U.jsxs("span",{children:[" ",r("cohort.file_loaded"),": ",c.filename," (",r("cohort.no_column")," ",c.column_name,")"]}):U.jsxs("span",{className:"font-medium",children:[" ",r("cohort.file_error"),": ",c.filename," (",r("cohort.no_column")," ",c.column_name,")"]}):U.jsxs("span",{className:"font-medium",children:[" ",r("cohort.no_file")]})}),U.jsx("div",{className:"mt-6",children:U.jsx(pt,{className:"bg-[#D64545]! hover:bg-[#b03939]!",size:"sm",onClick:p,children:r("cohort.delete_cw_inclusion")})})]}),U.jsxs("div",{children:[U.jsx("h3",{className:"text-2xl font-bold mb-10 pb-1",children:r("cohort.cw_exclusion_title")}),U.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-3 mb-0",id:"cohort_definition_inclusion",children:[U.jsxs("div",{children:[U.jsx(mt,{className:"mb-2 block",htmlFor:"second-selector-inclusion",children:r("cohort.nature_label")}),U.jsxs(lr,{id:"second-selector-inclusion",value:f?.nature||"",onChange:b=>h("cohort_definition_exclusion",{...f,nature:b.target.value}),children:[U.jsx("option",{value:"",disabled:!0,children:r("cohort.select_opt")}),d.map(b=>U.jsx("option",{value:b.value,children:b.name},b.value))]},`exc-nat-${f?.nature}`)]}),U.jsxs("div",{children:[U.jsx(mt,{className:"mb-2 block",htmlFor:"second-selector-exclusion",children:r("cohort.col_name_label")}),U.jsxs(lr,{id:"second-selector-exclusion",value:f?.column_name||"",disabled:!f?.header||f.header.length===0,onChange:b=>h("cohort_definition_exclusion",{...f,column_name:b.target.value}),children:[U.jsx("option",{value:"",children:r("cohort.select_opt")}),f?.header?.length>0?f.header.map((b,v)=>U.jsx("option",{value:b,children:b},v)):U.jsx("option",{disabled:!0,children:r("cohort.no_cols")})]},`exc-col-${f?.column_name}`)]})]}),U.jsxs("div",{className:"mb-2 mt-6",id:"cohort_definition_exclusion",children:[U.jsx(mt,{className:"mb-2 block",htmlFor:"file_exclusion",children:r("cohort.upload_cw")}),U.jsx(ca,{id:"file_exclusion",accept:".csv",onChange:b=>g(b,"cohort_definition_exclusion")})]}),U.jsx(jr,{className:"mt-1",color:f?.filename?f?.fileloaded?"success":"failure":"gray",children:f?.filename?f?.fileloaded?U.jsxs("span",{children:[" ",r("cohort.file_loaded"),": ",f.filename," (",r("cohort.no_column")," ",f.column_name,")"]}):U.jsxs("span",{className:"font-medium",children:[" ",r("cohort.file_error"),": ",f.filename," (",r("cohort.no_column")," ",f.column_name,")"]}):U.jsxs("span",{className:"font-medium",children:[" ",r("cohort.no_file")]})}),U.jsx("div",{className:"mt-6",children:U.jsx(pt,{className:"bg-[#D64545]! hover:bg-[#b03939]!",size:"sm",onClick:y,children:r("cohort.delete_cw_exclusion")})})]})]})]})]})}var go=class{constructor(){this.allSyncListeners=new Map,this.allAsyncListeners=new Map,this.globalSyncListeners=new Set,this.globalAsyncListeners=new Set,this.asyncFunctionsQueue=[],this.scheduled=!1,this.firedEvents={}}setFrameworkOverrides(e){this.frameworkOverrides=e}getListeners(e,t,r){const n=t?this.allAsyncListeners:this.allSyncListeners;let i=n.get(e);return!i&&r&&(i=new Set,n.set(e,i)),i}noRegisteredListenersExist(){return this.allSyncListeners.size===0&&this.allAsyncListeners.size===0&&this.globalSyncListeners.size===0&&this.globalAsyncListeners.size===0}addEventListener(e,t,r=!1){this.getListeners(e,r,!0).add(t)}removeEventListener(e,t,r=!1){const n=this.getListeners(e,r,!1);n&&(n.delete(t),n.size===0&&(r?this.allAsyncListeners:this.allSyncListeners).delete(e))}addGlobalListener(e,t=!1){this.getGlobalListeners(t).add(e)}removeGlobalListener(e,t=!1){this.getGlobalListeners(t).delete(e)}dispatchEvent(e){this.dispatchToListeners(e,!0),this.dispatchToListeners(e,!1),this.firedEvents[e.type]=!0}dispatchEventOnce(e){this.firedEvents[e.type]||this.dispatchEvent(e)}dispatchToListeners(e,t){const r=e.type;if(t&&"event"in e){const a=e.event;a instanceof Event&&(e.eventPath=a.composedPath())}const{frameworkOverrides:n}=this,i=a=>{const l=n?()=>n.wrapIncoming(a):a;t?this.dispatchAsync(l):l()},o=this.getListeners(r,t,!1);if((o?.size??0)>0){const a=new Set(o);for(const l of a)o?.has(l)&&i(()=>l(e))}const s=this.getGlobalListeners(t);if(s.size>0){const a=new Set(s);for(const l of a)i(()=>l(r,e))}}getGlobalListeners(e){return e?this.globalAsyncListeners:this.globalSyncListeners}dispatchAsync(e){if(this.asyncFunctionsQueue.push(e),!this.scheduled){const t=()=>{window.setTimeout(this.flushAsyncQueue.bind(this),0)};this.frameworkOverrides?this.frameworkOverrides.wrapIncoming(t):t(),this.scheduled=!0}}flushAsyncQueue(){this.scheduled=!1;const e=this.asyncFunctionsQueue.slice();this.asyncFunctionsQueue=[];for(const t of e)t()}};function Yn(e){return e==null||e===""?null:e}function Le(e){return e!=null&&e!==""}function $t(e){return!Le(e)}function Dh(e){return e!=null&&typeof e.toString=="function"?e.toString():null}function fa(e,t){const r=e?JSON.stringify(e):null,n=t?JSON.stringify(t):null;return r===n}function k_(e,t,r=!1){const n=e==null,i=t==null;if(e?.toNumber&&(e=e.toNumber()),t?.toNumber&&(t=t.toNumber()),n&&i)return 0;if(n)return-1;if(i)return 1;function o(s,a){return s>a?1:s<a?-1:0}if(typeof e!="string"||!r)return o(e,t);try{return e.localeCompare(t)}catch{return o(e,t)}}var E_=/[&<>"']/g,R_={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"};function Ts(e){return e?.toString().toString()??null}function Xs(e){return Ts(e)?.replace(E_,t=>R_[t])??null}function wn(e){return e.eRootDiv.getRootNode()}function qt(e){return wn(e).activeElement}function fr(e){const{gos:t,eRootDiv:r}=e;let n=null;const i=t.get("getDocument");return i&&Le(i)?n=i():r&&(n=r.ownerDocument),n&&Le(n)?n:document}function vw(e){const t=qt(e);return t===null||t===fr(e).body}function ww(e){return fr(e).defaultView||window}function Jf(e){let t=null,r=null;try{t=fr(e).fullscreenElement}catch{}finally{t||(t=wn(e));const n=t.querySelector("body");n?r=n:t instanceof ShadowRoot?r=t:t instanceof Document?r=t?.documentElement:r=t}return r}function __(e){return Jf(e)?.clientWidth??(window.innerWidth||-1)}function A_(e){return Jf(e)?.clientHeight??(window.innerHeight||-1)}function gn(e,t,r){r==null||typeof r=="string"&&r==""?Cw(e,t):mn(e,t,r)}function mn(e,t,r){e.setAttribute(Fw(t),r.toString())}function Cw(e,t){e.removeAttribute(Fw(t))}function Fw(e){return`aria-${e}`}function mo(e,t){t?e.setAttribute("role",t):e.removeAttribute("role")}function T_(e){let t;return e==="asc"?t="ascending":e==="desc"?t="descending":e==="mixed"?t="other":t="none",t}function D_(e){return e.getAttribute("aria-label")}function bs(e,t){gn(e,"label",t)}function pa(e,t){gn(e,"labelledby",t)}function Sw(e,t){gn(e,"live",t)}function M_(e,t){gn(e,"atomic",t)}function P_(e,t){gn(e,"relevant",t)}function I_(e,t){gn(e,"invalid",t)}function B_(e,t){gn(e,"disabled",t)}function xw(e,t){gn(e,"hidden",t)}function Mh(e,t){mn(e,"expanded",t)}function L_(e,t){mn(e,"setsize",t)}function N_(e,t){mn(e,"posinset",t)}function O_(e,t){mn(e,"rowcount",t)}function kw(e,t){mn(e,"rowindex",t)}function H_(e,t){mn(e,"rowspan",t)}function G_(e,t){mn(e,"colcount",t)}function Ew(e,t){mn(e,"colindex",t)}function j_(e,t){mn(e,"colspan",t)}function z_(e,t){mn(e,"sort",t)}function V_(e){Cw(e,"sort")}function Rw(e,t){gn(e,"selected",t)}function W_(e,t){gn(e,"controls",t)}function $_(e,t){W_(e,t.id),pa(t,e.id)}function Xg(e,t){gn(e,"owns",t)}function Ic(e,t){return t===void 0?e("ariaIndeterminate","indeterminate"):t===!0?e("ariaChecked","checked"):e("ariaUnchecked","unchecked")}var U_="[tabindex], input, select, button, textarea, [href]",_w="[disabled], .ag-disabled:not(.ag-button), .ag-disabled *";function Qs(e){return!e||!e.matches("input, select, button, textarea")||!e.matches(_w)?!1:ni(e)}function Kt(e,t,r={}){const{skipAriaHidden:n}=r;e.classList.toggle("ag-hidden",!t),n||xw(e,!t)}function K_(e,t,r={}){const{skipAriaHidden:n}=r;e.classList.toggle("ag-invisible",!t),n||xw(e,!t)}function ga(e,t){const r="disabled",n=t?o=>o.setAttribute(r,""):o=>o.removeAttribute(r);n(e);const i=e.querySelectorAll("input")??[];for(const o of i)n(o)}function io(e,t,r){let n=0;for(;e;){if(e.classList.contains(t))return!0;if(e=e.parentElement,typeof r=="number"){if(++n>r)break}else if(e===r)break}return!1}function ko(e){const{height:t,width:r,borderTopWidth:n,borderRightWidth:i,borderBottomWidth:o,borderLeftWidth:s,paddingTop:a,paddingRight:l,paddingBottom:u,paddingLeft:c,marginTop:f,marginRight:d,marginBottom:h,marginLeft:g,boxSizing:m}=window.getComputedStyle(e),p=Number.parseFloat;return{height:p(t||"0"),width:p(r||"0"),borderTopWidth:p(n||"0"),borderRightWidth:p(i||"0"),borderBottomWidth:p(o||"0"),borderLeftWidth:p(s||"0"),paddingTop:p(a||"0"),paddingRight:p(l||"0"),paddingBottom:p(u||"0"),paddingLeft:p(c||"0"),marginTop:p(f||"0"),marginRight:p(d||"0"),marginBottom:p(h||"0"),marginLeft:p(g||"0"),boxSizing:m}}function Yf(e){const t=ko(e);return t.boxSizing==="border-box"?t.height-t.paddingTop-t.paddingBottom-t.borderTopWidth-t.borderBottomWidth:t.height}function ma(e){const t=ko(e);return t.boxSizing==="border-box"?t.width-t.paddingLeft-t.paddingRight-t.borderLeftWidth-t.borderRightWidth:t.width}function Aw(e){const{height:t,marginBottom:r,marginTop:n}=ko(e);return Math.floor(t+r+n)}function Uu(e){const{width:t,marginLeft:r,marginRight:n}=ko(e);return Math.floor(t+r+n)}function Tw(e){const t=e.getBoundingClientRect(),{borderTopWidth:r,borderLeftWidth:n,borderRightWidth:i,borderBottomWidth:o}=ko(e);return{top:t.top+(r||0),left:t.left+(n||0),right:t.right+(i||0),bottom:t.bottom+(o||0)}}function Ku(e,t){let r=e.scrollLeft;return t&&(r=Math.abs(r)),r}function qu(e,t,r){r&&(t*=-1),e.scrollLeft=t}function zr(e){for(;e?.firstChild;)e.firstChild.remove()}function Ei(e){e?.parentNode&&e.remove()}function Dw(e){return!!e.offsetParent}function ni(e){return e.checkVisibility?e.checkVisibility({checkVisibilityCSS:!0}):!(!Dw(e)||window.getComputedStyle(e).visibility!=="visible")}function Zf(e){const t=document.createElement("div");return t.innerHTML=(e||"").trim(),t.firstChild}function lu(e){return()=>{const t=e();return t?Xf(t)||Mw(t):!0}}function Xf(e){return e.clientWidth<e.scrollWidth}function Mw(e){return e.clientHeight<e.scrollHeight}function Ju(e,t){t==="flex"?(e.style.removeProperty("width"),e.style.removeProperty("minWidth"),e.style.removeProperty("maxWidth"),e.style.flex="1 1 auto"):_n(e,t)}function _n(e,t){t=Qf(t),e.style.width=t,e.style.maxWidth=t,e.style.minWidth=t}function ea(e,t){t=Qf(t),e.style.height=t,e.style.maxHeight=t,e.style.minHeight=t}function Qf(e){return typeof e=="number"?`${e}px`:e}function ep(e){return e instanceof Node||e instanceof HTMLElement}function Kr(e,t,r){r==null||r===""?e.removeAttribute(t):e.setAttribute(t,r.toString())}function ii(e,t,r){const i=ww(e).ResizeObserver,o=i?new i(r):null;return o?.observe(t),()=>o?.disconnect()}function oi(e,t){const r=ww(e);r.requestAnimationFrame?r.requestAnimationFrame(t):r.webkitRequestAnimationFrame?r.webkitRequestAnimationFrame(t):r.setTimeout(t,0)}var Pw="data-ref",gd;function Qg(){return gd??(gd=document.createTextNode(" ")),gd.cloneNode()}function La(e){const{attrs:t,children:r,cls:n,ref:i,role:o,tag:s}=e,a=document.createElement(s);if(n&&(a.className=n),i&&a.setAttribute(Pw,i),o&&a.setAttribute("role",o),t)for(const l of Object.keys(t))a.setAttribute(l,t[l]);if(r)if(typeof r=="string")a.textContent=r;else{let l=!0;for(const u of r)u&&(typeof u=="string"?(a.appendChild(document.createTextNode(u)),l=!1):typeof u=="function"?a.appendChild(u()):(l&&(a.appendChild(Qg()),l=!1),a.append(La(u)),a.appendChild(Qg())))}return a}var q_=["touchstart","touchend","touchmove","touchcancel","scroll"],J_=["wheel"],md={},Iw=(()=>{const e={select:"input",change:"input",submit:"form",reset:"form",error:"img",load:"img",abort:"img"};return r=>{if(typeof md[r]=="boolean")return md[r];const n=document.createElement(e[r]||"div");return r="on"+r,md[r]=r in n}})();function Y_(e,t){return!t||!e?!1:X_(t).indexOf(e)>=0}function Z_(e){const t=[];let r=e.target;for(;r;)t.push(r),r=r.parentElement;return t}function X_(e){const t=e;return t.path?t.path:t.composedPath?t.composedPath():Z_(t)}function Q_(e,t,r){const n=eA(t);let i;n!=null&&(i={passive:n}),e.addEventListener(t,r,i)}var eA=e=>{const t=q_.includes(e),r=J_.includes(e);if(t)return!0;if(r)return!1};function Bw(e,t,r){if(r===0)return!1;const n=Math.abs(e.clientX-t.clientX),i=Math.abs(e.clientY-t.clientY);return Math.max(n,i)<=r}var ta=(e,t)=>{const r=e.identifier;for(let n=0,i=t.length;n<i;++n){const o=t[n];if(o.identifier===r)return o}return null};function ba(e,t){return e.gos.isElementInThisInstance(t.target)}function tA(e,t,r){const i=e.getBoundingClientRect().height,o=__(r)-2,s=A_(r)-2;if(!e.offsetParent)return;const l=Tw(e.offsetParent),{clientY:u,clientX:c}=t;let f=u-l.top-i/2,d=c-l.left-10;const h=fr(r),g=h.defaultView||window,m=g.pageYOffset||h.documentElement.scrollTop,p=g.pageXOffset||h.documentElement.scrollLeft;o>0&&d+e.clientWidth>o+p&&(d=o+p-e.clientWidth),d<0&&(d=0),s>0&&f+e.clientHeight>s+m&&(f=s+m-e.clientHeight),f<0&&(f=0),e.style.left=`${d}px`,e.style.top=`${f}px`}var uu=(e,...t)=>{for(const r of t){const[n,i,o,s]=r;n.addEventListener(i,o,s),e.push(r)}},tp=e=>{if(e){for(const[t,r,n,i]of e)t.removeEventListener(r,n,i);e.length=0}},mi=e=>{e.cancelable&&e.preventDefault()};function rA(e,t){return t}function Lw(e){return e?.getLocaleTextFunc()??rA}function nA(e,t,r,n){const i=t[r];return e.getLocaleTextFunc()(r,typeof i=="function"?i(n):i,n)}function iA(e){return(t,r,n)=>e({key:t,defaultValue:r,variableValues:n})}function oA(e){return(t,r,n)=>{let i=e?.[t];if(i&&n?.length){let o=0;for(;!(o>=n.length||i.indexOf("${variable}")===-1);)i=i.replace("${variable}",n[o++])}return i??r}}var In=class{constructor(){this.destroyFunctions=[],this.destroyed=!1,this.__v_skip=!0,this.propertyListenerId=0,this.lastChangeSetIdLookup={},this.isAlive=()=>!this.destroyed}preWireBeans(e){this.beans=e,this.stubContext=e.context,this.eventSvc=e.eventSvc,this.gos=e.gos}destroy(){const{destroyFunctions:e}=this;for(let t=0;t<e.length;t++)e[t]();e.length=0,this.destroyed=!0,this.dispatchLocalEvent({type:"destroyed"})}addEventListener(e,t,r){this.localEventService||(this.localEventService=new go),this.localEventService.addEventListener(e,t,r)}removeEventListener(e,t,r){this.localEventService?.removeEventListener(e,t,r)}dispatchLocalEvent(e){this.localEventService?.dispatchEvent(e)}addManagedElementListeners(e,t){return this._setupListeners(e,t)}addManagedEventListeners(e){return this._setupListeners(this.eventSvc,e)}addManagedListeners(e,t){return this._setupListeners(e,t)}_setupListeners(e,t){const r=[];for(const n of Object.keys(t)){const i=t[n];i&&r.push(this._setupListener(e,n,i))}return r}_setupListener(e,t,r){if(this.destroyed)return()=>null;let n;if(sA(e))e.__addEventListener(t,r),n=()=>(e.__removeEventListener(t,r),null);else{const i=aA(e);e instanceof HTMLElement?Q_(e,t,r):i?e.addListener(t,r):e.addEventListener(t,r),n=i?()=>(e.removeListener(t,r),null):()=>(e.removeEventListener(t,r),null)}return this.destroyFunctions.push(n),()=>(n(),this.destroyFunctions=this.destroyFunctions.filter(i=>i!==n),null)}setupPropertyListener(e,t){const{gos:r}=this;r.addPropertyEventListener(e,t);const n=()=>(r.removePropertyEventListener(e,t),null);return this.destroyFunctions.push(n),()=>(n(),this.destroyFunctions=this.destroyFunctions.filter(i=>i!==n),null)}addManagedPropertyListener(e,t){return this.destroyed?()=>null:this.setupPropertyListener(e,t)}addManagedPropertyListeners(e,t){if(this.destroyed)return;const r=e.join("-")+this.propertyListenerId++,n=i=>{if(i.changeSet){if(i.changeSet&&i.changeSet.id===this.lastChangeSetIdLookup[r])return;this.lastChangeSetIdLookup[r]=i.changeSet.id}const o={type:"propertyChanged",changeSet:i.changeSet,source:i.source};t(o)};for(const i of e)this.setupPropertyListener(i,n)}getLocaleTextFunc(){return Lw(this.beans.localeSvc)}addDestroyFunc(e){this.isAlive()?this.destroyFunctions.push(e):e()}createOptionalManagedBean(e,t){return e?this.createManagedBean(e,t):void 0}createManagedBean(e,t){const r=this.createBean(e,t);return this.addDestroyFunc(this.destroyBean.bind(this,e,t)),r}createBean(e,t,r){return(t||this.stubContext).createBean(e,r)}destroyBean(e,t){return(t||this.stubContext).destroyBean(e)}destroyBeans(e,t){return(t||this.stubContext).destroyBeans(e)}};function sA(e){return e.__addEventListener!==void 0}function aA(e){return e.eventServiceType==="global"}var ve=class extends In{},em={};function rp(e,t){em[t]||(e(),em[t]=!0)}var lA={pending:!1,funcs:[]},uA={pending:!1,funcs:[]};function Ph(e,t="setTimeout",r){const n=t==="raf"?uA:lA;if(n.funcs.push(e),n.pending)return;n.pending=!0;const i=()=>{const o=n.funcs.slice();n.funcs.length=0,n.pending=!1;for(const s of o)s()};t==="raf"?oi(r,i):window.setTimeout(i,0)}function mr(e,t,r){let n;return function(...i){const o=this;window.clearTimeout(n),n=window.setTimeout(function(){e.isAlive()&&t.apply(o,i)},r)}}function tm(e,t){let r=0;return function(...n){const i=this,o=Date.now();o-r<t||(r=o,e.apply(i,n))}}function cA(e,t,r,n=100){const i=Date.now();let o=null,s=!1;const a=()=>{o!=null&&(window.clearInterval(o),o=null)};e.addDestroyFunc(a);const l=()=>{const u=Date.now()-i>n;(t()||u)&&(r(),s=!0,a())};l(),s||(o=window.setInterval(l,10))}var Nw=new Set(["__proto__","constructor","prototype"]);function dA(e,t){if(e!=null){if(Array.isArray(e)){for(let r=0;r<e.length;r++)t(r.toString(),e[r]);return}for(const r of Object.keys(e).filter(n=>!Nw.has(n)))t(r,e[r])}}function Dr(e,t,r=!0,n=!1){Le(t)&&dA(t,(i,o)=>{let s=e[i];s!==o&&(n&&s==null&&o!=null&&typeof o=="object"&&o.constructor===Object&&(s={},e[i]=s),rm(o)&&rm(s)&&!Array.isArray(s)?Dr(s,o,r,n):(r||o!==void 0)&&(e[i]=o))})}function rm(e){return typeof e=="object"&&e!==null}var np=class zn{static applyGlobalGridOptions(t){if(!zn.gridOptions)return{...t};let r={};return Dr(r,zn.gridOptions,!0,!0),zn.mergeStrategy==="deep"?Dr(r,t,!0,!0):r={...r,...t},zn.gridOptions.context&&(r.context=zn.gridOptions.context),t.context&&(zn.mergeStrategy==="deep"&&r.context&&Dr(t.context,r.context,!0,!0),r.context=t.context),r}static applyGlobalGridOption(t,r){if(zn.mergeStrategy==="deep"){const n=Ow(t);if(n&&typeof n=="object"&&typeof r=="object")return zn.applyGlobalGridOptions({[t]:r})[t]}return r}};np.gridOptions=void 0;np.mergeStrategy="shallow";var ip=np;function Ow(e){return ip.gridOptions?.[e]}var Hw={suppressContextMenu:!1,preventDefaultOnContextMenu:!1,allowContextMenuWithControlKey:!1,suppressMenuHide:!0,enableBrowserTooltips:!1,tooltipTrigger:"hover",tooltipShowDelay:2e3,tooltipHideDelay:1e4,tooltipMouseTrack:!1,tooltipShowMode:"standard",tooltipInteraction:!1,copyHeadersToClipboard:!1,copyGroupHeadersToClipboard:!1,clipboardDelimiter:"	",suppressCopyRowsToClipboard:!1,suppressCopySingleCellRanges:!1,suppressLastEmptyLineOnPaste:!1,suppressClipboardPaste:!1,suppressClipboardApi:!1,suppressCutToClipboard:!1,maintainColumnOrder:!1,enableStrictPivotColumnOrder:!1,suppressFieldDotNotation:!1,allowDragFromColumnsToolPanel:!1,suppressMovableColumns:!1,suppressColumnMoveAnimation:!1,suppressMoveWhenColumnDragging:!1,suppressDragLeaveHidesColumns:!1,suppressRowGroupHidesColumns:!1,suppressAutoSize:!1,autoSizePadding:20,skipHeaderOnAutoSize:!1,singleClickEdit:!1,suppressClickEdit:!1,readOnlyEdit:!1,stopEditingWhenCellsLoseFocus:!1,enterNavigatesVertically:!1,enterNavigatesVerticallyAfterEdit:!1,enableCellEditingOnBackspace:!1,undoRedoCellEditing:!1,undoRedoCellEditingLimit:10,suppressCsvExport:!1,suppressExcelExport:!1,cacheQuickFilter:!1,includeHiddenColumnsInQuickFilter:!1,excludeChildrenWhenTreeDataFiltering:!1,enableAdvancedFilter:!1,includeHiddenColumnsInAdvancedFilter:!1,enableCharts:!1,masterDetail:!1,keepDetailRows:!1,keepDetailRowsCount:10,detailRowAutoHeight:!1,tabIndex:0,rowBuffer:10,valueCache:!1,valueCacheNeverExpires:!1,enableCellExpressions:!1,suppressTouch:!1,suppressFocusAfterRefresh:!1,suppressBrowserResizeObserver:!1,suppressPropertyNamesCheck:!1,suppressChangeDetection:!1,debug:!1,suppressLoadingOverlay:!1,suppressNoRowsOverlay:!1,pagination:!1,paginationPageSize:100,paginationPageSizeSelector:!0,paginationAutoPageSize:!1,paginateChildRows:!1,suppressPaginationPanel:!1,pivotMode:!1,pivotPanelShow:"never",pivotDefaultExpanded:0,pivotSuppressAutoColumn:!1,suppressExpandablePivotGroups:!1,functionsReadOnly:!1,suppressAggFuncInHeader:!1,alwaysAggregateAtRootLevel:!1,aggregateOnlyChangedColumns:!1,suppressAggFilteredOnly:!1,removePivotHeaderRowWhenSingleValueColumn:!1,animateRows:!0,cellFlashDuration:500,cellFadeDuration:1e3,allowShowChangeAfterFilter:!1,domLayout:"normal",ensureDomOrder:!1,enableRtl:!1,suppressColumnVirtualisation:!1,suppressMaxRenderedRowRestriction:!1,suppressRowVirtualisation:!1,rowDragManaged:!1,rowDragInsertDelay:500,suppressRowDrag:!1,suppressMoveWhenRowDragging:!1,rowDragEntireRow:!1,rowDragMultiRow:!1,embedFullWidthRows:!1,groupDisplayType:"singleColumn",groupDefaultExpanded:0,groupMaintainOrder:!1,groupSelectsChildren:!1,groupSuppressBlankHeader:!1,groupSelectsFiltered:!1,showOpenedGroup:!1,groupRemoveSingleChildren:!1,groupRemoveLowestSingleChildren:!1,groupHideOpenParents:!1,groupAllowUnbalanced:!1,rowGroupPanelShow:"never",suppressMakeColumnVisibleAfterUnGroup:!1,treeData:!1,rowGroupPanelSuppressSort:!1,suppressGroupRowsSticky:!1,rowModelType:"clientSide",asyncTransactionWaitMillis:50,suppressModelUpdateAfterUpdateTransaction:!1,cacheOverflowSize:1,infiniteInitialRowCount:1,serverSideInitialRowCount:1,cacheBlockSize:100,maxBlocksInCache:-1,maxConcurrentDatasourceRequests:2,blockLoadDebounceMillis:0,purgeClosedRowNodes:!1,serverSideSortAllLevels:!1,serverSideOnlyRefreshFilteredGroups:!1,serverSidePivotResultFieldSeparator:"_",viewportRowModelPageSize:5,viewportRowModelBufferSize:5,alwaysShowHorizontalScroll:!1,alwaysShowVerticalScroll:!1,debounceVerticalScrollbar:!1,suppressHorizontalScroll:!1,suppressScrollOnNewData:!1,suppressScrollWhenPopupsAreOpen:!1,suppressAnimationFrame:!1,suppressMiddleClickScrolls:!1,suppressPreventDefaultOnMouseWheel:!1,rowMultiSelectWithClick:!1,suppressRowDeselection:!1,suppressRowClickSelection:!1,suppressCellFocus:!1,suppressHeaderFocus:!1,suppressMultiRangeSelection:!1,enableCellTextSelection:!1,enableRangeSelection:!1,enableRangeHandle:!1,enableFillHandle:!1,fillHandleDirection:"xy",suppressClearOnFillReduction:!1,accentedSort:!1,unSortIcon:!1,suppressMultiSort:!1,alwaysMultiSort:!1,suppressMaintainUnsortedOrder:!1,suppressRowHoverHighlight:!1,suppressRowTransform:!1,columnHoverHighlight:!1,deltaSort:!1,enableGroupEdit:!1,groupLockGroupColumns:0,serverSideEnableClientSideSort:!1,suppressServerSideFullWidthLoadingRow:!1,pivotMaxGeneratedColumns:-1,columnMenu:"new",reactiveCustomComponents:!0,suppressSetFilterByDefault:!1,rowNumbers:!1,enableFilterHandlers:!1},Gw="https://www.ag-grid.com";function bo(e,t,...r){e.get("debug")&&console.log("AG Grid: "+t,...r)}function ra(e,...t){rp(()=>console.warn("AG Grid: "+e,...t),e+t?.join(""))}function rs(e,...t){rp(()=>console.error("AG Grid: "+e,...t),e+t?.join(""))}var jw=new Set,Yu={},oo={},cu,zw=!1,Vw=!1,hA=!1;function fA(e){const[t,r]=e.version.split(".")||[],[n,i]=cu.split(".")||[];return t===n&&r===i}function pA(e){cu||(cu=e.version);const t=n=>`You are using incompatible versions of AG Grid modules. Major and minor versions should always match across modules. ${n} Please update all modules to the same version.`;e.version?fA(e)||rs(t(`'${e.moduleName}' is version ${e.version} but the other modules are version ${cu}.`)):rs(t(`'${e.moduleName}' is incompatible.`));const r=e.validate?.();r&&!r.isValid&&rs(`${r.message}`)}function ya(e,t,r=!1){r||(zw=!0),pA(e);const n=e.rowModels??["all"];jw.add(e);let i;t!==void 0?(Vw=!0,oo[t]===void 0&&(oo[t]={}),i=oo[t]):i=Yu;for(const o of n)i[o]===void 0&&(i[o]={}),i[o][e.moduleName]=e;if(e.dependsOn)for(const o of e.dependsOn)ya(o,t,r)}function gA(e){delete oo[e]}function Ih(e,t,r){const n=i=>!!Yu[i]?.[e]||!!oo[t]?.[i]?.[e];return n(r)||n("all")}function op(){return Vw}function mA(e,t){const r=oo[e]??{};return[...Object.values(Yu.all??{}),...Object.values(r.all??{}),...Object.values(Yu[t]??{}),...Object.values(r[t]??{})]}function bA(){return new Set(jw)}function yA(e,t){const r=oo[e]??{};return[...Object.values(r.all??{}),...Object.values(r[t]??{})]}function vA(){return zw}function wA(){return hA}var CA=class{static register(e){ya(e,void 0)}static registerModules(e){for(const t of e)ya(t,void 0)}},Me="34.3.1",nm=2e3,im=100,Ww="_version_",$w=null,ns=`${Gw}/javascript-data-grid`;function FA(e){$w=e}function SA(e){ns=e}function Uw(e,t,r){return $w?.(e,t)??[RA(e,t,r)]}function sp(e,t,r,n,i){e(`${n?"warning":"error"} #${t}`,...Uw(t,r,i))}function xA(e){if(!e)return String(e);const t={};for(const r of Object.keys(e))typeof e[r]!="object"&&typeof e[r]!="function"&&(t[r]=e[r]);return JSON.stringify(t)}function kA(e){let t=e;return e instanceof Error?t=e.toString():typeof e=="object"&&(t=xA(e)),t}function Zu(e){return e===void 0?"undefined":e===null?"null":e}function Bh(e,t){return`${e}?${t.toString()}`}function EA(e,t,r){const n=Array.from(t.entries()).sort((o,s)=>s[1].length-o[1].length);let i=Bh(e,t);for(const[o,s]of n){if(o===Ww)continue;const a=i.length-r;if(a<=0)break;const l="...",u=a+l.length,c=s.length-u>im?s.slice(0,s.length-u)+l:s.slice(0,im)+l;t.set(o,c),i=Bh(e,t)}return i}function Kw(e,t){const r=new URLSearchParams;if(r.append(Ww,Me),t)for(const o of Object.keys(t))r.append(o,kA(t[o]));const n=`${ns}/errors/${e}`,i=Bh(n,r);return i.length<=nm?i:EA(n,r,nm)}var RA=(e,t,r)=>{const n=Kw(e,t);return`${`${r?r+` 
`:""}Visit ${n}`}${r?"":` 
  Alternatively register the ValidationModule to see the full message in the console.`}`};function Se(...e){sp(ra,e[0],e[1],!0)}function Ot(...e){sp(rs,e[0],e[1],!1)}function qs(e,t,r){sp(rs,e,t,!1,r)}function _A(e,t){const r=t[0];return`error #${r} `+Uw(r,t[1],e).join(" ")}function An(...e){return _A(void 0,e)}function qw(e,t){return e.get("rowModelType")===t}function er(e,t){return qw(e,"clientSide")}function Eo(e,t){return qw(e,"serverSide")}function yr(e,t){return e.get("domLayout")===t}function so(e){return Qu(e)!==void 0}function Jw(e){return typeof e.get("getRowHeight")=="function"}function AA(e,t){return t?!e.get("enableStrictPivotColumnOrder"):e.get("maintainColumnOrder")}function Ri(e,t,r=!1,n){const{gos:i,environment:o}=e;if(n==null&&(n=o.getDefaultRowHeight()),Jw(i)){if(r)return{height:n,estimated:!0};const l={node:t,data:t.data},u=i.getCallback("getRowHeight")(l);if(Lh(u))return u===0&&Se(23),{height:Math.max(1,u),estimated:!1}}if(t.detail&&i.get("masterDetail"))return TA(i);const s=i.get("rowHeight");return{height:s&&Lh(s)?s:n,estimated:!1}}function TA(e){if(e.get("detailRowAutoHeight"))return{height:1,estimated:!1};const t=e.get("detailRowHeight");return Lh(t)?{height:t,estimated:!1}:{height:300,estimated:!1}}function ao(e){const{environment:t,gos:r}=e,n=r.get("rowHeight");if(!n||$t(n))return t.getDefaultRowHeight();const i=t.refreshRowHeightVariable();return i!==-1?i:(Se(24),t.getDefaultRowHeight())}function Lh(e){return!isNaN(e)&&typeof e=="number"&&isFinite(e)}function Yw(e,t,r){const n=t[e.getDomDataKey()];return n?n[r]:void 0}function yo(e,t,r,n){const i=e.getDomDataKey();let o=t[i];$t(o)&&(o={},t[i]=o),o[r]=n}function is(e){return e.get("ensureDomOrder")?!1:e.get("animateRows")}function Zw(e){return!(e.get("paginateChildRows")||e.get("groupHideOpenParents")||yr(e,"print"))}function Fn(e){return!e.get("autoGroupColumnDef")?.comparator&&!e.get("treeData")}function Nh(e){const t=e.get("groupAggFiltering");if(typeof t=="function")return e.getCallback("groupAggFiltering");if(t===!0)return()=>!0}function Xw(e){return e.get("grandTotalRow")}function Qw(e,t){return t?!1:e.get("groupDisplayType")==="groupRows"}function e1(e,t,r){return!!t.group&&!t.footer&&Qw(e,r)}function ys(e){const t=e.getCallback("getRowId");return t===void 0?t:r=>{let n=t(r);return typeof n!="string"&&(rp(()=>Se(25,{id:n}),"getRowIdString"),n=String(n)),n}}function DA(e,t){const r=e.get("groupHideParentOfSingleChild");return!!(r===!0||r==="leafGroupsOnly"&&t.leafGroup||e.get("groupRemoveSingleChildren")||e.get("groupRemoveLowestSingleChildren")&&t.leafGroup)}function MA(e){const t=e.get("maxConcurrentDatasourceRequests");return t>0?t:void 0}function os(e){return e?.checkboxes??!0}function du(e){return e?.mode==="multiRow"&&(e.headerCheckbox??!0)}function Xu(e){if(typeof e=="object")return e.checkboxLocation??"selectionColumn"}function bd(e){return e?.hideDisabledCheckboxes??!1}function PA(e){return typeof e.get("rowSelection")!="string"}function _i(e){const t=e.get("cellSelection");return t!==void 0?!!t:e.get("enableRangeSelection")}function t1(e){const t=e.get("rowSelection")??"single";if(typeof t=="string"){const r=e.get("suppressRowClickSelection"),n=e.get("suppressRowDeselection");return r&&n?!1:r?"enableDeselection":n?"enableSelection":!0}return t.mode==="singleRow"||t.mode==="multiRow"?t.enableClickSelection??!1:!1}function IA(e){const t=t1(e);return t===!0||t==="enableSelection"}function BA(e){const t=t1(e);return t===!0||t==="enableDeselection"}function Oh(e){const t=e.get("rowSelection");return typeof t=="string"?e.get("isRowSelectable"):t?.isRowSelectable}function Qu(e){const t="beanName"in e&&e.beanName==="gos"?e.get("rowSelection"):e.rowSelection;if(typeof t=="string")switch(t){case"multiple":return"multiRow";case"single":return"singleRow";default:return}switch(t?.mode){case"multiRow":case"singleRow":return t.mode;default:return}}function ec(e){return Qu(e)==="multiRow"}function LA(e){const t=e.get("rowSelection");return typeof t=="string"?e.get("rowMultiSelectWithClick"):t?.enableSelectionWithoutKeys??!1}function tc(e){const t=e.get("rowSelection");if(typeof t=="string"){const r=e.get("groupSelectsChildren"),n=e.get("groupSelectsFiltered");return r&&n?"filteredDescendants":r?"descendants":"self"}return t?.mode==="multiRow"?t.groupSelects:void 0}function r1(e,t=!0){const r=e.get("rowSelection");return typeof r!="object"?t?"all":void 0:r.mode==="multiRow"?r.selectAll:"all"}function NA(e){const t=e.get("rowSelection");return typeof t=="string"?!1:t?.mode==="multiRow"?t.ctrlASelectsRows??!1:!1}function va(e){const t=tc(e);return t==="descendants"||t==="filteredDescendants"}function om(e){const t=e.get("rowSelection");return typeof t=="object"&&t.masterSelects||"self"}function OA(e){return e.isModuleRegistered("SetFilter")&&!e.get("suppressSetFilterByDefault")}function qr(e){return e.get("columnMenu")==="legacy"}function HA(e){return!qr(e)}function GA(e){return!e||e.length<2?e:"on"+e[0].toUpperCase()+e.substring(1)}function jA(e,t,r){typeof e!="object"&&(e={});const n={...e};for(const i of r){const o=t[i];typeof o<"u"&&(n[i]=o)}return n}function zA(e,t){if(!e)return;const r={};let n=!1;for(const s of Object.keys(e))r[s]=e[s],n=!0;if(!n)return;const i={type:"gridOptionsChanged",options:r};t.dispatchEvent(i);const o={type:"componentStateChanged",...r};t.dispatchEvent(o)}function Ue(e,t){return e.addCommon(t)}function hu(e,t){return e[t]??e.gridOptions?.[t]??Ow(t)??Hw[t]}function sm({gos:e},t){return t.button===2||t.ctrlKey&&e.get("allowContextMenuWithControlKey")}var VA={resizable:!0,sortable:!0},WA=0;function n1(){return WA++}function Ai(e){return e instanceof Ro}var Ro=class extends ve{constructor(e,t,r,n){super(),this.colDef=e,this.userProvidedColDef=t,this.colId=r,this.primary=n,this.isColumn=!0,this.instanceId=n1(),this.autoHeaderHeight=null,this.moving=!1,this.resizing=!1,this.menuVisible=!1,this.lastLeftPinned=!1,this.firstRightPinned=!1,this.filterActive=!1,this.colEventSvc=new go,this.tooltipEnabled=!1,this.rowGroupActive=!1,this.pivotActive=!1,this.aggregationActive=!1,this.flex=null,this.colIdSanitised=Xs(r)}destroy(){super.destroy(),this.beans.rowSpanSvc?.deregister(this)}getInstanceId(){return this.instanceId}setState(){const{colDef:e,beans:{sortSvc:t,pinnedCols:r,colFlex:n}}=this;t?.initCol(this);const i=e.hide;i!==void 0?this.visible=!i:this.visible=!e.initialHide,r?.initCol(this),n?.initCol(this)}setColDef(e,t,r){const n=e.spanRows!==this.colDef.spanRows;this.colDef=e,this.userProvidedColDef=t,this.initMinAndMaxWidths(),this.initDotNotation(),this.initTooltip(),n&&(this.beans.rowSpanSvc?.deregister(this),this.initRowSpan()),this.dispatchColEvent("colDefChanged",r)}getUserProvidedColDef(){return this.userProvidedColDef}getParent(){return this.parent}getOriginalParent(){return this.originalParent}postConstruct(){this.setState(),this.initMinAndMaxWidths(),this.resetActualWidth("gridInitializing"),this.initDotNotation(),this.initTooltip(),this.initRowSpan(),this.addPivotListener()}initDotNotation(){const{gos:e,colDef:{field:t,tooltipField:r}}=this,n=e.get("suppressFieldDotNotation");this.fieldContainsDots=Le(t)&&t.includes(".")&&!n,this.tooltipFieldContainsDots=Le(r)&&r.includes(".")&&!n}initMinAndMaxWidths(){const e=this.colDef;this.minWidth=e.minWidth??this.beans.environment.getDefaultColumnMinWidth(),this.maxWidth=e.maxWidth??Number.MAX_SAFE_INTEGER}initTooltip(){this.beans.tooltipSvc?.initCol(this)}initRowSpan(){this.colDef.spanRows&&this.beans.rowSpanSvc?.register(this)}addPivotListener(){const e=this.beans.pivotColDefSvc,t=this.colDef.pivotValueColumn;!e||!t||this.addManagedListeners(t,{colDefChanged:r=>{const n=e.recreateColDef(this.colDef);this.setColDef(n,n,r.source)}})}resetActualWidth(e){const t=this.calculateColInitialWidth(this.colDef);this.setActualWidth(t,e,!0)}calculateColInitialWidth(e){let t;const r=e.width,n=e.initialWidth;return r!=null?t=r:n!=null?t=n:t=200,Math.max(Math.min(t,this.maxWidth),this.minWidth)}isEmptyGroup(){return!1}isRowGroupDisplayed(e){return this.beans.showRowGroupCols?.isRowGroupDisplayed(this,e)??!1}isPrimary(){return this.primary}isFilterAllowed(){return!!this.colDef.filter}isFieldContainsDots(){return this.fieldContainsDots}isTooltipEnabled(){return this.tooltipEnabled}isTooltipFieldContainsDots(){return this.tooltipFieldContainsDots}getHighlighted(){return this.highlighted}__addEventListener(e,t){this.colEventSvc.addEventListener(e,t)}__removeEventListener(e,t){this.colEventSvc.removeEventListener(e,t)}addEventListener(e,t){this.frameworkEventListenerService=this.beans.frameworkOverrides.createLocalEventListenerWrapper?.(this.frameworkEventListenerService,this.colEventSvc);const r=this.frameworkEventListenerService?.wrap(e,t)??t;this.colEventSvc.addEventListener(e,r)}removeEventListener(e,t){const r=this.frameworkEventListenerService?.unwrap(e,t)??t;this.colEventSvc.removeEventListener(e,r)}createColumnFunctionCallbackParams(e){return Ue(this.gos,{node:e,data:e.data,column:this,colDef:this.colDef})}isSuppressNavigable(e){return this.beans.cellNavigation?.isSuppressNavigable(this,e)??!1}isCellEditable(e){return this.beans.editSvc?.isCellEditable({rowNode:e,column:this})??!1}isSuppressFillHandle(){return!!this.colDef.suppressFillHandle}isAutoHeight(){return!!this.colDef.autoHeight}isAutoHeaderHeight(){return!!this.colDef.autoHeaderHeight}isRowDrag(e){return this.isColumnFunc(e,this.colDef.rowDrag)}isDndSource(e){return this.isColumnFunc(e,this.colDef.dndSource)}isCellCheckboxSelection(e){return this.beans.selectionSvc?.isCellCheckboxSelection(this,e)??!1}isSuppressPaste(e){return this.isColumnFunc(e,this.colDef?.suppressPaste??null)}isResizable(){return!!this.getColDefValue("resizable")}getColDefValue(e){return this.colDef[e]??VA[e]}isColumnFunc(e,t){if(typeof t=="boolean")return t;if(typeof t=="function"){const r=this.createColumnFunctionCallbackParams(e);return t(r)}return!1}createColumnEvent(e,t){return Ue(this.gos,{type:e,column:this,columns:[this],source:t})}isMoving(){return this.moving}getSort(){return this.sort}isSortable(){return!!this.getColDefValue("sortable")}isSortAscending(){return this.sort==="asc"}isSortDescending(){return this.sort==="desc"}isSortNone(){return $t(this.sort)}isSorting(){return Le(this.sort)}getSortIndex(){return this.sortIndex}isMenuVisible(){return this.menuVisible}getAggFunc(){return this.aggFunc}getLeft(){return this.left}getOldLeft(){return this.oldLeft}getRight(){return this.left+this.actualWidth}setLeft(e,t){this.oldLeft=this.left,this.left!==e&&(this.left=e,this.dispatchColEvent("leftChanged",t))}isFilterActive(){return this.filterActive}isHovered(){return Se(261),!!this.beans.colHover?.isHovered(this)}setFirstRightPinned(e,t){this.firstRightPinned!==e&&(this.firstRightPinned=e,this.dispatchColEvent("firstRightPinnedChanged",t))}setLastLeftPinned(e,t){this.lastLeftPinned!==e&&(this.lastLeftPinned=e,this.dispatchColEvent("lastLeftPinnedChanged",t))}isFirstRightPinned(){return this.firstRightPinned}isLastLeftPinned(){return this.lastLeftPinned}isPinned(){return this.pinned==="left"||this.pinned==="right"}isPinnedLeft(){return this.pinned==="left"}isPinnedRight(){return this.pinned==="right"}getPinned(){return this.pinned}setVisible(e,t){const r=e===!0;this.visible!==r&&(this.visible=r,this.dispatchColEvent("visibleChanged",t)),this.dispatchStateUpdatedEvent("hide")}isVisible(){return this.visible}isSpanHeaderHeight(){return!this.getColDef().suppressSpanHeaderHeight}getFirstRealParent(){let e=this.getOriginalParent();for(;e?.isPadding();)e=e.getOriginalParent();return e}getColumnGroupPaddingInfo(){let e=this.getParent();if(!e?.isPadding())return{numberOfParents:0,isSpanningTotal:!1};const t=e.getPaddingLevel()+1;let r=!0;for(;e;){if(!e.isPadding()){r=!1;break}e=e.getParent()}return{numberOfParents:t,isSpanningTotal:r}}getColDef(){return this.colDef}getDefinition(){return this.colDef}getColumnGroupShow(){return this.colDef.columnGroupShow}getColId(){return this.colId}getId(){return this.colId}getUniqueId(){return this.colId}getActualWidth(){return this.actualWidth}getAutoHeaderHeight(){return this.autoHeaderHeight}setAutoHeaderHeight(e){const t=e!==this.autoHeaderHeight;return this.autoHeaderHeight=e,t}createBaseColDefParams(e){return Ue(this.gos,{node:e,data:e.data,colDef:this.colDef,column:this})}getColSpan(e){if($t(this.colDef.colSpan))return 1;const t=this.createBaseColDefParams(e),r=this.colDef.colSpan(t);return Math.max(r,1)}getRowSpan(e){if($t(this.colDef.rowSpan))return 1;const t=this.createBaseColDefParams(e),r=this.colDef.rowSpan(t);return Math.max(r,1)}setActualWidth(e,t,r=!1){e=Math.max(e,this.minWidth),e=Math.min(e,this.maxWidth),this.actualWidth!==e&&(this.actualWidth=e,this.flex!=null&&t!=="flex"&&t!=="gridInitializing"&&(this.flex=null),r||this.fireColumnWidthChangedEvent(t)),this.dispatchStateUpdatedEvent("width")}fireColumnWidthChangedEvent(e){this.dispatchColEvent("widthChanged",e)}isGreaterThanMax(e){return e>this.maxWidth}getMinWidth(){return this.minWidth}getMaxWidth(){return this.maxWidth}getFlex(){return this.flex}isRowGroupActive(){return this.rowGroupActive}isPivotActive(){return this.pivotActive}isAnyFunctionActive(){return this.isPivotActive()||this.isRowGroupActive()||this.isValueActive()}isAnyFunctionAllowed(){return this.isAllowPivot()||this.isAllowRowGroup()||this.isAllowValue()}isValueActive(){return this.aggregationActive}isAllowPivot(){return this.colDef.enablePivot===!0}isAllowValue(){return this.colDef.enableValue===!0}isAllowRowGroup(){return this.colDef.enableRowGroup===!0}dispatchColEvent(e,t,r){const n=this.createColumnEvent(e,t);r&&Dr(n,r),this.colEventSvc.dispatchEvent(n)}dispatchStateUpdatedEvent(e){this.colEventSvc.dispatchEvent({type:"columnStateUpdated",key:e})}};function Fr(e){return e instanceof fu}var fu=class extends ve{constructor(e,t,r,n){super(),this.colGroupDef=e,this.groupId=t,this.padding=r,this.level=n,this.isColumn=!1,this.expandable=!1,this.instanceId=n1(),this.expandableListenerRemoveCallback=null,this.expanded=!!e?.openByDefault}destroy(){this.expandableListenerRemoveCallback&&this.reset(null,void 0),super.destroy()}reset(e,t){this.colGroupDef=e,this.level=t,this.originalParent=null,this.expandableListenerRemoveCallback&&this.expandableListenerRemoveCallback(),this.children=void 0,this.expandable=void 0}getInstanceId(){return this.instanceId}getOriginalParent(){return this.originalParent}getLevel(){return this.level}isVisible(){return this.children?this.children.some(e=>e.isVisible()):!1}isPadding(){return this.padding}setExpanded(e){this.expanded=e===void 0?!1:e,this.dispatchLocalEvent({type:"expandedChanged"})}isExpandable(){return this.expandable}isExpanded(){return this.expanded}getGroupId(){return this.groupId}getId(){return this.getGroupId()}setChildren(e){this.children=e}getChildren(){return this.children}getColGroupDef(){return this.colGroupDef}getLeafColumns(){const e=[];return this.addLeafColumns(e),e}forEachLeafColumn(e){if(this.children)for(const t of this.children)Ai(t)?e(t):Fr(t)&&t.forEachLeafColumn(e)}addLeafColumns(e){if(this.children)for(const t of this.children)Ai(t)?e.push(t):Fr(t)&&t.addLeafColumns(e)}getColumnGroupShow(){const e=this.colGroupDef;if(e)return e.columnGroupShow}setupExpandable(){this.setExpandable(),this.expandableListenerRemoveCallback&&this.expandableListenerRemoveCallback();const e=this.onColumnVisibilityChanged.bind(this);for(const t of this.getLeafColumns())t.__addEventListener("visibleChanged",e);this.expandableListenerRemoveCallback=()=>{for(const t of this.getLeafColumns())t.__removeEventListener("visibleChanged",e);this.expandableListenerRemoveCallback=null}}setExpandable(){if(this.isPadding())return;let e=!1,t=!1,r=!1;const n=this.findChildrenRemovingPadding();for(let o=0,s=n.length;o<s;o++){const a=n[o];if(!a.isVisible())continue;const l=a.getColumnGroupShow();l==="open"?(e=!0,r=!0):l==="closed"?(t=!0,r=!0):(e=!0,t=!0)}const i=e&&t&&r;this.expandable!==i&&(this.expandable=i,this.dispatchLocalEvent({type:"expandableChanged"}))}findChildrenRemovingPadding(){const e=[],t=r=>{for(const n of r)Fr(n)&&n.isPadding()?t(n.children):e.push(n)};return t(this.children),e}onColumnVisibilityChanged(){this.setExpandable()}},$A={numericColumn:{headerClass:"ag-right-aligned-header",cellClass:"ag-right-aligned-cell"},rightAligned:{headerClass:"ag-right-aligned-header",cellClass:"ag-right-aligned-cell"}};function am(e,t,r){const n={},i=e.gos;return Object.assign(n,i.get("defaultColGroupDef")),Object.assign(n,t),i.validateColDef(n,r),n}var UA=class{constructor(){this.existingKeys={}}addExistingKeys(e){for(let t=0;t<e.length;t++)this.existingKeys[e[t]]=!0}getUniqueKey(e,t){e=Dh(e);let r=0;for(;;){let n=e??t;if(n?r!==0&&(n+="_"+r):n=r,!this.existingKeys[n]){const i=String(n);return e&&r>0&&Se(273,{providedId:e,usedId:i}),this.existingKeys[i]=!0,i}r++}}};function Gt(e){if(e?.length)return e[e.length-1]}function Ii(e,t,r){if(e===t)return!0;if(!e||!t)return e==null&&t==null;const n=e.length;if(n!==t.length)return!1;for(let i=0;i<n;i++)if(e[i]!==t[i]&&!r?.(e[i],t[i]))return!1;return!0}function Bs(e,t){if(e)for(const r of e)t(r)}function pn(e,t){const r=e.indexOf(t);r>=0&&e.splice(r,1)}function lm(e,t,r){for(let n=0;n<t.length;n++)pn(e,t[n]);for(let n=t.length-1;n>=0;n--)e.splice(r,0,t[n])}var Bc="ag-Grid-AutoColumn",i1="ag-Grid-SelectionColumn",o1="ag-Grid-RowNumbersColumn";function s1(e){const t=[],r=n=>{for(let i=0;i<n.length;i++){const o=n[i];Ai(o)?t.push(o):Fr(o)&&r(o.getChildren())}};return r(e),t}function Wn(e){return e.reduce((t,r)=>t+r.getActualWidth(),0)}function rc(e,t,r){const n={};if(!t)return;Xn(null,t,o=>{n[o.getInstanceId()]=o}),r&&Xn(null,r,o=>{n[o.getInstanceId()]=null});const i=Object.values(n).filter(o=>o!=null);e.context.destroyBeans(i)}function ap(e){return e.getId().startsWith(Bc)}function si(e){return(typeof e=="string"?e:"getColId"in e?e.getColId():e.colId)?.startsWith(i1)??!1}function Zn(e){return(typeof e=="string"?e:"getColId"in e?e.getColId():e.colId)?.startsWith(o1)??!1}function KA(e){return si(e)||Zn(e)}function nc(e){let t=[];return e instanceof Array?t=e:typeof e=="string"&&(t=e.split(",")),t}function qA(e,t){return Ii(e,t,(r,n)=>r.getColId()===n.getColId())}function JA(e){e.map={};for(const t of e.list)e.map[t.getId()]=t}function ss(e){return e==="optionsUpdated"?"gridOptionsChanged":e}function na(e,t){const r=e===t,n=e.getColDef()===t,i=e.getColId()==t;return r||n||i}var YA=(e,t)=>(r,n)=>{const i={value1:void 0,value2:void 0};let o=!1;return e&&(e[r]!==void 0&&(i.value1=e[r],o=!0),Le(n)&&e[n]!==void 0&&(i.value2=e[n],o=!0)),!o&&t&&(t[r]!==void 0&&(i.value1=t[r]),Le(n)&&t[n]!==void 0&&(i.value2=t[n])),i},ZA=(e,t)=>{Fr(e)&&e.setupExpandable(),e.originalParent=t};function XA(e,t=null,r,n,i){const o=new UA,{existingCols:s,existingGroups:a,existingColKeys:l}=QA(n);o.addExistingKeys(l);const u=a1(e,t,0,r,s,o,a,i),{colGroupSvc:c}=e,f=c?.findMaxDepth(u,0)??0,d=c?c.balanceColumnTree(u,0,f,o):u;return Xn(null,d,ZA),{columnTree:d,treeDepth:f}}function QA(e){const t=[],r=[],n=[];return e&&Xn(null,e,i=>{if(Fr(i)){const o=i;r.push(o)}else{const o=i;n.push(o.getId()),t.push(o)}}),{existingCols:t,existingGroups:r,existingColKeys:n}}function a1(e,t,r,n,i,o,s,a){if(!t)return[];const{colGroupSvc:l}=e,u=new Array(t.length);for(let c=0;c<u.length;c++){const f=t[c];l&&o4(f)?u[c]=l.createProvidedColumnGroup(n,f,r,i,o,s,a):u[c]=e4(e,n,f,i,o,a)}return u}function e4(e,t,r,n,i,o){const s=r4(r,n);s&&n?.splice(s.idx,1);let a=s?.column;if(a){const l=Hh(e,r,a.getColId());a.setColDef(l,r,o),t4(e,a,l,o)}else{const l=i.getUniqueKey(r.colId,r.field),u=Hh(e,r,l);a=new Ro(u,r,l,t),e.context.createBean(a)}return e.dataTypeSvc?.addColumnListeners(a),a}function l1(e,t,r,n,i,o,s,a){const{sortSvc:l,pinnedCols:u,colFlex:c}=e;r!==void 0&&t.setVisible(!r,a),l&&(l.updateColSort(t,n,a),i!==void 0&&l.setColSortIndex(t,i)),o!==void 0&&u?.setColPinned(t,o),s!==void 0&&c?.setColFlex(t,s)}function t4(e,t,r,n){l1(e,t,r.hide,r.sort,r.sortIndex,r.pinned,r.flex,n);const i=t.getFlex();if(!(i!=null&&i>0))if(r.width!=null)t.setActualWidth(r.width,n);else{const o=t.getActualWidth();t.setActualWidth(o,n)}}function r4(e,t){if(t)for(let r=0;r<t.length;r++){const n=t[r].getUserProvidedColDef();if(!n)continue;if(e.colId!=null){if(t[r].getId()===e.colId)return{idx:r,column:t[r]};continue}if(e.field!=null){if(n.field===e.field)return{idx:r,column:t[r]};continue}if(n===e)return{idx:r,column:t[r]}}}function Hh(e,t,r,n){const{gos:i,dataTypeSvc:o}=e,s={},a=i.get("defaultColDef");Dr(s,a,!1,!0);const l=n4(e,s,t,r);l&&i4(e,l,s);const u=s.cellDataType;Dr(s,t,!1,!0),u!==void 0&&(s.cellDataType=u);const c=i.get("autoGroupColumnDef"),f=Fn(i);return t.rowGroup&&c&&f&&Dr(s,{sort:c.sort,initialSort:c.initialSort},!1,!0),o&&(o.postProcess(s),o.validateColDef(s)),i.validateColDef(s,r,n),s}function n4(e,t,r,n){const i=e.dataTypeSvc?.updateColDefAndGetColumnType(t,r,n),o=r.type??i??t.type;return t.type=o,o?nc(o):void 0}function i4(e,t,r){if(!t.length)return;const n=Object.assign({},$A),i=e.gos.get("columnTypes")||{};for(const o of Object.keys(i)){const s=i[o];o in n?Se(34,{key:o}):(s.type&&Se(35),n[o]=s)}for(const o of t){const s=n[o.trim()];s?Dr(r,s,!1,!0):Se(36,{t:o})}}function o4(e){return e.children!==void 0}function Xn(e,t,r){if(t)for(let n=0;n<t.length;n++){const i=t[n];Fr(i)&&Xn(i,i.getChildren(),r),r(i,e)}}function u1(e,t){const r=[],n=[],i=[];return e.forEach(s=>{const a=s.getColDef().lockPosition;a==="right"?i.push(s):a==="left"||a===!0?r.push(s):n.push(s)}),t.get("enableRtl")?[...i,...n,...r]:[...r,...n,...i]}function c1(e,t){let r=!0;return Xn(null,t,n=>{if(!Fr(n))return;const i=n;if(!i.getColGroupDef()?.marryChildren)return;const a=[];for(const d of i.getLeafColumns()){const h=e.indexOf(d);a.push(h)}const l=Math.max.apply(Math,a),u=Math.min.apply(Math,a),c=l-u,f=i.getLeafColumns().length-1;c>f&&(r=!1)}),r}function d1(e,t){if(!e||e.length==0)return;const r=t(e[0]);for(let n=1;n<e.length;n++)if(r!==t(e[n]))return;return r}function h1(e,t,r){if(!t.length)return;const n=t.length===1?t[0]:null,i=d1(t,o=>o.getPinned());e.dispatchEvent({type:"columnPinned",pinned:i??null,columns:t,column:n,source:r})}function s4(e,t,r){if(!t.length)return;const n=t.length===1?t[0]:null,i=d1(t,o=>o.isVisible());e.dispatchEvent({type:"columnVisible",visible:i,columns:t,column:n,source:r})}function a4(e,t,r,n){e.dispatchEvent({type:t,columns:r,column:r&&r.length==1?r[0]:null,source:n})}function vs(e,t,r,n,i=null){t?.length&&e.dispatchEvent({type:"columnResized",columns:t,column:t.length===1?t[0]:null,flexColumns:i,finished:r,source:n})}function fn(e,t,r){const{colModel:n,rowGroupColsSvc:i,pivotColsSvc:o,autoColSvc:s,selectionColSvc:a,colAnimation:l,visibleCols:u,pivotResultCols:c,environment:f,valueColsSvc:d,eventSvc:h,gos:g}=e,m=n.getColDefCols()??[],p=a?.getColumns();if(!m.length&&!p?.length)return!1;if(t?.state&&!t.state.forEach)return Se(32),!1;const y=(E,T,I,M,P)=>{if(!E)return;const O=YA(T,t.defaultState),z=O("flex").value1;if(l1(e,E,O("hide").value1,O("sort").value1,O("sortIndex").value1,O("pinned").value1,z,r),z==null){const L=O("width").value1;if(L!=null){const _=E.getColDef().minWidth??f.getDefaultColumnMinWidth();_!=null&&L>=_&&E.setActualWidth(L,r)}}P||!E.isPrimary()||(d?.syncColumnWithState(E,r,O),i?.syncColumnWithState(E,r,O,I),o?.syncColumnWithState(E,r,O,M))},b=(E,T,I)=>{const M=f1(e,r),P=T.slice(),O={},z={},L=[],_=[],R=[];let k=0;const S=i?.columns.slice()??[],w=o?.columns.slice()??[];for(const A of E){const D=A.colId;if(D.startsWith(Bc)){L.push(A),R.push(A);continue}if(si(D)){_.push(A),R.push(A);continue}const V=I(D);V?(y(V,A,O,z,!1),pn(P,V)):(R.push(A),k+=1)}const C=A=>y(A,null,O,z,!1);P.forEach(C),i?.sortColumns(um.bind(i,O,S)),o?.sortColumns(um.bind(o,z,w)),n.refreshCols(!1,r);const x=(A,D,B=[])=>{for(const V of D){const j=A(V.colId);pn(B,j),y(j,V,null,null,!0)}B.forEach(C)};return x(A=>s?.getColumn(A)??null,L,s?.getColumns()?.slice()),x(A=>a?.getColumn(A)??null,_,a?.getColumns()?.slice()),u4(t,n,g),u.refresh(r),h.dispatchEvent({type:"columnEverythingChanged",source:r}),M(),{unmatchedAndAutoStates:R,unmatchedCount:k}};l?.start();let{unmatchedAndAutoStates:v,unmatchedCount:F}=b(t.state||[],m,E=>n.getColDefCol(E));if(v.length>0||Le(t.defaultState)){const E=c?.getPivotResultCols()?.list??[];F=b(v,E,T=>c?.getPivotResultCol(T)??null).unmatchedCount}return l?.finish(),F===0}function l4(e,t){const{colModel:r,autoColSvc:n,selectionColSvc:i,eventSvc:o,gos:s}=e,a=r.getColDefCols();if(!a?.length)return;const l=r.getColDefColTree(),u=s1(l),c=[];let f=1e3,d=1e3;const h=b=>{const v=p1(b);$t(v.rowGroupIndex)&&v.rowGroup&&(v.rowGroupIndex=f++),$t(v.pivotIndex)&&v.pivot&&(v.pivotIndex=d++),c.push(v)};n?.getColumns()?.forEach(h),i?.getColumns()?.forEach(h),u?.forEach(h),fn(e,{state:c},t);const g=n?.getColumns()??[],y=[...i?.getColumns()??[],...g,...a].map(b=>({colId:b.colId}));fn(e,{state:y,applyOrder:!0},t),o.dispatchEvent(Ue(s,{type:"columnsReset",source:t}))}function f1(e,t){const{rowGroupColsSvc:r,pivotColsSvc:n,valueColsSvc:i,colModel:o,sortSvc:s,eventSvc:a}=e,l={rowGroupColumns:r?.columns.slice()??[],pivotColumns:n?.columns.slice()??[],valueColumns:i?.columns.slice()??[]},u=ic(e),c={};for(const f of u)c[f.colId]=f;return()=>{const f=(T,I,M,P)=>{const O=I.map(P),z=M.map(P);if(Ii(O,z))return;const _=new Set(I);for(const k of M)_.delete(k)||_.add(k);const R=[..._];a.dispatchEvent({type:T,columns:R,column:R.length===1?R[0]:null,source:t})},d=T=>{const I=[];return o.forAllCols(M=>{const P=c[M.getColId()];P&&T(P,M)&&I.push(M)}),I},h=T=>T.getColId();f("columnRowGroupChanged",l.rowGroupColumns,r?.columns??[],h),f("columnPivotChanged",l.pivotColumns,n?.columns??[],h);const m=d((T,I)=>{const M=T.aggFunc!=null,P=M!=I.isValueActive(),O=M&&T.aggFunc!=I.getAggFunc();return P||O});m.length>0&&a4(a,"columnValueChanged",m,t),vs(a,d((T,I)=>T.width!=I.getActualWidth()),!0,t),h1(a,d((T,I)=>T.pinned!=I.getPinned()),t),s4(a,d((T,I)=>T.hide==I.isVisible()),t);const F=d((T,I)=>T.sort!=I.getSort()||T.sortIndex!=I.getSortIndex());F.length>0&&s?.dispatchSortChangedEvents(t,F);const E=ic(e);d4(u,E,t,o,a)}}function ic(e){const{colModel:t,rowGroupColsSvc:r,pivotColsSvc:n}=e,i=t.getColDefCols();if($t(i)||!t.isAlive())return[];const o=r?.columns,s=n?.columns,a=[],l=c=>{const f=c.isRowGroupActive()&&o?o.indexOf(c):null,d=c.isPivotActive()&&s?s.indexOf(c):null,h=c.isValueActive()?c.getAggFunc():null,g=c.getSort()!=null?c.getSort():null,m=c.getSortIndex()!=null?c.getSortIndex():null;a.push({colId:c.getColId(),width:c.getActualWidth(),hide:!c.isVisible(),pinned:c.getPinned(),sort:g,sortIndex:m,aggFunc:h,rowGroup:c.isRowGroupActive(),rowGroupIndex:f,pivot:c.isPivotActive(),pivotIndex:d,flex:c.getFlex()??null})};t.forAllCols(c=>l(c));const u=new Map(t.getCols().map((c,f)=>[c.getColId(),f]));return a.sort((c,f)=>{const d=u.has(c.colId)?u.get(c.colId):-1,h=u.has(f.colId)?u.get(f.colId):-1;return d-h}),a}function p1(e){const t=(g,m)=>g??m??null,r=e.getColDef(),n=t(r.sort,r.initialSort),i=t(r.sortIndex,r.initialSortIndex),o=t(r.hide,r.initialHide),s=t(r.pinned,r.initialPinned),a=t(r.width,r.initialWidth),l=t(r.flex,r.initialFlex);let u=t(r.rowGroupIndex,r.initialRowGroupIndex),c=t(r.rowGroup,r.initialRowGroup);u==null&&!c&&(u=null,c=null);let f=t(r.pivotIndex,r.initialPivotIndex),d=t(r.pivot,r.initialPivot);f==null&&!d&&(f=null,d=null);const h=t(r.aggFunc,r.initialAggFunc);return{colId:e.getColId(),sort:n,sortIndex:i,hide:o,pinned:s,width:a,flex:l,rowGroup:c,rowGroupIndex:u,pivot:d,pivotIndex:f,aggFunc:h}}function u4(e,t,r){if(!e.applyOrder||!e.state)return;const n=[];for(const i of e.state)i.colId!=null&&n.push(i.colId);c4(t.cols,n,t,r)}function c4(e,t,r,n){if(e==null)return;let i=[];const o={};for(const a of t){if(o[a])continue;const l=e.map[a];l&&(i.push(l),o[a]=!0)}let s=0;for(const a of e.list){const l=a.getColId();if(o[l]!=null)continue;l.startsWith(Bc)?i.splice(s++,0,a):i.push(a)}if(i=u1(i,n),!c1(i,r.getColTree())){Se(39);return}e.list=i}function d4(e,t,r,n,i){const o={};for(const c of t)o[c.colId]=c;const s={};for(const c of e)o[c.colId]&&(s[c.colId]=!0);const a=e.filter(c=>s[c.colId]),l=t.filter(c=>s[c.colId]),u=[];l.forEach((c,f)=>{const d=a?.[f];if(d&&d.colId!==c.colId){const h=n.getCol(d.colId);h&&u.push(h)}}),u.length&&i.dispatchEvent({type:"columnMoved",columns:u,column:u.length===1?u[0]:null,finished:!0,source:r})}var um=(e,t,r,n)=>{const i=e[r.getId()],o=e[n.getId()],s=i!=null,a=o!=null;if(s&&a)return i-o;if(s)return-1;if(a)return 1;const l=t.indexOf(r),u=t.indexOf(n),c=l>=0,f=u>=0;return c&&f?l-u:c?-1:1},h4=class extends ve{constructor(){super(...arguments),this.beanName="colModel",this.pivotMode=!1,this.ready=!1,this.changeEventsDispatching=!1}postConstruct(){this.pivotMode=this.gos.get("pivotMode"),this.addManagedPropertyListeners(["groupDisplayType","treeData","treeDataDisplayType","groupHideOpenParents","rowNumbers","hidePaddedHeaderRows"],e=>this.refreshAll(ss(e.source))),this.addManagedPropertyListeners(["defaultColDef","defaultColGroupDef","columnTypes","suppressFieldDotNotation"],this.recreateColumnDefs.bind(this)),this.addManagedPropertyListener("pivotMode",e=>this.setPivotMode(this.gos.get("pivotMode"),ss(e.source)))}createColsFromColDefs(e){const{beans:t}=this,{valueCache:r,colAutosize:n,rowGroupColsSvc:i,pivotColsSvc:o,valueColsSvc:s,visibleCols:a,eventSvc:l,groupHierarchyColSvc:u}=t,c=this.colDefs?f1(t,e):void 0;r?.expire();const f=this.colDefCols?.list,d=this.colDefCols?.tree,h=XA(t,this.colDefs,!0,d,e);rc(t,this.colDefCols?.tree,h.columnTree);const g=h.columnTree,m=h.treeDepth,p=s1(g),y={};for(const b of p)y[b.getId()]=b;this.colDefCols={tree:g,treeDepth:m,list:p,map:y},this.createColumnsForService([u],this.colDefCols,e),i?.extractCols(e,f),o?.extractCols(e,f),s?.extractCols(e,f),this.ready=!0,this.refreshCols(!0,e),a.refresh(e),l.dispatchEvent({type:"columnEverythingChanged",source:e}),c&&(this.changeEventsDispatching=!0,c(),this.changeEventsDispatching=!1),l.dispatchEvent({type:"newColumnsLoaded",source:e}),e==="gridInitializing"&&n?.applyAutosizeStrategy()}refreshCols(e,t){if(!this.colDefCols)return;const r=this.cols?.tree;this.saveColOrder();const{autoColSvc:n,selectionColSvc:i,rowNumbersSvc:o,quickFilter:s,pivotResultCols:a,showRowGroupCols:l,rowAutoHeight:u,visibleCols:c,colViewport:f,eventSvc:d}=this.beans,h=this.selectCols(a,this.colDefCols);this.createColumnsForService([n,i,o],h,t);const g=AA(this.gos,this.showingPivotResult);(!e||g)&&this.restoreColOrder(h),this.positionLockedCols(h),l?.refresh(),s?.refreshCols(),this.setColSpanActive(),u?.setAutoHeightActive(h),c.clear(),f.clear(),!Ii(r,this.cols.tree)&&d.dispatchEvent({type:"gridColumnsChanged"})}createColumnsForService(e,t,r){for(const n of e)n&&(n.createColumns(t,i=>{this.lastOrder=i(this.lastOrder),this.lastPivotOrder=i(this.lastPivotOrder)},r),n.addColumns(t))}selectCols(e,t){const r=e?.getPivotResultCols()??null;this.showingPivotResult=r!=null;const{map:n,list:i,tree:o,treeDepth:s}=r??t;return this.cols={list:i.slice(),map:{...n},tree:o.slice(),treeDepth:s},r&&(r.list.some(l=>this.cols?.map[l.getColId()]!==void 0)||(this.lastPivotOrder=null)),this.cols}getColsToShow(){if(!this.cols)return[];const{valueColsSvc:e,selectionColSvc:t,gos:r}=this.beans,n=this.isPivotMode()&&!this.showingPivotResult,i=t?.isSelectionColumnEnabled(),o=r.get("rowNumbers"),s=e?.columns;return this.cols.list.filter(l=>{const u=ap(l);if(n){const c=s?.includes(l);return u||c||i&&si(l)||o&&Zn(l)}else return u||l.isVisible()})}refreshAll(e){this.ready&&(this.refreshCols(!1,e),this.beans.visibleCols.refresh(e))}setColsVisible(e,t=!1,r){fn(this.beans,{state:e.map(n=>({colId:typeof n=="string"?n:n.getColId(),hide:!t}))},r)}restoreColOrder(e){const t=this.showingPivotResult?this.lastPivotOrder:this.lastOrder;if(!t)return;const r=t.filter(f=>e.map[f.getId()]!=null);if(r.length===0)return;if(r.length===e.list.length){e.list=r;return}const n=f=>{const d=f.getOriginalParent();return d?d.getChildren().length>1?!0:n(d):!1};if(!r.some(f=>n(f))){const f=new Set(r);for(const d of e.list)f.has(d)||r.push(d);e.list=r;return}const i=new Map;for(let f=0;f<r.length;f++){const d=r[f];i.set(d,f)}const o=e.list.filter(f=>!i.has(f));if(o.length===0){e.list=r;return}const s=(f,d)=>{const h=d?d.getOriginalParent():f.getOriginalParent();if(!h)return null;let g=null,m=null;for(const p of h.getChildren())if(!(p===d||p===f)){if(p instanceof Ro){const y=i.get(p);if(y==null)continue;(g==null||g<y)&&(g=y,m=p);continue}p.forEachLeafColumn(y=>{const b=i.get(y);b!=null&&(g==null||g<b)&&(g=b,m=y)})}return m??s(f,h)},a=[],l=new Map;for(const f of o){const d=s(f,null);if(d==null){a.push(f);continue}const h=l.get(d);h===void 0?l.set(d,f):Array.isArray(h)?h.push(f):l.set(d,[h,f])}const u=new Array(e.list.length);let c=u.length-1;for(let f=a.length-1;f>=0;f--)u[c--]=a[f];for(let f=r.length-1;f>=0;f--){const d=r[f],h=l.get(d);if(h)if(Array.isArray(h))for(let g=h.length-1;g>=0;g--){const m=h[g];u[c--]=m}else u[c--]=h;u[c--]=d}e.list=u}positionLockedCols(e){e.list=u1(e.list,this.gos)}saveColOrder(){this.showingPivotResult?this.lastPivotOrder=this.cols?.list??null:this.lastOrder=this.cols?.list??null}getColumnDefs(e){return this.colDefCols&&this.beans.colDefFactory?.getColumnDefs(this.colDefCols.list,this.showingPivotResult,this.lastOrder,this.cols?.list??[],e)}setColSpanActive(){this.colSpanActive=!!this.cols?.list.some(e=>e.getColDef().colSpan!=null)}isPivotMode(){return this.pivotMode}setPivotMode(e,t){if(e===this.pivotMode||(this.pivotMode=e,!this.ready))return;this.refreshCols(!1,t);const{visibleCols:r,eventSvc:n}=this.beans;r.refresh(t),n.dispatchEvent({type:"columnPivotModeChanged"})}isPivotActive(){const e=this.beans.pivotColsSvc?.columns;return this.pivotMode&&!!e?.length}recreateColumnDefs(e){if(!this.cols)return;this.beans.autoColSvc?.updateColumns(e);const t=ss(e.source);this.createColsFromColDefs(t)}setColumnDefs(e,t){this.colDefs=e,this.createColsFromColDefs(t)}destroy(){rc(this.beans,this.colDefCols?.tree),super.destroy()}getColTree(){return this.cols?.tree??[]}getColDefColTree(){return this.colDefCols?.tree??[]}getColDefCols(){return this.colDefCols?.list??null}getCols(){return this.cols?.list??[]}forAllCols(e){const{pivotResultCols:t,autoColSvc:r,selectionColSvc:n,groupHierarchyColSvc:i}=this.beans;Bs(this.colDefCols?.list,e),Bs(r?.columns?.list,e),Bs(n?.columns?.list,e),Bs(i?.columns?.list,e),Bs(t?.getPivotResultCols()?.list,e)}getColsForKeys(e){return e?e.map(t=>this.getCol(t)).filter(t=>t!=null):[]}getColDefCol(e){return this.colDefCols?.list?this.getColFromCollection(e,this.colDefCols):null}getCol(e){return e==null?null:this.getColFromCollection(e,this.cols)}getColById(e){return this.cols?.map[e]??null}getColFromCollection(e,t){if(t==null)return null;const{map:r,list:n}=t;if(typeof e=="string"&&r[e])return r[e];for(let a=0;a<n.length;a++)if(na(n[a],e))return n[a];const{autoColSvc:i,selectionColSvc:o,groupHierarchyColSvc:s}=this.beans;return i?.getColumn(e)??o?.getColumn(e)??s?.getColumn(e)??null}},g1=class{constructor(){this.existingIds={}}getInstanceIdForKey(e){const t=this.existingIds[e];let r;return typeof t!="number"?r=0:r=t+1,this.existingIds[e]=r,r}},Ds=class extends ve{};function Na(e,t,r){return r&&e.addDestroyFunc(()=>t.destroyBean(r)),r??e}var Ve=null;function cm(e){return typeof e?.getGui=="function"}var Oa=class{constructor(e){this.cssClassStates={},this.getGui=e}toggleCss(e,t){if(!e)return;if(e.indexOf(" ")>=0){const n=(e||"").split(" ");if(n.length>1){for(const i of n)this.toggleCss(i,t);return}}this.cssClassStates[e]!==t&&e.length&&(this.getGui()?.classList.toggle(e,t),this.cssClassStates[e]=t)}},f4=0,Ha=class extends In{constructor(e,t){super(),this.suppressDataRefValidation=!1,this.displayed=!0,this.visible=!0,this.compId=f4++,this.cssManager=new Oa(()=>this.eGui),this.componentSelectors=new Map((t??[]).map(r=>[r.selector,r])),e&&this.setTemplate(e)}preConstruct(){this.wireTemplate(this.getGui());const e="component-"+Object.getPrototypeOf(this)?.constructor?.name;for(const t of this.css??[])this.beans.environment.addGlobalCSS(t,e)}wireTemplate(e,t){e&&this.gos&&(this.applyElementsToComponent(e),this.createChildComponentsFromTags(e,t))}getCompId(){return this.compId}getDataRefAttribute(e){return e.getAttribute?e.getAttribute(Pw):null}applyElementsToComponent(e,t,r,n=null){if(t===void 0&&(t=this.getDataRefAttribute(e)),t){const i=this[t];if(i===Ve)this[t]=n??e;else{const o=r?.[t];if(!this.suppressDataRefValidation&&!o)throw new Error(`data-ref: ${t} on ${this.constructor.name} with ${i}`)}}}createChildComponentsFromTags(e,t){const r=[];for(const n of e.childNodes??[])r.push(n);for(const n of r){if(!(n instanceof HTMLElement))continue;const i=this.createComponentFromElement(n,o=>{const s=o.getGui();if(s)for(const a of n.attributes??[])s.setAttribute(a.name,a.value)},t);if(i){if(i.addItems&&n.children.length){this.createChildComponentsFromTags(n,t);const o=Array.prototype.slice.call(n.children);i.addItems(o)}this.swapComponentForNode(i,e,n)}else n.childNodes&&this.createChildComponentsFromTags(n,t)}}createComponentFromElement(e,t,r){const n=e.nodeName,i=this.getDataRefAttribute(e),o=n.indexOf("AG-")===0,s=o?this.componentSelectors.get(n):null;let a=null;if(s){const l=r&&i?r[i]:void 0;a=new s.component(l),a.setParentComponent(this),this.createBean(a,null,t)}else if(o)throw new Error(`selector: ${n}`);return this.applyElementsToComponent(e,i,r,a),a}swapComponentForNode(e,t,r){const n=e.getGui();t.replaceChild(n,r),t.insertBefore(document.createComment(r.nodeName),n),this.addDestroyFunc(this.destroyBean.bind(this,e))}activateTabIndex(e){const t=this.gos.get("tabIndex");e||(e=[]),e.length||e.push(this.getGui());for(const r of e)r.setAttribute("tabindex",t.toString())}setTemplate(e,t,r){let n;typeof e=="string"||e==null?n=Zf(e):n=La(e),this.setTemplateFromElement(n,t,r)}setTemplateFromElement(e,t,r,n=!1){if(this.eGui=e,this.suppressDataRefValidation=n,t)for(let i=0;i<t.length;i++){const o=t[i];this.componentSelectors.set(o.selector,o)}this.wireTemplate(e,r)}getGui(){return this.eGui}getFocusableElement(){return this.eGui}getAriaElement(){return this.getFocusableElement()}setParentComponent(e){this.parentComponent=e}getParentComponent(){return this.parentComponent}setGui(e){this.eGui=e}queryForHtmlElement(e){return this.eGui.querySelector(e)}getContainerAndElement(e,t){let r=t;return e==null?null:(r||(r=this.eGui),ep(e)?{element:e,parent:r}:{element:e.getGui(),parent:r})}prependChild(e,t){const{element:r,parent:n}=this.getContainerAndElement(e,t)||{};!r||!n||n.insertAdjacentElement("afterbegin",r)}appendChild(e,t){const{element:r,parent:n}=this.getContainerAndElement(e,t)||{};!r||!n||n.appendChild(r)}isDisplayed(){return this.displayed}setVisible(e,t={}){if(e!==this.visible){this.visible=e;const{skipAriaHidden:r}=t;K_(this.eGui,e,{skipAriaHidden:r})}}setDisplayed(e,t={}){if(e!==this.displayed){this.displayed=e;const{skipAriaHidden:r}=t;Kt(this.eGui,e,{skipAriaHidden:r});const n={type:"displayChanged",visible:this.displayed};this.dispatchLocalEvent(n)}}destroy(){this.parentComponent&&(this.parentComponent=void 0),super.destroy()}addGuiEventListener(e,t,r){this.eGui.addEventListener(e,t,r),this.addDestroyFunc(()=>this.eGui.removeEventListener(e,t))}addCss(e){this.cssManager.toggleCss(e,!0)}removeCss(e){this.cssManager.toggleCss(e,!1)}toggleCss(e,t){this.cssManager.toggleCss(e,t)}registerCSS(e){this.css||(this.css=[]),this.css.push(e)}},Xt=class extends Ha{};function m1(e){return typeof e=="object"&&!!e.component}function p4(e,t){return new Ct(r=>{r(window.setInterval(e,t))})}var Ct=class Js{constructor(t){this.status=0,this.resolution=null,this.waiters=[],t(r=>this.onDone(r),r=>this.onReject(r))}static all(t){return t.length?new Js(r=>{let n=t.length;const i=new Array(n);t.forEach((o,s)=>{o.then(a=>{i[s]=a,n--,n===0&&r(i)})})}):Js.resolve()}static resolve(t=null){return new Js(r=>r(t))}then(t){return new Js(r=>{this.status===1?r(t(this.resolution)):this.waiters.push(n=>r(t(n)))})}onDone(t){this.status=1,this.resolution=t;for(const r of this.waiters)r(t)}onReject(t){}};function g4(e){return e?e.prototype&&"getGui"in e.prototype:!1}function b1(e,t,r,n){const{name:i}=r;let o,s,a,l,u,c;if(t){const f=t,d=f[i+"Selector"],h=d?d(n):null,g=m=>{typeof m=="string"?o=m:m!=null&&m!==!0&&(e.isFrameworkComponent(m)?a=m:s=m)};h?(g(h.component),l=h.params,u=h.popup,c=h.popupPosition):g(f[i])}return{compName:o,jsComp:s,fwComp:a,paramsFromSelector:l,popupFromSelector:u,popupPositionFromSelector:c}}var m4=class extends ve{constructor(){super(...arguments),this.beanName="userCompFactory"}wireBeans(e){this.agCompUtils=e.agCompUtils,this.registry=e.registry,this.frameworkCompWrapper=e.frameworkCompWrapper,this.gridOptions=e.gridOptions}getCompDetailsFromGridOptions(e,t,r,n=!1){return this.getCompDetails(this.gridOptions,e,t,r,n)}getCompDetails(e,t,r,n,i=!1){const{name:o,cellRenderer:s}=t;let{compName:a,jsComp:l,fwComp:u,paramsFromSelector:c,popupFromSelector:f,popupPositionFromSelector:d}=b1(this.beans.frameworkOverrides,e,t,n),h,g;const m=v=>{const F=this.registry.getUserComponent(o,v);F&&(l=F.componentFromFramework?void 0:F.component,u=F.componentFromFramework?F.component:void 0,h=F.params,g=F.processParams)};if(a!=null&&m(a),l==null&&u==null&&r!=null&&m(r),l&&s&&!g4(l)&&(l=this.agCompUtils?.adaptFunction(t,l)),!l&&!u){const{validation:v}=this.beans;i&&(a!==r||!r)?a?v?.isProvidedUserComp(a)||Ot(50,{compName:a}):r?v||Ot(260,{...this.gos.getModuleErrorParams(),propName:o,compName:r}):Ot(216,{name:o}):r&&!v&&Ot(146,{comp:r});return}const p=this.mergeParams(e,t,n,c,h,g),y=l==null,b=l??u;return{componentFromFramework:y,componentClass:b,params:p,type:t,popupFromSelector:f,popupPositionFromSelector:d,newAgStackInstance:()=>this.newAgStackInstance(b,y,p,t)}}newAgStackInstance(e,t,r,n){const i=!t;let o;i?o=new e:o=this.frameworkCompWrapper.wrap(e,n.mandatoryMethods,n.optionalMethods,n),this.createBean(o);const s=o.init?.(r);return s==null?Ct.resolve(o):s.then(()=>o)}mergeParams(e,t,r,n=null,i,o){const s={...r,...i},l=e?.[t.name+"Params"];if(typeof l=="function"){const u=l(r);Dr(s,u)}else typeof l=="object"&&Dr(s,l);return Dr(s,n),o?o(s):s}},b4={name:"dateComponent",mandatoryMethods:["getDate","setDate"],optionalMethods:["afterGuiAttached","setInputPlaceholder","setInputAriaLabel","setDisabled","refresh"]},y4={name:"dragAndDropImageComponent",mandatoryMethods:["setIcon","setLabel"]},v4={name:"headerComponent",optionalMethods:["refresh"]},w4={name:"innerHeaderComponent"},C4={name:"innerHeaderGroupComponent"},F4={name:"headerGroupComponent"},S4={name:"cellRenderer",optionalMethods:["refresh","afterGuiAttached"],cellRenderer:!0},x4={name:"loadingCellRenderer",cellRenderer:!0},k4={name:"cellEditor",mandatoryMethods:["getValue"],optionalMethods:["isPopup","isCancelBeforeStart","isCancelAfterEnd","getPopupPosition","focusIn","focusOut","afterGuiAttached","refresh"]},E4={name:"loadingOverlayComponent",optionalMethods:["refresh"]},R4={name:"noRowsOverlayComponent",optionalMethods:["refresh"]},_4={name:"tooltipComponent"},lp={name:"filter",mandatoryMethods:["isFilterActive","doesFilterPass","getModel","setModel"],optionalMethods:["afterGuiAttached","afterGuiDetached","onNewRowsLoaded","getModelAsString","onFloatingFilterChanged","onAnyFilterChanged","refresh"]},A4={name:"floatingFilterComponent",mandatoryMethods:["onParentModelChanged"],optionalMethods:["afterGuiAttached","refresh"]},T4={name:"fullWidthCellRenderer",optionalMethods:["refresh","afterGuiAttached"],cellRenderer:!0},D4={name:"loadingCellRenderer",cellRenderer:!0},M4={name:"groupRowRenderer",optionalMethods:["afterGuiAttached"],cellRenderer:!0},P4={name:"detailCellRenderer",optionalMethods:["refresh"],cellRenderer:!0};function I4(e,t){return e.getCompDetailsFromGridOptions(y4,"agDragAndDropImage",t,!0)}function B4(e,t,r){return e.getCompDetails(t,v4,"agColumnHeader",r)}function L4(e,t,r){return e.getCompDetails(t,w4,void 0,r)}function N4(e,t){const r=t.columnGroup.getColGroupDef();return e.getCompDetails(r,F4,"agColumnGroupHeader",t)}function O4(e,t,r){return e.getCompDetails(t,C4,void 0,r)}function H4(e,t){return e.getCompDetailsFromGridOptions(T4,void 0,t,!0)}function G4(e,t){return e.getCompDetailsFromGridOptions(D4,"agLoadingCellRenderer",t,!0)}function j4(e,t){return e.getCompDetailsFromGridOptions(M4,"agGroupRowRenderer",t,!0)}function z4(e,t){return e.getCompDetailsFromGridOptions(P4,"agDetailCellRenderer",t,!0)}function dm(e,t,r){return e.getCompDetails(t,S4,void 0,r)}function hm(e,t,r){return e.getCompDetails(t,x4,"agSkeletonCellRenderer",r,!0)}function y1(e,t,r){return e.getCompDetails(t,k4,"agCellEditor",r,!0)}function V4(e,t,r,n){const i=t.filter;return m1(i)&&(t={filter:i.component,filterParams:t.filterParams}),e.getCompDetails(t,lp,n,r,!0)}function W4(e,t,r){return e.getCompDetails(t,b4,"agDateInput",r,!0)}function $4(e,t){return e.getCompDetailsFromGridOptions(E4,"agLoadingOverlay",t,!0)}function U4(e,t){return e.getCompDetailsFromGridOptions(R4,"agNoRowsOverlay",t,!0)}function K4(e,t){return e.getCompDetails(t.colDef,_4,"agTooltipComponent",t,!0)}function q4(e,t,r,n){return e.getCompDetails(t,A4,n,r)}function v1(e,t){return b1(e,t,lp)}function yd(e,t,r){return e.mergeParams(t,lp,r)}function wa(e){const t=e;return t?.getFrameworkComponentInstance!=null?t.getFrameworkComponentInstance():e}function J4(e){return typeof e=="object"&&!!e.getComp}var me={BACKSPACE:"Backspace",TAB:"Tab",ENTER:"Enter",ESCAPE:"Escape",SPACE:" ",LEFT:"ArrowLeft",UP:"ArrowUp",RIGHT:"ArrowRight",DOWN:"ArrowDown",DELETE:"Delete",F2:"F2",PAGE_UP:"PageUp",PAGE_DOWN:"PageDown",PAGE_HOME:"Home",PAGE_END:"End",A:"KeyA",C:"KeyC",D:"KeyD",V:"KeyV",X:"KeyX",Y:"KeyY",Z:"KeyZ"},up=class extends Ha{isPopup(){return!0}setParentComponent(e){e.addCss("ag-has-popup"),super.setParentComponent(e)}destroy(){const e=this.parentComponent;e?.isAlive()&&e.getGui().classList.remove("ag-has-popup"),super.destroy()}},vd,wd,Cd,Fd,Gh,jh,Sd;function Bi(){return vd===void 0&&(vd=/^((?!chrome|android).)*safari/i.test(navigator.userAgent)),vd}function w1(){return wd===void 0&&(wd=/(firefox)/i.test(navigator.userAgent)),wd}function C1(){return Cd===void 0&&(Cd=/(Mac|iPhone|iPod|iPad)/i.test(navigator.platform)),Cd}function lo(){return Fd===void 0&&(Fd=/iPad|iPhone|iPod/.test(navigator.platform)||navigator.platform==="MacIntel"&&navigator.maxTouchPoints>1),Fd}function zh(e){if(!e)return null;const t=e.tabIndex,r=e.getAttribute("tabIndex");return t===-1&&(r===null||r===""&&!w1())?null:t.toString()}function Y4(){if(Sd!==void 0)return Sd;if(!document.body)return-1;let e=1e6;const t=w1()?6e6:1e9,r=document.createElement("div");for(document.body.appendChild(r);;){const n=e*2;if(r.style.height=n+"px",n>t||r.clientHeight!==n)break;e=n}return r.remove(),Sd=e,e}function Z4(){return jh==null&&F1(),jh}function F1(){const e=document.body,t=document.createElement("div");t.style.width=t.style.height="100px",t.style.opacity="0",t.style.overflow="scroll",t.style.msOverflowStyle="scrollbar",t.style.position="absolute",e.appendChild(t);let r=t.offsetWidth-t.clientWidth;r===0&&t.clientWidth===0&&(r=null),t.parentNode&&t.remove(),r!=null&&(jh=r,Gh=r===0)}function S1(){return Gh==null&&F1(),Gh}var cp="T",X4=new RegExp(`[${cp} ]`),Q4=new RegExp(`^\\d{4}-\\d{2}-\\d{2}(${cp}\\d{2}:\\d{2}:\\d{2}\\D?)?`);function Sn(e,t){return e.toString().padStart(t,"0")}function Jr(e,t=!0,r=cp){if(!e)return null;let n=[e.getFullYear(),e.getMonth()+1,e.getDate()].map(i=>Sn(i,2)).join("-");return t&&(n+=r+[e.getHours(),e.getMinutes(),e.getSeconds()].map(i=>Sn(i,2)).join(":")),n}function al(e,t=!0){return e?t?[String(e.getFullYear()),String(e.getMonth()+1),Sn(e.getDate(),2),Sn(e.getHours(),2),`:${Sn(e.getMinutes(),2)}`,`:${Sn(e.getSeconds(),2)}`]:[e.getFullYear(),e.getMonth()+1,Sn(e.getDate(),2)].map(String):null}var xd=e=>{if(e>3&&e<21)return"th";switch(e%10){case 1:return"st";case 2:return"nd";case 3:return"rd"}return"th"},fm=["January","February","March","April","May","June","July","August","September","October","November","December"],kd=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"];function Vh(e,t){if(t==null)return Jr(e,!1);const r=Sn(e.getFullYear(),4),n={YYYY:()=>r.slice(r.length-4,r.length),YY:()=>r.slice(r.length-2,r.length),Y:()=>`${e.getFullYear()}`,MMMM:()=>fm[e.getMonth()],MMM:()=>fm[e.getMonth()].slice(0,3),MM:()=>Sn(e.getMonth()+1,2),Mo:()=>`${e.getMonth()+1}${xd(e.getMonth()+1)}`,M:()=>`${e.getMonth()+1}`,Do:()=>`${e.getDate()}${xd(e.getDate())}`,DD:()=>Sn(e.getDate(),2),D:()=>`${e.getDate()}`,dddd:()=>kd[e.getDay()],ddd:()=>kd[e.getDay()].slice(0,3),dd:()=>kd[e.getDay()].slice(0,2),do:()=>`${e.getDay()}${xd(e.getDay())}`,d:()=>`${e.getDay()}`},i=new RegExp(Object.keys(n).join("|"),"g");return t.replace(i,o=>o in n?n[o]():o)}function pu(e,t=!1){return!!Vr(e,t)}function eT(e){return pu(e,!0)}function Vr(e,t=!1,r){if(!e||!r&&!Q4.test(e))return null;const[n,i]=e.split(X4);if(!n)return null;const o=n.split("-").map(h=>Number.parseInt(h,10));if(o.filter(h=>!isNaN(h)).length!==3)return null;const[s,a,l]=o,u=new Date(s,a-1,l);if(u.getFullYear()!==s||u.getMonth()!==a-1||u.getDate()!==l||!i&&t)return null;if(!i||i==="00:00:00")return u;const[c,f,d]=i.split(":").map(h=>Number.parseInt(h,10));if(c>=0&&c<24)u.setHours(c);else if(t)return null;if(f>=0&&f<60)u.setMinutes(f);else if(t)return null;if(d>=0&&d<60)u.setSeconds(d);else if(t)return null;return u}function Wh(e){const{inputValue:t,allSuggestions:r,hideIrrelevant:n,filterByPercentageOfBestMatch:i}=e;let o=(r??[]).map((l,u)=>({value:l,relevance:tT(t,l),idx:u}));if(o.sort((l,u)=>l.relevance-u.relevance),n&&(o=o.filter(l=>l.relevance<Math.max(l.value.length,t.length))),o.length>0&&i&&i>0){const u=o[0].relevance*i;o=o.filter(c=>u-c.relevance<0)}const s=[],a=[];for(const l of o)s.push(l.value),a.push(l.idx);return{values:s,indices:a}}function tT(e,t){e.length<t.length&&([e,t]=[t,e]);let r=[],n=[];const i=e.length,o=t.length;for(let a=0;a<=o;a++)r[a]=a;let s=0;for(let a=1;a<=i;a++){n[0]=a;for(let l=1;l<=o;l++){const u=e[a-1],c=t[l-1];if(u.toLocaleLowerCase()===c.toLocaleLowerCase())++s,u===c&&++s,a>1&&l>1&&e[a-2].toLocaleLowerCase()===t[l-2].toLocaleLowerCase()&&(++s,e[a-2]===t[l-2]&&++s),a<i/2-10&&++s,n[l]=r[l-1];else{const f=n[l-1],d=r[l],h=r[l-1];n[l]=1+Math.min(f,d,h)}}[r,n]=[n,r]}return r[o]/(s+1)}function x1(e){return e.altKey||e.ctrlKey||e.metaKey?!1:e.key?.length===1}var $h=!1,oc=0;function rT(e){oc>0||(e.addEventListener("keydown",sc),e.addEventListener("mousedown",sc))}function nT(e){oc>0||(e.removeEventListener("keydown",sc),e.removeEventListener("mousedown",sc))}function sc(e){const t=$h,r=e.type==="keydown";r&&(e.ctrlKey||e.metaKey||e.altKey)||t!==r&&($h=r)}function iT(e){const t=fr(e);return rT(t),oc++,()=>{oc--,nT(t)}}function oT(){return $h}function as(e,t,r=!1){const n=U_;let i=_w;t&&(i+=", "+t),r&&(i+=', [tabindex="-1"]');const o=Array.prototype.slice.apply(e.querySelectorAll(n)).filter(l=>ni(l)),s=Array.prototype.slice.apply(e.querySelectorAll(i));return s.length?((l,u)=>l.filter(c=>u.indexOf(c)===-1))(o,s):o}function vo(e,t=!1,r=!1,n=!1){const i=as(e,n?".ag-tab-guard":null,r),o=t?Gt(i):i[0];return o?(o.focus({preventScroll:!0}),!0):!1}function _o(e,t,r,n){const i=as(t,r?':not([tabindex="-1"])':null),o=qt(e);let s;r?s=i.findIndex(l=>l.contains(o)):s=i.indexOf(o);const a=s+(n?-1:1);return a<0||a>=i.length?null:i[a]}function k1(e,t=5){let r=0;for(;e&&zh(e)===null&&++r<=t;)e=e.parentElement;return zh(e)===null?null:e}var sT=".ag-label{white-space:nowrap}:where(.ag-ltr) .ag-label{margin-right:var(--ag-spacing)}:where(.ag-rtl) .ag-label{margin-left:var(--ag-spacing)}:where(.ag-label-align-right) .ag-label{order:1}:where(.ag-ltr) :where(.ag-label-align-right) .ag-label{margin-left:var(--ag-spacing)}:where(.ag-rtl) :where(.ag-label-align-right) .ag-label{margin-right:var(--ag-spacing)}.ag-label-align-right>*{flex:none}.ag-label-align-top{align-items:flex-start;flex-direction:column;>*{align-self:stretch}}.ag-label-ellipsis{flex:1;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}:where(.ag-label-align-top) .ag-label{margin-bottom:calc(var(--ag-spacing)*.5)}",aT=class extends Ha{constructor(e,t,r){super(t,r),this.labelSeparator="",this.labelAlignment="left",this.disabled=!1,this.label="",this.config=e||{},this.registerCSS(sT)}postConstruct(){this.addCss("ag-labeled"),this.eLabel.classList.add("ag-label");const{labelSeparator:e,label:t,labelWidth:r,labelAlignment:n,disabled:i}=this.config;i!=null&&this.setDisabled(i),e!=null&&this.setLabelSeparator(e),t!=null&&this.setLabel(t),r!=null&&this.setLabelWidth(r),this.setLabelAlignment(n||this.labelAlignment),this.refreshLabel()}refreshLabel(){const{label:e,eLabel:t}=this;zr(t),typeof e=="string"?t.innerText=e+this.labelSeparator:e&&t.appendChild(e),e===""?(Kt(t,!1),mo(t,"presentation")):(Kt(t,!0),mo(t,null))}setLabelSeparator(e){return this.labelSeparator===e?this:(this.labelSeparator=e,this.label!=null&&this.refreshLabel(),this)}getLabelId(){const e=this.eLabel;return e.id=e.id||`ag-${this.getCompId()}-label`,e.id}getLabel(){return this.label}setLabel(e){return this.label===e?this:(this.label=e,this.refreshLabel(),this)}setLabelAlignment(e){const r=this.getGui().classList;return r.toggle("ag-label-align-left",e==="left"),r.toggle("ag-label-align-right",e==="right"),r.toggle("ag-label-align-top",e==="top"),this}setLabelEllipsis(e){return this.eLabel.classList.toggle("ag-label-ellipsis",e),this}setLabelWidth(e){return this.label==null?this:(Ju(this.eLabel,e),this)}setDisabled(e){e=!!e;const t=this.getGui();return ga(t,e),t.classList.toggle("ag-disabled",e),this.disabled=e,this}isDisabled(){return!!this.disabled}},E1=class extends aT{constructor(e,t,r,n){super(e,t,r),this.className=n}postConstruct(){super.postConstruct();const{width:e,value:t,onValueChange:r}=this.config;e!=null&&this.setWidth(e),t!=null&&this.setValue(t),r!=null&&this.onValueChange(r),this.className&&this.addCss(this.className),this.refreshAriaLabelledBy()}setLabel(e){return super.setLabel(e),this.refreshAriaLabelledBy(),this}refreshAriaLabelledBy(){const e=this.getAriaElement(),t=this.getLabelId(),r=this.getLabel();r==null||r==""||D_(e)!==null?pa(e,""):pa(e,t??"")}setAriaLabel(e){return bs(this.getAriaElement(),e),this.refreshAriaLabelledBy(),this}onValueChange(e){return this.addManagedListeners(this,{fieldValueChanged:()=>e(this.getValue())}),this}getWidth(){return this.getGui().clientWidth}setWidth(e){return _n(this.getGui(),e),this}getPreviousValue(){return this.previousValue}getValue(){return this.value}setValue(e,t){return this.value===e?this:(this.previousValue=this.value,this.value=e,t||this.dispatchLocalEvent({type:"fieldValueChanged"}),this)}};function lT(e){return{tag:"div",role:"presentation",children:[{tag:"div",ref:"eLabel",cls:"ag-input-field-label"},{tag:"div",ref:"eWrapper",cls:"ag-wrapper ag-input-wrapper",role:"presentation",children:[{tag:e,ref:"eInput",cls:"ag-input-field-input"}]}]}}var eo=class extends E1{constructor(e,t,r="text",n="input"){super(e,e?.template??lT(n),[],t),this.inputType=r,this.displayFieldTag=n,this.eLabel=Ve,this.eWrapper=Ve,this.eInput=Ve}postConstruct(){super.postConstruct(),this.setInputType(this.inputType);const{eLabel:e,eWrapper:t,eInput:r,className:n}=this;e.classList.add(`${n}-label`),t.classList.add(`${n}-input-wrapper`),r.classList.add(`${n}-input`),this.addCss("ag-input-field"),r.id=r.id||`ag-${this.getCompId()}-input`;const{inputName:i,inputWidth:o}=this.config;i!=null&&this.setInputName(i),o!=null&&this.setInputWidth(o),this.addInputListeners(),this.activateTabIndex([r])}addInputListeners(){this.addManagedElementListeners(this.eInput,{input:e=>this.setValue(e.target.value)})}setInputType(e){this.displayFieldTag==="input"&&(this.inputType=e,Kr(this.eInput,"type",e))}getInputElement(){return this.eInput}setInputWidth(e){return Ju(this.eWrapper,e),this}setInputName(e){return this.getInputElement().setAttribute("name",e),this}getFocusableElement(){return this.eInput}setMaxLength(e){const t=this.eInput;return t.maxLength=e,this}setInputPlaceholder(e){return Kr(this.eInput,"placeholder",e),this}setInputAriaLabel(e){return bs(this.eInput,e),this.refreshAriaLabelledBy(),this}setDisabled(e){return ga(this.eInput,e),super.setDisabled(e)}setAutoComplete(e){if(e===!0)Kr(this.eInput,"autocomplete",null);else{const t=typeof e=="string"?e:"off";Kr(this.eInput,"autocomplete",t)}return this}},dp=class extends eo{constructor(e,t="ag-checkbox",r="checkbox"){super(e,t,r),this.labelAlignment="right",this.selected=!1,this.readOnly=!1,this.passive=!1}postConstruct(){super.postConstruct();const{readOnly:e,passive:t}=this.config;typeof e=="boolean"&&this.setReadOnly(e),typeof t=="boolean"&&this.setPassive(t)}addInputListeners(){this.addManagedElementListeners(this.eInput,{click:this.onCheckboxClick.bind(this)}),this.addManagedElementListeners(this.eLabel,{click:this.toggle.bind(this)})}getNextValue(){return this.selected===void 0?!0:!this.selected}setPassive(e){this.passive=e}isReadOnly(){return this.readOnly}setReadOnly(e){this.eWrapper.classList.toggle("ag-disabled",e),this.eInput.disabled=e,this.readOnly=e}setDisabled(e){return this.eWrapper.classList.toggle("ag-disabled",e),super.setDisabled(e)}toggle(){if(this.eInput.disabled)return;const e=this.isSelected(),t=this.getNextValue();this.passive?this.dispatchChange(t,e):this.setValue(t)}getValue(){return this.isSelected()}setValue(e,t){return this.refreshSelectedClass(e),this.setSelected(e,t),this}setName(e){const t=this.getInputElement();return t.name=e,this}isSelected(){return this.selected}setSelected(e,t){if(this.isSelected()===e)return;this.previousValue=this.isSelected(),e=this.selected=typeof e=="boolean"?e:void 0;const r=this.eInput;r.checked=e,r.indeterminate=e===void 0,t||this.dispatchChange(this.selected,this.previousValue)}dispatchChange(e,t,r){this.dispatchLocalEvent({type:"fieldValueChanged",selected:e,previousValue:t,event:r});const n=this.getInputElement();this.eventSvc.dispatchEvent({type:"checkboxChanged",id:n.id,name:n.name,selected:e,previousValue:t})}onCheckboxClick(e){if(this.passive||this.eInput.disabled)return;const t=this.isSelected(),r=this.selected=e.target.checked;this.refreshSelectedClass(r),this.dispatchChange(r,t,e)}refreshSelectedClass(e){const t=this.eWrapper.classList;t.toggle("ag-checked",e===!0),t.toggle("ag-indeterminate",e==null)}},hp={selector:"AG-CHECKBOX",component:dp},uT=class extends dp{constructor(e){super(e,"ag-radio-button","radio")}isSelected(){return this.eInput.checked}toggle(){this.eInput.disabled||this.isSelected()||this.setValue(!0)}addInputListeners(){super.addInputListeners(),this.addManagedEventListeners({checkboxChanged:this.onChange.bind(this)})}onChange(e){const t=this.eInput;e.selected&&e.name&&t.name&&t.name===e.name&&e.id&&t.id!==e.id&&this.setValue(!1,!0)}},Ao=class extends eo{constructor(e,t="ag-text-field",r="text"){super(e,t,r)}postConstruct(){super.postConstruct(),this.config.allowedCharPattern&&this.preventDisallowedCharacters()}setValue(e,t){const r=this.eInput;return r.value!==e&&(r.value=Le(e)?e:""),super.setValue(e,t)}setStartValue(e){this.setValue(e,!0)}preventDisallowedCharacters(){const e=new RegExp(`[${this.config.allowedCharPattern}]`),t=r=>{x1(r)&&r.key&&!e.test(r.key)&&r.preventDefault()};this.addManagedListeners(this.eInput,{keydown:t,paste:r=>{r.clipboardData?.getData("text")?.split("").some(i=>!e.test(i))&&r.preventDefault()}})}},Lc={selector:"AG-INPUT-TEXT-FIELD",component:Ao},cT=class extends eo{constructor(e){super(e,"ag-text-area",null,"textarea")}setValue(e,t){const r=super.setValue(e,t);return this.eInput.value=e,r}setCols(e){return this.eInput.cols=e,this}setRows(e){return this.eInput.rows=e,this}},dT={selector:"AG-INPUT-TEXT-AREA",component:cT},fp=class extends Ao{constructor(e){super(e,"ag-number-field","number")}postConstruct(){super.postConstruct();const e=this.eInput;this.addManagedListeners(e,{blur:()=>{const o=Number.parseFloat(e.value),s=isNaN(o)?"":this.normalizeValue(o.toString());this.value!==s&&this.setValue(s)},wheel:this.onWheel.bind(this)}),e.step="any";const{precision:t,min:r,max:n,step:i}=this.config;typeof t=="number"&&this.setPrecision(t),typeof r=="number"&&this.setMin(r),typeof n=="number"&&this.setMax(n),typeof i=="number"&&this.setStep(i)}onWheel(e){qt(this.beans)===this.eInput&&e.preventDefault()}normalizeValue(e){return e===""?"":(this.precision!=null&&(e=this.adjustPrecision(e)),e)}adjustPrecision(e,t){const r=this.precision;if(r==null)return e;if(t){const i=Number.parseFloat(e).toFixed(r);return Number.parseFloat(i).toString()}const n=String(e).split(".");if(n.length>1){if(n[1].length<=r)return e;if(r>0)return`${n[0]}.${n[1].slice(0,r)}`}return n[0]}setMin(e){return this.min===e?this:(this.min=e,Kr(this.eInput,"min",e),this)}setMax(e){return this.max===e?this:(this.max=e,Kr(this.eInput,"max",e),this)}setPrecision(e){return this.precision=e,this}setStep(e){return this.step===e?this:(this.step=e,Kr(this.eInput,"step",e),this)}setValue(e,t){return this.setValueOrInputValue(r=>super.setValue(r,t),()=>this,e)}setStartValue(e){return this.setValueOrInputValue(t=>super.setValue(t,!0),t=>{this.eInput.value=t},e)}setValueOrInputValue(e,t,r){if(Le(r)){let n=this.isScientificNotation(r);if(n&&this.eInput.validity.valid)return e(r);if(!n){r=this.adjustPrecision(r);const i=this.normalizeValue(r);n=r!=i}if(n)return t(r)}return e(r)}getValue(){const e=this.eInput;if(!e.validity.valid)return;const t=e.value;return this.isScientificNotation(t)?this.adjustPrecision(t,!0):super.getValue()}isScientificNotation(e){return typeof e=="string"&&e.includes("e")}},hT={selector:"AG-INPUT-NUMBER-FIELD",component:fp},fT=class extends Ao{constructor(e){super(e,"ag-date-field","date")}postConstruct(){super.postConstruct();const e=Bi();this.addManagedListeners(this.eInput,{wheel:this.onWheel.bind(this),mousedown:()=>{this.isDisabled()||e||this.eInput.focus()}}),this.eInput.step="any"}onWheel(e){qt(this.beans)===this.eInput&&e.preventDefault()}setMin(e){const t=e instanceof Date?Jr(e??null,!!this.includeTime)??void 0:e;return this.min===t?this:(this.min=t,Kr(this.eInput,"min",t),this)}setMax(e){const t=e instanceof Date?Jr(e??null,!!this.includeTime)??void 0:e;return this.max===t?this:(this.max=t,Kr(this.eInput,"max",t),this)}setStep(e){return this.step===e?this:(this.step=e,Kr(this.eInput,"step",e),this)}setIncludeTime(e){return this.includeTime===e?this:(this.includeTime=e,super.setInputType(e?"datetime-local":"date"),e&&this.setStep(1),this)}getDate(){if(this.eInput.validity.valid)return Vr(this.getValue())??void 0}setDate(e,t){this.setValue(Jr(e??null,this.includeTime),t)}},R1={selector:"AG-INPUT-DATE-FIELD",component:fT},pT=".ag-list-item{align-items:center;display:flex;height:var(--ag-list-item-height);overflow:hidden;text-overflow:ellipsis;white-space:nowrap;&.ag-active-item{background-color:var(--ag-row-hover-color)}}",gT="ag-active-item",mT=(e,t)=>({tag:"div",cls:`ag-list-item ag-${e}-list-item`,attrs:{role:"option"},children:[{tag:"span",ref:"eText",children:t}]}),bT=class extends Ha{constructor(e,t,r){super(mT(e,t)),this.label=t,this.value=r,this.eText=Ve}postConstruct(){this.createTooltip(),this.addEventListeners()}setHighlighted(e){const t=this.getGui();t.classList.toggle(gT,e),Rw(t,e),this.dispatchLocalEvent({type:"itemHighlighted",highlighted:e})}getHeight(){return this.getGui().clientHeight}setIndex(e,t){const r=this.getGui();N_(r,e),L_(r,t)}createTooltip(){const e={getTooltipValue:()=>this.label,getGui:()=>this.getGui(),getLocation:()=>"UNKNOWN",shouldDisplayTooltip:()=>Xf(this.eText)},t=this.createOptionalManagedBean(this.beans.registry.createDynamicBean("highlightTooltipFeature",!1,e,this));t&&(this.tooltipFeature=t)}addEventListeners(){const e=this.getParentComponent();e&&(this.addGuiEventListener("mouseover",()=>{e.highlightItem(this)}),this.addGuiEventListener("mousedown",t=>{t.preventDefault(),t.stopPropagation(),e.setValue(this.value)}))}},yT=class extends Ha{constructor(e="default"){super({tag:"div",cls:`ag-list ag-${e}-list`}),this.cssIdentifier=e,this.options=[],this.listItems=[],this.highlightedItem=null,this.registerCSS(pT)}postConstruct(){const e=this.getGui();this.addManagedElementListeners(e,{mouseleave:()=>this.clearHighlighted()})}handleKeyDown(e){const t=e.key;switch(t){case me.ENTER:if(!this.highlightedItem)this.setValue(this.getValue());else{const r=this.listItems.indexOf(this.highlightedItem);this.setValueByIndex(r)}break;case me.DOWN:case me.UP:e.preventDefault(),this.navigate(t);break;case me.PAGE_DOWN:case me.PAGE_UP:case me.PAGE_HOME:case me.PAGE_END:e.preventDefault(),this.navigateToPage(t);break}}addOptions(e){for(const t of e)this.addOption(t);return this}addOption(e){const{value:t,text:r}=e,n=r??t;return this.options.push({value:t,text:n}),this.renderOption(t,n),this.updateIndices(),this}clearOptions(){this.options=[],this.reset(!0);for(const e of this.listItems)e.destroy();zr(this.getGui()),this.listItems=[],this.refreshAriaRole()}setValue(e,t){if(this.value===e)return this.fireItemSelected(),this;if(e==null)return this.reset(t),this;const r=this.options.findIndex(n=>n.value===e);if(r!==-1){const n=this.options[r];this.value=n.value,this.displayValue=n.text,this.highlightItem(this.listItems[r]),t||this.fireChangeEvent()}return this}setValueByIndex(e){return this.setValue(this.options[e].value)}getValue(){return this.value}getDisplayValue(){return this.displayValue}refreshHighlighted(){this.clearHighlighted();const e=this.options.findIndex(t=>t.value===this.value);e!==-1&&this.highlightItem(this.listItems[e])}highlightItem(e){const t=e.getGui();if(!ni(t))return;this.clearHighlighted(),e.setHighlighted(!0),this.highlightedItem=e;const r=this.getGui(),{scrollTop:n,clientHeight:i}=r,{offsetTop:o,offsetHeight:s}=t;(o+s>n+i||o<n)&&t.scrollIntoView({block:"nearest"})}hideItemTooltip(){this.highlightedItem?.tooltipFeature?.attemptToHideTooltip()}destroy(){this.hideItemTooltip(),super.destroy()}reset(e){this.value=null,this.displayValue=null,this.clearHighlighted(),e||this.fireChangeEvent()}clearHighlighted(){this.highlightedItem?.setHighlighted(!1),this.highlightedItem=null}renderOption(e,t){const r=new bT(this.cssIdentifier,t,e);r.setParentComponent(this);const n=this.createManagedBean(r);this.listItems.push(n),this.getGui().appendChild(n.getGui())}navigate(e){const t=e===me.DOWN;let r;const{listItems:n,highlightedItem:i}=this;if(!i)r=t?n[0]:Gt(n);else{let s=n.indexOf(i)+(t?1:-1);s=Math.min(Math.max(s,0),n.length-1),r=n[s]}this.highlightItem(r)}navigateToPage(e){const{listItems:t,highlightedItem:r}=this;if(!r||t.length===0)return;const n=t.indexOf(r),i=this.options.length-1,o=t[0].getHeight(),s=Math.floor(this.getGui().clientHeight/o);let a=-1;e===me.PAGE_HOME?a=0:e===me.PAGE_END?a=i:e===me.PAGE_DOWN?a=Math.min(n+s,i):e===me.PAGE_UP&&(a=Math.max(n-s,0)),a!==-1&&this.highlightItem(t[a])}refreshAriaRole(){mo(this.getGui(),this.options.length===0?"presentation":"listbox")}updateIndices(){this.refreshAriaRole();const e=this.listItems,t=e.length;e.forEach((r,n)=>{r.setIndex(n+1,t)})}fireChangeEvent(){this.dispatchLocalEvent({type:"fieldValueChanged"}),this.fireItemSelected()}fireItemSelected(){this.dispatchLocalEvent({type:"selectedItem"})}},vT=".ag-picker-field-display{flex:1 1 auto}.ag-picker-field{align-items:center;display:flex}.ag-picker-field-icon{border:0;cursor:pointer;display:flex;margin:0;padding:0}.ag-picker-field-wrapper{background-color:var(--ag-picker-button-background-color);border:var(--ag-picker-button-border);border-radius:5px;min-height:max(var(--ag-list-item-height),calc(var(--ag-spacing)*4));overflow:hidden;&:where(.ag-picker-has-focus),&:where(:focus-within){background-color:var(--ag-picker-button-focus-background-color);border:var(--ag-picker-button-focus-border);box-shadow:var(--ag-focus-shadow);&:where(.invalid){box-shadow:var(--ag-focus-error-shadow)}}&:where(.invalid){background-color:var(--ag-input-invalid-background-color);border:var(--ag-input-invalid-border);color:var(--ag-input-invalid-text-color)}&:disabled{opacity:.5}}",wT={tag:"div",cls:"ag-picker-field",role:"presentation",children:[{tag:"div",ref:"eLabel"},{tag:"div",ref:"eWrapper",cls:"ag-wrapper ag-picker-field-wrapper ag-picker-collapsed",children:[{tag:"div",ref:"eDisplayField",cls:"ag-picker-field-display"},{tag:"div",ref:"eIcon",cls:"ag-picker-field-icon",attrs:{"aria-hidden":"true"}}]}]},CT=class extends E1{constructor(e){if(super(e,e?.template||wT,e?.agComponents||[],e?.className),this.isPickerDisplayed=!1,this.skipClick=!1,this.pickerGap=4,this.hideCurrentPicker=null,this.eLabel=Ve,this.eWrapper=Ve,this.eDisplayField=Ve,this.eIcon=Ve,this.registerCSS(vT),this.ariaRole=e?.ariaRole,this.onPickerFocusIn=this.onPickerFocusIn.bind(this),this.onPickerFocusOut=this.onPickerFocusOut.bind(this),!e)return;const{pickerGap:t,maxPickerHeight:r,variableWidth:n,minPickerWidth:i,maxPickerWidth:o}=e;t!=null&&(this.pickerGap=t),this.variableWidth=!!n,r!=null&&this.setPickerMaxHeight(r),i!=null&&this.setPickerMinWidth(i),o!=null&&this.setPickerMaxWidth(o)}postConstruct(){super.postConstruct(),this.setupAria();const e=`ag-${this.getCompId()}-display`;this.eDisplayField.setAttribute("id",e);const t=this.getAriaElement();this.addManagedElementListeners(t,{keydown:this.onKeyDown.bind(this)}),this.addManagedElementListeners(this.eLabel,{mousedown:this.onLabelOrWrapperMouseDown.bind(this)}),this.addManagedElementListeners(this.eWrapper,{mousedown:this.onLabelOrWrapperMouseDown.bind(this)});const{pickerIcon:r,inputWidth:n}=this.config;if(r){const i=this.beans.iconSvc.createIconNoSpan(r);i&&this.eIcon.appendChild(i)}n!=null&&this.setInputWidth(n)}setupAria(){const e=this.getAriaElement();e.setAttribute("tabindex",this.gos.get("tabIndex").toString()),Mh(e,!1),this.ariaRole&&mo(e,this.ariaRole)}onLabelOrWrapperMouseDown(e){if(e){const t=this.getFocusableElement();if(t!==this.eWrapper&&e?.target===t)return;e.preventDefault(),this.getFocusableElement().focus()}if(this.skipClick){this.skipClick=!1;return}this.isDisabled()||(this.isPickerDisplayed?this.hidePicker():this.showPicker())}onKeyDown(e){switch(e.key){case me.UP:case me.DOWN:case me.ENTER:case me.SPACE:e.preventDefault(),this.onLabelOrWrapperMouseDown();break;case me.ESCAPE:this.isPickerDisplayed&&(e.preventDefault(),e.stopPropagation(),this.hideCurrentPicker&&this.hideCurrentPicker());break}}showPicker(){this.isPickerDisplayed=!0,this.pickerComponent||(this.pickerComponent=this.createPickerComponent());const e=this.pickerComponent.getGui();e.addEventListener("focusin",this.onPickerFocusIn),e.addEventListener("focusout",this.onPickerFocusOut),this.hideCurrentPicker=this.renderAndPositionPicker(),this.toggleExpandedStyles(!0)}renderAndPositionPicker(){const e=this.pickerComponent.getGui();this.gos.get("suppressScrollWhenPopupsAreOpen")||([this.destroyMouseWheelFunc]=this.addManagedEventListeners({bodyScroll:()=>{this.hidePicker()}}));const t=this.getLocaleTextFunc(),{config:{pickerAriaLabelKey:r,pickerAriaLabelValue:n,modalPicker:i=!0},maxPickerHeight:o,minPickerWidth:s,maxPickerWidth:a,variableWidth:l,beans:u,eWrapper:c}=this,f={modal:i,eChild:e,closeOnEsc:!0,closedCallback:()=>{const m=vw(u);this.beforeHidePicker(),m&&this.isAlive()&&this.getFocusableElement().focus()},ariaLabel:t(r,n),anchorToElement:c};e.style.position="absolute";const d=u.popupSvc,h=d.addPopup(f);l?(s&&(e.style.minWidth=s),e.style.width=Qf(Uu(c)),a&&(e.style.maxWidth=a)):Ju(e,a??Uu(c));const g=o??`${Yf(d.getPopupParent())}px`;return e.style.setProperty("max-height",g),this.alignPickerToComponent(),h.hideFunc}alignPickerToComponent(){if(!this.pickerComponent)return;const{pickerGap:e,config:{pickerType:t},beans:{popupSvc:r,gos:n},eWrapper:i,pickerComponent:o}=this,s=n.get("enableRtl")?"right":"left";r.positionPopupByComponent({type:t,eventSource:i,ePopup:o.getGui(),position:"under",alignSide:s,keepWithinBounds:!0,nudgeY:e})}beforeHidePicker(){this.destroyMouseWheelFunc&&(this.destroyMouseWheelFunc(),this.destroyMouseWheelFunc=void 0),this.toggleExpandedStyles(!1);const e=this.pickerComponent.getGui();e.removeEventListener("focusin",this.onPickerFocusIn),e.removeEventListener("focusout",this.onPickerFocusOut),this.isPickerDisplayed=!1,this.pickerComponent=void 0,this.hideCurrentPicker=null}toggleExpandedStyles(e){if(!this.isAlive())return;const t=this.getAriaElement();Mh(t,e);const r=this.eWrapper.classList;r.toggle("ag-picker-expanded",e),r.toggle("ag-picker-collapsed",!e)}onPickerFocusIn(){this.togglePickerHasFocus(!0)}onPickerFocusOut(e){this.pickerComponent?.getGui().contains(e.relatedTarget)||this.togglePickerHasFocus(!1)}togglePickerHasFocus(e){this.pickerComponent&&this.eWrapper.classList.toggle("ag-picker-has-focus",e)}hidePicker(){this.hideCurrentPicker&&(this.hideCurrentPicker(),this.dispatchLocalEvent({type:"pickerHidden"}))}setInputWidth(e){return Ju(this.eWrapper,e),this}getFocusableElement(){return this.eWrapper}setPickerGap(e){return this.pickerGap=e,this}setPickerMinWidth(e){return typeof e=="number"&&(e=`${e}px`),this.minPickerWidth=e??void 0,this}setPickerMaxWidth(e){return typeof e=="number"&&(e=`${e}px`),this.maxPickerWidth=e??void 0,this}setPickerMaxHeight(e){return typeof e=="number"&&(e=`${e}px`),this.maxPickerHeight=e??void 0,this}destroy(){this.hidePicker(),super.destroy()}},FT=".ag-select{align-items:center;display:flex;&.ag-disabled{opacity:.5}}:where(.ag-select){.ag-picker-field-wrapper{cursor:default}&.ag-disabled .ag-picker-field-wrapper:focus{box-shadow:none}&:not(.ag-cell-editor,.ag-label-align-top){min-height:var(--ag-list-item-height)}.ag-picker-field-display{overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.ag-picker-field-icon{align-items:center;display:flex}}:where(.ag-ltr) :where(.ag-select){.ag-picker-field-wrapper{padding-left:calc(var(--ag-cell-horizontal-padding)/2);padding-right:var(--ag-spacing)}}:where(.ag-rtl) :where(.ag-select){.ag-picker-field-wrapper{padding-left:var(--ag-spacing);padding-right:calc(var(--ag-cell-horizontal-padding)/2)}}.ag-select-list{background-color:var(--ag-picker-list-background-color);border:var(--ag-picker-list-border);border-radius:var(--ag-border-radius);box-shadow:var(--ag-dropdown-shadow);overflow:hidden auto}.ag-select-list-item{cursor:default;-webkit-user-select:none;-moz-user-select:none;user-select:none;:where(span){overflow:hidden;text-overflow:ellipsis;white-space:nowrap}}:where(.ag-ltr) .ag-select-list-item{padding-left:calc(var(--ag-cell-horizontal-padding)/2)}:where(.ag-rtl) .ag-select-list-item{padding-right:calc(var(--ag-cell-horizontal-padding)/2)}",pp=class extends CT{constructor(e){super({pickerAriaLabelKey:"ariaLabelSelectField",pickerAriaLabelValue:"Select Field",pickerType:"ag-list",className:"ag-select",pickerIcon:"selectOpen",ariaRole:"combobox",...e}),this.registerCSS(FT)}postConstruct(){this.tooltipFeature=this.createOptionalManagedBean(this.beans.registry.createDynamicBean("tooltipFeature",!1,{shouldDisplayTooltip:lu(()=>this.eDisplayField),getGui:()=>this.getGui()})),super.postConstruct(),this.createListComponent(),this.eWrapper.tabIndex=this.gos.get("tabIndex");const{options:e,value:t,placeholder:r}=this.config;e!=null&&this.addOptions(e),t!=null&&this.setValue(t,!0),r&&t==null&&(this.eDisplayField.textContent=r),this.addManagedElementListeners(this.eWrapper,{focusout:this.onWrapperFocusOut.bind(this)})}onWrapperFocusOut(e){this.eWrapper.contains(e.relatedTarget)||this.hidePicker()}createListComponent(){const e=this.createBean(new yT("select"));this.listComponent=e,e.setParentComponent(this);const t=e.getAriaElement(),r=`ag-select-list-${e.getCompId()}`;t.setAttribute("id",r),$_(this.getAriaElement(),t),e.addManagedElementListeners(e.getGui(),{mousedown:n=>{n?.preventDefault()}}),e.addManagedListeners(e,{selectedItem:()=>{this.hidePicker(),this.dispatchLocalEvent({type:"selectedItem"})},fieldValueChanged:()=>{this.listComponent&&(this.setValue(this.listComponent.getValue(),!1,!0),this.hidePicker())}})}createPickerComponent(){return this.listComponent}beforeHidePicker(){this.listComponent?.hideItemTooltip(),super.beforeHidePicker()}onKeyDown(e){const{key:t}=e;switch(t===me.TAB&&this.hidePicker(),t){case me.ENTER:case me.UP:case me.DOWN:case me.PAGE_UP:case me.PAGE_DOWN:case me.PAGE_HOME:case me.PAGE_END:e.preventDefault(),this.isPickerDisplayed?this.listComponent?.handleKeyDown(e):super.onKeyDown(e);break;case me.ESCAPE:super.onKeyDown(e);break;case me.SPACE:this.isPickerDisplayed?e.preventDefault():super.onKeyDown(e);break}}showPicker(){const e=this.listComponent;e&&(super.showPicker(),e.refreshHighlighted())}addOptions(e){for(const t of e)this.addOption(t);return this}addOption(e){return this.listComponent.addOption(e),this}clearOptions(){return this.listComponent?.clearOptions(),this.setValue(void 0,!0),this}setValue(e,t,r){const{listComponent:n,config:{placeholder:i},eDisplayField:o,tooltipFeature:s}=this;if(this.value===e||!n)return this;if(r||n.setValue(e,!0),n.getValue()===this.getValue())return this;let l=n.getDisplayValue();return l==null&&i&&(l=i),o.textContent=l,s?.setTooltipAndRefresh(l??null),super.setValue(e,t)}destroy(){this.listComponent=this.destroyBean(this.listComponent),super.destroy()}},ST={selector:"AG-SELECT",component:pp},xT=':where(.ag-root-wrapper,.ag-external,.ag-popup,.ag-dnd-ghost,.ag-chart),:where(.ag-root-wrapper,.ag-external,.ag-popup,.ag-dnd-ghost,.ag-chart) :where([class^=ag-]){box-sizing:border-box;&:after,&:before{box-sizing:border-box}&:where(div,span,label):focus-visible{box-shadow:inset var(--ag-focus-shadow);outline:none;&:where(.invalid){box-shadow:inset var(--ag-focus-error-shadow)}}&:where(button){color:inherit}}:where(.ag-root-wrapper,ag-external,.ag-popup,.ag-dnd-ghost,.ag-chart) :where([class^=ag-]) ::-ms-clear{display:none}.ag-hidden{display:none!important}.ag-invisible{visibility:hidden!important}.ag-popup-child{top:0;z-index:5;&:where(:not(.ag-tooltip-custom)){box-shadow:var(--ag-popup-shadow)}}.ag-input-wrapper,.ag-picker-field-wrapper{align-items:center;display:flex;flex:1 1 auto;line-height:normal;position:relative}.ag-input-field{align-items:center;display:flex;flex-direction:row}.ag-input-field-input:where(:not([type=checkbox],[type=radio])){flex:1 1 auto;min-width:0;width:100%}.ag-chart,.ag-dnd-ghost,.ag-external,.ag-popup,.ag-root-wrapper{cursor:default;line-height:normal;white-space:normal;-webkit-font-smoothing:antialiased;background-color:var(--ag-background-color);color:var(--ag-text-color);color-scheme:var(--ag-browser-color-scheme);font-family:var(--ag-font-family);font-size:var(--ag-font-size);--ag-indentation-level:0}:where(.ag-icon):before{align-items:center;background-color:currentcolor;color:inherit;content:"";display:flex;font-family:inherit;font-size:var(--ag-icon-size);font-style:normal;font-variant:normal;height:var(--ag-icon-size);justify-content:center;line-height:var(--ag-icon-size);-webkit-mask-size:contain;mask-size:contain;text-transform:none;width:var(--ag-icon-size)}.ag-icon{background-position:50%;background-repeat:no-repeat;background-size:contain;color:var(--ag-icon-color);display:block;height:var(--ag-icon-size);position:relative;-webkit-user-select:none;-moz-user-select:none;user-select:none;width:var(--ag-icon-size)}.ag-disabled,[disabled]{.ag-icon{opacity:.5}&.ag-icon-grip{opacity:.35}}.ag-resizer{pointer-events:none;position:absolute;-webkit-user-select:none;-moz-user-select:none;user-select:none;z-index:1}:where(.ag-resizer){&.ag-resizer-topLeft{cursor:nwse-resize;height:5px;left:0;top:0;width:5px}&.ag-resizer-top{cursor:ns-resize;height:5px;left:5px;right:5px;top:0}&.ag-resizer-topRight{cursor:nesw-resize;height:5px;right:0;top:0;width:5px}&.ag-resizer-right{bottom:5px;cursor:ew-resize;right:0;top:5px;width:5px}&.ag-resizer-bottomRight{bottom:0;cursor:nwse-resize;height:5px;right:0;width:5px}&.ag-resizer-bottom{bottom:0;cursor:ns-resize;height:5px;left:5px;right:5px}&.ag-resizer-bottomLeft{bottom:0;cursor:nesw-resize;height:5px;left:0;width:5px}&.ag-resizer-left{bottom:5px;cursor:ew-resize;left:0;top:5px;width:5px}}',gp=typeof window!="object"||!window?.document?.fonts?.forEach,ws=(e,t,r,n,i,o)=>{if(gp)return;n&&(e=`@layer ${CSS.escape(n)} { ${e} }`);let s=ls.map.get(t);if(s||(s=[],ls.map.set(t,s)),s.some(c=>c.css===e))return;const a=document.createElement("style");o&&a.setAttribute("nonce",o),a.dataset.agGlobalCss=r,a.textContent=e;const l={css:e,el:a,priority:i};let u;for(const c of s){if(c.priority>i)break;u=c}if(u){u.el.insertAdjacentElement("afterend",a);const c=s.indexOf(u);s.splice(c+1,0,l)}else t.insertBefore(a,t.querySelector(":not(title, meta)")),s.push(l)},_1=(e,t,r,n)=>{ws(xT,e,"shared",t,0,r),n?.forEach((i,o)=>i.forEach(s=>ws(s,e,o,t,0,r)))},kT=e=>{ls.grids.add(e)},ET=e=>{if(ls.grids.delete(e),ls.grids.size===0){ls.map=new WeakMap;for(const t of document.head.querySelectorAll("style[data-ag-global-css]"))t.remove()}},pm,ls=(pm=typeof window=="object"?window:{}).agStyleInjectionState??(pm.agStyleInjectionState={map:new WeakMap,grids:new Set}),Dn=e=>new A1(e),bi="$default",RT=0,A1=class{constructor({feature:e,params:t,modeParams:r={},css:n,cssImports:i}){this.feature=e,this.css=n,this.cssImports=i,this.modeParams={[bi]:{...r[bi]??{},...t??{}},...r}}use(e,t,r){let n=this._inject;if(n==null){let{css:i}=this;if(i){const o=`ag-theme-${this.feature??"part"}-${++RT}`;typeof i=="function"&&(i=i()),i=`:where(.${o}) {
${i}
}
`;for(const s of this.cssImports??[])i=`@import url(${JSON.stringify(s)});
${i}`;n={css:i,class:o}}else n=!1;this._inject=n}return n&&e&&ws(n.css,e,n.class,t,1,r),n?n.class:!1}},_T=e=>e.replace(/[A-Z]/g,t=>`-${t}`).toLowerCase(),T1=e=>`--ag-${_T(e)}`,Mn=e=>`var(${T1(e)})`,AT=(e,t,r)=>Math.max(t,Math.min(r,e)),TT=e=>{const t=new Map;return r=>{const n=r;return t.has(n)||t.set(n,e(r)),t.get(n)}},Cn=e=>({ref:"accentColor",mix:e}),en=e=>({ref:"foregroundColor",mix:e}),nn=e=>({ref:"foregroundColor",mix:e,onto:"backgroundColor"}),DT=e=>({ref:"foregroundColor",mix:e,onto:"headerBackgroundColor"}),Or={ref:"backgroundColor"},Uo={ref:"foregroundColor"},Un={ref:"accentColor"},ac={backgroundColor:"#fff",foregroundColor:"#181d1f",borderColor:en(.15),chromeBackgroundColor:nn(.02),browserColorScheme:"light"},MT={...ac,textColor:Uo,accentColor:"#2196f3",invalidColor:"#e02525",fontFamily:["-apple-system","BlinkMacSystemFont","Segoe UI","Roboto","Oxygen-Sans","Ubuntu","Cantarell","Helvetica Neue","sans-serif"],subtleTextColor:{ref:"textColor",mix:.5},borderWidth:1,borderRadius:4,spacing:8,fontSize:14,focusShadow:{spread:3,color:Cn(.5)},focusErrorShadow:{spread:3,color:{ref:"invalidColor",onto:"backgroundColor",mix:.5}},popupShadow:"0 0 16px #00000026",cardShadow:"0 1px 4px 1px #00000018",dropdownShadow:{ref:"cardShadow"},listItemHeight:{calc:"max(iconSize, dataFontSize) + widgetVerticalSpacing"},dragAndDropImageBackgroundColor:Or,dragAndDropImageBorder:!0,dragAndDropImageNotAllowedBorder:{color:{ref:"invalidColor",onto:"dragAndDropImageBackgroundColor",mix:.5}},dragAndDropImageShadow:{ref:"popupShadow"},iconSize:16,iconColor:"inherit",toggleButtonWidth:28,toggleButtonHeight:18,toggleButtonOnBackgroundColor:Un,toggleButtonOffBackgroundColor:nn(.3),toggleButtonSwitchBackgroundColor:Or,toggleButtonSwitchInset:2,tooltipBackgroundColor:{ref:"chromeBackgroundColor"},tooltipErrorBackgroundColor:{ref:"invalidColor",onto:"backgroundColor",mix:.1},tooltipTextColor:{ref:"textColor"},tooltipErrorTextColor:{ref:"invalidColor"},tooltipBorder:!0,tooltipErrorBorder:{color:{ref:"invalidColor",onto:"backgroundColor",mix:.25}}},PT=["colorScheme","color","length","scale","borderStyle","border","shadow","image","fontFamily","fontWeight","duration"],IT=TT(e=>(e=e.toLowerCase(),PT.find(t=>e.endsWith(t.toLowerCase()))??"length")),Nc=e=>typeof e=="object"&&e?.ref?Mn(e.ref):typeof e=="string"?e:typeof e=="number"?String(e):!1,mp=e=>{if(typeof e=="string")return e;if(e&&"ref"in e){const t=Mn(e.ref);return e.mix==null?t:`color-mix(in srgb, ${e.onto?Mn(e.onto):"transparent"}, ${t} ${AT(e.mix*100,0,100)}%)`}return!1},BT=Nc,Ko=e=>typeof e=="string"?e:typeof e=="number"?`${e}px`:e&&"calc"in e?`calc(${e.calc.replace(/ ?[*/+] ?/g," $& ").replace(/-?\b[a-z][a-z0-9]*\b(?![-(])/gi,r=>r[0]==="-"?r:" "+Mn(r)+" ")})`:e&&"ref"in e?Mn(e.ref):!1,LT=Nc,Uh=(e,t)=>typeof e=="string"?e:e===!0?Uh({},t):e===!1?t==="columnBorder"?Uh({color:"transparent"},t):"none":e&&"ref"in e?Mn(e.ref):D1(e.style??"solid")+" "+Ko(e.width??{ref:"borderWidth"})+" "+mp(e.color??{ref:"borderColor"}),NT=e=>typeof e=="string"?e:e===!1?"none":e&&"ref"in e?Mn(e.ref):[Ko(e.offsetX??0),Ko(e.offsetY??0),Ko(e.radius??0),Ko(e.spread??0),mp(e.color??{ref:"foregroundColor"})].join(" "),D1=Nc,M1=e=>typeof e=="string"?e.includes(",")?e:gm(e):e&&"googleFont"in e?M1(e.googleFont):e&&"ref"in e?Mn(e.ref):Array.isArray(e)?e.map(t=>(typeof t=="object"&&"googleFont"in t&&(t=t.googleFont),gm(t))).join(", "):!1,gm=e=>/^[\w-]+$|\w\(/.test(e)?e:JSON.stringify(e),OT=Nc,P1=e=>typeof e=="string"?e:e&&"url"in e?`url(${JSON.stringify(e.url)})`:e&&"svg"in e?P1({url:`data:image/svg+xml,${encodeURIComponent(e.svg)}`}):e&&"ref"in e?Mn(e.ref):!1,HT=(e,t,r)=>typeof e=="string"?e:typeof e=="number"?(e>=10&&r.warn(104,{value:e,param:t}),`${e}s`):e&&"ref"in e?Mn(e.ref):!1,GT={color:mp,colorScheme:BT,length:Ko,scale:LT,border:Uh,borderStyle:D1,shadow:NT,image:P1,fontFamily:M1,fontWeight:OT,duration:HT},jT=(e,t,r)=>{const n=IT(e);return GT[n](t,e,r)},zT=e=>new I1(e),I1=class B1{constructor(t,r=[]){this.themeLogger=t,this.parts=r}withPart(t){return typeof t=="function"&&(t=t()),t instanceof A1?new B1(this.themeLogger,[...this.parts,t]):(this.themeLogger.preInitErr(259,"Invalid part",{part:t}),this)}withoutPart(t){return this.withPart(Dn({feature:t}))}withParams(t,r=bi){return this.withPart(Dn({modeParams:{[r]:t}}))}_startUse({styleContainer:t,cssLayer:r,nonce:n,loadThemeGoogleFonts:i,moduleCss:o}){if(gp)return;WT(),_1(t,r,n,o);const s=VT(this);if(s.length>0)for(const a of s)i&&$T(a,n);for(const a of this.parts)a.use(t,r,n)}_getCssClass(){return this._cssClassCache??(this._cssClassCache=mm(this.parts).map(t=>t.use(void 0,void 0,void 0)).filter(Boolean).join(" "))}_getModeParams(){let t=this._paramsCache;if(!t){const r={[bi]:{...MT}};for(const n of mm(this.parts))for(const i of Object.keys(n.modeParams)){const o=n.modeParams[i];if(o){const s=r[i]??(r[i]={}),a=new Set;for(const l of Object.keys(o)){const u=o[l];u!==void 0&&(s[l]=u,a.add(l))}if(i===bi)for(const l of Object.keys(r)){const u=r[l];if(l!==bi)for(const c of a)delete u[c]}}}this._paramsCache=t=r}return t}_getPerInstanceCss(t){const r="##SELECTOR##";let n=this._paramsCssCache;if(!n){let i="",o="";const s=this._getModeParams();for(const l of Object.keys(s)){const u=s[l];if(l!==bi){const f=`:where([data-ag-theme-mode="${typeof CSS=="object"?CSS.escape(l):l}"]) & {
`;i+=f,o+=f}for(const c of Object.keys(u).sort()){const f=u[c],d=jT(c,f,this.themeLogger);if(d===!1)this.themeLogger.error(107,{key:c,value:f});else{const h=T1(c),g=h.replace("--ag-","--ag-inherited-");i+=`	${h}: var(${g}, ${d});
`,o+=`	${g}: var(${h});
`}}l!==bi&&(i+=`}
`,o+=`}
`)}let a=`${r} {
${i}}
`;a+=`:has(> ${r}):not(${r}) {
${o}}
`,this._paramsCssCache=n=a}return n.replaceAll(r,`:where(.${t})`)}},mm=e=>{const t=new Map;for(const n of e)t.set(n.feature,n);const r=[];for(const n of e)(!n.feature||t.get(n.feature)===n)&&r.push(n);return r},VT=e=>{const t=new Set,r=o=>{if(Array.isArray(o))o.forEach(r);else{const s=o?.googleFont;typeof s=="string"&&t.add(s)}};return Object.values(e._getModeParams()).flatMap(o=>Object.values(o)).forEach(r),Array.from(t).sort()},bm=!1,WT=()=>{if(!bm){bm=!0;for(const e of Array.from(document.head.querySelectorAll('style[data-ag-scope="legacy"]')))e.remove()}},$T=async(e,t)=>{const r=`@import url('https://${UT}/css2?family=${encodeURIComponent(e)}:wght@100;200;300;400;500;600;700;800;900&display=swap');
`;ws(r,document.head,`googleFont:${e}`,void 0,0,t)},UT="fonts.googleapis.com",KT=1,qT=class{constructor(e){this.beans={},this.createdBeans=[],this.destroyed=!1,this.instanceId=KT++,e?.beanClasses&&(this.beanDestroyComparator=e.beanDestroyComparator,this.init(e))}init(e){this.id=e.id,this.beans.context=this,this.destroyCallback=e.destroyCallback;for(const t of Object.keys(e.providedBeanInstances))this.beans[t]=e.providedBeanInstances[t];for(const t of e.beanClasses){const r=new t;r.beanName?this.beans[r.beanName]=r:console.error(`Bean ${t.name} is missing beanName`),this.createdBeans.push(r)}for(const t of e.derivedBeans??[]){const{beanName:r,bean:n}=t(this);this.beans[r]=n,this.createdBeans.push(n)}e.beanInitComparator&&this.createdBeans.sort(e.beanInitComparator),this.initBeans(this.createdBeans)}getBeanInstances(){return Object.values(this.beans)}createBean(e,t){return this.initBeans([e],t),e}initBeans(e,t){const r=this.beans;for(const n of e)n.preWireBeans?.(r),n.wireBeans?.(r);for(const n of e)n.preConstruct?.();t&&e.forEach(t);for(const n of e)n.postConstruct?.()}getBeans(){return this.beans}getBean(e){return this.beans[e]}getId(){return this.id}destroy(){if(this.destroyed)return;this.destroyed=!0;const e=this.getBeanInstances();this.beanDestroyComparator&&e.sort(this.beanDestroyComparator),this.destroyBeans(e),this.beans={},this.createdBeans=[],this.destroyCallback?.()}destroyBean(e){e?.destroy?.()}destroyBeans(e){if(e)for(let t=0;t<e.length;t++)this.destroyBean(e[t]);return[]}isDestroyed(){return this.destroyed}},JT=0,YT=class extends In{constructor(){super(...arguments),this.beanName="environment",this.paramsClass=`ag-theme-params-${++JT}`,this.globalCSS=[]}wireBeans(e){this.eRootDiv=e.eRootDiv}postConstruct(){const{gos:e,eRootDiv:t}=this;e.setInstanceDomData(t),this.eStyleContainer=e.get("themeStyleContainer")??(t.getRootNode()===document?document.head:t),this.cssLayer=e.get("themeCssLayer"),this.styleNonce=e.get("styleNonce"),this.addManagedPropertyListener("theme",()=>this.handleThemeChange()),this.handleThemeChange(),this.initVariables(),this.addDestroyFunc(()=>ET(this)),this.mutationObserver=new MutationObserver(()=>{this.fireStylesChangedEvent("themeChanged")}),this.addDestroyFunc(()=>this.mutationObserver.disconnect())}applyThemeClasses(e,t=[]){const{theme:r}=this;let n;r?n=`${this.paramsClass} ${r._getCssClass()}`:n=this.applyLegacyThemeClasses();for(const i of Array.from(e.classList))i.startsWith("ag-theme-")&&e.classList.remove(i);if(n){const i=e.className;e.className=`${i}${i?" ":""}${n}${t?.length?" "+t.join(" "):""}`}}applyLegacyThemeClasses(){let e="";this.mutationObserver.disconnect();let t=this.eRootDiv;for(;t;){let r=!1;for(const n of Array.from(t.classList))n.startsWith("ag-theme-")&&(r=!0,e=e?`${e} ${n}`:n);r&&this.mutationObserver.observe(t,{attributes:!0,attributeFilter:["class"]}),t=t.parentElement}return e}addGlobalCSS(e,t){this.theme?ws(e,this.eStyleContainer,t,this.cssLayer,0,this.styleNonce):this.globalCSS.push([e,t])}handleThemeChange(){const{gos:e,theme:t}=this,r=e.get("theme");let n;if(r==="legacy")n=void 0;else{const i=r??this.getDefaultTheme();i instanceof I1?n=i:this.themeError(i)}n!==t&&this.handleNewTheme(n),this.postProcessThemeChange(n,r)}handleNewTheme(e){const{gos:t,eRootDiv:r,globalCSS:n}=this,i=this.getAdditionalCss();if(e){kT(this),_1(this.eStyleContainer,this.cssLayer,this.styleNonce,i);for(const[s,a]of n)ws(s,this.eStyleContainer,a,this.cssLayer,0,this.styleNonce);n.length=0}this.theme=e,e?._startUse({loadThemeGoogleFonts:t.get("loadThemeGoogleFonts"),styleContainer:this.eStyleContainer,cssLayer:this.cssLayer,nonce:this.styleNonce,moduleCss:i});let o=this.eParamsStyle;if(!o){o=this.eParamsStyle=La({tag:"style"});const s=t.get("styleNonce");s&&o.setAttribute("nonce",s),r.appendChild(o)}gp||(o.textContent=e?._getPerInstanceCss(this.paramsClass)||""),this.applyThemeClasses(r),this.fireStylesChangedEvent("themeChanged")}},ZT=class extends In{constructor(){super(...arguments),this.beanName="registry"}registerDynamicBeans(e){if(e){this.dynamicBeans??(this.dynamicBeans={});for(const t of Object.keys(e))this.dynamicBeans[t]=e[t]}}createDynamicBean(e,t,...r){if(!this.dynamicBeans)throw new Error(this.getDynamicError(e,!0));const n=this.dynamicBeans[e];if(n==null){if(t)throw new Error(this.getDynamicError(e,!1));return}return new n(...r)}},XT=class extends In{constructor(){super(...arguments),this.beanName="eventSvc",this.eventServiceType="global",this.globalSvc=new go}addListener(e,t,r){this.globalSvc.addEventListener(e,t,r)}removeListener(e,t,r){this.globalSvc.removeEventListener(e,t,r)}addGlobalListener(e,t=!1){this.globalSvc.addGlobalListener(e,t)}removeGlobalListener(e,t=!1){this.globalSvc.removeGlobalListener(e,t)}dispatchEvent(e){this.globalSvc.dispatchEvent(this.gos.addCommon(e))}dispatchEventOnce(e){this.globalSvc.dispatchEventOnce(this.gos.addCommon(e))}},L1=class extends In{constructor(e,t){super(),this.ctrl=e,t&&(this.beans=t)}postConstruct(){this.refreshTooltip()}setBrowserTooltip(e,t){const r="title",n=this.ctrl.getGui();n&&(e!=null&&(e!=""||t)?n.setAttribute(r,e):n.removeAttribute(r))}updateTooltipText(){const{getTooltipValue:e}=this.ctrl;e&&(this.tooltip=e())}createTooltipFeatureIfNeeded(){if(this.tooltipManager==null){const e=this.beans.registry.createDynamicBean("tooltipStateManager",!0,this.ctrl,()=>this.tooltip);e&&(this.tooltipManager=this.createBean(e,this.beans.context))}}attemptToShowTooltip(){this.tooltipManager?.prepareToShowTooltip()}attemptToHideTooltip(){this.tooltipManager?.hideTooltip()}setTooltipAndRefresh(e){this.tooltip=e,this.refreshTooltip()}refreshTooltip(e){this.browserTooltips=this.beans.gos.get("enableBrowserTooltips"),this.updateTooltipText(),this.browserTooltips?(this.setBrowserTooltip(this.tooltip),this.tooltipManager=this.destroyBean(this.tooltipManager,this.beans.context)):(this.setBrowserTooltip(e?"":null,e),this.createTooltipFeatureIfNeeded())}destroy(){this.tooltipManager=this.destroyBean(this.tooltipManager,this.beans.context),super.destroy()}},QT=1e3,eD=1e3,ym=100,vm,ll=!1,tD=class extends In{constructor(e,t){super(),this.tooltipCtrl=e,this.getTooltipValue=t,this.interactionEnabled=!1,this.isInteractingWithTooltip=!1,this.state=0,this.tooltipInstanceCount=0,this.tooltipMouseTrack=!1}wireBeans(e){this.popupSvc=e.popupSvc}postConstruct(){this.gos.get("tooltipInteraction")&&(this.interactionEnabled=!0),this.tooltipTrigger=this.getTooltipTrigger(),this.tooltipMouseTrack=this.gos.get("tooltipMouseTrack");const e=this.tooltipCtrl.getGui();this.tooltipTrigger===0&&this.addManagedListeners(e,{mouseenter:this.onMouseEnter.bind(this),mouseleave:this.onMouseLeave.bind(this)}),this.tooltipTrigger===1&&this.addManagedListeners(e,{focusin:this.onFocusIn.bind(this),focusout:this.onFocusOut.bind(this)}),this.addManagedListeners(e,{mousemove:this.onMouseMove.bind(this)}),this.interactionEnabled||this.addManagedListeners(e,{mousedown:this.onMouseDown.bind(this),keydown:this.onKeyDown.bind(this)})}getGridOptionsTooltipDelay(e){const t=this.gos.get(e);return Math.max(200,t)}getTooltipDelay(e){return e==="show"?this.tooltipCtrl.getTooltipShowDelayOverride?.()??this.getGridOptionsTooltipDelay("tooltipShowDelay"):this.tooltipCtrl.getTooltipHideDelayOverride?.()??this.getGridOptionsTooltipDelay("tooltipHideDelay")}destroy(){this.setToDoNothing(),super.destroy()}getTooltipTrigger(){const e=this.gos.get("tooltipTrigger");return!e||e==="hover"?0:1}onMouseEnter(e){this.interactionEnabled&&this.interactiveTooltipTimeoutId&&(this.unlockService(),this.startHideTimeout()),!lo()&&(ll?this.showTooltipTimeoutId=window.setTimeout(()=>{this.prepareToShowTooltip(e)},ym):this.prepareToShowTooltip(e))}onMouseMove(e){this.lastMouseEvent&&(this.lastMouseEvent=e),this.tooltipMouseTrack&&this.state===2&&this.tooltipComp&&this.positionTooltip()}onMouseDown(){this.setToDoNothing()}onMouseLeave(){this.interactionEnabled?this.lockService():this.setToDoNothing()}onFocusIn(){this.prepareToShowTooltip()}onFocusOut(e){const t=e.relatedTarget,r=this.tooltipCtrl.getGui(),n=this.tooltipComp?.getGui();this.isInteractingWithTooltip||r.contains(t)||this.interactionEnabled&&n?.contains(t)||this.setToDoNothing()}onKeyDown(){this.isInteractingWithTooltip&&(this.isInteractingWithTooltip=!1),this.setToDoNothing()}prepareToShowTooltip(e){if(this.state!=0||ll)return;let t=0;e&&(t=this.isLastTooltipHiddenRecently()?200:this.getTooltipDelay("show")),this.lastMouseEvent=e||null,this.showTooltipTimeoutId=window.setTimeout(this.showTooltip.bind(this),t),this.state=1}isLastTooltipHiddenRecently(){return Date.now()-vm<QT}setToDoNothing(e){!e&&this.state===2&&this.hideTooltip(),this.onBodyScrollEventCallback&&(this.onBodyScrollEventCallback(),this.onBodyScrollEventCallback=void 0),this.clearEventHandlers(),this.onDocumentKeyDownCallback&&(this.onDocumentKeyDownCallback(),this.onDocumentKeyDownCallback=void 0),this.clearTimeouts(),this.state=0,this.lastMouseEvent=null}showTooltip(){const e=this.getTooltipValue(),t=this.tooltipCtrl;if(!Le(e)||t.shouldDisplayTooltip&&!t.shouldDisplayTooltip()){this.setToDoNothing();return}const r=this.gos.addCommon({location:t.getLocation?.()??"UNKNOWN",value:e,hideTooltipCallback:()=>this.hideTooltip(!0),...t.getAdditionalParams?.()});this.state=2,this.tooltipInstanceCount++;const n=this.newTooltipComponentCallback.bind(this,this.tooltipInstanceCount);this.createTooltipComp(r,n)}hideTooltip(e){!e&&this.isInteractingWithTooltip||(this.tooltipComp&&(this.destroyTooltipComp(),vm=Date.now()),this.eventSvc.dispatchEvent({type:"tooltipHide",parentGui:this.tooltipCtrl.getGui()}),e&&(this.isInteractingWithTooltip=!1),this.setToDoNothing(!0))}newTooltipComponentCallback(e,t){if(this.state!==2||this.tooltipInstanceCount!==e){this.destroyBean(t);return}const n=t.getGui();this.tooltipComp=t,n.classList.contains("ag-tooltip")||n.classList.add("ag-tooltip-custom"),this.tooltipTrigger===0&&n.classList.add("ag-tooltip-animate"),this.interactionEnabled&&n.classList.add("ag-tooltip-interactive");const i=this.getLocaleTextFunc(),o=this.popupSvc?.addPopup({eChild:n,ariaLabel:i("ariaLabelTooltip","Tooltip")});if(o&&(this.tooltipPopupDestroyFunc=o.hideFunc),this.positionTooltip(),this.tooltipTrigger===1){const s=()=>this.setToDoNothing();[this.onBodyScrollEventCallback]=this.addManagedEventListeners({bodyScroll:s}),this.setEventHandlers(s)}this.interactionEnabled&&([this.tooltipMouseEnterListener,this.tooltipMouseLeaveListener]=this.addManagedElementListeners(n,{mouseenter:this.onTooltipMouseEnter.bind(this),mouseleave:this.onTooltipMouseLeave.bind(this)}),[this.onDocumentKeyDownCallback]=this.addManagedElementListeners(fr(this.beans),{keydown:s=>{n.contains(s?.target)||this.onKeyDown()}}),this.tooltipTrigger===1&&([this.tooltipFocusInListener,this.tooltipFocusOutListener]=this.addManagedElementListeners(n,{focusin:this.onTooltipFocusIn.bind(this),focusout:this.onTooltipFocusOut.bind(this)}))),this.eventSvc.dispatchEvent({type:"tooltipShow",tooltipGui:n,parentGui:this.tooltipCtrl.getGui()}),this.startHideTimeout()}onTooltipMouseEnter(){this.isInteractingWithTooltip=!0,this.unlockService()}onTooltipMouseLeave(){this.isTooltipFocused()||(this.isInteractingWithTooltip=!1,this.lockService())}onTooltipFocusIn(){this.isInteractingWithTooltip=!0}isTooltipFocused(){const e=this.tooltipComp?.getGui(),t=qt(this.beans);return!!e&&e.contains(t)}onTooltipFocusOut(e){const t=this.tooltipCtrl.getGui();this.isTooltipFocused()||(this.isInteractingWithTooltip=!1,t.contains(e.relatedTarget)?this.startHideTimeout():this.hideTooltip())}positionTooltip(){const e={type:"tooltip",ePopup:this.tooltipComp.getGui(),nudgeY:18,skipObserver:this.tooltipMouseTrack};this.lastMouseEvent?this.popupSvc?.positionPopupUnderMouseEvent({...e,mouseEvent:this.lastMouseEvent}):this.popupSvc?.positionPopupByComponent({...e,eventSource:this.tooltipCtrl.getGui(),position:"under",keepWithinBounds:!0,nudgeY:5})}destroyTooltipComp(){this.tooltipComp.getGui().classList.add("ag-tooltip-hiding");const e=this.tooltipPopupDestroyFunc,t=this.tooltipComp,r=this.tooltipTrigger===0?eD:0;window.setTimeout(()=>{e(),this.destroyBean(t)},r),this.clearTooltipListeners(),this.tooltipPopupDestroyFunc=void 0,this.tooltipComp=void 0}clearTooltipListeners(){for(const e of[this.tooltipMouseEnterListener,this.tooltipMouseLeaveListener,this.tooltipFocusInListener,this.tooltipFocusOutListener])e&&e();this.tooltipMouseEnterListener=this.tooltipMouseLeaveListener=this.tooltipFocusInListener=this.tooltipFocusOutListener=null}lockService(){ll=!0,this.interactiveTooltipTimeoutId=window.setTimeout(()=>{this.unlockService(),this.setToDoNothing()},ym)}unlockService(){ll=!1,this.clearInteractiveTimeout()}startHideTimeout(){this.clearHideTimeout(),this.hideTooltipTimeoutId=window.setTimeout(this.hideTooltip.bind(this),this.getTooltipDelay("hide"))}clearShowTimeout(){this.showTooltipTimeoutId&&(window.clearTimeout(this.showTooltipTimeoutId),this.showTooltipTimeoutId=void 0)}clearHideTimeout(){this.hideTooltipTimeoutId&&(window.clearTimeout(this.hideTooltipTimeoutId),this.hideTooltipTimeoutId=void 0)}clearInteractiveTimeout(){this.interactiveTooltipTimeoutId&&(window.clearTimeout(this.interactiveTooltipTimeoutId),this.interactiveTooltipTimeoutId=void 0)}clearTimeouts(){this.clearShowTimeout(),this.clearHideTimeout(),this.clearInteractiveTimeout()}},rD=class extends L1{constructor(e,t,r){super(e,r),this.highlightTracker=t,this.onHighlight=this.onHighlight.bind(this)}postConstruct(){super.postConstruct(),this.wireHighlightListeners()}wireHighlightListeners(){this.addManagedPropertyListener("tooltipTrigger",({currentValue:e})=>{this.setTooltipMode(e)}),this.setTooltipMode(this.gos.get("tooltipTrigger")),this.highlightTracker.addEventListener("itemHighlighted",this.onHighlight)}onHighlight(e){this.tooltipMode===1&&(e.highlighted?this.attemptToShowTooltip():this.attemptToHideTooltip())}setTooltipMode(e="focus"){this.tooltipMode=e==="focus"?1:0}destroy(){this.highlightTracker.removeEventListener("itemHighlighted",this.onHighlight),super.destroy()}},ul=0,nD=200,iD=class extends In{constructor(){super(...arguments),this.beanName="popupSvc",this.popupList=[]}getPopupParent(){const e=this.gos.get("popupParent");return e||this.getDefaultPopupParent()}positionPopupUnderMouseEvent(e){const{ePopup:t,nudgeX:r,nudgeY:n,skipObserver:i}=e;this.positionPopup({ePopup:t,nudgeX:r,nudgeY:n,keepWithinBounds:!0,skipObserver:i,updatePosition:()=>this.calculatePointerAlign(e.mouseEvent),postProcessCallback:()=>this.callPostProcessPopup(e,e.type,e.ePopup,null,e.mouseEvent)})}calculatePointerAlign(e){const t=this.getParentRect();return{x:e.clientX-t.left,y:e.clientY-t.top}}positionPopupByComponent(e){const{ePopup:t,nudgeX:r,nudgeY:n,keepWithinBounds:i,eventSource:o,alignSide:s="left",position:a="over",type:l}=e,u=o.getBoundingClientRect(),c=this.getParentRect();this.setAlignedTo(o,t);const f=()=>{let d=u.left-c.left;s==="right"&&(d-=t.offsetWidth-u.width);let h;return a==="over"?(h=u.top-c.top,this.setAlignedStyles(t,"over")):(this.setAlignedStyles(t,"under"),this.shouldRenderUnderOrAbove(t,u,c,e.nudgeY||0)==="under"?h=u.top-c.top+u.height:h=u.top-t.offsetHeight-(n||0)*2-c.top),{x:d,y:h}};this.positionPopup({ePopup:t,nudgeX:r,nudgeY:n,keepWithinBounds:i,updatePosition:f,postProcessCallback:()=>this.callPostProcessPopup(e,l,t,o,null)})}shouldRenderUnderOrAbove(e,t,r,n){const i=r.bottom-t.bottom,o=t.top-r.top,s=e.offsetHeight+n;return i>s?"under":o>s||o>i?"above":"under"}setAlignedStyles(e,t){const r=this.getPopupIndex(e);if(r===-1)return;const n=this.popupList[r],{alignedToElement:i}=n;if(!i)return;const o=["right","left","over","above","under"];for(const s of o)i.classList.remove(`ag-has-popup-positioned-${s}`),e.classList.remove(`ag-popup-positioned-${s}`);t&&(i.classList.add(`ag-has-popup-positioned-${t}`),e.classList.add(`ag-popup-positioned-${t}`))}setAlignedTo(e,t){const r=this.getPopupIndex(t);if(r!==-1){const n=this.popupList[r];n.alignedToElement=e}}positionPopup(e){const{ePopup:t,keepWithinBounds:r,nudgeX:n,nudgeY:i,skipObserver:o,updatePosition:s}=e,a={width:0,height:0},l=(u=!1)=>{let{x:c,y:f}=s();u&&t.clientWidth===a.width&&t.clientHeight===a.height||(a.width=t.clientWidth,a.height=t.clientHeight,n&&(c+=n),i&&(f+=i),r&&(c=this.keepXYWithinBounds(t,c,1),f=this.keepXYWithinBounds(t,f,0)),t.style.left=`${c}px`,t.style.top=`${f}px`,e.postProcessCallback&&e.postProcessCallback())};if(l(),!o){const u=ii(this.beans,t,()=>l(!0));setTimeout(()=>u(),nD)}}getParentRect(){const e=fr(this.beans);let t=this.getPopupParent();return t===e.body?t=e.documentElement:getComputedStyle(t).position==="static"&&(t=t.offsetParent),Tw(t)}keepXYWithinBounds(e,t,r){const n=r===0,i=n?"clientHeight":"clientWidth",o=n?"top":"left",s=n?"height":"width",a=n?"scrollTop":"scrollLeft",l=fr(this.beans),u=l.documentElement,c=this.getPopupParent(),f=e.getBoundingClientRect(),d=c.getBoundingClientRect(),h=l.documentElement.getBoundingClientRect(),g=c===l.body,m=Math.ceil(f[s]);let y=g?(n?Aw:Uu)(u)+u[a]:c[i];g&&(y-=Math.abs(h[o]-d[o]));const b=y-m;return Math.min(Math.max(t,0),Math.max(b,0))}addPopup(e){const{eChild:t,ariaLabel:r,ariaOwns:n,alwaysOnTop:i,positionCallback:o,anchorToElement:s}=e,a=this.getPopupIndex(t);if(a!==-1)return{hideFunc:this.popupList[a].hideFunc};this.initialisePopupPosition(t);const l=this.createPopupWrapper(t,!!i,r,n),u=this.addEventListenersToPopup({...e,wrapperEl:l});return o&&o(),this.addPopupToPopupList(t,l,u,s),{hideFunc:u}}initialisePopupPosition(e){const r=this.getPopupParent().getBoundingClientRect();Le(e.style.top)||(e.style.top=`${r.top*-1}px`),Le(e.style.left)||(e.style.left=`${r.left*-1}px`)}createPopupWrapper(e,t,r,n){const i=this.getPopupParent(),{environment:o,gos:s}=this.beans,a=La({tag:"div"});return o.applyThemeClasses(a),a.classList.add("ag-popup"),e.classList.add(s.get("enableRtl")?"ag-rtl":"ag-ltr","ag-popup-child"),e.hasAttribute("role")||mo(e,"dialog"),r?bs(e,r):n&&(e.id||(e.id=`popup-component-${ul}`),Xg(n,e.id)),a.appendChild(e),i.appendChild(a),t?this.setAlwaysOnTop(e,!0):this.bringPopupToFront(e),a}addEventListenersToPopup(e){const t=this.beans,r=fr(t),{wrapperEl:n,eChild:i,closedCallback:o,afterGuiAttached:s,closeOnEsc:a,modal:l,ariaOwns:u}=e;let c=!1;const f=m=>{if(!n.contains(qt(t)))return;m.key===me.ESCAPE&&!this.isStopPropagation(m)&&g({keyboardEvent:m})},d=m=>g({mouseEvent:m}),h=m=>g({touchEvent:m}),g=(m={})=>{const{mouseEvent:p,touchEvent:y,keyboardEvent:b,forceHide:v}=m;!v&&(this.isEventFromCurrentPopup({mouseEvent:p,touchEvent:y},i)||c)||(c=!0,n.remove(),r.removeEventListener("keydown",f),r.removeEventListener("mousedown",d),r.removeEventListener("touchstart",h),r.removeEventListener("contextmenu",d),this.eventSvc.removeListener("dragStarted",d),o&&o(p||y||b),this.removePopupFromPopupList(i,u))};return s&&s({hidePopup:g}),window.setTimeout(()=>{a&&r.addEventListener("keydown",f),l&&(r.addEventListener("mousedown",d),this.eventSvc.addListener("dragStarted",d),r.addEventListener("touchstart",h),r.addEventListener("contextmenu",d))},0),g}addPopupToPopupList(e,t,r,n){this.popupList.push({element:e,wrapper:t,hideFunc:r,instanceId:ul,isAnchored:!!n}),n&&this.setPopupPositionRelatedToElement(e,n),ul=ul+1}getPopupIndex(e){return this.popupList.findIndex(t=>t.element===e)}setPopupPositionRelatedToElement(e,t){const r=this.getPopupIndex(e);if(r===-1)return;const n=this.popupList[r];if(n.stopAnchoringPromise&&n.stopAnchoringPromise.then(o=>o&&o()),n.stopAnchoringPromise=void 0,n.isAnchored=!1,!t)return;const i=this.keepPopupPositionedRelativeTo({element:t,ePopup:e,hidePopup:n.hideFunc});return n.stopAnchoringPromise=i,n.isAnchored=!0,i}removePopupFromPopupList(e,t){this.setAlignedStyles(e,null),this.setPopupPositionRelatedToElement(e,null),t&&Xg(t,null),this.popupList=this.popupList.filter(r=>r.element!==e)}keepPopupPositionedRelativeTo(e){const t=this.getPopupParent(),r=t.getBoundingClientRect(),{element:n,ePopup:i}=e,o=n.getBoundingClientRect(),s=f=>Number.parseInt(f.substring(0,f.length-1),10),a=(f,d)=>{const h=r[f]-o[f],g=s(i.style[f]);return{initialDiff:h,lastDiff:h,initial:g,last:g,direction:d}},l=a("top",0),u=a("left",1),c=this.beans.frameworkOverrides;return new Ct(f=>{c.wrapIncoming(()=>{p4(()=>{const d=t.getBoundingClientRect(),h=n.getBoundingClientRect();if(h.top==0&&h.left==0&&h.height==0&&h.width==0){e.hidePopup();return}const m=(p,y)=>{const b=s(i.style[y]);p.last!==b&&(p.initial=b,p.last=b);const v=d[y]-h[y];if(v!=p.lastDiff){const F=this.keepXYWithinBounds(i,p.initial+p.initialDiff-v,p.direction);i.style[y]=`${F}px`,p.last=F}p.lastDiff=v};m(l,"top"),m(u,"left")},200).then(d=>{f(()=>{d!=null&&window.clearInterval(d)})})},"popupPositioning")})}isEventFromCurrentPopup(e,t){const{mouseEvent:r,touchEvent:n}=e,i=r||n;if(!i)return!1;const o=this.getPopupIndex(t);if(o===-1)return!1;for(let s=o;s<this.popupList.length;s++){const a=this.popupList[s];if(Y_(a.element,i))return!0}return this.isElementWithinCustomPopup(i.target)}isElementWithinCustomPopup(e){const t=fr(this.beans);for(;e&&e!==t.body;){if(e.classList.contains("ag-custom-component-popup")||e.parentElement===null)return!0;e=e.parentElement}return!1}getWrapper(e){for(;!e.classList.contains("ag-popup")&&e.parentElement;)e=e.parentElement;return e.classList.contains("ag-popup")?e:null}setAlwaysOnTop(e,t){const r=this.getWrapper(e);r&&(r.classList.toggle("ag-always-on-top",!!t),t&&this.bringPopupToFront(r))}bringPopupToFront(e){const t=this.getPopupParent(),r=Array.prototype.slice.call(t.querySelectorAll(".ag-popup")),n=r.length,i=this.getWrapper(e);if(!i||n<=1||!t.contains(e))return;const o=[],s=[];for(const d of r)d!==i&&(d.classList.contains("ag-always-on-top")?s.push(d):o.push(d));const a=[],l=s.length,f=i.classList.contains("ag-always-on-top")||!l?[...o,...s,i]:[...o,i,...s];for(let d=0;d<=n;d++){const h=f[d];if(r[d]===f[d]||h===i)continue;const g=h.querySelectorAll("div");for(const m of g)m.scrollTop!==0&&a.push([m,m.scrollTop]);d===0?t.insertAdjacentElement("afterbegin",h):f[d-1].insertAdjacentElement("afterend",h)}for(;a.length;){const d=a.pop();d[0].scrollTop=d[1]}}},oD=class extends up{constructor(){super({tag:"div",cls:"ag-tooltip"})}init(e){const{value:t}=e,r=this.getGui();r.textContent=Ts(t);const n=e.location.replace(/([a-z])([A-Z0-9])/g,"$1-$2").toLowerCase();r.classList.add(`ag-${n}-tooltip`)}},N1=(e,t)=>{if(t!=null&&e?.setPointerCapture)try{return e.setPointerCapture(t),e.hasPointerCapture(t)}catch{}return!1},sD=(e,t)=>{if(typeof PointerEvent>"u"||!(t instanceof PointerEvent))return null;const r=t.pointerId;if(!N1(e,r))return null;const n={eElement:e,pointerId:r,onLost(i){lD(n,i)}};return e.addEventListener("lostpointercapture",n.onLost),n},aD=e=>{if(!e)return;O1(e);const{eElement:t,pointerId:r}=e;if(t){try{t.releasePointerCapture(r)}catch{}e.eElement=null}},O1=e=>{const{eElement:t,onLost:r}=e;t&&r&&(t.removeEventListener("lostpointercapture",r),e.onLost=null)},lD=(e,t)=>{O1(e);const{eElement:r,pointerId:n}=e;r&&t.pointerId===n&&N1(r,n)},No,qo,Ln=e=>{if(!qo)qo=new WeakSet;else if(qo.has(e))return!1;return qo.add(e),!0},uD=class extends In{constructor(){super(...arguments),this.beanName="dragSvc",this.dragging=!1,this.drag=null,this.dragSources=[]}get startTarget(){return this.drag?.start.target??null}isPointer(){return!!No?.has(wn(this.beans))}hasPointerCapture(){const e=this.drag?.pointerCapture;return!!(e&&this.beans.eRootDiv.hasPointerCapture?.(e.pointerId))}destroy(){this.drag&&this.cancelDrag();const e=this.dragSources;for(const t of e)wm(t);e.length=0,super.destroy()}removeDragSource(e){const t=this.dragSources;for(let r=0,n=t.length;r<n;++r){const i=t[r];if(i.params===e){t.splice(r,1),wm(i);break}}}addDragSource(e){if(!this.isAlive())return;const{eElement:t,includeTouch:r}=e,n=[];let i;if(r){const u=t.style;u&&(i=u.touchAction,u.touchAction="none")}const o={handlers:n,params:e,oldTouchAction:i};this.dragSources.push(o),uu(n,[t,"pointerdown",u=>this.onPointerDown(e,u),{passive:!1}],[t,"mousedown",u=>this.onMouseDown(e,u)]);const l=this.gos.get("suppressTouch");r&&!l&&uu(n,[t,"touchstart",c=>this.onTouchStart(e,c),{passive:!1}])}cancelDrag(e){const t=this.drag;e??(e=t?.eElement),e&&this.eventSvc.dispatchEvent({type:"dragCancelled",target:e}),t?.params.onDragCancel?.(),this.destroyDrag()}shouldPreventMouseEvent(e){const t=e.type;return(t==="mousemove"||t==="pointermove")&&e.cancelable&&ba(this.beans,e)&&!Qs(Rd(e))}initDrag(e,...t){this.drag=e;const r=this.beans,n=a=>this.onScroll(a),i=a=>this.onKeyDown(a),o=wn(r),s=fr(r);uu(e.handlers,[o,"contextmenu",mi],[o,"keydown",i],[s,"scroll",n,{capture:!0}],[s.defaultView||window,"scroll",n],...t)}destroyDrag(){this.dragging=!1;const e=this.drag;if(e){const t=e.rootEl;No?.get(t)===e&&No?.delete(t),this.drag=null,aD(e.pointerCapture),tp(e.handlers)}}onPointerDown(e,t){if(this.isPointer())return;const r=this.beans;if(qo?.has(t))return;const n=t.pointerType;if(n==="touch"&&(r.gos.get("suppressTouch")||!e.includeTouch||(e.stopPropagationForTouch&&t.stopPropagation(),Qs(Rd(t))))||!t.isPrimary||n==="mouse"&&t.button!==0)return;this.destroyDrag();const i=wn(r),o=e.eElement,s=t.pointerId,a=new Ed(i,e,t,s);No??(No=new WeakMap),No.set(i,a);const l=f=>{f.pointerId===s&&this.onMouseOrPointerMove(f)},u=f=>{f.pointerId===s&&this.onMouseOrPointerUp(f)},c=f=>{f.pointerId===s&&Ln(f)&&this.cancelDrag()};this.initDrag(a,[i,"pointerup",u],[i,"pointercancel",c],[i,"pointermove",l,{passive:!1}],[i,"touchmove",mi,{passive:!1}],[o,"mousemove",mi,{passive:!1}]),e.dragStartPixels===0?this.onMouseOrPointerMove(t):Ln(t)}onTouchStart(e,t){if(this.gos.get("suppressTouch")||!e.includeTouch||!Ln(t)||Qs(Rd(t)))return;if(e.stopPropagationForTouch&&t.stopPropagation(),this.isPointer()){mi(t);return}this.destroyDrag();const n=this.beans,i=wn(n),o=new Ed(i,e,t.touches[0]),s=u=>this.onTouchMove(u),a=u=>this.onTouchUp(u),l=t.target??e.eElement;this.initDrag(o,[wn(n),"touchmove",mi,{passive:!1}],[l,"touchmove",s,{passive:!0}],[l,"touchend",a,{passive:!0}],[l,"touchcancel",a,{passive:!0}]),e.dragStartPixels===0&&this.onMove(o.start)}onMouseDown(e,t){if(t.button!==0||qo?.has(t)||this.isPointer())return;const r=this.beans;this.destroyDrag();const n=new Ed(wn(r),e,t),i=a=>this.onMouseOrPointerMove(a),o=a=>this.onMouseOrPointerUp(a),s=wn(r);this.initDrag(n,[s,"mousemove",i],[s,"mouseup",o]),e.dragStartPixels===0?this.onMouseOrPointerMove(t):Ln(t)}onScroll(e){if(!Ln(e))return;const t=this.drag,r=t?.lastDrag;r&&this.dragging&&t.params?.onDragging(r)}onMouseOrPointerMove(e){Ln(e)&&(Bi()&&fr(this.beans).getSelection()?.removeAllRanges(),this.shouldPreventMouseEvent(e)&&mi(e),this.onMove(e))}onTouchMove(e){const t=this.drag;if(!t||!Ln(e))return;const r=ta(t.start,e.touches);r&&(e.preventDefault(),this.onMove(r))}onMove(e){const t=this.drag;if(!t)return;t.lastDrag=e;const r=t.params;if(!this.dragging){const n=t.start,o=r.dragStartPixels??4;if(Bw(e,n,o)||(this.dragging=!0,r.capturePointer&&(t.pointerCapture=sD(this.beans.eRootDiv,e)),this.eventSvc.dispatchEvent({type:"dragStarted",target:r.eElement}),r.onDragStart(n),this.drag!==t)||(r.onDragging(n),this.drag!==t))return}r.onDragging(e)}onTouchUp(e){const t=this.drag;t&&Ln(e)&&this.onUp(ta(t.start,e.changedTouches))}onMouseOrPointerUp(e){Ln(e)&&this.onUp(e)}onUp(e){const t=this.drag;t&&(e||(e=t.lastDrag),e&&this.dragging&&(this.dragging=!1,t.params.onDragStop(e),this.eventSvc.dispatchEvent({type:"dragStopped",target:t.params.eElement})),this.destroyDrag())}onKeyDown(e){e.key===me.ESCAPE&&this.cancelDrag()}},wm=e=>{tp(e.handlers);const t=e.oldTouchAction;if(t!=null){const r=e.params.eElement.style;r&&(r.touchAction=t)}},Ed=class{constructor(e,t,r,n=null){this.rootEl=e,this.params=t,this.start=r,this.pointerId=n,this.handlers=[],this.lastDrag=null,this.pointerCapture=null,this.eElement=t.eElement}},Rd=e=>{const t=e.target;return t instanceof Element?t:null},cD=class extends In{constructor(){super(...arguments),this.beanName="dragAndDrop",this.dragSourceAndParamsList=[],this.dragItem=null,this.dragInitialSourcePointerOffsetX=0,this.dragInitialSourcePointerOffsetY=0,this.lastMouseEvent=null,this.lastDraggingEvent=null,this.dragSource=null,this.dragImageParent=null,this.dragImageCompPromise=null,this.dragImageComp=null,this.dragImageLastIcon=void 0,this.dragImageLastLabel=void 0,this.dropTargets=[],this.lastDropTarget=null}addDragSource(e,t=!1){const r={capturePointer:!0,dragSource:e,eElement:e.eElement,dragStartPixels:e.dragStartPixels,onDragStart:n=>this.onDragStart(e,n),onDragStop:this.onDragStop.bind(this),onDragging:this.onDragging.bind(this),onDragCancel:this.onDragCancel.bind(this),includeTouch:t};this.dragSourceAndParamsList.push(r),this.beans.dragSvc.addDragSource(r)}setDragImageCompIcon(e,t=!1){const r=this.dragImageComp;r&&(t||this.dragImageLastIcon!==e)&&(this.dragImageLastIcon=e,r.setIcon(e,t))}removeDragSource(e){const{dragSourceAndParamsList:t,beans:r}=this,n=t.find(i=>i.dragSource===e);n&&(r.dragSvc?.removeDragSource(n),pn(t,n))}destroy(){const{dragSourceAndParamsList:e,dropTargets:t,beans:r}=this,n=r.dragSvc;for(const i of e)n?.removeDragSource(i);e.length=0,t.length=0,this.clearDragAndDropProperties(),super.destroy()}nudge(){const e=this.lastMouseEvent;e&&this.onDragging(e,!0)}onDragStart(e,t){this.lastMouseEvent=t,this.dragSource=e,this.dragItem=e.getDragItem();const r=e.eElement.getBoundingClientRect();this.dragInitialSourcePointerOffsetX=t.clientX-r.left,this.dragInitialSourcePointerOffsetY=t.clientY-r.top,e.onDragStarted?.(),this.createAndUpdateDragImageComp(e)}onDragStop(e){const{dragSource:t,lastDropTarget:r}=this;if(t?.onDragStopped?.(),r){const n=this.dropTargetEvent(r,e,!1);r.onDragStop?.(n)}this.clearDragAndDropProperties()}onDragCancel(){const{dragSource:e,lastDropTarget:t,lastMouseEvent:r}=this;if(e?.onDragCancelled?.(),t&&r){const n=this.dropTargetEvent(t,r,!1);t.onDragCancel?.(n)}this.clearDragAndDropProperties()}onDragging(e,t=!1){this.positionDragImageComp(e);const r=this.findCurrentDropTarget(e),{lastDropTarget:n,dragSource:i,dragItem:o}=this;let s=!1;if(r!==n){if(s=!0,n){const a=this.dropTargetEvent(n,e,t);n.onDragLeave?.(a)}if(n!==null&&!r?this.handleExit(i,o):n===null&&r&&this.handleEnter(i,o),r){const a=this.dropTargetEvent(r,e,t);r.onDragEnter?.(a)}this.lastDropTarget=r}else if(r){const a=this.dropTargetEvent(r,e,t);r.onDragging?.(a),a?.changed&&(s=!0)}this.lastMouseEvent=e,s&&this.updateDragImageComp()}clearDragAndDropProperties(){this.removeDragImageComp(this.dragImageComp),this.dragImageCompPromise=null,this.dragImageParent=null,this.dragImageLastIcon=void 0,this.dragImageLastLabel=void 0,this.lastMouseEvent=null,this.lastDraggingEvent=null,this.lastDropTarget=null,this.dragItem=null,this.dragInitialSourcePointerOffsetX=0,this.dragInitialSourcePointerOffsetY=0,this.dragSource=null}getAllContainersFromDropTarget(e){const t=e.getSecondaryContainers?e.getSecondaryContainers():null,r=[[e.getContainer()]];return t?r.concat(t):r}isMouseOnDropTarget(e,t){const r=this.getAllContainersFromDropTarget(t);let n=!1;const i=(a,l)=>{for(const u of l){const{width:c,height:f,left:d,right:h,top:g,bottom:m}=u.getBoundingClientRect();if(c===0||f===0)return!1;const p=a.clientX>=d&&a.clientX<h,y=a.clientY>=g&&a.clientY<m;if(!p||!y)return!1}return!0};for(const a of r)if(i(e,a)){n=!0;break}const{eElement:o,type:s}=this.dragSource;return t.targetContainsSource&&!t.getContainer().contains(o)?!1:n&&t.isInterestedIn(s,o)}findCurrentDropTarget(e){const t=this.dropTargets.filter(o=>this.isMouseOnDropTarget(e,o)),r=t.length;if(r===0)return null;if(r===1)return t[0];const i=wn(this.beans).elementsFromPoint(e.clientX,e.clientY);for(const o of i)for(const s of t)if(this.getAllContainersFromDropTarget(s).flatMap(l=>l).indexOf(o)!==-1)return s;return null}addDropTarget(e){this.dropTargets.push(e)}removeDropTarget(e){this.dropTargets=this.dropTargets.filter(t=>t.getContainer()!==e.getContainer())}hasExternalDropZones(){return this.dropTargets.some(e=>e.external)}findExternalZone(e){return this.dropTargets.find(t=>t.external&&t.getContainer()===e)||null}dropTargetEvent(e,t,r){const{dragSource:n,dragItem:i,lastDraggingEvent:o,lastMouseEvent:s,dragInitialSourcePointerOffsetX:a,dragInitialSourcePointerOffsetY:l}=this,u=e.getContainer(),c=u.getBoundingClientRect(),{clientX:f,clientY:d}=t,h=f-(s?.clientX||0),g=d-(s?.clientY||0),m=this.createEvent({event:t,x:f-c.left,y:d-c.top,vDirection:g>0?"down":g<0?"up":null,hDirection:h<0?"left":h>0?"right":null,initialSourcePointerOffsetX:a,initialSourcePointerOffsetY:l,dragSource:n,fromNudge:r,dragItem:i,dropZoneTarget:u,dropTarget:o?.dropTarget??null,changed:!!o?.changed});return this.lastDraggingEvent=m,m}positionDragImageComp(e){const t=this.dragImageComp?.getGui();t&&tA(t,e,this.beans)}removeDragImageComp(e){this.dragImageComp===e&&(this.dragImageComp=null),e&&(e.getGui()?.remove(),this.destroyBean(e))}createAndUpdateDragImageComp(e){const t=this.createDragImageComp(e)??null;this.dragImageCompPromise=t,t?.then(r=>{if(t!==this.dragImageCompPromise||!this.lastMouseEvent||!this.isAlive()){this.destroyBean(r);return}this.dragImageCompPromise=null,this.dragImageLastIcon=void 0,this.dragImageLastLabel=void 0;const n=this.dragImageComp;n!==r&&(this.dragImageComp=r,this.removeDragImageComp(n)),r&&(this.appendDragImageComp(r),this.updateDragImageComp())})}appendDragImageComp(e){const t=e.getGui(),r=t.style;r.position="absolute",r.zIndex="9999",this.beans.dragSvc?.hasPointerCapture()&&(r.pointerEvents="none"),this.gos.setInstanceDomData(t),this.beans.environment.applyThemeClasses(t),r.top="20px",r.left="20px";const n=Jf(this.beans);this.dragImageParent=n,n?n.appendChild(t):this.warnNoBody()}updateDragImageComp(){const{dragImageComp:e,dragSource:t,lastDropTarget:r,lastDraggingEvent:n,dragImageLastLabel:i}=this;if(!e)return;this.setDragImageCompIcon(r?.getIconName?.(n)??null);let o=t?.dragItemName;typeof o=="function"&&(o=o(n)),o||(o=""),i!==o&&(this.dragImageLastLabel=o,e.setLabel(o))}},dD=class extends cD{createEvent(e){return Ue(this.gos,e)}createDragImageComp(e){const{gos:t,beans:r}=this;return I4(r.userCompFactory,Ue(t,{dragSource:e}))?.newAgStackInstance()}handleEnter(e,t){e?.onGridEnter?.(t)}handleExit(e,t){e?.onGridExit?.(t)}warnNoBody(){Se(54)}isDropZoneWithinThisGrid(e){return this.beans.ctrlsSvc.getGridBodyCtrl().eGridBody.contains(e.dropZoneTarget)}registerGridDropTarget(e,t){const r={getContainer:e,isInterestedIn:n=>n===1||n===0,getIconName:()=>"notAllowed"};this.addDropTarget(r),t.addDestroyFunc(()=>this.removeDropTarget(r))}};function H1(e,t){return e+"_"+t}function rr(e){return e instanceof Ca}var Ca=class extends ve{constructor(e,t,r,n){super(),this.providedColumnGroup=e,this.groupId=t,this.partId=r,this.pinned=n,this.isColumn=!1,this.displayedChildren=[],this.autoHeaderHeight=null,this.parent=null,this.colIdSanitised=Xs(this.getUniqueId())}reset(){this.parent=null,this.children=null,this.displayedChildren=null}getParent(){return this.parent}getUniqueId(){return H1(this.groupId,this.partId)}isEmptyGroup(){return this.displayedChildren.length===0}isMoving(){const e=this.getProvidedColumnGroup().getLeafColumns();return!e||e.length===0?!1:e.every(t=>t.isMoving())}checkLeft(){for(const e of this.displayedChildren)rr(e)&&e.checkLeft();if(this.displayedChildren.length>0)if(this.gos.get("enableRtl")){const t=Gt(this.displayedChildren).getLeft();this.setLeft(t)}else{const e=this.displayedChildren[0].getLeft();this.setLeft(e)}else this.setLeft(null)}getLeft(){return this.left}getOldLeft(){return this.oldLeft}setLeft(e){this.oldLeft=this.left,this.left!==e&&(this.left=e,this.dispatchLocalEvent({type:"leftChanged"}))}getPinned(){return this.pinned}getGroupId(){return this.groupId}getPartId(){return this.partId}getActualWidth(){let e=0;for(const t of this.displayedChildren??[])e+=t.getActualWidth();return e}isResizable(){if(!this.displayedChildren)return!1;let e=!1;for(const t of this.displayedChildren)t.isResizable()&&(e=!0);return e}getMinWidth(){let e=0;for(const t of this.displayedChildren)e+=t.getMinWidth();return e}addChild(e){this.children||(this.children=[]),this.children.push(e)}getDisplayedChildren(){return this.displayedChildren}getLeafColumns(){const e=[];return this.addLeafColumns(e),e}getDisplayedLeafColumns(){const e=[];return this.addDisplayedLeafColumns(e),e}getDefinition(){return this.providedColumnGroup.getColGroupDef()}getColGroupDef(){return this.providedColumnGroup.getColGroupDef()}isPadding(){return this.providedColumnGroup.isPadding()}isExpandable(){return this.providedColumnGroup.isExpandable()}isExpanded(){return this.providedColumnGroup.isExpanded()}setExpanded(e){this.providedColumnGroup.setExpanded(e)}isAutoHeaderHeight(){return!!this.getColGroupDef()?.autoHeaderHeight}getAutoHeaderHeight(){return this.autoHeaderHeight}setAutoHeaderHeight(e){const t=e!==this.autoHeaderHeight;return this.autoHeaderHeight=e,t}addDisplayedLeafColumns(e){for(const t of this.displayedChildren??[])Ai(t)?e.push(t):rr(t)&&t.addDisplayedLeafColumns(e)}addLeafColumns(e){for(const t of this.children??[])Ai(t)?e.push(t):rr(t)&&t.addLeafColumns(e)}getChildren(){return this.children}getColumnGroupShow(){return this.providedColumnGroup.getColumnGroupShow()}getProvidedColumnGroup(){return this.providedColumnGroup}getPaddingLevel(){const e=this.getParent();return!this.isPadding()||!e?.isPadding()?0:1+e.getPaddingLevel()}calculateDisplayedColumns(){this.displayedChildren=[];let e=this;for(;e?.isPadding();)e=e.getParent();if(!(e?e.getProvidedColumnGroup().isExpandable():!1)){this.displayedChildren=this.children,this.dispatchLocalEvent({type:"displayedChildrenChanged"});return}for(const r of this.children??[]){if(rr(r)&&!r.displayedChildren?.length)continue;switch(r.getColumnGroupShow()){case"open":e.getProvidedColumnGroup().isExpanded()&&this.displayedChildren.push(r);break;case"closed":e.getProvidedColumnGroup().isExpanded()||this.displayedChildren.push(r);break;default:this.displayedChildren.push(r);break}}this.dispatchLocalEvent({type:"displayedChildrenChanged"})}},Kh="row-group-",bp="t-",yp="b-",hD=0,Ti=class{constructor(e){this.master=!1,this.detail=void 0,this.rowIndex=null,this.key=null,this.sourceRowIndex=-1,this._leafs=void 0,this.childrenMapped=null,this.treeParent=null,this.treeNodeFlags=0,this.displayed=!1,this.rowTop=null,this.oldRowTop=null,this.selectable=!0,this.__objectId=hD++,this.alreadyRendered=!1,this.hovered=!1,this.__selected=!1,this.beans=e}get allLeafChildren(){const e=this._leafs;return e===void 0?this.beans.groupStage?.loadLeafs?.(this)??null:e}set allLeafChildren(e){this._leafs=e}setData(e){this.setDataCommon(e,!1)}updateData(e){this.setDataCommon(e,!0)}setDataCommon(e,t){const{valueCache:r,eventSvc:n}=this.beans,i=this.data;this.data=e,r?.onDataChanged(),this.updateDataOnDetailNode(),this.resetQuickFilterAggregateText();const o=this.createDataChangedEvent(e,i,t);if(this.__localEventService?.dispatchEvent(o),this.sibling){this.sibling.data=e;const a=this.sibling.createDataChangedEvent(e,i,t);this.sibling.__localEventService?.dispatchEvent(a)}n.dispatchEvent({type:"rowNodeDataChanged",node:this});const s=this.pinnedSibling;s&&(s.data=e,s.__localEventService?.dispatchEvent(s.createDataChangedEvent(e,i,t)),n.dispatchEvent({type:"rowNodeDataChanged",node:s}))}updateDataOnDetailNode(){const e=this.detailNode;e&&(e.data=this.data)}createDataChangedEvent(e,t,r){return{type:"dataChanged",node:this,oldData:t,newData:e,update:r}}getRowIndexString(){return this.rowIndex==null?(Ot(13),null):this.rowPinned==="top"?bp+this.rowIndex:this.rowPinned==="bottom"?yp+this.rowIndex:this.rowIndex.toString()}setDataAndId(e,t){const{selectionSvc:r}=this.beans,n=r?.createDaemonNode?.(this),i=this.data;this.data=e,this.updateDataOnDetailNode(),this.setId(t),r&&(r.updateRowSelectable(this),r.syncInRowNode(this,n));const o=this.createDataChangedEvent(e,i,!1);this.__localEventService?.dispatchEvent(o)}setId(e){const t=ys(this.beans.gos);if(t)if(this.data){const r=this.parent?.getRoute()??[];this.id=t({data:this.data,parentKeys:r.length>0?r:void 0,level:this.level,rowPinned:this.rowPinned}),this.id.startsWith(Kh)&&Ot(14,{groupPrefix:Kh})}else this.id=void 0;else this.id=e}setRowTop(e){if(this.oldRowTop=this.rowTop,this.rowTop===e)return;this.rowTop=e,this.dispatchRowEvent("topChanged");const t=e!==null;this.displayed!==t&&(this.displayed=t,this.dispatchRowEvent("displayedChanged"))}clearRowTopAndRowIndex(){this.oldRowTop=null,this.setRowTop(null),this.setRowIndex(null)}setHovered(e){this.hovered=e}isHovered(){return this.hovered}setRowHeight(e,t=!1){this.rowHeight=e,this.rowHeightEstimated=t,this.dispatchRowEvent("heightChanged")}setExpanded(e,t,r){this.beans.expansionSvc?.setExpanded(this,e,t,r)}setDataValue(e,t,r){const{colModel:n,valueSvc:i,gos:o,editSvc:s}=this.beans,a=typeof e!="string"?e:n.getCol(e)??n.getColDefCol(e);if(!a)return!1;const l=i.getValueForDisplay(a,this,void 0,void 0,"api").value;if(o.get("readOnlyEdit")){const{beans:{eventSvc:c},data:f,rowIndex:d,rowPinned:h}=this;return c.dispatchEvent({type:"cellEditRequest",event:null,rowIndex:d,rowPinned:h,column:a,colDef:a.colDef,data:f,node:this,oldValue:l,newValue:t,value:t,source:r}),!1}if(s&&!s.committing){const c=s.setDataValue({rowNode:this,column:a},t,r);if(c!=null)return c}const u=i.setValue(this,a,t,r);return this.dispatchCellChangedEvent(a,t,l),u&&this.pinnedSibling?.dispatchCellChangedEvent(a,t,l),u}updateHasChildren(){let e=this.group&&!this.footer||!!this.childrenAfterGroup?.length;const{rowChildrenSvc:t}=this.beans;t&&(e=t.getHasChildrenValue(this)),e!==this.__hasChildren&&(this.__hasChildren=!!e,this.dispatchRowEvent("hasChildrenChanged"))}hasChildren(){return this.__hasChildren==null&&this.updateHasChildren(),this.__hasChildren}dispatchCellChangedEvent(e,t,r){const n={type:"cellChanged",node:this,column:e,newValue:t,oldValue:r};this.__localEventService?.dispatchEvent(n)}resetQuickFilterAggregateText(){this.quickFilterAggregateText=null}isExpandable(){return this.beans.expansionSvc?.isExpandable(this)??!1}isSelected(){if(this.footer)return this.sibling.isSelected();const e=this.rowPinned&&this.pinnedSibling;return e?e.isSelected():this.__selected}depthFirstSearch(e){const t=this.childrenAfterGroup;if(t)for(let r=0,n=t.length;r<n;++r)t[r].depthFirstSearch(e);e(this)}dispatchRowEvent(e){this.__localEventService?.dispatchEvent({type:e,node:this})}setSelected(e,t=!1,r="api"){this.beans.selectionSvc?.setNodesSelected({nodes:[this],newValue:e,clearSelection:t,source:r})}isRowPinned(){return!!this.rowPinned}__addEventListener(e,t){(this.__localEventService??(this.__localEventService=new go)).addEventListener(e,t)}__removeEventListener(e,t){this.removeLocalListener(e,t)}addEventListener(e,t){this.beans.validation?.checkRowEvents(e);const r=this.__localEventService??(this.__localEventService=new go);this.frameworkEventListenerService=this.beans.frameworkOverrides.createLocalEventListenerWrapper?.(this.frameworkEventListenerService,r);const n=this.frameworkEventListenerService?.wrap(e,t)??t;r.addEventListener(e,n)}removeEventListener(e,t){const r=this.frameworkEventListenerService?.unwrap(e,t)??t;this.removeLocalListener(e,r)}removeLocalListener(e,t){const r=this.__localEventService;r&&(r.removeEventListener(e,t),r.noRegisteredListenersExist()&&(this.__localEventService=null))}isFullWidthCell(){if(Se(61),this.detail)return!0;const e=this.beans.gos.getCallback("isFullWidthRow");return e?e({rowNode:this}):!1}getRoute(){if(this.level===-1)return[];if(this.key==null)return;const e=[];let t=this;for(;t?.key!=null;)e.push(t.key),t=t.parent;return e.reverse()}setRowIndex(e){this.rowIndex!==e&&(this.rowIndex=e,this.dispatchRowEvent("rowIndexChanged"))}setAllChildrenCount(e){this.allChildrenCount!==e&&(this.allChildrenCount=e,this.dispatchRowEvent("allChildrenCountChanged"))}setUiLevel(e){this.uiLevel!==e&&(this.uiLevel=e,this.dispatchRowEvent("uiLevelChanged"))}getFirstChild(){const e=this.childStore;return e?e.getFirstNode():this.childrenAfterSort?.[0]??null}};function fD(e,t,r){return Ue(t,{type:r,node:e,data:e.data,rowIndex:e.rowIndex,rowPinned:e.rowPinned})}var pD=new Set(["__autoHeights","__checkAutoHeightsDebounced","__localEventService","__objectId","_leafs","childStore","oldRowTop","sticky","treeNodeFlags","treeParent"]),gD=(e,t)=>{const r=new Ti(t);for(const n of Object.keys(e))pD.has(n)||(r[n]=e[n]);return r.oldRowTop=null,r},G1=e=>{for(;e?.length;){const t=e[0];if(t.data)return t;e=t.childrenAfterGroup}},j1={agSetColumnFilter:"agSetColumnFilterHandler",agMultiColumnFilter:"agMultiColumnFilterHandler",agGroupColumnFilter:"agGroupColumnFilterHandler",agNumberColumnFilter:"agNumberColumnFilterHandler",agDateColumnFilter:"agDateColumnFilterHandler",agTextColumnFilter:"agTextColumnFilterHandler"},mD=new Set(Object.values(j1));function di(e,t){const r=e.filterUi;if(!r)return null;if(r.created)return r.promise;if(t)return null;const n=r.create(r.refreshed),i=r;return i.created=!0,i.promise=n,n}function bD(e,t,r,n,i,o,s){return t.refresh?.({...r,model:n,source:o,additionalEventAttributes:s}),e().then(a=>{if(a){const{filter:l,filterParams:u}=a;z1(l,u,n,i,o,s)}})}function z1(e,t,r,n,i,o){e?.refresh?.({...t,model:r,state:n,source:i,additionalEventAttributes:o})}function V1(e,t,r){const n=e();n?.created&&n.promise.then(i=>{const o=t();z1(i,n.filterParams,o,r()??{model:o},"ui")})}function Cm(e,t,r,n,i,o,s){let a,l=!1,u;switch(e){case"apply":{const c=n();u=c?.model??null,s&&(u=s(u)),a={state:c?.state,model:u},l=!0;break}case"clear":{a={model:null};break}case"reset":{a={model:null},l=!0,u=null;break}case"cancel":{a={model:r()};break}}i(a),l?o(u):V1(t,r,n)}function dr(e,t){return e[t]??null}function Pr(e){return La(e)}function yD(e){return{tag:"div",cls:e}}var vD=class extends Xt{constructor(e){const{className:t="ag-filter-apply-panel"}=e??{};super(yD(t)),this.listeners=[],this.validationMessage=null,this.className=t}updateButtons(e,t){const r=this.buttons;if(this.buttons=e,r===e)return;const n=this.getGui();zr(n);let i;this.destroyListeners();const o=document.createDocumentFragment(),s=this.className,a=({type:u,label:c})=>{const f=y=>{this.dispatchLocalEvent({type:u,event:y})};["apply","clear","reset","cancel"].includes(u)||Se(75);const d=u==="apply",g=Pr({tag:"button",attrs:{type:d&&t?"submit":"button"},ref:`${u}FilterButton`,cls:`ag-button ag-standard-button ${s}-button${d?" "+s+"-apply-button":""}`,children:c});this.activateTabIndex([g]),d&&(i=g);const m=y=>{y.key===me.ENTER&&(y.preventDefault(),f(y))},p=this.listeners;g.addEventListener("click",f),p.push(()=>g.removeEventListener("click",f)),g.addEventListener("keydown",m),p.push(()=>g.removeEventListener("keydown",m)),o.append(g)};for(const u of e)a(u);this.eApply=i;const l=this.validationTooltipFeature;i&&!l?this.validationTooltipFeature=this.createOptionalManagedBean(this.beans.registry.createDynamicBean("tooltipFeature",!1,{getGui:()=>this.eApply,getLocation:()=>"advancedFilter",getTooltipShowDelayOverride:()=>1e3})):!i&&l&&(this.validationTooltipFeature=this.destroyBean(l)),n.append(o)}getApplyButton(){return this.eApply}updateValidity(e,t=null){const r=this.eApply;r&&(ga(r,e===!1),this.validationMessage=t??null,this.validationTooltipFeature?.setTooltipAndRefresh(this.validationMessage))}destroyListeners(){for(const e of this.listeners)e();this.listeners=[]}destroy(){this.destroyListeners(),super.destroy()}},wD={applyFilter:"Apply",clearFilter:"Clear",resetFilter:"Reset",cancelFilter:"Cancel",textFilter:"Text Filter",numberFilter:"Number Filter",dateFilter:"Date Filter",setFilter:"Set Filter",filterOoo:"Filter...",empty:"Choose one",equals:"Equals",notEqual:"Does not equal",lessThan:"Less than",greaterThan:"Greater than",inRange:"Between",inRangeStart:"From",inRangeEnd:"To",lessThanOrEqual:"Less than or equal to",greaterThanOrEqual:"Greater than or equal to",contains:"Contains",notContains:"Does not contain",startsWith:"Begins with",endsWith:"Ends with",blank:"Blank",notBlank:"Not blank",before:"Before",after:"After",andCondition:"AND",orCondition:"OR",dateFormatOoo:"yyyy-mm-dd",filterSummaryInactive:"is (All)",filterSummaryContains:"contains",filterSummaryNotContains:"does not contain",filterSummaryTextEquals:"equals",filterSummaryTextNotEqual:"does not equal",filterSummaryStartsWith:"begins with",filterSummaryEndsWith:"ends with",filterSummaryBlank:"is blank",filterSummaryNotBlank:"is not blank",filterSummaryEquals:"=",filterSummaryNotEqual:"!=",filterSummaryGreaterThan:">",filterSummaryGreaterThanOrEqual:">=",filterSummaryLessThan:"<",filterSummaryLessThanOrEqual:"<=",filterSummaryInRange:"between",filterSummaryInRangeValues:e=>`(${e[0]}, ${e[1]})`,filterSummaryTextQuote:e=>`"${e[0]}"`};function vi(e,t,r){return nA(e,wD,t,r)}function vp(e,t){const{debounceMs:r}=e;return Oc(e)?(r!=null&&Se(71),0):r??t}function Oc(e){return(e.buttons?.indexOf("apply")??-1)>=0}var CD=class extends Xt{constructor(e,t,r,n,i,o){super(),this.column=e,this.wrapper=t,this.eventParent=r,this.updateModel=n,this.isGlobalButtons=i,this.enableGlobalButtonCheck=o,this.hidePopup=null,this.applyActive=!1}postConstruct(){const{comp:e,params:t}=this.wrapper,r=t,n=r.useForm,i=n?"form":"div";this.setTemplate({tag:i,cls:"ag-filter-wrapper"}),n&&this.addManagedElementListeners(this.getGui(),{submit:o=>{o?.preventDefault()},keydown:this.handleKeyDown.bind(this)}),this.appendChild(e.getGui()),this.params=r,this.resetButtonsPanel(r),this.addManagedListeners(this.eventParent,{filterParamsChanged:({column:o,params:s})=>{o===this.column&&this.resetButtonsPanel(s,this.params)},filterStateChanged:({column:o,state:s})=>{o===this.column&&this.eButtons?.updateValidity(s.valid!==!1)},filterAction:({column:o,action:s,event:a})=>{o===this.column&&this.afterAction(s,a)},...this.enableGlobalButtonCheck?{filterGlobalButtons:({isGlobal:o})=>{if(o!==this.isGlobalButtons){this.isGlobalButtons=o;const s=this.params;this.resetButtonsPanel(s,s,!0)}}}:void 0})}afterGuiAttached(e){e&&(this.hidePopup=e.hidePopup)}resetButtonsPanel(e,t,r){const{buttons:n,readOnly:i}=t??{},{buttons:o,readOnly:s,useForm:a}=e;if(!r&&i===s&&fa(n,o))return;const l=o&&o.length>0&&!e.readOnly&&!this.isGlobalButtons;let u=this.eButtons;if(l){const c=o.map(f=>{const d=`${f}Filter`;return{type:f,label:vi(this,d)}});if(this.applyActive=Oc(this.params),!u){u=this.createBean(new vD),this.appendChild(u.getGui());const f=this.column,d=h=>({event:g})=>{this.updateModel(f,h,{fromButtons:!0}),this.afterAction(h,g)};u?.addManagedListeners(u,{apply:d("apply"),clear:d("clear"),reset:d("reset"),cancel:d("cancel")}),this.eButtons=u}u.updateButtons(c,a)}else this.applyActive=!1,u&&(Ei(u.getGui()),this.eButtons=this.destroyBean(u))}close(e){const t=this.hidePopup;if(!t)return;const r=e,n=r?.key;let i;(n===me.ENTER||n===me.SPACE)&&(i={keyboardEvent:r}),t(i),this.hidePopup=null}afterAction(e,t){const{params:r,applyActive:n}=this,i=r?.closeOnApply;switch(e){case"apply":{t?.preventDefault(),i&&n&&this.close(t);break}case"reset":{i&&n&&this.close();break}case"cancel":{i&&this.close(t);break}}}handleKeyDown(e){!e.defaultPrevented&&e.key===me.ENTER&&this.applyActive&&(this.updateModel(this.column,"apply",{fromButtons:!0}),this.afterAction("apply",e))}destroy(){this.hidePopup=null,this.eButtons=this.destroyBean(this.eButtons)}},FD={tag:"div",cls:"ag-filter"},SD=class extends Xt{constructor(e,t,r){super(FD),this.column=e,this.source=t,this.enableGlobalButtonCheck=r,this.wrapper=null}postConstruct(){this.beans.colFilter?.activeFilterComps.add(this),this.createFilter(!0),this.addManagedEventListeners({filterDestroyed:this.onFilterDestroyed.bind(this)})}hasFilter(){return this.wrapper!=null}getFilter(){return this.wrapper?.then(e=>e.comp)??null}afterInit(){return this.wrapper?.then(()=>{})??Ct.resolve()}afterGuiAttached(e){this.afterGuiAttachedParams=e,this.wrapper?.then(t=>{this.comp?.afterGuiAttached(e),t?.comp?.afterGuiAttached?.(e)})}afterGuiDetached(){this.wrapper?.then(e=>{e?.comp?.afterGuiDetached?.()})}createFilter(e){const{column:t,source:r,beans:{colFilter:n}}=this,i=n.getFilterUiForDisplay(t)??null;this.wrapper=i,i?.then(o=>{if(!o)return;const{isHandler:s,comp:a}=o;let l;if(s){const u=!!this.enableGlobalButtonCheck,c=this.createBean(new CD(t,o,n,n.updateModel.bind(n),u&&n.isGlobalButtons,u));this.comp=c,l=c.getGui()}else l=a.getGui(),Le(l)||Se(69,{guiFromFilter:l});this.appendChild(l),e?this.eventSvc.dispatchEvent({type:"filterOpened",column:t,source:r,eGui:this.getGui()}):a.afterGuiAttached?.(this.afterGuiAttachedParams)})}onFilterDestroyed(e){const{source:t,column:r}=e;(t==="api"||t==="paramsUpdated")&&r.getId()===this.column.getId()&&this.beans.colModel.getColDefCol(this.column)&&(zr(this.getGui()),this.comp=this.destroyBean(this.comp),this.createFilter())}destroy(){this.beans.colFilter?.activeFilterComps.delete(this),this.eventSvc.dispatchEvent({type:"filterClosed",column:this.column}),this.wrapper=null,this.comp=this.destroyBean(this.comp),this.afterGuiAttachedParams=void 0,super.destroy()}},Fm={january:"January",february:"February",march:"March",april:"April",may:"May",june:"June",july:"July",august:"August",september:"September",october:"October",november:"November",december:"December"},Sm=["january","february","march","april","may","june","july","august","september","october","november","december"];function xD(e,t){return e==null?-1:t==null?1:Number.parseFloat(e)-Number.parseFloat(t)}function xm(e){return e instanceof Date&&!isNaN(e.getTime())}var qh={number:()=>{},boolean:()=>({maxNumConditions:1,debounceMs:0,filterOptions:["empty",{displayKey:"true",displayName:"True",predicate:(e,t)=>t,numberOfInputs:0},{displayKey:"false",displayName:"False",predicate:(e,t)=>t===!1,numberOfInputs:0}]}),date:()=>({isValidDate:xm}),dateString:({dataTypeDefinition:e})=>({comparator:(t,r)=>{const n=e.dateParser(r);return r==null||n<t?-1:n>t?1:0},isValidDate:t=>typeof t=="string"&&xm(e.dateParser(t))}),dateTime:e=>qh.date(e),dateTimeString:e=>qh.dateString(e),object:()=>{},text:()=>{}},Jh={number:()=>({comparator:xD}),boolean:({t:e})=>({valueFormatter:t=>Le(t.value)?e(String(t.value),t.value?"True":"False"):e("blanks","(Blanks)")}),date:({formatValue:e,t})=>({valueFormatter:r=>{const n=e(r);return Le(n)?n:t("blanks","(Blanks)")},treeList:!0,treeListFormatter:(r,n)=>{if(r==="NaN")return t("invalidDate","Invalid Date");if(n===1&&r!=null){const i=Sm[Number(r)-1];return t(i,Fm[i])}return r??t("blanks","(Blanks)")},treeListPathGetter:r=>al(r,!1)}),dateString:({formatValue:e,dataTypeDefinition:t,t:r})=>({valueFormatter:n=>{const i=e(n);return Le(i)?i:r("blanks","(Blanks)")},treeList:!0,treeListPathGetter:n=>al(t.dateParser(n??void 0),!1),treeListFormatter:(n,i)=>{if(i===1&&n!=null){const o=Sm[Number(n)-1];return r(o,Fm[o])}return n??r("blanks","(Blanks)")}}),dateTime:e=>{const t=Jh.date(e);return t.treeListPathGetter=al,t},dateTimeString(e){const t=e.dataTypeDefinition.dateParser,r=Jh.dateString(e);return r.treeListPathGetter=n=>al(t(n??void 0)),r},object:({formatValue:e,t})=>({valueFormatter:r=>{const n=e(r);return Le(n)?n:t("blanks","(Blanks)")}}),text:()=>{}};function kD(e,t,r,n,i,o,s){let a=t,l=r;const u=e==="agSetColumnFilter";!l&&n.baseDataType==="object"&&!u&&(l=({column:h,node:g})=>i({column:h,node:g,value:o.valueSvc.getValue(h,g)}));const f=(u?Jh:qh)[n.baseDataType],d=f({dataTypeDefinition:n,formatValue:i,t:s});return a=typeof t=="object"?{...d,...t}:d,{filterParams:a,filterValueGetter:l}}var ED={boolean:"agTextColumnFilter",date:"agDateColumnFilter",dateString:"agDateColumnFilter",dateTime:"agDateColumnFilter",dateTimeString:"agDateColumnFilter",number:"agNumberColumnFilter",object:"agTextColumnFilter",text:"agTextColumnFilter"},RD={boolean:"agTextColumnFloatingFilter",date:"agDateColumnFloatingFilter",dateString:"agDateColumnFloatingFilter",dateTime:"agDateColumnFloatingFilter",dateTimeString:"agDateColumnFloatingFilter",number:"agNumberColumnFloatingFilter",object:"agTextColumnFloatingFilter",text:"agTextColumnFloatingFilter"};function _D(e,t=!1){return(t?RD:ED)[e??"text"]}var W1="ag-resizer-wrapper",hi=(e,t)=>({tag:"div",ref:`${e}Resizer`,cls:`ag-resizer ag-resizer-${t}`}),AD={tag:"div",cls:W1,children:[hi("eTopLeft","topLeft"),hi("eTop","top"),hi("eTopRight","topRight"),hi("eRight","right"),hi("eBottomRight","bottomRight"),hi("eBottom","bottom"),hi("eBottomLeft","bottomLeft"),hi("eLeft","left")]},TD=class extends ve{constructor(e,t){super(),this.element=e,this.dragStartPosition={x:0,y:0},this.position={x:0,y:0},this.lastSize={width:-1,height:-1},this.positioned=!1,this.resizersAdded=!1,this.resizeListeners=[],this.boundaryEl=null,this.isResizing=!1,this.isMoving=!1,this.resizable={},this.movable=!1,this.currentResizer=null,this.config=Object.assign({},{popup:!1},t)}wireBeans(e){this.popupSvc=e.popupSvc,this.dragSvc=e.dragSvc}center(e){const{clientHeight:t,clientWidth:r}=this.offsetParent,n=r/2-this.getWidth()/2,i=t/2-this.getHeight()/2;this.offsetElement(n,i,e)}initialisePosition(e){if(this.positioned)return;const{centered:t,forcePopupParentAsOffsetParent:r,minWidth:n,width:i,minHeight:o,height:s,x:a,y:l}=this.config;this.offsetParent||this.setOffsetParent();let u=0,c=0;const f=ni(this.element);if(f){const d=this.findBoundaryElement(),h=window.getComputedStyle(d);if(h.minWidth!=null){const g=d.offsetWidth-this.element.offsetWidth;c=Number.parseInt(h.minWidth,10)-g}if(h.minHeight!=null){const g=d.offsetHeight-this.element.offsetHeight;u=Number.parseInt(h.minHeight,10)-g}}if(this.minHeight=o||u,this.minWidth=n||c,i&&this.setWidth(i),s&&this.setHeight(s),(!i||!s)&&this.refreshSize(),t)this.center(e);else if(a||l)this.offsetElement(a,l,e);else if(f&&r){let d=this.boundaryEl,h=!0;if(d||(d=this.findBoundaryElement(),h=!1),d){const g=Number.parseFloat(d.style.top),m=Number.parseFloat(d.style.left);h?this.offsetElement(isNaN(m)?0:m,isNaN(g)?0:g,e):this.setPosition(m,g)}}this.positioned=!!this.offsetParent}isPositioned(){return this.positioned}getPosition(){return this.position}setMovable(e,t){if(!this.config.popup||e===this.movable)return;this.movable=e;const r=this.moveElementDragListener||{eElement:t,onDragStart:this.onMoveStart.bind(this),onDragging:this.onMove.bind(this),onDragStop:this.onMoveEnd.bind(this)};e?(this.dragSvc?.addDragSource(r),this.moveElementDragListener=r):(this.dragSvc?.removeDragSource(r),this.moveElementDragListener=void 0)}setResizable(e){if(this.clearResizeListeners(),e?this.addResizers():this.removeResizers(),typeof e=="boolean"){if(e===!1)return;e={topLeft:e,top:e,topRight:e,right:e,bottomRight:e,bottom:e,bottomLeft:e,left:e}}Object.keys(e).forEach(t=>{const n=!!e[t],i=this.getResizerElement(t),o={dragStartPixels:0,eElement:i,onDragStart:s=>this.onResizeStart(s,t),onDragging:this.onResize.bind(this),onDragStop:s=>this.onResizeEnd(s,t)};(n||!this.isAlive()&&!n)&&(n?(this.dragSvc?.addDragSource(o),this.resizeListeners.push(o),i.style.pointerEvents="all"):i.style.pointerEvents="none",this.resizable[t]=n)})}removeSizeFromEl(){this.element.style.removeProperty("height"),this.element.style.removeProperty("width"),this.element.style.removeProperty("flex")}restoreLastSize(){this.element.style.flex="0 0 auto";const{height:e,width:t}=this.lastSize;t!==-1&&(this.element.style.width=`${t}px`),e!==-1&&(this.element.style.height=`${e}px`)}getHeight(){return this.element.offsetHeight}setHeight(e){const{popup:t}=this.config,r=this.element;let n=!1;if(typeof e=="string"&&e.includes("%"))ea(r,e),e=Aw(r),n=!0;else if(e=Math.max(this.minHeight,e),this.positioned){const i=this.getAvailableHeight();i&&e>i&&(e=i)}this.getHeight()!==e&&(n?(r.style.maxHeight="unset",r.style.minHeight="unset"):t?ea(r,e):(r.style.height=`${e}px`,r.style.flex="0 0 auto",this.lastSize.height=typeof e=="number"?e:Number.parseFloat(e)))}getAvailableHeight(){const{popup:e,forcePopupParentAsOffsetParent:t}=this.config;this.positioned||this.initialisePosition();const{clientHeight:r}=this.offsetParent;if(!r)return null;const n=this.element.getBoundingClientRect(),i=this.offsetParent.getBoundingClientRect(),o=e?this.position.y:n.top,s=e?0:i.top;let a=0;if(t){const u=this.element.parentElement;if(u){const{bottom:c}=u.getBoundingClientRect();a=c-n.bottom}}return r+s-o-a}getWidth(){return this.element.offsetWidth}setWidth(e){const t=this.element,{popup:r}=this.config;let n=!1;if(typeof e=="string"&&e.includes("%"))_n(t,e),e=Uu(t),n=!0;else if(this.positioned){e=Math.max(this.minWidth,e);const{clientWidth:i}=this.offsetParent,o=r?this.position.x:this.element.getBoundingClientRect().left;i&&e+o>i&&(e=i-o)}this.getWidth()!==e&&(n?(t.style.maxWidth="unset",t.style.minWidth="unset"):this.config.popup?_n(t,e):(t.style.width=`${e}px`,t.style.flex=" unset",this.lastSize.width=typeof e=="number"?e:Number.parseFloat(e)))}offsetElement(e=0,t=0,r){const{forcePopupParentAsOffsetParent:n}=this.config,i=n?this.boundaryEl:this.element;i&&(this.popupSvc?.positionPopup({ePopup:i,keepWithinBounds:!0,skipObserver:this.movable||this.isResizable(),updatePosition:()=>({x:e,y:t}),postProcessCallback:r}),this.setPosition(Number.parseFloat(i.style.left),Number.parseFloat(i.style.top)))}constrainSizeToAvailableHeight(e){if(!this.config.forcePopupParentAsOffsetParent)return;const t=()=>{const r=this.getAvailableHeight();this.element.style.setProperty("max-height",`${r}px`)};e&&this.popupSvc?(this.resizeObserverSubscriber?.(),this.resizeObserverSubscriber=ii(this.beans,this.popupSvc?.getPopupParent(),t)):(this.element.style.removeProperty("max-height"),this.resizeObserverSubscriber&&(this.resizeObserverSubscriber(),this.resizeObserverSubscriber=void 0))}setPosition(e,t){this.position.x=e,this.position.y=t}updateDragStartPosition(e,t){this.dragStartPosition={x:e,y:t}}calculateMouseMovement(e){const{e:t,isLeft:r,isTop:n,anywhereWithin:i,topBuffer:o}=e,s=t.clientX-this.dragStartPosition.x,a=t.clientY-this.dragStartPosition.y,l=this.shouldSkipX(t,!!r,!!i,s)?0:s,u=this.shouldSkipY(t,!!n,o,a)?0:a;return{movementX:l,movementY:u}}shouldSkipX(e,t,r,n){const i=this.element.getBoundingClientRect(),o=this.offsetParent.getBoundingClientRect(),s=this.boundaryEl.getBoundingClientRect(),a=this.config.popup?this.position.x:i.left;let l=a<=0&&o.left>=e.clientX||o.right<=e.clientX&&o.right<=s.right;return l?!0:(t?l=n<0&&e.clientX>a+o.left||n>0&&e.clientX<a+o.left:r?l=n<0&&e.clientX>s.right||n>0&&e.clientX<a+o.left:l=n<0&&e.clientX>s.right||n>0&&e.clientX<s.right,l)}shouldSkipY(e,t,r=0,n){const i=this.element.getBoundingClientRect(),o=this.offsetParent.getBoundingClientRect(),s=this.boundaryEl.getBoundingClientRect(),a=this.config.popup?this.position.y:i.top;let l=a<=0&&o.top>=e.clientY||o.bottom<=e.clientY&&o.bottom<=s.bottom;return l?!0:(t?l=n<0&&e.clientY>a+o.top+r||n>0&&e.clientY<a+o.top:l=n<0&&e.clientY>s.bottom||n>0&&e.clientY<s.bottom,l)}createResizeMap(){const e=t=>({element:this.element.querySelector(`[data-ref=${t}Resizer]`)});this.resizerMap={topLeft:e("eTopLeft"),top:e("eTop"),topRight:e("eTopRight"),right:e("eRight"),bottomRight:e("eBottomRight"),bottom:e("eBottom"),bottomLeft:e("eBottomLeft"),left:e("eLeft")}}addResizers(){if(this.resizersAdded)return;const e=this.element;e&&(e.appendChild(Pr(AD)),this.createResizeMap(),this.resizersAdded=!0)}removeResizers(){this.resizerMap=void 0,this.element.querySelector(`.${W1}`)?.remove(),this.resizersAdded=!1}getResizerElement(e){return this.resizerMap[e].element}onResizeStart(e,t){this.boundaryEl=this.findBoundaryElement(),this.positioned||this.initialisePosition(),this.currentResizer={isTop:!!t.match(/top/i),isRight:!!t.match(/right/i),isBottom:!!t.match(/bottom/i),isLeft:!!t.match(/left/i)},this.element.classList.add("ag-resizing"),this.resizerMap[t].element.classList.add("ag-active");const{popup:r,forcePopupParentAsOffsetParent:n}=this.config;!r&&!n&&this.applySizeToSiblings(this.currentResizer.isBottom||this.currentResizer.isTop),this.isResizing=!0,this.updateDragStartPosition(e.clientX,e.clientY)}getSiblings(){const t=this.element.parentElement;return t?Array.prototype.slice.call(t.children).filter(r=>!r.classList.contains("ag-hidden")):null}getMinSizeOfSiblings(){const e=this.getSiblings()||[];let t=0,r=0;for(let n=0;n<e.length;n++){const i=e[n],o=!!i.style.flex&&i.style.flex!=="0 0 auto";if(i===this.element)continue;let s=this.minHeight||0,a=this.minWidth||0;if(o){const l=window.getComputedStyle(i);l.minHeight&&(s=Number.parseInt(l.minHeight,10)),l.minWidth&&(a=Number.parseInt(l.minWidth,10))}else s=i.offsetHeight,a=i.offsetWidth;t+=s,r+=a}return{height:t,width:r}}applySizeToSiblings(e){let t=null;const r=this.getSiblings();if(r){for(let n=0;n<r.length;n++){const i=r[n];i!==t&&(e?i.style.height=`${i.offsetHeight}px`:i.style.width=`${i.offsetWidth}px`,i.style.flex="0 0 auto",i===this.element&&(t=r[n+1]))}t&&(t.style.removeProperty("height"),t.style.removeProperty("min-height"),t.style.removeProperty("max-height"),t.style.flex="1 1 auto")}}isResizable(){return Object.values(this.resizable).some(e=>e)}onResize(e){if(!this.isResizing||!this.currentResizer)return;const{popup:t,forcePopupParentAsOffsetParent:r}=this.config,{isTop:n,isRight:i,isBottom:o,isLeft:s}=this.currentResizer,a=i||s,l=o||n,{movementX:u,movementY:c}=this.calculateMouseMovement({e,isLeft:s,isTop:n}),f=this.position.x,d=this.position.y;let h=0,g=0;if(a&&u){const m=s?-1:1,p=this.getWidth(),y=p+u*m;let b=!1;s&&(h=p-y,(f+h<=0||y<=this.minWidth)&&(b=!0,h=0)),b||this.setWidth(y)}if(l&&c){const m=n?-1:1,p=this.getHeight(),y=p+c*m;let b=!1;n?(g=p-y,(d+g<=0||y<=this.minHeight)&&(b=!0,g=0)):!this.config.popup&&!this.config.forcePopupParentAsOffsetParent&&p<y&&this.getMinSizeOfSiblings().height+y>this.element.parentElement.offsetHeight&&(b=!0),b||this.setHeight(y)}this.updateDragStartPosition(e.clientX,e.clientY),((t||r)&&h||g)&&this.offsetElement(f+h,d+g)}onResizeEnd(e,t){this.isResizing=!1,this.currentResizer=null,this.boundaryEl=null,this.element.classList.remove("ag-resizing"),this.resizerMap[t].element.classList.remove("ag-active"),this.dispatchLocalEvent({type:"resize"})}refreshSize(){const e=this.element;this.config.popup&&(this.config.width||this.setWidth(e.offsetWidth),this.config.height||this.setHeight(e.offsetHeight))}onMoveStart(e){this.boundaryEl=this.findBoundaryElement(),this.positioned||this.initialisePosition(),this.isMoving=!0,this.element.classList.add("ag-moving"),this.updateDragStartPosition(e.clientX,e.clientY)}onMove(e){if(!this.isMoving)return;const{x:t,y:r}=this.position;let n;this.config.calculateTopBuffer&&(n=this.config.calculateTopBuffer());const{movementX:i,movementY:o}=this.calculateMouseMovement({e,isTop:!0,anywhereWithin:!0,topBuffer:n});this.offsetElement(t+i,r+o),this.updateDragStartPosition(e.clientX,e.clientY)}onMoveEnd(){this.isMoving=!1,this.boundaryEl=null,this.element.classList.remove("ag-moving")}setOffsetParent(){this.config.forcePopupParentAsOffsetParent&&this.popupSvc?this.offsetParent=this.popupSvc.getPopupParent():this.offsetParent=this.element.offsetParent}findBoundaryElement(){let e=this.element;for(;e;){if(window.getComputedStyle(e).position!=="static")return e;e=e.parentElement}return this.element}clearResizeListeners(){for(;this.resizeListeners.length;){const e=this.resizeListeners.pop();this.dragSvc?.removeDragSource(e)}}destroy(){super.destroy(),this.moveElementDragListener&&this.dragSvc?.removeDragSource(this.moveElementDragListener),this.constrainSizeToAvailableHeight(!1),this.clearResizeListeners(),this.removeResizers()}},$1="__ag_Grid_Stop_Propagation";function wo(e){e[$1]=!0}function Qn(e){return e[$1]===!0}var DD="ag-focus-managed",Ms=class extends ve{constructor(e,t={}){super(),this.eFocusable=e,this.callbacks=t,this.callbacks={shouldStopEventPropagation:()=>!1,onTabKeyDown:r=>{if(r.defaultPrevented)return;const n=_o(this.beans,this.eFocusable,!1,r.shiftKey);n&&(n.focus(),r.preventDefault())},...t}}postConstruct(){const{eFocusable:e,callbacks:{onFocusIn:t,onFocusOut:r}}=this;e.classList.add(DD),this.addKeyDownListeners(e),t&&this.addManagedElementListeners(e,{focusin:t}),r&&this.addManagedElementListeners(e,{focusout:r})}addKeyDownListeners(e){this.addManagedElementListeners(e,{keydown:t=>{if(t.defaultPrevented||Qn(t))return;const{callbacks:r}=this;if(r.shouldStopEventPropagation(t)){wo(t);return}t.key===me.TAB?r.onTabKeyDown(t):r.handleKeyDown&&r.handleKeyDown(t)}})}},MD=class extends Xt{constructor(e,t){super(),this.filterNameKey=e,this.cssIdentifier=t,this.applyActive=!1,this.debouncePending=!1,this.defaultDebounceMs=0}postConstruct(){const e={tag:"div",cls:`ag-filter-body-wrapper ag-${this.cssIdentifier}-body-wrapper`,children:[this.createBodyTemplate()]};this.setTemplate(e,this.getAgComponents()),this.createManagedBean(new Ms(this.getFocusableElement(),{handleKeyDown:this.handleKeyDown.bind(this)})),this.positionableFeature=this.createBean(new TD(this.getPositionableElement(),{forcePopupParentAsOffsetParent:!0}))}handleKeyDown(e){}init(e){const t=e;this.setParams(t),this.setModelIntoUi(t.state.model,!0).then(()=>this.updateUiVisibility())}refresh(e){const t=e,r=this.params;this.params=t,t.source==="colDef"&&this.updateParams(t,r);const i=t.state,o=this.state;return this.state=i,(i.model!==o.model||i.state!==o.state)&&this.setModelIntoUi(i.model),!0}setParams(e){this.params=e,this.state=e.state,this.commonUpdateParams(e)}updateParams(e,t){this.commonUpdateParams(e,t)}commonUpdateParams(e,t){this.applyActive=Oc(e),this.setupApplyDebounced()}doesFilterPass(e){Se(283);const{getHandler:t,model:r,column:n}=this.params;return t().doesFilterPass({...e,model:r,handlerParams:this.beans.colFilter.getHandlerParams(n)})}getFilterTitle(){return this.translate(this.filterNameKey)}isFilterActive(){return Se(284),this.params.model!=null}setupApplyDebounced(){const e=vp(this.params,this.defaultDebounceMs),t=mr(this,this.checkApplyDebounce.bind(this),e);this.applyDebounced=()=>{this.debouncePending=!0,t()}}checkApplyDebounce(){this.debouncePending&&(this.debouncePending=!1,this.doApplyModel())}getModel(){return Se(285),this.params.model}setModel(e){Se(286);const{beans:t,params:r}=this;return t.colFilter.setModelForColumnLegacy(r.column,e)}applyModel(e="api"){return this.doApplyModel()}canApply(e){return!0}doApplyModel(e){const{params:t,state:r}=this,n=!this.areModelsEqual(t.model,r.model);return n&&t.onAction("apply",e),n}onNewRowsLoaded(){}onUiChanged(e,t=!1){this.updateUiVisibility();const r=this.getModelFromUi(),n={model:r,state:this.getState(),valid:this.canApply(r)};this.state=n;const i=this.params;i.onStateChange(n),i.onUiChange(this.getUiChangeEventParams()),this.gos.get("enableFilterHandlers")||this.eventSvc.dispatchEvent({type:"filterModified",column:i.column,filterInstance:this}),e??(e=this.applyActive?void 0:"debounce"),e==="immediately"?this.doApplyModel({afterFloatingFilter:t,afterDataChange:!1}):e==="debounce"&&this.applyDebounced()}getState(){}getUiChangeEventParams(){}afterGuiAttached(e){this.lastContainerType=e?.container,this.refreshFilterResizer(e?.container)}refreshFilterResizer(e){const{positionableFeature:t,gos:r}=this;if(!t)return;const n=e==="floatingFilter"||e==="columnFilter";n?(t.restoreLastSize(),t.setResizable(r.get("enableRtl")?{bottom:!0,bottomLeft:!0,left:!0}:{bottom:!0,bottomRight:!0,right:!0})):(t.removeSizeFromEl(),t.setResizable(!1)),t.constrainSizeToAvailableHeight(n)}afterGuiDetached(){this.checkApplyDebounce(),this.positionableFeature?.constrainSizeToAvailableHeight(!1)}destroy(){this.positionableFeature=this.destroyBean(this.positionableFeature),super.destroy()}translate(e){return vi(this,e)}getPositionableElement(){return this.getGui()}areModelsEqual(e,t){return e===t||e==null&&t==null?!0:e==null||t==null?!1:this.areNonNullModelsEqual(e,t)}};function U1(e){return!!e.operator}function PD(e,t,r){if(t==null)return null;let n=null;const{compName:i,jsComp:o,fwComp:s}=v1(e,t);return i?n={agSetColumnFilter:"agSetColumnFloatingFilter",agMultiColumnFilter:"agMultiColumnFloatingFilter",agGroupColumnFilter:"agGroupColumnFloatingFilter",agNumberColumnFilter:"agNumberColumnFloatingFilter",agDateColumnFilter:"agDateColumnFloatingFilter",agTextColumnFilter:"agTextColumnFloatingFilter"}[i]:o==null&&s==null&&t.filter===!0&&(n=r()),n}var gu={AUTO_HEIGHT:"ag-layout-auto-height",NORMAL:"ag-layout-normal",PRINT:"ag-layout-print"},wp=class extends ve{constructor(e){super(),this.view=e}postConstruct(){this.addManagedPropertyListener("domLayout",this.updateLayoutClasses.bind(this)),this.updateLayoutClasses()}updateLayoutClasses(){const e=this.gos.get("domLayout"),t={autoHeight:e==="autoHeight",normal:e==="normal",print:e==="print"},r=t.autoHeight?gu.AUTO_HEIGHT:t.print?gu.PRINT:gu.NORMAL;this.view.updateLayoutClasses(r,t)}},fi="Viewport",km="fakeVScrollComp",_d=["fakeHScrollComp","centerHeader","topCenter","bottomCenter","stickyTopCenter","stickyBottomCenter"],Em=100,Ad=150,ID=class extends ve{constructor(e){super(),this.clearRetryListenerFncs=[],this.lastScrollSource=[null,null],this.scrollLeft=-1,this.nextScrollTop=-1,this.scrollTop=-1,this.lastOffsetHeight=-1,this.lastScrollTop=-1,this.lastIsHorizontalScrollShowing=!1,this.scrollTimer=0,this.isScrollActive=!1,this.isVerticalPositionInvalidated=!0,this.isHorizontalPositionInvalidated=!0,this.eBodyViewport=e,this.resetLastHScrollDebounced=mr(this,()=>this.lastScrollSource[1]=null,Ad),this.resetLastVScrollDebounced=mr(this,()=>this.lastScrollSource[0]=null,Ad)}wireBeans(e){this.ctrlsSvc=e.ctrlsSvc,this.animationFrameSvc=e.animationFrameSvc,this.visibleCols=e.visibleCols}destroy(){super.destroy(),this.clearRetryListenerFncs=[],window.clearTimeout(this.scrollTimer)}postConstruct(){this.enableRtl=this.gos.get("enableRtl");const e=this.invalidateVerticalScroll.bind(this),t=this.invalidateHorizontalScroll.bind(this);this.addManagedEventListeners({displayedColumnsWidthChanged:this.onDisplayedColumnsWidthChanged.bind(this),bodyHeightChanged:e,scrollGapChanged:t}),this.addManagedElementListeners(this.eBodyViewport,{scroll:e}),this.ctrlsSvc.whenReady(this,r=>{this.centerRowsCtrl=r.center,this.onDisplayedColumnsWidthChanged(),this.addScrollListener()})}invalidateHorizontalScroll(){this.isHorizontalPositionInvalidated=!0}invalidateVerticalScroll(){this.isVerticalPositionInvalidated=!0}addScrollListener(){this.addHorizontalScrollListeners(),this.addVerticalScrollListeners()}addHorizontalScrollListeners(){this.addManagedElementListeners(this.centerRowsCtrl.eViewport,{scroll:this.onHScroll.bind(this,fi)});for(const e of _d){const t=this.ctrlsSvc.get(e);this.registerScrollPartner(t,this.onHScroll.bind(this,e))}}addVerticalScrollListeners(){const e=this.ctrlsSvc.get("fakeVScrollComp"),t=this.gos.get("debounceVerticalScrollbar"),r=t?mr(this,this.onVScroll.bind(this,fi),Em):this.onVScroll.bind(this,fi),n=t?mr(this,this.onVScroll.bind(this,km),Em):this.onVScroll.bind(this,km);this.addManagedElementListeners(this.eBodyViewport,{scroll:r}),this.registerScrollPartner(e,n)}registerScrollPartner(e,t){e.onScrollCallback(t)}onDisplayedColumnsWidthChanged(){this.enableRtl&&this.horizontallyScrollHeaderCenterAndFloatingCenter()}horizontallyScrollHeaderCenterAndFloatingCenter(e){this.centerRowsCtrl!=null&&(e===void 0&&(e=this.centerRowsCtrl.getCenterViewportScrollLeft()),this.setScrollLeftForAllContainersExceptCurrent(Math.abs(e)))}setScrollLeftForAllContainersExceptCurrent(e){for(const t of[..._d,fi]){if(this.lastScrollSource[1]===t)continue;const r=this.getViewportForSource(t);qu(r,e,this.enableRtl)}}getViewportForSource(e){return e===fi?this.centerRowsCtrl.eViewport:this.ctrlsSvc.get(e).eViewport}isControllingScroll(e,t){return this.lastScrollSource[t]==null?(t===0?this.lastScrollSource[0]=e:this.lastScrollSource[1]=e,!0):this.lastScrollSource[t]===e}onHScroll(e){if(!this.isControllingScroll(e,1))return;const t=this.centerRowsCtrl.eViewport,{scrollLeft:r}=t;if(this.shouldBlockScrollUpdate(1,r,!0))return;const n=Ku(this.getViewportForSource(e),this.enableRtl);this.doHorizontalScroll(n),this.resetLastHScrollDebounced()}onVScroll(e){if(!this.isControllingScroll(e,0))return;let t;if(e===fi?t=this.eBodyViewport.scrollTop:t=this.ctrlsSvc.get("fakeVScrollComp").getScrollPosition(),this.shouldBlockScrollUpdate(0,t,!0))return;const{animationFrameSvc:r}=this;r?.setScrollTop(t),this.nextScrollTop=t,e===fi?this.ctrlsSvc.get("fakeVScrollComp").setScrollPosition(t):this.eBodyViewport.scrollTop=t,r?.active?r.schedule():this.scrollGridIfNeeded(!0),this.resetLastVScrollDebounced()}doHorizontalScroll(e){const t=this.ctrlsSvc.get("fakeHScrollComp").getScrollPosition();this.scrollLeft===e&&e===t||(this.scrollLeft=e,this.fireScrollEvent(1),this.horizontallyScrollHeaderCenterAndFloatingCenter(e),this.centerRowsCtrl.onHorizontalViewportChanged(!0))}isScrolling(){return this.isScrollActive}fireScrollEvent(e){const t={type:"bodyScroll",direction:e===1?"horizontal":"vertical",left:this.scrollLeft,top:this.scrollTop};this.isScrollActive=!0,this.eventSvc.dispatchEvent(t),window.clearTimeout(this.scrollTimer),this.scrollTimer=window.setTimeout(()=>{this.scrollTimer=0,this.isScrollActive=!1,this.eventSvc.dispatchEvent({...t,type:"bodyScrollEnd"})},Ad)}shouldBlockScrollUpdate(e,t,r=!1){return r&&!lo()?!1:e===0?this.shouldBlockVerticalScroll(t):this.shouldBlockHorizontalScroll(t)}shouldBlockVerticalScroll(e){const t=Yf(this.eBodyViewport),{scrollHeight:r}=this.eBodyViewport;return e<0||e+t>r}shouldBlockHorizontalScroll(e){const t=this.centerRowsCtrl.getCenterWidth(),{scrollWidth:r}=this.centerRowsCtrl.eViewport;if(this.enableRtl){if(e>0)return!0}else if(e<0)return!0;return Math.abs(e)+t>r}redrawRowsAfterScroll(){this.fireScrollEvent(0)}checkScrollLeft(){const e=this.scrollLeft;let t=!1;for(const r of _d)if(this.getViewportForSource(r).scrollLeft!==e){t=!0;break}t&&this.onHScroll(fi)}scrollGridIfNeeded(e=!1){const t=this.scrollTop!=this.nextScrollTop;return t&&(this.scrollTop=this.nextScrollTop,e&&this.invalidateVerticalScroll(),this.redrawRowsAfterScroll()),t}setHorizontalScrollPosition(e,t=!1){const n=this.centerRowsCtrl.eViewport.scrollWidth-this.centerRowsCtrl.getCenterWidth();!t&&this.shouldBlockScrollUpdate(1,e)&&(this.enableRtl?e=e>0?0:n:e=Math.min(Math.max(e,0),n)),qu(this.centerRowsCtrl.eViewport,Math.abs(e),this.enableRtl),this.doHorizontalScroll(e)}setVerticalScrollPosition(e){this.invalidateVerticalScroll(),this.eBodyViewport.scrollTop=e}getVScrollPosition(){if(!this.isVerticalPositionInvalidated){const{lastOffsetHeight:r,lastScrollTop:n}=this;return{top:n,bottom:n+r}}this.isVerticalPositionInvalidated=!1;const{scrollTop:e,offsetHeight:t}=this.eBodyViewport;return this.lastScrollTop=e,this.lastOffsetHeight=t,{top:e,bottom:e+t}}getApproximateVScollPosition(){return this.lastScrollTop>=0&&this.lastOffsetHeight>=0?{top:this.scrollTop,bottom:this.scrollTop+this.lastOffsetHeight}:this.getVScrollPosition()}getHScrollPosition(){return this.centerRowsCtrl.getHScrollPosition()}isHorizontalScrollShowing(){return this.isHorizontalPositionInvalidated&&(this.lastIsHorizontalScrollShowing=this.centerRowsCtrl.isHorizontalScrollShowing(),this.isHorizontalPositionInvalidated=!1),this.lastIsHorizontalScrollShowing}scrollHorizontally(e){const t=this.centerRowsCtrl.eViewport.scrollLeft;return this.setHorizontalScrollPosition(t+e),this.centerRowsCtrl.eViewport.scrollLeft-t}scrollToTop(){this.eBodyViewport.scrollTop=0}ensureNodeVisible(e,t=null){const{rowModel:r}=this.beans,n=r.getRowCount();let i=-1;for(let o=0;o<n;o++){const s=r.getRow(o);if(typeof e=="function"){if(s&&e(s)){i=o;break}}else if(e===s||e===s.data){i=o;break}}i>=0&&this.ensureIndexVisible(i,t)}ensureIndexVisible(e,t,r=0){if(yr(this.gos,"print"))return;const{rowModel:n}=this.beans,i=n.getRowCount();if(typeof e!="number"||e<0||e>=i){Se(88,{index:e});return}this.clearRetryListeners();const{frameworkOverrides:o,pageBounds:s,rowContainerHeight:a,rowRenderer:l}=this.beans;o.wrapIncoming(()=>{const u=this.ctrlsSvc.getGridBodyCtrl(),c=n.getRow(e);let f,d,h=0;this.invalidateVerticalScroll();do{const{stickyTopHeight:g,stickyBottomHeight:m}=u,p=c.rowTop,y=c.rowHeight,b=s.getPixelOffset(),v=c.rowTop-b,F=v+c.rowHeight,E=this.getVScrollPosition(),T=a.divStretchOffset,I=E.top+T,M=E.bottom+T,P=M-I,O=a.getScrollPositionForPixel(v),z=a.getScrollPositionForPixel(F-P),L=Math.min((O+z)/2,v),_=I+g>v,R=M-m<F;let k=null;t==="top"?k=O-g:t==="bottom"?k=z+m:t==="middle"?k=L:_?k=O-g:R&&(z-O>P?k=O-g:k=z+m),k!==null&&(this.setVerticalScrollPosition(k),l.redraw({afterScroll:!0})),f=p!==c.rowTop||y!==c.rowHeight,d=g!==u.stickyTopHeight||m!==u.stickyBottomHeight,h++}while((f||d)&&h<10);if(this.animationFrameSvc?.flushAllFrames(),r<10&&(c?.stub||!this.beans.rowAutoHeight?.areRowsMeasured())){const g=this.getVScrollPosition().top;this.clearRetryListenerFncs=this.addManagedEventListeners({bodyScroll:()=>{const m=this.getVScrollPosition().top;g!==m&&this.clearRetryListeners()},modelUpdated:()=>{this.clearRetryListeners(),!(e>=n.getRowCount())&&this.ensureIndexVisible(e,t,r+1)}})}})}clearRetryListeners(){for(const e of this.clearRetryListenerFncs)e();this.clearRetryListenerFncs=[]}ensureColumnVisible(e,t="auto"){const{colModel:r,frameworkOverrides:n}=this.beans,i=r.getCol(e);if(!i||i.isPinned()||!this.visibleCols.isColDisplayed(i))return;const o=this.getPositionedHorizontalScroll(i,t);n.wrapIncoming(()=>{o!==null&&this.centerRowsCtrl.setCenterViewportScrollLeft(o),this.centerRowsCtrl.onHorizontalViewportChanged(),this.animationFrameSvc?.flushAllFrames()})}getPositionedHorizontalScroll(e,t){const{columnBeforeStart:r,columnAfterEnd:n}=this.isColumnOutsideViewport(e),i=this.centerRowsCtrl.getCenterWidth()<e.getActualWidth(),o=this.centerRowsCtrl.getCenterWidth(),s=this.enableRtl;let a=(s?r:n)||i,l=s?n:r;t!=="auto"&&(a=t==="start",l=t==="end");const u=t==="middle";if(a||l||u){const{colLeft:c,colMiddle:f,colRight:d}=this.getColumnBounds(e);return u?f-o/2:a?s?d:c:s?c-o:d-o}return null}isColumnOutsideViewport(e){const{start:t,end:r}=this.getViewportBounds(),{colLeft:n,colRight:i}=this.getColumnBounds(e),o=this.enableRtl,s=o?t>i:r<i,a=o?r<n:t>n;return{columnBeforeStart:s,columnAfterEnd:a}}getColumnBounds(e){const t=this.enableRtl,r=this.visibleCols.bodyWidth,n=e.getActualWidth(),i=e.getLeft(),o=t?-1:1,s=t?r-i:i,a=s+n*o,l=s+n/2*o;return{colLeft:s,colMiddle:l,colRight:a}}getViewportBounds(){const e=this.centerRowsCtrl.getCenterWidth(),t=this.centerRowsCtrl.getCenterViewportScrollLeft(),r=t,n=e+t;return{start:r,end:n,width:e}}},Cp=class extends ve{constructor(e,t=!1){super(),this.callback=e,this.addSpacer=t}postConstruct(){const e=this.setWidth.bind(this);this.addManagedPropertyListener("domLayout",e),this.addManagedEventListeners({columnContainerWidthChanged:e,displayedColumnsChanged:e,leftPinnedWidthChanged:e}),this.addSpacer&&this.addManagedEventListeners({rightPinnedWidthChanged:e,scrollVisibilityChanged:e,scrollbarWidthChanged:e}),this.setWidth()}setWidth(){const e=yr(this.gos,"print"),{visibleCols:t,scrollVisibleSvc:r}=this.beans,n=t.bodyWidth,i=t.getColsLeftWidth(),o=t.getDisplayedColumnsRightWidth();let s;e?s=n+i+o:(s=n,this.addSpacer&&(this.gos.get("enableRtl")?i:o)===0&&r.verticalScrollShowing&&(s+=r.getScrollbarWidth())),this.callback(s)}},BD=class extends ve{constructor(e){super(),this.centerContainerCtrl=e}wireBeans(e){this.scrollVisibleSvc=e.scrollVisibleSvc}postConstruct(){this.beans.ctrlsSvc.whenReady(this,e=>{this.gridBodyCtrl=e.gridBodyCtrl,this.listenForResize()}),this.addManagedEventListeners({scrollbarWidthChanged:this.onScrollbarWidthChanged.bind(this)}),this.addManagedPropertyListeners(["alwaysShowHorizontalScroll","alwaysShowVerticalScroll"],()=>{this.checkViewportAndScrolls()})}listenForResize(){const{beans:e,centerContainerCtrl:t,gridBodyCtrl:r}=this,n=()=>{oi(e,()=>{this.onCenterViewportResized()})};t.registerViewportResizeListener(n),r.registerBodyViewportResizeListener(n)}onScrollbarWidthChanged(){this.checkViewportAndScrolls()}onCenterViewportResized(){if(this.scrollVisibleSvc.updateScrollGap(),this.centerContainerCtrl.isViewportInTheDOMTree()){const{pinnedCols:e,colFlex:t}=this.beans;e?.keepPinnedColumnsNarrowerThanViewport(),this.checkViewportAndScrolls();const r=this.centerContainerCtrl.getCenterWidth();r!==this.centerWidth&&(this.centerWidth=r,t?.refreshFlexedColumns({viewportWidth:this.centerWidth,updateBodyWidths:!0,fireResizedEvent:!0}))}else this.bodyHeight=0}checkViewportAndScrolls(){this.updateScrollVisibleService(),this.checkBodyHeight(),this.onHorizontalViewportChanged(),this.gridBodyCtrl.scrollFeature.checkScrollLeft()}getBodyHeight(){return this.bodyHeight}checkBodyHeight(){const e=this.gridBodyCtrl.eBodyViewport,t=Yf(e);this.bodyHeight!==t&&(this.bodyHeight=t,this.eventSvc.dispatchEvent({type:"bodyHeightChanged"}))}updateScrollVisibleService(){this.updateScrollVisibleServiceImpl(),setTimeout(this.updateScrollVisibleServiceImpl.bind(this),500)}updateScrollVisibleServiceImpl(){if(!this.isAlive())return;const e={horizontalScrollShowing:this.centerContainerCtrl.isHorizontalScrollShowing(),verticalScrollShowing:this.gridBodyCtrl.isVerticalScrollShowing()};this.scrollVisibleSvc.setScrollsVisible(e)}onHorizontalViewportChanged(){const e=this.centerContainerCtrl.getCenterWidth(),t=this.centerContainerCtrl.getViewportScrollLeft();this.beans.colViewport.setScrollPosition(e,t)}};function mu(e,t,r,n){const i=t.getColDef().cellRendererParams?.suppressMouseEventHandling;return K1(e,t,r,n,i)}function LD(e,t,r,n){const i=t?.suppressMouseEventHandling;return K1(e,void 0,r,n,i)}function K1(e,t,r,n,i){return i?i(Ue(e,{column:t,node:r,event:n})):!1}function q1(e,t,r){let n=t;for(;n;){const i=Yw(e,n,r);if(i)return i;n=n.parentElement}return null}var lc="cellCtrl";function Fp(e,t){return q1(e,t,lc)}var uc="renderedRow";function ND(e,t){return q1(e,t,uc)}function Yh(e,t,r,n,i){const o=n?n.getColDef().suppressKeyboardEvent:void 0;if(!o)return!1;const s=Ue(e,{event:t,editing:i,column:n,node:r,data:r.data,colDef:n.getColDef()});return!!(o&&o(s))}function OD(e){const{pinnedRowModel:t,rowModel:r}=e,[n,i]=[t?.isEmpty("top")??!0,t?.isEmpty("bottom")??!0],o=n?null:"top";let s,a;i?(s=null,a=r.getRowCount()-1):(s="bottom",a=t?.getPinnedBottomRowCount()??-1);const{visibleCols:l,rangeSvc:u}=e,c=l.allCols;!u||!c?.length||u.setCellRange({rowStartIndex:0,rowStartPinned:o,rowEndIndex:a,rowEndPinned:s})}var HD=65,GD=67,jD=86,zD=68,VD=90,WD=89;function $D(e){const{keyCode:t}=e;let r;switch(t){case HD:r=me.A;break;case GD:r=me.C;break;case jD:r=me.V;break;case zD:r=me.D;break;case VD:r=me.Z;break;case WD:r=me.Y;break;default:r=e.code}return r}var UD=class extends ve{constructor(e){super(),this.element=e}postConstruct(){this.addKeyboardListeners(),this.addMouseListeners(),this.beans.touchSvc?.mockRowContextMenu(this),this.editSvc=this.beans.editSvc}addKeyboardListeners(){const e="keydown",t=this.processKeyboardEvent.bind(this,e);this.addManagedElementListeners(this.element,{[e]:t})}addMouseListeners(){const t=["dblclick","contextmenu","mouseover","mouseout","click",Iw("touchstart")?"touchstart":"mousedown"];for(const r of t){const n=this.processMouseEvent.bind(this,r);this.addManagedElementListeners(this.element,{[r]:n})}}processMouseEvent(e,t){if(!ba(this.beans,t)||Qn(t))return;const{cellCtrl:r,rowCtrl:n}=this.getControlsForEventTarget(t.target);e==="contextmenu"?(r?.column&&r.dispatchCellContextMenuEvent(t),this.beans.contextMenuSvc?.handleContextMenuMouseEvent(t,void 0,n,r)):(r&&r.onMouseEvent(e,t),n&&n.onMouseEvent(e,t))}getControlsForEventTarget(e){const{gos:t}=this;return{cellCtrl:Fp(t,e),rowCtrl:ND(t,e)}}processKeyboardEvent(e,t){const{cellCtrl:r,rowCtrl:n}=this.getControlsForEventTarget(t.target);t.defaultPrevented||(r?this.processCellKeyboardEvent(r,e,t):n?.isFullWidth()&&this.processFullWidthRowKeyboardEvent(n,e,t))}processCellKeyboardEvent(e,t,r){const n=this.editSvc?.isEditing(e,{withOpenEditor:!0})??!1;!Yh(this.gos,r,e.rowNode,e.column,n)&&t==="keydown"&&(!n&&this.beans.navigation?.handlePageScrollingKey(r)||e.onKeyDown(r),this.doGridOperations(r,n),x1(r)&&e.processCharacter(r)),t==="keydown"&&this.eventSvc.dispatchEvent(e.createEvent(r,"cellKeyDown"))}processFullWidthRowKeyboardEvent(e,t,r){const{rowNode:n}=e,{focusSvc:i,navigation:o}=this.beans,a=i.getFocusedCell()?.column;if(!Yh(this.gos,r,n,a,!1)){const u=r.key;if(t==="keydown")switch(u){case me.PAGE_HOME:case me.PAGE_END:case me.PAGE_UP:case me.PAGE_DOWN:o?.handlePageScrollingKey(r,!0);break;case me.LEFT:case me.RIGHT:if(!this.gos.get("embedFullWidthRows"))break;case me.UP:case me.DOWN:e.onKeyboardNavigate(r);break;case me.TAB:e.onTabKeyDown(r);break}}t==="keydown"&&this.eventSvc.dispatchEvent(e.createRowEvent("cellKeyDown",r))}doGridOperations(e,t){if(!e.ctrlKey&&!e.metaKey||t||!ba(this.beans,e))return;const r=$D(e),{clipboardSvc:n,undoRedo:i}=this.beans;if(r===me.A)return this.onCtrlAndA(e);if(r===me.C)return this.onCtrlAndC(n,e);if(r===me.D)return this.onCtrlAndD(n,e);if(r===me.V)return this.onCtrlAndV(n,e);if(r===me.X)return this.onCtrlAndX(n,e);if(r===me.Y)return this.onCtrlAndY(i);if(r===me.Z)return this.onCtrlAndZ(i,e)}onCtrlAndA(e){const{beans:{rowModel:t,rangeSvc:r,selectionSvc:n},gos:i}=this;r&&_i(i)&&!NA(i)&&t.isRowsToRender()?OD(this.beans):n&&n.selectAllRowNodes({source:"keyboardSelectAll",selectAll:r1(i)}),e.preventDefault()}onCtrlAndC(e,t){if(!e||this.gos.get("enableCellTextSelection"))return;const{cellCtrl:r}=this.getControlsForEventTarget(t.target);this.editSvc?.isEditing(r,{withOpenEditor:!0})||(t.preventDefault(),e.copyToClipboard())}onCtrlAndX(e,t){if(!e||this.gos.get("enableCellTextSelection")||this.gos.get("suppressCutToClipboard"))return;const{cellCtrl:r}=this.getControlsForEventTarget(t.target);this.editSvc?.isEditing(r,{withOpenEditor:!0})||(t.preventDefault(),e.cutToClipboard(void 0,"ui"))}onCtrlAndV(e,t){const{cellCtrl:r}=this.getControlsForEventTarget(t.target);this.editSvc?.isEditing(r,{withOpenEditor:!0})||e&&!this.gos.get("suppressClipboardPaste")&&e.pasteFromClipboard()}onCtrlAndD(e,t){e&&!this.gos.get("suppressClipboardPaste")&&e.copyRangeDown(),t.preventDefault()}onCtrlAndZ(e,t){!this.gos.get("undoRedoCellEditing")||!e||(t.preventDefault(),t.shiftKey?e.redo("ui"):e.undo("ui"))}onCtrlAndY(e){e?.redo("ui")}},J1=class extends ve{constructor(e,t){super(),this.eContainer=e,this.eViewport=t}postConstruct(){this.addManagedEventListeners({rowContainerHeightChanged:this.onHeightChanged.bind(this,this.beans.rowContainerHeight)})}onHeightChanged(e){const t=e.uiContainerHeight,r=t!=null?`${t}px`:"";this.eContainer.style.height=r,this.eViewport&&(this.eViewport.style.height=r)}},cl=e=>e.topRowCtrls,dl=e=>e.getStickyTopRowCtrls(),hl=e=>e.getStickyBottomRowCtrls(),fl=e=>e.bottomRowCtrls,pl=e=>e.allRowCtrls,Td=e=>e.getCtrls("top"),Dd=e=>e.getCtrls("center"),Md=e=>e.getCtrls("bottom"),KD={center:{type:"center",name:"center-cols",getRowCtrls:pl,getSpannedRowCtrls:Dd},left:{type:"left",name:"pinned-left-cols",pinnedType:"left",getRowCtrls:pl,getSpannedRowCtrls:Dd},right:{type:"right",name:"pinned-right-cols",pinnedType:"right",getRowCtrls:pl,getSpannedRowCtrls:Dd},fullWidth:{type:"fullWidth",name:"full-width",fullWidth:!0,getRowCtrls:pl},topCenter:{type:"center",name:"floating-top",getRowCtrls:cl,getSpannedRowCtrls:Td},topLeft:{type:"left",name:"pinned-left-floating",container:"ag-pinned-left-floating-top",pinnedType:"left",getRowCtrls:cl,getSpannedRowCtrls:Td},topRight:{type:"right",name:"pinned-right-floating",container:"ag-pinned-right-floating-top",pinnedType:"right",getRowCtrls:cl,getSpannedRowCtrls:Td},topFullWidth:{type:"fullWidth",name:"floating-top-full-width",fullWidth:!0,getRowCtrls:cl},stickyTopCenter:{type:"center",name:"sticky-top",getRowCtrls:dl},stickyTopLeft:{type:"left",name:"pinned-left-sticky-top",container:"ag-pinned-left-sticky-top",pinnedType:"left",getRowCtrls:dl},stickyTopRight:{type:"right",name:"pinned-right-sticky-top",container:"ag-pinned-right-sticky-top",pinnedType:"right",getRowCtrls:dl},stickyTopFullWidth:{type:"fullWidth",name:"sticky-top-full-width",fullWidth:!0,getRowCtrls:dl},stickyBottomCenter:{type:"center",name:"sticky-bottom",getRowCtrls:hl},stickyBottomLeft:{type:"left",name:"pinned-left-sticky-bottom",container:"ag-pinned-left-sticky-bottom",pinnedType:"left",getRowCtrls:hl},stickyBottomRight:{type:"right",name:"pinned-right-sticky-bottom",container:"ag-pinned-right-sticky-bottom",pinnedType:"right",getRowCtrls:hl},stickyBottomFullWidth:{type:"fullWidth",name:"sticky-bottom-full-width",fullWidth:!0,getRowCtrls:hl},bottomCenter:{type:"center",name:"floating-bottom",getRowCtrls:fl,getSpannedRowCtrls:Md},bottomLeft:{type:"left",name:"pinned-left-floating-bottom",container:"ag-pinned-left-floating-bottom",pinnedType:"left",getRowCtrls:fl,getSpannedRowCtrls:Md},bottomRight:{type:"right",name:"pinned-right-floating-bottom",container:"ag-pinned-right-floating-bottom",pinnedType:"right",getRowCtrls:fl,getSpannedRowCtrls:Md},bottomFullWidth:{type:"fullWidth",name:"floating-bottom-full-width",fullWidth:!0,getRowCtrls:fl}};function Y1(e){return`ag-${Ga(e).name}-viewport`}function bu(e){const t=Ga(e);return t.container??`ag-${t.name}-container`}function qD(e){return`ag-${Ga(e).name}-spanned-cells-container`}function Ga(e){return KD[e]}var JD=["topCenter","topLeft","topRight"],YD=["bottomCenter","bottomLeft","bottomRight"],ZD=["center","left","right"],XD=["center","left","right","fullWidth"],QD=["stickyTopCenter","stickyBottomCenter","center","topCenter","bottomCenter"],e6=["left","bottomLeft","topLeft","stickyTopLeft","stickyBottomLeft"],t6=["right","bottomRight","topRight","stickyTopRight","stickyBottomRight"],Z1=["stickyTopCenter","stickyTopLeft","stickyTopRight"],X1=["stickyBottomCenter","stickyBottomLeft","stickyBottomRight"],r6=[...Z1,"stickyTopFullWidth",...X1,"stickyBottomFullWidth"],n6=[...JD,...YD,...ZD,...Z1,...X1],i6=class extends ve{constructor(e){super(),this.name=e,this.visible=!0,this.EMPTY_CTRLS=[],this.options=Ga(e)}postConstruct(){this.enableRtl=this.gos.get("enableRtl"),this.forContainers(["center"],()=>{this.viewportSizeFeature=this.createManagedBean(new BD(this)),this.addManagedEventListeners({stickyTopOffsetChanged:this.onStickyTopOffsetChanged.bind(this)})})}onStickyTopOffsetChanged(e){this.comp.setOffsetTop(`${e.offset}px`)}registerWithCtrlsService(){this.options.fullWidth||this.beans.ctrlsSvc.register(this.name,this)}forContainers(e,t){e.indexOf(this.name)>=0&&t()}setComp(e,t,r,n){this.comp=e,this.eContainer=t,this.eSpannedContainer=r,this.eViewport=n,this.createManagedBean(new UD(this.eViewport??this.eContainer)),this.addPreventScrollWhileDragging(),this.listenOnDomOrder();const{pinnedCols:i,rangeSvc:o}=this.beans,s=()=>this.onPinnedWidthChanged();this.forContainers(e6,()=>{this.pinnedWidthFeature=this.createOptionalManagedBean(i?.createPinnedWidthFeature(!0,this.eContainer,this.eSpannedContainer)),this.addManagedEventListeners({leftPinnedWidthChanged:s})}),this.forContainers(t6,()=>{this.pinnedWidthFeature=this.createOptionalManagedBean(i?.createPinnedWidthFeature(!1,this.eContainer,this.eSpannedContainer)),this.addManagedEventListeners({rightPinnedWidthChanged:s})}),this.forContainers(XD,()=>this.createManagedBean(new J1(this.eContainer,this.name==="center"?n:void 0))),o&&this.forContainers(n6,()=>this.createManagedBean(o.createDragListenerFeature(this.eContainer))),this.forContainers(QD,()=>this.createManagedBean(new Cp(a=>this.comp.setContainerWidth(`${a}px`)))),this.visible=this.isContainerVisible(),this.addListeners(),this.registerWithCtrlsService()}onScrollCallback(e){this.addManagedElementListeners(this.eViewport,{scroll:e})}addListeners(){const{spannedRowRenderer:e,gos:t}=this.beans,r=this.onDisplayedColumnsChanged.bind(this);this.addManagedEventListeners({displayedColumnsChanged:r,displayedColumnsWidthChanged:r,displayedRowsChanged:n=>this.onDisplayedRowsChanged(n.afterScroll)}),r(),this.onDisplayedRowsChanged(),e&&this.options.getSpannedRowCtrls&&t.get("enableCellSpan")&&this.addManagedListeners(e,{spannedRowsUpdated:()=>{const n=this.options.getSpannedRowCtrls(e);n&&this.comp.setSpannedRowCtrls(n,!1)}})}listenOnDomOrder(){if(r6.indexOf(this.name)>=0){this.comp.setDomOrder(!0);return}const t=()=>{const r=this.gos.get("ensureDomOrder"),n=yr(this.gos,"print");this.comp.setDomOrder(r||n)};this.addManagedPropertyListener("domLayout",t),t()}onDisplayedColumnsChanged(){this.forContainers(["center"],()=>this.onHorizontalViewportChanged())}addPreventScrollWhileDragging(){const{dragSvc:e}=this.beans;if(!e)return;const t=r=>{e.dragging&&r.cancelable&&r.preventDefault()};this.eContainer.addEventListener("touchmove",t,{passive:!1}),this.addDestroyFunc(()=>this.eContainer.removeEventListener("touchmove",t))}onHorizontalViewportChanged(e=!1){const t=this.getCenterWidth(),r=this.getCenterViewportScrollLeft();this.beans.colViewport.setScrollPosition(t,r,e)}hasHorizontalScrollGap(){return this.eContainer.clientWidth-this.eViewport.clientWidth<0}hasVerticalScrollGap(){return this.eContainer.clientHeight-this.eViewport.clientHeight<0}getCenterWidth(){return ma(this.eViewport)}getCenterViewportScrollLeft(){return Ku(this.eViewport,this.enableRtl)}registerViewportResizeListener(e){const t=ii(this.beans,this.eViewport,e);this.addDestroyFunc(()=>t())}isViewportInTheDOMTree(){return Dw(this.eViewport)}getViewportScrollLeft(){return Ku(this.eViewport,this.enableRtl)}isHorizontalScrollShowing(){return this.gos.get("alwaysShowHorizontalScroll")||Xf(this.eViewport)}setHorizontalScroll(e){this.comp.setHorizontalScroll(e)}getHScrollPosition(){return{left:this.eViewport.scrollLeft,right:this.eViewport.scrollLeft+this.eViewport.offsetWidth}}setCenterViewportScrollLeft(e){qu(this.eViewport,e,this.enableRtl)}isContainerVisible(){return!(this.options.pinnedType!=null)||!!this.pinnedWidthFeature&&this.pinnedWidthFeature.getWidth()>0}onPinnedWidthChanged(){const e=this.isContainerVisible();this.visible!=e&&(this.visible=e,this.onDisplayedRowsChanged())}onDisplayedRowsChanged(e=!1){const t=this.options.getRowCtrls(this.beans.rowRenderer);if(!this.visible||t.length===0){this.comp.setRowCtrls({rowCtrls:this.EMPTY_CTRLS});return}const r=yr(this.gos,"print"),i=this.gos.get("embedFullWidthRows")||r,o=t.filter(s=>{const a=s.isFullWidth();return this.options.fullWidth?!i&&a:i||!a});this.comp.setRowCtrls({rowCtrls:o,useFlushSync:e})}},o6="ag-force-vertical-scroll",s6="ag-selectable",a6="ag-column-moving",l6=class extends ve{constructor(){super(...arguments),this.stickyTopHeight=0,this.stickyBottomHeight=0}wireBeans(e){this.ctrlsSvc=e.ctrlsSvc,this.colModel=e.colModel,this.scrollVisibleSvc=e.scrollVisibleSvc,this.pinnedRowModel=e.pinnedRowModel,this.filterManager=e.filterManager,this.rowGroupColsSvc=e.rowGroupColsSvc}setComp(e,t,r,n,i,o,s){this.comp=e,this.eGridBody=t,this.eBodyViewport=r,this.eTop=n,this.eBottom=i,this.eStickyTop=o,this.eStickyBottom=s,this.eCenterColsViewport=r.querySelector(`.${Y1("center")}`),this.eFullWidthContainer=r.querySelector(`.${bu("fullWidth")}`),this.eStickyTopFullWidthContainer=o.querySelector(`.${bu("stickyTopFullWidth")}`),this.eStickyBottomFullWidthContainer=s.querySelector(`.${bu("stickyBottomFullWidth")}`),this.setCellTextSelection(this.gos.get("enableCellTextSelection")),this.addManagedPropertyListener("enableCellTextSelection",a=>this.setCellTextSelection(a.currentValue)),this.createManagedBean(new wp(this.comp)),this.scrollFeature=this.createManagedBean(new ID(r)),this.beans.rowDragSvc?.setupRowDrag(r,this),this.setupRowAnimationCssClass(),this.addEventListeners(),this.addFocusListeners([n,r,i,o,s]),this.setGridRootRole(),this.onGridColumnsChanged(),this.addBodyViewportListener(),this.setFloatingHeights(),this.disableBrowserDragging(),this.addStopEditingWhenGridLosesFocus(),this.updateScrollingClasses(),this.filterManager?.setupAdvFilterHeaderComp(n),this.ctrlsSvc.register("gridBodyCtrl",this)}addEventListeners(){const e=this.setFloatingHeights.bind(this),t=this.setGridRootRole.bind(this),r=this.toggleRowResizeStyles.bind(this);this.addManagedEventListeners({gridColumnsChanged:this.onGridColumnsChanged.bind(this),scrollVisibilityChanged:this.onScrollVisibilityChanged.bind(this),scrollGapChanged:this.updateScrollingClasses.bind(this),pinnedRowDataChanged:e,pinnedHeightChanged:e,pinnedRowsChanged:e,headerHeightChanged:this.setStickyTopOffsetTop.bind(this),columnRowGroupChanged:t,columnPivotChanged:t,rowResizeStarted:r,rowResizeEnded:r}),this.addManagedPropertyListener("treeData",t)}toggleRowResizeStyles(e){const t=e.type==="rowResizeStarted";this.eBodyViewport.classList.toggle("ag-prevent-animation",t)}onGridColumnsChanged(){const e=this.beans.colModel.getCols();this.comp.setColumnCount(e.length)}onScrollVisibilityChanged(){const{scrollVisibleSvc:e}=this,t=e.verticalScrollShowing;this.setVerticalScrollPaddingVisible(t),this.setStickyWidth(t),this.setStickyBottomOffsetBottom();const r=t&&e.getScrollbarWidth()||0,n=S1()?16:0,i=`calc(100% + ${r+n}px)`;oi(this.beans,()=>this.comp.setBodyViewportWidth(i)),this.updateScrollingClasses()}setGridRootRole(){const{rowGroupColsSvc:e,colModel:t}=this;let r=this.gos.get("treeData");if(!r){const n=t.isPivotMode();r=(e?e.columns.length:0)>=(n?2:1)}this.comp.setGridRootRole(r?"treegrid":"grid")}addFocusListeners(e){for(const t of e)this.addManagedElementListeners(t,{focusin:r=>{const{target:n}=r,i=io(n,"ag-root",t);t.classList.toggle("ag-has-focus",!i)},focusout:r=>{const{target:n,relatedTarget:i}=r,o=t.contains(i),s=io(i,"ag-root",t);io(n,"ag-root",t)||(!o||s)&&t.classList.remove("ag-has-focus")}})}setColumnMovingCss(e){this.comp.setColumnMovingCss(a6,e)}setCellTextSelection(e=!1){this.comp.setCellSelectableCss(s6,e)}updateScrollingClasses(){const{eGridBody:{classList:e},scrollVisibleSvc:t}=this;e.toggle("ag-body-vertical-content-no-gap",!t.verticalScrollGap),e.toggle("ag-body-horizontal-content-no-gap",!t.horizontalScrollGap)}disableBrowserDragging(){this.addManagedElementListeners(this.eGridBody,{dragstart:e=>{if(e.target instanceof HTMLImageElement)return e.preventDefault(),!1}})}addStopEditingWhenGridLosesFocus(){this.beans.editSvc?.addStopEditingWhenGridLosesFocus([this.eBodyViewport,this.eBottom,this.eTop,this.eStickyTop,this.eStickyBottom])}updateRowCount(){const e=(this.ctrlsSvc.getHeaderRowContainerCtrl()?.getRowCount()??0)+(this.filterManager?.getHeaderRowCount()??0),{rowModel:t}=this.beans,r=t.isLastRowIndexKnown()?t.getRowCount():-1,n=r===-1?-1:e+r;this.comp.setRowCount(n)}registerBodyViewportResizeListener(e){this.comp.registerBodyViewportResizeListener(e)}setVerticalScrollPaddingVisible(e){const t=e?"scroll":"hidden";this.comp.setPinnedTopBottomOverflowY(t)}isVerticalScrollShowing(){const e=this.gos.get("alwaysShowVerticalScroll"),t=e?o6:null,r=yr(this.gos,"normal");return this.comp.setAlwaysVerticalScrollClass(t,e),e||r&&Mw(this.eBodyViewport)}setupRowAnimationCssClass(){const{rowContainerHeight:e,environment:t}=this.beans;let r=t.sizesMeasured;const n=()=>{const i=r&&is(this.gos)&&!e.stretching,o=i?"ag-row-animation":"ag-row-no-animation";this.comp.setRowAnimationCssOnBodyViewport(o,i)};n(),this.addManagedEventListeners({heightScaleChanged:n}),this.addManagedPropertyListener("animateRows",n),this.addManagedEventListeners({gridStylesChanged:()=>{!r&&t.sizesMeasured&&(r=!0,n())}})}addBodyViewportListener(){const{eBodyViewport:e,eStickyTop:t,eStickyBottom:r,eTop:n,eBottom:i,beans:{popupSvc:o,touchSvc:s}}=this,a=this.onBodyViewportContextMenu.bind(this);this.addManagedElementListeners(e,{contextmenu:a}),s?.mockBodyContextMenu(this,a),this.addManagedElementListeners(e,{wheel:this.onBodyViewportWheel.bind(this,o)});const l=this.onStickyWheel.bind(this);for(const c of[t,r,n,i])this.addManagedElementListeners(c,{wheel:l});const u=this.onHorizontalWheel.bind(this);for(const c of["left","right","topLeft","topRight","bottomLeft","bottomRight"])this.addManagedElementListeners(this.ctrlsSvc.get(c).eContainer,{wheel:u});this.addFullWidthContainerWheelListener()}addFullWidthContainerWheelListener(){this.addManagedElementListeners(this.eFullWidthContainer,{wheel:e=>this.onFullWidthContainerWheel(e)})}onFullWidthContainerWheel(e){const{deltaX:t,deltaY:r,shiftKey:n}=e;(n||Math.abs(t)>Math.abs(r))&&ba(this.beans,e)&&this.scrollGridBodyToMatchEvent(e)}onStickyWheel(e){const{deltaY:t}=e;this.scrollVertically(t)>0&&e.preventDefault()}onHorizontalWheel(e){const{deltaX:t,deltaY:r,shiftKey:n}=e;(n||Math.abs(t)>Math.abs(r))&&this.scrollGridBodyToMatchEvent(e)}scrollGridBodyToMatchEvent(e){const{deltaX:t,deltaY:r}=e;e.preventDefault(),this.eCenterColsViewport.scrollBy({left:t||r})}onBodyViewportContextMenu(e,t,r){if(!e&&!r)return;this.gos.get("preventDefaultOnContextMenu")&&(e||r).preventDefault();const{target:n}=e||t;(n===this.eBodyViewport||n===this.ctrlsSvc.get("center").eViewport)&&this.beans.contextMenuSvc?.showContextMenu({mouseEvent:e,touchEvent:r,value:null,anchorToElement:this.eGridBody,source:"ui"})}onBodyViewportWheel(e,t){this.gos.get("suppressScrollWhenPopupsAreOpen")&&e?.hasAnchoredPopup()&&t.preventDefault()}scrollVertically(e){const t=this.eBodyViewport.scrollTop;return this.scrollFeature.setVerticalScrollPosition(t+e),this.eBodyViewport.scrollTop-t}setFloatingHeights(){const{pinnedRowModel:e,beans:{environment:t}}=this,r=e?.getPinnedTopTotalHeight(),n=e?.getPinnedBottomTotalHeight(),i=t.getPinnedRowBorderWidth(),o=t.getRowBorderWidth(),s=i-o,a=r?s+r:0,l=n?s+n:0;this.comp.setTopHeight(a),this.comp.setBottomHeight(l),this.comp.setTopInvisible(a<=0),this.comp.setBottomInvisible(l<=0),this.setStickyTopOffsetTop(),this.setStickyBottomOffsetBottom()}setStickyTopHeight(e=0){this.comp.setStickyTopHeight(`${e}px`),this.stickyTopHeight=e}setStickyBottomHeight(e=0){this.comp.setStickyBottomHeight(`${e}px`),this.stickyBottomHeight=e}setStickyWidth(e){if(!e)this.comp.setStickyTopWidth("100%"),this.comp.setStickyBottomWidth("100%");else{const t=this.scrollVisibleSvc.getScrollbarWidth();this.comp.setStickyTopWidth(`calc(100% - ${t}px)`),this.comp.setStickyBottomWidth(`calc(100% - ${t}px)`)}}setStickyTopOffsetTop(){const t=this.ctrlsSvc.get("gridHeaderCtrl").headerHeight+(this.filterManager?.getHeaderHeight()??0),r=this.pinnedRowModel?.getPinnedTopTotalHeight()??0;let n=0;t>0&&(n+=t),r>0&&(n+=r),n>0&&(n+=1),this.comp.setStickyTopTop(`${n}px`)}setStickyBottomOffsetBottom(){const{pinnedRowModel:e,scrollVisibleSvc:t,comp:r}=this,n=e?.getPinnedBottomTotalHeight()??0,o=t.horizontalScrollShowing&&t.getScrollbarWidth()||0,s=n+o;r.setStickyBottomBottom(`${s}px`)}};function u6(e,t){return Fp(e,t.target)?.getFocusedCellPosition()??null}function Rm(e,t){const r=yr(e.gos,"normal"),n=t;let i,o;n.clientX!=null||n.clientY!=null?(i=n.clientX,o=n.clientY):(i=n.x,o=n.y);const{pageFirstPixel:s}=e.pageBounds.getCurrentPagePixelRange();if(o+=s,r){const a=e.ctrlsSvc.getScrollFeature(),l=a.getVScrollPosition(),u=a.getHScrollPosition();i+=u.left,o+=l.top}return{x:i,y:o}}var Q1=class extends Xt{constructor(e,t){super(),this.direction=t,this.eViewport=Ve,this.eContainer=Ve,this.hideTimeout=0,this.setTemplate(e)}postConstruct(){this.addManagedEventListeners({scrollVisibilityChanged:this.onScrollVisibilityChanged.bind(this)}),this.onScrollVisibilityChanged(),this.toggleCss("ag-apple-scrollbar",C1()||lo())}destroy(){super.destroy(),window.clearTimeout(this.hideTimeout)}initialiseInvisibleScrollbar(){this.invisibleScrollbar===void 0&&(this.invisibleScrollbar=S1(),this.invisibleScrollbar&&(this.hideAndShowInvisibleScrollAsNeeded(),this.addActiveListenerToggles()))}addActiveListenerToggles(){const e=this.getGui(),t=()=>this.toggleCss("ag-scrollbar-active",!0),r=()=>this.toggleCss("ag-scrollbar-active",!1);this.addManagedListeners(e,{mouseenter:t,mousedown:t,touchstart:t,mouseleave:r,touchend:r})}onScrollVisibilityChanged(){this.invisibleScrollbar===void 0&&this.initialiseInvisibleScrollbar(),oi(this.beans,()=>this.setScrollVisible())}hideAndShowInvisibleScrollAsNeeded(){this.addManagedEventListeners({bodyScroll:e=>{e.direction===this.direction&&(this.hideTimeout&&(window.clearTimeout(this.hideTimeout),this.hideTimeout=0),this.toggleCss("ag-scrollbar-scrolling",!0))},bodyScrollEnd:()=>{this.hideTimeout=window.setTimeout(()=>{this.toggleCss("ag-scrollbar-scrolling",!1),this.hideTimeout=0},400)}})}attemptSettingScrollPosition(e){const t=this.eViewport;cA(this,()=>ni(t),()=>this.setScrollPosition(e),100)}onScrollCallback(e){this.addManagedElementListeners(this.eViewport,{scroll:e})}},c6={tag:"div",cls:"ag-body-horizontal-scroll",attrs:{"aria-hidden":"true"},children:[{tag:"div",ref:"eLeftSpacer",cls:"ag-horizontal-left-spacer"},{tag:"div",ref:"eViewport",cls:"ag-body-horizontal-scroll-viewport",children:[{tag:"div",ref:"eContainer",cls:"ag-body-horizontal-scroll-container"}]},{tag:"div",ref:"eRightSpacer",cls:"ag-horizontal-right-spacer"}]},d6=class extends Q1{constructor(){super(c6,"horizontal"),this.eLeftSpacer=Ve,this.eRightSpacer=Ve,this.setScrollVisibleDebounce=0}wireBeans(e){this.visibleCols=e.visibleCols,this.scrollVisibleSvc=e.scrollVisibleSvc}postConstruct(){super.postConstruct();const e=this.setFakeHScrollSpacerWidths.bind(this);this.addManagedEventListeners({displayedColumnsChanged:e,displayedColumnsWidthChanged:e,pinnedRowDataChanged:this.refreshCompBottom.bind(this)}),this.addManagedPropertyListener("domLayout",e),this.beans.ctrlsSvc.register("fakeHScrollComp",this),this.createManagedBean(new Cp(t=>this.eContainer.style.width=`${t}px`)),this.addManagedPropertyListeners(["suppressHorizontalScroll"],this.onScrollVisibilityChanged.bind(this))}destroy(){window.clearTimeout(this.setScrollVisibleDebounce),super.destroy()}initialiseInvisibleScrollbar(){this.invisibleScrollbar===void 0&&(this.enableRtl=this.gos.get("enableRtl"),super.initialiseInvisibleScrollbar(),this.invisibleScrollbar&&this.refreshCompBottom())}refreshCompBottom(){if(!this.invisibleScrollbar)return;const e=this.beans.pinnedRowModel?.getPinnedBottomTotalHeight()??0;this.getGui().style.bottom=`${e}px`}onScrollVisibilityChanged(){super.onScrollVisibilityChanged(),this.setFakeHScrollSpacerWidths()}setFakeHScrollSpacerWidths(){const e=this.scrollVisibleSvc.verticalScrollShowing;let t=this.visibleCols.getDisplayedColumnsRightWidth();const r=!this.enableRtl&&e,n=this.scrollVisibleSvc.getScrollbarWidth();r&&(t+=n),_n(this.eRightSpacer,t),this.eRightSpacer.classList.toggle("ag-scroller-corner",t<=n);let i=this.visibleCols.getColsLeftWidth();this.enableRtl&&e&&(i+=n),_n(this.eLeftSpacer,i),this.eLeftSpacer.classList.toggle("ag-scroller-corner",i<=n)}setScrollVisible(){const e=this.scrollVisibleSvc.horizontalScrollShowing,t=this.invisibleScrollbar,r=this.gos.get("suppressHorizontalScroll"),n=e&&this.scrollVisibleSvc.getScrollbarWidth()||0,o=r?0:n===0&&t?16:n,s=()=>{this.setScrollVisibleDebounce=0,this.toggleCss("ag-scrollbar-invisible",t),ea(this.getGui(),o),ea(this.eViewport,o),ea(this.eContainer,o),o||this.eContainer.style.setProperty("min-height","1px"),this.setVisible(e,{skipAriaHidden:!0})};window.clearTimeout(this.setScrollVisibleDebounce),e?this.setScrollVisibleDebounce=window.setTimeout(s,100):s()}getScrollPosition(){return Ku(this.eViewport,this.enableRtl)}setScrollPosition(e){ni(this.eViewport)||this.attemptSettingScrollPosition(e),qu(this.eViewport,e,this.enableRtl)}},h6={tag:"div",cls:"ag-body-vertical-scroll",attrs:{"aria-hidden":"true"},children:[{tag:"div",ref:"eViewport",cls:"ag-body-vertical-scroll-viewport",children:[{tag:"div",ref:"eContainer",cls:"ag-body-vertical-scroll-container"}]}]},f6=class extends Q1{constructor(){super(h6,"vertical")}postConstruct(){super.postConstruct(),this.createManagedBean(new J1(this.eContainer));const{ctrlsSvc:e}=this.beans;e.register("fakeVScrollComp",this),this.addManagedEventListeners({rowContainerHeightChanged:this.onRowContainerHeightChanged.bind(this,e)})}setScrollVisible(){const{scrollVisibleSvc:e}=this.beans,t=e.verticalScrollShowing,r=this.invisibleScrollbar,n=t&&e.getScrollbarWidth()||0,i=n===0&&r?16:n;this.toggleCss("ag-scrollbar-invisible",r),_n(this.getGui(),i),_n(this.eViewport,i),_n(this.eContainer,i),this.setDisplayed(t,{skipAriaHidden:!0})}onRowContainerHeightChanged(e){const r=e.getGridBodyCtrl().eBodyViewport,n=this.getScrollPosition(),i=r.scrollTop;n!=i&&this.setScrollPosition(i,!0)}getScrollPosition(){return this.eViewport.scrollTop}setScrollPosition(e,t){!t&&!ni(this.eViewport)&&this.attemptSettingScrollPosition(e),this.eViewport.scrollTop=e}},p6="ag-column-first",g6="ag-column-last";function eC(e,t,r,n){return $t(e)?[]:b6(e.headerClass,e,t,r,n)}function tC(e,t,r){e.toggleCss(p6,r.isColAtEdge(t,"first")),e.toggleCss(g6,r.isColAtEdge(t,"last"))}function m6(e,t,r,n){return Ue(t,{colDef:e,column:r,columnGroup:n})}function b6(e,t,r,n,i){if($t(e))return[];let o;if(typeof e=="function"){const s=m6(t,r,n,i);o=e(s)}else o=e;return typeof o=="string"?[o]:Array.isArray(o)?[...o]:[]}function y6(e,t,r){t.addManagedElementListeners(r,{keydown:n=>{if(!n.defaultPrevented&&n.key===me.TAB){const i=n.shiftKey;_o(e,r,!1,i)||Cs(e,i)&&n.preventDefault()}}})}function v6(e,t){return e.ctrlsSvc.get("gridCtrl").focusInnerElement(t)}function uo(e){return e.gos.get("suppressHeaderFocus")||!!e.overlays?.isExclusive()}function Hc(e){return e.gos.get("suppressCellFocus")||!!e.overlays?.isExclusive()}function Cs(e,t,r=!1){const n=e.ctrlsSvc.get("gridCtrl");return!r&&n.focusNextInnerContainer(t)?!0:((r||!t&&!n.isDetailGrid())&&n.forceFocusOutOfContainer(t),!1)}function xn(e){return e.ctrlsSvc.getHeaderRowContainerCtrl()?.getRowCount()??0}function Sp(e){const t=[],r=e.ctrlsSvc.getHeaderRowContainerCtrls();for(const n of r){if(!n)continue;const i=n.getGroupRowCount()||0;for(let o=0;o<i;o++){const s=n.getGroupRowCtrlAtIndex(o),a=t[o];if(s){const l=w6(e,s);(a==null||l>a)&&(t[o]=l)}}}return t}function w6(e,t){let n=e.colModel.isPivotMode()?F6(e):nC(e);const i=t.getHeaderCellCtrls();for(const o of i){const{column:s}=o,a=s.getAutoHeaderHeight();a!=null&&a>n&&s.isAutoHeaderHeight()&&(n=a)}return n}function xp(e){let r=e.colModel.isPivotMode()?C6(e):ja(e);return e.colModel.forAllCols(n=>{const i=n.getAutoHeaderHeight();i!=null&&i>r&&n.isAutoHeaderHeight()&&(r=i)}),r}function ja(e){return e.gos.get("headerHeight")??e.environment.getDefaultHeaderHeight()}function rC(e){return e.gos.get("floatingFiltersHeight")??ja(e)}function nC(e){return e.gos.get("groupHeaderHeight")??ja(e)}function C6(e){return e.gos.get("pivotHeaderHeight")??ja(e)}function F6(e){return e.gos.get("pivotGroupHeaderHeight")??nC(e)}function S6(e,t){return e.headerRowIndex===t.headerRowIndex&&e.column===t.column}var x6=class extends ve{setComp(e,t,r){this.comp=e,this.eGui=t;const{beans:n}=this,{headerNavigation:i,touchSvc:o,ctrlsSvc:s}=n;i&&this.createManagedBean(new Ms(r,{onTabKeyDown:this.onTabKeyDown.bind(this),handleKeyDown:this.handleKeyDown.bind(this),onFocusOut:this.onFocusOut.bind(this)})),this.addManagedEventListeners({columnPivotModeChanged:this.onPivotModeChanged.bind(this,n),displayedColumnsChanged:this.onDisplayedColumnsChanged.bind(this,n)}),this.onPivotModeChanged(n),this.setupHeaderHeight();const a=this.onHeaderContextMenu.bind(this);this.addManagedElementListeners(this.eGui,{contextmenu:a}),o?.mockHeaderContextMenu(this,a),s.register("gridHeaderCtrl",this)}setupHeaderHeight(){const e=this.setHeaderHeight.bind(this);e(),this.addManagedPropertyListeners(["headerHeight","pivotHeaderHeight","groupHeaderHeight","pivotGroupHeaderHeight","floatingFiltersHeight"],e),this.addManagedEventListeners({headerRowsChanged:e,columnHeaderHeightChanged:e,columnGroupHeaderHeightChanged:()=>oi(this.beans,()=>e()),gridStylesChanged:e,advancedFilterEnabledChanged:e})}setHeaderHeight(){const{beans:e}=this;let t=0;const r=Sp(e).reduce((o,s)=>o+s,0),n=xp(e);if(e.filterManager?.hasFloatingFilters()&&(t+=rC(e)),t+=r,t+=n,this.headerHeight===t)return;this.headerHeight=t;const i=`${t+1}px`;this.comp.setHeightAndMinHeight(i),this.eventSvc.dispatchEvent({type:"headerHeightChanged"})}onPivotModeChanged(e){const t=e.colModel.isPivotMode();this.comp.toggleCss("ag-pivot-on",t),this.comp.toggleCss("ag-pivot-off",!t)}onDisplayedColumnsChanged(e){const r=e.visibleCols.allCols.some(n=>n.isSpanHeaderHeight());this.comp.toggleCss("ag-header-allow-overflow",r)}onTabKeyDown(e){const t=this.gos.get("enableRtl"),r=e.shiftKey,n=r!==t?"LEFT":"RIGHT",{beans:i}=this,{headerNavigation:o,focusSvc:s}=i;(o.navigateHorizontally(n,!0,e)||!r&&s.focusOverlay(!1)||Cs(i,r,!0))&&e.preventDefault()}handleKeyDown(e){let t=null;const{headerNavigation:r}=this.beans;switch(e.key){case me.LEFT:t="LEFT";case me.RIGHT:{Le(t)||(t="RIGHT"),r.navigateHorizontally(t,!1,e)&&e.preventDefault();break}case me.UP:t="UP";case me.DOWN:{Le(t)||(t="DOWN"),r.navigateVertically(t,e)&&e.preventDefault();break}default:return}}onFocusOut(e){const{relatedTarget:t}=e,{eGui:r,beans:n}=this;!t&&r.contains(qt(n))||r.contains(t)||(n.focusSvc.focusedHeader=null)}onHeaderContextMenu(e,t,r){const{menuSvc:n,ctrlsSvc:i}=this.beans;if(!e&&!r||!n?.isHeaderContextMenuEnabled())return;const{target:o}=e??t;(o===this.eGui||o===i.getHeaderRowContainerCtrl()?.eViewport)&&n.showHeaderContextMenu(void 0,e,r)}},kp=class extends ve{constructor(e,t,r,n){super(),this.columnOrGroup=e,this.eCell=t,this.colsSpanning=n,this.columnOrGroup=e,this.ariaEl=t.querySelector("[role=columnheader]")||t,this.beans=r}setColsSpanning(e){this.colsSpanning=e,this.onLeftChanged()}getColumnOrGroup(){const{beans:e,colsSpanning:t}=this;return e.gos.get("enableRtl")&&t?Gt(t):this.columnOrGroup}postConstruct(){const e=this.onLeftChanged.bind(this);this.addManagedListeners(this.columnOrGroup,{leftChanged:e}),this.setLeftFirstTime(),this.addManagedEventListeners({displayedColumnsWidthChanged:e}),this.addManagedPropertyListener("domLayout",e)}setLeftFirstTime(){const{gos:e,colAnimation:t}=this.beans,r=e.get("suppressColumnMoveAnimation"),n=Le(this.columnOrGroup.getOldLeft());t?.isActive()&&n&&!r?this.animateInLeft():this.onLeftChanged()}animateInLeft(){const e=this.getColumnOrGroup(),t=this.modifyLeftForPrintLayout(e,e.getOldLeft()),r=this.modifyLeftForPrintLayout(e,e.getLeft());this.setLeft(t),this.actualLeft=r,this.beans.colAnimation.executeNextVMTurn(()=>{this.actualLeft===r&&this.setLeft(r)})}onLeftChanged(){const e=this.getColumnOrGroup(),t=e.getLeft();this.actualLeft=this.modifyLeftForPrintLayout(e,t),this.setLeft(this.actualLeft)}modifyLeftForPrintLayout(e,t){const{gos:r,visibleCols:n}=this.beans;if(!yr(r,"print")||e.getPinned()==="left")return t;const o=n.getColsLeftWidth();if(e.getPinned()==="right"){const s=n.bodyWidth;return o+s+t}return o+t}setLeft(e){if(Le(e)&&(this.eCell.style.left=`${e}px`),rr(this.columnOrGroup)){const t=this.columnOrGroup.getLeafColumns();if(!t.length)return;t.length>1&&j_(this.ariaEl,t.length)}}},k6=0,iC="headerCtrl",Ep=class extends ve{constructor(e,t){super(),this.column=e,this.rowCtrl=t,this.resizeToggleTimeout=0,this.resizeMultiplier=1,this.resizeFeature=null,this.lastFocusEvent=null,this.dragSource=null,this.reAttemptToFocus=!1,this.instanceId=e.getUniqueId()+"-"+k6++}postConstruct(){const e=this.refreshTabIndex.bind(this);this.addManagedPropertyListeners(["suppressHeaderFocus"],e),this.addManagedEventListeners({overlayExclusiveChanged:e})}setComp(e,t,r,n,i){t.setAttribute("col-id",this.column.colIdSanitised),this.wireComp(e,t,r,n,i),this.reAttemptToFocus&&(this.reAttemptToFocus=!1,this.focus(this.lastFocusEvent??void 0))}shouldStopEventPropagation(e){const{headerRowIndex:t,column:r}=this.beans.focusSvc.focusedHeader,n=r.getDefinition(),i=n?.suppressHeaderKeyboardEvent;if(!Le(i))return!1;const o=Ue(this.gos,{colDef:n,column:r,headerRowIndex:t,event:e});return!!i(o)}getWrapperHasFocus(){return qt(this.beans)===this.eGui}setGui(e,t){this.eGui=e,this.addDomData(t),t.addManagedListeners(this.beans.eventSvc,{displayedColumnsChanged:this.onDisplayedColumnsChanged.bind(this)}),t.addManagedElementListeners(this.eGui,{focus:this.onGuiFocus.bind(this)}),this.onDisplayedColumnsChanged(),this.refreshTabIndex()}refreshHeaderStyles(){const e=this.column.getDefinition();if(!e)return;const{headerStyle:t}=e;let r;if(typeof t=="function"){const n=this.getHeaderClassParams();r=t(n)}else r=t;r&&this.comp.setUserStyles(r)}onGuiFocus(){this.eventSvc.dispatchEvent({type:"headerFocused",column:this.column})}setupAutoHeight(e){const{wrapperElement:t,checkMeasuringCallback:r,compBean:n}=e,{beans:i}=this,o=f=>{if(!this.isAlive()||!n.isAlive())return;const{paddingTop:d,paddingBottom:h,borderBottomWidth:g,borderTopWidth:m}=ko(this.eGui),p=d+h+g+m,b=t.offsetHeight+p;if(f<5){const F=!fr(i)?.contains(t),E=b==0;if(F||E){Ph(()=>o(f+1),"raf",i);return}}this.setColHeaderHeight(this.column,b)};let s=!1,a;const l=()=>{const f=this.column.isAutoHeaderHeight();f&&!s&&u(),!f&&s&&c()},u=()=>{s=!0,this.comp.toggleCss("ag-header-cell-auto-height",!0),o(0),a=ii(this.beans,t,()=>o(0))},c=()=>{s=!1,a&&a(),this.comp.toggleCss("ag-header-cell-auto-height",!1),a=void 0};l(),n.addDestroyFunc(()=>c()),n.addManagedListeners(this.column,{widthChanged:()=>s&&o(0)}),n.addManagedEventListeners({sortChanged:()=>{s&&window.setTimeout(()=>o(0))}}),r&&r(l)}onDisplayedColumnsChanged(){const{comp:e,column:t,beans:r,eGui:n}=this;!e||!t||!n||(tC(e,t,r.visibleCols),Ew(n,r.visibleCols.getAriaColIndex(t)))}addResizeAndMoveKeyboardListeners(e){e.addManagedListeners(this.eGui,{keydown:this.onGuiKeyDown.bind(this),keyup:this.onGuiKeyUp.bind(this)})}refreshTabIndex(){const e=uo(this.beans);this.eGui&&Kr(this.eGui,"tabindex",e?null:"-1")}onGuiKeyDown(e){const t=qt(this.beans),r=e.key===me.LEFT||e.key===me.RIGHT;if(this.isResizing&&(e.preventDefault(),e.stopImmediatePropagation()),t!==this.eGui||!e.shiftKey&&!e.altKey||((this.isResizing||r)&&(e.preventDefault(),e.stopImmediatePropagation()),!r))return;const i=e.key===me.LEFT!==this.gos.get("enableRtl")?"left":"right";if(e.altKey){this.isResizing=!0,this.resizeMultiplier+=1;const o=this.getViewportAdjustedResizeDiff(e);this.resizeHeader(o,e.shiftKey),this.resizeFeature?.toggleColumnResizing(!0)}else this.moveHeader(i)}moveHeader(e){this.beans.colMoves?.moveHeader(e,this.eGui,this.column,this.rowCtrl.pinned,this)}getViewportAdjustedResizeDiff(e){const t=this.getResizeDiff(e),{pinnedCols:r}=this.beans;return r?r.getHeaderResizeDiff(t,this.column):t}getResizeDiff(e){const{gos:t,column:r}=this;let n=e.key===me.LEFT!==t.get("enableRtl");const i=r.getPinned(),o=t.get("enableRtl");return i&&o!==(i==="right")&&(n=!n),(n?-1:1)*this.resizeMultiplier}onGuiKeyUp(){this.isResizing&&(this.resizeToggleTimeout&&(window.clearTimeout(this.resizeToggleTimeout),this.resizeToggleTimeout=0),this.isResizing=!1,this.resizeMultiplier=1,this.resizeToggleTimeout=window.setTimeout(()=>{this.resizeFeature?.toggleColumnResizing(!1)},150))}handleKeyDown(e){const t=this.getWrapperHasFocus();switch(e.key){case me.PAGE_DOWN:case me.PAGE_UP:case me.PAGE_HOME:case me.PAGE_END:t&&e.preventDefault()}}addDomData(e){const t=iC,{eGui:r,gos:n}=this;yo(n,r,t,this),e.addDestroyFunc(()=>yo(n,r,t,null))}focus(e){if(!this.isAlive())return!1;const{eGui:t}=this;return t?(t.focus(),this.lastFocusEvent=e||null):this.reAttemptToFocus=!0,!0}focusThis(){this.beans.focusSvc.focusedHeader={headerRowIndex:this.rowCtrl.rowIndex,column:this.column}}removeDragSource(){this.dragSource&&(this.beans.dragAndDrop?.removeDragSource(this.dragSource),this.dragSource=null)}handleContextMenuMouseEvent(e,t,r){const n=e??t,{menuSvc:i,gos:o}=this.beans;o.get("preventDefaultOnContextMenu")&&n.preventDefault(),i?.isHeaderContextMenuEnabled(r)&&i.showHeaderContextMenu(r,e,t),this.dispatchColumnMouseEvent("columnHeaderContextMenu",r)}dispatchColumnMouseEvent(e,t){this.eventSvc.dispatchEvent({type:e,column:t})}setColHeaderHeight(e,t){if(!e.setAutoHeaderHeight(t))return;const{eventSvc:r}=this;e.isColumn?r.dispatchEvent({type:"columnHeaderHeightChanged",column:e,columns:[e],source:"autosizeColumnHeaderHeight"}):r.dispatchEvent({type:"columnGroupHeaderHeightChanged",columnGroup:e,source:"autosizeColumnGroupHeaderHeight"})}clearComponent(){this.removeDragSource(),this.resizeFeature=null,this.comp=null,this.eGui=null}destroy(){super.destroy(),this.column=null,this.lastFocusEvent=null,this.rowCtrl=null}},E6=class extends Ep{constructor(){super(...arguments),this.refreshFunctions={},this.userHeaderClasses=new Set,this.ariaDescriptionProperties=new Map}wireComp(e,t,r,n,i){this.comp=e;const{rowCtrl:o,column:s,beans:a}=this,{colResize:l,context:u,colHover:c,rangeSvc:f}=a,d=Na(this,u,i);this.setGui(t,d),this.updateState(),this.setupWidth(d),this.setupMovingCss(d),this.setupMenuClass(d),this.setupSortableClass(d),this.setupWrapTextClass(),this.refreshSpanHeaderHeight(),this.setupAutoHeight({wrapperElement:n,checkMeasuringCallback:g=>this.setRefreshFunction("measuring",g),compBean:d}),this.addColumnHoverListener(d),this.setupFilterClass(d),this.setupStylesFromColDef(),this.setupClassesFromColDef(),this.setupTooltip(),this.addActiveHeaderMouseListeners(d),this.setupSelectAll(d),this.setupUserComp(),this.refreshAria(),l?this.resizeFeature=d.createManagedBean(l.createResizeFeature(o.pinned,s,r,e,this)):Kt(r,!1),c?.createHoverFeature(d,[s],t),f?.createRangeHighlightFeature(d,s,e),d.createManagedBean(new kp(s,t,a)),d.createManagedBean(new Ms(t,{shouldStopEventPropagation:g=>this.shouldStopEventPropagation(g),onTabKeyDown:()=>null,handleKeyDown:this.handleKeyDown.bind(this),onFocusIn:this.onFocusIn.bind(this),onFocusOut:this.onFocusOut.bind(this)})),this.addResizeAndMoveKeyboardListeners(d),d.addManagedPropertyListeners(["suppressMovableColumns","suppressMenuHide","suppressAggFuncInHeader","enableAdvancedFilter"],()=>this.refresh()),d.addManagedListeners(s,{colDefChanged:()=>this.refresh()}),d.addManagedListeners(s,{headerHighlightChanged:this.onHeaderHighlightChanged.bind(this)});const h=()=>this.checkDisplayName();d.addManagedEventListeners({columnValueChanged:h,columnRowGroupChanged:h,columnPivotChanged:h,headerHeightChanged:this.onHeaderHeightChanged.bind(this)}),d.addDestroyFunc(()=>{this.refreshFunctions={},this.selectAllFeature=null,this.dragSourceElement=void 0,this.userCompDetails=null,this.userHeaderClasses.clear(),this.ariaDescriptionProperties.clear(),this.clearComponent()})}resizeHeader(e,t){this.beans.colResize?.resizeHeader(this.column,e,t)}getHeaderClassParams(){const{column:e,beans:t}=this,r=e.colDef;return Ue(t.gos,{colDef:r,column:e,floatingFilter:!1})}setupUserComp(){const e=this.lookupUserCompDetails();e&&this.setCompDetails(e)}setCompDetails(e){this.userCompDetails=e,this.comp.setUserCompDetails(e)}lookupUserCompDetails(){const e=this.createParams(),t=this.column.getColDef();return B4(this.beans.userCompFactory,t,e)}createParams(){const{menuSvc:e,sortSvc:t,colFilter:r,gos:n}=this.beans;return Ue(n,{column:this.column,displayName:this.displayName,enableSorting:this.column.isSortable(),enableMenu:this.menuEnabled,enableFilterButton:this.openFilterEnabled&&!!e?.isHeaderFilterButtonEnabled(this.column),enableFilterIcon:!!r&&(!this.openFilterEnabled||qr(this.gos)),showColumnMenu:(o,s)=>{e?.showColumnMenu({column:this.column,buttonElement:o,positionBy:"button",onClosedCallback:s})},showColumnMenuAfterMouseClick:(o,s)=>{e?.showColumnMenu({column:this.column,mouseEvent:o,positionBy:"mouse",onClosedCallback:s})},showFilter:o=>{e?.showFilterMenu({column:this.column,buttonElement:o,containerType:"columnFilter",positionBy:"button"})},progressSort:o=>{t?.progressSort(this.column,!!o,"uiColumnSorted")},setSort:(o,s)=>{t?.setSortForColumn(this.column,o,!!s,"uiColumnSorted")},eGridHeader:this.eGui,setTooltip:(o,s)=>{n.assertModuleRegistered("Tooltip",3),this.setupTooltip(o,s)}})}setupSelectAll(e){const{selectionSvc:t}=this.beans;t&&(this.selectAllFeature=e.createOptionalManagedBean(t.createSelectAllFeature(this.column)),this.selectAllFeature?.setComp(this),e.addManagedPropertyListener("rowSelection",()=>{const r=t.createSelectAllFeature(this.column);r&&!this.selectAllFeature?(this.selectAllFeature=e.createManagedBean(r),this.selectAllFeature?.setComp(this),this.comp.refreshSelectAllGui()):this.selectAllFeature&&!r&&(this.comp.removeSelectAllGui(),this.selectAllFeature=this.destroyBean(this.selectAllFeature))}))}getSelectAllGui(){return this.selectAllFeature?.getCheckboxGui()}handleKeyDown(e){super.handleKeyDown(e),e.key===me.SPACE&&this.selectAllFeature?.onSpaceKeyDown(e),e.key===me.ENTER&&this.onEnterKeyDown(e),e.key===me.DOWN&&e.altKey&&this.showMenuOnKeyPress(e,!1)}onEnterKeyDown(e){e.ctrlKey||e.metaKey?this.showMenuOnKeyPress(e,!0):this.sortable&&this.beans.sortSvc?.progressSort(this.column,e.shiftKey,"uiColumnSorted")}showMenuOnKeyPress(e,t){const r=this.comp.getUserCompInstance();_m(r)&&r.onMenuKeyboardShortcut(t)&&e.preventDefault()}onFocusIn(e){this.eGui.contains(e.relatedTarget)||(this.focusThis(),this.announceAriaDescription()),oT()&&this.setActiveHeader(!0)}onFocusOut(e){this.eGui.contains(e.relatedTarget)||this.setActiveHeader(!1)}setupTooltip(e,t){this.tooltipFeature=this.beans.tooltipSvc?.setupHeaderTooltip(this.tooltipFeature,this,e,t)}setupStylesFromColDef(){this.setRefreshFunction("headerStyles",this.refreshHeaderStyles.bind(this)),this.refreshHeaderStyles()}setupClassesFromColDef(){const e=()=>{const t=this.column.getColDef(),r=eC(t,this.gos,this.column,null),n=this.userHeaderClasses;this.userHeaderClasses=new Set(r);for(const i of r)n.has(i)?n.delete(i):this.comp.toggleCss(i,!0);for(const i of n)this.comp.toggleCss(i,!1)};this.setRefreshFunction("headerClasses",e),e()}setDragSource(e){this.dragSourceElement=e,this.removeDragSource(),!(!e||!this.draggable)&&(this.dragSource=this.beans.colMoves?.setDragSourceForHeader(e,this.column,this.displayName)??null)}updateState(){const{menuSvc:e}=this.beans;this.menuEnabled=!!e?.isColumnMenuInHeaderEnabled(this.column),this.openFilterEnabled=!!e?.isFilterMenuInHeaderEnabled(this.column),this.sortable=this.column.isSortable(),this.displayName=this.calculateDisplayName(),this.draggable=this.workOutDraggable()}setRefreshFunction(e,t){this.refreshFunctions[e]=t}refresh(){this.updateState(),this.refreshHeaderComp(),this.refreshAria();for(const e of Object.values(this.refreshFunctions))e()}refreshHeaderComp(){const e=this.lookupUserCompDetails();if(!e)return;(this.comp.getUserCompInstance()!=null&&this.userCompDetails.componentClass==e.componentClass?this.attemptHeaderCompRefresh(e.params):!1)?this.setDragSource(this.dragSourceElement):this.setCompDetails(e)}attemptHeaderCompRefresh(e){const t=this.comp.getUserCompInstance();return!t||!t.refresh?!1:t.refresh(e)}calculateDisplayName(){return this.beans.colNames.getDisplayNameForColumn(this.column,"header",!0)}checkDisplayName(){this.displayName!==this.calculateDisplayName()&&this.refresh()}workOutDraggable(){const e=this.column.getColDef();return!!(!this.gos.get("suppressMovableColumns")&&!e.suppressMovable&&!e.lockPosition)||!!e.enableRowGroup||!!e.enablePivot}setupWidth(e){const t=()=>{const r=this.column.getActualWidth();this.comp.setWidth(`${r}px`)};e.addManagedListeners(this.column,{widthChanged:t}),t()}setupMovingCss(e){const t=()=>{this.comp.toggleCss("ag-header-cell-moving",this.column.isMoving())};e.addManagedListeners(this.column,{movingChanged:t}),t()}setupMenuClass(e){const t=()=>{this.comp?.toggleCss("ag-column-menu-visible",this.column.isMenuVisible())};e.addManagedListeners(this.column,{menuVisibleChanged:t}),t()}setupSortableClass(e){const t=()=>{this.comp.toggleCss("ag-header-cell-sortable",!!this.sortable)};t(),this.setRefreshFunction("updateSortable",t),e.addManagedEventListeners({sortChanged:this.refreshAriaSort.bind(this)})}setupFilterClass(e){const t=()=>{const r=this.column.isFilterActive();this.comp.toggleCss("ag-header-cell-filtered",r),this.refreshAria()};e.addManagedListeners(this.column,{filterActiveChanged:t}),t()}setupWrapTextClass(){const e=()=>{const t=!!this.column.getColDef().wrapHeaderText;this.comp.toggleCss("ag-header-cell-wrap-text",t)};e(),this.setRefreshFunction("wrapText",e)}onHeaderHighlightChanged(){const e=this.column.getHighlighted(),t=e===0,r=e===1;this.comp.toggleCss("ag-header-highlight-before",t),this.comp.toggleCss("ag-header-highlight-after",r)}onDisplayedColumnsChanged(){super.onDisplayedColumnsChanged(),this.isAlive()&&this.onHeaderHeightChanged()}onHeaderHeightChanged(){this.refreshSpanHeaderHeight()}refreshSpanHeaderHeight(){const{eGui:e,column:t,comp:r,beans:n}=this,i=Sp(this.beans),o=i.reduce((d,h)=>d+h,0)===0;if(r.toggleCss("ag-header-parent-hidden",o),!t.isSpanHeaderHeight()){e.style.removeProperty("top"),e.style.removeProperty("height"),r.toggleCss("ag-header-span-height",!1),r.toggleCss("ag-header-span-total",!1);return}const{numberOfParents:s,isSpanningTotal:a}=this.column.getColumnGroupPaddingInfo();r.toggleCss("ag-header-span-height",s>0);const l=xp(n);if(s===0){r.toggleCss("ag-header-span-total",!1),e.style.setProperty("top","0px"),e.style.setProperty("height",`${l}px`);return}r.toggleCss("ag-header-span-total",a);const u=(this.column.getFirstRealParent()?.getLevel()??-1)+1,c=i.length-u;let f=0;for(let d=0;d<c;d++)f+=i[i.length-1-d];e.style.setProperty("top",`${-f}px`),e.style.setProperty("height",`${l+f}px`)}refreshAriaSort(){if(this.sortable){const e=this.getLocaleTextFunc(),t=this.beans.sortSvc?.getDisplaySortForColumn(this.column)||null;this.comp.setAriaSort(T_(t)),this.setAriaDescriptionProperty("sort",e("ariaSortableColumn","Press ENTER to sort"))}else this.comp.setAriaSort(),this.setAriaDescriptionProperty("sort",null)}refreshAriaMenu(){if(this.menuEnabled){const e=this.getLocaleTextFunc();this.setAriaDescriptionProperty("menu",e("ariaMenuColumn","Press ALT DOWN to open column menu"))}else this.setAriaDescriptionProperty("menu",null)}refreshAriaFilterButton(){if(this.openFilterEnabled&&!qr(this.gos)){const e=this.getLocaleTextFunc();this.setAriaDescriptionProperty("filterButton",e("ariaFilterColumn","Press CTRL ENTER to open filter"))}else this.setAriaDescriptionProperty("filterButton",null)}refreshAriaFiltered(){const e=this.getLocaleTextFunc();this.column.isFilterActive()?this.setAriaDescriptionProperty("filter",e("ariaColumnFiltered","Column Filtered")):this.setAriaDescriptionProperty("filter",null)}setAriaDescriptionProperty(e,t){t!=null?this.ariaDescriptionProperties.set(e,t):this.ariaDescriptionProperties.delete(e)}announceAriaDescription(){if(!this.eGui.contains(qt(this.beans)))return;const e=Array.from(this.ariaDescriptionProperties.keys()).sort((t,r)=>t==="filter"?-1:r.charCodeAt(0)-t.charCodeAt(0)).map(t=>this.ariaDescriptionProperties.get(t)).join(". ");this.beans.ariaAnnounce?.announceValue(e,"columnHeader")}refreshAria(){this.refreshAriaSort(),this.refreshAriaMenu(),this.refreshAriaFilterButton(),this.refreshAriaFiltered()}addColumnHoverListener(e){this.beans.colHover?.addHeaderColumnHoverListener(e,this.comp,this.column)}addActiveHeaderMouseListeners(e){const t=i=>this.handleMouseOverChange(i.type==="mouseenter"),r=()=>{this.setActiveHeader(!0),this.dispatchColumnMouseEvent("columnHeaderClicked",this.column)},n=i=>this.handleContextMenuMouseEvent(i,void 0,this.column);e.addManagedListeners(this.eGui,{mouseenter:t,mouseleave:t,click:r,contextmenu:n})}handleMouseOverChange(e){this.setActiveHeader(e),this.eventSvc.dispatchEvent({type:e?"columnHeaderMouseOver":"columnHeaderMouseLeave",column:this.column})}setActiveHeader(e){this.comp.toggleCss("ag-header-active",e)}getAnchorElementForMenu(e){const t=this.comp.getUserCompInstance();return _m(t)?t.getAnchorElementForMenu(e):this.eGui}destroy(){this.tooltipFeature=this.destroyBean(this.tooltipFeature),super.destroy()}};function _m(e){return typeof e?.getAnchorElementForMenu=="function"&&typeof e.onMenuKeyboardShortcut=="function"}var R6=0,Pd=class extends ve{constructor(e,t,r){super(),this.rowIndex=e,this.pinned=t,this.type=r,this.instanceId=R6++,this.comp=null,this.allCtrls=[];let n="ag-header-row-column";r==="group"?n="ag-header-row-group":r==="filter"&&(n="ag-header-row-filter"),this.headerRowClass=`ag-header-row ${n}`}setRowIndex(e){this.rowIndex=e,this.comp?.setRowIndex(this.getAriaRowIndex()),this.onRowHeightChanged()}postConstruct(){this.isPrintLayout=yr(this.gos,"print"),this.isEnsureDomOrder=this.gos.get("ensureDomOrder")}areCellsRendered(){return this.comp?this.allCtrls.every(e=>e.eGui!=null):!1}setComp(e,t,r=!0){this.comp=e,t=Na(this,this.beans.context,t),r&&(this.setRowIndex(this.rowIndex),this.onVirtualColumnsChanged()),this.setWidth(),this.addEventListeners(t)}getAriaRowIndex(){return this.rowIndex+1}addEventListeners(e){const t=this.onRowHeightChanged.bind(this),r=this.onDisplayedColumnsChanged.bind(this);e.addManagedEventListeners({columnResized:this.setWidth.bind(this),displayedColumnsChanged:r,virtualColumnsChanged:n=>this.onVirtualColumnsChanged(n.afterScroll),columnGroupHeaderHeightChanged:t,columnHeaderHeightChanged:t,gridStylesChanged:t,advancedFilterEnabledChanged:t}),e.addManagedPropertyListener("domLayout",r),e.addManagedPropertyListener("ensureDomOrder",n=>this.isEnsureDomOrder=n.currentValue),e.addManagedPropertyListeners(["headerHeight","pivotHeaderHeight","groupHeaderHeight","pivotGroupHeaderHeight","floatingFiltersHeight"],t)}onDisplayedColumnsChanged(){this.isPrintLayout=yr(this.gos,"print"),this.onVirtualColumnsChanged(),this.setWidth(),this.onRowHeightChanged()}setWidth(){if(!this.comp)return;const e=this.getWidthForRow();this.comp.setWidth(`${e}px`)}getWidthForRow(){const{visibleCols:e}=this.beans;return this.isPrintLayout?this.pinned!=null?0:e.getContainerWidth("right")+e.getContainerWidth("left")+e.getContainerWidth(null):e.getContainerWidth(this.pinned)}onRowHeightChanged(){if(!this.comp)return;const{topOffset:e,rowHeight:t}=this.getTopAndHeight();this.comp.setTop(e+"px"),this.comp.setHeight(t+"px")}getTopAndHeight(){let e=0;const t=Sp(this.beans);for(let i=0;i<t.length;i++){if(i===this.rowIndex&&this.type==="group")return{topOffset:e,rowHeight:t[i]};e+=t[i]}const r=xp(this.beans);if(this.type==="column")return{topOffset:e,rowHeight:r};e+=r;const n=rC(this.beans);return{topOffset:e,rowHeight:n}}onVirtualColumnsChanged(e=!1){if(!this.comp)return;const t=this.getUpdatedHeaderCtrls(),r=this.isEnsureDomOrder||this.isPrintLayout;this.comp.setHeaderCtrls(t,r,e)}getUpdatedHeaderCtrls(){const e=this.ctrlsById;this.ctrlsById=new Map;const t=this.getColumnsInViewport();for(const n of t)this.recycleAndCreateHeaderCtrls(n,this.ctrlsById,e);const r=n=>{const{focusSvc:i,visibleCols:o}=this.beans;return i.isHeaderWrapperFocused(n)?o.isVisible(n.column):!1};if(e)for(const[n,i]of e)r(i)?this.ctrlsById.set(n,i):this.destroyBean(i);return this.allCtrls=Array.from(this.ctrlsById.values()),this.allCtrls}getHeaderCellCtrls(){return this.allCtrls}recycleAndCreateHeaderCtrls(e,t,r){if(e.isEmptyGroup())return;const n=e.getUniqueId();let i;if(r&&(i=r.get(n),r.delete(n)),i&&i.column!=e&&(this.destroyBean(i),i=void 0),i==null)switch(this.type){case"filter":{i=this.createBean(this.beans.registry.createDynamicBean("headerFilterCellCtrl",!0,e,this));break}case"group":i=this.createBean(this.beans.registry.createDynamicBean("headerGroupCellCtrl",!0,e,this));break;default:i=this.createBean(new E6(e,this));break}t.set(n,i)}getColumnsInViewport(){if(!this.isPrintLayout)return this.getComponentsToRender();if(this.pinned)return[];const e=[];for(const t of["left",null,"right"])e.push(...this.getComponentsToRender(t));return e}getComponentsToRender(e=this.pinned){return this.type==="group"?this.beans.colViewport.getHeadersToRender(e,this.rowIndex):this.beans.colViewport.getColumnHeadersToRender(e)}focusHeader(e,t){const r=this.allCtrls.find(i=>i.column==e);return r?r.focus(t):!1}destroy(){this.allCtrls=this.destroyBeans(this.allCtrls),this.ctrlsById=void 0,this.comp=null,super.destroy()}},_6=class extends ve{constructor(e){super(),this.pinned=e,this.hidden=!1,this.includeFloatingFilter=!1,this.groupsRowCtrls=[]}setComp(e,t){this.comp=e,this.eViewport=t;const{pinnedCols:r,ctrlsSvc:n,colModel:i,colMoves:o}=this.beans;this.setupCenterWidth(),r?.setupHeaderPinnedWidth(this),this.setupDragAndDrop(o,this.eViewport);const s=this.refresh.bind(this,!0);this.addManagedEventListeners({displayedColumnsChanged:s,advancedFilterEnabledChanged:s});const a=`${typeof this.pinned=="string"?this.pinned:"center"}Header`;n.register(a,this),i.ready&&this.refresh()}getAllCtrls(){const e=[...this.groupsRowCtrls];return this.columnsRowCtrl&&e.push(this.columnsRowCtrl),this.filtersRowCtrl&&e.push(this.filtersRowCtrl),e}refresh(e=!1){const{focusSvc:t,filterManager:r,visibleCols:n}=this.beans;let i=0;const o=t.getFocusHeaderToUseAfterRefresh(),s=()=>{const f=n.headerGroupRowCount;i=f,e||(this.groupsRowCtrls=this.destroyBeans(this.groupsRowCtrls));const d=this.groupsRowCtrls.length;if(d!==f){if(d>f){for(let h=f;h<d;h++)this.destroyBean(this.groupsRowCtrls[h]);this.groupsRowCtrls.length=f;return}for(let h=d;h<f;h++){const g=this.createBean(new Pd(h,this.pinned,"group"));this.groupsRowCtrls.push(g)}}},a=()=>{const f=i++;if(this.hidden){this.columnsRowCtrl=this.destroyBean(this.columnsRowCtrl);return}this.columnsRowCtrl==null||!e?(this.columnsRowCtrl=this.destroyBean(this.columnsRowCtrl),this.columnsRowCtrl=this.createBean(new Pd(f,this.pinned,"column"))):this.columnsRowCtrl.rowIndex!==f&&this.columnsRowCtrl.setRowIndex(f)},l=()=>{this.includeFloatingFilter=!!r?.hasFloatingFilters()&&!this.hidden;const f=()=>{this.filtersRowCtrl=this.destroyBean(this.filtersRowCtrl)};if(!this.includeFloatingFilter){f();return}e||f();const d=i++;this.filtersRowCtrl?this.filtersRowCtrl.rowIndex!==d&&this.filtersRowCtrl.setRowIndex(d):this.filtersRowCtrl=this.createBean(new Pd(d,this.pinned,"filter"))},u=this.getAllCtrls();s(),a(),l();const c=this.getAllCtrls();this.comp.setCtrls(c),this.restoreFocusOnHeader(t,o),u.length!==c.length&&this.beans.eventSvc.dispatchEvent({type:"headerRowsChanged"})}getHeaderCtrlForColumn(e){const t=r=>r?.getHeaderCellCtrls().find(n=>n.column===e);if(Ai(e))return t(this.columnsRowCtrl);if(this.groupsRowCtrls.length!==0)for(let r=0;r<this.groupsRowCtrls.length;r++){const n=t(this.groupsRowCtrls[r]);if(n)return n}}getHtmlElementForColumnHeader(e){return this.getHeaderCtrlForColumn(e)?.eGui??null}getRowType(e){return this.getAllCtrls()[e]?.type}focusHeader(e,t,r){const i=this.getAllCtrls()[e];return i?i.focusHeader(t,r):!1}getGroupRowCount(){return this.groupsRowCtrls.length}getGroupRowCtrlAtIndex(e){return this.groupsRowCtrls[e]}getRowCount(){return this.groupsRowCtrls.length+(this.columnsRowCtrl?1:0)+(this.filtersRowCtrl?1:0)}setHorizontalScroll(e){this.comp.setViewportScrollLeft(e)}onScrollCallback(e){this.addManagedElementListeners(this.eViewport,{scroll:e})}destroy(){this.filtersRowCtrl=this.destroyBean(this.filtersRowCtrl),this.columnsRowCtrl=this.destroyBean(this.columnsRowCtrl),this.groupsRowCtrls=this.destroyBeans(this.groupsRowCtrls),super.destroy()}setupDragAndDrop(e,t){const r=e?.createBodyDropTarget(this.pinned,t);r&&this.createManagedBean(r)}restoreFocusOnHeader(e,t){if(!t)return;const{column:r}=t;r.getPinned()==this.pinned&&e.focusHeaderPosition({headerPosition:t,scroll:!1})}setupCenterWidth(){this.pinned==null&&this.createManagedBean(new Cp(e=>this.comp.setCenterWidth(`${e}px`),!0))}},A6=class extends ve{constructor(){super(...arguments),this.beanName="menuSvc"}postConstruct(){const{enterpriseMenuFactory:e,filterMenuFactory:t}=this.beans;this.activeMenuFactory=e??t}showColumnMenu(e){this.showColumnMenuCommon(this.activeMenuFactory,e,"columnMenu")}showFilterMenu(e){this.showColumnMenuCommon(Tm(this.beans),e,e.containerType,!0)}showHeaderContextMenu(e,t,r){this.activeMenuFactory?.showMenuAfterContextMenuEvent(e,t,r)}hidePopupMenu(){this.beans.contextMenuSvc?.hideActiveMenu(),this.activeMenuFactory?.hideActiveMenu()}hideFilterMenu(){Tm(this.beans)?.hideActiveMenu()}isColumnMenuInHeaderEnabled(e){const{suppressHeaderMenuButton:t}=e.getColDef();return!t&&!!this.activeMenuFactory?.isMenuEnabled(e)&&(qr(this.gos)||!!this.beans.enterpriseMenuFactory)}isFilterMenuInHeaderEnabled(e){return!e.getColDef().suppressHeaderFilterButton&&!!this.beans.filterManager?.isFilterAllowed(e)}isHeaderContextMenuEnabled(e){return!(e&&Ai(e)?e.getColDef():e?.getColGroupDef())?.suppressHeaderContextMenu&&this.gos.get("columnMenu")==="new"}isHeaderMenuButtonAlwaysShowEnabled(){return this.isSuppressMenuHide()}isHeaderMenuButtonEnabled(){const e=!this.isSuppressMenuHide();return!(lo()&&e)}isHeaderFilterButtonEnabled(e){return this.isFilterMenuInHeaderEnabled(e)&&!qr(this.gos)&&!this.isFloatingFilterButtonDisplayed(e)}isFilterMenuItemEnabled(e){return!!this.beans.filterManager?.isFilterAllowed(e)&&!qr(this.gos)&&!this.isFilterMenuInHeaderEnabled(e)&&!this.isFloatingFilterButtonDisplayed(e)}isFloatingFilterButtonEnabled(e){return!e.getColDef().suppressFloatingFilterButton}isFloatingFilterButtonDisplayed(e){return!!e.getColDef().floatingFilter&&this.isFloatingFilterButtonEnabled(e)}isSuppressMenuHide(){const e=this.gos,t=e.get("suppressMenuHide");return qr(e)?e.exists("suppressMenuHide")?t:!1:t}showColumnMenuCommon(e,t,r,n){const{positionBy:i,onClosedCallback:o}=t,s=t.column;if(i==="button"){const{buttonElement:a}=t;e?.showMenuAfterButtonClick(s,a,r,o,n)}else if(i==="mouse"){const{mouseEvent:a}=t;e?.showMenuAfterMouseEvent(s,a,r,o,n)}else if(s){const a=this.beans,l=a.ctrlsSvc;l.getScrollFeature().ensureColumnVisible(s,"auto"),oi(a,()=>{const u=l.getHeaderRowContainerCtrl(s.getPinned())?.getHeaderCtrlForColumn(s);u&&e?.showMenuAfterButtonClick(s,u.getAnchorElementForMenu(n),r,o,n)})}}};function Am(e,t,r){e.menuVisible!==t&&(e.menuVisible=t,e.dispatchColEvent("menuVisibleChanged",r))}function Tm(e){const{enterpriseMenuFactory:t,filterMenuFactory:r,gos:n}=e;return t&&qr(n)?t:r}var Gc=class extends up{constructor(){super(...arguments),this.errorMessages=null}init(e){this.params=e,this.initialiseEditor(e),this.eEditor.onValueChange(()=>e.validate())}destroy(){this.errorMessages=null}},oC=class extends Xt{constructor(){super()}},T6={tag:"span",cls:"ag-overlay-loading-center"},D6=class extends oC{init(){const e=Yn(this.gos.get("overlayLoadingTemplate")?.trim());if(this.setTemplate(e??T6),!e){const r=this.getLocaleTextFunc()("loadingOoo","Loading...");this.getGui().textContent=r,this.beans.ariaAnnounce.announceValue(r,"overlay")}}},M6={tag:"span",cls:"ag-overlay-no-rows-center"},P6=class extends oC{init(){const e=Yn(this.gos.get("overlayNoRowsTemplate")?.trim());if(this.setTemplate(e??M6),!e){const r=this.getLocaleTextFunc()("noRowsToShow","No Rows To Show");this.getGui().textContent=r,this.beans.ariaAnnounce.announceValue(r,"overlay")}}};function I6(e,t,r){const n=on(e,t,r);if(n){const{className:o}=n;if(typeof o=="string"&&o.includes("ag-icon")||typeof o=="object"&&o["ag-icon"])return n}const i=Pr({tag:"span"});return i.appendChild(n),i}function on(e,t,r){let n=null;e==="smallDown"?Se(262):e==="smallLeft"?Se(263):e==="smallRight"&&Se(264);const i=r?.getColDef().icons;if(i&&(n=i[e]),t.gos&&!n){const o=t.gos.get("icons");o&&(n=o[e])}if(n){let o;if(typeof n=="function")o=n();else if(typeof n=="string")o=n;else{Se(38,{iconName:e});return}if(typeof o=="string")return Zf(o);if(ep(o))return o;Se(133,{iconName:e});return}else{const o=t.registry.getIcon(e);return o||t.validation?.validateIcon(e),Pr({tag:"span",cls:`ag-icon ag-icon-${o??e}`,role:"presentation",attrs:{unselectable:"on"}})}}var B6=".ag-dnd-ghost{align-items:center;background-color:var(--ag-drag-and-drop-image-background-color);border:var(--ag-drag-and-drop-image-border);border-radius:var(--ag-border-radius);box-shadow:var(--ag-drag-and-drop-image-shadow);color:var(--ag-text-color);cursor:move;display:flex;font-weight:500;gap:var(--ag-cell-widget-spacing);height:var(--ag-header-height);overflow:hidden;padding-left:var(--ag-cell-horizontal-padding);padding-right:var(--ag-cell-horizontal-padding);text-overflow:ellipsis;transform:translateY(calc(var(--ag-spacing)*2));white-space:nowrap}.ag-dnd-ghost-not-allowed{border:var(--ag-drag-and-drop-image-not-allowed-border)}",L6={tag:"div",children:[{tag:"div",ref:"eGhost",cls:"ag-dnd-ghost ag-unselectable",children:[{tag:"span",ref:"eIcon",cls:"ag-dnd-ghost-icon ag-shake-left-to-right"},{tag:"div",ref:"eLabel",cls:"ag-dnd-ghost-label"}]}]},N6=class extends Xt{constructor(){super(),this.dragSource=null,this.eIcon=Ve,this.eLabel=Ve,this.eGhost=Ve,this.registerCSS(B6)}postConstruct(){const e=t=>I6(t,this.beans,null);this.dropIconMap={pinned:e("columnMovePin"),hide:e("columnMoveHide"),move:e("columnMoveMove"),left:e("columnMoveLeft"),right:e("columnMoveRight"),group:e("columnMoveGroup"),aggregate:e("columnMoveValue"),pivot:e("columnMovePivot"),notAllowed:e("dropNotAllowed")}}init(e){this.dragSource=e.dragSource,this.setTemplate(L6),this.beans.environment.applyThemeClasses(this.eGhost)}destroy(){this.dragSource=null,super.destroy()}setIcon(e,t){const{eGhost:r,eIcon:n,dragSource:i,dropIconMap:o,gos:s}=this;zr(n);let a=null;e||(e=i?.getDefaultIconName?i.getDefaultIconName():"notAllowed"),a=o[e],r.classList.toggle("ag-dnd-ghost-not-allowed",e==="notAllowed"),n.classList.toggle("ag-shake-left-to-right",t),!(a===o.hide&&s.get("suppressDragLeaveHidesColumns"))&&a&&n.appendChild(a)}setLabel(e){this.eLabel.textContent=e}},O6=".ag-checkbox-cell{height:100%}",H6={tag:"div",cls:"ag-cell-wrapper ag-checkbox-cell",role:"presentation",children:[{tag:"ag-checkbox",ref:"eCheckbox",role:"presentation"}]},G6=class extends Xt{constructor(){super(H6,[hp]),this.eCheckbox=Ve,this.registerCSS(O6)}init(e){this.refresh(e);const{eCheckbox:t,beans:r}=this,n=t.getInputElement();n.setAttribute("tabindex","-1"),Sw(n,"polite"),this.addManagedListeners(n,{click:i=>{if(wo(i),t.isDisabled())return;const o=t.getValue();this.onCheckboxChanged(o)},dblclick:i=>{wo(i)}}),this.addManagedElementListeners(e.eGridCell,{keydown:i=>{if(i.key===me.SPACE&&!t.isDisabled()){e.eGridCell===qt(r)&&t.toggle();const o=t.getValue();this.onCheckboxChanged(o),i.preventDefault()}}})}refresh(e){return this.params=e,this.updateCheckbox(e),!0}updateCheckbox(e){let t,r=!0;const{value:n,column:i,node:o}=e;if(o.group&&i)if(typeof n=="boolean")t=n;else{const f=i.getColId();f.startsWith(Bc)?t=n==null||n===""?void 0:n==="true":o.aggData&&o.aggData[f]!==void 0||o.sourceRowIndex>=0?t=n??void 0:r=!1}else t=n??void 0;const{eCheckbox:s}=this;if(!r){s.setDisplayed(!1);return}s.setValue(t);const a=e.disabled??!i?.isCellEditable(o);s.setDisabled(a);const l=this.getLocaleTextFunc(),u=Ic(l,t),c=a?u:`${l("ariaToggleCellValue","Press SPACE to toggle cell value")} (${u})`;s.setInputAriaLabel(c)}onCheckboxChanged(e){const{params:t}=this,{column:r,node:n,value:i}=t;this.beans?.editSvc?.setEditingCells([{column:r,colId:r.getColId(),rowIndex:n.rowIndex,rowPinned:n.rowPinned,state:"changed",oldValue:i,newValue:i}],{update:!0,forceRefreshOfEditCellsOnly:!0});const o=n.setDataValue(r,e,"renderer");this.beans.editSvc?.stopEditing({rowNode:n,column:r},{source:this.beans.editSvc?.isBatchEditing()?"ui":"api"}),o||this.updateCheckbox(t)}},Dm=class{constructor(e,t){this.beans=e,this.floating=t,this.all=new Set,this.visible=new Set,this.order=[],this.queued=new Set}size(){return this.visible.size}add(e){const{all:t,visible:r,order:n}=this;t.has(e)||(t.add(e),r.add(e),n.push(e),this.sort())}delete(e){this.all.delete(e),this.visible.delete(e),this.queued.delete(e.id),pn(this.order,e)}has(e){return this.visible.has(e)}forEach(e){this.order.forEach(e)}getByIndex(e){return this.order[e]}getById(e){for(const t of this.visible)if(t.id==e)return t}clear(){const{all:e,visible:t,order:r,queued:n}=this;e.clear(),n.clear(),t.clear(),r.length=0}sort(){const{sortSvc:e,rowNodeSorter:t,gos:r}=this.beans,n=e?.getSortOptions()??[],i=V6(this.order);if(this.order.sort((s,a)=>(s.pinnedSibling?.rowIndex??0)-(a.pinnedSibling?.rowIndex??0)),this.order=t?.doFullSort(this.order,n)??this.order,!i)return;const o=Xw(r);o==="bottom"||o==="pinnedBottom"?this.order.push(i):this.order.unshift(i)}hide(e){const{all:t,visible:r}=this;t.forEach(n=>e(n)?r.delete(n):r.add(n)),this.order=Array.from(r),this.sort()}queue(e){this.queued.add(e)}unqueue(e){this.queued.delete(e)}forEachQueued(e){this.queued.forEach(e)}};function sC(e){if(e.level===-1)return!0;const t=e.parent;return t?.childrenAfterSort?.some(r=>r==e)?sC(t):!1}function Id(e,t){const{gos:r,rowModel:n,filterManager:i}=e;return Eo(r)?!n.getRowNode(t.id):i?.isAnyFilterPresent()?!sC(t):r.get("pivotMode")?!t.group:!1}function j6(e){return!!e.footer&&e.level===-1}function z6(e){return!!e.pinnedSibling&&j6(e.pinnedSibling)}function V6(e){const t=e.findIndex(z6);if(t>-1)return e.splice(t,1)?.[0]}var Mm=class extends ve{postConstruct(){const{gos:e,beans:t}=this;this.top=new Dm(t,"top"),this.bottom=new Dm(t,"bottom");const r=i=>Id(t,i.pinnedSibling),n=()=>{const i=e.get("isRowPinned");i&&e.get("enableRowPinning")&&t.rowModel.forEachNode(o=>this.pinRow(o,i(o)),!0),this.refreshRowPositions(),this.dispatchRowPinnedEvents()};this.addManagedEventListeners({gridStylesChanged:this.onGridStylesChanges.bind(this),modelUpdated:({keepRenderedRows:i})=>{this.tryToEmptyQueues(),this.pinGrandTotalRow(),this.forContainers(s=>s.hide(r));const o=this.refreshRowPositions();(!i||o)&&this.dispatchRowPinnedEvents()},columnRowGroupChanged:()=>{this.forContainers($6),this.refreshRowPositions()},rowNodeDataChanged:({node:i})=>{(e.get("isRowPinnable")?.(i)??!0)||this.pinRow(i,null)},firstDataRendered:n}),this.addManagedPropertyListener("pivotMode",()=>{this.forContainers(i=>i.hide(r)),this.dispatchRowPinnedEvents()}),this.addManagedPropertyListener("grandTotalRow",({currentValue:i})=>{this._grandTotalPinned=i==="pinnedBottom"?"bottom":i==="pinnedTop"?"top":null}),this.addManagedPropertyListener("isRowPinned",n)}destroy(){this.reset(!1),super.destroy()}reset(e=!0){this.forContainers(t=>{const r=[];t.forEach(n=>r.push(n)),r.forEach(n=>this.pinRow(n,null)),t.clear()}),e&&this.dispatchRowPinnedEvents()}pinRow(e,t,r){if(e.footer&&e.level>-1)return;if(e.footer&&e.level===-1){this._grandTotalPinned=t,K6(this.beans);return}const n=e.rowPinned??e.pinnedSibling?.rowPinned;if(n!=null&&t!=null&&t!=n){const s=e.rowPinned?e:e.pinnedSibling,a=e.rowPinned?e.pinnedSibling:e;this.pinRow(s,null,r),this.pinRow(a,t,r);return}const o=r&&U6(this.beans,e,r);if(o){o.forEach(s=>this.pinRow(s,t));return}if(t==null){const s=e.rowPinned?e:e.pinnedSibling,a=this.findPinnedRowNode(s);if(!a)return;a.delete(s);const l=s.pinnedSibling;Bd(s),this.refreshRowPositions(t),this.dispatchRowPinnedEvents(l)}else{const s=Pm(this.beans,e,t),a=this.getContainer(t);a.add(s),Id(this.beans,e)&&a.hide(l=>Id(this.beans,l.pinnedSibling)),this.refreshRowPositions(t),this.dispatchRowPinnedEvents(e)}}isManual(){return!0}isEmpty(e){return this.getContainer(e).size()===0}isRowsToRender(e){return!this.isEmpty(e)}ensureRowHeightsValid(){let e=!1,t=0;const r=n=>{if(n.rowHeightEstimated){const i=Ri(this.beans,n);n.setRowTop(t),n.setRowHeight(i.height),t+=i.height,e=!0}};return this.bottom.forEach(r),t=0,this.top.forEach(r),this.eventSvc.dispatchEvent({type:"pinnedHeightChanged"}),e}getPinnedTopTotalHeight(){return Im(this.top)}getPinnedBottomTotalHeight(){return Im(this.bottom)}getPinnedTopRowCount(){return this.top.size()}getPinnedBottomRowCount(){return this.bottom.size()}getPinnedTopRow(e){return this.top.getByIndex(e)}getPinnedBottomRow(e){return this.bottom.getByIndex(e)}getPinnedRowById(e,t){return this.getContainer(t).getById(e)}forEachPinnedRow(e,t){this.getContainer(e).forEach(t)}getPinnedState(){const e=t=>{const r=[];return this.forEachPinnedRow(t,n=>r.push(n.pinnedSibling.id)),r};return{top:e("top"),bottom:e("bottom")}}setPinnedState(e){this.forContainers((t,r)=>{for(const n of e[r]){const i=this.beans.rowModel.getRowNode(n);i?this.pinRow(i,r):t.queue(n)}})}getGrandTotalPinned(){return this._grandTotalPinned}setGrandTotalPinned(e){this._grandTotalPinned=e}tryToEmptyQueues(){this.forContainers((e,t)=>{const r=new Set;e.forEachQueued(n=>{const i=this.beans.rowModel.getRowNode(n);i&&r.add(i)});for(const n of r)e.unqueue(n.id),this.pinRow(n,t)})}pinGrandTotalRow(){const{gos:e,beans:t,_grandTotalPinned:r}=this,n=t.rowModel;if(!er(e))return;const i=n.rootNode?.sibling;if(!i)return;const o=i.pinnedSibling,s=o&&this.findPinnedRowNode(o);if(r){if(s&&s.floating!==r&&(s.delete(o),Bd(o)),!s||s.floating!==r){const a=Pm(t,i,r);this.getContainer(r).add(a)}}else{if(!s)return;s.delete(o),Bd(o)}}onGridStylesChanges(e){e.rowHeightChanged&&this.forContainers(t=>t.forEach(r=>r.setRowHeight(r.rowHeight,!0)))}getContainer(e){return e==="top"?this.top:this.bottom}findPinnedRowNode(e){if(this.top.has(e))return this.top;if(this.bottom.has(e))return this.bottom}refreshRowPositions(e){const t=n=>W6(this.beans,n);if(e)return t(this.getContainer(e));let r=!1;return this.forContainers(n=>{const i=t(n);r||(r=i)}),r}forContainers(e){e(this.top,"top"),e(this.bottom,"bottom")}dispatchRowPinnedEvents(e){this.eventSvc.dispatchEvent({type:"pinnedRowsChanged"}),e?.dispatchRowEvent("rowPinned")}};function W6(e,t){let r=0,n=!1;return t.forEach((i,o)=>{if(n||(n=i.rowTop!==r),i.setRowTop(r),i.rowHeightEstimated||i.rowHeight==null){const s=Ri(e,i).height;n||(n=i.rowHeight!==s),i.setRowHeight(s)}i.setRowIndex(o),r+=i.rowHeight}),n}function Pm(e,t,r){if(t.pinnedSibling)return t.pinnedSibling;const n=gD(t,e);n.setRowTop(null),n.setRowIndex(null),n.rowPinned=r;const i=r==="top"?bp:yp;return n.id=`${i}${r}-${t.id}`,n.pinnedSibling=t,t.pinnedSibling=n,n}function Bd(e){if(!e.pinnedSibling)return;e.rowPinned=null,e.setRowTop(null),e.setRowIndex(null);const t=e.pinnedSibling;e.pinnedSibling=void 0,t&&(t.pinnedSibling=void 0,t.rowPinned=null)}function $6(e){const t=new Set;e.forEach(r=>{r.group&&t.add(r)}),t.forEach(r=>e.delete(r))}function U6(e,t,r){const{rowSpanSvc:n}=e,i=(r&&n?.isCellSpanning(r,t))??!1;if(r&&i)return n?.getCellSpan(r,t)?.spannedNodes}function Im(e){const t=e.size();if(t===0)return 0;const r=e.getByIndex(t-1);return r===void 0?0:r.rowTop+r.rowHeight}function K6({gos:e,rowModel:t}){er(e)&&t.refreshModel({step:"map"})}var Bm=class extends ve{constructor(){super(...arguments),this.nextId=0,this.pinnedTopRows={cache:{},order:[]},this.pinnedBottomRows={cache:{},order:[]}}postConstruct(){const e=this.gos;this.setPinnedRowData(e.get("pinnedTopRowData"),"top"),this.setPinnedRowData(e.get("pinnedBottomRowData"),"bottom"),this.addManagedPropertyListener("pinnedTopRowData",t=>this.setPinnedRowData(t.currentValue,"top")),this.addManagedPropertyListener("pinnedBottomRowData",t=>this.setPinnedRowData(t.currentValue,"bottom")),this.addManagedEventListeners({gridStylesChanged:this.onGridStylesChanges.bind(this)})}reset(){}isEmpty(e){return this.getCache(e).order.length===0}isRowsToRender(e){return!this.isEmpty(e)}isManual(){return!1}pinRow(e,t){}onGridStylesChanges(e){if(e.rowHeightChanged){const t=r=>{r.setRowHeight(r.rowHeight,!0)};Ls(this.pinnedBottomRows,t),Ls(this.pinnedTopRows,t)}}ensureRowHeightsValid(){let e=!1,t=0;const r=n=>{if(n.rowHeightEstimated){const i=Ri(this.beans,n);n.setRowTop(t),n.setRowHeight(i.height),t+=i.height,e=!0}};return Ls(this.pinnedBottomRows,r),t=0,Ls(this.pinnedTopRows,r),this.eventSvc.dispatchEvent({type:"pinnedHeightChanged"}),e}setPinnedRowData(e,t){this.updateNodesFromRowData(e,t),this.eventSvc.dispatchEvent({type:"pinnedRowDataChanged"})}updateNodesFromRowData(e,t){const r=this.getCache(t);if(e===void 0){r.order.length=0,r.cache={};return}const n=ys(this.gos),i=t==="top"?bp:yp,o=new Set(r.order),s=[],a=new Set;let l=0,u=-1;for(const c of e){const f=n?.({data:c,level:0,rowPinned:t})??i+this.nextId++;if(a.has(f)){Se(96,{id:f,data:c});continue}u++,a.add(f),s.push(f);const d=ia(r,f);if(d!==void 0)d.data!==c&&d.updateData(c),l+=this.setRowTopAndRowIndex(d,l,u),o.delete(f);else{const h=new Ti(this.beans);h.id=f,h.data=c,h.rowPinned=t,l+=this.setRowTopAndRowIndex(h,l,u),r.cache[f]=h,r.order.push(f)}}for(const c of o)ia(r,c)?.clearRowTopAndRowIndex(),delete r.cache[c];r.order=s}setRowTopAndRowIndex(e,t,r){return e.setRowTop(t),e.setRowHeight(Ri(this.beans,e).height),e.setRowIndex(r),e.rowHeight}getPinnedTopTotalHeight(){return Lm(this.pinnedTopRows)}getPinnedBottomTotalHeight(){return Lm(this.pinnedBottomRows)}getPinnedTopRowCount(){return Xh(this.pinnedTopRows)}getPinnedBottomRowCount(){return Xh(this.pinnedBottomRows)}getPinnedTopRow(e){return Zh(this.pinnedTopRows,e)}getPinnedBottomRow(e){return Zh(this.pinnedBottomRows,e)}getPinnedRowById(e,t){return ia(this.getCache(t),e)}forEachPinnedRow(e,t){return Ls(this.getCache(e),t)}getCache(e){return e==="top"?this.pinnedTopRows:this.pinnedBottomRows}getPinnedState(){return{top:[],bottom:[]}}setPinnedState(){}getGrandTotalPinned(){}setGrandTotalPinned(){}};function Lm(e){const t=Xh(e);if(t===0)return 0;const r=Zh(e,t-1);return r===void 0?0:r.rowTop+r.rowHeight}function ia(e,t){return e.cache[t]}function Zh(e,t){return ia(e,e.order[t])}function Ls(e,t){e.order.forEach((r,n)=>{const i=ia(e,r);i&&t(i,n)})}function Xh(e){return e.order.length}var q6=class extends ve{constructor(){super(...arguments),this.beanName="pinnedRowModel"}postConstruct(){const{gos:e}=this,t=()=>{const r=e.get("enableRowPinning"),n=Xw(e),o=!!r||(n==="pinnedBottom"||n==="pinnedTop"),s=o?this.inner instanceof Bm:this.inner instanceof Mm;this.inner&&s&&this.destroyBean(this.inner),(s||!this.inner)&&(this.inner=this.createManagedBean(o?new Mm:new Bm))};this.addManagedPropertyListeners(["enableRowPinning","grandTotalRow"],t),t()}reset(){return this.inner.reset()}isEmpty(e){return this.inner.isEmpty(e)}isManual(){return this.inner.isManual()}isRowsToRender(e){return this.inner.isRowsToRender(e)}pinRow(e,t,r){return this.inner.pinRow(e,t,r)}ensureRowHeightsValid(){return this.inner.ensureRowHeightsValid()}getPinnedRowById(e,t){return this.inner.getPinnedRowById(e,t)}getPinnedTopTotalHeight(){return this.inner.getPinnedTopTotalHeight()}getPinnedBottomTotalHeight(){return this.inner.getPinnedBottomTotalHeight()}getPinnedTopRowCount(){return this.inner.getPinnedTopRowCount()}getPinnedBottomRowCount(){return this.inner.getPinnedBottomRowCount()}getPinnedTopRow(e){return this.inner.getPinnedTopRow(e)}getPinnedBottomRow(e){return this.inner.getPinnedBottomRow(e)}forEachPinnedRow(e,t){return this.inner.forEachPinnedRow(e,t)}getPinnedState(){return this.inner.getPinnedState()}setPinnedState(e){return this.inner.setPinnedState(e)}setGrandTotalPinned(e){return this.inner.setGrandTotalPinned(e)}getGrandTotalPinned(){return this.inner.getGrandTotalPinned()}};function za(e){return!!(e.rowPinned&&e.pinnedSibling)}function tn(e,t,r,n){const i=t==="top";if(!r)return tn(e,t,i?e.getPinnedTopRow(0):e.getPinnedBottomRow(0),n);if(!n){const l=i?e.getPinnedTopRowCount():e.getPinnedBottomRowCount();return tn(e,t,r,i?e.getPinnedTopRow(l-1):e.getPinnedBottomRow(l-1))}let o=!1,s=!1;const a=[];return e.forEachPinnedRow(t,l=>{if(l===r&&!o){o=!0,a.push(l);return}if(o&&l===n){s=!0,a.push(l);return}o&&!s&&a.push(l)}),a}var J6={tag:"div",cls:"ag-selection-checkbox",role:"presentation",children:[{tag:"ag-checkbox",ref:"eCheckbox",role:"presentation"}]},Y6=class extends Xt{constructor(){super(J6,[hp]),this.eCheckbox=Ve}postConstruct(){this.eCheckbox.setPassive(!0)}onDataChanged(){this.onSelectionChanged()}onSelectableChanged(){this.showOrHideSelect()}onSelectionChanged(){const e=this.getLocaleTextFunc(),{rowNode:t,eCheckbox:r}=this,n=t.isSelected(),i=Ic(e,n),[o,s]=t.selectable?["ariaRowToggleSelection","Press Space to toggle row selection"]:["ariaRowSelectionDisabled","Row Selection is disabled for this row"],a=e(o,s);r.setValue(n,!0),r.setInputAriaLabel(`${a} (${i})`)}init(e){if(this.rowNode=e.rowNode,this.column=e.column,this.overrides=e.overrides,this.onSelectionChanged(),this.addManagedListeners(this.eCheckbox.getInputElement(),{dblclick:wo,click:n=>{wo(n),this.beans.selectionSvc?.handleSelectionEvent(n,this.rowNode,"checkboxSelected")}}),this.addManagedListeners(this.rowNode,{rowSelected:this.onSelectionChanged.bind(this),dataChanged:this.onDataChanged.bind(this),selectableChanged:this.onSelectableChanged.bind(this)}),this.addManagedPropertyListener("rowSelection",({currentValue:n,previousValue:i})=>{const o=typeof n=="object"?bd(n):void 0,s=typeof i=="object"?bd(i):void 0;o!==s&&this.onSelectableChanged()}),Oh(this.gos)||typeof this.getIsVisible()=="function"){const n=this.showOrHideSelect.bind(this);this.addManagedEventListeners({displayedColumnsChanged:n}),this.addManagedListeners(this.rowNode,{dataChanged:n,cellChanged:n}),this.showOrHideSelect()}this.eCheckbox.getInputElement().setAttribute("tabindex","-1")}showOrHideSelect(){const{column:e,rowNode:t,overrides:r,gos:n}=this,i=t.selectable,o=this.getIsVisible();let s;if(typeof o=="function"){const f=r?.callbackParams;if(!e)s=o({...f,node:t,data:t.data});else{const d=e.createColumnFunctionCallbackParams(t);s=o({...f,...d})}}else s=o??!1;const a=i&&!s||!i&&s,l=i||s,u=n.get("rowSelection"),c=u&&typeof u!="string"?!bd(u):!!e?.getColDef().showDisabledCheckboxes;this.setVisible(l&&(a?c:!0)),this.setDisplayed(l&&(a?c:!0)),l&&this.eCheckbox.setDisabled(a),r?.removeHidden&&this.setDisplayed(l)}getIsVisible(){const e=this.overrides;if(e)return e.isVisible;const t=this.gos.get("rowSelection");return t&&typeof t!="string"?os(t):this.column?.getColDef()?.checkboxSelection}},Z6=class{constructor(e,t){this.rowModel=e,this.pinnedRowModel=t,this.selectAll=!1,this.rootId=null,this.endId=null,this.cachedRange=[]}reset(){this.rootId=null,this.endId=null,this.cachedRange.length=0}setRoot(e){this.rootId=e.id,this.endId=null,this.cachedRange.length=0}setEndRange(e){this.endId=e.id,this.cachedRange.length=0}getRange(){if(this.cachedRange.length===0){const e=this.getRoot(),t=this.getEnd();if(e==null||t==null)return this.cachedRange;this.cachedRange=this.getNodesInRange(e,t)??[]}return this.cachedRange}isInRange(e){return this.rootId===null?!1:this.getRange().some(t=>t.id===e.id)}getRoot(e){if(this.rootId)return this.getRowNode(this.rootId);if(e)return this.setRoot(e),e}getEnd(){if(this.endId)return this.getRowNode(this.endId)}getRowNode(e){let t;const{rowModel:r,pinnedRowModel:n}=this;return t??(t=r.getRowNode(e)),n?.isManual()&&(t??(t=n.getPinnedRowById(e,"top")),t??(t=n.getPinnedRowById(e,"bottom"))),t}truncate(e){const t=this.getRange();if(t.length===0)return{keep:[],discard:[]};const r=t[0].id===this.rootId,n=t.findIndex(i=>i.id===e.id);if(n>-1){const i=t.slice(0,n),o=t.slice(n+1);return this.setEndRange(e),r?{keep:i,discard:o}:{keep:o,discard:i}}else return{keep:t,discard:[]}}extend(e,t=!1){const r=this.getRoot();if(r==null){const i=this.getRange().slice();return t&&e.depthFirstSearch(o=>!o.group&&i.push(o)),i.push(e),this.setRoot(e),{keep:i,discard:[]}}const n=this.getNodesInRange(r,e);if(!n)return this.setRoot(e),{keep:[e],discard:[]};if(n.find(i=>i.id===this.endId))return this.setEndRange(e),{keep:this.getRange(),discard:[]};{const i=this.getRange().slice();return this.setEndRange(e),{keep:this.getRange(),discard:i}}}getNodesInRange(e,t){const{pinnedRowModel:r,rowModel:n}=this;if(!r?.isManual())return n.getNodesInRangeForSelection(e,t);if(e.rowPinned==="top"&&!t.rowPinned)return tn(r,"top",e,void 0).concat(n.getNodesInRangeForSelection(n.getRow(0),t)??[]);if(e.rowPinned==="bottom"&&!t.rowPinned){const i=tn(r,"bottom",void 0,e),o=n.getRowCount(),s=n.getRow(o-1);return(n.getNodesInRangeForSelection(t,s)??[]).concat(i)}if(!e.rowPinned&&!t.rowPinned)return n.getNodesInRangeForSelection(e,t);if(e.rowPinned==="top"&&t.rowPinned==="top")return tn(r,"top",e,t);if(e.rowPinned==="bottom"&&t.rowPinned==="top"){const i=tn(r,"top",t,void 0),o=tn(r,"bottom",void 0,e),s=n.getRow(0),a=n.getRow(n.getRowCount()-1);return i.concat(n.getNodesInRangeForSelection(s,a)??[]).concat(o)}if(!e.rowPinned&&t.rowPinned==="top")return tn(r,"top",t,void 0).concat(n.getNodesInRangeForSelection(n.getRow(0),e)??[]);if(e.rowPinned==="top"&&t.rowPinned==="bottom"){const i=tn(r,"top",e,void 0),o=tn(r,"bottom",void 0,t),s=n.getRow(0),a=n.getRow(n.getRowCount()-1);return i.concat(n.getNodesInRangeForSelection(s,a)??[]).concat(o)}if(e.rowPinned==="bottom"&&t.rowPinned==="bottom")return tn(r,"bottom",e,t);if(!e.rowPinned&&t.rowPinned==="bottom"){const i=tn(r,"bottom",void 0,t),o=n.getRow(n.getRowCount());return(n.getNodesInRangeForSelection(e,o)??[]).concat(i)}return null}},X6=class extends ve{constructor(e){super(),this.column=e,this.cbSelectAllVisible=!1,this.processingEventFromCheckbox=!1}onSpaceKeyDown(e){const t=this.cbSelectAll;t.isDisplayed()&&!t.getGui().contains(qt(this.beans))&&(e.preventDefault(),t.setValue(!t.getValue()))}getCheckboxGui(){return this.cbSelectAll.getGui()}setComp(e){this.headerCellCtrl=e;const t=this.createManagedBean(new dp);this.cbSelectAll=t,t.addCss("ag-header-select-all"),mo(t.getGui(),"presentation"),this.showOrHideSelectAll();const r=this.updateStateOfCheckbox.bind(this);this.addManagedEventListeners({newColumnsLoaded:()=>this.showOrHideSelectAll(),displayedColumnsChanged:this.onDisplayedColumnsChanged.bind(this),selectionChanged:r,paginationChanged:r,modelUpdated:r}),this.addManagedPropertyListener("rowSelection",({currentValue:n,previousValue:i})=>{const o=s=>typeof s=="string"||!s||s.mode==="singleRow"?void 0:s.selectAll;o(n)!==o(i)&&this.showOrHideSelectAll(),this.updateStateOfCheckbox()}),this.addManagedListeners(t,{fieldValueChanged:this.onCbSelectAll.bind(this)}),t.getInputElement().setAttribute("tabindex","-1"),this.refreshSelectAllLabel()}onDisplayedColumnsChanged(e){this.isAlive()&&this.showOrHideSelectAll(e.source==="uiColumnMoved")}showOrHideSelectAll(e=!1){const t=this.isCheckboxSelection();this.cbSelectAllVisible=t,this.cbSelectAll.setDisplayed(t),t&&(this.checkRightRowModelType("selectAllCheckbox"),this.checkSelectionType("selectAllCheckbox"),this.updateStateOfCheckbox()),this.refreshSelectAllLabel(e)}updateStateOfCheckbox(){if(!this.cbSelectAllVisible||this.processingEventFromCheckbox)return;this.processingEventFromCheckbox=!0;const e=this.getSelectAllMode(),t=this.beans.selectionSvc,r=this.cbSelectAll,n=t.getSelectAllState(e);r.setValue(n);const i=t.hasNodesToSelect(e);r.setDisabled(!i),this.refreshSelectAllLabel(),this.processingEventFromCheckbox=!1}refreshSelectAllLabel(e=!1){const t=this.getLocaleTextFunc(),{headerCellCtrl:r,cbSelectAll:n,cbSelectAllVisible:i}=this,o=n.getValue(),s=Ic(t,o),a=t("ariaRowSelectAll","Press Space to toggle all rows selection");r.setAriaDescriptionProperty("selectAll",i?`${a} (${s})`:null),n.setInputAriaLabel(t("ariaHeaderSelection","Column with Header Selection")),e||r.announceAriaDescription()}checkSelectionType(e){return ec(this.gos)?!0:(Se(128,{feature:e}),!1)}checkRightRowModelType(e){const{gos:t,rowModel:r}=this.beans;return er(t)||Eo(t)?!0:(Se(129,{feature:e,rowModel:r.getType()}),!1)}onCbSelectAll(){if(this.processingEventFromCheckbox||!this.cbSelectAllVisible)return;const e=this.cbSelectAll.getValue(),t=this.getSelectAllMode();let r="uiSelectAll";t==="currentPage"?r="uiSelectAllCurrentPage":t==="filtered"&&(r="uiSelectAllFiltered");const n={source:r,selectAll:t},i=this.beans.selectionSvc;e?i.selectAllRowNodes(n):i.deselectAllRowNodes(n)}isCheckboxSelection(){const{column:e,gos:t,beans:r}=this,o=typeof t.get("rowSelection")=="object"?"headerCheckbox":"headerCheckboxSelection";return aC(r,e)&&this.checkRightRowModelType(o)&&this.checkSelectionType(o)}getSelectAllMode(){const e=r1(this.gos,!1);if(e)return e;const{headerCheckboxSelectionCurrentPageOnly:t,headerCheckboxSelectionFilteredOnly:r}=this.column.getColDef();return t?"currentPage":r?"filtered":"all"}destroy(){super.destroy(),this.cbSelectAll=void 0,this.headerCellCtrl=void 0}};function aC({gos:e,selectionColSvc:t},r){const n=e.get("rowSelection"),i=r.getColDef(),{headerCheckboxSelection:o}=i;let s=!1;if(typeof n=="object"){const l=si(r),u=ap(r);(Xu(n)==="autoGroupColumn"&&u||l&&t?.isSelectionColumnEnabled())&&(s=du(n))}else typeof o=="function"?s=o(Ue(e,{column:r,colDef:i})):s=!!o;return s}var Q6=class extends ve{postConstruct(){const{gos:e,beans:t}=this;this.selectionCtx=new Z6(t.rowModel,t.pinnedRowModel),this.addManagedPropertyListeners(["isRowSelectable","rowSelection"],()=>{const r=Oh(e);r!==this.isRowSelectable&&(this.isRowSelectable=r,this.updateSelectable())}),this.isRowSelectable=Oh(e),this.addManagedEventListeners({cellValueChanged:r=>this.updateRowSelectable(r.node),rowNodeDataChanged:r=>this.updateRowSelectable(r.node)})}destroy(){super.destroy(),this.selectionCtx.reset()}createCheckboxSelectionComponent(){return new Y6}createSelectAllFeature(e){if(aC(this.beans,e))return new X6(e)}isMultiSelect(){return ec(this.gos)}onRowCtrlSelected(e,t,r){const n=!!e.rowNode.isSelected();e.forEachGui(r,i=>{i.rowComp.toggleCss("ag-row-selected",n);const o=i.element;Rw(o,n),o.contains(qt(this.beans))&&t(i)})}announceAriaRowSelection(e){if(this.isRowSelectionBlocked(e))return;const t=e.isSelected(),r=this.beans.editSvc?.isEditing({rowNode:e});if(!e.selectable||r)return;const i=this.getLocaleTextFunc()(t?"ariaRowDeselect":"ariaRowSelect",`Press SPACE to ${t?"deselect":"select"} this row`);this.beans.ariaAnnounce?.announceValue(i,"rowSelection")}isRowSelectionBlocked(e){return!e.selectable||e.rowPinned&&!za(e)||!so(this.gos)}updateRowSelectable(e,t){const r=e.rowPinned&&e.pinnedSibling?e.pinnedSibling.selectable:this.isRowSelectable?.(e)??!0;return this.setRowSelectable(e,r,t),r}setRowSelectable(e,t,r){if(e.selectable!==t){if(e.selectable=t,e.dispatchRowEvent("selectableChanged"),r)return;if(va(this.gos)){const i=this.calculateSelectedFromChildren(e);this.setNodesSelected({nodes:[e],newValue:i??!1,source:"selectableChanged"});return}e.isSelected()&&!e.selectable&&this.setNodesSelected({nodes:[e],newValue:!1,source:"selectableChanged"})}}calculateSelectedFromChildren(e){let t=!1,r=!1;if(!e.childrenAfterGroup?.length)return e.selectable?e.__selected:null;for(let n=0;n<e.childrenAfterGroup.length;n++){const i=e.childrenAfterGroup[n];let o=i.isSelected();if(!i.selectable){const s=this.calculateSelectedFromChildren(i);if(s===null)continue;o=s}switch(o){case!0:t=!0;break;case!1:r=!0;break;default:return}}if(!(t&&r))return t?!0:r?!1:e.selectable?e.__selected:null}selectRowNode(e,t,r,n="api"){const i=!e.selectable&&t,o=e.__selected===t;if(i||o)return!1;e.__selected=t,e.dispatchRowEvent("rowSelected");const s=e.sibling;s&&s.footer&&s.__localEventService&&s.dispatchRowEvent("rowSelected");const a=e.pinnedSibling;return a?.rowPinned&&a.__localEventService&&a.dispatchRowEvent("rowSelected"),this.eventSvc.dispatchEvent({...fD(e,this.gos,"rowSelected"),event:r||null,source:n}),!0}isCellCheckboxSelection(e,t){const r=this.gos.get("rowSelection");if(r&&typeof r!="string"){const n=si(e)&&os(r);return e.isColumnFunc(t,n)}else return e.isColumnFunc(t,e.colDef.checkboxSelection)}inferNodeSelections(e,t,r,n){const{gos:i,selectionCtx:o}=this,s=e.isSelected(),a=va(i),l=IA(i),u=BA(i),c=this.isMultiSelect(),f=n==="rowClicked";if(f&&!(l||u))return null;if(t&&r&&c){const d=o.getRoot();if(d)if(d.isSelected()){const h=o.isInRange(e)?o.truncate(e):o.extend(e,a);return{deselect:h.discard,select:h.keep,reset:!1}}else{const h=o.extend(e,a);return{select:[],deselect:h.keep,reset:!1}}else return null}else if(t&&c){const d=o.selectAll?this.beans.rowModel.getRow(0):void 0,h=o.getRoot(d),g=o.isInRange(e)?o.truncate(e):o.extend(e,a);return{select:g.keep,deselect:g.discard,reset:o.selectAll||!!(h&&!h.isSelected())}}else if(r){if(f){const d=!s;return d&&!l||!d&&!u?null:(o.setRoot(e),{node:e,newValue:d,clearSelection:!1})}return o.setRoot(e),{node:e,newValue:!s,clearSelection:!c}}else{o.setRoot(e);const d=LA(i),h=tc(i)==="filteredDescendants",g=f&&(!d||!l);if(h&&s===void 0&&er(i))return{node:e,newValue:!1,checkFilteredNodes:!0,clearSelection:!c||g};if(f){const m=s?!d:l;return m===s&&!g||m&&!l||!m&&!u?null:{node:e,newValue:m,clearSelection:!c||g,keepDescendants:e.group&&a}}return{node:e,newValue:!s,clearSelection:!c||g}}}},us={TAB_GUARD:"ag-tab-guard",TAB_GUARD_TOP:"ag-tab-guard-top",TAB_GUARD_BOTTOM:"ag-tab-guard-bottom"},lC=class extends ve{constructor(e){super(),this.skipTabGuardFocus=!1,this.forcingFocusOut=!1,this.allowFocus=!1;const{comp:t,eTopGuard:r,eBottomGuard:n,focusTrapActive:i,forceFocusOutWhenTabGuardsAreEmpty:o,isFocusableContainer:s,focusInnerElement:a,onFocusIn:l,onFocusOut:u,shouldStopEventPropagation:c,onTabKeyDown:f,handleKeyDown:d,isEmpty:h,eFocusableElement:g}=e;this.comp=t,this.eTopGuard=r,this.eBottomGuard=n,this.providedFocusInnerElement=a,this.eFocusableElement=g,this.focusTrapActive=!!i,this.forceFocusOutWhenTabGuardsAreEmpty=!!o,this.isFocusableContainer=!!s,this.providedFocusIn=l,this.providedFocusOut=u,this.providedShouldStopEventPropagation=c,this.providedOnTabKeyDown=f,this.providedHandleKeyDown=d,this.providedIsEmpty=h}postConstruct(){this.createManagedBean(new Ms(this.eFocusableElement,{shouldStopEventPropagation:()=>this.shouldStopEventPropagation(),onTabKeyDown:e=>this.onTabKeyDown(e),handleKeyDown:e=>this.handleKeyDown(e),onFocusIn:e=>this.onFocusIn(e),onFocusOut:e=>this.onFocusOut(e)})),this.activateTabGuards();for(const e of[this.eTopGuard,this.eBottomGuard])this.addManagedElementListeners(e,{focus:this.onFocus.bind(this)})}handleKeyDown(e){this.providedHandleKeyDown&&this.providedHandleKeyDown(e)}tabGuardsAreActive(){return!!this.eTopGuard&&this.eTopGuard.hasAttribute("tabIndex")}shouldStopEventPropagation(){return this.providedShouldStopEventPropagation?this.providedShouldStopEventPropagation():!1}activateTabGuards(){if(this.forcingFocusOut)return;const e=this.gos.get("tabIndex");this.comp.setTabIndex(e.toString())}deactivateTabGuards(){this.comp.setTabIndex()}onFocus(e){if(this.isFocusableContainer&&!this.eFocusableElement.contains(e.relatedTarget)&&!this.allowFocus){this.findNextElementOutsideAndFocus(e.target===this.eBottomGuard);return}if(this.skipTabGuardFocus){this.skipTabGuardFocus=!1;return}if(this.forceFocusOutWhenTabGuardsAreEmpty&&(this.providedIsEmpty?this.providedIsEmpty():as(this.eFocusableElement,".ag-tab-guard").length===0)){this.findNextElementOutsideAndFocus(e.target===this.eBottomGuard);return}if(this.isFocusableContainer&&this.eFocusableElement.contains(e.relatedTarget))return;const t=e.target===this.eBottomGuard;!(this.providedFocusInnerElement?this.providedFocusInnerElement(t):this.focusInnerElement(t))&&this.forceFocusOutWhenTabGuardsAreEmpty&&this.findNextElementOutsideAndFocus(e.target===this.eBottomGuard)}findNextElementOutsideAndFocus(e){const t=fr(this.beans),r=as(t.body,null,!0),n=r.indexOf(e?this.eTopGuard:this.eBottomGuard);if(n===-1)return;let i,o;e?(i=0,o=n):(i=n+1,o=r.length);const s=r.slice(i,o),a=this.gos.get("tabIndex");s.sort((l,u)=>{const c=Number.parseInt(l.getAttribute("tabindex")||"0"),f=Number.parseInt(u.getAttribute("tabindex")||"0");return f===a?1:c===a?-1:c===0?1:f===0?-1:c-f}),s[e?s.length-1:0]?.focus()}onFocusIn(e){this.focusTrapActive||this.forcingFocusOut||(this.providedFocusIn&&this.providedFocusIn(e),this.isFocusableContainer||this.deactivateTabGuards())}onFocusOut(e){this.focusTrapActive||(this.providedFocusOut&&this.providedFocusOut(e),this.eFocusableElement.contains(e.relatedTarget)||this.activateTabGuards())}onTabKeyDown(e){if(this.providedOnTabKeyDown){this.providedOnTabKeyDown(e);return}if(this.focusTrapActive||e.defaultPrevented)return;const t=this.tabGuardsAreActive();t&&this.deactivateTabGuards();const r=this.getNextFocusableElement(e.shiftKey);t&&setTimeout(()=>this.activateTabGuards(),0),r&&(r.focus(),e.preventDefault())}focusInnerElement(e=!1){const t=as(this.eFocusableElement);return this.tabGuardsAreActive()&&(t.splice(0,1),t.splice(t.length-1,1)),t.length?(t[e?t.length-1:0].focus({preventScroll:!0}),!0):!1}getNextFocusableElement(e){return _o(this.beans,this.eFocusableElement,!1,e)}forceFocusOutOfContainer(e=!1){if(this.forcingFocusOut)return;const t=e?this.eTopGuard:this.eBottomGuard;this.activateTabGuards(),this.skipTabGuardFocus=!0,this.forcingFocusOut=!0,t.focus(),window.setTimeout(()=>{this.forcingFocusOut=!1,this.activateTabGuards()})}isTabGuard(e,t){return e===this.eTopGuard&&!t||e===this.eBottomGuard&&(t??!0)}setAllowFocus(e){this.allowFocus=e}},eM=class extends ve{constructor(e){super(),this.comp=e}initialiseTabGuard(e){this.eTopGuard=this.createTabGuard("top"),this.eBottomGuard=this.createTabGuard("bottom"),this.eFocusableElement=this.comp.getFocusableElement();const{eTopGuard:t,eBottomGuard:r,eFocusableElement:n}=this,i=[t,r],o={setTabIndex:p=>{for(const y of i)p!=null?y.setAttribute("tabindex",p):y.removeAttribute("tabindex")}};this.addTabGuards(t,r);const{focusTrapActive:s=!1,onFocusIn:a,onFocusOut:l,focusInnerElement:u,handleKeyDown:c,onTabKeyDown:f,shouldStopEventPropagation:d,isEmpty:h,forceFocusOutWhenTabGuardsAreEmpty:g,isFocusableContainer:m}=e;this.tabGuardCtrl=this.createManagedBean(new lC({comp:o,focusTrapActive:s,eTopGuard:t,eBottomGuard:r,eFocusableElement:n,onFocusIn:a,onFocusOut:l,focusInnerElement:u,handleKeyDown:c,onTabKeyDown:f,shouldStopEventPropagation:d,isEmpty:h,forceFocusOutWhenTabGuardsAreEmpty:g,isFocusableContainer:m}))}getTabGuardCtrl(){return this.tabGuardCtrl}createTabGuard(e){const t=fr(this.beans).createElement("div"),r=e==="top"?us.TAB_GUARD_TOP:us.TAB_GUARD_BOTTOM;return t.classList.add(us.TAB_GUARD,r),mo(t,"presentation"),t}addTabGuards(e,t){const r=this.eFocusableElement;r.insertAdjacentElement("afterbegin",e),r.insertAdjacentElement("beforeend",t)}removeAllChildrenExceptTabGuards(){const e=[this.eTopGuard,this.eBottomGuard];zr(this.comp.getFocusableElement()),this.addTabGuards(...e)}forceFocusOutOfContainer(e=!1){this.tabGuardCtrl.forceFocusOutOfContainer(e)}appendChild(e,t,r){ep(t)||(t=t.getGui());const{eBottomGuard:n}=this;n?n.insertAdjacentElement("beforebegin",t):e(t,r)}destroy(){const{eTopGuard:e,eBottomGuard:t}=this;Ei(e),Ei(t),super.destroy()}},tM=class extends Xt{initialiseTabGuard(t){this.tabGuardFeature=this.createManagedBean(new eM(this)),this.tabGuardFeature.initialiseTabGuard(t)}forceFocusOutOfContainer(t=!1){this.tabGuardFeature.forceFocusOutOfContainer(t)}appendChild(t,r){this.tabGuardFeature.appendChild(super.appendChild.bind(this),t,r)}},rM=500,nM=550,gl,iM=e=>{if(!gl)gl=new WeakSet;else if(gl.has(e))return!1;return gl.add(e),!0},Ji=class{constructor(e,t=!1){this.eElement=e,this.preventClick=t,this.startListener=null,this.handlers=[],this.eventSvc=void 0,this.touchStart=null,this.lastTapTime=null,this.longPressTimer=0,this.moved=!1}addEventListener(e,t){let r=this.eventSvc;if(!r){if(r===null)return;this.eventSvc=r=new go;const n=this.onTouchStart.bind(this);this.startListener=n,this.eElement.addEventListener("touchstart",n,{passive:!0})}r.addEventListener(e,t)}removeEventListener(e,t){this.eventSvc?.removeEventListener(e,t)}onTouchStart(e){if(this.touchStart||!iM(e))return;const t=e.touches[0];this.touchStart=t;const r=this.handlers;if(!r.length){const n=this.eElement,i=n.ownerDocument,o=this.onTouchMove.bind(this),s=this.onTouchEnd.bind(this),a=this.onTouchCancel.bind(this),l={passive:!0},u={passive:!1};uu(r,[n,"touchmove",o,l],[i,"touchcancel",a,l],[i,"touchend",s,u],[i,"contextmenu",mi,u])}this.clearLongPress(),this.longPressTimer=window.setTimeout(()=>{this.longPressTimer=0,this.touchStart===t&&!this.moved&&(this.moved=!0,this.eventSvc?.dispatchEvent({type:"longTap",touchStart:t,touchEvent:e}))},nM)}onTouchMove(e){const{moved:t,touchStart:r}=this;if(!t&&r){const n=ta(r,e.touches);n&&!Bw(n,r,4)&&(this.clearLongPress(),this.moved=!0)}}onTouchEnd(e){const t=this.touchStart;!t||!ta(t,e.changedTouches)||(this.moved||(this.eventSvc?.dispatchEvent({type:"tap",touchStart:t}),this.checkDoubleTap(t)),this.preventClick&&mi(e),this.cancel())}onTouchCancel(e){const t=this.touchStart;!t||!ta(t,e.changedTouches)||(this.lastTapTime=null,this.cancel())}checkDoubleTap(e){let t=Date.now();const r=this.lastTapTime;r&&t-r>rM&&(this.eventSvc?.dispatchEvent({type:"doubleTap",touchStart:e}),t=null),this.lastTapTime=t}cancel(){this.clearLongPress(),tp(this.handlers),this.touchStart=null}clearLongPress(){window.clearTimeout(this.longPressTimer),this.longPressTimer=0,this.moved=!1}destroy(){const e=this.startListener;e&&(this.startListener=null,this.eElement.removeEventListener("touchstart",e)),this.cancel(),this.eElement=null,this.eventSvc=null}},oM=class{constructor(e){this.tickingInterval=null,this.onScrollCallback=null,this.scrollContainer=e.scrollContainer,this.scrollHorizontally=e.scrollAxis.includes("x"),this.scrollVertically=e.scrollAxis.includes("y"),this.scrollByTick=e.scrollByTick!=null?e.scrollByTick:20,e.onScrollCallback&&(this.onScrollCallback=e.onScrollCallback),this.scrollVertically&&(this.getVerticalPosition=e.getVerticalPosition,this.setVerticalPosition=e.setVerticalPosition),this.scrollHorizontally&&(this.getHorizontalPosition=e.getHorizontalPosition,this.setHorizontalPosition=e.setHorizontalPosition),this.shouldSkipVerticalScroll=e.shouldSkipVerticalScroll||(()=>!1),this.shouldSkipHorizontalScroll=e.shouldSkipHorizontalScroll||(()=>!1)}get scrolling(){return this.tickingInterval!==null}check(e,t=!1){const r=t||this.shouldSkipVerticalScroll();if(r&&this.shouldSkipHorizontalScroll())return;const n=this.scrollContainer.getBoundingClientRect(),i=this.scrollByTick;this.tickLeft=e.clientX<n.left+i,this.tickRight=e.clientX>n.right-i,this.tickUp=e.clientY<n.top+i&&!r,this.tickDown=e.clientY>n.bottom-i&&!r,this.tickLeft||this.tickRight||this.tickUp||this.tickDown?this.ensureTickingStarted():this.ensureCleared()}ensureTickingStarted(){this.tickingInterval===null&&(this.tickingInterval=window.setInterval(this.doTick.bind(this),100),this.tickCount=0)}doTick(){this.tickCount++;const e=this.tickCount>20?200:this.tickCount>10?80:40;if(this.scrollVertically){const t=this.getVerticalPosition();this.tickUp&&this.setVerticalPosition(t-e),this.tickDown&&this.setVerticalPosition(t+e)}if(this.scrollHorizontally){const t=this.getHorizontalPosition();this.tickLeft&&this.setHorizontalPosition(t-e),this.tickRight&&this.setHorizontalPosition(t+e)}this.onScrollCallback&&this.onScrollCallback()}ensureCleared(){this.tickingInterval&&(window.clearInterval(this.tickingInterval),this.tickingInterval=null)}},uC=class{constructor(e="javascript"){this.frameworkName=e,this.renderingEngine="vanilla",this.batchFrameworkComps=!1,this.wrapIncoming=t=>t(),this.wrapOutgoing=t=>t(),this.baseDocLink=`${Gw}/${this.frameworkName}-data-grid`,SA(this.baseDocLink)}frameworkComponent(e){return null}isFrameworkComponent(e){return!1}getDocLink(e){return this.baseDocLink+(e?"/"+e:"")}};function sM(e){return{beanName:"gridApi",bean:e.getBean("apiFunctionSvc").api}}var aM=["licenseManager","environment","eventSvc","gos","paginationAutoPageSizeSvc","apiFunctionSvc","gridApi","registry","agCompUtils","userCompFactory","rowContainerHeight","horizontalResizeSvc","localeSvc","pinnedRowModel","dragSvc","colGroupSvc","visibleCols","popupSvc","selectionSvc","colFilter","quickFilter","filterManager","colModel","headerNavigation","pageBounds","pagination","pageBoundsListener","rowSpanSvc","stickyRowSvc","rowRenderer","expressionSvc","alignedGridsSvc","navigation","valueCache","valueSvc","autoWidthCalc","filterMenuFactory","dragAndDrop","focusSvc","cellNavigation","cellStyles","scrollVisibleSvc","sortSvc","colHover","colAnimation","autoColSvc","selectionColSvc","changeDetectionSvc","animationFrameSvc","undoRedo","colDefFactory","rowStyleSvc","rowNodeBlockLoader","rowNodeSorter","ctrlsSvc","pinnedCols","dataTypeSvc","syncSvc","overlays","stateSvc","expansionSvc","apiEventSvc","ariaAnnounce","menuSvc","colMoves","colAutosize","colFlex","colResize","pivotColsSvc","valueColsSvc","rowGroupColsSvc","colNames","colViewport","pivotResultCols","showRowGroupCols","validation"],Nm=Object.fromEntries(aM.map((e,t)=>[e,t]));function lM(e,t){const r=(e.beanName?Nm[e.beanName]:void 0)??Number.MAX_SAFE_INTEGER,n=(t.beanName?Nm[t.beanName]:void 0)??Number.MAX_SAFE_INTEGER;return r-n}function uM(e,t){return e?.beanName==="gridDestroySvc"?-1:t?.beanName==="gridDestroySvc"?1:0}var cM=class extends ve{constructor(){super(...arguments),this.additionalFocusableContainers=new Set}setComp(e,t,r){this.view=e,this.eGridHostDiv=t,this.eGui=r,this.eGui.setAttribute("grid-id",this.beans.context.getId());const{dragAndDrop:n,ctrlsSvc:i}=this.beans;n?.registerGridDropTarget(()=>this.eGui,this),this.createManagedBean(new wp(this.view)),this.view.setRtlClass(this.gos.get("enableRtl")?"ag-rtl":"ag-ltr");const o=ii(this.beans,this.eGridHostDiv,this.onGridSizeChanged.bind(this));this.addDestroyFunc(()=>o()),i.register("gridCtrl",this)}isDetailGrid(){return k1(this.getGui())?.getAttribute("row-id")?.startsWith("detail")||!1}getOptionalSelectors(){const e=this.beans;return{paginationSelector:e.pagination?.getPaginationSelector(),gridHeaderDropZonesSelector:e.registry?.getSelector("AG-GRID-HEADER-DROP-ZONES"),sideBarSelector:e.sideBar?.getSelector(),statusBarSelector:e.registry?.getSelector("AG-STATUS-BAR"),watermarkSelector:e.licenseManager?.getWatermarkSelector()}}onGridSizeChanged(){this.eventSvc.dispatchEvent({type:"gridSizeChanged",clientWidth:this.eGridHostDiv.clientWidth,clientHeight:this.eGridHostDiv.clientHeight})}destroyGridUi(){this.view.destroyGridUi()}getGui(){return this.eGui}setResizeCursor(e){const{view:t}=this;if(e===!1)t.setCursor(null);else{const r=e===1?"ew-resize":"ns-resize";t.setCursor(r)}}disableUserSelect(e){this.view.setUserSelect(e?"none":null)}focusNextInnerContainer(e){const t=this.getFocusableContainers(),{indexWithFocus:r,nextIndex:n}=this.getNextFocusableIndex(t,e);if(n<0||n>=t.length)return!1;if(n===0){if(r>0){const{visibleCols:i,focusSvc:o}=this.beans,s=i.allCols,a=Gt(s);if(o.focusGridView({column:a,backwards:!0}))return!0}return!1}return this.focusContainer(t[n],e)}focusInnerElement(e){if(this.gos.getCallback("focusGridInnerElement")?.({fromBottom:!!e}))return!0;const r=this.getFocusableContainers(),{focusSvc:n,visibleCols:i}=this.beans,o=i.allCols;if(e){if(r.length>1)return this.focusContainer(Gt(r),e);const s=Gt(o);if(n.focusGridView({column:s,backwards:e}))return!0}if(this.gos.get("headerHeight")===0||uo(this.beans)){if(n.focusGridView({column:o[0],backwards:e}))return!0;for(let s=1;s<r.length;s++)if(vo(r[s].getGui(),e))return!0;return!1}return n.focusFirstHeader()}forceFocusOutOfContainer(e=!1){this.view.forceFocusOutOfContainer(e)}addFocusableContainer(e){this.additionalFocusableContainers.add(e)}removeFocusableContainer(e){this.additionalFocusableContainers.delete(e)}allowFocusForNextCoreContainer(e){const t=this.view.getFocusableContainers(),{nextIndex:r,indexWithFocus:n}=this.getNextFocusableIndex(t,e);if(n===-1||r<0||r>=t.length)return;const i=t[r];i.setAllowFocus?.(!0),setTimeout(()=>{i.setAllowFocus?.(!1)})}isFocusable(){const e=this.beans;return!Hc(e)||!uo(e)||!!e.sideBar?.comp?.isDisplayed()}getNextFocusableIndex(e,t){const r=qt(this.beans),n=e.findIndex(o=>o.getGui().contains(r)),i=n+(t?-1:1);return{indexWithFocus:n,nextIndex:i}}focusContainer(e,t){e.setAllowFocus?.(!0);const r=vo(e.getGui(),t,!1,!0);return e.setAllowFocus?.(!1),r}getFocusableContainers(){return[...this.view.getFocusableContainers(),...this.additionalFocusableContainers]}destroy(){this.additionalFocusableContainers.clear(),super.destroy()}},et=(e,t)=>{for(const r of Object.keys(t))t[r]=e;return t},Om={dispatchEvent:"CommunityCore",...et("CommunityCore",{destroy:0,getGridId:0,getGridOption:0,isDestroyed:0,setGridOption:0,updateGridOptions:0,isModuleRegistered:0}),...et("GridState",{getState:0,setState:0}),...et("SharedRowSelection",{setNodesSelected:0,selectAll:0,deselectAll:0,selectAllFiltered:0,deselectAllFiltered:0,selectAllOnCurrentPage:0,deselectAllOnCurrentPage:0,getSelectedNodes:0,getSelectedRows:0}),...et("RowApi",{redrawRows:0,setRowNodeExpanded:0,getRowNode:0,addRenderedRowListener:0,getRenderedNodes:0,forEachNode:0,getFirstDisplayedRowIndex:0,getLastDisplayedRowIndex:0,getDisplayedRowAtIndex:0,getDisplayedRowCount:0}),...et("ScrollApi",{getVerticalPixelRange:0,getHorizontalPixelRange:0,ensureColumnVisible:0,ensureIndexVisible:0,ensureNodeVisible:0}),...et("KeyboardNavigation",{getFocusedCell:0,clearFocusedCell:0,setFocusedCell:0,tabToNextCell:0,tabToPreviousCell:0,setFocusedHeader:0}),...et("EventApi",{addEventListener:0,addGlobalListener:0,removeEventListener:0,removeGlobalListener:0}),...et("ValueCache",{expireValueCache:0}),...et("CellApi",{getCellValue:0}),...et("SharedMenu",{showColumnMenu:0,hidePopupMenu:0}),...et("Sort",{onSortChanged:0}),...et("PinnedRow",{getPinnedTopRowCount:0,getPinnedBottomRowCount:0,getPinnedTopRow:0,getPinnedBottomRow:0,forEachPinnedRow:0}),...et("Overlay",{showLoadingOverlay:0,showNoRowsOverlay:0,hideOverlay:0}),...et("RenderApi",{setGridAriaProperty:0,refreshCells:0,refreshHeader:0,isAnimationFrameQueueEmpty:0,flushAllAnimationFrames:0,getSizesForCurrentTheme:0,getCellRendererInstances:0}),...et("HighlightChanges",{flashCells:0}),...et("RowDrag",{addRowDropZone:0,removeRowDropZone:0,getRowDropZoneParams:0,getRowDropPositionIndicator:0,setRowDropPositionIndicator:0}),...et("ColumnApi",{getColumnDefs:0,getColumnDef:0,getDisplayNameForColumn:0,getColumn:0,getColumns:0,applyColumnState:0,getColumnState:0,resetColumnState:0,isPinning:0,isPinningLeft:0,isPinningRight:0,getDisplayedColAfter:0,getDisplayedColBefore:0,setColumnsVisible:0,setColumnsPinned:0,getAllGridColumns:0,getDisplayedLeftColumns:0,getDisplayedCenterColumns:0,getDisplayedRightColumns:0,getAllDisplayedColumns:0,getAllDisplayedVirtualColumns:0}),...et("ColumnAutoSize",{sizeColumnsToFit:0,autoSizeColumns:0,autoSizeAllColumns:0}),...et("ColumnGroup",{setColumnGroupOpened:0,getColumnGroup:0,getProvidedColumnGroup:0,getDisplayNameForColumnGroup:0,getColumnGroupState:0,setColumnGroupState:0,resetColumnGroupState:0,getLeftDisplayedColumnGroups:0,getCenterDisplayedColumnGroups:0,getRightDisplayedColumnGroups:0,getAllDisplayedColumnGroups:0}),...et("ColumnMove",{moveColumnByIndex:0,moveColumns:0}),...et("ColumnResize",{setColumnWidths:0}),...et("ColumnHover",{isColumnHovered:0}),...et("EditCore",{getCellEditorInstances:0,getEditingCells:0,getEditRowValues:0,stopEditing:0,startEditingCell:0,isEditing:0,validateEdit:0}),...et("BatchEdit",{startBatchEdit:0,cancelBatchEdit:0,commitBatchEdit:0,isBatchEditing:0}),...et("UndoRedoEdit",{undoCellEditing:0,redoCellEditing:0,getCurrentUndoSize:0,getCurrentRedoSize:0}),...et("FilterCore",{isAnyFilterPresent:0,onFilterChanged:0}),...et("ColumnFilter",{isColumnFilterPresent:0,getColumnFilterInstance:0,destroyFilter:0,setFilterModel:0,getFilterModel:0,getColumnFilterModel:0,setColumnFilterModel:0,showColumnFilter:0,hideColumnFilter:0,getColumnFilterHandler:0,doFilterAction:0}),...et("QuickFilter",{isQuickFilterPresent:0,getQuickFilter:0,resetQuickFilter:0}),...et("Find",{findGetActiveMatch:0,findGetTotalMatches:0,findGoTo:0,findNext:0,findPrevious:0,findGetNumMatches:0,findGetParts:0,findClearActive:0,findRefresh:0}),...et("Pagination",{paginationIsLastPageFound:0,paginationGetPageSize:0,paginationGetCurrentPage:0,paginationGetTotalPages:0,paginationGetRowCount:0,paginationGoToNextPage:0,paginationGoToPreviousPage:0,paginationGoToFirstPage:0,paginationGoToLastPage:0,paginationGoToPage:0}),...et("CsrmSsrmSharedApi",{expandAll:0,collapseAll:0}),...et("SsrmInfiniteSharedApi",{setRowCount:0,getCacheBlockState:0,isLastRowIndexKnown:0}),...et("ClientSideRowModelApi",{onGroupExpandedOrCollapsed:0,refreshClientSideRowModel:0,isRowDataEmpty:0,forEachLeafNode:0,forEachNodeAfterFilter:0,forEachNodeAfterFilterAndSort:0,applyTransaction:0,applyTransactionAsync:0,flushAsyncTransactions:0,getBestCostNodeSelection:0,onRowHeightChanged:0,resetRowHeights:0}),...et("CsvExport",{getDataAsCsv:0,exportDataAsCsv:0}),...et("InfiniteRowModel",{refreshInfiniteCache:0,purgeInfiniteCache:0,getInfiniteRowCount:0}),...et("AdvancedFilter",{getAdvancedFilterModel:0,setAdvancedFilterModel:0,showAdvancedFilterBuilder:0,hideAdvancedFilterBuilder:0}),...et("IntegratedCharts",{getChartModels:0,getChartRef:0,getChartImageDataURL:0,downloadChart:0,openChartToolPanel:0,closeChartToolPanel:0,createRangeChart:0,createPivotChart:0,createCrossFilterChart:0,updateChart:0,restoreChart:0}),...et("Clipboard",{copyToClipboard:0,cutToClipboard:0,copySelectedRowsToClipboard:0,copySelectedRangeToClipboard:0,copySelectedRangeDown:0,pasteFromClipboard:0}),...et("ExcelExport",{getDataAsExcel:0,exportDataAsExcel:0,getSheetDataForExcel:0,getMultipleSheetsAsExcel:0,exportMultipleSheetsAsExcel:0}),...et("SharedMasterDetail",{addDetailGridInfo:0,removeDetailGridInfo:0,getDetailGridInfo:0,forEachDetailGridInfo:0}),...et("ContextMenu",{showContextMenu:0}),...et("ColumnMenu",{showColumnChooser:0,hideColumnChooser:0}),...et("CellSelection",{getCellRanges:0,addCellRange:0,clearRangeSelection:0,clearCellSelection:0}),...et("SharedRowGrouping",{setRowGroupColumns:0,removeRowGroupColumns:0,addRowGroupColumns:0,getRowGroupColumns:0,moveRowGroupColumn:0}),...et("SharedAggregation",{addAggFuncs:0,clearAggFuncs:0,setColumnAggFunc:0}),...et("SharedPivot",{isPivotMode:0,getPivotResultColumn:0,setValueColumns:0,getValueColumns:0,removeValueColumns:0,addValueColumns:0,setPivotColumns:0,removePivotColumns:0,addPivotColumns:0,getPivotColumns:0,setPivotResultColumns:0,getPivotResultColumns:0}),...et("ServerSideRowModelApi",{getServerSideSelectionState:0,setServerSideSelectionState:0,applyServerSideTransaction:0,applyServerSideTransactionAsync:0,applyServerSideRowData:0,retryServerSideLoads:0,flushServerSideAsyncTransactions:0,refreshServerSide:0,getServerSideGroupLevelState:0,onRowHeightChanged:0,resetRowHeights:0}),...et("SideBar",{isSideBarVisible:0,setSideBarVisible:0,setSideBarPosition:0,openToolPanel:0,closeToolPanel:0,getOpenedToolPanel:0,refreshToolPanel:0,isToolPanelShowing:0,getToolPanelInstance:0,getSideBar:0}),...et("StatusBar",{getStatusPanel:0}),...et("AiToolkit",{getStructuredSchema:0})},Ld={isDestroyed:()=>!0,destroy(){},preConstruct(){},postConstruct(){},preWireBeans(){},wireBeans(){}},dM=(e,t)=>e.eventSvc.dispatchEvent(t),cC=class{};Reflect.defineProperty(cC,"name",{value:"GridApi"});var hM=class extends ve{constructor(){super(),this.beanName="apiFunctionSvc",this.api=new cC,this.fns={...Ld,dispatchEvent:dM},this.preDestroyLink="";const{api:e}=this;for(const t of Object.keys(Om))e[t]=this.makeApi(t)[t]}postConstruct(){this.preDestroyLink=this.beans.frameworkOverrides.getDocLink("grid-lifecycle/#grid-pre-destroyed")}addFunction(e,t){const{fns:r,beans:n}=this;r!==Ld&&(r[e]=n?.validation?.validateApiFunction(e,t)??t)}makeApi(e){return{[e]:(...t)=>{const{beans:r,fns:{[e]:n}}=this;return n?n(r,...t):this.apiNotFound(e)}}}apiNotFound(e){const{beans:t,gos:r,preDestroyLink:n}=this;if(!t)Se(26,{fnName:e,preDestroyLink:n});else{const i=Om[e];r.assertModuleRegistered(i,`api.${e}`)&&Se(27,{fnName:e,module:i})}}destroy(){super.destroy(),this.fns=Ld,this.beans=null}};function fM(e){return e.context.getId()}function pM(e){e.gridDestroySvc.destroy()}function gM(e){return e.gridDestroySvc.destroyCalled}function mM(e,t){return e.gos.get(t)}function bM(e,t,r){dC(e,{[t]:r})}function dC(e,t){e.gos.updateGridOptions({options:t})}function yM(e,t){const r=t.replace(/Module$/,"");return e.gos.isModuleRegistered(r)}var vM={tag:"div",cls:"ag-drag-handle ag-row-drag",attrs:{draggable:"true"}},wM=class extends Xt{constructor(e,t,r){super(vM),this.rowNode=e,this.column=t,this.eCell=r}postConstruct(){this.getGui().appendChild(on("rowDrag",this.beans,null)),this.addGuiEventListener("mousedown",t=>{t.stopPropagation()}),this.addDragSource(),this.checkVisibility()}addDragSource(){this.addGuiEventListener("dragstart",this.onDragStart.bind(this))}onDragStart(e){const{rowNode:t,column:r,eCell:n,gos:i}=this,o=r.getColDef().dndSourceOnRowDrag,s=e.dataTransfer;if(s.setDragImage(n,0,0),o){const a=Ue(i,{rowNode:t,dragEvent:e});o(a)}else try{const a=JSON.stringify(t.data);s.setData("application/json",a),s.setData("text/plain",a)}catch{}}checkVisibility(){const e=this.column.isDndSource(this.rowNode);this.setDisplayed(e)}};function CM(e,t){e.rowDragSvc?.rowDragFeature?.addRowDropZone(t)}function FM(e,t){const r=e.dragAndDrop?.findExternalZone(t.getContainer());r&&e.dragAndDrop?.removeDropTarget(r)}function SM(e,t){return e.rowDragSvc?.rowDragFeature?.getRowDropZone(t)}function xM(e){const t=e.rowDropHighlightSvc;return t?{row:t.row,dropIndicatorPosition:t.position}:{row:null,dropIndicatorPosition:"none"}}function kM(e,t){const r=e.rowDropHighlightSvc;if(!r)return;const n=t?.row;let i=t?.dropIndicatorPosition;i!=="above"&&i!=="below"&&i!=="inside"&&(i="none");const o=n?.rowIndex;o==null||i==="none"?r.clear():r.set(n,i)}var EM=class extends uD{shouldPreventMouseEvent(e){return this.gos.get("enableCellTextSelection")&&super.shouldPreventMouseEvent(e)}},RM=class extends ve{constructor(){super(...arguments),this.beanName="horizontalResizeSvc"}addResizeBar(e){const t={dragStartPixels:e.dragStartPixels||0,eElement:e.eResizeBar,onDragStart:this.onDragStart.bind(this,e),onDragStop:this.onDragStop.bind(this,e),onDragging:this.onDragging.bind(this,e),onDragCancel:this.onDragStop.bind(this,e),includeTouch:!0,stopPropagationForTouch:!0},{dragSvc:r}=this.beans;return r.addDragSource(t),()=>r.removeDragSource(t)}onDragStart(e,t){this.dragStartX=t.clientX,this.setResizeIcons();const r=t instanceof MouseEvent&&t.shiftKey===!0;e.onResizeStart(r)}setResizeIcons(){const e=this.beans.ctrlsSvc.get("gridCtrl");e.setResizeCursor(1),e.disableUserSelect(!0)}onDragStop(e){e.onResizeEnd(this.resizeAmount),this.resetIcons()}resetIcons(){const e=this.beans.ctrlsSvc.get("gridCtrl");e.setResizeCursor(!1),e.disableUserSelect(!1)}onDragging(e,t){this.resizeAmount=t.clientX-this.dragStartX,e.onResizing(this.resizeAmount)}},_M={tag:"div",cls:"ag-drag-handle ag-row-drag",attrs:{"aria-hidden":"true"}},AM=class extends Xt{constructor(e,t,r,n,i,o=!1){super(),this.cellValueFn=e,this.rowNode=t,this.column=r,this.customGui=n,this.dragStartPixels=i,this.alwaysVisible=o,this.dragSource=null}isCustomGui(){return this.customGui!=null}postConstruct(){const{beans:e,customGui:t}=this;t?this.setDragElement(t,this.dragStartPixels):(this.setTemplate(_M),this.getGui().appendChild(on("rowDrag",e,null)),this.addDragSource()),this.alwaysVisible||this.initCellDrag()}initCellDrag(){const{beans:e,gos:t,rowNode:r}=this,n=this.refreshVisibility.bind(this);this.addManagedPropertyListener("suppressRowDrag",n),this.addManagedListeners(r,{dataChanged:n,cellChanged:n}),this.addManagedListeners(e.eventSvc,t.get("rowDragManaged")?{sortChanged:n,filterChanged:n,columnRowGroupChanged:n,newColumnsLoaded:n}:{newColumnsLoaded:n})}setDragElement(e,t){this.setTemplateFromElement(e,void 0,void 0,!0),this.addDragSource(t)}refreshVisibility(){if(this.alwaysVisible)return;const e={skipAriaHidden:!0};if(this.isNeverDisplayed()){this.setDisplayed(!1,e);return}const t=this.column;let r=typeof t?.getColDef().rowDrag=="function",n=!t||this.isCustomGui()||t.isRowDrag(this.rowNode);n&&this.rowNode.footer&&this.gos.get("rowDragManaged")&&(n=!1,r=!0),this.setDisplayed(r||n,e),this.setVisible(n,e)}isNeverDisplayed(){const{gos:e,beans:t}=this;return!!(e.get("suppressRowDrag")||e.get("rowDragManaged")&&t.rowDragSvc.rowDragFeature?.shouldPreventRowMove()&&!t.dragAndDrop?.hasExternalDropZones())}getSelectedNodes(){const e=this.rowNode;if(!this.gos.get("rowDragMultiRow"))return[e];const r=this.beans.selectionSvc?.getSelectedNodes()??[];return r.indexOf(e)!==-1?r:[e]}getDragItem(){const{column:e,rowNode:t}=this;return{rowNode:t,rowNodes:this.getSelectedNodes(),columns:e?[e]:void 0,defaultTextValue:this.cellValueFn()}}getRowDragText(e){if(e){const t=e.getColDef();if(t.rowDragText)return t.rowDragText}return this.gos.get("rowDragText")}addDragSource(e=4){if(this.dragSource&&this.removeDragSource(),this.gos.get("rowDragManaged")&&this.rowNode.footer)return;const t=this.getGui();this.gos.get("enableCellTextSelection")&&(this.removeMouseDownListener(),this.mouseDownListener=this.addManagedElementListeners(t,{mousedown:n=>{n?.preventDefault()}})[0]);const r=this.getLocaleTextFunc();this.dragSource={type:2,eElement:t,dragItemName:n=>{const i=n?.dragItem||this.getDragItem(),o=(n?.dropTarget?.rows.length??i.rowNodes?.length)||1,s=this.getRowDragText(this.column);return s?s(i,o):o===1?this.cellValueFn():`${o} ${r("rowDragRows","rows")}`},getDragItem:()=>this.getDragItem(),dragStartPixels:e,dragSourceDomDataKey:this.gos.getDomDataKey()},this.beans.dragAndDrop.addDragSource(this.dragSource,!0)}destroy(){this.removeDragSource(),this.removeMouseDownListener(),super.destroy()}removeDragSource(){this.dragSource&&(this.beans.dragAndDrop.removeDragSource(this.dragSource),this.dragSource=null)}removeMouseDownListener(){this.mouseDownListener&&(this.mouseDownListener(),this.mouseDownListener=void 0)}},yu=class{constructor(){this.reordered=!1,this.removals=new Set,this.updates=new Set,this.adds=new Set}};function TM(e){const{rowIndex:t,rowPinned:r,column:n}=e;return`${t}.${r??"null"}.${n.getId()}`}function hC(e,t){const r=e.column===t.column,n=e.rowPinned===t.rowPinned,i=e.rowIndex===t.rowIndex;return r&&n&&i}function DM(e,t){switch(e.rowPinned){case"top":if(t.rowPinned!=="top")return!0;break;case"bottom":if(t.rowPinned!=="bottom")return!1;break;default:if(Le(t.rowPinned))return t.rowPinned!=="top";break}return e.rowIndex<t.rowIndex}function MM(e,t){return!e&&!t?!0:e&&!t||!e&&t?!1:e.rowIndex===t.rowIndex&&e.rowPinned==t.rowPinned}function PM(e){let t=0,r;const{pinnedRowModel:n,rowModel:i,pageBounds:o}=e;return n?.getPinnedTopRowCount()?r="top":i.getRowCount()?(r=null,t=o.getFirstRow()):n?.getPinnedBottomRowCount()&&(r="bottom"),r===void 0?null:{rowIndex:t,rowPinned:r}}function IM(e){let t,r=null;const{pinnedRowModel:n,pageBounds:i}=e,o=n?.getPinnedBottomRowCount(),s=n?.getPinnedTopRowCount();return o?(r="bottom",t=o-1):e.rowModel.getRowCount()?t=i.getLastRow():s&&(r="top",t=s-1),t===void 0?null:{rowIndex:t,rowPinned:r}}function ri(e,t){switch(t.rowPinned){case"top":return e.pinnedRowModel?.getPinnedTopRow(t.rowIndex);case"bottom":return e.pinnedRowModel?.getPinnedBottomRow(t.rowIndex);default:return e.rowModel.getRow(t.rowIndex)}}function Jo(e,t){const r=e.spannedRowRenderer?.getCellByPosition(t);if(r)return r;const n=e.rowRenderer.getRowByPosition(t);return n?n.getCellCtrl(t.column):null}function BM(e,t,r){const{rowModel:n,pinnedRowModel:i}=e;let o;return o??(o=n?.getRowNode(t)),r?o??(o=i?.getPinnedRowById(t,r)):(o??(o=i?.getPinnedRowById(t,"top")),o??(o=i?.getPinnedRowById(t,"bottom"))),o}function cc(e,t,r=!1){const{rowIndex:n,rowPinned:i}=t,{pageBounds:o,pinnedRowModel:s,rowModel:a}=e;if(n===0)return i==="top"?null:i==="bottom"&&a.isRowsToRender()?{rowIndex:o.getLastRow(),rowPinned:null}:s?.isRowsToRender("top")?{rowIndex:s.getPinnedTopRowCount()-1,rowPinned:"top"}:null;if(r){const l=i?void 0:a.getRow(n);return fC(e,l,!0)??{rowIndex:n-1,rowPinned:i}}return{rowIndex:n-1,rowPinned:i}}function Hm(e,t,r=!1){const{rowIndex:n,rowPinned:i}=t,{pageBounds:o,pinnedRowModel:s,rowModel:a}=e;if(LM(e,t))return i==="bottom"?null:i==="top"&&a.isRowsToRender()?{rowIndex:o.getFirstRow(),rowPinned:null}:s?.isRowsToRender("bottom")?{rowIndex:0,rowPinned:"bottom"}:null;if(r){const l=i?void 0:a.getRow(n);return fC(e,l)??{rowIndex:n+1,rowPinned:i}}return{rowIndex:n+1,rowPinned:i}}function fC(e,t,r=!1){const{gos:n,rowRenderer:i}=e;if(!t?.sticky||!Zw(n))return;const o=i.getStickyTopRowCtrls(),s=i.getStickyBottomRowCtrls(),a=!s.some(f=>f.rowNode.rowIndex===t.rowIndex),l=a?o:s,u=(r?-1:1)*(a?-1:1);let c;for(let f=0;f<l.length;f++)if(l[f].rowNode.rowIndex===t.rowIndex){c=l[f+u];break}return c?{rowIndex:c.rowNode.rowIndex,rowPinned:null}:void 0}function LM(e,t){const{rowPinned:r,rowIndex:n}=t,{pinnedRowModel:i,pageBounds:o}=e;return r==="top"?(i?.getPinnedTopRowCount()??0)-1<=n:r==="bottom"?(i?.getPinnedBottomRowCount()??0)-1<=n:o.getLastRow()<=n}var Fa=class{constructor(e,t){this.active=!0,this.nodeIdsToColumns={},this.mapToItems={},this.keepingColumns=e,this.pathRoot={rowNode:t,children:null},this.mapToItems[t.id]=this.pathRoot}depthFirstSearchChangedPath(e,t){const{rowNode:r,children:n}=e;if(n)for(let i=0;i<n.length;++i)this.depthFirstSearchChangedPath(n[i],t);t(r)}depthFirstSearchEverything(e,t,r){const n=e.childrenAfterGroup;if(n)for(let i=0,o=n.length;i<o;++i){const s=n[i];s.childrenAfterGroup?this.depthFirstSearchEverything(s,t,r):r&&t(s)}t(e)}forEachChangedNodeDepthFirst(e,t=!1,r=!1){this.active&&!r?this.depthFirstSearchChangedPath(this.pathRoot,e):this.depthFirstSearchEverything(this.pathRoot.rowNode,e,t)}executeFromRootNode(e){e(this.pathRoot.rowNode)}createPathItems(e){let t=e,r=0;for(;!this.mapToItems[t.id];){const n={rowNode:t,children:null};this.mapToItems[t.id]=n,r++,t=t.parent}return r}populateColumnsMap(e,t){if(!this.keepingColumns||!t)return;let r=e;for(;r;){this.nodeIdsToColumns[r.id]||(this.nodeIdsToColumns[r.id]={});for(const n of t)this.nodeIdsToColumns[r.id][n.getId()]=!0;r=r.parent}}linkPathItems(e,t){let r=e;for(let n=0;n<t;n++){const i=this.mapToItems[r.id],o=this.mapToItems[r.parent.id];o.children||(o.children=[]),o.children.push(i),r=r.parent}}addParentNode(e,t){if(!e||e.isRowPinned())return;const r=this.createPathItems(e);this.linkPathItems(e,r),this.populateColumnsMap(e,t)}canSkip(e){return this.active&&!this.mapToItems[e.id]}getValueColumnsForNode(e,t){if(!this.keepingColumns)return t;const r=this.nodeIdsToColumns[e.id];return t.filter(i=>r[i.getId()])}getNotValueColumnsForNode(e,t){if(!this.keepingColumns)return null;const r=this.nodeIdsToColumns[e.id];return t.filter(i=>!r[i.getId()])}},NM=class{constructor(e,t){this.beans=e,this.groupThrottled=!1,this.scrollChanged=!1,this.scrollChanging=!1,this.oldVScroll=null,this.groupTimer=null,this.groupTarget=null,this.onGroupThrottle=()=>{this.groupTimer=null,this.groupThrottled=!0,this.beans.dragAndDrop?.nudge()};const r=()=>t.scrollFeature.getVScrollPosition().top;this.autoScroll=new oM({scrollContainer:t.eBodyViewport,scrollAxis:"y",getVerticalPosition:r,setVerticalPosition:n=>t.scrollFeature.setVerticalScrollPosition(n),onScrollCallback:()=>{const n=r();if(this.oldVScroll!==n){this.oldVScroll=n,this.scrollChanging=!0;return}const i=this.scrollChanging;this.scrollChanged=i,this.scrollChanging=!1,i&&(this.beans.dragAndDrop?.nudge(),this.scrollChanged=!1)}})}updateGroup(e,t){this.groupTarget&&this.groupTarget!==e&&this.clearGroup(),e&&(t&&this.groupThrottled&&!e.expanded&&e.childrenAfterSort?.length&&e.isExpandable()&&e.setExpanded(!0,void 0,!0),e.expanded&&e.childrenAfterSort?.length&&(this.groupThrottled=!0,this.groupTarget=e))}startGroup(e){this.groupTarget=e,this.groupTimer===null&&(this.groupTimer=window.setTimeout(this.onGroupThrottle,this.beans.gos.get("rowDragInsertDelay")))}clearGroup(){this.groupThrottled=!1,this.groupTarget=null;const e=this.groupTimer;e!==null&&(this.groupTimer=null,window.clearTimeout(e))}clear(){this.clearGroup(),this.autoScroll.ensureCleared(),this.oldVScroll=null,this.scrollChanged=!1,this.scrollChanging=!1}},OM=class extends ve{constructor(e){super(),this.eContainer=e,this.lastDraggingEvent=null,this.nudger=null}postConstruct(){const e=this.beans;e.ctrlsSvc.whenReady(this,t=>{this.nudger=new NM(e,t.gridBodyCtrl)})}destroy(){super.destroy(),this.nudger?.clear(),this.nudger=null,this.lastDraggingEvent=null,this.eContainer=null}getContainer(){return this.eContainer}isInterestedIn(e){return e===2}getIconName(e){return e?.dropTarget?.allowed===!1||this.gos.get("rowDragManaged")&&this.shouldPreventRowMove()?"notAllowed":"move"}shouldPreventRowMove(){const{rowGroupColsSvc:e,filterManager:t,sortSvc:r}=this.beans;return!!((e?.columns??[]).length||t?.isAnyFilterPresent()||r?.isSortActive())}getRowNodes(e){if(!this.isFromThisGrid(e))return e.dragItem.rowNodes||[];const t=e.dragItem.rowNode;if(this.gos.get("rowDragMultiRow")){const r=this.beans.selectionSvc?.getSelectedNodes();if(r&&r.indexOf(t)>=0)return r.slice().sort(jM)}return[t]}onDragEnter(e){this.dragging(e,!0)}onDragging(e){this.dragging(e,!1)}dragging(e,t){const{lastDraggingEvent:r,beans:n}=this;if(t){const s=this.getRowNodes(e);e.dragItem.rowNodes=s,zm(s,!0)}this.lastDraggingEvent=e;const i=e.fromNudge,o=this.makeRowsDrop(r,e,i,!1);n.rowDropHighlightSvc?.fromDrag(e),t&&this.dispatchGridEvent("rowDragEnter",e),this.dispatchGridEvent("rowDragMove",e),o?.rowDragManaged&&o.moved&&o.allowed&&o.sameGrid&&!o.suppressMoveWhenRowDragging&&(!i&&!this.nudger?.autoScroll.scrolling||this.nudger?.scrollChanged)&&this.dropRows(o),this.nudger?.autoScroll.check(e.event)}isFromThisGrid(e){return e.dragSource.dragSourceDomDataKey===this.gos.getDomDataKey()}makeRowsDrop(e,t,r,n){const{beans:i,gos:o}=this,s=this.newRowsDrop(t,n),a=i.rowModel;if(t.dropTarget=s,t.changed=!1,!s)return null;let{sameGrid:l,rootNode:u,source:c,target:f,rows:d}=s;f??(f=a.getRow(a.getRowCount()-1)??null);const h=!!this.beans.groupStage?.treeData&&l;let g=null;if(f?.footer){const v=vu(a,-1,f)??vu(a,1,f);g=f.sibling??u,f=v??null}f?.detail&&(f=f.parent),s.moved&&(s.moved=c!==f);let m=.5;if(f&&(l&&s.moved&&(g||!h)?m=c.rowIndex>f.rowIndex?-.5:.5:m=(s.y-f.rowTop-f.rowHeight/2)/f.rowHeight||0),!h&&l&&f&&s.moved&&er(o)){const v=zM(a,s);v&&(m=c.rowIndex>v.rowIndex?-.5:.5,f=v,s.moved&&(s.moved=c!==f))}const p=this.nudger;p?.updateGroup(f,r),h&&!g&&p&&(!f||m>=.5&&f.rowIndex===i.pageBounds.getLastRow()?g=u:s.moved&&this.targetShouldBeParent(f,m,d)&&(p.groupThrottled&&(g=f),!r&&(!g||f&&!f.expanded&&f.childrenAfterSort?.length)&&p.startGroup(f)),g??(g=f?.parent??u));let y=!1;if(g){if(g===f&&g!==u){const v=g.expanded?vu(a,1,f):null;v?.parent===g?(f=v,m=-.5):y=!0}if(f&&!y){let v=f;for(;v&&v!==u&&v!==g;)f=v,v=v.parent}}s.target=f,s.newParent=g,s.moved&&(s.moved=c!==f);const b=m<0?"above":"below";return s.position=s.moved?y?"inside":b:"none",this.validateRowsDrop(s,h,b,n),t.changed||(t.changed=GM(e?.dropTarget,s)),s}newRowsDrop(e,t){const{beans:r,gos:n}=this,i=r.rowModel.rootNode,o=er(n)?n.get("rowDragManaged"):!1,s=n.get("suppressMoveWhenRowDragging"),a=this.isFromThisGrid(e);let{rowNode:l,rowNodes:u}=e.dragItem;if(u||(u=l?[l]:[]),l||(l=u[0]),!l||!i)return null;const c=this.beans.dragAndDrop.isDropZoneWithinThisGrid(e);let f=!0;o&&(!u.length||this.shouldPreventRowMove()||(s||!a)&&!c)&&(f=!1);const d=Rm(r,e).y,h=this.getOverNode(d);return{api:r.gridApi,context:r.gridOptions.context,draggingEvent:e,rowDragManaged:o,suppressMoveWhenRowDragging:s,sameGrid:a,withinGrid:c,rootNode:i,moved:l!==h,y:d,overNode:h,overIndex:h?.rowIndex??-1,position:"none",source:l,target:h??null,newParent:null,rows:u,allowed:f,highlight:!t&&o&&s&&(c||!a)}}validateRowsDrop(e,t,r,n){const{rowDragManaged:i,suppressMoveWhenRowDragging:o}=e;t||(e.newParent=null),o&&!e.moved&&(e.allowed=!1);const s=(!i||e.allowed)&&this.gos.get("isRowValidDropPosition");if(s){t&&e.newParent&&Gm(e.rows,e.newParent)&&(e.newParent=null);const a=s(e);if(!a)e.allowed=!1;else if(typeof a=="object"){a.rows!==void 0&&(e.rows=a.rows??[]),t&&a.newParent!==void 0&&(e.newParent=a.newParent),a.target!==void 0&&(e.target=a.target),a.position&&(e.position=a.position),a.allowed!==void 0?e.allowed=a.allowed:i||(e.allowed=!0);const l=e.draggingEvent;a.changed&&l&&(l.changed=!0),!n&&a.highlight!==void 0&&(e.highlight=a.highlight)}}i&&(e.rows=this.filterRows(e)),t&&e.newParent&&Gm(e.rows,e.newParent)&&(e.newParent=null),o&&(!e.rows.length||e.position==="none")&&(e.allowed=!1),(!e.allowed||!e.newParent)&&e.position==="inside"&&(e.position=r)}targetShouldBeParent(e,t,r){const n=e.rowIndex,i=.25;if(t<-.5+i)return!1;if(t<.5-i)return!0;let o,s=n+1;const a=this.beans.rowModel;do o=a.getRow(s++);while(o?.footer);const l=e.childrenAfterGroup;if(o&&o.parent===e&&l?.length){const u=new Set(r);for(const c of l)if(c.rowIndex!==null&&!u.has(c))return!0}return!1}addRowDropZone(e){if(!e.getContainer()){Se(55);return}const t=this.beans.dragAndDrop;if(t.findExternalZone(e.getContainer())){Se(56);return}const r=e.fromGrid?e:{getContainer:e.getContainer,onDragEnter:e.onDragEnter&&(i=>e.onDragEnter(this.rowDragEvent("rowDragEnter",i))),onDragLeave:e.onDragLeave&&(i=>e.onDragLeave(this.rowDragEvent("rowDragLeave",i))),onDragging:e.onDragging&&(i=>e.onDragging(this.rowDragEvent("rowDragMove",i))),onDragStop:e.onDragStop&&(i=>e.onDragStop(this.rowDragEvent("rowDragEnd",i))),onDragCancel:e.onDragCancel&&(i=>e.onDragCancel(this.rowDragEvent("rowDragCancel",i)))},n={isInterestedIn:i=>i===2,getIconName:()=>"move",external:!0,...r};t.addDropTarget(n),this.addDestroyFunc(()=>t.removeDropTarget(n))}getRowDropZone(e){return{getContainer:this.getContainer.bind(this),onDragEnter:r=>{this.onDragEnter(r),e?.onDragEnter?.(this.rowDragEvent("rowDragEnter",r))},onDragLeave:r=>{this.onDragLeave(r),e?.onDragLeave?.(this.rowDragEvent("rowDragLeave",r))},onDragging:r=>{this.onDragging(r),e?.onDragging?.(this.rowDragEvent("rowDragMove",r))},onDragStop:r=>{this.onDragStop(r),e?.onDragStop?.(this.rowDragEvent("rowDragEnd",r))},onDragCancel:r=>{this.onDragCancel(r),e?.onDragCancel?.(this.rowDragEvent("rowDragCancel",r))},fromGrid:!0}}getOverNode(e){const{pageBounds:t,rowModel:r}=this.beans,i=e>t.getCurrentPagePixelRange().pageLastPixel?-1:r.getRowIndexAtPixel(e);return i>=0?r.getRow(i):void 0}rowDragEvent(e,t){const r=this.beans,{dragItem:n,dropTarget:i,event:o,vDirection:s}=t,a=i?.rootNode===r.rowModel.rootNode,l=a?i.y:Rm(r,t).y,u=a?i.overNode:this.getOverNode(l),c=a?i.overIndex:u?.rowIndex??-1;return{api:r.gridApi,context:r.gridOptions.context,type:e,event:o,node:n.rowNode,nodes:n.rowNodes,overIndex:c,overNode:u,y:l,vDirection:s,rowsDrop:i}}dispatchGridEvent(e,t){const r=this.rowDragEvent(e,t);this.eventSvc.dispatchEvent(r)}onDragLeave(e){this.dispatchGridEvent("rowDragLeave",e),this.stopDragging(e)}onDragStop(e){const t=this.makeRowsDrop(this.lastDraggingEvent,e,!1,!0);this.dispatchGridEvent("rowDragEnd",e),t?.allowed&&t.rowDragManaged&&(t.suppressMoveWhenRowDragging||!t.sameGrid||this.nudger?.autoScroll.scrolling)&&this.dropRows(t),this.stopDragging(e)}onDragCancel(e){this.dispatchGridEvent("rowDragCancel",e),this.stopDragging(e)}stopDragging(e){this.nudger?.clear(),this.beans.rowDropHighlightSvc?.fromDrag(null),zm(e.dragItem.rowNodes,!1)}dropRows(e){return e.sameGrid?this.csrmMoveRows(e):this.csrmAddRows(e)}csrmAddRows({position:e,target:t,rows:r}){const n=ys(this.gos),i=this.beans.rowModel,o=r.filter(({data:a,rowPinned:l})=>!i.getRowNode(n?.({data:a,level:0,rowPinned:l})??a.id)).map(({data:a})=>a);if(o.length===0)return!1;const s=t?jm(t)+(e==="above"?0:1):void 0;return i.updateRowData({add:o,addIndex:s}),!0}filterRows({newParent:e,rows:t}){let r;for(let n=0,i=t.length;n<i;++n){let o=!0;const s=t[n];(!s||s.footer||s.rowTop===null&&s!==this.beans.rowModel.getRowNode(s.id)||e&&s.parent!==e&&HM(s,e)||!Qh(s))&&(o=!1),o?r?.push(s):r??(r=t.slice(0,n))}return r??t}csrmMoveRows({position:e,target:t,rows:r,newParent:n,rootNode:i}){let o=!1;const s=new Set;for(const d of r){n&&d.parent!==n&&(d.treeParent=n,o=!0);const h=Qh(d);h&&s.add(h)}if(!o&&s.size===0)return!1;const a=this.beans.focusSvc,l=a.getFocusedCell(),u=l&&Jo(this.beans,l);if(s.size&&this.reorderLeafChildren(s,...this.getMoveRowsBounds(s,t,e==="above"))&&(o=!0),!o)return!1;const c=this.beans.rowModel,f=new yu;return f.reordered=!0,c.refreshModel({step:"group",keepRenderedRows:!0,animate:!this.gos.get("suppressAnimationFrame"),changedPath:new Fa(!1,i),changedRowNodes:f}),u?u.focusCell():a.clearFocusedCell(),!0}getMoveRowsBounds(e,t,r){const n=this.beans.rowModel.rootNode?._leafs?.length??0;let i=t?jm(t):-1;i<0||i>=n?i=n:r||++i;let o=i,s=Math.min(i,n-1);for(const a of e){const l=a.sourceRowIndex;l<o&&(o=l),l>s&&(s=l)}return[o,i,s]}reorderLeafChildren(e,t,r,n){let i=!1;const o=this.beans.rowModel.rootNode?._leafs;if(!e.size||!o)return!1;let s=t;for(let l=t;l<r;++l){const u=o[l];e.has(u)||(u.sourceRowIndex!==s&&(u.sourceRowIndex=s,o[s]=u,i=!0),++s)}let a=n;for(let l=n;l>=r;--l){const u=o[l];e.has(u)||(u.sourceRowIndex!==a&&(u.sourceRowIndex=a,o[a]=u,i=!0),--a)}for(const l of e)l.sourceRowIndex!==s&&(l.sourceRowIndex=s,o[s]=l,i=!0),++s;return i}},vu=(e,t,r)=>{if(r){const n=e.getRowCount();let i=r.rowIndex+t;for(;i>=0&&i<n;){const o=e.getRow(i);if(!o||!o.footer&&!o.detail)return o;i+=t}}},HM=(e,t)=>{let r=t;for(;r;){if(r===e)return!0;r=r.parent}return!1},Gm=(e,t)=>{for(let r=0,n=e.length;r<n;++r)if(e[r].parent!==t)return!1;return!0},jm=e=>{const t=Qh(e);return t!==void 0?t.sourceRowIndex:-1},Qh=e=>e.data?e:G1(e.childrenAfterGroup),GM=(e,t)=>e!==t&&(!e||e.sameGrid!==t.sameGrid||e.allowed!==t.allowed||e.position!==t.position||e.target!==t.target||e.source!==t.source||e.newParent!==t.newParent||!Ii(e.rows,t.rows)),jM=({rowIndex:e},{rowIndex:t})=>e!==null&&t!==null?e-t:0,zm=(e,t)=>{for(let r=0,n=e?.length||0;r<n;++r){const i=e[r];i.dragging!==t&&(i.dragging=t,i.dispatchRowEvent("draggingChanged"))}},zM=(e,t)=>{let r=null,n=t.target;if(n&&t.rows.indexOf(n)<0)return null;const i=t.source;if(!n||!i)return null;let o=n.rowIndex-i.rowIndex;const s=o<0?-1:1;o=t.suppressMoveWhenRowDragging?Math.abs(o):1;const a=new Set(t.rows);do{const l=vu(e,s,n);if(!l)break;a.has(l)||(r=l,--o),n=l}while(o>0);return r},VM=class extends ve{constructor(){super(...arguments),this.beanName="rowDragSvc"}setupRowDrag(e,t){const r=t.createManagedBean(new OM(e)),n=this.beans.dragAndDrop;n.addDropTarget(r),t.addDestroyFunc(()=>n.removeDropTarget(r)),this.rowDragFeature=r}createRowDragComp(e,t,r,n,i,o){return new AM(e,t,r,n,i,o)}createRowDragCompForRow(e,t){if(_i(this.gos))return;const r=this.getLocaleTextFunc();return this.createRowDragComp(()=>`1 ${r("rowDragRow","row")}`,e,void 0,t,void 0,!0)}createRowDragCompForCell(e,t,r,n,i,o){const s=this.gos;return s.get("rowDragManaged")&&(!er(s)||s.get("pagination"))?void 0:this.createRowDragComp(r,e,t,n,i,o)}},WM=class extends ve{constructor(){super(...arguments),this.beanName="rowDropHighlightSvc",this.uiLevel=0,this.dragging=!1,this.row=null,this.position="none"}postConstruct(){this.addManagedEventListeners({modelUpdated:this.onModelUpdated.bind(this)})}onModelUpdated(){const e=this.row,t=this.dragging;!e||e?.rowIndex===null||this.position==="none"?this.clear():this.set(e,this.position),this.dragging=t}destroy(){this.clear(),super.destroy()}clear(){const e=this.row;this.dragging=!1,e&&(this.uiLevel=0,this.position="none",this.row=null,e.dispatchRowEvent("rowHighlightChanged"))}set(e,t){const r=e!==this.row,n=e.uiLevel,i=t!==this.position,o=n!==this.uiLevel;this.dragging=!1,(r||i||o)&&(r&&this.clear(),this.uiLevel=n,this.position=t,this.row=e,e.dispatchRowEvent("rowHighlightChanged"))}fromDrag(e){const t=e?.dropTarget;if(t){const{highlight:r,target:n,position:i}=t;if(r&&n&&i!=="none"){this.set(n,i),this.dragging=!0;return}}this.dragging&&this.clear()}},pC={moduleName:"Drag",version:Me,beans:[EM]},$M={moduleName:"DragAndDrop",version:Me,dynamicBeans:{dndSourceComp:wM},icons:{rowDrag:"grip"}},gC={moduleName:"SharedDragAndDrop",version:Me,beans:[dD],dependsOn:[pC],userComponents:{agDragAndDropImage:N6},icons:{columnMovePin:"pin",columnMoveHide:"eye-slash",columnMoveMove:"arrows",columnMoveLeft:"left",columnMoveRight:"right",columnMoveGroup:"group",columnMoveValue:"aggregation",columnMovePivot:"pivot",dropNotAllowed:"not-allowed",rowDrag:"grip"}},mC={moduleName:"RowDrag",version:Me,beans:[WM,VM],apiFunctions:{addRowDropZone:CM,removeRowDropZone:FM,getRowDropZoneParams:SM,getRowDropPositionIndicator:xM,setRowDropPositionIndicator:kM},dependsOn:[gC]},UM={moduleName:"HorizontalResize",version:Me,beans:[RM],dependsOn:[pC]},KM=":where(.ag-ltr) :where(.ag-column-moving){.ag-cell,.ag-header-cell,.ag-spanned-cell-wrapper{transition:left .2s}.ag-header-group-cell{transition:left .2s,width .2s}}:where(.ag-rtl) :where(.ag-column-moving){.ag-cell,.ag-header-cell,.ag-spanned-cell-wrapper{transition:right .2s}.ag-header-group-cell{transition:right .2s,width .2s}}",qM=class extends ve{constructor(){super(...arguments),this.beanName="colAnimation",this.executeNextFuncs=[],this.executeLaterFuncs=[],this.active=!1,this.activeNext=!1,this.suppressAnimation=!1,this.animationThreadCount=0}postConstruct(){this.beans.ctrlsSvc.whenReady(this,e=>this.gridBodyCtrl=e.gridBodyCtrl)}isActive(){return this.active&&!this.suppressAnimation}setSuppressAnimation(e){this.suppressAnimation=e}start(){if(this.active)return;const{gos:e}=this;e.get("suppressColumnMoveAnimation")||e.get("enableRtl")||(this.ensureAnimationCssClassPresent(),this.active=!0,this.activeNext=!0)}finish(){this.active&&this.flush(()=>this.activeNext=!1,()=>this.active=!1)}executeNextVMTurn(e){this.activeNext?this.executeNextFuncs.push(e):e()}executeLaterVMTurn(e){this.active?this.executeLaterFuncs.push(e):e()}ensureAnimationCssClassPresent(){this.animationThreadCount++;const e=this.animationThreadCount,{gridBodyCtrl:t}=this;t.setColumnMovingCss(!0),this.executeLaterFuncs.push(()=>{this.animationThreadCount===e&&t.setColumnMovingCss(!1)})}flush(e,t){const{executeNextFuncs:r,executeLaterFuncs:n}=this;if(r.length===0&&n.length===0){e(),t();return}const i=o=>{for(;o.length;){const s=o.pop();s&&s()}};this.beans.frameworkOverrides.wrapIncoming(()=>{window.setTimeout(()=>{e(),i(r)},0),window.setTimeout(()=>{t(),i(n)},200)})}};function JM(e,t,r){e.colMoves?.moveColumnByIndex(t,r,"api")}function YM(e,t,r){e.colMoves?.moveColumns(t,r,"api")}var ZM=class extends ve{constructor(e){super(),this.pinned=e,this.columnsToAggregate=[],this.columnsToGroup=[],this.columnsToPivot=[]}onDragEnter(e){if(this.clearColumnsList(),this.gos.get("functionsReadOnly"))return;const t=e.dragItem.columns;if(t)for(const r of t)r.isPrimary()&&(r.isAnyFunctionActive()||(r.isAllowValue()?this.columnsToAggregate.push(r):r.isAllowRowGroup()?this.columnsToGroup.push(r):r.isAllowPivot()&&this.columnsToPivot.push(r)))}getIconName(){return this.columnsToAggregate.length+this.columnsToGroup.length+this.columnsToPivot.length>0?this.pinned?"pinned":"move":null}onDragLeave(e){this.clearColumnsList()}clearColumnsList(){this.columnsToAggregate.length=0,this.columnsToGroup.length=0,this.columnsToPivot.length=0}onDragging(e){}onDragStop(e){const{valueColsSvc:t,rowGroupColsSvc:r,pivotColsSvc:n}=this.beans;this.columnsToAggregate.length>0&&t?.addColumns(this.columnsToAggregate,"toolPanelDragAndDrop"),this.columnsToGroup.length>0&&r?.addColumns(this.columnsToGroup,"toolPanelDragAndDrop"),this.columnsToPivot.length>0&&n?.addColumns(this.columnsToPivot,"toolPanelDragAndDrop")}onDragCancel(){this.clearColumnsList()}};function XM(e,t){!t||t.length<=1||t.filter(n=>e.indexOf(n)<0).length>0||t.sort((n,i)=>{const o=e.indexOf(n),s=e.indexOf(i);return o-s})}function QM(e){const t=[...e];for(const r of e){let n=null,i=r.getParent();for(;i!=null&&i.getDisplayedLeafColumns().length===1;)n=i,i=i.getParent();if(n!=null){const s=!!n.getColGroupDef()?.marryChildren?n.getProvidedColumnGroup().getLeafColumns():n.getLeafColumns();for(const a of s)t.includes(a)||t.push(a)}}return t}function e5(e,t,r,n){const i=n.allCols;let o=null,s=null;for(let a=0;a<e.length;a++){const l=e[a],u=r.getProposedColumnOrder(t,l);if(!r.doesOrderPassRules(u))continue;const c=u.filter(d=>i.includes(d));if(s===null)s=c;else if(!Ii(c,s))break;const f=r5(u);(o===null||f<o.fragCount)&&(o={move:l,fragCount:f})}return o}function bC(e){const{isFromHeader:t,fromLeft:r,xPosition:n,fromEnter:i,fakeEvent:o,pinned:s,gos:a,colModel:l,colMoves:u,visibleCols:c}=e;let{allMovingColumns:f}=e;t&&(f=QM(f));const d=f.slice();XM(l.getCols(),d);const h=i5({movingCols:d,draggingRight:r,xPosition:n,pinned:s,gos:a,colModel:l,visibleCols:c}),g=t5(d,l);if(h.length===0)return;const m=h[0];if(g!==null&&(t||!i)&&!o&&(!r&&m>=g||r&&m<=g))return;const y=e5(h,d,u,c);if(!y)return;const b=y.move;if(!(b>l.getCols().length-d.length))return{columns:d,toIndex:b}}function yC(e){const{columns:t,toIndex:r}=bC(e)||{},{finished:n,colMoves:i}=e;return!t||r==null?null:(i.moveColumns(t,r,"uiColumnMoved",n),n?null:{columns:t,toIndex:r})}function t5(e,t){const r=t.getCols(),n=e.map(l=>r.indexOf(l)).sort((l,u)=>l-u),i=n[0];return Gt(n)-i!==n.length-1?null:i}function r5(e){function t(n){const i=[];let o=n.getOriginalParent();for(;o!=null;)i.push(o),o=o.getOriginalParent();return i}let r=0;for(let n=0;n<e.length-1;n++){let i=t(e[n]),o=t(e[n+1]);[i,o]=i.length>o.length?[i,o]:[o,i];for(const s of i)o.indexOf(s)===-1&&r++}return r}function n5(e,t){switch(t){case"left":return e.leftCols;case"right":return e.rightCols;default:return e.centerCols}}function i5(e){const{movingCols:t,draggingRight:r,xPosition:n,pinned:i,gos:o,colModel:s,visibleCols:a}=e;if(o.get("suppressMovableColumns")||t.some(v=>v.getColDef().suppressMovable))return[];const u=n5(a,i),c=s.getCols(),f=u.filter(v=>t.includes(v)),d=u.filter(v=>!t.includes(v)),h=c.filter(v=>!t.includes(v));let g=0,m=n;if(r){let v=0;for(const F of f)v+=F.getActualWidth();m-=v}if(m>0){for(let v=0;v<d.length;v++){const F=d[v];if(m-=F.getActualWidth(),m<0)break;g++}r&&g++}let p;if(g>0){const v=d[g-1];p=h.indexOf(v)+1}else p=h.indexOf(d[0]),p===-1&&(p=0);const y=[p],b=(v,F)=>v-F;if(r){let v=p+1;const F=c.length-1;for(;v<=F;)y.push(v),v++;y.sort(b)}else{let v=p;const F=c.length-1;let E=c[v];for(;v<=F&&u.indexOf(E)<0;)v++,y.push(v),E=c[v];v=p-1;const T=0;for(;v>=T;)y.push(v),v--;y.sort(b).reverse()}return y}function ef(e){const{pinned:t,fromKeyboard:r,gos:n,ctrlsSvc:i,useHeaderRow:o,skipScrollPadding:s}=e;let a=i.getHeaderRowContainerCtrl(t)?.eViewport,{x:l}=e;return a?(r&&(l-=a.getBoundingClientRect().left),n.get("enableRtl")&&(o&&(a=a.querySelector(".ag-header-row")),l=a.clientWidth-l),t==null&&!s&&(l+=i.get("center").getCenterViewportScrollLeft()),l):0}function Nd(e,t){for(const r of e)r.moving=t,r.dispatchColEvent("movingChanged","uiColumnMoved")}var Vm=7,tf=100,ml=tf/2,o5=5,s5=100,a5=class extends ve{constructor(e){super(),this.pinned=e,this.needToMoveLeft=!1,this.needToMoveRight=!1,this.lastMovedInfo=null,this.isCenterContainer=!Le(e)}postConstruct(){this.beans.ctrlsSvc.whenReady(this,e=>{this.gridBodyCon=e.gridBodyCtrl})}getIconName(){const{pinned:e,lastDraggingEvent:t}=this,{dragItem:r}=t||{},n=r?.columns??[];for(const i of n){const o=i.getPinned();if(i.getColDef().lockPinned){if(o==e)return"move";continue}const s=r?.containerType;if(s===e||!e)return"move";if(e&&(!o||s!==e))return"pinned"}return"notAllowed"}onDragEnter(e){const t=e.dragItem,r=t.columns;if(e.dragSource.type===0)this.setColumnsVisible(r,!0,"uiColumnDragged");else{const i=t.visibleState,o=(r||[]).filter(s=>i[s.getId()]&&!s.isVisible());this.setColumnsVisible(o,!0,"uiColumnDragged")}this.gos.get("suppressMoveWhenColumnDragging")||this.attemptToPinColumns(r,this.pinned),this.onDragging(e,!0,!0)}onDragging(e=this.lastDraggingEvent,t=!1,r=!1,n=!1){const{gos:i,ctrlsSvc:o}=this.beans,s=i.get("suppressMoveWhenColumnDragging");if(n&&!s){this.finishColumnMoving();return}if(this.lastDraggingEvent=e,!e||!n&&$t(e.hDirection))return;const a=ef({x:e.x,pinned:this.pinned,gos:i,ctrlsSvc:o});t||this.checkCenterForScrolling(a),s?this.handleColumnDragWhileSuppressingMovement(e,t,r,a,n):this.handleColumnDragWhileAllowingMovement(e,t,r,a,n)}onDragLeave(){this.ensureIntervalCleared(),this.clearHighlighted(),this.updateDragItemContainerType(),this.lastMovedInfo=null}onDragStop(){this.onDragging(this.lastDraggingEvent,!1,!0,!0),this.ensureIntervalCleared(),this.lastMovedInfo=null}onDragCancel(){this.clearHighlighted(),this.ensureIntervalCleared(),this.lastMovedInfo=null}setColumnsVisible(e,t,r){if(!e?.length)return;const n=e.filter(i=>!i.getColDef().lockVisible);n.length&&this.beans.colModel.setColsVisible(n,t,r)}finishColumnMoving(){this.clearHighlighted();const e=this.lastMovedInfo;if(!e)return;const{columns:t,toIndex:r}=e;this.beans.colMoves.moveColumns(t,r,"uiColumnMoved",!0)}updateDragItemContainerType(){const{lastDraggingEvent:e}=this;if(this.gos.get("suppressMoveWhenColumnDragging")||!e)return;const t=e.dragItem;t&&(t.containerType=this.pinned)}handleColumnDragWhileSuppressingMovement(e,t,r,n,i){const o=this.getAllMovingColumns(e,!0);if(i){const s=this.isAttemptingToPin(o);s&&this.attemptToPinColumns(o,void 0,!0);const{fromLeft:a,xPosition:l}=this.getNormalisedXPositionInfo(o,s)||{};if(a==null||l==null){this.finishColumnMoving();return}this.moveColumnsAfterHighlight({allMovingColumns:o,xPosition:l,fromEnter:t,fakeEvent:r,fromLeft:a})}else{if(!this.beans.dragAndDrop.isDropZoneWithinThisGrid(e))return;this.highlightHoveredColumn(o,n)}}handleColumnDragWhileAllowingMovement(e,t,r,n,i){const o=this.getAllMovingColumns(e),s=this.normaliseDirection(e.hDirection)==="right",a=e.dragSource.type===1,l=this.getMoveColumnParams({allMovingColumns:o,isFromHeader:a,xPosition:n,fromLeft:s,fromEnter:t,fakeEvent:r}),u=yC({...l,finished:i});u&&(this.lastMovedInfo=u)}getAllMovingColumns(e,t=!1){const r=e.dragSource.getDragItem();let n=null;t?(n=r.columnsInSplit,n||(n=r.columns)):n=r.columns;const i=o=>o.getColDef().lockPinned?o.getPinned()==this.pinned:!0;return n?n.filter(i):[]}getMoveColumnParams(e){const{allMovingColumns:t,isFromHeader:r,xPosition:n,fromLeft:i,fromEnter:o,fakeEvent:s}=e,{gos:a,colModel:l,colMoves:u,visibleCols:c}=this.beans;return{allMovingColumns:t,isFromHeader:r,fromLeft:i,xPosition:n,pinned:this.pinned,fromEnter:o,fakeEvent:s,gos:a,colModel:l,colMoves:u,visibleCols:c}}highlightHoveredColumn(e,t){const{gos:r,colModel:n}=this.beans,i=r.get("enableRtl"),o=n.getCols().filter(c=>c.isVisible()&&c.getPinned()===this.pinned);let s=null,a=null,l=null;for(const c of o){if(a=c.getActualWidth(),s=this.getNormalisedColumnLeft(c,0,i),s!=null){const f=s+a;if(s<=t&&f>=t){l=c;break}}s=null,a=null}if(l)e.indexOf(l)!==-1&&(l=null);else{for(let c=o.length-1;c>=0;c--){const f=o[c],d=o[c].getParent();if(!d){l=f;break}const h=d?.getDisplayedLeafColumns();if(h.length){l=Gt(h);break}}if(!l)return;s=this.getNormalisedColumnLeft(l,0,i),a=l.getActualWidth()}if(this.lastHighlightedColumn?.column!==l&&this.clearHighlighted(),l==null||s==null||a==null)return;let u;t-s<a/2!==i?u=0:u=1,Wm(l,u),this.lastHighlightedColumn={column:l,position:u}}getNormalisedXPositionInfo(e,t){const{gos:r,visibleCols:n}=this.beans,i=r.get("enableRtl"),{firstMovingCol:o,column:s,position:a}=this.getColumnMoveAndTargetInfo(e,t,i);if(!o||!s||a==null)return;const l=n.allCols,u=l.indexOf(o),c=l.indexOf(s),f=a===0!==i,d=u<c||u===c&&!f;let h=0;if(f?d&&(h-=1):d||(h+=1),c+h===u)return;const g=l[c+h];if(!g)return;const m=this.getNormalisedColumnLeft(g,20,i);return{fromLeft:d,xPosition:m}}getColumnMoveAndTargetInfo(e,t,r){const n=this.lastHighlightedColumn||{},{firstMovingCol:i,lastMovingCol:o}=l5(e);if(!i||!o||n.column||!t)return{firstMovingCol:i,...n};const a=this.getPinDirection()==="left";return{firstMovingCol:i,position:a?1:0,column:a!==r?i:o}}normaliseDirection(e){if(this.gos.get("enableRtl"))switch(e){case"left":return"right";case"right":return"left"}return e}getNormalisedColumnLeft(e,t,r){const{gos:n,ctrlsSvc:i}=this.beans,o=e.getLeft();if(o==null)return null;const s=e.getActualWidth();return ef({x:r?o+s-t:o+t,pinned:e.getPinned(),useHeaderRow:r,skipScrollPadding:!0,gos:n,ctrlsSvc:i})}isAttemptingToPin(e){const t=this.needToMoveLeft||this.needToMoveRight,r=this.failedMoveAttempts>Vm;return t&&r||e.some(n=>n.getPinned()!==this.pinned)}moveColumnsAfterHighlight(e){const{allMovingColumns:t,xPosition:r,fromEnter:n,fakeEvent:i,fromLeft:o}=e,s=this.getMoveColumnParams({allMovingColumns:t,isFromHeader:!0,xPosition:r,fromLeft:o,fromEnter:n,fakeEvent:i}),{columns:a,toIndex:l}=bC(s)||{};a&&l!=null&&(this.lastMovedInfo={columns:a,toIndex:l}),this.finishColumnMoving()}clearHighlighted(){const{lastHighlightedColumn:e}=this;e&&(Wm(e.column,null),this.lastHighlightedColumn=null)}checkCenterForScrolling(e){if(!this.isCenterContainer)return;const t=this.beans.ctrlsSvc.get("center"),r=t.getCenterViewportScrollLeft(),n=r+t.getCenterWidth();let i,o;this.gos.get("enableRtl")?(i=e<r+ml,o=e>n-ml):(o=e<r+ml,i=e>n-ml),this.needToMoveRight=i,this.needToMoveLeft=o,o||i?this.ensureIntervalStarted():this.ensureIntervalCleared()}ensureIntervalStarted(){this.movingIntervalId||(this.intervalCount=0,this.failedMoveAttempts=0,this.movingIntervalId=window.setInterval(this.moveInterval.bind(this),s5),this.beans.dragAndDrop.setDragImageCompIcon(this.needToMoveLeft?"left":"right",!0))}ensureIntervalCleared(){this.movingIntervalId&&(window.clearInterval(this.movingIntervalId),this.movingIntervalId=null,this.failedMoveAttempts=0,this.beans.dragAndDrop.setDragImageCompIcon(this.getIconName()))}moveInterval(){let e;this.intervalCount++,e=10+this.intervalCount*o5,e>tf&&(e=tf);let t=null;const r=this.gridBodyCon.scrollFeature;if(this.needToMoveLeft?t=r.scrollHorizontally(-e):this.needToMoveRight&&(t=r.scrollHorizontally(e)),t!==0)this.onDragging(this.lastDraggingEvent),this.failedMoveAttempts=0;else{this.failedMoveAttempts++;const{pinnedCols:n,dragAndDrop:i,gos:o}=this.beans;if(this.failedMoveAttempts<=Vm+1||!n)return;if(i.setDragImageCompIcon("pinned"),!o.get("suppressMoveWhenColumnDragging")){const s=this.lastDraggingEvent?.dragItem.columns;this.attemptToPinColumns(s,void 0,!0)}}}getPinDirection(){if(this.needToMoveLeft||this.pinned==="left")return"left";if(this.needToMoveRight||this.pinned==="right")return"right"}attemptToPinColumns(e,t,r=!1){const n=(e||[]).filter(s=>!s.getColDef().lockPinned);if(!n.length)return 0;r&&(t=this.getPinDirection());const{pinnedCols:i,dragAndDrop:o}=this.beans;return i?.setColsPinned(n,t,"uiColumnDragged"),r&&o.nudge(),n.length}destroy(){super.destroy(),this.lastDraggingEvent=null,this.clearHighlighted(),this.lastMovedInfo=null}};function Wm(e,t){e.highlighted!==t&&(e.highlighted=t,e.dispatchColEvent("headerHighlightChanged","uiColumnMoved"))}function l5(e){const t=e.length;let r,n;for(let i=0;i<t;i++){if(!r){const o=e[i];o.getLeft()!=null&&(r=o)}if(!n){const o=e[t-1-i];o.getLeft()!=null&&(n=o)}if(r&&n)break}return{firstMovingCol:r,lastMovingCol:n}}var u5=class extends ve{constructor(e,t){super(),this.pinned=e,this.eContainer=t}postConstruct(){const{ctrlsSvc:e,dragAndDrop:t}=this.beans,r=this.pinned;e.whenReady(this,n=>{let i;const o=n.gridBodyCtrl.eBodyViewport;switch(r){case"left":i=[[o,n.left.eContainer],[n.bottomLeft.eContainer],[n.topLeft.eContainer]];break;case"right":i=[[o,n.right.eContainer],[n.bottomRight.eContainer],[n.topRight.eContainer]];break;default:i=[[o,n.center.eViewport],[n.bottomCenter.eViewport],[n.topCenter.eViewport]];break}this.eSecondaryContainers=i}),this.moveColumnFeature=this.createManagedBean(new a5(r)),this.bodyDropPivotTarget=this.createManagedBean(new ZM(r)),t.addDropTarget(this),this.addDestroyFunc(()=>t.removeDropTarget(this))}isInterestedIn(e){return e===1||e===0&&this.gos.get("allowDragFromColumnsToolPanel")}getSecondaryContainers(){return this.eSecondaryContainers}getContainer(){return this.eContainer}getIconName(){return this.currentDropListener.getIconName()}isDropColumnInPivotMode(e){return this.beans.colModel.isPivotMode()&&e.dragSource.type===0}onDragEnter(e){this.currentDropListener=this.isDropColumnInPivotMode(e)?this.bodyDropPivotTarget:this.moveColumnFeature,this.currentDropListener.onDragEnter(e)}onDragLeave(e){this.currentDropListener.onDragLeave(e)}onDragging(e){this.currentDropListener.onDragging(e)}onDragStop(e){this.currentDropListener.onDragStop(e)}onDragCancel(){this.currentDropListener.onDragCancel()}},c5=class extends ve{constructor(){super(...arguments),this.beanName="colMoves"}moveColumnByIndex(e,t,r){const n=this.beans.colModel.getCols();if(!n)return;const i=n[e];this.moveColumns([i],t,r)}moveColumns(e,t,r,n=!0){const{colModel:i,colAnimation:o,visibleCols:s,eventSvc:a}=this.beans,l=i.getCols();if(!l)return;if(t>l.length-e.length){Se(30,{toIndex:t});return}o?.start();const u=i.getColsForKeys(e);this.doesMovePassRules(u,t)&&(lm(i.getCols(),u,t),s.refresh(r),a.dispatchEvent({type:"columnMoved",columns:u,column:u.length===1?u[0]:null,toIndex:t,finished:n,source:r})),o?.finish()}doesMovePassRules(e,t){const r=this.getProposedColumnOrder(e,t);return this.doesOrderPassRules(r)}doesOrderPassRules(e){const{colModel:t,gos:r}=this.beans;return!(!c1(e,t.getColTree())||!(i=>{const o=u=>u?u==="left"||u===!0?-1:1:0,s=r.get("enableRtl");let a=s?1:-1,l=!0;for(const u of i){const c=o(u.getColDef().lockPosition);s?c>a&&(l=!1):c<a&&(l=!1),a=c}return l})(e))}getProposedColumnOrder(e,t){const n=this.beans.colModel.getCols().slice();return lm(n,e,t),n}createBodyDropTarget(e,t){return new u5(e,t)}moveHeader(e,t,r,n,i){const{ctrlsSvc:o,gos:s,colModel:a,visibleCols:l,focusSvc:u}=this.beans,c=t.getBoundingClientRect(),f=c.left,d=rr(r),h=d?c.width:r.getActualWidth(),g=e==="left"!==s.get("enableRtl"),m=ef({x:g?f-20:f+h+20,pinned:n,fromKeyboard:!0,gos:s,ctrlsSvc:o}),p=u.focusedHeader;yC({allMovingColumns:d?r.getLeafColumns():[r],isFromHeader:!0,fromLeft:e==="right",xPosition:m,pinned:n,fromEnter:!1,fakeEvent:!1,gos:s,colModel:a,colMoves:this,visibleCols:l,finished:!0});let y;if(d){const b=r.getDisplayedLeafColumns();y=g?b[0]:Gt(b)}else y=r;if(o.getScrollFeature().ensureColumnVisible(y,"auto"),(!i.isAlive()||s.get("ensureDomOrder"))&&p){let b;if(d){const v=r.getGroupId(),F=r.getLeafColumns();if(!F.length)return;const E=F[0].getParent();if(!E)return;b=d5(E,v)}else b=r;b&&u.focusHeaderPosition({headerPosition:{...p,column:b}})}}setDragSourceForHeader(e,t,r){const{gos:n,colModel:i,dragAndDrop:o,visibleCols:s}=this.beans;let a=!n.get("suppressDragLeaveHidesColumns");const l=rr(t),u=l?t.getProvidedColumnGroup().getLeafColumns():[t],f={type:1,eElement:e,getDefaultIconName:()=>a?"hide":"notAllowed",getDragItem:l?()=>f5(t,s.allCols):()=>h5(t),dragItemName:r,onDragStarted:()=>{a=!n.get("suppressDragLeaveHidesColumns"),Nd(u,!0)},onDragStopped:()=>Nd(u,!1),onDragCancelled:()=>Nd(u,!1),onGridEnter:d=>{if(a){const{columns:h=[],visibleState:g}=d??{},m=l?y=>!g||g[y.getColId()]:()=>!0,p=h.filter(y=>!y.getColDef().lockVisible&&m(y));i.setColsVisible(p,!0,"uiColumnMoved")}},onGridExit:d=>{if(a){const h=d?.columns?.filter(g=>!g.getColDef().lockVisible)||[];i.setColsVisible(h,!1,"uiColumnMoved")}}};return o.addDragSource(f,!0),f}};function d5(e,t){for(;e;){if(e.getGroupId()===t)return e;e=e.getParent()}}function h5(e){const t={};return t[e.getId()]=e.isVisible(),{columns:[e],visibleState:t,containerType:e.pinned}}function f5(e,t){const r=e.getProvidedColumnGroup().getLeafColumns(),n={};for(const a of r)n[a.getId()]=a.isVisible();const i=[];for(const a of t)r.indexOf(a)>=0&&(i.push(a),pn(r,a));for(const a of r)i.push(a);const o=[],s=e.getLeafColumns();for(const a of i)s.indexOf(a)!==-1&&o.push(a);return{columns:i,columnsInSplit:o,visibleState:n,containerType:o[0]?.pinned}}var p5={moduleName:"ColumnMove",version:Me,beans:[c5,qM],apiFunctions:{moveColumnByIndex:JM,moveColumns:YM},dependsOn:[gC],css:[KM]},g5=class extends ve{constructor(){super(...arguments),this.beanName="autoWidthCalc"}postConstruct(){this.beans.ctrlsSvc.whenReady(this,e=>{this.centerRowContainerCtrl=e.center})}getPreferredWidthForColumn(e,t){const r=this.getHeaderCellForColumn(e);if(!r)return-1;const n=this.beans.rowRenderer.getAllCellsNotSpanningForColumn(e);return t||n.push(r),this.getPreferredWidthForElements(n)}getPreferredWidthForColumnGroup(e){const t=this.getHeaderCellForColumn(e);return t?this.getPreferredWidthForElements([t]):-1}getPreferredWidthForElements(e,t){const r=document.createElement("form");r.style.position="fixed";const n=this.centerRowContainerCtrl.eContainer;for(const o of e)this.cloneItemIntoDummy(o,r);n.appendChild(r);const i=r.offsetWidth;return r.remove(),t=t??this.gos.get("autoSizePadding"),i+t}getHeaderCellForColumn(e){let t=null;for(const r of this.beans.ctrlsSvc.getHeaderRowContainerCtrls()){const n=r.getHtmlElementForColumnHeader(e);n!=null&&(t=n)}return t}cloneItemIntoDummy(e,t){const r=e.cloneNode(!0);r.style.width="",r.style.position="static",r.style.left="";const n=document.createElement("div"),i=n.classList;["ag-header-cell","ag-header-group-cell"].some(a=>r.classList.contains(a))?(i.add("ag-header","ag-header-row"),n.style.position="static"):i.add("ag-row");let s=e.parentElement;for(;s;){if(["ag-header-row","ag-row"].some(l=>s.classList.contains(l))){for(let l=0;l<s.classList.length;l++){const u=s.classList[l];u!="ag-row-position-absolute"&&i.add(u)}break}s=s.parentElement}n.appendChild(r),t.appendChild(n)}},vC={moduleName:"AutoWidth",version:Me,beans:[g5]};function m5(e,t,r=!0,n="api"){e.colResize?.setColumnWidths(t,!1,r,n)}var b5=class extends ve{constructor(e,t,r,n){super(),this.comp=e,this.eResize=t,this.pinned=r,this.columnGroup=n}postConstruct(){if(!this.columnGroup.isResizable()){this.comp.setResizableDisplayed(!1);return}const{horizontalResizeSvc:e,gos:t,colAutosize:r}=this.beans,n=e.addResizeBar({eResizeBar:this.eResize,onResizeStart:this.onResizeStart.bind(this),onResizing:this.onResizing.bind(this,!1),onResizeEnd:this.onResizing.bind(this,!0)});this.addDestroyFunc(n),!t.get("suppressAutoSize")&&r&&this.addDestroyFunc(r.addColumnGroupResize(this.eResize,this.columnGroup,()=>this.resizeLeafColumnsToFit("uiColumnResized")))}onResizeStart(e){const{columnsToResize:t,resizeStartWidth:r,resizeRatios:n,groupAfterColumns:i,groupAfterStartWidth:o,groupAfterRatios:s}=this.getInitialValues(e);this.resizeCols=t,this.resizeStartWidth=r,this.resizeRatios=n,this.resizeTakeFromCols=i,this.resizeTakeFromStartWidth=o,this.resizeTakeFromRatios=s,this.toggleColumnResizing(!0)}onResizing(e,t,r="uiColumnResized"){const n=this.normaliseDragChange(t),i=this.resizeStartWidth+n;this.resizeColumnsFromLocalValues(i,r,e)}getInitialValues(e){const t=l=>l.reduce((u,c)=>u+c.getActualWidth(),0),r=(l,u)=>l.map(c=>c.getActualWidth()/u),n=this.getColumnsToResize(),i=t(n),o=r(n,i),s={columnsToResize:n,resizeStartWidth:i,resizeRatios:o};let a=null;if(e&&(a=this.beans.colGroupSvc?.getGroupAtDirection(this.columnGroup,"After")??null),a){const l=a.getDisplayedLeafColumns(),u=s.groupAfterColumns=l.filter(f=>f.isResizable()),c=s.groupAfterStartWidth=t(u);s.groupAfterRatios=r(u,c)}else s.groupAfterColumns=void 0,s.groupAfterStartWidth=void 0,s.groupAfterRatios=void 0;return s}resizeLeafColumnsToFit(e){const t=this.beans.autoWidthCalc.getPreferredWidthForColumnGroup(this.columnGroup),r=this.getInitialValues();t>r.resizeStartWidth&&this.resizeColumns(r,t,e,!0)}resizeColumnsFromLocalValues(e,t,r=!0){if(!this.resizeCols||!this.resizeRatios)return;const n={columnsToResize:this.resizeCols,resizeStartWidth:this.resizeStartWidth,resizeRatios:this.resizeRatios,groupAfterColumns:this.resizeTakeFromCols,groupAfterStartWidth:this.resizeTakeFromStartWidth,groupAfterRatios:this.resizeTakeFromRatios};this.resizeColumns(n,e,t,r)}resizeColumns(e,t,r,n=!0){const{columnsToResize:i,resizeStartWidth:o,resizeRatios:s,groupAfterColumns:a,groupAfterStartWidth:l,groupAfterRatios:u}=e,c=[];if(c.push({columns:i,ratios:s,width:t}),a){const f=t-o;c.push({columns:a,ratios:u,width:l-f})}this.beans.colResize?.resizeColumnSets({resizeSets:c,finished:n,source:r}),n&&this.toggleColumnResizing(!1)}toggleColumnResizing(e){this.comp.toggleCss("ag-column-resizing",e)}getColumnsToResize(){return this.columnGroup.getDisplayedLeafColumns().filter(t=>t.isResizable())}normaliseDragChange(e){let t=e;return this.gos.get("enableRtl")?this.pinned!=="left"&&(t*=-1):this.pinned==="right"&&(t*=-1),t}destroy(){super.destroy(),this.resizeCols=void 0,this.resizeRatios=void 0,this.resizeTakeFromCols=void 0,this.resizeTakeFromRatios=void 0}},y5=class extends ve{constructor(e,t,r,n,i){super(),this.pinned=e,this.column=t,this.eResize=r,this.comp=n,this.ctrl=i}postConstruct(){const e=[];let t,r;const n=()=>{if(Kt(this.eResize,t),!t)return;const{horizontalResizeSvc:s,colAutosize:a}=this.beans,l=s.addResizeBar({eResizeBar:this.eResize,onResizeStart:this.onResizeStart.bind(this),onResizing:this.onResizing.bind(this,!1),onResizeEnd:this.onResizing.bind(this,!0)});e.push(l),r&&a&&e.push(a.addColumnAutosizeListeners(this.eResize,this.column))},i=()=>{for(const s of e)s();e.length=0},o=()=>{const s=this.column.isResizable(),a=!this.gos.get("suppressAutoSize")&&!this.column.getColDef().suppressAutoSize;(s!==t||a!==r)&&(t=s,r=a,i(),n())};o(),this.addDestroyFunc(i),this.ctrl.setRefreshFunction("resize",o)}onResizing(e,t){const{column:r,lastResizeAmount:n,resizeStartWidth:i,beans:o}=this,s=this.normaliseResizeAmount(t),a=i+s,l=[{key:r,newWidth:a}],{pinnedCols:u,ctrlsSvc:c,colResize:f}=o;if(this.column.getPinned()){const d=u?.leftWidth??0,h=u?.rightWidth??0,g=ma(c.getGridBodyCtrl().eBodyViewport)-50;if(d+h+(s-n)>g)return}this.lastResizeAmount=s,f?.setColumnWidths(l,this.resizeWithShiftKey,e,"uiColumnResized"),e&&this.toggleColumnResizing(!1)}onResizeStart(e){this.resizeStartWidth=this.column.getActualWidth(),this.lastResizeAmount=0,this.resizeWithShiftKey=e,this.toggleColumnResizing(!0)}toggleColumnResizing(e){this.column.resizing=e,this.comp.toggleCss("ag-column-resizing",e)}normaliseResizeAmount(e){let t=e;const r=this.pinned!=="left",n=this.pinned==="right";return this.gos.get("enableRtl")?r&&(t*=-1):n&&(t*=-1),t}},v5=class extends ve{constructor(){super(...arguments),this.beanName="colResize"}setColumnWidths(e,t,r,n){const i=[],{colModel:o,gos:s,visibleCols:a}=this.beans;for(const l of e){const u=o.getColDefCol(l.key)||o.getCol(l.key);if(!u)continue;if(i.push({width:l.newWidth,ratios:[1],columns:[u]}),s.get("colResizeDefault")==="shift"&&(t=!t),t){const f=a.getColAfter(u);if(!f)continue;const d=u.getActualWidth()-l.newWidth,h=f.getActualWidth()+d;i.push({width:h,ratios:[1],columns:[f]})}}i.length!==0&&this.resizeColumnSets({resizeSets:i,finished:r,source:n})}resizeColumnSets(e){const{resizeSets:t,finished:r,source:n}=e;if(!(!t||t.every(c=>w5(c)))){if(r){const c=t&&t.length>0?t[0].columns:null;vs(this.eventSvc,c,r,n)}return}const o=[],s=[];for(const c of t){const{width:f,columns:d,ratios:h}=c,g={},m={};for(const b of d)s.push(b);let p=!0,y=0;for(;p;){if(y++,y>1e3){Ot(31);break}p=!1;const b=[];let v=0,F=f;d.forEach((T,I)=>{if(m[T.getId()])F-=g[T.getId()];else{b.push(T);const P=h[I];v+=P}});const E=1/v;b.forEach((T,I)=>{const M=I===b.length-1;let P;M?P=F:(P=Math.round(h[I]*f*E),F-=P);const O=T.getMinWidth(),z=T.getMaxWidth();P<O?(P=O,m[T.getId()]=!0,p=!0):z>0&&P>z&&(P=z,m[T.getId()]=!0,p=!0),g[T.getId()]=P})}for(const b of d){const v=g[b.getId()];b.getActualWidth()!==v&&(b.setActualWidth(v,n),o.push(b))}}const a=o.length>0;let l=[];if(a){const{colFlex:c,visibleCols:f,colViewport:d}=this.beans;l=c?.refreshFlexedColumns({resizingCols:s,skipSetLeft:!0})??[],f.setLeftValues(n),f.updateBodyWidths(),d.checkViewportColumns()}const u=s.concat(l);(a||r)&&vs(this.eventSvc,u,r,n,l)}resizeHeader(e,t,r){if(!e.isResizable())return;const n=e.getActualWidth(),i=e.getMinWidth(),o=e.getMaxWidth(),s=Math.min(Math.max(n+t,i),o);this.setColumnWidths([{key:e,newWidth:s}],r,!0,"uiColumnResized")}createResizeFeature(e,t,r,n,i){return new y5(e,t,r,n,i)}createGroupResizeFeature(e,t,r,n){return new b5(e,t,r,n)}};function w5(e){const{columns:t,width:r}=e;let n=0,i=0,o=!0;for(const l of t){const u=l.getMinWidth();n+=u||0;const c=l.getMaxWidth();c>0?i+=c:o=!1}const s=r>=n,a=!o||r<=i;return s&&a}var C5={moduleName:"ColumnResize",version:Me,beans:[v5],apiFunctions:{setColumnWidths:m5},dependsOn:[UM,vC]},F5=class extends ve{constructor(e,t){super(),this.removeChildListenersFuncs=[],this.columnGroup=t,this.comp=e}postConstruct(){this.addListenersToChildrenColumns(),this.addManagedListeners(this.columnGroup,{displayedChildrenChanged:this.onDisplayedChildrenChanged.bind(this)}),this.onWidthChanged(),this.addDestroyFunc(this.removeListenersOnChildrenColumns.bind(this))}addListenersToChildrenColumns(){this.removeListenersOnChildrenColumns();const e=this.onWidthChanged.bind(this);for(const t of this.columnGroup.getLeafColumns())t.__addEventListener("widthChanged",e),t.__addEventListener("visibleChanged",e),this.removeChildListenersFuncs.push(()=>{t.__removeEventListener("widthChanged",e),t.__removeEventListener("visibleChanged",e)})}removeListenersOnChildrenColumns(){for(const e of this.removeChildListenersFuncs)e();this.removeChildListenersFuncs=[]}onDisplayedChildrenChanged(){this.addListenersToChildrenColumns(),this.onWidthChanged()}onWidthChanged(){const e=this.columnGroup.getActualWidth();this.comp.setWidth(`${e}px`),this.comp.toggleCss("ag-hidden",e===0)}},S5=class extends Ep{constructor(){super(...arguments),this.onSuppressColMoveChange=()=>{!this.isAlive()||this.isSuppressMoving()?this.removeDragSource():this.dragSource||this.setDragSource(this.eGui)}}wireComp(e,t,r,n,i){const{column:o,beans:s}=this,{context:a,colNames:l,colHover:u,rangeSvc:c,colResize:f}=s;this.comp=e,i=Na(this,a,i),this.setGui(t,i),this.displayName=l.getDisplayNameForColumnGroup(o,"header"),this.refreshHeaderStyles(),this.addClasses(),this.setupMovingCss(i),this.setupExpandable(i),this.setupTooltip(),this.setupAutoHeight({wrapperElement:n,compBean:i}),this.setupUserComp(),this.addHeaderMouseListeners(i),this.addManagedPropertyListener("groupHeaderHeight",this.refreshMaxHeaderHeight.bind(this)),this.refreshMaxHeaderHeight();const d=this.rowCtrl.pinned,h=o.getProvidedColumnGroup().getLeafColumns();u?.createHoverFeature(i,h,t),c?.createRangeHighlightFeature(i,o,e),i.createManagedBean(new kp(o,t,s)),i.createManagedBean(new F5(e,o)),f?this.resizeFeature=i.createManagedBean(f.createGroupResizeFeature(e,r,d,o)):e.setResizableDisplayed(!1),i.createManagedBean(new Ms(t,{shouldStopEventPropagation:this.shouldStopEventPropagation.bind(this),onTabKeyDown:()=>{},handleKeyDown:this.handleKeyDown.bind(this),onFocusIn:this.onFocusIn.bind(this)})),this.addHighlightListeners(i,h),i.addManagedPropertyListener("suppressMovableColumns",this.onSuppressColMoveChange),this.addResizeAndMoveKeyboardListeners(i),i.addDestroyFunc(()=>this.clearComponent())}getHeaderClassParams(){const{column:e,beans:t}=this,r=e.getDefinition();return Ue(t.gos,{colDef:r,columnGroup:e,floatingFilter:!1})}refreshMaxHeaderHeight(){const{gos:e,comp:t}=this,r=e.get("groupHeaderHeight");r!=null?r===0?t.setHeaderWrapperHidden(!0):t.setHeaderWrapperMaxHeight(r):(t.setHeaderWrapperHidden(!1),t.setHeaderWrapperMaxHeight(null))}addHighlightListeners(e,t){if(this.beans.gos.get("suppressMoveWhenColumnDragging"))for(const r of t)e.addManagedListeners(r,{headerHighlightChanged:this.onLeafColumnHighlightChanged.bind(this,r)})}onLeafColumnHighlightChanged(e){const t=this.column.getDisplayedLeafColumns(),r=t[0]===e,n=Gt(t)===e;if(!r&&!n)return;const i=e.getHighlighted(),o=!!this.rowCtrl.getHeaderCellCtrls().find(l=>l.column.isMoving());let s=!1,a=!1;if(o){const l=this.beans.gos.get("enableRtl"),u=i===1,c=i===0;r&&(l?a=u:s=c),n&&(l?s=c:a=u)}this.comp.toggleCss("ag-header-highlight-before",s),this.comp.toggleCss("ag-header-highlight-after",a)}resizeHeader(e,t){const{resizeFeature:r}=this;if(!r)return;const n=r.getInitialValues(t);r.resizeColumns(n,n.resizeStartWidth+e,"uiColumnResized",!0)}resizeLeafColumnsToFit(e){this.resizeFeature?.resizeLeafColumnsToFit(e)}setupUserComp(){const{colGroupSvc:e,userCompFactory:t,gos:r,enterpriseMenuFactory:n}=this.beans,i=this.column,o=i.getProvidedColumnGroup(),s=Ue(r,{displayName:this.displayName,columnGroup:i,setExpanded:l=>{e.setColumnGroupOpened(o,l,"gridInitializing")},setTooltip:(l,u)=>{r.assertModuleRegistered("Tooltip",3),this.setupTooltip(l,u)},showColumnMenu:(l,u)=>n?.showMenuAfterButtonClick(o,l,"columnMenu",u),showColumnMenuAfterMouseClick:(l,u)=>n?.showMenuAfterMouseEvent(o,l,"columnMenu",u),eGridHeader:this.eGui}),a=N4(t,s);a&&this.comp.setUserCompDetails(a)}addHeaderMouseListeners(e){const t=i=>this.handleMouseOverChange(i.type==="mouseenter"),r=()=>this.dispatchColumnMouseEvent("columnHeaderClicked",this.column.getProvidedColumnGroup()),n=i=>this.handleContextMenuMouseEvent(i,void 0,this.column.getProvidedColumnGroup());e.addManagedListeners(this.eGui,{mouseenter:t,mouseleave:t,click:r,contextmenu:n})}handleMouseOverChange(e){this.eventSvc.dispatchEvent({type:e?"columnHeaderMouseOver":"columnHeaderMouseLeave",column:this.column.getProvidedColumnGroup()})}setupTooltip(e,t){this.tooltipFeature=this.beans.tooltipSvc?.setupHeaderGroupTooltip(this.tooltipFeature,this,e,t)}setupExpandable(e){const t=this.column.getProvidedColumnGroup();this.refreshExpanded();const r=this.refreshExpanded.bind(this);e.addManagedListeners(t,{expandedChanged:r,expandableChanged:r})}refreshExpanded(){const{column:e}=this;this.expandable=e.isExpandable();const t=e.isExpanded();this.expandable?this.comp.setAriaExpanded(t?"true":"false"):this.comp.setAriaExpanded(void 0),this.refreshHeaderStyles()}addClasses(){const{column:e}=this,t=e.getColGroupDef(),r=eC(t,this.gos,null,e);e.isPadding()?(r.push("ag-header-group-cell-no-group"),e.getLeafColumns().every(i=>i.isSpanHeaderHeight())&&r.push("ag-header-span-height")):(r.push("ag-header-group-cell-with-group"),t?.wrapHeaderText&&r.push("ag-header-cell-wrap-text"));for(const n of r)this.comp.toggleCss(n,!0)}setupMovingCss(e){const{column:t}=this,n=t.getProvidedColumnGroup().getLeafColumns(),i=()=>this.comp.toggleCss("ag-header-cell-moving",t.isMoving());for(const o of n)e.addManagedListeners(o,{movingChanged:i});i()}onFocusIn(e){this.eGui.contains(e.relatedTarget)||this.focusThis()}handleKeyDown(e){super.handleKeyDown(e);const t=this.getWrapperHasFocus();if(!(!this.expandable||!t)&&e.key===me.ENTER){const r=this.column,n=!r.isExpanded();this.beans.colGroupSvc.setColumnGroupOpened(r.getProvidedColumnGroup(),n,"uiColumnExpanded")}}setDragSource(e){!this.isAlive()||this.isSuppressMoving()||(this.removeDragSource(),e&&(this.dragSource=this.beans.colMoves?.setDragSourceForHeader(e,this.column,this.displayName)??null))}isSuppressMoving(){return this.gos.get("suppressMovableColumns")||this.column.getLeafColumns().some(e=>e.getColDef().suppressMovable||e.getColDef().lockPosition)}destroy(){this.tooltipFeature=this.destroyBean(this.tooltipFeature),super.destroy()}};function x5(e,t,r){e.colGroupSvc?.setColumnGroupOpened(t,r,"api")}function k5(e,t,r){return e.colGroupSvc?.getColumnGroup(t,r)??null}function E5(e,t){return e.colGroupSvc?.getProvidedColGroup(t)??null}function R5(e,t,r){return e.colNames.getDisplayNameForColumnGroup(t,r)||""}function _5(e){return e.colGroupSvc?.getColumnGroupState()??[]}function A5(e,t){e.colGroupSvc?.setColumnGroupState(t,"api")}function T5(e){e.colGroupSvc?.resetColumnGroupState("api")}function D5(e){return e.visibleCols.treeLeft}function M5(e){return e.visibleCols.treeCenter}function P5(e){return e.visibleCols.treeRight}function I5(e){return e.visibleCols.getAllTrees()}function B5(e,t){for(let r=0;r<t.length;r++){const n=e.indexOf(t[r]);n>=0&&(e[n]=e[e.length-1],e.pop())}}var L5=class extends ve{constructor(){super(...arguments),this.beanName="visibleCols",this.colsAndGroupsMap={},this.leftCols=[],this.rightCols=[],this.centerCols=[],this.allCols=[],this.headerGroupRowCount=0,this.bodyWidth=0,this.leftWidth=0,this.rightWidth=0,this.isBodyWidthDirty=!0}refresh(e,t=!1){const{colFlex:r,colModel:n,colGroupSvc:i,colViewport:o,selectionColSvc:s}=this.beans;t||this.buildTrees(n,i),i?.updateOpenClosedVisibility(),this.leftCols=Od(this.treeLeft),this.centerCols=Od(this.treeCenter),this.rightCols=Od(this.treeRight),s?.refreshVisibility(this.leftCols,this.centerCols,this.rightCols),this.joinColsAriaOrder(n),this.joinCols(),this.headerGroupRowCount=this.getHeaderRowCount(),this.setLeftValues(e),this.autoHeightCols=this.allCols.filter(a=>a.isAutoHeight()),r?.refreshFlexedColumns(),this.updateBodyWidths(),this.setFirstRightAndLastLeftPinned(n,this.leftCols,this.rightCols,e),o.checkViewportColumns(!1),this.eventSvc.dispatchEvent({type:"displayedColumnsChanged",source:e})}getHeaderRowCount(){if(!this.gos.get("hidePaddedHeaderRows"))return this.beans.colModel.cols.treeDepth;let e=0;for(const t of this.allCols){let r=t.getParent();for(;r;){if(!r.isPadding()){const n=r.getProvidedColumnGroup().getLevel()+1;n>e&&(e=n);break}r=r.getParent()}}return e}updateBodyWidths(){const e=Wn(this.centerCols),t=Wn(this.leftCols),r=Wn(this.rightCols);this.isBodyWidthDirty=this.bodyWidth!==e,(this.bodyWidth!==e||this.leftWidth!==t||this.rightWidth!==r)&&(this.bodyWidth=e,this.leftWidth=t,this.rightWidth=r,this.eventSvc.dispatchEvent({type:"columnContainerWidthChanged"}),this.eventSvc.dispatchEvent({type:"displayedColumnsWidthChanged"}))}setLeftValues(e){this.setLeftValuesOfCols(e),this.setLeftValuesOfGroups()}setFirstRightAndLastLeftPinned(e,t,r,n){let i,o;this.gos.get("enableRtl")?(i=t?t[0]:null,o=r?Gt(r):null):(i=t?Gt(t):null,o=r?r[0]:null);for(const s of e.getCols())s.setLastLeftPinned(s===i,n),s.setFirstRightPinned(s===o,n)}buildTrees(e,t){const r=e.getColsToShow(),n=r.filter(l=>l.getPinned()=="left"),i=r.filter(l=>l.getPinned()=="right"),o=r.filter(l=>l.getPinned()!="left"&&l.getPinned()!="right"),s=new g1,a=l=>t?t.createColumnGroups(l):l.columns;this.treeLeft=a({columns:n,idCreator:s,pinned:"left",oldDisplayedGroups:this.treeLeft}),this.treeRight=a({columns:i,idCreator:s,pinned:"right",oldDisplayedGroups:this.treeRight}),this.treeCenter=a({columns:o,idCreator:s,pinned:null,oldDisplayedGroups:this.treeCenter}),this.updateColsAndGroupsMap()}clear(){this.leftCols=[],this.rightCols=[],this.centerCols=[],this.allCols=[],this.ariaOrderColumns=[]}joinColsAriaOrder(e){const t=e.getCols(),r=[],n=[],i=[];for(const o of t){const s=o.getPinned();s?s===!0||s==="left"?r.push(o):i.push(o):n.push(o)}this.ariaOrderColumns=r.concat(n).concat(i)}getAriaColIndex(e){let t;return rr(e)?t=e.getLeafColumns()[0]:t=e,this.ariaOrderColumns.indexOf(t)+1}setLeftValuesOfGroups(){for(const e of[this.treeLeft,this.treeRight,this.treeCenter])for(const t of e)rr(t)&&t.checkLeft()}setLeftValuesOfCols(e){const{colModel:t}=this.beans;if(!t.getColDefCols())return;const n=t.getCols().slice(0),i=this.gos.get("enableRtl");for(const o of[this.leftCols,this.rightCols,this.centerCols]){if(i){let s=Wn(o);for(const a of o)s-=a.getActualWidth(),a.setLeft(s,e)}else{let s=0;for(const a of o)a.setLeft(s,e),s+=a.getActualWidth()}B5(n,o)}for(const o of n)o.setLeft(null,e)}joinCols(){this.gos.get("enableRtl")?this.allCols=this.rightCols.concat(this.centerCols).concat(this.leftCols):this.allCols=this.leftCols.concat(this.centerCols).concat(this.rightCols)}getAllTrees(){return this.treeLeft&&this.treeRight&&this.treeCenter?this.treeLeft.concat(this.treeCenter).concat(this.treeRight):null}isColDisplayed(e){return this.allCols.indexOf(e)>=0}getLeftColsForRow(e){const{leftCols:t,beans:{colModel:r}}=this;return r.colSpanActive?this.getColsForRow(e,t):t}getRightColsForRow(e){const{rightCols:t,beans:{colModel:r}}=this;return r.colSpanActive?this.getColsForRow(e,t):t}getColsForRow(e,t,r,n){const i=[];let o=null;for(let s=0;s<t.length;s++){const a=t[s],l=t.length-s,u=Math.min(a.getColSpan(e),l),c=[a];if(u>1){const d=u-1;for(let h=1;h<=d;h++)c.push(t[s+h]);s+=d}let f;if(r){f=!1;for(const d of c)r(d)&&(f=!0)}else f=!0;f&&(i.length===0&&o&&(n&&n(a))&&i.push(o),i.push(a)),o=a}return i}getContainerWidth(e){switch(e){case"left":return this.leftWidth;case"right":return this.rightWidth;default:return this.bodyWidth}}getColBefore(e){const t=this.allCols,r=t.indexOf(e);return r>0?t[r-1]:null}isPinningLeft(){return this.leftCols.length>0}isPinningRight(){return this.rightCols.length>0}updateColsAndGroupsMap(){this.colsAndGroupsMap={};const e=t=>{this.colsAndGroupsMap[t.getUniqueId()]=t};co(this.treeCenter,!1,e),co(this.treeLeft,!1,e),co(this.treeRight,!1,e)}isVisible(e){return this.colsAndGroupsMap[e.getUniqueId()]===e}getFirstColumn(){const e=this.gos.get("enableRtl"),t=["leftCols","centerCols","rightCols"];e&&t.reverse();for(let r=0;r<t.length;r++){const n=this[t[r]];if(n.length)return e?Gt(n):n[0]}return null}getColAfter(e){const t=this.allCols,r=t.indexOf(e);return r<t.length-1?t[r+1]:null}getColsLeftWidth(){return Wn(this.leftCols)}getDisplayedColumnsRightWidth(){return Wn(this.rightCols)}isColAtEdge(e,t){const r=this.allCols;if(!r.length)return!1;const n=t==="first";let i;if(rr(e)){const o=e.getDisplayedLeafColumns();if(!o.length)return!1;i=n?o[0]:Gt(o)}else i=e;return(n?r[0]:Gt(r))===i}};function co(e,t,r){if(e)for(let n=0;n<e.length;n++){const i=e[n];if(rr(i)){const o=t?i.getDisplayedChildren():i.getChildren();co(o,t,r)}r(i)}}function Od(e){const t=[];return co(e,!0,r=>{Ai(r)&&t.push(r)}),t}var N5=class extends ve{constructor(){super(...arguments),this.beanName="colGroupSvc"}getColumnGroupState(){const e=[],t=this.beans.colModel.getColTree();return Xn(null,t,r=>{Fr(r)&&e.push({groupId:r.getGroupId(),open:r.isExpanded()})}),e}resetColumnGroupState(e){const t=this.beans.colModel.getColDefColTree();if(!t)return;const r=[];Xn(null,t,n=>{if(Fr(n)){const i=n.getColGroupDef(),o={groupId:n.getGroupId(),open:i?i.openByDefault:void 0};r.push(o)}}),this.setColumnGroupState(r,e)}setColumnGroupState(e,t){const{colModel:r,colAnimation:n,visibleCols:i,eventSvc:o}=this.beans;if(!r.getColTree().length)return;n?.start();const a=[];for(const l of e){const u=l.groupId,c=l.open,f=this.getProvidedColGroup(u);f&&f.isExpanded()!==c&&(f.setExpanded(c),a.push(f))}i.refresh(t,!0),a.length&&o.dispatchEvent({type:"columnGroupOpened",columnGroup:a.length===1?a[0]:void 0,columnGroups:a}),n?.finish()}setColumnGroupOpened(e,t,r){let n;Fr(e)?n=e.getId():n=e||"",this.setColumnGroupState([{groupId:n,open:t}],r)}getProvidedColGroup(e){let t=null;return Xn(null,this.beans.colModel.getColTree(),r=>{Fr(r)&&r.getId()===e&&(t=r)}),t}getGroupAtDirection(e,t){const r=e.getProvidedColumnGroup().getLevel()+e.getPaddingLevel(),n=e.getDisplayedLeafColumns(),i=t==="After"?Gt(n):n[0],o=`getCol${t}`;for(;;){const s=this.beans.visibleCols[o](i);if(!s)return null;const a=this.getColGroupAtLevel(s,r);if(a!==e)return a}}getColGroupAtLevel(e,t){let r=e.getParent(),n,i;for(;n=r.getProvidedColumnGroup().getLevel(),i=r.getPaddingLevel(),!(n+i<=t);)r=r.getParent();return r}updateOpenClosedVisibility(){const e=this.beans.visibleCols.getAllTrees();co(e,!1,t=>{rr(t)&&t.calculateDisplayedColumns()})}getColumnGroup(e,t){if(!e)return null;if(rr(e))return e;const r=this.beans.visibleCols.getAllTrees(),n=typeof t=="number";let i=null;return co(r,!1,o=>{if(rr(o)){const s=o;let a;n?a=e===s.getGroupId()&&t===s.getPartId():a=e===s.getGroupId(),a&&(i=s)}}),i}createColumnGroups(e){const{columns:t,idCreator:r,pinned:n,oldDisplayedGroups:i,isStandaloneStructure:o}=e,s=this.mapOldGroupsById(i),a=[];let l=t;for(;l.length;){const u=l;l=[];let c=0;const f=d=>{const h=c;c=d;const g=u[h],p=(rr(g)?g.getProvidedColumnGroup():g).getOriginalParent();if(p==null){for(let b=h;b<d;b++)a.push(u[b]);return}const y=this.createColumnGroup(p,r,s,n,o);for(let b=h;b<d;b++)y.addChild(u[b]);l.push(y)};for(let d=1;d<u.length;d++){const h=u[d],m=(rr(h)?h.getProvidedColumnGroup():h).getOriginalParent(),p=u[c],b=(rr(p)?p.getProvidedColumnGroup():p).getOriginalParent();m!==b&&f(d)}c<u.length&&f(u.length)}return o||this.setupParentsIntoCols(a,null),a}createProvidedColumnGroup(e,t,r,n,i,o,s){const a=i.getUniqueKey(t.groupId||null,null),l=am(this.beans,t,a),u=new fu(l,a,!1,r);this.createBean(u);const c=this.findExistingGroup(t,o);c&&o.splice(c.idx,1);const f=c?.group;f&&u.setExpanded(f.isExpanded());const d=a1(this.beans,l.children,r+1,e,n,i,o,s);return u.setChildren(d),u}balanceColumnTree(e,t,r,n){const i=[];for(let o=0;o<e.length;o++){const s=e[o];if(Fr(s)){const a=s,l=this.balanceColumnTree(a.getChildren(),t+1,r,n);a.setChildren(l),i.push(a)}else{let a,l;for(let u=t;u<r;u++){const c=n.getUniqueKey(null,null),f=am(this.beans,null,c),d=new fu(f,c,!0,u);this.createBean(d),l&&l.setChildren([d]),l=d,a||(a=l)}if(a&&l)if(i.push(a),e.some(c=>Fr(c))){l.setChildren([s]);continue}else{l.setChildren(e);break}i.push(s)}}return i}findDepth(e){let t=0,r=e;for(;r?.[0]&&Fr(r[0]);)t++,r=r[0].getChildren();return t}findMaxDepth(e,t){let r=t;for(let n=0;n<e.length;n++){const i=e[n];if(Fr(i)){const o=i,s=this.findMaxDepth(o.getChildren(),t+1);r<s&&(r=s)}}return r}balanceTreeForAutoCols(e,t){const r=[];for(const n of e){let i=n;for(let o=t-1;o>=0;o--){const s=new fu(null,`FAKE_PATH_${n.getId()}}_${o}`,!0,o);this.createBean(s),s.setChildren([i]),i.originalParent=s,i=s}t===0&&(n.originalParent=null),r.push(i)}return r}findExistingGroup(e,t){if(e.groupId!=null)for(let n=0;n<t.length;n++){const i=t[n];if(i.getColGroupDef()&&i.getId()===e.groupId)return{idx:n,group:i}}}createColumnGroup(e,t,r,n,i){const o=e.getGroupId(),s=t.getInstanceIdForKey(o),a=H1(o,s);let l=r[a];return l&&l.getProvidedColumnGroup()!==e&&(l=null),Le(l)?l.reset():(l=new Ca(e,o,s,n),i||this.createBean(l)),l}mapOldGroupsById(e){const t={},r=n=>{for(const i of n)if(rr(i)){const o=i;t[i.getUniqueId()]=o,r(o.getChildren())}};return e&&r(e),t}setupParentsIntoCols(e,t){for(const r of e??[])if(r.parent!==t&&(this.beans.colViewport.colsWithinViewportHash=""),r.parent=t,rr(r)){const n=r;this.setupParentsIntoCols(n.getChildren(),n)}}},O5={moduleName:"ColumnGroup",version:Me,dynamicBeans:{headerGroupCellCtrl:S5},beans:[N5],apiFunctions:{getAllDisplayedColumnGroups:I5,getCenterDisplayedColumnGroups:M5,getColumnGroup:k5,getColumnGroupState:_5,getDisplayNameForColumnGroup:R5,getLeftDisplayedColumnGroups:D5,getProvidedColumnGroup:E5,getRightDisplayedColumnGroups:P5,resetColumnGroupState:T5,setColumnGroupOpened:x5,setColumnGroupState:A5}},H5={tag:"div",cls:"ag-skeleton-container"},G5=class extends Xt{constructor(){super(H5)}init(t){const r=`ag-cell-skeleton-renderer-${this.getCompId()}`;this.getGui().setAttribute("id",r),this.addDestroyFunc(()=>pa(t.eParentOfValue)),pa(t.eParentOfValue,r),t.deferRender?this.setupLoading(t):t.node.failedLoad?this.setupFailed():this.setupLoading(t)}setupFailed(){const t=this.getLocaleTextFunc();this.getGui().textContent=t("loadingError","ERR");const r=t("ariaSkeletonCellLoadingFailed","Row failed to load");bs(this.getGui(),r)}setupLoading(t){const r=Pr({tag:"div",cls:"ag-skeleton-effect"}),n=t.node.rowIndex;if(n!=null){const s=75+25*(n%2===0?Math.sin(n):Math.cos(n));r.style.width=`${s}%`}this.getGui().appendChild(r);const i=this.getLocaleTextFunc(),o=t.deferRender?i("ariaDeferSkeletonCellLoading","Cell is loading"):i("ariaSkeletonCellLoading","Row data is loading");bs(this.getGui(),o)}refresh(t){return!1}},j5={moduleName:"CheckboxCellRenderer",version:Me,userComponents:{agCheckboxCellRenderer:G6}},z5={moduleName:"SkeletonCellRenderer",version:Me,userComponents:{agSkeletonCellRenderer:G5}};function V5(e,t){const r=e.colModel.getColDefCol(t);return r?r.getColDef():null}function W5(e){return e.colModel.getColumnDefs(!0)}function $5(e,t,r){return e.colNames.getDisplayNameForColumn(t,r)||""}function U5(e,t){return e.colModel.getColDefCol(t)}function K5(e){return e.colModel.getColDefCols()}function q5(e,t){return fn(e,t,"api")}function J5(e){return ic(e)}function Y5(e){l4(e,"api")}function Z5(e){return e.visibleCols.isPinningLeft()||e.visibleCols.isPinningRight()}function X5(e){return e.visibleCols.isPinningLeft()}function Q5(e){return e.visibleCols.isPinningRight()}function eP(e,t){return e.visibleCols.getColAfter(t)}function tP(e,t){return e.visibleCols.getColBefore(t)}function rP(e,t,r){e.colModel.setColsVisible(t,r,"api")}function nP(e,t,r){e.pinnedCols?.setColsPinned(t,r,"api")}function iP(e){return e.colModel.getCols()}function oP(e){return e.visibleCols.leftCols}function sP(e){return e.visibleCols.centerCols}function aP(e){return e.visibleCols.rightCols}function lP(e){return e.visibleCols.allCols}function uP(e){return e.colViewport.getViewportColumns()}function rf(e,t){if(!e)return;const r=e,n={};for(const i of Object.keys(r)){if(t&&t.indexOf(i)>=0||Nw.has(i))continue;const o=r[i];typeof o=="object"&&o!==null&&o.constructor===Object?n[i]=rf(o):n[i]=o}return n}var cP=class extends ve{constructor(){super(...arguments),this.beanName="colDefFactory"}wireBeans(e){this.rowGroupColsSvc=e.rowGroupColsSvc,this.pivotColsSvc=e.pivotColsSvc}getColumnDefs(e,t,r,n,i=!1){const o=e.slice();t?o.sort((l,u)=>r.indexOf(l)-r.indexOf(u)):(r||i)&&o.sort((l,u)=>n.indexOf(l)-n.indexOf(u));const s=this.rowGroupColsSvc?.columns,a=this.pivotColsSvc?.columns;return this.buildColumnDefs(o,s,a)}buildColumnDefs(e,t=[],r=[]){const n=[],i={};for(const o of e){const s=this.createDefFromColumn(o,t,r);let a=!0,l=s,u=o.getOriginalParent(),c=null;for(;u;){let f=null;if(u.isPadding()){u=u.getOriginalParent();continue}const d=i[u.getGroupId()];if(d){d.children.push(l),a=!1;break}if(f=this.createDefFromGroup(u),f&&(f.children=[l],i[f.groupId]=f,l=f,u=u.getOriginalParent()),u!=null&&c===u){a=!1;break}c=u}a&&n.push(l)}return n}createDefFromGroup(e){const t=rf(e.getColGroupDef(),["children"]);return t&&(t.groupId=e.getGroupId()),t}createDefFromColumn(e,t,r){const n=rf(e.getColDef());return n.colId=e.getColId(),n.width=e.getActualWidth(),n.rowGroup=e.isRowGroupActive(),n.rowGroupIndex=e.isRowGroupActive()?t.indexOf(e):null,n.pivot=e.isPivotActive(),n.pivotIndex=e.isPivotActive()?r.indexOf(e):null,n.aggFunc=e.isValueActive()?e.getAggFunc():null,n.hide=e.isVisible()?void 0:!0,n.pinned=e.isPinned()?e.getPinned():null,n.sort=e.getSort()?e.getSort():null,n.sortIndex=e.getSortIndex()!=null?e.getSortIndex():null,n}},dP=class extends ve{constructor(){super(...arguments),this.beanName="colFlex",this.columnsHidden=!1}refreshFlexedColumns(e={}){const t=e.source??"flex";e.viewportWidth!=null&&(this.flexViewportWidth=e.viewportWidth);const r=this.flexViewportWidth,{visibleCols:n,colDelayRenderSvc:i}=this.beans,o=n.centerCols;let s=-1;if(e.resizingCols){const m=new Set(e.resizingCols);for(let p=o.length-1;p>=0;p--)if(m.has(o[p])){s=p;break}}let a=!1;const l=o.map((m,p)=>{const y=m.getFlex(),b=y!=null&&y>0&&p>s;return a||(a=b),{col:m,isFlex:b,flex:Math.max(0,y??0),initialSize:m.getActualWidth(),min:m.getMinWidth(),max:m.getMaxWidth(),targetSize:0}});if(a?(i?.hideColumns("colFlex"),this.columnsHidden=!0):this.columnsHidden&&this.revealColumns(i),!r||!a)return[];let u=l.length,c=l.reduce((m,p)=>m+p.flex,0),f=r;const d=(m,p)=>{m.frozenSize=p,m.col.setActualWidth(p,t),f-=p,c-=m.flex,u-=1},h=m=>m.frozenSize!=null;for(const m of l)m.isFlex||d(m,m.initialSize);for(;u>0;){const m=Math.round(c<1?f*c:f);let p,y=0,b=0;for(const E of l){if(h(E))continue;p=E,b+=m*(E.flex/c);const T=b-y,I=Math.round(T);E.targetSize=I,y+=I}p&&(p.targetSize+=m-y);let v=0;for(const E of l){if(h(E))continue;const T=E.targetSize,I=Math.min(Math.max(T,E.min),E.max);v+=I-T,E.violationType=I===T?void 0:I<T?"max":"min",E.targetSize=I}const F=v===0?"all":v>0?"min":"max";for(const E of l)h(E)||(F==="all"||E.violationType===F)&&d(E,E.targetSize)}e.skipSetLeft||n.setLeftValues(t),e.updateBodyWidths&&n.updateBodyWidths();const g=l.filter(m=>m.isFlex&&!m.violationType).map(m=>m.col);if(e.fireResizedEvent){const m=l.filter(y=>y.initialSize!==y.frozenSize).map(y=>y.col),p=l.filter(y=>y.flex).map(y=>y.col);vs(this.eventSvc,m,!0,t,p)}return this.revealColumns(i),g}revealColumns(e){this.columnsHidden&&(e?.revealColumns("colFlex"),this.columnsHidden=!1)}initCol(e){const{flex:t,initialFlex:r}=e.colDef;t!==void 0?e.flex=t:r!==void 0&&(e.flex=r)}setColFlex(e,t){e.flex=t??null,e.dispatchStateUpdatedEvent("flex")}};function oa(e,t,r){if(!t||!e)return;if(!r)return e[t];const n=t.split(".");let i=e;for(let o=0;o<n.length;o++){if(i==null)return;i=i[n[o]]}return i}var hP=["dateTimeString","dateString","text","number","boolean","date"],fP=class extends ve{constructor(){super(...arguments),this.beanName="dataTypeSvc",this.dataTypeDefinitions={},this.isPendingInference=!1,this.isColumnTypeOverrideInDataTypeDefinitions=!1,this.columnStateUpdatesPendingInference={},this.columnStateUpdateListenerDestroyFuncs=[],this.columnDefinitionPropsPerDataType={number(){return{cellEditor:"agNumberCellEditor"}},boolean(){return{cellEditor:"agCheckboxCellEditor",cellRenderer:"agCheckboxCellRenderer",getFindText:()=>null,suppressKeyboardEvent:e=>!!e.colDef.editable&&e.event.key===me.SPACE}},date({formatValue:e}){return{cellEditor:"agDateCellEditor",keyCreator:e}},dateString({formatValue:e}){return{cellEditor:"agDateStringCellEditor",keyCreator:e}},dateTime(e){return this.date(e)},dateTimeString(e){return this.dateString(e)},object({formatValue:e,colModel:t,colId:r}){return{cellEditorParams:{useFormatter:!0},comparator:(n,i)=>{const o=t.getColDefCol(r),s=o?.getColDef();if(!o||!s)return 0;const a=n==null?"":e({column:o,node:null,value:n}),l=i==null?"":e({column:o,node:null,value:i});return a===l?0:a>l?1:-1},keyCreator:e}},text(){return{}}}}wireBeans(e){this.colModel=e.colModel}postConstruct(){this.processDataTypeDefinitions(),this.addManagedPropertyListener("dataTypeDefinitions",e=>{this.processDataTypeDefinitions(),this.colModel.recreateColumnDefs(e)})}processDataTypeDefinitions(){const e=this.getDefaultDataTypes(),t={},r={},n=c=>f=>{const{column:d,node:h,value:g}=f;let m=d.getColDef().valueFormatter;return m===c.groupSafeValueFormatter&&(m=c.valueFormatter),this.beans.valueSvc.formatValue(d,h,g,m)};for(const c of Object.keys(e)){const f=e[c],d={...f,groupSafeValueFormatter:Km(f,this.gos)};t[c]=d,r[c]=n(d)}const i=this.gos.get("dataTypeDefinitions")??{},o={};for(const c of Object.keys(i)){const f=i[c],d=this.processDataTypeDefinition(f,i,[c],e);d&&(t[c]=d,f.dataTypeMatcher&&(o[c]=f.dataTypeMatcher),r[c]=n(d))}const{valueParser:s,valueFormatter:a}=e.object,{valueParser:l,valueFormatter:u}=t.object;this.hasObjectValueParser=l!==s,this.hasObjectValueFormatter=u!==a,this.formatValueFuncs=r,this.dataTypeDefinitions=t,this.dataTypeMatchers=this.sortKeysInMatchers(o,e)}sortKeysInMatchers(e,t){const r={...e};for(const n of hP)delete r[n],r[n]=e[n]??t[n].dataTypeMatcher;return r}processDataTypeDefinition(e,t,r,n){let i;const o=e.extendsDataType;if(e.columnTypes&&(this.isColumnTypeOverrideInDataTypeDefinitions=!0),e.extendsDataType===e.baseDataType){let s=n[o];const a=t[o];if(s&&a&&(s=a),!Um(e,s,o))return;i=$m(s,e)}else{if(r.includes(o)){Se(44);return}const s=t[o];if(!Um(e,s,o))return;const a=this.processDataTypeDefinition(s,t,[...r,o],n);if(!a)return;i=$m(a,e)}return{...i,groupSafeValueFormatter:Km(i,this.gos)}}updateColDefAndGetColumnType(e,t,r){let{cellDataType:n}=t;const{field:i}=t;if(n===void 0&&(n=e.cellDataType),(n==null||n===!0)&&(n=this.canInferCellDataType(e,t)?this.inferCellDataType(i,r):!1),!n){e.cellDataType=!1;return}const o=this.dataTypeDefinitions[n];if(!o){Se(47,{cellDataType:n});return}return e.cellDataType=n,o.groupSafeValueFormatter&&(e.valueFormatter=o.groupSafeValueFormatter),o.valueParser&&(e.valueParser=o.valueParser),o.suppressDefaultProperties||this.setColDefPropertiesForBaseDataType(e,n,o,r),o.columnTypes}addColumnListeners(e){if(!this.isPendingInference)return;const t=this.columnStateUpdatesPendingInference[e.getColId()];if(!t)return;const r=n=>{t.add(n.key)};e.__addEventListener("columnStateUpdated",r),this.columnStateUpdateListenerDestroyFuncs.push(()=>e.__removeEventListener("columnStateUpdated",r))}canInferCellDataType(e,t){const{gos:r}=this;if(!er(r))return!1;const n={cellRenderer:!0,valueGetter:!0,valueParser:!0,refData:!0};if(Hd(t,n))return!1;const i=t.type===null?e.type:t.type;if(i){const o=r.get("columnTypes")??{};if(nc(i).some(a=>{const l=o[a.trim()];return l&&Hd(l,n)}))return!1}return!Hd(e,n)}inferCellDataType(e,t){if(!e)return;let r;const n=this.getInitialData();if(n){const o=e.includes(".")&&!this.gos.get("suppressFieldDotNotation");r=oa(n,e,o)}else this.initWaitForRowData(t);return r==null?void 0:Object.keys(this.dataTypeMatchers).find(o=>this.dataTypeMatchers[o](r))??"object"}getInitialData(){const e=this.gos.get("rowData");if(e?.length)return e[0];if(this.initialData)return this.initialData;{const t=this.beans.rowModel.rootNode?._leafs;if(t?.length)return t[0].data}return null}initWaitForRowData(e){if(this.columnStateUpdatesPendingInference[e]=new Set,this.isPendingInference)return;this.isPendingInference=!0;const t=this.isColumnTypeOverrideInDataTypeDefinitions,{colAutosize:r,eventSvc:n}=this.beans;t&&r&&(r.shouldQueueResizeOperations=!0);const[i]=this.addManagedEventListeners({rowDataUpdateStarted:o=>{const{firstRowData:s}=o;s&&(i?.(),this.isPendingInference=!1,this.processColumnsPendingInference(s,t),this.columnStateUpdatesPendingInference={},t&&r?.processResizeOperations(),n.dispatchEvent({type:"dataTypesInferred"}))}})}processColumnsPendingInference(e,t){this.initialData=e;const r=[];this.destroyColumnStateUpdateListeners();const n={},i={};for(const o of Object.keys(this.columnStateUpdatesPendingInference)){const s=this.columnStateUpdatesPendingInference[o],a=this.colModel.getCol(o);if(!a)return;const l=a.getColDef();if(!this.resetColDefIntoCol(a,"cellDataTypeInferred"))return;const u=a.getColDef();if(t&&u.type&&u.type!==l.type){const c=gP(a,s);c.rowGroup&&c.rowGroupIndex==null&&(n[o]=c),c.pivot&&c.pivotIndex==null&&(i[o]=c),r.push(c)}}t&&r.push(...this.generateColumnStateForRowGroupAndPivotIndexes(n,i)),r.length&&fn(this.beans,{state:r},"cellDataTypeInferred"),this.initialData=null}generateColumnStateForRowGroupAndPivotIndexes(e,t){const r={},{rowGroupColsSvc:n,pivotColsSvc:i}=this.beans;return n?.restoreColumnOrder(r,e),i?.restoreColumnOrder(r,t),Object.values(r)}resetColDefIntoCol(e,t){const r=e.getUserProvidedColDef();if(!r)return!1;const n=Hh(this.beans,r,e.getColId());return e.setColDef(n,r,t),!0}getDateStringTypeDefinition(e){const{dateString:t}=this.dataTypeDefinitions;return e?this.getDataTypeDefinition(e)??t:t}getDateParserFunction(e){return this.getDateStringTypeDefinition(e).dateParser}getDateFormatterFunction(e){return this.getDateStringTypeDefinition(e).dateFormatter}getDateIncludesTimeFlag(e){return e==="dateTime"||e==="dateTimeString"}getDataTypeDefinition(e){const t=e.getColDef();if(t.cellDataType)return this.dataTypeDefinitions[t.cellDataType]}getBaseDataType(e){return this.getDataTypeDefinition(e)?.baseDataType}checkType(e,t){if(t==null)return!0;const r=this.getDataTypeDefinition(e)?.dataTypeMatcher;return r?r(t):!0}validateColDef(e){const t=r=>Se(48,{property:r});if(e.cellDataType==="object"){const{object:r}=this.dataTypeDefinitions;e.valueFormatter===r.groupSafeValueFormatter&&!this.hasObjectValueFormatter&&t("Formatter"),e.editable&&e.valueParser===r.valueParser&&!this.hasObjectValueParser&&t("Parser")}}postProcess(e){const t=e.cellDataType;if(!t||typeof t!="string")return;const{dataTypeDefinitions:r,beans:n,formatValueFuncs:i}=this,o=r[t];o&&n.colFilter?.setColDefPropsForDataType(e,o,i[t])}getFormatValue(e){return this.formatValueFuncs[e]}isColPendingInference(e){return this.isPendingInference&&!!this.columnStateUpdatesPendingInference[e]}setColDefPropertiesForBaseDataType(e,t,r,n){const i=this.formatValueFuncs[t],o=this.columnDefinitionPropsPerDataType[r.baseDataType]({colDef:e,cellDataType:t,colModel:this.colModel,dataTypeDefinition:r,colId:n,formatValue:i});Object.assign(e,o)}getDateObjectTypeDef(e){const t=this.getLocaleTextFunc(),r=this.getDateIncludesTimeFlag(e);return{baseDataType:e,valueParser:n=>Vr(n.newValue&&String(n.newValue)),valueFormatter:n=>n.value==null?"":!(n.value instanceof Date)||isNaN(n.value.getTime())?t("invalidDate","Invalid Date"):Jr(n.value,r)??"",dataTypeMatcher:n=>n instanceof Date}}getDateStringTypeDef(e){const t=this.getDateIncludesTimeFlag(e);return{baseDataType:e,dateParser:r=>Vr(r)??void 0,dateFormatter:r=>Jr(r??null,t)??void 0,valueParser:r=>pu(String(r.newValue))?r.newValue:null,valueFormatter:r=>pu(String(r.value))?String(r.value):"",dataTypeMatcher:r=>typeof r=="string"&&pu(r)}}getDefaultDataTypes(){const e=this.getLocaleTextFunc();return{number:{baseDataType:"number",valueParser:t=>t.newValue?.trim?.()===""?null:Number(t.newValue),valueFormatter:t=>t.value==null?"":typeof t.value!="number"||isNaN(t.value)?e("invalidNumber","Invalid Number"):String(t.value),dataTypeMatcher:t=>typeof t=="number"},text:{baseDataType:"text",valueParser:t=>t.newValue===""?null:Dh(t.newValue),dataTypeMatcher:t=>typeof t=="string"},boolean:{baseDataType:"boolean",valueParser:t=>t.newValue==null?t.newValue:t.newValue?.trim?.()===""?null:String(t.newValue).toLowerCase()==="true",valueFormatter:t=>t.value==null?"":String(t.value),dataTypeMatcher:t=>typeof t=="boolean"},date:this.getDateObjectTypeDef("date"),dateString:this.getDateStringTypeDef("dateString"),dateTime:this.getDateObjectTypeDef("dateTime"),dateTimeString:{...this.getDateStringTypeDef("dateTimeString"),dataTypeMatcher:t=>typeof t=="string"&&eT(t)},object:{baseDataType:"object",valueParser:()=>null,valueFormatter:t=>Dh(t.value)??""}}}destroyColumnStateUpdateListeners(){for(const e of this.columnStateUpdateListenerDestroyFuncs)e();this.columnStateUpdateListenerDestroyFuncs=[]}destroy(){this.dataTypeDefinitions={},this.dataTypeMatchers={},this.formatValueFuncs={},this.columnStateUpdatesPendingInference={},this.destroyColumnStateUpdateListeners(),super.destroy()}};function $m(e,t){const r={...e,...t};return e.columnTypes&&t.columnTypes&&t.appendColumnTypes&&(r.columnTypes=[...nc(e.columnTypes),...nc(t.columnTypes)]),r}function Um(e,t,r){return t?t.baseDataType!==e.baseDataType?(Se(46),!1):!0:(Se(45,{parentCellDataType:r}),!1)}function Km(e,t){if(e.valueFormatter)return r=>{if(r.node?.group){const n=(r.colDef.pivotValueColumn??r.column).getAggFunc();if(n){if(n==="first"||n==="last")return e.valueFormatter(r);if(e.baseDataType==="number"&&n!=="count"){if(typeof r.value=="number")return e.valueFormatter(r);if(typeof r.value=="object"){if(!r.value)return;if("toNumber"in r.value)return e.valueFormatter({...r,value:r.value.toNumber()});if("value"in r.value)return e.valueFormatter({...r,value:r.value.value})}}return}}else if(t.get("groupHideOpenParents")&&r.column.isRowGroupActive()&&typeof r.value=="string"&&!e.dataTypeMatcher?.(r.value))return;return e.valueFormatter(r)}}function pP(e,t,r,n){if(!t[r])return!1;const i=e[r];return i===null?(t[r]=!1,!1):n===void 0?!!i:i===n}function Hd(e,t){return[["cellRenderer","agSparklineCellRenderer"],["valueGetter",void 0],["valueParser",void 0],["refData",void 0]].some(([r,n])=>pP(e,t,r,n))}function gP(e,t){const r=p1(e);for(const n of t)delete r[n],n==="rowGroup"?delete r.rowGroupIndex:n==="pivot"&&delete r.pivotIndex;return r}var mP={moduleName:"DataType",version:Me,beans:[fP],dependsOn:[j5]},bP={moduleName:"ColumnFlex",version:Me,beans:[dP]},wC={moduleName:"ColumnApi",version:Me,beans:[cP],apiFunctions:{getColumnDef:V5,getDisplayNameForColumn:$5,getColumn:U5,getColumns:K5,applyColumnState:q5,getColumnState:J5,resetColumnState:Y5,isPinning:Z5,isPinningLeft:X5,isPinningRight:Q5,getDisplayedColAfter:eP,getDisplayedColBefore:tP,setColumnsVisible:rP,setColumnsPinned:nP,getAllGridColumns:iP,getDisplayedLeftColumns:oP,getDisplayedCenterColumns:sP,getDisplayedRightColumns:aP,getAllDisplayedColumns:lP,getAllDisplayedVirtualColumns:uP,getColumnDefs:W5}};function yP(e){if(!e||e==null)return null;const t=/([a-z])([A-Z])/g,r=/([A-Z]+)([A-Z])([a-z])/g;return e.replace(t,"$1 $2").replace(r,"$1 $2$3").replace(/\./g," ").split(" ").map(i=>i.substring(0,1).toUpperCase()+(i.length>1?i.substring(1,i.length):"")).join(" ")}var vP=class extends ve{constructor(){super(...arguments),this.beanName="colNames"}getDisplayNameForColumn(e,t,r=!1){if(!e)return null;const n=this.getHeaderName(e.getColDef(),e,null,null,t),{aggColNameSvc:i}=this.beans;return r&&i?i.getHeaderName(e,n):n}getDisplayNameForProvidedColumnGroup(e,t,r){const n=t?.getColGroupDef();return n?this.getHeaderName(n,null,e,t,r):null}getDisplayNameForColumnGroup(e,t){return this.getDisplayNameForProvidedColumnGroup(e,e.getProvidedColumnGroup(),t)}getHeaderName(e,t,r,n,i){const o=e.headerValueGetter;if(o){const s=Ue(this.gos,{colDef:e,column:t,columnGroup:r,providedColumnGroup:n,location:i});return typeof o=="function"?o(s):typeof o=="string"?this.beans.expressionSvc?.evaluate(o,s)??null:""}else{if(e.headerName!=null)return e.headerName;if(e.field)return yP(e.field)}return""}},wP=class extends ve{constructor(){super(...arguments),this.beanName="colViewport",this.colsWithinViewport=[],this.headerColsWithinViewport=[],this.colsWithinViewportHash="",this.rowsOfHeadersToRenderLeft={},this.rowsOfHeadersToRenderRight={},this.rowsOfHeadersToRenderCenter={},this.columnsToRenderLeft=[],this.columnsToRenderRight=[],this.columnsToRenderCenter=[]}wireBeans(e){this.visibleCols=e.visibleCols,this.colModel=e.colModel}postConstruct(){this.suppressColumnVirtualisation=this.gos.get("suppressColumnVirtualisation")}setScrollPosition(e,t,r=!1){const{visibleCols:n}=this,i=n.isBodyWidthDirty;if(!(e===this.scrollWidth&&t===this.scrollPosition&&!i)){if(this.scrollWidth=e,this.scrollPosition=t,n.isBodyWidthDirty=!0,this.gos.get("enableRtl")){const s=n.bodyWidth;this.viewportLeft=s-t-e,this.viewportRight=s-t}else this.viewportLeft=t,this.viewportRight=e+t;this.colModel.ready&&this.checkViewportColumns(r)}}getColumnHeadersToRender(e){switch(e){case"left":return this.columnsToRenderLeft;case"right":return this.columnsToRenderRight;default:return this.columnsToRenderCenter}}getHeadersToRender(e,t){let r;switch(e){case"left":r=this.rowsOfHeadersToRenderLeft[t];break;case"right":r=this.rowsOfHeadersToRenderRight[t];break;default:r=this.rowsOfHeadersToRenderCenter[t];break}return r??[]}extractViewportColumns(){const e=this.visibleCols.centerCols;this.isColumnVirtualisationSuppressed()?(this.colsWithinViewport=e,this.headerColsWithinViewport=e):(this.colsWithinViewport=e.filter(this.isColumnInRowViewport.bind(this)),this.headerColsWithinViewport=e.filter(this.isColumnInHeaderViewport.bind(this)))}isColumnVirtualisationSuppressed(){return this.suppressColumnVirtualisation||this.viewportRight===0}clear(){this.rowsOfHeadersToRenderLeft={},this.rowsOfHeadersToRenderRight={},this.rowsOfHeadersToRenderCenter={},this.colsWithinViewportHash=""}isColumnInHeaderViewport(e){return e.isAutoHeaderHeight()||CP(e)?!0:this.isColumnInRowViewport(e)}isColumnInRowViewport(e){if(e.isAutoHeight())return!0;const t=e.getLeft()||0,r=t+e.getActualWidth(),n=this.viewportLeft-200,i=this.viewportRight+200,o=t<n&&r<n,s=t>i&&r>i;return!o&&!s}getViewportColumns(){const{leftCols:e,rightCols:t}=this.visibleCols;return this.colsWithinViewport.concat(e).concat(t)}getColsWithinViewport(e){if(!this.colModel.colSpanActive)return this.colsWithinViewport;const t=o=>{const s=o.getLeft();return Le(s)&&s>this.viewportLeft},r=this.isColumnVirtualisationSuppressed()?void 0:this.isColumnInRowViewport.bind(this),{visibleCols:n}=this,i=n.centerCols;return n.getColsForRow(e,i,r,t)}checkViewportColumns(e=!1){this.extractViewport()&&this.eventSvc.dispatchEvent({type:"virtualColumnsChanged",afterScroll:e})}calculateHeaderRows(){const{leftCols:e,rightCols:t}=this.visibleCols;this.columnsToRenderLeft=e,this.columnsToRenderRight=t,this.columnsToRenderCenter=this.colsWithinViewport;const r=n=>{const i=new Set,o={};for(const s of n){let a=s.getParent();const l=s.isSpanHeaderHeight();for(;a&&!i.has(a);){if(l&&a.isPadding()){a=a.getParent();continue}const c=a.getProvidedColumnGroup().getLevel();o[c]??(o[c]=[]),o[c].push(a),i.add(a),a=a.getParent()}}return o};this.rowsOfHeadersToRenderLeft=r(e),this.rowsOfHeadersToRenderRight=r(t),this.rowsOfHeadersToRenderCenter=r(this.headerColsWithinViewport)}extractViewport(){const e=n=>`${n.getId()}-${n.getPinned()||"normal"}`;this.extractViewportColumns();const t=this.getViewportColumns().map(e).join("#"),r=this.colsWithinViewportHash!==t;return r&&(this.colsWithinViewportHash=t,this.calculateHeaderRows()),r}};function CP(e){for(;e;){if(e.isAutoHeaderHeight())return!0;e=e.getParent()}return!1}var FP=class extends ve{constructor(){super(...arguments),this.beanName="agCompUtils"}adaptFunction(e,t){if(!e.cellRenderer)return null;class r{refresh(){return!1}getGui(){return this.eGui}init(i){const o=t(i),s=typeof o;if(s==="string"||s==="number"||s==="boolean"){this.eGui=Zf("<span>"+o+"</span>");return}if(o==null){this.eGui=Pr({tag:"span"});return}this.eGui=o}}return r}},SP={moduleName:"CellRendererFunction",version:Me,beans:[FP]},xP=class extends ZT{constructor(){super(...arguments),this.agGridDefaults={},this.agGridDefaultOverrides={},this.jsComps={},this.selectors={},this.icons={}}postConstruct(){const e=this.gos.get("components");if(e!=null)for(const t of Object.keys(e))this.jsComps[t]=e[t]}registerModule(e){const{icons:t,userComponents:r,dynamicBeans:n,selectors:i}=e;if(r){const o=(s,a,l,u)=>{this.agGridDefaults[s]=a,(l||u)&&(this.agGridDefaultOverrides[s]={params:l,processParams:u})};for(const s of Object.keys(r)){let a=r[s];if(J4(a)&&(a=a.getComp(this.beans)),typeof a=="object"){const{classImp:l,params:u,processParams:c}=a;o(s,l,u,c)}else o(s,a)}}this.registerDynamicBeans(n);for(const o of i??[])this.selectors[o.selector]=o;if(t)for(const o of Object.keys(t))this.icons[o]=t[o]}getUserComponent(e,t){const r=(a,l,u,c)=>({componentFromFramework:l,component:a,params:u,processParams:c}),{frameworkOverrides:n}=this.beans,i=n.frameworkComponent(t,this.gos.get("components"));if(i!=null)return r(i,!0);const o=this.jsComps[t];if(o){const a=n.isFrameworkComponent(o);return r(o,a)}const s=this.agGridDefaults[t];if(s){const a=this.agGridDefaultOverrides[t];return r(s,!1,a?.params,a?.processParams)}return this.beans.validation?.missingUserComponent(e,t,this.agGridDefaults,this.jsComps),null}getSelector(e){return this.selectors[e]}getIcon(e){return this.icons[e]}getDynamicError(e,t){return t?An(279,{name:e}):this.beans.validation?.missingDynamicBean(e)??An(256)}},kP=23,EP=class extends ve{constructor(){super(...arguments),this.beanName="ctrlsSvc",this.params={},this.ready=!1,this.readyCallbacks=[]}postConstruct(){this.addEventListener("ready",()=>{if(this.updateReady(),this.ready){for(const e of this.readyCallbacks)e(this.params);this.readyCallbacks.length=0}},this.beans.frameworkOverrides.runWhenReadyAsync?.()??!1)}updateReady(){const e=Object.values(this.params);this.ready=e.length===kP&&e.every(t=>t?.isAlive()??!1)}whenReady(e,t){this.ready?t(this.params):this.readyCallbacks.push(t),e.addDestroyFunc(()=>{const r=this.readyCallbacks.indexOf(t);r>=0&&this.readyCallbacks.splice(r,1)})}register(e,t){this.params[e]=t,this.updateReady(),this.ready&&this.dispatchLocalEvent({type:"ready"}),t.addDestroyFunc(()=>{this.updateReady()})}get(e){return this.params[e]}getGridBodyCtrl(){return this.params.gridBodyCtrl}getHeaderRowContainerCtrls(){const{leftHeader:e,centerHeader:t,rightHeader:r}=this.params;return[e,r,t]}getHeaderRowContainerCtrl(e){const t=this.params;switch(e){case"left":return t.leftHeader;case"right":return t.rightHeader;default:return t.centerHeader}}getScrollFeature(){return this.getGridBodyCtrl().scrollFeature}},RP='.ag-aria-description-container{border:0;z-index:9999;clip:rect(1px,1px,1px,1px);height:1px;overflow:hidden;padding:0;position:absolute;white-space:nowrap;width:1px}.ag-unselectable{-webkit-user-select:none;-moz-user-select:none;user-select:none}.ag-selectable{-webkit-user-select:text;-moz-user-select:text;user-select:text}.ag-tab-guard{display:block;height:0;position:absolute;width:0}:where(.ag-virtual-list-viewport) .ag-tab-guard{position:sticky}.ag-tab-guard-top{top:1px}.ag-tab-guard-bottom{bottom:1px}.ag-shake-left-to-right{animation-direction:alternate;animation-duration:.2s;animation-iteration-count:infinite;animation-name:ag-shake-left-to-right}@keyframes ag-shake-left-to-right{0%{padding-left:6px;padding-right:2px}to{padding-left:2px;padding-right:6px}}.ag-body-horizontal-scroll-viewport,.ag-body-vertical-scroll-viewport,.ag-body-viewport,.ag-center-cols-viewport,.ag-floating-bottom-viewport,.ag-floating-top-viewport,.ag-header-viewport,.ag-sticky-bottom-viewport,.ag-sticky-top-viewport,.ag-virtual-list-viewport{flex:1 1 auto;height:100%;min-width:0;overflow:hidden;position:relative}.ag-viewport{position:relative}.ag-spanning-container{position:absolute;top:0;z-index:1}.ag-body-viewport,.ag-center-cols-viewport,.ag-floating-bottom-viewport,.ag-floating-top-viewport,.ag-header-viewport,.ag-sticky-bottom-viewport,.ag-sticky-top-viewport{overflow-x:auto;-ms-overflow-style:none!important;scrollbar-width:none!important;&::-webkit-scrollbar{display:none!important}}.ag-body-viewport{display:flex;overflow-x:hidden;&:where(.ag-layout-normal){overflow-y:auto;-webkit-overflow-scrolling:touch}}.ag-floating-bottom-container,.ag-floating-top-container,.ag-sticky-bottom-container,.ag-sticky-top-container{min-height:1px}.ag-center-cols-viewport{min-height:100%;width:100%}.ag-body-horizontal-scroll-viewport{overflow-x:scroll}.ag-body-vertical-scroll-viewport{overflow-y:scroll}.ag-virtual-list-viewport{overflow:auto;width:100%}.ag-body-container,.ag-body-horizontal-scroll-container,.ag-body-vertical-scroll-container,.ag-center-cols-container,.ag-floating-bottom-container,.ag-floating-bottom-full-width-container,.ag-floating-top-container,.ag-full-width-container,.ag-header-container,.ag-pinned-left-cols-container,.ag-pinned-right-cols-container,.ag-sticky-bottom-container,.ag-sticky-top-container,.ag-virtual-list-container{position:relative}.ag-floating-bottom-container,.ag-floating-top-container,.ag-header-container,.ag-pinned-left-floating-bottom,.ag-pinned-left-floating-top,.ag-pinned-right-floating-bottom,.ag-pinned-right-floating-top,.ag-sticky-bottom-container,.ag-sticky-top-container{height:100%;white-space:nowrap}.ag-center-cols-container,.ag-pinned-right-cols-container{display:block}.ag-body-horizontal-scroll-container{height:100%}.ag-body-vertical-scroll-container{width:100%}.ag-floating-bottom-full-width-container,.ag-floating-top-full-width-container,.ag-full-width-container,.ag-sticky-bottom-full-width-container,.ag-sticky-top-full-width-container{pointer-events:none;position:absolute;top:0}:where(.ag-ltr) .ag-floating-bottom-full-width-container,:where(.ag-ltr) .ag-floating-top-full-width-container,:where(.ag-ltr) .ag-full-width-container,:where(.ag-ltr) .ag-sticky-bottom-full-width-container,:where(.ag-ltr) .ag-sticky-top-full-width-container{left:0}:where(.ag-rtl) .ag-floating-bottom-full-width-container,:where(.ag-rtl) .ag-floating-top-full-width-container,:where(.ag-rtl) .ag-full-width-container,:where(.ag-rtl) .ag-sticky-bottom-full-width-container,:where(.ag-rtl) .ag-sticky-top-full-width-container{right:0}.ag-full-width-container{width:100%}.ag-floating-bottom-full-width-container,.ag-floating-top-full-width-container{display:inline-block;height:100%;overflow:hidden;width:100%}.ag-virtual-list-container{overflow:hidden}.ag-body{display:flex;flex:1 1 auto;flex-direction:row!important;min-height:0;position:relative}.ag-body-horizontal-scroll,.ag-body-vertical-scroll{display:flex;min-height:0;min-width:0;position:relative;&:where(.ag-scrollbar-invisible){bottom:0;position:absolute;&:where(.ag-apple-scrollbar){opacity:0;transition:opacity .4s;visibility:hidden;&:where(.ag-scrollbar-scrolling,.ag-scrollbar-active){opacity:1;visibility:visible}}}}.ag-body-horizontal-scroll{width:100%;&:where(.ag-scrollbar-invisible){left:0;right:0}}.ag-body-vertical-scroll{height:100%;&:where(.ag-scrollbar-invisible){top:0;z-index:10}}:where(.ag-ltr) .ag-body-vertical-scroll{&:where(.ag-scrollbar-invisible){right:0}}:where(.ag-rtl) .ag-body-vertical-scroll{&:where(.ag-scrollbar-invisible){left:0}}.ag-force-vertical-scroll{overflow-y:scroll!important}.ag-horizontal-left-spacer,.ag-horizontal-right-spacer{height:100%;min-width:0;overflow-x:scroll;&:where(.ag-scroller-corner){overflow-x:hidden}}:where(.ag-row-animation) .ag-row{transition:transform .4s,top .4s,opacity .2s;&:where(.ag-after-created){transition:transform .4s,top .4s,height .4s,opacity .2s}}:where(.ag-row-animation.ag-prevent-animation) .ag-row{transition:none!important;&:where(.ag-row.ag-after-created){transition:none!important}}:where(.ag-row-no-animation) .ag-row{transition:none}.ag-row-loading{align-items:center;display:flex}.ag-row-position-absolute{position:absolute}.ag-row-position-relative{position:relative}.ag-full-width-row{overflow:hidden;pointer-events:all}.ag-row-inline-editing{z-index:1}.ag-row-dragging{z-index:2}.ag-stub-cell{align-items:center;display:flex}.ag-cell{display:inline-block;height:100%;position:absolute;white-space:nowrap;&:focus-visible{box-shadow:none}}.ag-cell-value{flex:1 1 auto}.ag-cell-value:not(.ag-allow-overflow),.ag-group-value{overflow:hidden;text-overflow:ellipsis}.ag-cell-wrap-text{white-space:normal;word-break:break-word}:where(.ag-cell) .ag-icon{display:inline-block;vertical-align:middle}.ag-floating-top{display:flex;overflow:hidden;position:relative;white-space:nowrap;width:100%}:where(.ag-floating-top:not(.ag-invisible)){border-bottom:var(--ag-pinned-row-border)}.ag-floating-bottom{display:flex;overflow:hidden;position:relative;white-space:nowrap;width:100%}:where(.ag-floating-bottom:not(.ag-invisible)){border-top:var(--ag-pinned-row-border)}.ag-sticky-bottom,.ag-sticky-top{background-color:var(--ag-data-background-color);display:flex;height:0;overflow:hidden;position:absolute;width:100%;z-index:1}.ag-opacity-zero{opacity:0!important}.ag-cell-label-container{align-items:center;display:flex;flex-direction:row-reverse;height:100%;justify-content:space-between;width:100%}:where(.ag-right-aligned-header){.ag-cell-label-container{flex-direction:row}.ag-header-cell-text{text-align:end}}.ag-column-group-icons{display:block;>*{cursor:pointer}}:where(.ag-ltr){direction:ltr;.ag-body,.ag-body-horizontal-scroll,.ag-body-viewport,.ag-floating-bottom,.ag-floating-top,.ag-header,.ag-sticky-bottom,.ag-sticky-top{flex-direction:row}}:where(.ag-rtl){direction:rtl;text-align:right;.ag-body,.ag-body-horizontal-scroll,.ag-body-viewport,.ag-floating-bottom,.ag-floating-top,.ag-header,.ag-sticky-bottom,.ag-sticky-top{flex-direction:row-reverse}.ag-icon-contracted,.ag-icon-expanded,.ag-icon-tree-closed{display:block}}:where(.ag-rtl){.ag-icon-contracted,.ag-icon-expanded,.ag-icon-tree-closed{transform:rotate(180deg)}}:where(.ag-rtl){.ag-icon-contracted,.ag-icon-expanded,.ag-icon-tree-closed{transform:rotate(-180deg)}}.ag-measurement-container{height:0;overflow:hidden;visibility:hidden;width:0}.ag-measurement-element-border{display:inline-block;&:before{border-left:var(--ag-internal-measurement-border);content:"";display:block}}.ag-group{position:relative;width:100%}.ag-group-title-bar{align-items:center;display:flex;padding:var(--ag-spacing)}.ag-group-title{display:inline;min-width:0;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}:where(.ag-group-title-bar) .ag-group-title{cursor:default}.ag-group-toolbar{align-items:center;display:flex;padding:var(--ag-spacing)}.ag-group-container{display:flex}.ag-disabled .ag-group-container{pointer-events:none}.ag-disabled-group-container,.ag-disabled-group-title-bar{opacity:.5}.ag-group-container-horizontal{flex-flow:row wrap}.ag-group-container-vertical{flex-direction:column}.ag-group-title-bar-icon{cursor:pointer;flex:none}:where(.ag-ltr) .ag-group-title-bar-icon{margin-right:var(--ag-spacing)}:where(.ag-rtl) .ag-group-title-bar-icon{margin-left:var(--ag-spacing)}:where(.ag-group-item-alignment-stretch) .ag-group-item{align-items:stretch}:where(.ag-group-item-alignment-start) .ag-group-item{align-items:flex-start}:where(.ag-group-item-alignment-end) .ag-group-item{align-items:flex-end}:where(.ag-ltr) .ag-row:not(.ag-row-level-0) .ag-pivot-leaf-group{margin-left:var(--ag-row-group-indent-size)}:where(.ag-rtl) .ag-row:not(.ag-row-level-0) .ag-pivot-leaf-group{margin-right:var(--ag-row-group-indent-size)}:where(.ag-ltr) .ag-row-group-leaf-indent{margin-left:calc(var(--ag-cell-widget-spacing) + var(--ag-icon-size))}:where(.ag-rtl) .ag-row-group-leaf-indent{margin-right:calc(var(--ag-cell-widget-spacing) + var(--ag-icon-size))}.ag-value-change-delta{padding:0 2px}.ag-value-change-delta-up{color:var(--ag-value-change-delta-up-color)}.ag-value-change-delta-down{color:var(--ag-value-change-delta-down-color)}.ag-value-change-value{background-color:transparent;border-radius:1px;padding-left:1px;padding-right:1px;transition:background-color 1s}.ag-value-change-value-highlight{background-color:var(--ag-value-change-value-highlight-background-color);transition:background-color .1s}.ag-cell-data-changed{background-color:var(--ag-value-change-value-highlight-background-color)!important}.ag-cell-data-changed-animation{background-color:transparent}.ag-cell-highlight{background-color:var(--ag-range-selection-highlight-color)!important}.ag-row,.ag-spanned-row{color:var(--ag-cell-text-color);font-family:var(--ag-cell-font-family);font-size:var(--ag-data-font-size);white-space:nowrap;--ag-internal-content-line-height:calc(min(var(--ag-row-height), var(--ag-line-height, 1000px)) - var(--ag-internal-row-border-width, 1px) - 2px)}.ag-row{background-color:var(--ag-data-background-color);border-bottom:var(--ag-row-border);height:var(--ag-row-height);width:100%;&.ag-row-editing-invalid{background-color:var(--ag-full-row-edit-invalid-background-color)}}:where(.ag-body-vertical-content-no-gap>div>div>div,.ag-body-vertical-content-no-gap>div>div>div>div)>.ag-row-last{border-bottom-color:transparent}.ag-sticky-bottom{border-top:var(--ag-row-border);box-sizing:content-box!important}.ag-group-contracted,.ag-group-expanded{cursor:pointer}.ag-cell,.ag-full-width-row .ag-cell-wrapper.ag-row-group{border:1px solid transparent;line-height:var(--ag-internal-content-line-height);-webkit-font-smoothing:subpixel-antialiased}:where(.ag-ltr) .ag-cell{border-right:var(--ag-column-border)}:where(.ag-rtl) .ag-cell{border-left:var(--ag-column-border)}.ag-spanned-cell-wrapper{background-color:var(--ag-data-background-color);position:absolute}.ag-spanned-cell-wrapper>.ag-spanned-cell{display:block;position:relative}:where(.ag-ltr) :where(.ag-body-horizontal-content-no-gap) .ag-column-last{border-right-color:transparent}:where(.ag-rtl) :where(.ag-body-horizontal-content-no-gap) .ag-column-last{border-left-color:transparent}.ag-cell-wrapper{align-items:center;display:flex;>:where(:not(.ag-cell-value,.ag-group-value)){align-items:center;display:flex;height:var(--ag-internal-content-line-height)}&:where(.ag-row-group){align-items:flex-start}:where(.ag-full-width-row) &:where(.ag-row-group){align-items:center;height:100%}}:where(.ag-ltr) .ag-cell-wrapper{padding-left:calc(var(--ag-indentation-level)*var(--ag-row-group-indent-size))}:where(.ag-rtl) .ag-cell-wrapper{padding-right:calc(var(--ag-indentation-level)*var(--ag-row-group-indent-size))}:where(.ag-cell-wrap-text:not(.ag-cell-auto-height)) .ag-cell-wrapper{align-items:normal;height:100%;:where(.ag-cell-value){height:100%}}:where(.ag-ltr) .ag-row>.ag-cell-wrapper.ag-row-group{padding-left:calc(var(--ag-cell-horizontal-padding) + var(--ag-row-group-indent-size)*var(--ag-indentation-level))}:where(.ag-rtl) .ag-row>.ag-cell-wrapper.ag-row-group{padding-right:calc(var(--ag-cell-horizontal-padding) + var(--ag-row-group-indent-size)*var(--ag-indentation-level))}.ag-cell-focus:not(.ag-cell-range-selected):focus-within,.ag-cell-range-single-cell,.ag-cell-range-single-cell.ag-cell-range-handle,.ag-context-menu-open .ag-cell-focus:not(.ag-cell-range-selected),.ag-context-menu-open .ag-full-width-row.ag-row-focus .ag-cell-wrapper.ag-row-group,.ag-full-width-row.ag-row-focus:focus .ag-cell-wrapper.ag-row-group{border:1px solid;border-color:var(--ag-range-selection-border-color);border-style:var(--ag-range-selection-border-style);outline:initial}.ag-full-width-row.ag-row-focus:focus{box-shadow:none}:where(.ag-ltr) .ag-group-contracted,:where(.ag-ltr) .ag-group-expanded,:where(.ag-ltr) .ag-row-drag,:where(.ag-ltr) .ag-selection-checkbox{margin-right:var(--ag-cell-widget-spacing)}:where(.ag-rtl) .ag-group-contracted,:where(.ag-rtl) .ag-group-expanded,:where(.ag-rtl) .ag-row-drag,:where(.ag-rtl) .ag-selection-checkbox{margin-left:var(--ag-cell-widget-spacing)}:where(.ag-ltr) .ag-group-child-count{margin-left:3px}:where(.ag-rtl) .ag-group-child-count{margin-right:3px}.ag-row-highlight-above:after,.ag-row-highlight-below:after,.ag-row-highlight-inside:after{background-color:var(--ag-range-selection-border-color);content:"";height:1px;pointer-events:none;position:absolute;width:calc(100% - 1px)}:where(.ag-ltr) .ag-row-highlight-above:after,:where(.ag-ltr) .ag-row-highlight-below:after,:where(.ag-ltr) .ag-row-highlight-inside:after{left:1px}:where(.ag-rtl) .ag-row-highlight-above:after,:where(.ag-rtl) .ag-row-highlight-below:after,:where(.ag-rtl) .ag-row-highlight-inside:after{right:1px}.ag-row-highlight-above:after{top:0}.ag-row-highlight-below:after{bottom:0}.ag-row-highlight-indent:after{display:block;width:auto}:where(.ag-ltr) .ag-row-highlight-indent:after{left:calc((var(--ag-cell-widget-spacing) + var(--ag-icon-size))*2 + var(--ag-cell-horizontal-padding) + var(--ag-row-highlight-level)*var(--ag-row-group-indent-size));right:1px}:where(.ag-rtl) .ag-row-highlight-indent:after{left:1px;right:calc((var(--ag-cell-widget-spacing) + var(--ag-icon-size))*2 + var(--ag-cell-horizontal-padding) + var(--ag-row-highlight-level)*var(--ag-row-group-indent-size))}.ag-row-highlight-inside:after{background-color:var(--ag-selected-row-background-color);border:1px solid var(--ag-range-selection-border-color);display:block;height:auto;inset:0;width:auto}.ag-body,.ag-floating-bottom,.ag-floating-top{background-color:var(--ag-data-background-color)}.ag-row-odd{background-color:var(--ag-odd-row-background-color)}.ag-row-selected:before{background-color:var(--ag-selected-row-background-color);content:"";display:block;inset:0;pointer-events:none;position:absolute}.ag-row-hover.ag-full-width-row.ag-row-group:before,.ag-row-hover:not(.ag-full-width-row):before{background-color:var(--ag-row-hover-color);content:"";display:block;inset:0;pointer-events:none;position:absolute}.ag-row-hover.ag-row-selected:before{background-color:var(--ag-row-hover-color);background-image:linear-gradient(var(--ag-selected-row-background-color),var(--ag-selected-row-background-color))}.ag-row.ag-full-width-row.ag-row-group>*{position:relative}.ag-column-hover{background-color:var(--ag-column-hover-color)}.ag-header-range-highlight{background-color:var(--ag-range-header-highlight-color)}.ag-right-aligned-cell{font-variant-numeric:tabular-nums}:where(.ag-ltr) .ag-right-aligned-cell{text-align:right}:where(.ag-rtl) .ag-right-aligned-cell{text-align:left}.ag-right-aligned-cell .ag-cell-value,.ag-right-aligned-cell .ag-group-value{margin-left:auto}:where(.ag-ltr) .ag-cell:not(.ag-cell-inline-editing),:where(.ag-ltr) .ag-full-width-row .ag-cell-wrapper.ag-row-group{padding-left:calc(var(--ag-cell-horizontal-padding) - 1px + var(--ag-row-group-indent-size)*var(--ag-indentation-level));padding-right:calc(var(--ag-cell-horizontal-padding) - 1px)}:where(.ag-rtl) .ag-cell:not(.ag-cell-inline-editing),:where(.ag-rtl) .ag-full-width-row .ag-cell-wrapper.ag-row-group{padding-left:calc(var(--ag-cell-horizontal-padding) - 1px);padding-right:calc(var(--ag-cell-horizontal-padding) - 1px + var(--ag-row-group-indent-size)*var(--ag-indentation-level))}.ag-row>.ag-cell-wrapper{padding-left:calc(var(--ag-cell-horizontal-padding) - 1px);padding-right:calc(var(--ag-cell-horizontal-padding) - 1px)}.ag-row-dragging{cursor:move;opacity:.5}.ag-details-row{background-color:var(--ag-data-background-color);padding:calc(var(--ag-spacing)*3.75)}.ag-layout-auto-height,.ag-layout-print{.ag-center-cols-container,.ag-center-cols-viewport{min-height:150px}}.ag-overlay-loading-wrapper{background-color:var(--ag-modal-overlay-background-color)}.ag-skeleton-container{align-content:center;height:100%;width:100%}.ag-skeleton-effect{animation:ag-skeleton-loading 1.5s ease-in-out .5s infinite;background-color:var(--ag-row-loading-skeleton-effect-color);border-radius:.25rem;height:1em;width:100%}:where(.ag-ltr) .ag-right-aligned-cell .ag-skeleton-effect{margin-left:auto}:where(.ag-rtl) .ag-right-aligned-cell .ag-skeleton-effect{margin-right:auto}@keyframes ag-skeleton-loading{0%{background-color:var(--ag-row-loading-skeleton-effect-color)}50%{background-color:color-mix(in srgb,transparent,var(--ag-row-loading-skeleton-effect-color) 40%)}to{background-color:var(--ag-row-loading-skeleton-effect-color)}}.ag-loading{align-items:center;display:flex;height:100%}:where(.ag-ltr) .ag-loading{padding-left:var(--ag-cell-horizontal-padding)}:where(.ag-rtl) .ag-loading{padding-right:var(--ag-cell-horizontal-padding)}:where(.ag-ltr) .ag-loading-icon{padding-right:var(--ag-cell-widget-spacing)}:where(.ag-rtl) .ag-loading-icon{padding-left:var(--ag-cell-widget-spacing)}.ag-icon-loading{animation-duration:1s;animation-iteration-count:infinite;animation-name:spin;animation-timing-function:linear}@keyframes spin{0%{transform:rotate(0deg)}to{transform:rotate(1turn)}}.ag-header{background-color:var(--ag-header-background-color);border-bottom:var(--ag-header-row-border);color:var(--ag-header-text-color);display:flex;font-family:var(--ag-header-font-family);font-size:var(--ag-header-font-size);font-weight:var(--ag-header-font-weight);overflow:hidden;white-space:nowrap;width:100%}.ag-header-row{height:var(--ag-header-height);position:absolute}.ag-floating-filter-button-button,.ag-header-cell-filter-button,.ag-header-cell-menu-button,.ag-header-expand-icon,.ag-panel-title-bar-button,:where(.ag-header-cell-sortable) .ag-header-cell-label{cursor:pointer}:where(.ag-ltr) .ag-header-expand-icon{margin-left:4px}:where(.ag-rtl) .ag-header-expand-icon{margin-right:4px}.ag-header-row:where(:not(:first-child)){:where(.ag-header-cell:not(.ag-header-span-height.ag-header-span-total,.ag-header-parent-hidden),.ag-header-group-cell.ag-header-group-cell-with-group){border-top:var(--ag-header-row-border)}}.ag-header-row:where(:not(.ag-header-row-column-group)){overflow:hidden}:where(.ag-header.ag-header-allow-overflow) .ag-header-row{overflow:visible}.ag-header-cell{display:inline-flex;overflow:hidden}.ag-header-group-cell{contain:paint;display:flex}.ag-header-cell,.ag-header-group-cell{align-items:center;gap:var(--ag-cell-widget-spacing);height:100%;padding:0 var(--ag-cell-horizontal-padding);position:absolute}@property --ag-internal-moving-color{syntax:"<color>";inherits:false;initial-value:transparent}@property --ag-internal-hover-color{syntax:"<color>";inherits:false;initial-value:transparent}.ag-header-cell:where(:not(.ag-floating-filter)),.ag-header-group-cell{&:before{background-image:linear-gradient(var(--ag-internal-hover-color),var(--ag-internal-hover-color)),linear-gradient(var(--ag-internal-moving-color),var(--ag-internal-moving-color));content:"";inset:0;position:absolute;--ag-internal-moving-color:transparent;--ag-internal-hover-color:transparent;transition:--ag-internal-moving-color var(--ag-header-cell-background-transition-duration),--ag-internal-hover-color var(--ag-header-cell-background-transition-duration)}&:where(:hover):before{--ag-internal-hover-color:var(--ag-header-cell-hover-background-color)}&:where(.ag-header-cell-moving):before{--ag-internal-moving-color:var(--ag-header-cell-moving-background-color);--ag-internal-hover-color:var(--ag-header-cell-hover-background-color)}}:where(.ag-header-cell:not(.ag-floating-filter) *,.ag-header-group-cell *){position:relative;z-index:1}.ag-header-cell-menu-button:where(:not(.ag-header-menu-always-show)){opacity:0;transition:opacity .2s}.ag-header-cell-filter-button,:where(.ag-header-cell.ag-header-active) .ag-header-cell-menu-button{opacity:1}.ag-header-cell-label,.ag-header-group-cell-label{align-items:center;align-self:stretch;display:flex;flex:1 1 auto;overflow:hidden;padding:5px 0}:where(.ag-ltr) .ag-sort-indicator-icon{padding-left:var(--ag-spacing)}:where(.ag-rtl) .ag-sort-indicator-icon{padding-right:var(--ag-spacing)}.ag-header-cell-label{text-overflow:ellipsis}.ag-header-group-cell-label.ag-sticky-label{flex:none;max-width:100%;overflow:visible;position:sticky}:where(.ag-ltr) .ag-header-group-cell-label.ag-sticky-label{left:var(--ag-cell-horizontal-padding)}:where(.ag-rtl) .ag-header-group-cell-label.ag-sticky-label{right:var(--ag-cell-horizontal-padding)}.ag-header-cell-text,.ag-header-group-text{overflow:hidden;text-overflow:ellipsis}.ag-header-cell-text{word-break:break-word}.ag-header-cell-comp-wrapper{width:100%}:where(.ag-header-group-cell) .ag-header-cell-comp-wrapper{display:flex}:where(.ag-header-cell:not(.ag-header-cell-auto-height)) .ag-header-cell-comp-wrapper{align-items:center;display:flex;height:100%}.ag-header-cell-wrap-text .ag-header-cell-comp-wrapper{white-space:normal}.ag-header-cell-comp-wrapper-limited-height>*{overflow:hidden}:where(.ag-right-aligned-header) .ag-header-cell-label{flex-direction:row-reverse}:where(.ag-ltr) :where(.ag-header-cell:not(.ag-right-aligned-header)){.ag-header-label-icon,.ag-header-menu-icon{margin-left:var(--ag-spacing)}}:where(.ag-rtl) :where(.ag-header-cell:not(.ag-right-aligned-header)){.ag-header-label-icon,.ag-header-menu-icon{margin-right:var(--ag-spacing)}}:where(.ag-ltr) :where(.ag-header-cell.ag-right-aligned-header){.ag-header-label-icon,.ag-header-menu-icon{margin-right:var(--ag-spacing)}}:where(.ag-rtl) :where(.ag-header-cell.ag-right-aligned-header){.ag-header-label-icon,.ag-header-menu-icon{margin-left:var(--ag-spacing)}}.ag-header-cell:after,.ag-header-group-cell:where(:not(.ag-header-span-height.ag-header-group-cell-no-group)):after{content:"";height:var(--ag-header-column-border-height);position:absolute;top:calc(50% - var(--ag-header-column-border-height)*.5);z-index:1}:where(.ag-ltr) .ag-header-cell:after,:where(.ag-ltr) .ag-header-group-cell:where(:not(.ag-header-span-height.ag-header-group-cell-no-group)):after{border-right:var(--ag-header-column-border);right:0}:where(.ag-rtl) .ag-header-cell:after,:where(.ag-rtl) .ag-header-group-cell:where(:not(.ag-header-span-height.ag-header-group-cell-no-group)):after{border-left:var(--ag-header-column-border);left:0}.ag-header-highlight-after:after,.ag-header-highlight-before:after{background-color:var(--ag-accent-color);content:"";height:100%;position:absolute;width:1px}:where(.ag-ltr) .ag-header-highlight-before:after{left:0}:where(.ag-rtl) .ag-header-highlight-before:after{right:0}:where(.ag-ltr) .ag-header-highlight-after:after{right:0;:where(.ag-pinned-left-header) &{right:1px}}:where(.ag-rtl) .ag-header-highlight-after:after{left:0;:where(.ag-pinned-left-header) &{left:1px}}.ag-header-cell-resize{align-items:center;cursor:ew-resize;display:flex;height:100%;position:absolute;top:0;width:8px;z-index:2;&:after{background-color:var(--ag-header-column-resize-handle-color);content:"";height:var(--ag-header-column-resize-handle-height);position:absolute;top:calc(50% - var(--ag-header-column-resize-handle-height)*.5);width:var(--ag-header-column-resize-handle-width);z-index:1}}:where(.ag-ltr) .ag-header-cell-resize{right:-3px;&:after{left:calc(50% - var(--ag-header-column-resize-handle-width))}}:where(.ag-rtl) .ag-header-cell-resize{left:-3px;&:after{right:calc(50% - var(--ag-header-column-resize-handle-width))}}:where(.ag-header-cell.ag-header-span-height) .ag-header-cell-resize:after{height:calc(100% - var(--ag-spacing)*4);top:calc(var(--ag-spacing)*2)}.ag-header-group-cell-no-group:where(.ag-header-span-height){display:none}.ag-sort-indicator-container{display:flex;gap:var(--ag-spacing)}.ag-layout-print{&.ag-body{display:block;height:unset}&.ag-root-wrapper{display:inline-block}.ag-body-horizontal-scroll,.ag-body-vertical-scroll{display:none}&.ag-force-vertical-scroll{overflow-y:visible!important}}@media print{.ag-root-wrapper.ag-layout-print{display:table;.ag-body-horizontal-scroll-viewport,.ag-body-viewport,.ag-center-cols-container,.ag-center-cols-viewport,.ag-root,.ag-root-wrapper-body,.ag-virtual-list-viewport{display:block!important;height:auto!important;overflow:hidden!important}.ag-cell,.ag-row{-moz-column-break-inside:avoid;break-inside:avoid}}}ag-grid,ag-grid-angular{display:block}.ag-root-wrapper{border:var(--ag-wrapper-border);border-radius:var(--ag-wrapper-border-radius);display:flex;flex-direction:column;overflow:hidden;position:relative;&.ag-layout-normal{height:100%}}.ag-root-wrapper-body{display:flex;flex-direction:row;&.ag-layout-normal{flex:1 1 auto;height:0;min-height:0}}.ag-root{display:flex;flex-direction:column;position:relative;&.ag-layout-auto-height,&.ag-layout-normal{flex:1 1 auto;overflow:hidden;width:0}&.ag-layout-normal{height:100%}}.ag-virtual-list-item{height:var(--ag-list-item-height);position:absolute;width:100%}.ag-list-item-hovered:after{background-color:var(--ag-accent-color);content:"";height:1px;left:0;position:absolute;right:0}.ag-item-highlight-top:after{top:0}.ag-item-highlight-bottom:after{bottom:0}.ag-drag-handle{color:var(--ag-drag-handle-color);cursor:grab;:where(.ag-icon){color:var(--ag-drag-handle-color)}}.ag-chart-menu-icon,.ag-chart-settings-next,.ag-chart-settings-prev,.ag-column-group-icons,.ag-column-select-header-icon,.ag-filter-toolpanel-expand,.ag-floating-filter-button-button,.ag-group-title-bar-icon,.ag-header-cell-filter-button,.ag-header-cell-menu-button,.ag-header-expand-icon,.ag-panel-title-bar-button,.ag-panel-title-bar-button-icon,.ag-set-filter-group-icons,:where(.ag-group-contracted) .ag-icon,:where(.ag-group-expanded) .ag-icon{background-color:var(--ag-icon-button-background-color);border-radius:var(--ag-icon-button-border-radius);box-shadow:0 0 0 var(--ag-icon-button-background-spread) var(--ag-icon-button-background-color);color:var(--ag-icon-button-color);&:hover{background-color:var(--ag-icon-button-hover-background-color);box-shadow:0 0 0 var(--ag-icon-button-background-spread) var(--ag-icon-button-hover-background-color);color:var(--ag-icon-button-hover-color)}}.ag-filter-active{background-image:linear-gradient(var(--ag-icon-button-active-background-color),var(--ag-icon-button-active-background-color));border-radius:1px;outline:solid var(--ag-icon-button-background-spread) var(--ag-icon-button-active-background-color);position:relative;&:after{background-color:var(--ag-icon-button-active-indicator-color);border-radius:50%;content:"";height:6px;position:absolute;top:-1px;width:6px}:where(.ag-icon-filter){clip-path:path("M8,0C8,4.415 11.585,8 16,8L16,16L0,16L0,0L8,0Z");color:var(--ag-icon-button-active-color)}}:where(.ag-ltr) .ag-filter-active{&:after{right:-1px}}:where(.ag-rtl) .ag-filter-active{&:after{left:-1px}}.ag-menu{background-color:var(--ag-menu-background-color);border:var(--ag-menu-border);border-radius:var(--ag-border-radius);box-shadow:var(--ag-menu-shadow);color:var(--ag-menu-text-color);max-height:100%;overflow-y:auto;position:absolute;-webkit-user-select:none;-moz-user-select:none;user-select:none}',_P={wrapperBorder:!0,rowBorder:!0,headerRowBorder:!0,footerRowBorder:{ref:"rowBorder"},columnBorder:{style:"solid",width:1,color:"transparent"},headerColumnBorder:!1,headerColumnBorderHeight:"100%",pinnedColumnBorder:!0,pinnedRowBorder:!0,sidePanelBorder:!0,sideBarPanelWidth:250,sideBarBackgroundColor:{ref:"chromeBackgroundColor"},sideButtonBarBackgroundColor:{ref:"sideBarBackgroundColor"},sideButtonBarTopPadding:0,sideButtonSelectedUnderlineWidth:2,sideButtonSelectedUnderlineColor:"transparent",sideButtonSelectedUnderlineTransitionDuration:0,sideButtonBackgroundColor:"transparent",sideButtonTextColor:{ref:"textColor"},sideButtonHoverBackgroundColor:{ref:"sideButtonBackgroundColor"},sideButtonHoverTextColor:{ref:"sideButtonTextColor"},sideButtonSelectedBackgroundColor:Or,sideButtonSelectedTextColor:{ref:"sideButtonTextColor"},sideButtonBorder:"solid 1px transparent",sideButtonSelectedBorder:!0,sideButtonLeftPadding:{ref:"spacing"},sideButtonRightPadding:{ref:"spacing"},sideButtonVerticalPadding:{calc:"spacing * 3"},headerBackgroundColor:{ref:"chromeBackgroundColor"},headerFontFamily:{ref:"fontFamily"},cellFontFamily:{ref:"fontFamily"},headerFontWeight:500,headerFontSize:{ref:"fontSize"},dataFontSize:{ref:"fontSize"},headerTextColor:{ref:"textColor"},headerCellHoverBackgroundColor:"transparent",headerCellMovingBackgroundColor:{ref:"headerCellHoverBackgroundColor"},headerCellBackgroundTransitionDuration:"0.2s",cellTextColor:{ref:"textColor"},rangeSelectionBorderStyle:"solid",rangeSelectionBorderColor:Un,rangeSelectionBackgroundColor:Cn(.2),rangeSelectionChartBackgroundColor:"#0058FF1A",rangeSelectionChartCategoryBackgroundColor:"#00FF841A",rangeSelectionHighlightColor:Cn(.5),rangeHeaderHighlightColor:DT(.08),rowNumbersSelectedColor:Cn(.5),rowHoverColor:Cn(.08),columnHoverColor:Cn(.05),selectedRowBackgroundColor:Cn(.12),modalOverlayBackgroundColor:{ref:"backgroundColor",mix:.66},dataBackgroundColor:Or,oddRowBackgroundColor:{ref:"dataBackgroundColor"},wrapperBorderRadius:8,cellHorizontalPadding:{calc:"spacing * 2 * cellHorizontalPaddingScale"},cellWidgetSpacing:{calc:"spacing * 1.5"},cellHorizontalPaddingScale:1,rowGroupIndentSize:{calc:"cellWidgetSpacing + iconSize"},valueChangeDeltaUpColor:"#43a047",valueChangeDeltaDownColor:"#e53935",valueChangeValueHighlightBackgroundColor:"#16a08580",rowHeight:{calc:"max(iconSize, dataFontSize) + spacing * 3.25 * rowVerticalPaddingScale"},rowVerticalPaddingScale:1,headerHeight:{calc:"max(iconSize, dataFontSize) + spacing * 4 * headerVerticalPaddingScale"},headerVerticalPaddingScale:1,paginationPanelHeight:{ref:"rowHeight",calc:"max(rowHeight, 22px)"},dragHandleColor:en(.7),headerColumnResizeHandleHeight:"30%",headerColumnResizeHandleWidth:2,headerColumnResizeHandleColor:{ref:"borderColor"},widgetContainerHorizontalPadding:{calc:"spacing * 1.5"},widgetContainerVerticalPadding:{calc:"spacing * 1.5"},widgetHorizontalSpacing:{calc:"spacing * 1.5"},widgetVerticalSpacing:{ref:"spacing"},iconButtonColor:{ref:"iconColor"},iconButtonBackgroundColor:"transparent",iconButtonBackgroundSpread:4,iconButtonBorderRadius:1,iconButtonHoverColor:{ref:"iconButtonColor"},iconButtonHoverBackgroundColor:en(.1),iconButtonActiveColor:Un,iconButtonActiveBackgroundColor:Cn(.28),iconButtonActiveIndicatorColor:Un,menuBorder:{color:en(.2)},menuBackgroundColor:nn(.03),menuTextColor:nn(.95),menuShadow:{ref:"popupShadow"},menuSeparatorColor:{ref:"borderColor"},setFilterIndentSize:{ref:"iconSize"},chartMenuPanelWidth:260,chartMenuLabelColor:en(.8),dialogShadow:{ref:"popupShadow"},cellEditingBorder:{color:Un},cellEditingShadow:{ref:"cardShadow"},fullRowEditInvalidBackgroundColor:{ref:"invalidColor",onto:"backgroundColor",mix:.25},dialogBorder:{color:en(.2)},panelBackgroundColor:Or,panelTitleBarHeight:{ref:"headerHeight"},panelTitleBarBackgroundColor:{ref:"headerBackgroundColor"},panelTitleBarIconColor:{ref:"headerTextColor"},panelTitleBarTextColor:{ref:"headerTextColor"},panelTitleBarFontWeight:{ref:"headerFontWeight"},panelTitleBarBorder:!0,columnSelectIndentSize:{ref:"iconSize"},toolPanelSeparatorBorder:!0,columnDropCellBackgroundColor:en(.07),columnDropCellTextColor:{ref:"textColor"},columnDropCellDragHandleColor:{ref:"textColor"},columnDropCellBorder:{color:en(.13)},selectCellBackgroundColor:en(.07),selectCellBorder:{color:en(.13)},advancedFilterBuilderButtonBarBorder:!0,advancedFilterBuilderIndentSize:{calc:"spacing * 2 + iconSize"},advancedFilterBuilderJoinPillColor:"#f08e8d",advancedFilterBuilderColumnPillColor:"#a6e194",advancedFilterBuilderOptionPillColor:"#f3c08b",advancedFilterBuilderValuePillColor:"#85c0e4",filterPanelApplyButtonColor:Or,filterPanelApplyButtonBackgroundColor:Un,filterPanelCardSubtleColor:{ref:"textColor",mix:.7},filterPanelCardSubtleHoverColor:{ref:"textColor"},findMatchColor:Uo,findMatchBackgroundColor:"#ffff00",findActiveMatchColor:Uo,findActiveMatchBackgroundColor:"#ffa500",filterToolPanelGroupIndent:{ref:"spacing"},rowLoadingSkeletonEffectColor:en(.15),statusBarLabelColor:Uo,statusBarLabelFontWeight:500,statusBarValueColor:Uo,statusBarValueFontWeight:500,pinnedSourceRowTextColor:{ref:"textColor"},pinnedSourceRowBackgroundColor:{ref:"dataBackgroundColor"},pinnedSourceRowFontWeight:600,pinnedRowFontWeight:600,pinnedRowBackgroundColor:{ref:"dataBackgroundColor"},pinnedRowTextColor:{ref:"textColor"}},AP=".ag-cell-batch-edit{background-color:var(--ag-cell-batch-edit-background-color);color:var(--ag-cell-batch-edit-text-color);display:inherit}.ag-row-batch-edit{background-color:var(--ag-row-batch-edit-background-color);color:var(--ag-row-batch-edit-text-color)}",CC={cellBatchEditBackgroundColor:"rgba(220 181 139 / 16%)",cellBatchEditTextColor:"#422f00",rowBatchEditBackgroundColor:{ref:"cellBatchEditBackgroundColor"},rowBatchEditTextColor:{ref:"cellBatchEditTextColor"}},TP={...CC,cellBatchEditTextColor:"#f3d0b3"},DP=()=>Dn({feature:"batchEditStyle",params:CC,css:AP}),MP=DP(),PP=":where(.ag-button){background:none;border:none;color:inherit;cursor:pointer;font-family:inherit;font-size:inherit;font-weight:inherit;letter-spacing:inherit;line-height:inherit;margin:0;padding:0;text-indent:inherit;text-shadow:inherit;text-transform:inherit;word-spacing:inherit;&:disabled{cursor:default}&:focus-visible{box-shadow:var(--ag-focus-shadow);outline:none}}.ag-standard-button{-webkit-appearance:none;-moz-appearance:none;appearance:none;background-color:var(--ag-button-background-color);border:var(--ag-button-border);border-radius:var(--ag-button-border-radius);color:var(--ag-button-text-color);cursor:pointer;font-weight:var(--ag-button-font-weight);padding:var(--ag-button-vertical-padding) var(--ag-button-horizontal-padding);&:hover{background-color:var(--ag-button-hover-background-color);border:var(--ag-button-hover-border);color:var(--ag-button-hover-text-color)}&:active{background-color:var(--ag-button-active-background-color);border:var(--ag-button-active-border);color:var(--ag-button-active-text-color)}&:disabled{background-color:var(--ag-button-disabled-background-color);border:var(--ag-button-disabled-border);color:var(--ag-button-disabled-text-color)}}",IP={buttonTextColor:"inherit",buttonFontWeight:"normal",buttonBackgroundColor:"transparent",buttonBorder:!1,buttonBorderRadius:{ref:"borderRadius"},buttonHorizontalPadding:{calc:"spacing * 2"},buttonVerticalPadding:{ref:"spacing"},buttonHoverTextColor:{ref:"buttonTextColor"},buttonHoverBackgroundColor:{ref:"buttonBackgroundColor"},buttonHoverBorder:{ref:"buttonBorder"},buttonActiveTextColor:{ref:"buttonHoverTextColor"},buttonActiveBackgroundColor:{ref:"buttonHoverBackgroundColor"},buttonActiveBorder:{ref:"buttonHoverBorder"},buttonDisabledTextColor:{ref:"inputDisabledTextColor"},buttonDisabledBackgroundColor:{ref:"inputDisabledBackgroundColor"},buttonDisabledBorder:{ref:"inputDisabledBorder"}},BP=()=>Dn({feature:"buttonStyle",params:{...IP,buttonBackgroundColor:Or,buttonBorder:!0,buttonHoverBackgroundColor:{ref:"rowHoverColor"},buttonActiveBorder:{color:Un}},css:PP}),LP=BP(),NP=".ag-column-drop-vertical-empty-message{align-items:center;border:dashed var(--ag-border-width);border-color:var(--ag-border-color);display:flex;inset:0;justify-content:center;margin:calc(var(--ag-spacing)*1.5) calc(var(--ag-spacing)*2);overflow:hidden;padding:calc(var(--ag-spacing)*2);position:absolute}",OP=()=>Dn({feature:"columnDropStyle",css:NP}),FC=OP(),HP={warn:(...e)=>{Se(e[0],e[1])},error:(...e)=>{Ot(e[0],e[1])},preInitErr:(...e)=>{qs(e[0],e[2],e[1])}},GP=()=>zT(HP).withParams(_P).withPart(LP).withPart(FC).withPart(MP),jP='.ag-checkbox-input-wrapper,.ag-radio-button-input-wrapper{background-color:var(--ag-checkbox-unchecked-background-color);border:solid var(--ag-checkbox-border-width) var(--ag-checkbox-unchecked-border-color);flex:none;height:var(--ag-icon-size);position:relative;width:var(--ag-icon-size);:where(input){-webkit-appearance:none;-moz-appearance:none;appearance:none;cursor:pointer;display:block;height:var(--ag-icon-size);margin:0;opacity:0;width:var(--ag-icon-size)}&:after{content:"";display:block;inset:0;-webkit-mask-position:center;mask-position:center;-webkit-mask-repeat:no-repeat;mask-repeat:no-repeat;pointer-events:none;position:absolute}&:where(.ag-checked){background-color:var(--ag-checkbox-checked-background-color);border-color:var(--ag-checkbox-checked-border-color);&:after{background-color:var(--ag-checkbox-checked-shape-color)}}&:where(:focus-within,:active){box-shadow:var(--ag-focus-shadow)}&:where(.ag-disabled){filter:grayscale();opacity:.5}}.ag-checkbox-input-wrapper{border-radius:var(--ag-checkbox-border-radius);&:where(.ag-checked):after{-webkit-mask-image:var(--ag-checkbox-checked-shape-image);mask-image:var(--ag-checkbox-checked-shape-image)}&:where(.ag-indeterminate){background-color:var(--ag-checkbox-indeterminate-background-color);border-color:var(--ag-checkbox-indeterminate-border-color);&:after{background-color:var(--ag-checkbox-indeterminate-shape-color);-webkit-mask-image:var(--ag-checkbox-indeterminate-shape-image);mask-image:var(--ag-checkbox-indeterminate-shape-image)}}}.ag-cell-editing-error .ag-checkbox-input-wrapper:focus-within{box-shadow:var(--ag-focus-error-shadow)}.ag-radio-button-input-wrapper{border-radius:100%;&:where(.ag-checked):after{-webkit-mask-image:var(--ag-radio-checked-shape-image);mask-image:var(--ag-radio-checked-shape-image)}}',zP=()=>Dn({feature:"checkboxStyle",params:{checkboxBorderWidth:1,checkboxBorderRadius:{ref:"borderRadius"},checkboxUncheckedBackgroundColor:Or,checkboxUncheckedBorderColor:nn(.3),checkboxCheckedBackgroundColor:Un,checkboxCheckedBorderColor:{ref:"checkboxCheckedBackgroundColor"},checkboxCheckedShapeImage:{svg:'<svg xmlns="http://www.w3.org/2000/svg" width="10" height="7" fill="none"><path stroke="#000" stroke-linecap="round" stroke-linejoin="round" stroke-width="1.75" d="M1 3.5 3.5 6l5-5"/></svg>'},checkboxCheckedShapeColor:Or,checkboxIndeterminateBackgroundColor:nn(.3),checkboxIndeterminateBorderColor:{ref:"checkboxIndeterminateBackgroundColor"},checkboxIndeterminateShapeImage:{svg:'<svg xmlns="http://www.w3.org/2000/svg" width="10" height="2" fill="none"><rect width="10" height="2" fill="#000" rx="1"/></svg>'},checkboxIndeterminateShapeColor:Or,radioCheckedShapeImage:{svg:'<svg xmlns="http://www.w3.org/2000/svg" width="6" height="6" fill="none"><circle cx="3" cy="3" r="3" fill="#000"/></svg>'}},css:jP}),VP=zP(),SC=()=>({...ac,...TP,backgroundColor:"hsl(217, 0%, 17%)",foregroundColor:"#FFF",chromeBackgroundColor:nn(.05),rowHoverColor:Cn(.15),selectedRowBackgroundColor:Cn(.2),menuBackgroundColor:nn(.1),browserColorScheme:"dark",popupShadow:"0 0px 20px #000A",cardShadow:"0 1px 4px 1px #000A",advancedFilterBuilderJoinPillColor:"#7a3a37",advancedFilterBuilderColumnPillColor:"#355f2d",advancedFilterBuilderOptionPillColor:"#5a3168",advancedFilterBuilderValuePillColor:"#374c86",filterPanelApplyButtonColor:Uo,findMatchColor:Or,findActiveMatchColor:Or,checkboxUncheckedBorderColor:nn(.4),toggleButtonOffBackgroundColor:nn(.4),rowBatchEditBackgroundColor:nn(.1)}),WP=()=>({...SC(),backgroundColor:"#1f2836"}),$P=()=>Dn({feature:"colorScheme",params:ac,modeParams:{light:ac,dark:SC(),"dark-blue":WP()}}),UP=$P(),xC={aggregation:'<path d="M18 7V4H6l6 8-6 8h12v-3"/>',arrows:'<polyline points="5 9 2 12 5 15"/><polyline points="9 5 12 2 15 5"/><polyline points="15 19 12 22 9 19"/><polyline points="19 9 22 12 19 15"/><line x1="2" x2="22" y1="12" y2="12"/><line x1="12" x2="12" y1="2" y2="22"/>',asc:'<path d="m5 12 7-7 7 7"/><path d="M12 19V5"/>',cancel:'<path d="m18 6-12 12"/><path d="m6 6 12 12"/>',chart:'<line x1="18" x2="18" y1="20" y2="10"/><line x1="12" x2="12" y1="20" y2="4"/><line x1="6" x2="6" y1="20" y2="14"/>',"color-picker":'<path d="m19 11-8-8-8.6 8.6a2 2 0 0 0 0 2.8l5.2 5.2c.8.8 2 .8 2.8 0L19 11Z"/><path d="m5 2 5 5"/><path d="M2 13h15"/><path d="M22 20a2 2 0 1 1-4 0c0-1.6 1.7-2.4 2-4 .3 1.6 2 2.4 2 4Z"/>',columns:'<path d="M9 3H5a2 2 0 0 0-2 2v4m6-6h10a2 2 0 0 1 2 2v4M9 3v18m0 0h10a2 2 0 0 0 2-2V9M9 21H5a2 2 0 0 1-2-2V9m0 0h18"/>',contracted:'<path d="m9 18 6-6-6-6"/>',copy:'<rect width="14" height="14" x="8" y="8" rx="2" ry="2"/><path d="M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2"/>',cross:'<path d="M18 6 6 18"/><path d="m6 6 12 12"/>',csv:'<path d="M14.5 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7.5L14.5 2z"/><polyline points="14 2 14 8 20 8"/><path d="M8 13h2"/><path d="M8 17h2"/><path d="M14 13h2"/><path d="M14 17h2"/>',cut:'<circle cx="6" cy="6" r="3"/><path d="M8.12 8.12 12 12"/><path d="M20 4 8.12 15.88"/><circle cx="6" cy="18" r="3"/><path d="M14.8 14.8 20 20"/>',desc:'<path d="M12 5v14"/><path d="m19 12-7 7-7-7"/>',down:'<path d="M12 5v14"/><path d="m19 12-7 7-7-7"/>',excel:'<path d="M14.5 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7.5L14.5 2z"/><polyline points="14 2 14 8 20 8"/><path d="M8 13h2"/><path d="M8 17h2"/><path d="M14 13h2"/><path d="M14 17h2"/>',expanded:'<path d="m15 18-6-6 6-6"/>',"eye-slash":'<path d="M9.88 9.88a3 3 0 1 0 4.24 4.24"/><path d="M10.73 5.08A10.43 10.43 0 0 1 12 5c7 0 10 7 10 7a13.16 13.16 0 0 1-1.67 2.68"/><path d="M6.61 6.61A13.526 13.526 0 0 0 2 12s3 7 10 7a9.74 9.74 0 0 0 5.39-1.61"/><line x1="2" x2="22" y1="2" y2="22"/>',eye:'<path d="M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z"/><circle cx="12" cy="12" r="3"/>',filter:'<path d="M3 6h18"/><path d="M7 12h10"/><path d="M10 18h4"/>',first:'<path d="m17 18-6-6 6-6"/><path d="M7 6v12"/>',group:'<path d="M16 12H3"/><path d="M16 18H3"/><path d="M10 6H3"/><path d="M21 18V8a2 2 0 0 0-2-2h-5"/><path d="m16 8-2-2 2-2"/>',last:'<path d="m7 18 6-6-6-6"/><path d="M17 6v12"/>',left:'<path d="m12 19-7-7 7-7"/><path d="M19 12H5"/>',linked:'<path d="M9 17H7A5 5 0 0 1 7 7h2"/><path d="M15 7h2a5 5 0 1 1 0 10h-2"/><line x1="8" x2="16" y1="12" y2="12"/>',loading:'<line x1="12" x2="12" y1="2" y2="6"/><line x1="12" x2="12" y1="18" y2="22"/><line x1="4.93" x2="7.76" y1="4.93" y2="7.76"/><line x1="16.24" x2="19.07" y1="16.24" y2="19.07"/><line x1="2" x2="6" y1="12" y2="12"/><line x1="18" x2="22" y1="12" y2="12"/><line x1="4.93" x2="7.76" y1="19.07" y2="16.24"/><line x1="16.24" x2="19.07" y1="7.76" y2="4.93"/>',maximize:'<polyline points="15 3 21 3 21 9"/><polyline points="9 21 3 21 3 15"/><line x1="21" x2="14" y1="3" y2="10"/><line x1="3" x2="10" y1="21" y2="14"/>',menu:'<line x1="4" x2="20" y1="12" y2="12"/><line x1="4" x2="20" y1="6" y2="6"/><line x1="4" x2="20" y1="18" y2="18"/>',"menu-alt":'<circle cx="12" cy="5" r="0.75" fill="#D9D9D9"/><circle cx="12" cy="12" r="0.75" fill="#D9D9D9"/><circle cx="12" cy="19" r="0.75" fill="#D9D9D9"/>',minimize:'<polyline points="4 14 10 14 10 20"/><polyline points="20 10 14 10 14 4"/><line x1="14" x2="21" y1="10" y2="3"/><line x1="3" x2="10" y1="21" y2="14"/>',minus:'<circle cx="12" cy="12" r="10"/><path d="M8 12h8"/>',next:'<path d="m9 18 6-6-6-6"/>',none:'<path d="m7 15 5 5 5-5"/><path d="m7 9 5-5 5 5"/>',"not-allowed":'<circle cx="12" cy="12" r="10"/><path d="m4.9 4.9 14.2 14.2"/>',paste:'<path d="M15 2H9a1 1 0 0 0-1 1v2c0 .6.4 1 1 1h6c.6 0 1-.4 1-1V3c0-.6-.4-1-1-1Z"/><path d="M8 4H6a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2M16 4h2a2 2 0 0 1 2 2v2M11 14h10"/><path d="m17 10 4 4-4 4"/>',pin:'<line x1="12" x2="12" y1="17" y2="22"/><path d="M5 17h14v-1.76a2 2 0 0 0-1.11-1.79l-1.78-.9A2 2 0 0 1 15 10.76V6h1a2 2 0 0 0 0-4H8a2 2 0 0 0 0 4h1v4.76a2 2 0 0 1-1.11 1.79l-1.78.9A2 2 0 0 0 5 15.24Z"/>',pivot:'<path d="M15 3v18"/><rect width="18" height="18" x="3" y="3" rx="2"/><path d="M21 9H3"/><path d="M21 15H3"/>',plus:'<circle cx="12" cy="12" r="10"/><path d="M8 12h8"/><path d="M12 8v8"/>',previous:'<path d="m15 18-6-6 6-6"/>',right:'<path d="M5 12h14"/><path d="m12 5 7 7-7 7"/>',save:'<path d="M12 17V3"/><path d="m6 11 6 6 6-6"/><path d="M19 21H5"/>',"small-left":'<path d="m15 18-6-6 6-6"/>',"small-right":'<path d="m9 18 6-6-6-6"/>',tick:'<path d="M20 6 9 17l-5-5"/>',"tree-closed":'<path d="m9 18 6-6-6-6"/>',"tree-indeterminate":'<path d="M5 12h14"/>',"tree-open":'<path d="m6 9 6 6 6-6"/>',unlinked:'<path d="M9 17H7A5 5 0 0 1 7 7"/><path d="M15 7h2a5 5 0 0 1 4 8"/><line x1="8" x2="12" y1="12" y2="12"/><line x1="2" x2="22" y1="2" y2="22"/>',up:'<path d="m5 12 7-7 7 7"/><path d="M12 19V5"/>',grip:'<circle cx="5" cy="8" r="0.5"/><circle cx="12" cy="8" r="0.5"/><circle cx="19" cy="8" r="0.5"/><circle cx="5" cy="16" r="0.5"/><circle cx="12" cy="16" r="0.5"/><circle cx="19" cy="16" r="0.5"/><g stroke="none" fill="currentColor"><circle cx="5" cy="8" r="1"/><circle cx="12" cy="8" r="1"/><circle cx="19" cy="8" r="1"/><circle cx="5" cy="16" r="1"/><circle cx="12" cy="16" r="1"/><circle cx="19" cy="16" r="1"/></g>',settings:'<path d="M20 7h-9"/><path d="M14 17H5"/><circle cx="17" cy="17" r="3"/><circle cx="7" cy="7" r="3"/>'},kC={"column-arrow":'<svg xmlns="http://www.w3.org/2000/svg" class="ag-icon" fill="none" viewBox="0 0 32 32"><path fill-rule="evenodd" clip-rule="evenodd" d="M0 26C0 28.2092 1.79086 30 4 30H14C16.2091 30 18 28.2092 18 26V15H25.8786L24.4394 16.4393C23.8536 17.0251 23.8536 17.9749 24.4394 18.5607C25.0252 19.1464 25.9748 19.1464 26.5606 18.5607L30.5606 14.5607C31.1464 13.9749 31.1464 13.0251 30.5606 12.4393L26.5606 8.43934C25.9748 7.85356 25.0252 7.85356 24.4394 8.43934C23.8536 9.02512 23.8536 9.97488 24.4394 10.5607L25.8786 12H18V6C18 3.79086 16.2091 2 14 2H4C1.79086 2 0 3.79086 0 6V26ZM14 5H10.5V12H15V6C15 5.44772 14.5523 5 14 5ZM4 5H7.5V12H3V6C3 5.44772 3.44772 5 4 5ZM10.5 15H15V26C15 26.5522 14.5523 27 14 27H10.5V15ZM4 27H7.5V15H3V26C3 26.5522 3.44772 27 4 27Z" fill="currentColor"/></svg>',"small-down":'<svg xmlns="http://www.w3.org/2000/svg" class="ag-icon" fill="black" stroke="none" viewBox="0 0 32 32"><path d="M7.334 10.667 16 21.334l8.667-10.667H7.334Z"/></svg>',"small-up":'<svg xmlns="http://www.w3.org/2000/svg" class="ag-icon" fill="black" stroke="none" viewBox="0 0 32 32"><path d="M7.334 21.333 16 10.666l8.667 10.667H7.334Z"/></svg>',"pinned-top":'<svg xmlns="http://www.w3.org/2000/svg" class="ag-icon" fill="none" viewBox="0 0 16 16"><path fill="currentColor" d="M12.53 3.72A.75.75 0 0 1 12 5H4a.75.75 0 0 1 0-1.5h8a.75.75 0 0 1 .53.22ZM3.269 10.744a.75.75 0 0 1 .2-.524l4-4a.75.75 0 0 1 1.06 0l4 4a.75.75 0 1 1-1.06 1.06L8.75 8.56V14a.75.75 0 0 1-1.5 0V8.56l-2.72 2.72a.75.75 0 0 1-1.26-.536Z"/></svg>',"pinned-bottom":'<svg xmlns="http://www.w3.org/2000/svg" fill="none" class="ag-icon" viewBox="0 0 16 16"><path fill="currentColor" d="M3.47 12.28A.75.75 0 0 1 4 11h8a.75.75 0 0 1 0 1.5H4a.75.75 0 0 1-.53-.22ZM12.731 5.256a.75.75 0 0 1-.2.524l-4 4a.75.75 0 0 1-1.06 0l-4-4a.75.75 0 1 1 1.06-1.06l2.72 2.72V2a.75.75 0 0 1 1.5 0v5.44l2.72-2.72a.75.75 0 0 1 1.26.536Z"/></svg>',"un-pin":'<svg xmlns="http://www.w3.org/2000/svg" fill="none" class="ag-icon" viewBox="0 0 16 16"><path fill="currentColor" d="M8 11a.75.75 0 0 0-.75.75v3.333a.75.75 0 1 0 1.5 0V11.75A.75.75 0 0 0 8 11Z"/><path fill="currentColor" d="M13.11 1.436a.75.75 0 0 0-1.22-.872l-10 14a.75.75 0 1 0 1.22.872L5.207 12.5h7.376a.75.75 0 0 0 .75-.75v-1.174a2.08 2.08 0 0 0-1.153-1.863l-1.185-.599-.005-.002a.58.58 0 0 1-.323-.522V5.165a2.083 2.083 0 0 0 1.854-2.904l.589-.825Zm-3.943 5.52v.634a2.08 2.08 0 0 0 1.153 1.863l1.185.6.005.002a.58.58 0 0 1 .323.522V11H6.28l2.887-4.044ZM9.277 1H5.25a2.084 2.084 0 0 0-.083 4.165v1.676l1.5-2.132v-.292a.75.75 0 0 0-.75-.75H5.25a.584.584 0 0 1 0-1.167h2.972L9.277 1Z"/></svg>',"chevron-down":'<svg width="16" height="16" viewBox="0 0 16 16" class="ag-icon" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M12 6L8 10L4 6" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/></svg>',"chevron-up":'<svg width="16" height="16" viewBox="0 0 16 16" class="ag-icon" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M4 10L8 6L12 10" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/></svg>',"chevron-left":'<svg width="16" height="16" viewBox="0 0 16 16" class="ag-icon" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M10 12L6 8L10 4" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/></svg>',"chevron-right":'<svg width="16" height="16" viewBox="0 0 16 16" class="ag-icon" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M6 12L10 8L6 4" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/></svg>',"filter-add":'<svg width="16" height="16" viewBox="0 0 16 16" class="ag-icon" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M5.12126 7.75L10.8517 7.75" stroke="currentColor" stroke-width="1.5" stroke-linecap="round"/><path d="M6.65934 11.748L9.32778 11.748" stroke="currentColor" stroke-width="1.5" stroke-linecap="round"/><path d="M12.2943 1.04872V6.19184M14.9886 3.74341H9.68478" stroke="currentColor" stroke-width="1.5" stroke-linecap="round"/><path d="M8.25488 3C8.04799 3.18323 7.91706 3.45099 7.91699 3.74902C7.91713 4.04868 8.04988 4.31681 8.25879 4.5H2C1.58579 4.5 1.25 4.16421 1.25 3.75C1.25 3.33579 1.58579 3 2 3H8.25488Z" fill="currentColor"/></svg>',edit:'<svg width="16" height="16" viewBox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M3.5 10.6262V12.5012H5.375L10.905 6.97122L9.03 5.09622L3.5 10.6262ZM12.355 5.52122C12.4014 5.47497 12.4381 5.42002 12.4632 5.35953C12.4883 5.29905 12.5012 5.23421 12.5012 5.16872C12.5012 5.10324 12.4883 5.0384 12.4632 4.97791C12.4381 4.91742 12.4014 4.86248 12.355 4.81622L11.185 3.64622C11.1387 3.59987 11.0838 3.5631 11.0233 3.53801C10.9628 3.51291 10.898 3.5 10.8325 3.5C10.767 3.5 10.7022 3.51291 10.6417 3.53801C10.5812 3.5631 10.5263 3.59987 10.48 3.64622L9.565 4.56122L11.44 6.43622L12.355 5.52122Z" fill="currentColor"/></svg>'},KP=(e={})=>{let t="";for(const r of[...Object.keys(xC),...Object.keys(kC)]){const n=qP(r,e.strokeWidth);t+=`.ag-icon-${r}::before { mask-image: url('data:image/svg+xml,${encodeURIComponent(n)}'); }
`}return t},qP=(e,t=1.5)=>{const r=kC[e];if(r)return r;const n=xC[e];if(!n)throw new Error(`Missing icon data for ${e}`);return`<svg xmlns="http://www.w3.org/2000/svg" class="ag-icon" fill="none" stroke-linecap="round" stroke-linejoin="round" stroke="black" stroke-width="${t}" viewBox="0 0 24 24"><style>* { vector-effect: non-scaling-stroke; }</style>`+n+"</svg>"},JP=(e={})=>Dn({feature:"iconSet",css:()=>KP(e)}),YP=JP(),ZP=':where(.ag-input-field-input[type=number]:not(.ag-number-field-input-stepper)){-webkit-appearance:textfield;-moz-appearance:textfield;appearance:textfield;&::-webkit-inner-spin-button,&::-webkit-outer-spin-button{-webkit-appearance:none;appearance:none;margin:0}}.ag-input-field-input:where(input:not([type]),input[type=text],input[type=number],input[type=tel],input[type=date],input[type=datetime-local],textarea){background-color:var(--ag-input-background-color);border:var(--ag-input-border);border-radius:var(--ag-input-border-radius);color:var(--ag-input-text-color);font-family:inherit;font-size:inherit;line-height:inherit;margin:0;min-height:var(--ag-input-height);padding:0;&:where(:disabled){background-color:var(--ag-input-disabled-background-color);border:var(--ag-input-disabled-border);color:var(--ag-input-disabled-text-color)}&:where(:focus){background-color:var(--ag-input-focus-background-color);border:var(--ag-input-focus-border);box-shadow:var(--ag-input-focus-shadow);color:var(--ag-input-focus-text-color);outline:none}&:where(:invalid){background-color:var(--ag-input-invalid-background-color);border:var(--ag-input-invalid-border);color:var(--ag-input-invalid-text-color)}&:where(.invalid){background-color:var(--ag-input-invalid-background-color);border:var(--ag-input-invalid-border);color:var(--ag-input-invalid-text-color)}&::-moz-placeholder{color:var(--ag-input-placeholder-text-color)}&::placeholder{color:var(--ag-input-placeholder-text-color)}}:where(.ag-ltr) .ag-input-field-input:where(input:not([type]),input[type=text],input[type=number],input[type=tel],input[type=date],input[type=datetime-local],textarea){padding-left:var(--ag-input-padding-start)}:where(.ag-rtl) .ag-input-field-input:where(input:not([type]),input[type=text],input[type=number],input[type=tel],input[type=date],input[type=datetime-local],textarea){padding-right:var(--ag-input-padding-start)}:where(.ag-column-select-header-filter-wrapper,.ag-filter-toolpanel-search,.ag-mini-filter,.ag-filter-filter,.ag-filter-add-select){.ag-input-wrapper:before{background-color:currentcolor;color:var(--ag-input-icon-color);content:"";display:block;height:12px;-webkit-mask-image:url("data:image/svg+xml;charset=utf-8;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxMiIgaGVpZ2h0PSIxMiIgZmlsbD0ibm9uZSIgc3Ryb2tlPSIjMDAwIiBzdHJva2UtbGluZWNhcD0icm91bmQiIHN0cm9rZS1saW5lam9pbj0icm91bmQiIHN0cm9rZS13aWR0aD0iMS41Ij48cGF0aCBkPSJNNS4zIDlhMy43IDMuNyAwIDEgMCAwLTcuNSAzLjcgMy43IDAgMCAwIDAgNy41Wk0xMC41IDEwLjUgOC4zIDguMiIvPjwvc3ZnPg==");mask-image:url("data:image/svg+xml;charset=utf-8;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxMiIgaGVpZ2h0PSIxMiIgZmlsbD0ibm9uZSIgc3Ryb2tlPSIjMDAwIiBzdHJva2UtbGluZWNhcD0icm91bmQiIHN0cm9rZS1saW5lam9pbj0icm91bmQiIHN0cm9rZS13aWR0aD0iMS41Ij48cGF0aCBkPSJNNS4zIDlhMy43IDMuNyAwIDEgMCAwLTcuNSAzLjcgMy43IDAgMCAwIDAgNy41Wk0xMC41IDEwLjUgOC4zIDguMiIvPjwvc3ZnPg==");-webkit-mask-position:center;mask-position:center;-webkit-mask-repeat:no-repeat;mask-repeat:no-repeat;opacity:.5;position:absolute;width:12px}}:where(.ag-ltr) :where(.ag-column-select-header-filter-wrapper,.ag-filter-toolpanel-search,.ag-mini-filter,.ag-filter-filter,.ag-filter-add-select){.ag-input-wrapper:before{margin-left:var(--ag-spacing)}.ag-number-field-input,.ag-text-field-input{padding-left:calc(var(--ag-spacing)*1.5 + 12px)}}:where(.ag-rtl) :where(.ag-column-select-header-filter-wrapper,.ag-filter-toolpanel-search,.ag-mini-filter,.ag-filter-filter,.ag-filter-add-select){.ag-input-wrapper:before{margin-right:var(--ag-spacing)}.ag-number-field-input,.ag-text-field-input{padding-right:calc(var(--ag-spacing)*1.5 + 12px)}}',XP=".ag-input-field-input:where(input:not([type]),input[type=text],input[type=number],input[type=tel],input[type=date],input[type=datetime-local],textarea){&:focus{box-shadow:var(--ag-focus-shadow);&:where(.invalid),&:where(:invalid){box-shadow:var(--ag-focus-error-shadow)}}}",QP={inputBackgroundColor:"transparent",inputBorder:!1,inputBorderRadius:0,inputTextColor:{ref:"textColor"},inputPlaceholderTextColor:{ref:"inputTextColor",mix:.5},inputPaddingStart:0,inputHeight:{calc:"max(iconSize, fontSize) + spacing * 2"},inputFocusBackgroundColor:{ref:"inputBackgroundColor"},inputFocusBorder:{ref:"inputBorder"},inputFocusShadow:"none",inputFocusTextColor:{ref:"inputTextColor"},inputDisabledBackgroundColor:{ref:"inputBackgroundColor"},inputDisabledBorder:{ref:"inputBorder"},inputDisabledTextColor:{ref:"inputTextColor"},inputInvalidBackgroundColor:{ref:"inputBackgroundColor"},inputInvalidBorder:{ref:"inputBorder"},inputInvalidTextColor:{ref:"inputTextColor"},inputIconColor:{ref:"inputTextColor"},pickerButtonBorder:!1,pickerButtonFocusBorder:{ref:"inputFocusBorder"},pickerButtonBackgroundColor:{ref:"backgroundColor"},pickerButtonFocusBackgroundColor:{ref:"backgroundColor"},pickerListBorder:!1,pickerListBackgroundColor:{ref:"backgroundColor"},colorPickerThumbSize:18,colorPickerTrackSize:12,colorPickerThumbBorderWidth:3,colorPickerTrackBorderRadius:12,colorPickerColorBorderRadius:4},e8=()=>Dn({feature:"inputStyle",params:{...QP,inputBackgroundColor:Or,inputBorder:!0,inputBorderRadius:{ref:"borderRadius"},inputPaddingStart:{ref:"spacing"},inputFocusBorder:{color:Un},inputFocusShadow:{ref:"focusShadow"},inputDisabledBackgroundColor:nn(.06),inputDisabledTextColor:{ref:"textColor",mix:.5},inputInvalidBorder:{color:{ref:"invalidColor"}},pickerButtonBorder:!0,pickerListBorder:!0},css:()=>ZP+XP}),t8=e8(),r8='.ag-tabs-header{background-color:var(--ag-tab-bar-background-color);border-bottom:var(--ag-tab-bar-border);display:flex;flex:1;gap:var(--ag-tab-spacing);padding:var(--ag-tab-bar-top-padding) var(--ag-tab-bar-horizontal-padding) 0}.ag-tabs-header-wrapper{display:flex}.ag-tabs-close-button-wrapper{align-items:center;border:0;display:flex;padding:var(--ag-spacing)}:where(.ag-ltr) .ag-tabs-close-button-wrapper{border-right:solid var(--ag-border-width) var(--ag-border-color)}:where(.ag-rtl) .ag-tabs-close-button-wrapper{border-left:solid var(--ag-border-width) var(--ag-border-color)}.ag-tabs-close-button{background-color:unset;border:0;cursor:pointer;padding:0}.ag-tab{align-items:center;background-color:var(--ag-tab-background-color);border-left:var(--ag-tab-selected-border-width) solid transparent;border-right:var(--ag-tab-selected-border-width) solid transparent;color:var(--ag-tab-text-color);cursor:pointer;display:flex;flex:1;justify-content:center;padding:var(--ag-tab-top-padding) var(--ag-tab-horizontal-padding) var(--ag-tab-bottom-padding);position:relative;&:hover{background-color:var(--ag-tab-hover-background-color);color:var(--ag-tab-hover-text-color)}&.ag-tab-selected{background-color:var(--ag-tab-selected-background-color);color:var(--ag-tab-selected-text-color)}&:after{background-color:var(--ag-tab-selected-underline-color);bottom:0;content:"";display:block;height:var(--ag-tab-selected-underline-width);left:0;opacity:0;position:absolute;right:0;transition:opacity var(--ag-tab-selected-underline-transition-duration)}&.ag-tab-selected:after{opacity:1}}:where(.ag-ltr) .ag-tab{&.ag-tab-selected{&:where(:not(:first-of-type)){border-left-color:var(--ag-tab-selected-border-color)}&:where(:not(:last-of-type)){border-right-color:var(--ag-tab-selected-border-color)}}}:where(.ag-rtl) .ag-tab{&.ag-tab-selected{&:where(:not(:first-of-type)){border-right-color:var(--ag-tab-selected-border-color)}&:where(:not(:last-of-type)){border-left-color:var(--ag-tab-selected-border-color)}}}',n8={tabBarBackgroundColor:"transparent",tabBarHorizontalPadding:0,tabBarTopPadding:0,tabBackgroundColor:"transparent",tabTextColor:{ref:"textColor"},tabHorizontalPadding:{ref:"spacing"},tabTopPadding:{ref:"spacing"},tabBottomPadding:{ref:"spacing"},tabSpacing:"0",tabHoverBackgroundColor:{ref:"tabBackgroundColor"},tabHoverTextColor:{ref:"tabTextColor"},tabSelectedBackgroundColor:{ref:"tabBackgroundColor"},tabSelectedTextColor:{ref:"tabTextColor"},tabSelectedBorderWidth:{ref:"borderWidth"},tabSelectedBorderColor:"transparent",tabSelectedUnderlineColor:"transparent",tabSelectedUnderlineWidth:0,tabSelectedUnderlineTransitionDuration:0,tabBarBorder:!1},i8=()=>Dn({feature:"tabStyle",params:{...n8,tabBarBorder:!0,tabBarBackgroundColor:en(.05),tabTextColor:{ref:"textColor",mix:.7},tabSelectedTextColor:{ref:"textColor"},tabHoverTextColor:{ref:"textColor"},tabSelectedBorderColor:{ref:"borderColor"},tabSelectedBackgroundColor:Or},css:r8}),o8=i8(),s8=()=>GP().withPart(VP).withPart(UP).withPart(YP).withPart(o8).withPart(t8).withPart(FC).withParams({fontFamily:[{googleFont:"IBM Plex Sans"},"-apple-system","BlinkMacSystemFont","Segoe UI","Roboto","Oxygen-Sans","Ubuntu"]}),a8=s8(),l8={cssName:"--ag-cell-horizontal-padding",changeKey:"cellHorizontalPaddingChanged",defaultValue:16},u8={cssName:"--ag-indentation-level",changeKey:"indentationLevelChanged",defaultValue:0,noWarn:!0,cacheDefault:!0},c8={cssName:"--ag-row-group-indent-size",changeKey:"rowGroupIndentSizeChanged",defaultValue:0},qm={cssName:"--ag-row-height",changeKey:"rowHeightChanged",defaultValue:42},Jm={cssName:"--ag-header-height",changeKey:"headerHeightChanged",defaultValue:48},Ym={cssName:"--ag-list-item-height",changeKey:"listItemHeightChanged",defaultValue:24},Gd={cssName:"--ag-row-border",changeKey:"rowBorderWidthChanged",defaultValue:1,border:!0},Zm={cssName:"--ag-pinned-row-border",changeKey:"pinnedRowBorderWidthChanged",defaultValue:1,border:!0};function d8(e,t){for(const r of t.sort((n,i)=>n.moduleName.localeCompare(i.moduleName))){const n=r.css;n&&e.set(`module-${r.moduleName}`,n)}}var h8=class extends YT{constructor(){super(...arguments),this.sizeEls=new Map,this.lastKnownValues=new Map,this.sizesMeasured=!1}initVariables(){this.addManagedPropertyListener("rowHeight",()=>this.refreshRowHeightVariable()),this.getSizeEl(qm),this.getSizeEl(Jm),this.getSizeEl(Ym),this.getSizeEl(Gd),this.getSizeEl(Zm),this.refreshRowBorderWidthVariable()}getPinnedRowBorderWidth(){return this.getCSSVariablePixelValue(Zm)}getRowBorderWidth(){return this.getCSSVariablePixelValue(Gd)}getDefaultRowHeight(){return this.getCSSVariablePixelValue(qm)}getDefaultHeaderHeight(){return this.getCSSVariablePixelValue(Jm)}getDefaultCellHorizontalPadding(){return this.getCSSVariablePixelValue(l8)}getCellPaddingLeft(){const e=this.getDefaultCellHorizontalPadding(),t=this.getCSSVariablePixelValue(u8),r=this.getCSSVariablePixelValue(c8);return e-1+r*t}getCellPadding(){const e=this.getDefaultCellHorizontalPadding()-1;return this.getCellPaddingLeft()+e}getDefaultColumnMinWidth(){return Math.min(36,this.getDefaultRowHeight())}getDefaultListItemHeight(){return this.getCSSVariablePixelValue(Ym)}refreshRowHeightVariable(){const{eRootDiv:e}=this,t=e.style.getPropertyValue("--ag-line-height").trim(),r=this.gos.get("rowHeight");if(r==null||isNaN(r)||!isFinite(r))return t!==null&&e.style.setProperty("--ag-line-height",null),-1;const n=`${r}px`;return t!=n?(e.style.setProperty("--ag-line-height",n),r):t!=""?Number.parseFloat(t):-1}getCSSVariablePixelValue(e){const t=this.lastKnownValues.get(e);if(t!=null)return t;const r=this.measureSizeEl(e);return r==="detached"||r==="no-styles"?(e.cacheDefault&&this.lastKnownValues.set(e,e.defaultValue),e.defaultValue):(this.lastKnownValues.set(e,r),r)}measureSizeEl(e){const t=this.getSizeEl(e);if(t.offsetParent==null)return"detached";const r=t.offsetWidth;return r===jd?"no-styles":(this.sizesMeasured=!0,r)}getMeasurementContainer(){let e=this.eMeasurementContainer;return e||(e=this.eMeasurementContainer=Pr({tag:"div",cls:"ag-measurement-container"}),this.eRootDiv.appendChild(e)),e}getSizeEl(e){let t=this.sizeEls.get(e);if(t)return t;const r=this.getMeasurementContainer();t=Pr({tag:"div"});const{border:n,noWarn:i}=e;n?(t.className="ag-measurement-element-border",t.style.setProperty("--ag-internal-measurement-border",`var(${e.cssName}, solid ${jd}px)`)):t.style.width=`var(${e.cssName}, ${jd}px)`,r.appendChild(t),this.sizeEls.set(e,t);let o=this.measureSizeEl(e);o==="no-styles"&&!i&&Se(9,{variable:e});const s=ii(this.beans,t,()=>{const a=this.measureSizeEl(e);a==="detached"||a==="no-styles"||(this.lastKnownValues.set(e,a),a!==o&&(o=a,this.fireStylesChangedEvent(e.changeKey)))});return this.addDestroyFunc(()=>s()),t}fireStylesChangedEvent(e){e==="rowBorderWidthChanged"&&this.refreshRowBorderWidthVariable(),this.eventSvc.dispatchEvent({type:"gridStylesChanged",[e]:!0})}refreshRowBorderWidthVariable(){const e=this.getCSSVariablePixelValue(Gd);this.eRootDiv.style.setProperty("--ag-internal-row-border-width",`${e}px`)}postProcessThemeChange(e,t){e&&getComputedStyle(this.getMeasurementContainer()).getPropertyValue("--ag-legacy-styles-loaded")&&Ot(t?106:239)}getAdditionalCss(){const e=new Map;return e.set("core",[RP]),d8(e,Array.from(bA())),e}getDefaultTheme(){return a8}themeError(e){Ot(240,{theme:e})}},jd=15538,f8=class extends XT{postConstruct(){const{globalListener:e,globalSyncListener:t}=this.beans;e&&this.addGlobalListener(e,!0),t&&this.addGlobalListener(t,!1)}};function EC(e,t,r){const n=e.visibleCols.headerGroupRowCount;if(r>=n)return{column:t,headerRowIndex:r};let i=t.getParent();for(;i&&i.getProvidedColumnGroup().getLevel()>r;)i=i.getParent();const o=t.isSpanHeaderHeight();return!i||o&&i.isPadding()?{column:t,headerRowIndex:n}:{column:i,headerRowIndex:i.getProvidedColumnGroup().getLevel()}}var p8=class extends ve{constructor(){super(...arguments),this.beanName="headerNavigation",this.currentHeaderRowWithoutSpan=-1}postConstruct(){const e=this.beans;e.ctrlsSvc.whenReady(this,r=>{this.gridBodyCon=r.gridBodyCtrl});const t=fr(e);this.addManagedElementListeners(t,{mousedown:()=>{this.currentHeaderRowWithoutSpan=-1}})}getHeaderPositionForColumn(e,t){let r;const{colModel:n,colGroupSvc:i,ctrlsSvc:o}=this.beans;if(typeof e=="string"?(r=n.getCol(e),r||(r=i?.getColumnGroup(e)??null)):r=e,!r)return null;const a=o.getHeaderRowContainerCtrl()?.getAllCtrls(),l=Gt(a||[]).type==="filter",u=xn(this.beans)-1;let c=-1,f=r;for(;f;)c++,f=f.getParent();let d=c;return t&&l&&d===u-1&&d++,d===-1?null:{headerRowIndex:d,column:r}}navigateVertically(e,t){const{focusSvc:r,visibleCols:n}=this.beans,{focusedHeader:i}=r;if(!i)return!1;const{headerRowIndex:o}=i,s=i.column,a=xn(this.beans),l=this.getHeaderRowType(o),u=n.headerGroupRowCount;let{headerRowIndex:c,column:f,headerRowIndexWithoutSpan:d}=e==="UP"?g8(l,s,o):m8(s,o,u),h=!1;return c<0&&(c=0,f=s,h=!0),c>=a?(c=-1,this.currentHeaderRowWithoutSpan=-1):d!==void 0&&(this.currentHeaderRowWithoutSpan=d),!h&&!f?!1:r.focusHeaderPosition({headerPosition:{headerRowIndex:c,column:f},allowUserOverride:!0,event:t})}navigateHorizontally(e,t=!1,r){const{focusSvc:n,gos:i}=this.beans,o={...n.focusedHeader};let s,a;this.currentHeaderRowWithoutSpan!==-1?o.headerRowIndex=this.currentHeaderRowWithoutSpan:this.currentHeaderRowWithoutSpan=o.headerRowIndex,e==="LEFT"!==i.get("enableRtl")?(a="Before",s=this.findHeader(o,a)):(a="After",s=this.findHeader(o,a));const l=i.getCallback("tabToNextHeader");if(t&&l){const u=n.focusHeaderPositionFromUserFunc({userFunc:l,headerPosition:s,direction:a});if(u){const{headerRowIndex:c}=n.focusedHeader||{};c!=null&&c!=o.headerRowIndex&&(this.currentHeaderRowWithoutSpan=c)}return u}return s||!t?n.focusHeaderPosition({headerPosition:s,direction:a,fromTab:t,allowUserOverride:!0,event:r}):this.focusNextHeaderRow(o,a,r)}focusNextHeaderRow(e,t,r){const n=this.beans,i=e.headerRowIndex;let o=null,s;const a=xn(n),l=this.beans.visibleCols.allCols;if(t==="Before"){if(i<=0)return!1;o=Gt(l),s=i-1,this.currentHeaderRowWithoutSpan-=1}else o=l[0],s=i+1,this.currentHeaderRowWithoutSpan<a?this.currentHeaderRowWithoutSpan+=1:this.currentHeaderRowWithoutSpan=-1;let{column:u,headerRowIndex:c}=EC(this.beans,o,s);return c>=a&&(c=-1),n.focusSvc.focusHeaderPosition({headerPosition:{column:u,headerRowIndex:c},direction:t,fromTab:!0,allowUserOverride:!0,event:r})}scrollToColumn(e,t="After"){if(e.getPinned())return;let r;if(rr(e)){const n=e.getDisplayedLeafColumns();r=t==="Before"?Gt(n):n[0]}else r=e;this.gridBodyCon.scrollFeature.ensureColumnVisible(r)}findHeader(e,t){const{colGroupSvc:r,visibleCols:n}=this.beans;let i=e.column;if(i instanceof Ca){const l=i.getDisplayedLeafColumns();i=t==="Before"?l[0]:l[l.length-1]}const o=t==="Before"?n.getColBefore(i):n.getColAfter(i);if(!o)return;const s=n.headerGroupRowCount;if(e.headerRowIndex>=s)return{headerRowIndex:e.headerRowIndex,column:o};const a=r?.getColGroupAtLevel(o,e.headerRowIndex);return a?a.isPadding()&&o.isSpanHeaderHeight()?{headerRowIndex:n.headerGroupRowCount,column:o}:{headerRowIndex:e.headerRowIndex,column:a??o}:{headerRowIndex:o instanceof Ro&&o.isSpanHeaderHeight()?n.headerGroupRowCount:e.headerRowIndex,column:o}}getHeaderRowType(e){const t=this.beans.ctrlsSvc.getHeaderRowContainerCtrl();if(t)return t.getRowType(e)}};function g8(e,t,r){const n=r-1;if(e!=="filter"){const i=t instanceof Ro&&t.isSpanHeaderHeight();let o=t.getParent();for(;o&&(o.getProvidedColumnGroup().getLevel()>n||i&&o.isPadding());)o=o.getParent();if(o)return i?{column:o,headerRowIndex:o.getProvidedColumnGroup().getLevel(),headerRowIndexWithoutSpan:n}:{column:o,headerRowIndex:n,headerRowIndexWithoutSpan:n}}return{column:t,headerRowIndex:n,headerRowIndexWithoutSpan:n}}function m8(e,t,r){const n=t+1,i={column:e,headerRowIndex:n,headerRowIndexWithoutSpan:n};if(e instanceof Ca){if(n>=r)return{column:e.getDisplayedLeafColumns()[0],headerRowIndex:r,headerRowIndexWithoutSpan:n};let s=e.getDisplayedChildren()[0];if(s instanceof Ca&&s.isPadding()){const l=s.getDisplayedLeafColumns()[0];l.isSpanHeaderHeight()&&(s=l)}i.column=s,s instanceof Ro&&s.isSpanHeaderHeight()&&(i.headerRowIndex=r,i.headerRowIndexWithoutSpan=n)}return i}var b8=class extends ve{constructor(){super(...arguments),this.beanName="focusSvc",this.focusFallbackTimeout=null,this.needsFocusRestored=!1}wireBeans(e){this.colModel=e.colModel,this.visibleCols=e.visibleCols,this.rowRenderer=e.rowRenderer,this.navigation=e.navigation,this.filterManager=e.filterManager,this.overlays=e.overlays}postConstruct(){const e=this.clearFocusedCell.bind(this);this.addManagedEventListeners({columnPivotModeChanged:e,newColumnsLoaded:this.onColumnEverythingChanged.bind(this),columnGroupOpened:e,columnRowGroupChanged:e}),this.addDestroyFunc(iT(this.beans))}attemptToRecoverFocus(){this.needsFocusRestored=!0,this.focusFallbackTimeout!=null&&clearTimeout(this.focusFallbackTimeout),this.focusFallbackTimeout=window.setTimeout(this.setFocusRecovered.bind(this),100)}setFocusRecovered(){this.needsFocusRestored=!1,this.focusFallbackTimeout!=null&&(clearTimeout(this.focusFallbackTimeout),this.focusFallbackTimeout=null)}shouldTakeFocus(){return this.gos.get("suppressFocusAfterRefresh")?(this.setFocusRecovered(),!1):this.needsFocusRestored?(this.setFocusRecovered(),!0):this.doesRowOrCellHaveBrowserFocus()}onColumnEverythingChanged(){if(!this.focusedCell)return;const e=this.focusedCell.column,t=this.colModel.getCol(e.getId());e!==t&&this.clearFocusedCell()}getFocusCellToUseAfterRefresh(){const{gos:e,focusedCell:t}=this;return e.get("suppressFocusAfterRefresh")||e.get("suppressCellFocus")||!t||!this.doesRowOrCellHaveBrowserFocus()?null:t}getFocusHeaderToUseAfterRefresh(){return this.gos.get("suppressFocusAfterRefresh")||!this.focusedHeader||!this.isDomDataPresentInHierarchy(qt(this.beans),iC)?null:this.focusedHeader}doesRowOrCellHaveBrowserFocus(){const e=qt(this.beans);return this.isDomDataPresentInHierarchy(e,lc)?!0:this.isDomDataPresentInHierarchy(e,uc)}isDomDataPresentInHierarchy(e,t){let r=e;for(;r;){if(Yw(this.gos,r,t))return!0;r=r.parentNode}return!1}getFocusedCell(){return this.focusedCell}getFocusEventParams(e){const{rowIndex:t,rowPinned:r,column:n}=e,i={rowIndex:t,rowPinned:r,column:n,isFullWidthCell:!1},o=this.rowRenderer.getRowByPosition({rowIndex:t,rowPinned:r});return o&&(i.isFullWidthCell=o.isFullWidth()),i}clearFocusedCell(){if(this.focusedCell==null)return;const e=this.getFocusEventParams(this.focusedCell);this.focusedCell=null,this.eventSvc.dispatchEvent({type:"cellFocusCleared",...e})}setFocusedCell(e){this.setFocusRecovered();const{column:t,rowIndex:r,rowPinned:n,forceBrowserFocus:i=!1,preventScrollOnBrowserFocus:o=!1,sourceEvent:s}=e,a=this.colModel.getCol(t);if(!a){this.focusedCell=null;return}this.focusedCell={rowIndex:r,rowPinned:Yn(n),column:a};const l=this.getFocusEventParams(this.focusedCell);this.eventSvc.dispatchEvent({type:"cellFocused",...l,...this.previousCellFocusParams&&{previousParams:this.previousCellFocusParams},forceBrowserFocus:i,preventScrollOnBrowserFocus:o,sourceEvent:s}),this.previousCellFocusParams=l}isCellFocused(e){return this.focusedCell==null?!1:hC(e,this.focusedCell)}isHeaderWrapperFocused(e){if(this.focusedHeader==null)return!1;const{column:t,rowCtrl:{rowIndex:r,pinned:n}}=e,{column:i,headerRowIndex:o}=this.focusedHeader;return t===i&&r===o&&n==i.getPinned()}focusHeaderPosition(e){if(this.setFocusRecovered(),uo(this.beans))return!1;const{direction:t,fromTab:r,allowUserOverride:n,event:i,fromCell:o,rowWithoutSpanValue:s,scroll:a=!0}=e;let{headerPosition:l}=e;if(o&&this.filterManager?.isAdvFilterHeaderActive())return this.focusAdvancedFilter(l);if(n){const u=this.focusedHeader,c=xn(this.beans);if(r){const f=this.gos.getCallback("tabToNextHeader");f&&(l=this.getHeaderPositionFromUserFunc({userFunc:f,direction:t,currentPosition:u,headerPosition:l,headerRowCount:c}))}else{const f=this.gos.getCallback("navigateToNextHeader");if(f&&i){const d={key:i.key,previousHeaderPosition:u,nextHeaderPosition:l,headerRowCount:c,event:i};l=f(d)}}}return l?this.focusProvidedHeaderPosition({headerPosition:l,direction:t,event:i,fromCell:o,rowWithoutSpanValue:s,scroll:a}):!1}focusHeaderPositionFromUserFunc(e){if(uo(this.beans))return!1;const{userFunc:t,headerPosition:r,direction:n,event:i}=e,o=this.focusedHeader,s=xn(this.beans),a=this.getHeaderPositionFromUserFunc({userFunc:t,direction:n,currentPosition:o,headerPosition:r,headerRowCount:s});return!!a&&this.focusProvidedHeaderPosition({headerPosition:a,direction:n,event:i})}getHeaderPositionFromUserFunc(e){const{userFunc:t,direction:r,currentPosition:n,headerPosition:i,headerRowCount:o}=e,a=t({backwards:r==="Before",previousHeaderPosition:n,nextHeaderPosition:i,headerRowCount:o});return a===!0?n:a===!1?null:a}focusProvidedHeaderPosition(e){const{headerPosition:t,direction:r,fromCell:n,rowWithoutSpanValue:i,event:o,scroll:s=!0}=e,{column:a,headerRowIndex:l}=t,{filterManager:u,ctrlsSvc:c,headerNavigation:f}=this.beans;if(this.focusedHeader&&S6(e.headerPosition,this.focusedHeader))return!1;if(l===-1)return u?.isAdvFilterHeaderActive()?this.focusAdvancedFilter(t):this.focusGridView({column:a,event:o});s&&f?.scrollToColumn(a,r);const h=c.getHeaderRowContainerCtrl(a.getPinned())?.focusHeader(t.headerRowIndex,a,o)||!1;return f&&h&&(i!=null||n)&&(f.currentHeaderRowWithoutSpan=i??-1),h}focusFirstHeader(){if(this.overlays?.isExclusive()&&this.focusOverlay())return!0;const e=this.visibleCols.allCols[0];if(!e)return!1;const t=EC(this.beans,e,0);return this.focusHeaderPosition({headerPosition:t,rowWithoutSpanValue:0})}focusLastHeader(e){if(this.overlays?.isExclusive()&&this.focusOverlay(!0))return!0;const t=xn(this.beans)-1,r=Gt(this.visibleCols.allCols);return this.focusHeaderPosition({headerPosition:{headerRowIndex:t,column:r},rowWithoutSpanValue:-1,event:e})}focusPreviousFromFirstCell(e){return this.filterManager?.isAdvFilterHeaderActive()?this.focusAdvancedFilter(null):this.focusLastHeader(e)}isAnyCellFocused(){return!!this.focusedCell}isRowFocused(e,t){return this.focusedCell==null?!1:this.focusedCell.rowIndex===e&&this.focusedCell.rowPinned===Yn(t)}focusOverlay(e){const t=this.overlays?.isVisible()&&this.overlays.eWrapper?.getGui();return!!t&&vo(t,e)}focusGridView(e){const{backwards:t=!1,canFocusOverlay:r=!0,event:n}=e;if(this.overlays?.isExclusive())return r&&this.focusOverlay(t);if(Hc(this.beans))return t&&!uo(this.beans)?this.focusLastHeader():r&&this.focusOverlay(t)?!0:t?!1:Cs(this.beans,t);const i=t?IM(this.beans):PM(this.beans);if(i){const o=e.column??this.focusedHeader?.column,{rowIndex:s,rowPinned:a}=i,l=ri(this.beans,i);if(!o||!l||s==null)return!1;if(o.isSuppressNavigable(l)){const u=this.gos.get("enableRtl");let c;return!n||n.key===me.TAB?c=u?me.LEFT:me.RIGHT:c=n.key,this.beans.navigation?.navigateToNextCell(null,c,{rowIndex:s,column:o,rowPinned:a||null},!0),!0}return this.navigation?.ensureCellVisible({rowIndex:s,column:o,rowPinned:a}),t&&this.rowRenderer.getRowByPosition(i)?.isFullWidth()&&this.navigation?.tryToFocusFullWidthRow(i,t)||(this.setFocusedCell({rowIndex:s,column:o,rowPinned:Yn(a),forceBrowserFocus:!0}),this.beans.rangeSvc?.setRangeToCell({rowIndex:s,rowPinned:a,column:o})),!0}return!!(r&&this.focusOverlay(t)||t&&this.focusLastHeader())}focusAdvancedFilter(e){return this.advFilterFocusColumn=e?.column,this.beans.advancedFilter?.getCtrl().focusHeaderComp()??!1}focusNextFromAdvancedFilter(e,t){const r=(t?void 0:this.advFilterFocusColumn)??this.visibleCols.allCols?.[0];return e?this.focusHeaderPosition({headerPosition:{column:r,headerRowIndex:xn(this.beans)-1}}):this.focusGridView({column:r})}clearAdvancedFilterColumn(){this.advFilterFocusColumn=void 0}},y8=class extends ve{constructor(){super(...arguments),this.beanName="scrollVisibleSvc"}wireBeans(e){this.ctrlsSvc=e.ctrlsSvc,this.colAnimation=e.colAnimation}postConstruct(){this.horizontalScrollShowing=this.gos.get("alwaysShowHorizontalScroll")===!0,this.verticalScrollShowing=this.gos.get("alwaysShowVerticalScroll")===!0,this.getScrollbarWidth(),this.addManagedEventListeners({displayedColumnsChanged:this.updateScrollVisible.bind(this),displayedColumnsWidthChanged:this.updateScrollVisible.bind(this)})}updateScrollVisible(){const{colAnimation:e}=this;e?.isActive()?e.executeLaterVMTurn(()=>{e.executeLaterVMTurn(()=>this.updateScrollVisibleImpl())}):this.updateScrollVisibleImpl()}updateScrollVisibleImpl(){const e=this.ctrlsSvc.get("center");if(!e||this.colAnimation?.isActive())return;const t={horizontalScrollShowing:e.isHorizontalScrollShowing(),verticalScrollShowing:this.verticalScrollShowing};this.setScrollsVisible(t),this.updateScrollGap()}updateScrollGap(){const e=this.ctrlsSvc.get("center"),t=e.hasHorizontalScrollGap(),r=e.hasVerticalScrollGap();(this.horizontalScrollGap!==t||this.verticalScrollGap!==r)&&(this.horizontalScrollGap=t,this.verticalScrollGap=r,this.eventSvc.dispatchEvent({type:"scrollGapChanged"}))}setScrollsVisible(e){(this.horizontalScrollShowing!==e.horizontalScrollShowing||this.verticalScrollShowing!==e.verticalScrollShowing)&&(this.horizontalScrollShowing=e.horizontalScrollShowing,this.verticalScrollShowing=e.verticalScrollShowing,this.eventSvc.dispatchEvent({type:"scrollVisibilityChanged"}))}getScrollbarWidth(){if(this.scrollbarWidth==null){const e=this.gos.get("scrollbarWidth"),r=typeof e=="number"&&e>=0?e:Z4();r!=null&&(this.scrollbarWidth=r,this.eventSvc.dispatchEvent({type:"scrollbarWidthChanged"}))}return this.scrollbarWidth}},v8=class extends ve{constructor(){super(...arguments),this.beanName="gridDestroySvc",this.destroyCalled=!1}destroy(){if(this.destroyCalled)return;const{stateSvc:e,ctrlsSvc:t,context:r}=this.beans;this.eventSvc.dispatchEvent({type:"gridPreDestroyed",state:e?.getState()??{}}),this.destroyCalled=!0,t.get("gridCtrl")?.destroyGridUi(),r.destroy(),super.destroy()}},wu=new Set(["gridPreDestroyed","fillStart","pasteStart"]),w8=["columnEverythingChanged","newColumnsLoaded","columnPivotModeChanged","pivotMaxColumnsExceeded","columnRowGroupChanged","expandOrCollapseAll","columnPivotChanged","gridColumnsChanged","columnValueChanged","columnMoved","columnVisible","columnPinned","columnGroupOpened","columnResized","displayedColumnsChanged","virtualColumnsChanged","columnHeaderMouseOver","columnHeaderMouseLeave","columnHeaderClicked","columnHeaderContextMenu","asyncTransactionsFlushed","rowGroupOpened","rowDataUpdated","pinnedRowDataChanged","pinnedRowsChanged","rangeSelectionChanged","cellSelectionChanged","chartCreated","chartRangeSelectionChanged","chartOptionsChanged","chartDestroyed","toolPanelVisibleChanged","toolPanelSizeChanged","modelUpdated","cutStart","cutEnd","pasteStart","pasteEnd","fillStart","fillEnd","cellSelectionDeleteStart","cellSelectionDeleteEnd","rangeDeleteStart","rangeDeleteEnd","undoStarted","undoEnded","redoStarted","redoEnded","cellClicked","cellDoubleClicked","cellMouseDown","cellContextMenu","cellValueChanged","cellEditRequest","rowValueChanged","headerFocused","cellFocused","rowSelected","selectionChanged","tooltipShow","tooltipHide","cellKeyDown","cellMouseOver","cellMouseOut","filterChanged","filterModified","filterUiChanged","filterOpened","floatingFilterUiChanged","advancedFilterBuilderVisibleChanged","sortChanged","virtualRowRemoved","rowClicked","rowDoubleClicked","gridReady","gridPreDestroyed","gridSizeChanged","viewportChanged","firstDataRendered","dragStarted","dragStopped","dragCancelled","rowEditingStarted","rowEditingStopped","cellEditingStarted","cellEditingStopped","bodyScroll","bodyScrollEnd","paginationChanged","componentStateChanged","storeRefreshed","stateUpdated","columnMenuVisibleChanged","contextMenuVisibleChanged","rowDragEnter","rowDragMove","rowDragLeave","rowDragEnd","rowDragCancel","findChanged","rowResizeStarted","rowResizeEnded","columnsReset","bulkEditingStarted","bulkEditingStopped","batchEditingStarted","batchEditingStopped"],Rp=w8.reduce((e,t)=>(e[t]=GA(t),e),{}),Ns=(e,t)=>({tag:"span",ref:`eSort${e}`,cls:`ag-sort-indicator-icon ag-sort-${t} ag-hidden`,attrs:{"aria-hidden":"true"}}),C8={tag:"span",cls:"ag-sort-indicator-container",children:[Ns("Order","order"),Ns("Asc","ascending-icon"),Ns("Desc","descending-icon"),Ns("Mixed","mixed-icon"),Ns("None","none-icon")]},_p=class extends Xt{constructor(e){super(),this.eSortOrder=Ve,this.eSortAsc=Ve,this.eSortDesc=Ve,this.eSortMixed=Ve,this.eSortNone=Ve,e||this.setTemplate(C8)}attachCustomElements(e,t,r,n,i){this.eSortOrder=e,this.eSortAsc=t,this.eSortDesc=r,this.eSortMixed=n,this.eSortNone=i}setupSort(e,t=!1){if(this.column=e,this.suppressOrder=t,this.setupMultiSortIndicator(),!e.isSortable()&&!e.getColDef().showRowGroup)return;this.addInIcon("sortAscending",this.eSortAsc,e),this.addInIcon("sortDescending",this.eSortDesc,e),this.addInIcon("sortUnSort",this.eSortNone,e);const r=this.updateIcons.bind(this),n=this.onSortChanged.bind(this);this.addManagedPropertyListener("unSortIcon",r),this.addManagedEventListeners({newColumnsLoaded:r,sortChanged:n,columnRowGroupChanged:n}),this.onSortChanged()}addInIcon(e,t,r){if(t==null)return;const n=on(e,this.beans,r);n&&t.appendChild(n)}onSortChanged(){this.updateIcons(),this.suppressOrder||this.updateSortOrder()}updateIcons(){const{eSortAsc:e,eSortDesc:t,eSortNone:r,column:n,gos:i,beans:o}=this,s=o.sortSvc.getDisplaySortForColumn(n);if(e&&Kt(e,s==="asc",{skipAriaHidden:!0}),t&&Kt(t,s==="desc",{skipAriaHidden:!0}),r){const a=!n.getColDef().unSortIcon&&!i.get("unSortIcon"),l=s==null;Kt(r,!a&&l,{skipAriaHidden:!0})}}setupMultiSortIndicator(){const{eSortMixed:e,column:t,gos:r}=this;this.addInIcon("sortUnSort",e,t);const n=t.getColDef().showRowGroup;Fn(r)&&n&&(this.addManagedEventListeners({sortChanged:this.updateMultiSortIndicator.bind(this),columnRowGroupChanged:this.updateMultiSortIndicator.bind(this)}),this.updateMultiSortIndicator())}updateMultiSortIndicator(){const{eSortMixed:e,beans:t,column:r}=this;if(e){const n=t.sortSvc.getDisplaySortForColumn(r)==="mixed";Kt(e,n,{skipAriaHidden:!0})}}updateSortOrder(){const{eSortOrder:e,column:t,beans:{sortSvc:r}}=this;if(!e)return;const n=r.getColumnsWithSortingOrdered(),i=r.getDisplaySortIndexForColumn(t)??-1,o=n.some(a=>r.getDisplaySortIndexForColumn(a)??!1),s=i>=0&&o;Kt(e,s,{skipAriaHidden:!0}),i>=0?e.textContent=(i+1).toString():zr(e)}},F8={selector:"AG-SORT-INDICATOR",component:_p},Sa=["asc","desc",null],S8=class extends ve{constructor(){super(...arguments),this.beanName="sortSvc"}progressSort(e,t,r){const n=this.getNextSortDirection(e);this.setSortForColumn(e,n,t,r)}progressSortFromEvent(e,t){const n=this.gos.get("multiSortKey")==="ctrl"?t.ctrlKey||t.metaKey:t.shiftKey;this.progressSort(e,n,"uiColumnSorted")}setSortForColumn(e,t,r,n){t!=="asc"&&t!=="desc"&&(t=null);const{gos:i,showRowGroupCols:o}=this.beans,s=Fn(i);let a=[e];if(s&&e.getColDef().showRowGroup){const f=o?.getSourceColumnsForGroupColumn?.(e)?.filter(d=>d.isSortable());f&&(a=[e,...f])}for(const c of a)this.setColSort(c,t,n);const l=(r||i.get("alwaysMultiSort"))&&!i.get("suppressMultiSort"),u=[];if(!l){const c=this.clearSortBarTheseColumns(a,n);u.push(...c)}this.updateSortIndex(e),u.push(...a),this.dispatchSortChangedEvents(n,u)}updateSortIndex(e){const{gos:t,colModel:r,showRowGroupCols:n}=this.beans,i=Fn(t),o=n?.getShowRowGroupCol(e.getId()),s=i&&o||e,a=this.getColumnsWithSortingOrdered();r.forAllCols(c=>this.setColSortIndex(c,null));const l=a.filter(c=>i&&c.getColDef().showRowGroup?!1:c!==s);(s.getSort()?[...l,s]:l).forEach((c,f)=>this.setColSortIndex(c,f))}onSortChanged(e,t){this.dispatchSortChangedEvents(e,t)}isSortActive(){let e=!1;return this.beans.colModel.forAllCols(t=>{t.getSort()&&(e=!0)}),e}dispatchSortChangedEvents(e,t){const r={type:"sortChanged",source:e};t&&(r.columns=t),this.eventSvc.dispatchEvent(r)}clearSortBarTheseColumns(e,t){const r=[];return this.beans.colModel.forAllCols(n=>{e.includes(n)||(n.getSort()&&r.push(n),this.setColSort(n,void 0,t))}),r}getNextSortDirection(e){const t=e.getColDef().sortingOrder??this.gos.get("sortingOrder")??Sa,r=t.indexOf(e.getSort()),n=r<0,i=r==t.length-1;return n||i?t[0]:t[r+1]}getIndexedSortMap(){const{gos:e,colModel:t,showRowGroupCols:r,rowGroupColsSvc:n}=this.beans;let i=[];if(t.forAllCols(u=>{u.getSort()&&i.push(u)}),t.isPivotMode()){const u=Fn(e);i=i.filter(c=>{const f=!!c.getAggFunc(),d=!c.isPrimary(),h=u?r?.getShowRowGroupCol(c.getId()):c.getColDef().showRowGroup;return f||d||h})}const o=n?.columns.filter(u=>!!u.getSort())??[],s={};i.forEach((u,c)=>s[u.getId()]=c),i.sort((u,c)=>{const f=u.getSortIndex(),d=c.getSortIndex();if(f!=null&&d!=null)return f-d;if(f==null&&d==null){const h=s[u.getId()],g=s[c.getId()];return h>g?1:-1}else return d==null?-1:1});const a=Fn(e)&&!!o.length;a&&(i=[...new Set(i.map(u=>r?.getShowRowGroupCol(u.getId())??u))]);const l=new Map;if(i.forEach((u,c)=>l.set(u,c)),a)for(const u of o){const c=r.getShowRowGroupCol(u.getId());l.set(u,l.get(c))}return l}getColumnsWithSortingOrdered(){return[...this.getIndexedSortMap().entries()].sort(([,e],[,t])=>e-t).map(([e])=>e)}getSortModel(){return this.getColumnsWithSortingOrdered().filter(e=>e.getSort()).map(e=>({sort:e.getSort(),colId:e.getId()}))}getSortOptions(){return this.getColumnsWithSortingOrdered().filter(e=>e.getSort()).map(e=>({sort:e.getSort(),column:e}))}canColumnDisplayMixedSort(e){const t=Fn(this.gos),r=!!e.getColDef().showRowGroup;return t&&r}getDisplaySortForColumn(e){const t=this.beans.showRowGroupCols?.getSourceColumnsForGroupColumn(e);if(!this.canColumnDisplayMixedSort(e)||!t?.length)return e.getSort();const n=e.getColDef().field!=null||!!e.getColDef().valueGetter?[e,...t]:t,i=n[0].getSort();return n.every(s=>s.getSort()==i)?i:"mixed"}getDisplaySortIndexForColumn(e){return this.getIndexedSortMap().get(e)}setupHeader(e,t,r){let n=0;e.addManagedListeners(t,{movingChanged:()=>{n=Date.now()}}),r&&e.addManagedElementListeners(r,{click:o=>{const s=t.isMoving(),l=Date.now()-n<50;s||l||this.progressSortFromEvent(t,o)}});const i=()=>{const o=t.getSort();if(e.toggleCss("ag-header-cell-sorted-asc",o==="asc"),e.toggleCss("ag-header-cell-sorted-desc",o==="desc"),e.toggleCss("ag-header-cell-sorted-none",!o),t.getColDef().showRowGroup){const l=!this.beans.showRowGroupCols?.getSourceColumnsForGroupColumn(t)?.every(u=>t.getSort()==u.getSort());e.toggleCss("ag-header-cell-sorted-mixed",l)}};e.addManagedEventListeners({sortChanged:i,columnRowGroupChanged:i})}initCol(e){const{sort:t,initialSort:r,sortIndex:n,initialSortIndex:i}=e.colDef;t!==void 0?(t==="asc"||t==="desc")&&(e.sort=t):(r==="asc"||r==="desc")&&(e.sort=r),n!==void 0?n!==null&&(e.sortIndex=n):i!==null&&(e.sortIndex=i)}updateColSort(e,t,r){t!==void 0&&(t==="desc"||t==="asc"?this.setColSort(e,t,r):this.setColSort(e,void 0,r))}setColSort(e,t,r){e.sort!==t&&(e.sort=t,e.dispatchColEvent("sortChanged",r)),e.dispatchStateUpdatedEvent("sort")}setColSortIndex(e,t){e.sortIndex=t,e.dispatchStateUpdatedEvent("sortIndex")}createSortIndicator(e){return new _p(e)}getSortIndicatorSelector(){return F8}},cs={agSetColumnFilter:"SetFilter",agSetColumnFloatingFilter:"SetFilter",agMultiColumnFilter:"MultiFilter",agMultiColumnFloatingFilter:"MultiFilter",agGroupColumnFilter:"GroupFilter",agGroupColumnFloatingFilter:"GroupFilter",agGroupCellRenderer:"GroupCellRenderer",agGroupRowRenderer:"GroupCellRenderer",agRichSelect:"RichSelect",agRichSelectCellEditor:"RichSelect",agDetailCellRenderer:"SharedMasterDetail",agSparklineCellRenderer:"Sparklines",agDragAndDropImage:"SharedDragAndDrop",agColumnHeader:"ColumnHeaderComp",agColumnGroupHeader:"ColumnGroupHeaderComp",agSortIndicator:"Sort",agAnimateShowChangeCellRenderer:"HighlightChanges",agAnimateSlideCellRenderer:"HighlightChanges",agLoadingCellRenderer:"LoadingCellRenderer",agSkeletonCellRenderer:"SkeletonCellRenderer",agCheckboxCellRenderer:"CheckboxCellRenderer",agLoadingOverlay:"Overlay",agNoRowsOverlay:"Overlay",agTooltipComponent:"Tooltip",agReadOnlyFloatingFilter:"CustomFilter",agTextColumnFilter:"TextFilter",agNumberColumnFilter:"NumberFilter",agDateColumnFilter:"DateFilter",agDateInput:"DateFilter",agTextColumnFloatingFilter:"TextFilter",agNumberColumnFloatingFilter:"NumberFilter",agDateColumnFloatingFilter:"DateFilter",agCellEditor:"TextEditor",agSelectCellEditor:"SelectEditor",agTextCellEditor:"TextEditor",agNumberCellEditor:"NumberEditor",agDateCellEditor:"DateEditor",agDateStringCellEditor:"DateEditor",agCheckboxCellEditor:"CheckboxEditor",agLargeTextCellEditor:"LargeTextEditor",agMenuItem:"MenuItem",agColumnsToolPanel:"ColumnsToolPanel",agFiltersToolPanel:"FiltersToolPanel",agNewFiltersToolPanel:"NewFiltersToolPanel",agAggregationComponent:"StatusBar",agSelectedRowCountComponent:"StatusBar",agTotalRowCountComponent:"StatusBar",agFilteredRowCountComponent:"StatusBar",agTotalAndFilteredRowCountComponent:"StatusBar",agFindCellRenderer:"Find"};function Xm(e){return`"${e}"`}var x8=()=>({checkboxSelection:{version:"32.2",message:"Use `rowSelection.checkboxes` in `GridOptions` instead."},headerCheckboxSelection:{version:"32.2",message:"Use `rowSelection.headerCheckbox = true` in `GridOptions` instead."},headerCheckboxSelectionFilteredOnly:{version:"32.2",message:'Use `rowSelection.selectAll = "filtered"` in `GridOptions` instead.'},headerCheckboxSelectionCurrentPageOnly:{version:"32.2",message:'Use `rowSelection.selectAll = "currentPage"` in `GridOptions` instead.'},showDisabledCheckboxes:{version:"32.2",message:"Use `rowSelection.hideDisabledCheckboxes = true` in `GridOptions` instead."},rowGroupingHierarchy:{version:"34.3",message:"Use `colDef.groupHierarchy` instead."}}),k8={aggFunc:"SharedAggregation",autoHeight:"RowAutoHeight",cellClass:"CellStyle",cellClassRules:"CellStyle",cellEditor:({cellEditor:e,editable:t})=>t?typeof e=="string"?cs[e]??"CustomEditor":"CustomEditor":null,cellRenderer:({cellRenderer:e})=>typeof e!="string"?null:cs[e],cellStyle:"CellStyle",columnChooserParams:"ColumnMenu",contextMenuItems:"ContextMenu",dndSource:"DragAndDrop",dndSourceOnRowDrag:"DragAndDrop",editable:({editable:e,cellEditor:t})=>e&&!t?"TextEditor":null,enableCellChangeFlash:"HighlightChanges",enablePivot:"SharedPivot",enableRowGroup:"SharedRowGrouping",enableValue:"SharedAggregation",filter:({filter:e})=>e&&typeof e!="string"&&typeof e!="boolean"?"CustomFilter":typeof e=="string"?cs[e]??"ColumnFilter":"ColumnFilter",floatingFilter:"ColumnFilter",getQuickFilterText:"QuickFilter",headerTooltip:"Tooltip",headerTooltipValueGetter:"Tooltip",mainMenuItems:"ColumnMenu",menuTabs:e=>{const t=["columnsMenuTab","generalMenuTab"];return e.menuTabs?.some(r=>t.includes(r))?"ColumnMenu":null},pivot:"SharedPivot",pivotIndex:"SharedPivot",rowDrag:"RowDrag",rowGroup:"SharedRowGrouping",rowGroupIndex:"SharedRowGrouping",tooltipField:"Tooltip",tooltipValueGetter:"Tooltip",tooltipComponentSelector:"Tooltip",spanRows:"CellSpan",groupHierarchy:"SharedRowGrouping"},E8=()=>({autoHeight:{supportedRowModels:["clientSide","serverSide"],validate:(t,{paginationAutoPageSize:r})=>r?"colDef.autoHeight is not supported with paginationAutoPageSize.":null},cellRendererParams:{validate:t=>(t.rowGroup!=null||t.rowGroupIndex!=null||t.cellRenderer==="agGroupCellRenderer")&&"checkbox"in t.cellRendererParams?'Since v33.0, `cellRendererParams.checkbox` has been deprecated. Use `rowSelection.checkboxLocation = "autoGroupColumn"` instead.':null},flex:{validate:(t,r)=>r.autoSizeStrategy?"colDef.flex is not supported with gridOptions.autoSizeStrategy":null},headerCheckboxSelection:{supportedRowModels:["clientSide","serverSide"],validate:(t,{rowSelection:r})=>r==="multiple"?null:"headerCheckboxSelection is only supported with rowSelection=multiple"},headerCheckboxSelectionCurrentPageOnly:{supportedRowModels:["clientSide"],validate:(t,{rowSelection:r})=>r==="multiple"?null:"headerCheckboxSelectionCurrentPageOnly is only supported with rowSelection=multiple"},headerCheckboxSelectionFilteredOnly:{supportedRowModels:["clientSide"],validate:(t,{rowSelection:r})=>r==="multiple"?null:"headerCheckboxSelectionFilteredOnly is only supported with rowSelection=multiple"},headerValueGetter:{validate:t=>{const r=t.headerValueGetter;return typeof r=="function"||typeof r=="string"?null:"headerValueGetter must be a function or a valid string expression"}},icons:{validate:({icons:t})=>{if(t){if(t.smallDown)return An(262);if(t.smallLeft)return An(263);if(t.smallRight)return An(264)}return null}},sortingOrder:{validate:t=>{const r=t.sortingOrder;if(Array.isArray(r)&&r.length>0){const n=r.filter(i=>!Sa.includes(i));if(n.length>0)return`sortingOrder must be an array with elements from [${Sa.map(Zu).join()}], currently it includes [${n.map(Zu).join()}]`}else if(!Array.isArray(r)||r.length<=0)return`sortingOrder must be an array with at least one element, currently it's ${r}`;return null}},type:{validate:t=>{const r=t.type;return r instanceof Array?r.some(i=>typeof i!="string")?"if colDef.type is supplied an array it should be of type 'string[]'":null:typeof r=="string"?null:"colDef.type should be of type 'string' | 'string[]'"}},rowSpan:{validate:(t,{suppressRowTransform:r})=>r?null:"colDef.rowSpan requires suppressRowTransform to be enabled."},spanRows:{dependencies:{editable:{required:[!1,void 0]},rowDrag:{required:[!1,void 0]},colSpan:{required:[void 0]},rowSpan:{required:[void 0]}},validate:(t,{rowSelection:r,cellSelection:n,suppressRowTransform:i,enableCellSpan:o,rowDragEntireRow:s,enableCellTextSelection:a})=>typeof r=="object"&&r?.mode==="singleRow"&&r?.enableClickSelection?"colDef.spanRows is not supported with rowSelection.clickSelection":n?"colDef.spanRows is not supported with cellSelection.":i?"colDef.spanRows is not supported with suppressRowTransform.":o?s?"colDef.spanRows is not supported with rowDragEntireRow.":a?"colDef.spanRows is not supported with enableCellTextSelection.":null:"colDef.spanRows requires enableCellSpan to be enabled."},groupHierarchy:{validate(t,{groupHierarchyConfig:r={}},n){const i=new Set(["year","quarter","month","formattedMonth","day","hour","minute","second"]),o=[];for(const s of t.groupHierarchy??[]){if(typeof s=="object"){n.validation?.validateColDef(s);continue}!i.has(s)&&!(s in r)&&o.push(Xm(s))}if(o.length>0){const s=`The following parts of colDef.groupHierarchy are not recognised: ${o.join(", ")}.`,a=`Choose one of ${[...i].map(Xm).join(", ")}, or define your own parts in gridOptions.groupHierarchyConfig.`;return`${s}
${a}`}return null}}}),R8={headerName:void 0,columnGroupShow:void 0,headerStyle:void 0,headerClass:void 0,toolPanelClass:void 0,headerValueGetter:void 0,pivotKeys:void 0,groupId:void 0,colId:void 0,sort:void 0,initialSort:void 0,field:void 0,type:void 0,cellDataType:void 0,tooltipComponent:void 0,tooltipField:void 0,headerTooltip:void 0,headerTooltipValueGetter:void 0,cellClass:void 0,showRowGroup:void 0,filter:void 0,initialAggFunc:void 0,defaultAggFunc:void 0,aggFunc:void 0,pinned:void 0,initialPinned:void 0,chartDataType:void 0,cellAriaRole:void 0,cellEditorPopupPosition:void 0,headerGroupComponent:void 0,headerGroupComponentParams:void 0,cellStyle:void 0,cellRenderer:void 0,cellRendererParams:void 0,cellEditor:void 0,cellEditorParams:void 0,filterParams:void 0,pivotValueColumn:void 0,headerComponent:void 0,headerComponentParams:void 0,floatingFilterComponent:void 0,floatingFilterComponentParams:void 0,tooltipComponentParams:void 0,refData:void 0,columnChooserParams:void 0,children:void 0,sortingOrder:void 0,allowedAggFuncs:void 0,menuTabs:void 0,pivotTotalColumnIds:void 0,cellClassRules:void 0,icons:void 0,sortIndex:void 0,initialSortIndex:void 0,flex:void 0,initialFlex:void 0,width:void 0,initialWidth:void 0,minWidth:void 0,maxWidth:void 0,rowGroupIndex:void 0,initialRowGroupIndex:void 0,pivotIndex:void 0,initialPivotIndex:void 0,suppressColumnsToolPanel:void 0,suppressFiltersToolPanel:void 0,openByDefault:void 0,marryChildren:void 0,suppressStickyLabel:void 0,hide:void 0,initialHide:void 0,rowGroup:void 0,initialRowGroup:void 0,pivot:void 0,initialPivot:void 0,checkboxSelection:void 0,showDisabledCheckboxes:void 0,headerCheckboxSelection:void 0,headerCheckboxSelectionFilteredOnly:void 0,headerCheckboxSelectionCurrentPageOnly:void 0,suppressHeaderMenuButton:void 0,suppressMovable:void 0,lockPosition:void 0,lockVisible:void 0,lockPinned:void 0,unSortIcon:void 0,suppressSizeToFit:void 0,suppressAutoSize:void 0,enableRowGroup:void 0,enablePivot:void 0,enableValue:void 0,editable:void 0,suppressPaste:void 0,suppressNavigable:void 0,enableCellChangeFlash:void 0,rowDrag:void 0,dndSource:void 0,autoHeight:void 0,wrapText:void 0,sortable:void 0,resizable:void 0,singleClickEdit:void 0,floatingFilter:void 0,cellEditorPopup:void 0,suppressFillHandle:void 0,wrapHeaderText:void 0,autoHeaderHeight:void 0,dndSourceOnRowDrag:void 0,valueGetter:void 0,valueSetter:void 0,filterValueGetter:void 0,keyCreator:void 0,valueFormatter:void 0,valueParser:void 0,comparator:void 0,equals:void 0,pivotComparator:void 0,suppressKeyboardEvent:void 0,suppressHeaderKeyboardEvent:void 0,colSpan:void 0,rowSpan:void 0,spanRows:void 0,getQuickFilterText:void 0,onCellValueChanged:void 0,onCellClicked:void 0,onCellDoubleClicked:void 0,onCellContextMenu:void 0,rowDragText:void 0,tooltipValueGetter:void 0,tooltipComponentSelector:void 0,cellRendererSelector:void 0,cellEditorSelector:void 0,suppressSpanHeaderHeight:void 0,useValueFormatterForExport:void 0,useValueParserForImport:void 0,mainMenuItems:void 0,contextMenuItems:void 0,suppressFloatingFilterButton:void 0,suppressHeaderFilterButton:void 0,suppressHeaderContextMenu:void 0,loadingCellRenderer:void 0,loadingCellRendererParams:void 0,loadingCellRendererSelector:void 0,context:void 0,dateComponent:void 0,dateComponentParams:void 0,getFindText:void 0,rowGroupingHierarchy:void 0,groupHierarchy:void 0},_8=()=>Object.keys(R8),A8=()=>({objectName:"colDef",allProperties:_8(),docsUrl:"column-properties/",deprecations:x8(),validations:E8()}),T8=["overlayLoadingTemplate","overlayNoRowsTemplate","gridId","quickFilterText","rowModelType","editType","domLayout","clipboardDelimiter","rowGroupPanelShow","multiSortKey","pivotColumnGroupTotals","pivotRowTotals","pivotPanelShow","fillHandleDirection","groupDisplayType","treeDataDisplayType","treeDataChildrenField","treeDataParentIdField","colResizeDefault","tooltipTrigger","serverSidePivotResultFieldSeparator","columnMenu","tooltipShowMode","invalidEditValueMode","grandTotalRow","themeCssLayer","findSearchValue","styleNonce","renderingMode"],D8=["components","rowStyle","context","autoGroupColumnDef","localeText","icons","datasource","dragAndDropImageComponentParams","serverSideDatasource","viewportDatasource","groupRowRendererParams","aggFuncs","fullWidthCellRendererParams","defaultColGroupDef","defaultColDef","defaultCsvExportParams","defaultExcelExportParams","columnTypes","rowClassRules","detailCellRendererParams","loadingCellRendererParams","loadingOverlayComponentParams","noRowsOverlayComponentParams","popupParent","themeStyleContainer","statusBar","chartThemeOverrides","customChartThemes","chartToolPanelsDef","dataTypeDefinitions","advancedFilterParent","advancedFilterBuilderParams","advancedFilterParams","initialState","autoSizeStrategy","selectionColumnDef","findOptions","filterHandlers","groupHierarchyConfig"],M8=["sortingOrder","alignedGrids","rowData","columnDefs","excelStyles","pinnedTopRowData","pinnedBottomRowData","chartThemes","rowClass","paginationPageSizeSelector"],RC=["rowHeight","detailRowHeight","rowBuffer","headerHeight","groupHeaderHeight","groupLockGroupColumns","floatingFiltersHeight","pivotHeaderHeight","pivotGroupHeaderHeight","groupDefaultExpanded","pivotDefaultExpanded","viewportRowModelPageSize","viewportRowModelBufferSize","autoSizePadding","maxBlocksInCache","maxConcurrentDatasourceRequests","tooltipShowDelay","tooltipHideDelay","cacheOverflowSize","paginationPageSize","cacheBlockSize","infiniteInitialRowCount","serverSideInitialRowCount","scrollbarWidth","asyncTransactionWaitMillis","blockLoadDebounceMillis","keepDetailRowsCount","undoRedoCellEditingLimit","cellFlashDuration","cellFadeDuration","tabIndex","pivotMaxGeneratedColumns","rowDragInsertDelay"],P8=["theme","rowSelection"],I8=["cellSelection","sideBar","rowNumbers","suppressGroupChangesColumnVisibility","groupAggFiltering","suppressStickyTotalRow","groupHideParentOfSingleChild","enableRowPinning"],_C=["loadThemeGoogleFonts","suppressMakeColumnVisibleAfterUnGroup","suppressRowClickSelection","suppressCellFocus","suppressHeaderFocus","suppressHorizontalScroll","groupSelectsChildren","alwaysShowHorizontalScroll","alwaysShowVerticalScroll","debug","enableBrowserTooltips","enableCellExpressions","groupSuppressBlankHeader","suppressMenuHide","suppressRowDeselection","unSortIcon","suppressMultiSort","alwaysMultiSort","singleClickEdit","suppressLoadingOverlay","suppressNoRowsOverlay","suppressAutoSize","skipHeaderOnAutoSize","suppressColumnMoveAnimation","suppressMoveWhenColumnDragging","suppressMovableColumns","suppressFieldDotNotation","enableRangeSelection","enableRangeHandle","enableFillHandle","suppressClearOnFillReduction","deltaSort","suppressTouch","allowContextMenuWithControlKey","suppressContextMenu","suppressDragLeaveHidesColumns","suppressRowGroupHidesColumns","suppressMiddleClickScrolls","suppressPreventDefaultOnMouseWheel","suppressCopyRowsToClipboard","copyHeadersToClipboard","copyGroupHeadersToClipboard","pivotMode","suppressAggFuncInHeader","suppressColumnVirtualisation","alwaysAggregateAtRootLevel","suppressFocusAfterRefresh","functionsReadOnly","animateRows","groupSelectsFiltered","groupRemoveSingleChildren","groupRemoveLowestSingleChildren","enableRtl","enableCellSpan","suppressClickEdit","rowDragEntireRow","rowDragManaged","suppressRowDrag","suppressMoveWhenRowDragging","rowDragMultiRow","enableGroupEdit","embedFullWidthRows","suppressPaginationPanel","groupHideOpenParents","groupAllowUnbalanced","pagination","paginationAutoPageSize","suppressScrollOnNewData","suppressScrollWhenPopupsAreOpen","purgeClosedRowNodes","cacheQuickFilter","includeHiddenColumnsInQuickFilter","ensureDomOrder","accentedSort","suppressChangeDetection","valueCache","valueCacheNeverExpires","aggregateOnlyChangedColumns","suppressAnimationFrame","suppressExcelExport","suppressCsvExport","includeHiddenColumnsInAdvancedFilter","suppressMultiRangeSelection","enterNavigatesVerticallyAfterEdit","enterNavigatesVertically","suppressPropertyNamesCheck","rowMultiSelectWithClick","suppressRowHoverHighlight","suppressRowTransform","suppressClipboardPaste","suppressLastEmptyLineOnPaste","enableCharts","suppressMaintainUnsortedOrder","enableCellTextSelection","suppressBrowserResizeObserver","suppressMaxRenderedRowRestriction","excludeChildrenWhenTreeDataFiltering","tooltipMouseTrack","tooltipInteraction","keepDetailRows","paginateChildRows","preventDefaultOnContextMenu","undoRedoCellEditing","allowDragFromColumnsToolPanel","pivotSuppressAutoColumn","suppressExpandablePivotGroups","debounceVerticalScrollbar","detailRowAutoHeight","serverSideSortAllLevels","serverSideEnableClientSideSort","serverSideOnlyRefreshFilteredGroups","suppressAggFilteredOnly","showOpenedGroup","suppressClipboardApi","suppressModelUpdateAfterUpdateTransaction","stopEditingWhenCellsLoseFocus","groupMaintainOrder","columnHoverHighlight","readOnlyEdit","suppressRowVirtualisation","enableCellEditingOnBackspace","resetRowDataOnUpdate","removePivotHeaderRowWhenSingleValueColumn","suppressCopySingleCellRanges","suppressGroupRowsSticky","suppressCutToClipboard","rowGroupPanelSuppressSort","allowShowChangeAfterFilter","enableAdvancedFilter","masterDetail","treeData","reactiveCustomComponents","applyQuickFilterBeforePivotOrAgg","suppressServerSideFullWidthLoadingRow","suppressAdvancedFilterEval","loading","maintainColumnOrder","enableStrictPivotColumnOrder","suppressSetFilterByDefault","enableFilterHandlers","suppressStartEditOnTab","hidePaddedHeaderRows","ssrmExpandAllAffectsAllRows"],B8=["doesExternalFilterPass","processPivotResultColDef","processPivotResultColGroupDef","getBusinessKeyForNode","isRowSelectable","rowDragText","groupRowRenderer","dragAndDropImageComponent","fullWidthCellRenderer","loadingCellRenderer","loadingOverlayComponent","noRowsOverlayComponent","detailCellRenderer","quickFilterParser","quickFilterMatcher","getLocaleText","isExternalFilterPresent","getRowHeight","getRowClass","getRowStyle","getFullRowEditValidationErrors","getContextMenuItems","getMainMenuItems","processRowPostCreate","processCellForClipboard","getGroupRowAgg","isFullWidthRow","sendToClipboard","focusGridInnerElement","navigateToNextHeader","tabToNextHeader","navigateToNextCell","tabToNextCell","processCellFromClipboard","getDocument","postProcessPopup","getChildCount","getDataPath","isRowMaster","postSortRows","processHeaderForClipboard","processUnpinnedColumns","processGroupHeaderForClipboard","paginationNumberFormatter","processDataFromClipboard","getServerSideGroupKey","isServerSideGroup","createChartContainer","getChartToolbarItems","fillOperation","isApplyServerSideTransaction","getServerSideGroupLevelParams","isServerSideGroupOpenByDefault","isGroupOpenByDefault","initialGroupOrderComparator","loadingCellRendererSelector","getRowId","chartMenuItems","groupTotalRow","alwaysPassFilter","isRowPinnable","isRowPinned","isRowValidDropPosition"],L8=()=>[...M8,...D8,...T8,...RC,...B8,..._C,...I8,...P8],N8=()=>({suppressLoadingOverlay:{version:"32",message:"Use `loading`=false instead."},enableFillHandle:{version:"32.2",message:"Use `cellSelection.handle` instead."},enableRangeHandle:{version:"32.2",message:"Use `cellSelection.handle` instead."},enableRangeSelection:{version:"32.2",message:"Use `cellSelection = true` instead."},suppressMultiRangeSelection:{version:"32.2",message:"Use `cellSelection.suppressMultiRanges` instead."},suppressClearOnFillReduction:{version:"32.2",message:"Use `cellSelection.handle.suppressClearOnFillReduction` instead."},fillHandleDirection:{version:"32.2",message:"Use `cellSelection.handle.direction` instead."},fillOperation:{version:"32.2",message:"Use `cellSelection.handle.setFillValue` instead."},suppressRowClickSelection:{version:"32.2",message:"Use `rowSelection.enableClickSelection` instead."},suppressRowDeselection:{version:"32.2",message:"Use `rowSelection.enableClickSelection` instead."},rowMultiSelectWithClick:{version:"32.2",message:"Use `rowSelection.enableSelectionWithoutKeys` instead."},groupSelectsChildren:{version:"32.2",message:'Use `rowSelection.groupSelects = "descendants"` instead.'},groupSelectsFiltered:{version:"32.2",message:'Use `rowSelection.groupSelects = "filteredDescendants"` instead.'},isRowSelectable:{version:"32.2",message:"Use `selectionOptions.isRowSelectable` instead."},suppressCopySingleCellRanges:{version:"32.2",message:"Use `rowSelection.copySelectedRows` instead."},suppressCopyRowsToClipboard:{version:"32.2",message:"Use `rowSelection.copySelectedRows` instead."},onRangeSelectionChanged:{version:"32.2",message:"Use `onCellSelectionChanged` instead."},onRangeDeleteStart:{version:"32.2",message:"Use `onCellSelectionDeleteStart` instead."},onRangeDeleteEnd:{version:"32.2",message:"Use `onCellSelectionDeleteEnd` instead."},suppressBrowserResizeObserver:{version:"32.2",message:"The grid always uses the browser's ResizeObserver, this grid option has no effect."},onColumnEverythingChanged:{version:"32.2",message:"Either use `onDisplayedColumnsChanged` which is fired at the same time, or use one of the more specific column events."},groupRemoveSingleChildren:{version:"33",message:"Use `groupHideParentOfSingleChild` instead."},groupRemoveLowestSingleChildren:{version:"33",message:'Use `groupHideParentOfSingleChild: "leafGroupsOnly"` instead.'},suppressRowGroupHidesColumns:{version:"33",message:'Use `suppressGroupChangesColumnVisibility: "suppressHideOnGroup"` instead.'},suppressMakeColumnVisibleAfterUnGroup:{version:"33",message:'Use `suppressGroupChangesColumnVisibility: "suppressShowOnUngroup"` instead.'},unSortIcon:{version:"33",message:"Use `defaultColDef.unSortIcon` instead."},sortingOrder:{version:"33",message:"Use `defaultColDef.sortingOrder` instead."},suppressPropertyNamesCheck:{version:"33",message:"`gridOptions` and `columnDefs` both have a `context` property that should be used for arbitrary user data. This means that column definitions and gridOptions should only contain valid properties making this property redundant."},suppressAdvancedFilterEval:{version:"34",message:"Advanced filter no longer uses function evaluation, so this option has no effect."}});function yn(e,t,r){return typeof t=="number"||t==null?t==null||t>=r?null:`${e}: value should be greater than or equal to ${r}`:`${e}: value should be a number`}var O8={alignedGrids:"AlignedGrids",allowContextMenuWithControlKey:"ContextMenu",autoSizeStrategy:"ColumnAutoSize",cellSelection:"CellSelection",columnHoverHighlight:"ColumnHover",datasource:"InfiniteRowModel",doesExternalFilterPass:"ExternalFilter",editType:"EditCore",invalidEditValueMode:"EditCore",enableAdvancedFilter:"AdvancedFilter",enableCellSpan:"CellSpan",enableCharts:"IntegratedCharts",enableRangeSelection:"CellSelection",enableRowPinning:"PinnedRow",findSearchValue:"Find",getFullRowEditValidationErrors:"EditCore",getContextMenuItems:"ContextMenu",getLocaleText:"Locale",getMainMenuItems:"ColumnMenu",getRowClass:"RowStyle",getRowStyle:"RowStyle",groupTotalRow:"SharedRowGrouping",grandTotalRow:"ClientSideRowModelHierarchy",initialState:"GridState",isExternalFilterPresent:"ExternalFilter",isRowPinnable:"PinnedRow",isRowPinned:"PinnedRow",localeText:"Locale",masterDetail:"SharedMasterDetail",pagination:"Pagination",pinnedBottomRowData:"PinnedRow",pinnedTopRowData:"PinnedRow",pivotMode:"SharedPivot",pivotPanelShow:"RowGroupingPanel",quickFilterText:"QuickFilter",rowClass:"RowStyle",rowClassRules:"RowStyle",rowData:"ClientSideRowModel",rowDragManaged:"RowDrag",rowGroupPanelShow:"RowGroupingPanel",rowNumbers:"RowNumbers",rowSelection:"SharedRowSelection",rowStyle:"RowStyle",serverSideDatasource:"ServerSideRowModel",sideBar:"SideBar",statusBar:"StatusBar",treeData:"SharedTreeData",undoRedoCellEditing:"UndoRedoEdit",valueCache:"ValueCache",viewportDatasource:"ViewportRowModel"},H8=()=>{const e={autoSizePadding:{validate({autoSizePadding:r}){return yn("autoSizePadding",r,0)}},cacheBlockSize:{supportedRowModels:["serverSide","infinite"],validate({cacheBlockSize:r}){return yn("cacheBlockSize",r,1)}},cacheOverflowSize:{validate({cacheOverflowSize:r}){return yn("cacheOverflowSize",r,1)}},datasource:{supportedRowModels:["infinite"]},domLayout:{validate:r=>{const n=r.domLayout,i=["autoHeight","normal","print"];return n&&!i.includes(n)?`domLayout must be one of [${i.join()}], currently it's ${n}`:null}},enableFillHandle:{dependencies:{enableRangeSelection:{required:[!0]}}},enableRangeHandle:{dependencies:{enableRangeSelection:{required:[!0]}}},enableRangeSelection:{dependencies:{rowDragEntireRow:{required:[!1,void 0]}}},enableRowPinning:{supportedRowModels:["clientSide"],validate({enableRowPinning:r,pinnedTopRowData:n,pinnedBottomRowData:i}){return r&&(n||i)?"Manual row pinning cannot be used together with pinned row data. Either set `enableRowPinning` to `false`, or remove `pinnedTopRowData` and `pinnedBottomRowData`.":null}},isRowPinnable:{supportedRowModels:["clientSide"],validate({enableRowPinning:r,isRowPinnable:n,pinnedTopRowData:i,pinnedBottomRowData:o}){return n&&(i||o)?"Manual row pinning cannot be used together with pinned row data. Either remove `isRowPinnable`, or remove `pinnedTopRowData` and `pinnedBottomRowData`.":!r&&n?"`isRowPinnable` requires `enableRowPinning` to be set.":null}},isRowPinned:{supportedRowModels:["clientSide"],validate({enableRowPinning:r,isRowPinned:n,pinnedTopRowData:i,pinnedBottomRowData:o}){return n&&(i||o)?"Manual row pinning cannot be used together with pinned row data. Either remove `isRowPinned`, or remove `pinnedTopRowData` and `pinnedBottomRowData`.":!r&&n?"`isRowPinned` requires `enableRowPinning` to be set.":null}},groupDefaultExpanded:{supportedRowModels:["clientSide"]},groupHideOpenParents:{supportedRowModels:["clientSide","serverSide"],dependencies:{groupTotalRow:{required:[void 0,"bottom"]},treeData:{required:[void 0,!1],reason:"Tree Data has values at the group level so it doesn't make sense to hide them."}}},groupHideParentOfSingleChild:{dependencies:{groupHideOpenParents:{required:[void 0,!1]}}},groupRemoveLowestSingleChildren:{dependencies:{groupHideOpenParents:{required:[void 0,!1]},groupRemoveSingleChildren:{required:[void 0,!1]}}},groupRemoveSingleChildren:{dependencies:{groupHideOpenParents:{required:[void 0,!1]},groupRemoveLowestSingleChildren:{required:[void 0,!1]}}},groupSelectsChildren:{dependencies:{rowSelection:{required:["multiple"]}}},groupHierarchyConfig:{validate({groupHierarchyConfig:r={}},n,i){for(const o of Object.keys(r))i.validation?.validateColDef(r[o]);return null}},icons:{validate:({icons:r})=>{if(r){if(r.smallDown)return An(262);if(r.smallLeft)return An(263);if(r.smallRight)return An(264)}return null}},infiniteInitialRowCount:{validate({infiniteInitialRowCount:r}){return yn("infiniteInitialRowCount",r,1)}},initialGroupOrderComparator:{supportedRowModels:["clientSide"]},ssrmExpandAllAffectsAllRows:{validate:r=>{if(typeof r.ssrmExpandAllAffectsAllRows=="boolean"){if(r.rowModelType!=="serverSide")return"'ssrmExpandAllAffectsAllRows' is only supported with the Server Side Row Model.";if(r.ssrmExpandAllAffectsAllRows&&typeof r.getRowId!="function")return"'getRowId' callback must be provided for Server Side Row Model grouping to work correctly."}return null}},keepDetailRowsCount:{validate({keepDetailRowsCount:r}){return yn("keepDetailRowsCount",r,1)}},paginationPageSize:{validate({paginationPageSize:r}){return yn("paginationPageSize",r,1)}},paginationPageSizeSelector:{validate:r=>{const n=r.paginationPageSizeSelector;return typeof n=="boolean"||n==null||n.length?null:`'paginationPageSizeSelector' cannot be an empty array.
                    If you want to hide the page size selector, set paginationPageSizeSelector to false.`}},pivotMode:{dependencies:{treeData:{required:[!1,void 0],reason:"Pivot Mode is not supported with Tree Data."}}},quickFilterText:{supportedRowModels:["clientSide"]},rowBuffer:{validate({rowBuffer:r}){return yn("rowBuffer",r,0)}},rowClass:{validate:r=>typeof r.rowClass=="function"?"rowClass should not be a function, please use getRowClass instead":null},rowData:{supportedRowModels:["clientSide"]},rowDragManaged:{supportedRowModels:["clientSide"],dependencies:{pagination:{required:[!1,void 0]}}},rowSelection:{validate({rowSelection:r}){return r&&typeof r=="string"?'As of version 32.2.1, using `rowSelection` with the values "single" or "multiple" has been deprecated. Use the object value instead.':r&&typeof r!="object"?"Expected `RowSelectionOptions` object for the `rowSelection` property.":r&&r.mode!=="multiRow"&&r.mode!=="singleRow"?`Selection mode "${r.mode}" is invalid. Use one of 'singleRow' or 'multiRow'.`:null}},rowStyle:{validate:r=>{const n=r.rowStyle;return n&&typeof n=="function"?"rowStyle should be an object of key/value styles, not be a function, use getRowStyle() instead":null}},serverSideDatasource:{supportedRowModels:["serverSide"]},serverSideInitialRowCount:{supportedRowModels:["serverSide"],validate({serverSideInitialRowCount:r}){return yn("serverSideInitialRowCount",r,1)}},serverSideOnlyRefreshFilteredGroups:{supportedRowModels:["serverSide"]},serverSideSortAllLevels:{supportedRowModels:["serverSide"]},sortingOrder:{validate:r=>{const n=r.sortingOrder;if(Array.isArray(n)&&n.length>0){const i=n.filter(o=>!Sa.includes(o));if(i.length>0)return`sortingOrder must be an array with elements from [${Sa.map(Zu).join()}], currently it includes [${i.map(Zu).join()}]`}else if(!Array.isArray(n)||n.length<=0)return`sortingOrder must be an array with at least one element, currently it's ${n}`;return null}},tooltipHideDelay:{validate:r=>r.tooltipHideDelay&&r.tooltipHideDelay<0?"tooltipHideDelay should not be lower than 0":null},tooltipShowDelay:{validate:r=>r.tooltipShowDelay&&r.tooltipShowDelay<0?"tooltipShowDelay should not be lower than 0":null},treeData:{supportedRowModels:["clientSide","serverSide"],validate:r=>{const n=r.rowModelType??"clientSide";switch(n){case"clientSide":{const{treeDataChildrenField:i,treeDataParentIdField:o,getDataPath:s,getRowId:a}=r;if(!i&&!o&&!s)return"treeData requires either 'treeDataChildrenField' or 'treeDataParentIdField' or 'getDataPath' in the clientSide row model.";if(i){if(s)return"Cannot use both 'treeDataChildrenField' and 'getDataPath' at the same time.";if(o)return"Cannot use both 'treeDataChildrenField' and 'treeDataParentIdField' at the same time."}if(o){if(!a)return"getRowId callback not provided, tree data with parent id cannot be built.";if(s)return"Cannot use both 'treeDataParentIdField' and 'getDataPath' at the same time."}return null}case"serverSide":{const i=`treeData requires 'isServerSideGroup' and 'getServerSideGroupKey' in the ${n} row model.`;return r.isServerSideGroup&&r.getServerSideGroupKey?null:i}}return null}},viewportDatasource:{supportedRowModels:["viewport"]},viewportRowModelBufferSize:{validate({viewportRowModelBufferSize:r}){return yn("viewportRowModelBufferSize",r,0)}},viewportRowModelPageSize:{validate({viewportRowModelPageSize:r}){return yn("viewportRowModelPageSize",r,1)}},rowDragEntireRow:{dependencies:{cellSelection:{required:[void 0]}}},autoGroupColumnDef:{validate({autoGroupColumnDef:r,showOpenedGroup:n}){return r?.field&&n?"autoGroupColumnDef.field and showOpenedGroup are not supported when used together.":r?.valueGetter&&n?"autoGroupColumnDef.valueGetter and showOpenedGroup are not supported when used together.":null}},renderingMode:{validate:r=>{const n=r.renderingMode,i=["default","legacy"];return n&&!i.includes(n)?`renderingMode must be one of [${i.join()}], currently it's ${n}`:null}},autoSizeStrategy:{validate:({autoSizeStrategy:r})=>{if(!r)return null;const n=["fitCellContents","fitGridWidth","fitProvidedWidth"],i=r.type;return i!=="fitCellContents"&&i!=="fitGridWidth"&&i!=="fitProvidedWidth"?`Invalid Auto-size strategy. \`autoSizeStrategy\` must be one of ${n.map(o=>'"'+o+'"').join(", ")}, currently it's ${i}`:i==="fitProvidedWidth"&&typeof r.width!="number"?`When using the 'fitProvidedWidth' auto-size strategy, must provide a numeric \`width\`. You provided ${r.width}`:null}}},t={};for(const r of _C)t[r]={expectedType:"boolean"};for(const r of RC)t[r]={expectedType:"number"};return Dr(t,e),t},G8=()=>({objectName:"gridOptions",allProperties:[...L8(),...Object.values(Rp)],propertyExceptions:["api"],docsUrl:"grid-options/",deprecations:N8(),validations:H8()}),j8=0,z8=0,Qm="__ag_grid_instance",V8=class extends ve{constructor(){super(...arguments),this.beanName="gos",this.domDataKey="__AG_"+Math.random().toString(),this.instanceId=z8++,this.gridReadyFired=!1,this.queueEvents=[],this.propEventSvc=new go,this.globalEventHandlerFactory=e=>(t,r)=>{if(!this.isAlive())return;const n=wu.has(t);if(n&&!e||!n&&e||!W8(t))return;const i=(o,s)=>{const a=Rp[o],l=this.gridOptions[a];typeof l=="function"&&this.beans.frameworkOverrides.wrapOutgoing(()=>l(s))};if(this.gridReadyFired)i(t,r);else if(t==="gridReady"){i(t,r),this.gridReadyFired=!0;for(const o of this.queueEvents)i(o.eventName,o.event);this.queueEvents=[]}else this.queueEvents.push({eventName:t,event:r})}}wireBeans(e){this.gridOptions=e.gridOptions,this.validation=e.validation,this.api=e.gridApi,this.gridId=e.context.getId()}get gridOptionsContext(){return this.gridOptions.context}postConstruct(){this.validateGridOptions(this.gridOptions),this.eventSvc.addGlobalListener(this.globalEventHandlerFactory().bind(this),!0),this.eventSvc.addGlobalListener(this.globalEventHandlerFactory(!0).bind(this),!1),this.propEventSvc.setFrameworkOverrides(this.beans.frameworkOverrides),this.addManagedEventListeners({gridOptionsChanged:({options:e})=>{this.updateGridOptions({options:e,force:!0,source:"optionsUpdated"})}})}destroy(){super.destroy(),this.queueEvents=[]}get(e){return this.gridOptions[e]??Hw[e]}getCallback(e){return this.mergeGridCommonParams(this.gridOptions[e])}exists(e){return Le(this.gridOptions[e])}mergeGridCommonParams(e){return e&&(r=>e(this.addCommon(r)))}updateGridOptions({options:e,force:t,source:r="api"}){const n={id:j8++,properties:[]},i=[],{gridOptions:o,validation:s}=this;for(const a of Object.keys(e)){const l=ip.applyGlobalGridOption(a,e[a]);s?.warnOnInitialPropertyUpdate(r,a);const u=t||typeof l=="object"&&r==="api",c=o[a];if(u||c!==l){o[a]=l;const f={type:a,currentValue:l,previousValue:c,changeSet:n,source:r};i.push(f)}}this.validateGridOptions(this.gridOptions),n.properties=i.map(a=>a.type);for(const a of i)bo(this,`Updated property ${a.type} from`,a.previousValue," to ",a.currentValue),this.propEventSvc.dispatchEvent(a)}addPropertyEventListener(e,t){this.propEventSvc.addEventListener(e,t)}removePropertyEventListener(e,t){this.propEventSvc.removeEventListener(e,t)}getDomDataKey(){return this.domDataKey}addCommon(e){return e.api=this.api,e.context=this.gridOptionsContext,e}validateOptions(e,t){for(const r of Object.keys(e)){const n=e[r];if(n==null||n===!1)continue;let i=t[r];typeof i=="function"&&(i=i(e,this.gridOptions,this.beans)),i&&this.assertModuleRegistered(i,r)}}validateGridOptions(e){this.validateOptions(e,O8),this.validation?.processGridOptions(e)}validateColDef(e,t,r){(r||!this.beans.dataTypeSvc?.isColPendingInference(t))&&(this.validateOptions(e,k8),this.validation?.validateColDef(e))}assertModuleRegistered(e,t){const r=Array.isArray(e)?e.some(n=>this.isModuleRegistered(n)):this.isModuleRegistered(e);return r||Ot(200,{...this.getModuleErrorParams(),moduleName:e,reasonOrId:t}),r}getModuleErrorParams(){return{gridId:this.gridId,gridScoped:op(),rowModelType:this.get("rowModelType"),isUmd:wA()}}isModuleRegistered(e){return Ih(e,this.gridId,this.get("rowModelType"))}setInstanceDomData(e){e[Qm]=this.instanceId}isElementInThisInstance(e){let t=e;for(;t;){const r=t[Qm];if(Le(r))return r===this.instanceId;t=t.parentElement}return!1}};function W8(e){return!!Rp[e]}function AC(e){const t={"aria-hidden":"true"};return{tag:"div",cls:"ag-cell-label-container",role:"presentation",children:[{tag:"span",ref:"eMenu",cls:"ag-header-icon ag-header-cell-menu-button",attrs:t},{tag:"span",ref:"eFilterButton",cls:"ag-header-icon ag-header-cell-filter-button",attrs:t},{tag:"div",ref:"eLabel",cls:"ag-header-cell-label",role:"presentation",children:[{tag:"span",ref:"eText",cls:"ag-header-cell-text"},{tag:"span",ref:"eFilter",cls:"ag-header-icon ag-header-label-icon ag-filter-icon",attrs:t},e?{tag:"ag-sort-indicator",ref:"eSortIndicator"}:null]}]}}var $8=AC(!0),U8=AC(!1),K8=class extends Xt{constructor(){super(...arguments),this.eFilter=Ve,this.eFilterButton=Ve,this.eSortIndicator=Ve,this.eMenu=Ve,this.eLabel=Ve,this.eText=Ve,this.eSortOrder=Ve,this.eSortAsc=Ve,this.eSortDesc=Ve,this.eSortMixed=Ve,this.eSortNone=Ve,this.isLoadingInnerComponent=!1}refresh(e){const t=this.params;if(this.params=e,this.workOutTemplate(e,!!this.beans?.sortSvc)!=this.currentTemplate||this.workOutShowMenu()!=this.currentShowMenu||e.enableSorting!=this.currentSort||this.currentSuppressMenuHide!=null&&this.shouldSuppressMenuHide()!=this.currentSuppressMenuHide||t.enableFilterButton!=e.enableFilterButton||t.enableFilterIcon!=e.enableFilterIcon)return!1;if(this.innerHeaderComponent){const r={...e};Dr(r,e.innerHeaderComponentParams),this.innerHeaderComponent.refresh?.(r)}else this.setDisplayName(e);return!0}workOutTemplate(e,t){const r=e.template;return r?r?.trim?r.trim():r:t?$8:U8}init(e){this.params=e;const{sortSvc:t,touchSvc:r,rowNumbersSvc:n,userCompFactory:i}=this.beans,o=t?.getSortIndicatorSelector();this.currentTemplate=this.workOutTemplate(e,!!o),this.setTemplate(this.currentTemplate,o?[o]:void 0),r?.setupForHeader(this),this.setMenu(),this.setupSort(),n?.setupForHeader(this),this.setupFilterIcon(),this.setupFilterButton(),this.workOutInnerHeaderComponent(i,e),this.setDisplayName(e)}workOutInnerHeaderComponent(e,t){const r=L4(e,t,t);r&&(this.isLoadingInnerComponent=!0,r.newAgStackInstance().then(n=>{this.isLoadingInnerComponent=!1,n&&(this.isAlive()?(this.innerHeaderComponent=n,this.eText&&this.eText.appendChild(n.getGui())):this.destroyBean(n))}))}setDisplayName(e){const{displayName:t}=e,r=this.currentDisplayName;this.currentDisplayName=t,!(!this.eText||r===t||this.innerHeaderComponent||this.isLoadingInnerComponent)&&(this.eText.textContent=Ts(t))}addInIcon(e,t,r){const n=on(e,this.beans,r);n&&t.appendChild(n)}workOutShowMenu(){return this.params.enableMenu&&!!this.beans.menuSvc?.isHeaderMenuButtonEnabled()}shouldSuppressMenuHide(){return!!this.beans.menuSvc?.isHeaderMenuButtonAlwaysShowEnabled()}setMenu(){if(!this.eMenu)return;if(this.currentShowMenu=this.workOutShowMenu(),!this.currentShowMenu){Ei(this.eMenu),this.eMenu=void 0;return}const{gos:e,eMenu:t,params:r}=this,n=qr(e);this.addInIcon(n?"menu":"menuAlt",t,r.column),t.classList.toggle("ag-header-menu-icon",!n);const i=this.shouldSuppressMenuHide();this.currentSuppressMenuHide=i,this.addManagedElementListeners(t,{click:()=>this.showColumnMenu(this.eMenu)}),this.toggleMenuAlwaysShow(i)}toggleMenuAlwaysShow(e){this.eMenu?.classList.toggle("ag-header-menu-always-show",e)}showColumnMenu(e){const{currentSuppressMenuHide:t,params:r}=this;t||this.toggleMenuAlwaysShow(!0),r.showColumnMenu(e,()=>{t||this.toggleMenuAlwaysShow(!1)})}onMenuKeyboardShortcut(e){const{params:t,gos:r,beans:n,eMenu:i,eFilterButton:o}=this,s=t.column,a=qr(r);if(e&&!a){if(n.menuSvc?.isFilterMenuInHeaderEnabled(s))return t.showFilter(o??i??this.getGui()),!0}else if(t.enableMenu)return this.showColumnMenu(i??o??this.getGui()),!0;return!1}setupSort(){const{sortSvc:e}=this.beans;if(!e)return;const{enableSorting:t,column:r}=this.params;if(this.currentSort=t,!this.eSortIndicator){this.eSortIndicator=this.createBean(e.createSortIndicator(!0));const{eSortIndicator:n,eSortOrder:i,eSortAsc:o,eSortDesc:s,eSortMixed:a,eSortNone:l}=this;n.attachCustomElements(i,o,s,a,l)}this.eSortIndicator.setupSort(r),this.currentSort&&e.setupHeader(this,r,this.eLabel)}setupFilterIcon(){const{eFilter:e,params:t}=this;if(!e)return;const r=()=>{const n=t.column.isFilterActive();Kt(e,n,{skipAriaHidden:!0})};this.configureFilter(t.enableFilterIcon,e,r,"filterActive")}setupFilterButton(){const{eFilterButton:e,params:t}=this;if(!e)return;this.configureFilter(t.enableFilterButton,e,this.onFilterChangedButton.bind(this),"filter")?this.addManagedElementListeners(e,{click:()=>t.showFilter(e)}):this.eFilterButton=void 0}configureFilter(e,t,r,n){if(!e)return Ei(t),!1;const i=this.params.column;return this.addInIcon(n,t,i),this.addManagedListeners(i,{filterChanged:r}),r(),!0}onFilterChangedButton(){const e=this.params.column.isFilterActive();this.eFilterButton.classList.toggle("ag-filter-active",e)}getAnchorElementForMenu(e){const{eFilterButton:t,eMenu:r}=this;return e?t??r??this.getGui():r??t??this.getGui()}destroy(){super.destroy(),this.innerHeaderComponent&&(this.destroyBean(this.innerHeaderComponent),this.innerHeaderComponent=void 0)}},q8={tag:"div",cls:"ag-header-group-cell-label",role:"presentation",children:[{tag:"span",ref:"agLabel",cls:"ag-header-group-text",role:"presentation"},{tag:"span",ref:"agOpened",cls:"ag-header-icon ag-header-expand-icon ag-header-expand-icon-expanded"},{tag:"span",ref:"agClosed",cls:"ag-header-icon ag-header-expand-icon ag-header-expand-icon-collapsed"}]},J8=class extends Xt{constructor(){super(q8),this.agOpened=Ve,this.agClosed=Ve,this.agLabel=Ve,this.isLoadingInnerComponent=!1}init(e){const{userCompFactory:t,touchSvc:r}=this.beans;this.params=e,this.checkWarnings(),this.workOutInnerHeaderGroupComponent(t,e),this.setupLabel(e),this.addGroupExpandIcon(e),this.setupExpandIcons(),r?.setupForHeaderGroup(this)}checkWarnings(){this.params.template&&Se(89)}workOutInnerHeaderGroupComponent(e,t){const r=O4(e,t,t);r&&(this.isLoadingInnerComponent=!0,r.newAgStackInstance().then(n=>{this.isLoadingInnerComponent=!1,n&&(this.isAlive()?(this.innerHeaderGroupComponent=n,this.agLabel.appendChild(n.getGui())):this.destroyBean(n))}))}setupExpandIcons(){const{agOpened:e,agClosed:t,params:{columnGroup:r},beans:n}=this;this.addInIcon("columnGroupOpened",e),this.addInIcon("columnGroupClosed",t);const i=l=>{if(Qn(l))return;const u=!r.isExpanded();n.colGroupSvc.setColumnGroupOpened(r.getProvidedColumnGroup(),u,"uiColumnExpanded")};this.addTouchAndClickListeners(n,t,i),this.addTouchAndClickListeners(n,e,i);const o=l=>{wo(l)};this.addManagedElementListeners(t,{dblclick:o}),this.addManagedElementListeners(e,{dblclick:o}),this.addManagedElementListeners(this.getGui(),{dblclick:i}),this.updateIconVisibility();const s=r.getProvidedColumnGroup(),a=this.updateIconVisibility.bind(this);this.addManagedListeners(s,{expandedChanged:a,expandableChanged:a})}addTouchAndClickListeners(e,t,r){e.touchSvc?.setupForHeaderGroupElement(this,t,r),this.addManagedElementListeners(t,{click:r})}updateIconVisibility(){const{agOpened:e,agClosed:t,params:{columnGroup:r}}=this;if(r.isExpandable()){const n=r.isExpanded();Kt(e,n),Kt(t,!n)}else Kt(e,!1),Kt(t,!1)}addInIcon(e,t){const r=on(e,this.beans,null);r&&t.appendChild(r)}addGroupExpandIcon(e){if(!e.columnGroup.isExpandable()){const{agOpened:t,agClosed:r}=this;Kt(t,!1),Kt(r,!1)}}setupLabel(e){const{displayName:t,columnGroup:r}=e,n=this.innerHeaderGroupComponent||this.isLoadingInnerComponent;Le(t)&&!n&&(this.agLabel.textContent=Ts(t)),this.toggleCss("ag-sticky-label",!r.getColGroupDef()?.suppressStickyLabel)}destroy(){super.destroy(),this.innerHeaderGroupComponent&&(this.destroyBean(this.innerHeaderGroupComponent),this.innerHeaderGroupComponent=void 0)}},Y8={moduleName:"ColumnHeaderComp",version:Me,userComponents:{agColumnHeader:K8},icons:{menu:"menu",menuAlt:"menu-alt"}},Z8={moduleName:"ColumnGroupHeaderComp",version:Me,userComponents:{agColumnGroupHeader:J8},icons:{columnGroupOpened:"expanded",columnGroupClosed:"contracted"}},X8=class extends ve{constructor(){super(...arguments),this.beanName="animationFrameSvc",this.p1={list:[],sorted:!1},this.p2={list:[],sorted:!1},this.f1={list:[],sorted:!1},this.destroyTasks=[],this.ticking=!1,this.scrollGoingDown=!0,this.lastScrollTop=0,this.taskCount=0}setScrollTop(e){this.scrollGoingDown=e>=this.lastScrollTop,e===0&&(this.scrollGoingDown=!0),this.lastScrollTop=e}postConstruct(){this.active=!this.gos.get("suppressAnimationFrame"),this.batchFrameworkComps=this.beans.frameworkOverrides.batchFrameworkComps}verify(){this.active===!1&&Se(92)}createTask(e,t,r,n,i=!1){this.verify();let o=r;n&&this.batchFrameworkComps&&(o="f1");const s={task:e,index:t,createOrder:++this.taskCount,deferred:i};this.addTaskToList(this[o],s),this.schedule()}addTaskToList(e,t){e.list.push(t),e.sorted=!1}sortTaskList(e){if(e.sorted)return;const t=this.scrollGoingDown?1:-1;e.list.sort((r,n)=>r.deferred!==n.deferred?r.deferred?-1:1:r.index!==n.index?t*(n.index-r.index):n.createOrder-r.createOrder),e.sorted=!0}addDestroyTask(e){this.verify(),this.destroyTasks.push(e),this.schedule()}executeFrame(e){const{p1:t,p2:r,f1:n,destroyTasks:i,beans:o}=this,{ctrlsSvc:s,frameworkOverrides:a}=o,l=t.list,u=r.list,c=n.list,f=Date.now();let d=0;const h=e<=0,g=s.getScrollFeature();for(;h||d<e;){if(!g.scrollGridIfNeeded()){let p;if(l.length)this.sortTaskList(t),p=l.pop().task;else if(u.length)this.sortTaskList(r),p=u.pop().task;else if(c.length)a.wrapOutgoing(()=>{for(;(h||d<e)&&!g.scrollGridIfNeeded();){if(c.length)this.sortTaskList(n),p=c.pop().task,p();else break;d=Date.now()-f}}),p=()=>{};else if(i.length)p=i.pop();else break;p()}d=Date.now()-f}l.length||u.length||c.length||i.length?this.requestFrame():this.ticking=!1}flushAllFrames(){this.active&&this.executeFrame(-1)}schedule(){this.active&&(this.ticking||(this.ticking=!0,this.requestFrame()))}requestFrame(){const e=this.executeFrame.bind(this,60);oi(this.beans,e)}isQueueEmpty(){return!this.ticking}},Q8={moduleName:"AnimationFrame",version:Me,beans:[X8]},e9=class extends ve{constructor(){super(...arguments),this.beanName="iconSvc"}createIconNoSpan(e,t){return on(e,this.beans,t?.column)}},t9=class extends ve{constructor(){super(...arguments),this.beanName="touchSvc"}mockBodyContextMenu(e,t){this.mockContextMenu(e,e.eBodyViewport,t)}mockHeaderContextMenu(e,t){this.mockContextMenu(e,e.eGui,t)}mockRowContextMenu(e){if(!lo())return;const t=(r,n,i)=>{const{rowCtrl:o,cellCtrl:s}=e.getControlsForEventTarget(i?.target??null);s?.column&&s.dispatchCellContextMenuEvent(i??null),this.beans.contextMenuSvc?.handleContextMenuMouseEvent(void 0,i,o,s)};this.mockContextMenu(e,e.element,t)}handleCellDoubleClick(e,t){return(()=>{if(!lo()||Iw("dblclick"))return!1;const n=Date.now(),i=n-e.lastIPadMouseClickEvent<200;return e.lastIPadMouseClickEvent=n,i})()?(e.onCellDoubleClicked(t),t.preventDefault(),!0):!1}setupForHeader(e){const{gos:t,sortSvc:r,menuSvc:n}=this.beans;if(t.get("suppressTouch"))return;const{params:i,eMenu:o,eFilterButton:s}=e,a=new Ji(e.getGui(),!0);e.addDestroyFunc(()=>a.destroy());const l=e.shouldSuppressMenuHide(),u=l&&Le(o)&&i.enableMenu;let c=a;if(u&&(c=new Ji(o,!0),e.addDestroyFunc(()=>c.destroy())),i.enableMenu||n?.isHeaderContextMenuEnabled(i.column)){const f=u?"tap":"longTap",d=h=>i.showColumnMenuAfterMouseClick(h.touchStart);e.addManagedListeners(c,{[f]:d}),e.addManagedListeners(a,{longTap:d})}if(i.enableSorting){const f=d=>{const h=d.touchStart.target;l&&(o?.contains(h)||s?.contains(h))||r?.progressSort(i.column,!1,"uiColumnSorted")};e.addManagedListeners(a,{tap:f})}if(i.enableFilterButton&&s){const f=new Ji(s,!0);e.addManagedListeners(f,{tap:()=>i.showFilter(s)}),e.addDestroyFunc(()=>f.destroy())}}setupForHeaderGroup(e){const t=e.params;if(this.beans.menuSvc?.isHeaderContextMenuEnabled(t.columnGroup.getProvidedColumnGroup())){const r=new Ji(t.eGridHeader,!0),n=i=>t.showColumnMenuAfterMouseClick(i.touchStart);e.addManagedListeners(r,{longTap:n}),e.addDestroyFunc(()=>r.destroy())}}setupForHeaderGroupElement(e,t,r){const n=new Ji(t,!0);e.addManagedListeners(n,{tap:r}),e.addDestroyFunc(()=>n.destroy())}mockContextMenu(e,t,r){if(!lo())return;const n=new Ji(t),i=o=>{ba(this.beans,o.touchEvent)&&r(void 0,o.touchStart,o.touchEvent)};e.addManagedListeners(n,{longTap:i}),e.addDestroyFunc(()=>n.destroy())}},r9={moduleName:"Touch",version:Me,beans:[t9]},n9=class extends ve{constructor(){super(...arguments),this.beanName="cellNavigation"}wireBeans(e){this.rowSpanSvc=e.rowSpanSvc}getNextCellToFocus(e,t,r=!1){return r?this.getNextCellToFocusWithCtrlPressed(e,t):this.getNextCellToFocusWithoutCtrlPressed(e,t)}getNextCellToFocusWithCtrlPressed(e,t){const r=e===me.UP,n=e===me.DOWN,i=e===me.LEFT;let o,s;const{pageBounds:a,gos:l,visibleCols:u,pinnedRowModel:c}=this.beans,{rowPinned:f}=t;if(r||n)f&&c?r?s=0:s=f==="top"?c.getPinnedTopRowCount()-1:c.getPinnedBottomRowCount()-1:s=r?a.getFirstRow():a.getLastRow(),o=t.column;else{const d=l.get("enableRtl");s=t.rowIndex,o=(i!==d?u.allCols:[...u.allCols].reverse()).find(g=>this.isCellGoodToFocusOn({rowIndex:s,rowPinned:null,column:g}))}return o?{rowIndex:s,rowPinned:f,column:o}:null}getNextCellToFocusWithoutCtrlPressed(e,t){let r=t,n=!1;for(;!n;){switch(e){case me.UP:r=this.getCellAbove(r);break;case me.DOWN:r=this.getCellBelow(r);break;case me.RIGHT:r=this.gos.get("enableRtl")?this.getCellToLeft(r):this.getCellToRight(r);break;case me.LEFT:r=this.gos.get("enableRtl")?this.getCellToRight(r):this.getCellToLeft(r);break;default:r=null,Se(8,{key:e});break}r?n=this.isCellGoodToFocusOn(r):n=!0}return r}isCellGoodToFocusOn(e){const t=e.column;let r;const{pinnedRowModel:n,rowModel:i}=this.beans;switch(e.rowPinned){case"top":r=n?.getPinnedTopRow(e.rowIndex);break;case"bottom":r=n?.getPinnedBottomRow(e.rowIndex);break;default:r=i.getRow(e.rowIndex);break}return r?!this.isSuppressNavigable(t,r):!1}getCellToLeft(e){if(!e)return null;const t=this.beans.visibleCols.getColBefore(e.column);return t?{rowIndex:e.rowIndex,column:t,rowPinned:e.rowPinned}:null}getCellToRight(e){if(!e)return null;const t=this.beans.visibleCols.getColAfter(e.column);return t?{rowIndex:e.rowIndex,column:t,rowPinned:e.rowPinned}:null}getCellBelow(e){if(!e)return null;const t=this.rowSpanSvc?.getCellEnd(e)??e,r=Hm(this.beans,t,!0);return r?{rowIndex:r.rowIndex,column:e.column,rowPinned:r.rowPinned}:null}getCellAbove(e){if(!e)return null;const t=this.rowSpanSvc?.getCellStart(e)??e,r=cc(this.beans,{rowIndex:t.rowIndex,rowPinned:t.rowPinned},!0);return r?{rowIndex:r.rowIndex,column:e.column,rowPinned:r.rowPinned}:null}getNextTabbedCell(e,t){return t?this.getNextTabbedCellBackwards(e):this.getNextTabbedCellForwards(e)}getNextTabbedCellForwards(e){const{visibleCols:t,pagination:r}=this.beans,n=t.allCols;let i=e.rowIndex,o=e.rowPinned,s=t.getColAfter(e.column);if(!s){s=n[0];const a=Hm(this.beans,e,!0);if($t(a)||!a.rowPinned&&!(r?.isRowInPage(a.rowIndex)??!0))return null;i=a?a.rowIndex:null,o=a?a.rowPinned:null}return{rowIndex:i,column:s,rowPinned:o}}getNextTabbedCellBackwards(e){const{beans:t}=this,{visibleCols:r,pagination:n}=t,i=r.allCols;let o=e.rowIndex,s=e.rowPinned,a=r.getColBefore(e.column);if(!a){a=Gt(i);const l=cc(t,{rowIndex:e.rowIndex,rowPinned:e.rowPinned},!0);if($t(l)||!l.rowPinned&&!(n?.isRowInPage(l.rowIndex)??!0))return null;o=l?l.rowIndex:null,s=l?l.rowPinned:null}return{rowIndex:o,column:a,rowPinned:s}}isSuppressNavigable(e,t){const{suppressNavigable:r}=e.colDef;if(typeof r=="boolean")return r;if(typeof r=="function"){const n=e.createColumnFunctionCallbackParams(t);return r(n)}return!1}};function i9(e){return e.focusSvc.getFocusedCell()}function o9(e){return e.focusSvc.clearFocusedCell()}function s9(e,t,r,n){e.focusSvc.setFocusedCell({rowIndex:t,column:r,rowPinned:n,forceBrowserFocus:!0})}function a9(e,t){return e.navigation?.tabToNextCell(!1,t)??!1}function l9(e,t){return e.navigation?.tabToNextCell(!0,t)??!1}function u9(e,t,r=!1){const n=e.headerNavigation?.getHeaderPositionForColumn(t,r);n&&e.focusSvc.focusHeaderPosition({headerPosition:n})}var c9=class extends ve{constructor(){super(...arguments),this.beanName="editModelSvc",this.edits=new Map,this.cellValidations=new TC,this.rowValidations=new DC,this.suspendEdits=!1}suspend(e){this.suspendEdits=e}removeEdits({rowNode:e,column:t}){if(!this.hasEdits({rowNode:e})||!e)return;const r=this.getEditRow(e);t?r.delete(t):r.clear(),r.size===0&&this.edits.delete(e)}getEditRow(e,t={}){if(this.suspendEdits||this.edits.size===0)return;const r=e&&this.edits.get(e);if(r)return r;if(t.checkSiblings){const n=e.pinnedSibling;if(n)return this.getEditRow(n)}}getEditRowDataValue(e,{checkSiblings:t}={}){if(!e||this.edits.size===0)return;const r=this.getEditRow(e),n=e.pinnedSibling,i=t&&n&&this.getEditRow(n);if(!r&&!i)return;const o=Object.assign({},e.data),s=(a,l)=>a.forEach(({pendingValue:u},c)=>{u!==un&&(l[c.getColId()]=u)});return r&&s(r,o),i&&s(i,o),o}getEdit(e,t){const r=this._getEdit(e);return t&&r?{...r}:r}_getEdit(e){if(!this.suspendEdits&&this.edits.size!==0)return e.rowNode&&e.column&&this.getEditRow(e.rowNode)?.get(e.column)}getEditMap(e=!0){if(this.suspendEdits||this.edits.size===0)return new Map;if(!e)return this.edits;const t=new Map;return this.edits.forEach((r,n)=>{const i=new Map;r.forEach(({editorState:o,...s},a)=>i.set(a,{...s})),t.set(n,i)}),t}setEditMap(e){this.edits.clear(),e.forEach((t,r)=>{const n=new Map;t.forEach((i,o)=>n.set(o,{...i})),this.edits.set(r,n)})}setEdit(e,t){(this.edits.size===0||!this.edits.has(e.rowNode))&&this.edits.set(e.rowNode,new Map);const r=this._getEdit(e),n=Object.assign({editorState:{isCancelAfterEnd:void 0,isCancelBeforeStart:void 0},...r,...t});return this.getEditRow(e.rowNode).set(e.column,n),n}clearEditValue(e){const{rowNode:t,column:r}=e;if(t)if(r){const n=this._getEdit(e);n&&(n.editorValue=void 0,n.pendingValue=n.sourceValue,n.state="changed")}else this.getEditRow(t)?.forEach(n=>{n.editorValue=void 0,n.pendingValue=n.sourceValue,n.state="changed"})}getState(e){if(!this.suspendEdits)return this.getEdit(e)?.state}getEditPositions(e){if(this.suspendEdits||(e??this.edits).size===0)return[];const t=[];return(e??this.edits).forEach((r,n)=>{for(const i of r.keys()){const{editorState:o,...s}=r.get(i);t.push({rowNode:n,column:i,...s})}}),t}hasRowEdits(e,t){return this.suspendEdits||this.edits.size===0?!1:!!this.getEditRow(e,t)}hasEdits(e={},t={}){if(this.suspendEdits||this.edits.size===0)return!1;const{rowNode:r,column:n}=e,{withOpenEditor:i}=t;if(r){const o=this.getEditRow(r,t);return o?n?i?this.getEdit(e)?.state==="editing":o.has(n)??!1:o.size!==0?i?Array.from(o.values()).some(({state:s})=>s==="editing"):!0:!1:!1}return i?this.getEditPositions().some(({state:o})=>o==="editing"):this.edits.size>0}start(e){const t=this.getEditRow(e.rowNode)??new Map,{rowNode:r,column:n}=e;n&&!t.has(n)&&t.set(n,{editorValue:void 0,pendingValue:un,sourceValue:this.beans.valueSvc.getValue(n,r,!1,"api"),state:"editing",editorState:{isCancelAfterEnd:void 0,isCancelBeforeStart:void 0}}),this.edits.set(r,t)}stop(e){this.hasEdits(e)&&(e?this.removeEdits(e):this.clear())}clear(){for(const e of this.edits.values())e.clear();this.edits.clear()}getCellValidationModel(){return this.cellValidations}getRowValidationModel(){return this.rowValidations}setCellValidationModel(e){this.cellValidations=e}setRowValidationModel(e){this.rowValidations=e}destroy(){super.destroy(),this.clear()}},TC=class{constructor(){this.cellValidations=new Map}getCellValidation(e){const{rowNode:t,column:r}=e||{};return this.cellValidations?.get(t)?.get(r)}hasCellValidation(e){return!e?.rowNode||!e.column?this.cellValidations.size>0:!!this.getCellValidation(e)}setCellValidation(e,t){const{rowNode:r,column:n}=e;this.cellValidations.has(r)||this.cellValidations.set(r,new Map),this.cellValidations.get(r).set(n,t)}clearCellValidation(e){const{rowNode:t,column:r}=e;this.cellValidations.get(t)?.delete(r)}setCellValidationMap(e){this.cellValidations=e}getCellValidationMap(){return this.cellValidations}clearCellValidationMap(){this.cellValidations.clear()}},DC=class{constructor(){this.rowValidations=new Map}getRowValidation(e){const{rowNode:t}=e||{};return this.rowValidations.get(t)}hasRowValidation(e){return e?.rowNode?!!this.getRowValidation(e):this.rowValidations.size>0}setRowValidation({rowNode:e},t){this.rowValidations.set(e,t)}clearRowValidation({rowNode:e}){this.rowValidations.delete(e)}setRowValidationMap(e){this.rowValidations=e}getRowValidationMap(){return this.rowValidations}clearRowValidationMap(){this.rowValidations.clear()}};function Ap(e,t={}){const{rowIndex:r,rowId:n,rowCtrl:i,rowPinned:o}=t;if(i)return i;const{rowModel:s,rowRenderer:a}=e;let{rowNode:l}=t;return l||(n?l=BM(e,n,o):r!=null&&(l=s.getRow(r))),a.getRowCtrls(l?[l]:[])?.[0]}function Wt(e,t={}){const{cellCtrl:r,colId:n,columnId:i,column:o}=t;if(r)return r;const s=e.colModel.getCol(n??i??nf(o)),a=t.rowCtrl??Ap(e,t),l=a?.getCellCtrl(s)??void 0;if(l)return l;const u=t.rowNode??a?.rowNode;if(u)return e.rowRenderer.getCellCtrls([u],[s])?.[0]}function e0(e){const{editSvc:t}=e;t?.isBatchEditing()?ds(e):t?.stopEditing(void 0,{source:"api"})}function d9(e,t,r){const{gos:n,popupSvc:i}=t;if(!n.get("stopEditingWhenCellsLoseFocus"))return;const o=s=>{const a=s.relatedTarget;if(zh(a)===null){e0(t);return}let l=r.some(u=>u.contains(a))&&n.isElementInThisInstance(a);l||(l=!!i&&(i.getActivePopups().some(u=>u.contains(a))||i.isElementWithinCustomPopup(a))),l||e0(t)};for(const s of r)e.addManagedElementListeners(s,{focusout:o})}function nf(e){if(e)return typeof e=="string"?e:e.getColId()}var un=Symbol("unedited");function MC(e,t={}){const r=[],n=e.rowRenderer.getCellCtrls(t.rowNodes,t.columns);for(const i of n){const o=i.comp?.getCellEditor();o&&r.push({ctrl:i,editor:wa(o)})}return r}var h9=(e,t={})=>MC(e,t).map(r=>r.editor);function f9(e,t,r,n,i,o){t.length===0&&r?.rowNode&&r?.column&&Fs(e,r,{key:n,event:i,cellStartedEdit:o});const{valueSvc:s,editSvc:a,editModelSvc:l}=e,{rowNode:u,column:c}=r??{};for(const f of t){const{rowNode:d,column:h}=f,g=Wt(e,f);if(!g){if(d&&h){const p=s.getValue(h,d,void 0,"api"),v=(r?.rowNode===d&&r?.column===h&&n||void 0)??a?.getCellDataValue(f,!1)??s.getValueForDisplay(h,d)?.value??p??un;l?.setEdit(f,{pendingValue:v,sourceValue:p,state:"editing"})}continue}const m=o&&u===g.rowNode&&g.column===c;Fs(e,{rowNode:u,column:g.column},{key:m?n:null,event:m?i:null,cellStartedEdit:m&&o})}}function Kn({pendingValue:e,sourceValue:t}){return e===un&&(e=t),e!==t}function Fs(e,t,r){const n=e.gos.get("enableGroupEdit"),{key:i,event:o,cellStartedEdit:s,silent:a}=r??{},l=Wt(e,t),u=l?.comp?.getCellEditor(),c=IC(e,t,i,s&&!a),f=e.editModelSvc?.getEdit(t);let d=c.value;if(d===void 0&&(d=f?.sourceValue),e.editModelSvc?.setEdit(t,{editorValue:d,state:"editing"}),u){u.refresh?.(c);return}const h=t.column.getColDef(),g=y1(e.userCompFactory,h,c),m=g?.popupFromSelector!=null?g.popupFromSelector:!!h.cellEditorPopup,p=g?.popupPositionFromSelector!=null?g.popupPositionFromSelector:h.cellEditorPopupPosition;if(BC(g.params,o),l){l.editCompDetails=g,l.onEditorAttachedFuncs.push(()=>l.rangeFeature?.unsetComp()),l.comp?.setEditDetails(g,m,p,e.gos.get("reactiveCustomComponents")),l?.rowCtrl?.refreshRow({suppressFlash:!0});const y=e.editModelSvc?.getEdit(t,!0);!a&&!y?.editorState?.cellStartedEditing&&(e.editSvc?.dispatchCellEvent(t,o,"cellEditingStarted",n?{value:d}:{}),e.editModelSvc?.setEdit(t,{editorState:{cellStartedEditing:!0}}))}}function PC(e,t,r){const n={editorValueExists:!1};if(Tp(e)&&(t.getValidationErrors?.()?.length??0)>0||r?.isCancelling)return n;if(r?.isStopping){const o=t?.isCancelAfterEnd?.();if(o)return{...n,isCancelAfterEnd:o}}return{editorValue:t.getValue(),editorValueExists:!0}}function IC(e,t,r,n){const{valueSvc:i,gos:o,editSvc:s}=e,a=e.gos.get("enableGroupEdit"),l=Wt(e,t),u=t.rowNode?.rowIndex??void 0,c=s?.isBatchEditing(),f=e.colModel.getCol(t.column.getId()),{rowNode:d,column:h}=t,g=l.comp?.getCellEditor(),m=s?.getCellDataValue(t,!1),p=m===void 0?g?PC(e,g)?.editorValue:void 0:m,y=p===un?i.getValueForDisplay(f,d)?.value:p;return Ue(o,{value:a?p:y,eventKey:r??null,column:h,colDef:h.getColDef(),rowIndex:u,node:d,data:d.data,cellStartedEdit:n??!1,onKeyDown:l?.onKeyDown.bind(l),stopEditing:b=>{s.stopEditing(t,{source:c?"ui":"api",suppressNavigateAfterEdit:b}),dc(e,t)},eGridCell:l?.eGui,parseValue:b=>i.parseValue(f,d,b,l?.value),formatValue:l?.formatValue.bind(l),validate:()=>{s?.validateEdit()}})}function of(e,t){const{editModelSvc:r}=e;r?.getEditMap().forEach((n,i)=>{n.forEach((o,s)=>{!t&&(o.state==="editing"||o.pendingValue===un)||!Kn(o)&&(o.state!=="editing"||t)&&r?.removeEdits({rowNode:i,column:s})})})}function p9(e,t){const r=t.comp?.getCellEditor();if(!r?.refresh)return;const{eventKey:n,cellStartedEdit:i}=t.editCompDetails.params,{column:o}=t,s=IC(e,t,n,i),a=o.getColDef(),l=y1(e.userCompFactory,a,s);r.refresh(BC(l.params,n))}function BC(e,t){return t instanceof KeyboardEvent&&e.column.getColDef().cellEditor==="agNumberCellEditor"?e.suppressPreventDefault=["-","+",".","e"].includes(t?.key??"")||e.suppressPreventDefault:t?.preventDefault?.(),e}function to(e,t){for(const r of e.editModelSvc?.getEditPositions()??[]){const n=Wt(e,r);if(!n)continue;const i=n.comp?.getCellEditor();if(!i)continue;const{editorValue:o,editorValueExists:s,isCancelAfterEnd:a}=PC(e,i,t);a&&e.editModelSvc?.setEdit(r,{editorState:{isCancelAfterEnd:a}}),Cu(e,r,o,void 0,!s,t)}}function Cu(e,t,r,n,i,o){const{editModelSvc:s,valueSvc:a}=e;if(!s)return;const{rowNode:l,column:u}=t;if(!(l&&u))return;let c=s.getEdit(t,!0);c?.sourceValue||(c=s.setEdit(t,{sourceValue:a.getValue(u,l,void 0,"api"),pendingValue:c?c.editorValue:un})),s.setEdit(t,{editorValue:i?c.sourceValue:r}),o?.persist&&g9(e,t)}function g9(e,t){const{editModelSvc:r}=e,n=r?.getEdit(t,!0);r?.setEdit(t,{pendingValue:n?.editorValue})}function ds(e,t,r){t||(t=e.editModelSvc?.getEditPositions());for(const n of t??[])dc(e,n,r)}function dc(e,t,r){const n=e.gos.get("enableGroupEdit"),{editModelSvc:i}=e,o=Wt(e,t),s=i?.getEdit(t,!0);if(!o){s&&i?.setEdit(t,{state:"changed"});return}const{comp:a}=o;if(a&&!a.getCellEditor()){if(o?.refreshCell(),s){i?.setEdit(t,{state:"changed"});const u=n?t0(r,s):{valueChanged:!1,newValue:void 0,oldValue:s.sourceValue};r0(e,t,u,r)}return}if(Tp(e)){const u=a?.getCellEditor()?.getValidationErrors?.(),c=i?.getCellValidationModel();u?.length?c?.setCellValidation(t,{errorMessages:u}):c?.clearCellValidation(t)}i?.setEdit(t,{state:"changed"}),a?.setEditDetails(),a?.refreshEditStyles(!1,!1),o?.refreshCell({force:!0,suppressFlash:!0});const l=i?.getEdit(t);if(l&&l.state==="changed"){const u=n?t0(r,l):{valueChanged:Kn(l)&&!r?.cancel,newValue:r?.cancel||l.editorState.isCancelAfterEnd?void 0:l?.editorValue??s?.pendingValue,oldValue:l?.sourceValue};r0(e,t,u,r)}}function t0(e,t){return e?.cancel?{valueChanged:!1,oldValue:t.sourceValue,newValue:void 0,value:t.sourceValue}:{valueChanged:!1,oldValue:t.sourceValue,newValue:t.pendingValue,value:t.sourceValue}}function r0(e,t,r,{silent:n,event:i}={}){const{editSvc:o,editModelSvc:s}=e,a=s?.getEdit(t),{editorState:l}=a||{},{isCancelBeforeStart:u}=l||{};!n&&!u&&(o?.dispatchCellEvent(t,i,"cellEditingStopped",r),s?.setEdit(t,{editorState:{cellStoppedEditing:!0}}))}function Tp(e){const{gos:t,colModel:r}=e,n=!!t.get("getFullRowEditValidationErrors"),i=r.getColumnDefs()?.filter(s=>s.editable).some(({cellEditorParams:s})=>{const{minLength:a,maxLength:l,getValidationErrors:u,min:c,max:f}=s||{};return a!==void 0||l!==void 0||u!==void 0||c!==void 0||f!==void 0}),o=e.gridApi.getCellEditorInstances().some(s=>s.getValidationElement||s.getValidationErrors);return i||n||o}function Co(e,t){if(!(t||Tp(e)))return;const r=MC(e),n=new TC,{ariaAnnounce:i,localeSvc:o,editModelSvc:s,gos:a}=e,l=a.get("editType")==="fullRow",c=Lw(o)("ariaValidationErrorPrefix","Cell Editor Validation");for(const d of r){const{ctrl:h,editor:g}=d,{rowNode:m,column:p}=h,y=g.getValidationErrors?.()??[],b=g.getValidationElement?.(!1)||!g.isPopup?.()&&h.eGui;if(b){const v=y!=null&&y.length>0,F=v?y.join(". "):"";I_(b,v),v&&i.announceValue(`${c} ${y}`,"editorValidation"),b instanceof HTMLInputElement?b.setCustomValidity(F):b.classList.toggle("invalid",v)}y?.length>0&&n.setCellValidation({rowNode:m,column:p},{errorMessages:y})}to(e,{persist:!1}),s?.setCellValidationModel(n);const f=new Set;for(const{ctrl:d}of r)f.add(d.rowCtrl);if(l){const d=m9(e);s?.setRowValidationModel(d)}for(const d of f.values()){d.rowEditStyleFeature?.applyRowStyles();for(const h of d.getAllCellCtrls())h.tooltipFeature?.refreshTooltip(!0),h.editorTooltipFeature?.refreshTooltip(!0),h.editStyleFeature?.applyCellStyles?.()}}var m9=e=>{const t=new DC,r=e.gos.get("getFullRowEditValidationErrors"),n=e.editModelSvc?.getEditMap();if(!n)return t;for(const i of n.keys()){const o=n.get(i);if(!o)continue;const s=[],{rowIndex:a,rowPinned:l}=i;for(const c of o.keys()){const f=o.get(c);if(!f)continue;const{editorValue:d,pendingValue:h,sourceValue:g}=f,m=d??(h===un?void 0:h)??g;s.push({column:c,colId:c.getColId(),rowIndex:a,rowPinned:l,oldValue:g,newValue:m})}const u=r?.({editorsState:s})??[];u.length>0&&t.setRowValidation({rowNode:i},{errorMessages:u})}return t};function b9(e){Co(e,!0);const t=e.editModelSvc?.getCellValidationModel().getCellValidationMap();if(!t)return null;const r=[];return t.forEach((n,i)=>{n.forEach(({errorMessages:o},s)=>{r.push({column:s,rowIndex:i.rowIndex,rowPinned:i.rowPinned,messages:o??null})})}),r}function y9(e,t,r,{rowNode:n,column:i},o){return Ue(e.gos,{type:r,node:n,data:n.data,value:o,column:i,colDef:i.getColDef(),rowPinned:n.rowPinned,event:t,rowIndex:n.rowIndex})}function v9(e,t=!1){return e===me.DELETE?!0:!t&&e===me.BACKSPACE?C1():!1}var w9=class extends ve{constructor(e,t,r,n){super(),this.cellCtrl=e,this.rowNode=r,this.rowCtrl=n,this.beans=t}init(){this.eGui=this.cellCtrl.eGui}onKeyDown(e){const t=e.key;switch(t){case me.ENTER:this.onEnterKeyDown(e);break;case me.F2:this.onF2KeyDown(e);break;case me.ESCAPE:this.onEscapeKeyDown(e);break;case me.TAB:this.onTabKeyDown(e);break;case me.BACKSPACE:case me.DELETE:this.onBackspaceOrDeleteKeyDown(t,e);break;case me.DOWN:case me.UP:case me.RIGHT:case me.LEFT:this.onNavigationKeyDown(e,t);break}}onNavigationKeyDown(e,t){const{cellCtrl:r,beans:n}=this;if(!n.editSvc?.isEditing(r,{withOpenEditor:!0})){if(e.shiftKey&&r.isRangeSelectionEnabled())this.onShiftRangeSelect(e);else{const i=r.getFocusedCellPosition();n.navigation?.navigateToNextCell(e,t,i,!0)}e.preventDefault()}}onShiftRangeSelect(e){const{rangeSvc:t,navigation:r}=this.beans;if(!t)return;const n=t.extendLatestRangeInDirection(e);n&&(e.key===me.LEFT||e.key===me.RIGHT?r?.ensureColumnVisible(n.column):r?.ensureRowVisible(n.rowIndex))}onTabKeyDown(e){this.beans.navigation?.onTabKeyDown(this.cellCtrl,e)}onBackspaceOrDeleteKeyDown(e,t){const{cellCtrl:r,beans:n,rowNode:i}=this,{gos:o,rangeSvc:s,eventSvc:a,editSvc:l}=n;if(a.dispatchEvent({type:"keyShortcutChangedCellStart"}),v9(e,o.get("enableCellEditingOnBackspace"))&&!l?.isEditing(r,{withOpenEditor:!0})){if(s&&_i(o))s.clearCellRangeCellValues({dispatchWrapperEvents:!0,wrapperEventSource:"deleteKey"});else if(r.isCellEditable()){const{column:u}=r,c=this.beans.valueSvc.getDeleteValue(u,i);i.setDataValue(u,c,"cellClear")}}else l?.isEditing(r,{withOpenEditor:!0})||n.editSvc?.startEditing(r,{startedEdit:!0,event:t});a.dispatchEvent({type:"keyShortcutChangedCellEnd"})}onEnterKeyDown(e){const{cellCtrl:t,beans:r}=this,{editSvc:n,navigation:i}=r,o=n?.isEditing(t,{withOpenEditor:!0}),s=t.rowNode,a=n?.isRowEditing(s,{withOpenEditor:!0}),l=u=>{n?.startEditing(u,{startedEdit:!0,event:e,source:"edit"})&&e.preventDefault()};if(o||a){if(this.isCtrlEnter(e)){n?.applyBulkEdit(t,r?.rangeSvc?.getCellRanges()||[]);return}if(Co(r),n?.checkNavWithValidation(void 0,e)==="block-stop")return;n?.isEditing(t,{withOpenEditor:!0})?n?.stopEditing(t,{event:e,source:"edit"}):a&&!t.isCellEditable()?n?.stopEditing({rowNode:s},{event:e,source:"edit"}):l(t)}else if(r.gos.get("enterNavigatesVertically")){const u=e.shiftKey?me.UP:me.DOWN;i?.navigateToNextCell(null,u,t.cellPosition,!1)}else{if(n?.hasValidationErrors())return;n?.hasValidationErrors(t)&&n.revertSingleCellEdit(t,!0),l(t)}}isCtrlEnter(e){return(e.ctrlKey||e.metaKey)&&e.key===me.ENTER}onF2KeyDown(e){const{cellCtrl:t,beans:{editSvc:r}}=this;r?.isEditing()&&(Co(this.beans),r?.checkNavWithValidation(void 0,e)==="block-stop")||r?.startEditing(t,{startedEdit:!0,event:e})}onEscapeKeyDown(e){const{cellCtrl:t,beans:{editSvc:r}}=this;r?.checkNavWithValidation(t,e)==="block-stop"&&r.revertSingleCellEdit(t),r?.stopEditing(t,{event:e,cancel:!0})}processCharacter(e){const r=e.target!==this.eGui,{beans:{editSvc:n},cellCtrl:i}=this;if(r||n?.isEditing(i,{withOpenEditor:!0}))return;if(e.key===me.SPACE)this.onSpaceKeyDown(e);else if(n?.isCellEditable(i,"ui")){if(n?.hasValidationErrors()&&!n?.hasValidationErrors(i))return;n?.startEditing(i,{startedEdit:!0,event:e,source:"api"}),!i.editCompDetails?.params?.suppressPreventDefault&&e.preventDefault()}}onSpaceKeyDown(e){const{gos:t,editSvc:r}=this.beans,{rowNode:n}=this.cellCtrl;!r?.isEditing(this.cellCtrl,{withOpenEditor:!0})&&so(t)&&this.beans.selectionSvc?.handleSelectionEvent(e,n,"spaceKey"),e.preventDefault()}},C9=class extends ve{constructor(e,t,r){super(),this.cellCtrl=e,this.column=r,this.beans=t}onMouseEvent(e,t){if(!Qn(t))switch(e){case"click":this.onCellClicked(t);break;case"mousedown":case"touchstart":this.onMouseDown(t);break;case"dblclick":this.onCellDoubleClicked(t);break;case"mouseout":this.onMouseOut(t);break;case"mouseover":this.onMouseOver(t);break}}onCellClicked(e){if(this.beans.touchSvc?.handleCellDoubleClick(this,e))return;const{eventSvc:t,rangeSvc:r,editSvc:n,editModelSvc:i,frameworkOverrides:o,gos:s}=this.beans,a=e.ctrlKey||e.metaKey,{cellCtrl:l}=this,{column:u,cellPosition:c,rowNode:f}=l,d=mu(s,u,f,e);r&&a&&!d&&r.getCellRangeCount(c)>1&&r.intersectLastRange(!0);const h=l.createEvent(e,"cellClicked");h.isEventHandlingSuppressed=d,t.dispatchEvent(h);const g=u.getColDef();if(g.onCellClicked&&window.setTimeout(()=>{o.wrapOutgoing(()=>{g.onCellClicked(h)})},0),!d&&i?.getState(l)!=="editing"){const m=n?.isEditing(),p=i?.getCellValidationModel().getCellValidationMap().size??0,y=i?.getRowValidationModel().getRowValidationMap().size??0;if(m&&(p>0||y>0))return;n?.shouldStartEditing(l,e)?n?.startEditing(l,{event:e}):n?.shouldStopEditing(l,e)&&(this.beans.gos.get("editType")==="fullRow"?n?.stopEditing(l,{event:e,source:"edit"}):n?.stopEditing(void 0,{event:e,source:"edit"}))}}onCellDoubleClicked(e){const{column:t,beans:r,cellCtrl:n}=this,{eventSvc:i,frameworkOverrides:o,editSvc:s,editModelSvc:a,gos:l}=r,u=mu(l,n.column,n.rowNode,e),c=t.getColDef(),f=n.createEvent(e,"cellDoubleClicked");if(f.isEventHandlingSuppressed=u,i.dispatchEvent(f),typeof c.onCellDoubleClicked=="function"&&window.setTimeout(()=>{o.wrapOutgoing(()=>{c.onCellDoubleClicked(f)})},0),!u&&s?.shouldStartEditing(n,e)&&a?.getState(n)!=="editing"){const d=s?.isEditing(),h=a?.getCellValidationModel().getCellValidationMap().size??0,g=a?.getRowValidationModel().getRowValidationMap().size??0;if(d&&(h>0||g>0))return;s?.startEditing(n,{event:e})}}onMouseDown(e){const{ctrlKey:t,metaKey:r,shiftKey:n}=e,i=e.target,{cellCtrl:o,beans:s}=this,{eventSvc:a,rangeSvc:l,rowNumbersSvc:u,focusSvc:c,gos:f,editSvc:d}=s,{column:h,rowNode:g,cellPosition:m}=o,p=mu(f,h,g,e),y=()=>{const E=o.createEvent(e,"cellMouseDown");E.isEventHandlingSuppressed=p,a.dispatchEvent(E)};if(p){y();return}if(this.isRightClickInExistingRange(e))return;const b=l&&!l.isEmpty(),v=this.containsWidget(i),F=Zn(h);if(u&&F&&!u.handleMouseDownOnCell(m,e)){l&&e.preventDefault(),e.stopImmediatePropagation();return}if(!n||!b){const E=d?.isEditing(o),I=f.get("enableCellTextSelection")&&e.defaultPrevented,M=(Bi()||I)&&!E&&!Qs(i)&&!v;o.focusCell(M,e)}if(n&&b&&!c.isCellFocused(m)){e.preventDefault();const E=c.getFocusedCell();if(E){const{column:T,rowIndex:I,rowPinned:M}=E;d?.isEditing(E)&&d?.stopEditing(E),c.setFocusedCell({column:T,rowIndex:I,rowPinned:M,forceBrowserFocus:!0,preventScrollOnBrowserFocus:!0,sourceEvent:e})}}if(!v){if(l){F&&e.preventDefault();const E=sm(s,e)&&F;if(n)l.extendLatestRangeToCell(m);else if(!E){const T=t||r;l.setRangeToCell(m,T)}}y()}}isRightClickInExistingRange(e){const{rangeSvc:t}=this.beans;if(t){const r=t.isCellInAnyRange(this.cellCtrl.cellPosition),n=sm(this.beans,e);if(r&&n)return!0}return!1}containsWidget(e){return io(e,"ag-selection-checkbox",3)||io(e,"ag-drag-handle",3)}onMouseOut(e){if(this.mouseStayingInsideCell(e))return;const{eventSvc:t,colHover:r}=this.beans;t.dispatchEvent(this.cellCtrl.createEvent(e,"cellMouseOut")),r?.clearMouseOver()}onMouseOver(e){if(this.mouseStayingInsideCell(e))return;const{eventSvc:t,colHover:r}=this.beans;t.dispatchEvent(this.cellCtrl.createEvent(e,"cellMouseOver")),r?.setMouseOver([this.column])}mouseStayingInsideCell(e){if(!e.target||!e.relatedTarget)return!1;const t=this.cellCtrl.eGui,r=t.contains(e.target),n=t.contains(e.relatedTarget);return r&&n}},F9=class extends ve{constructor(e,t){super(),this.cellCtrl=e,this.beans=t,this.column=e.column,this.rowNode=e.rowNode}setupRowSpan(){this.rowSpan=this.column.getRowSpan(this.rowNode),this.addManagedListeners(this.beans.eventSvc,{newColumnsLoaded:()=>this.onNewColumnsLoaded()})}init(){this.eSetLeft=this.cellCtrl.getRootElement(),this.eContent=this.cellCtrl.eGui;const e=this.cellCtrl.getCellSpan();if(e||(this.setupColSpan(),this.setupRowSpan()),this.onLeftChanged(),this.onWidthChanged(),e||this._legacyApplyRowSpan(),e){const t=this.refreshSpanHeight.bind(this,e);t(),this.addManagedListeners(this.beans.eventSvc,{paginationChanged:t,recalculateRowBounds:t,pinnedHeightChanged:t})}}refreshSpanHeight(e){const t=e.getCellHeight();t!=null&&(this.eContent.style.height=`${t}px`)}onNewColumnsLoaded(){const e=this.column.getRowSpan(this.rowNode);this.rowSpan!==e&&(this.rowSpan=e,this._legacyApplyRowSpan(!0))}onDisplayColumnsChanged(){const e=this.getColSpanningList();Ii(this.colsSpanning,e)||(this.colsSpanning=e,this.onWidthChanged(),this.onLeftChanged())}setupColSpan(){this.column.getColDef().colSpan!=null&&(this.colsSpanning=this.getColSpanningList(),this.addManagedListeners(this.beans.eventSvc,{displayedColumnsChanged:this.onDisplayColumnsChanged.bind(this),displayedColumnsWidthChanged:this.onWidthChanged.bind(this)}))}onWidthChanged(){if(!this.eContent)return;const e=this.getCellWidth();this.eContent.style.width=`${e}px`}getCellWidth(){return this.colsSpanning?this.colsSpanning.reduce((e,t)=>e+t.getActualWidth(),0):this.column.getActualWidth()}getColSpanningList(){const{column:e,rowNode:t}=this,r=e.getColSpan(t),n=[];if(r===1)n.push(e);else{let i=e;const o=e.getPinned();for(let s=0;i&&s<r&&(n.push(i),i=this.beans.visibleCols.getColAfter(i),!(!i||$t(i)||o!==i.getPinned()));s++);}return n}onLeftChanged(){if(!this.eSetLeft)return;const e=this.modifyLeftForPrintLayout(this.getCellLeft());this.eSetLeft.style.left=e+"px"}getCellLeft(){let e;return this.beans.gos.get("enableRtl")&&this.colsSpanning?e=Gt(this.colsSpanning):e=this.column,e.getLeft()}modifyLeftForPrintLayout(e){if(!this.cellCtrl.printLayout||this.column.getPinned()==="left")return e;const{visibleCols:t}=this.beans,r=t.getColsLeftWidth();if(this.column.getPinned()==="right"){const n=t.bodyWidth;return r+n+(e||0)}return r+(e||0)}_legacyApplyRowSpan(e){if(this.rowSpan===1&&!e)return;const r=ao(this.beans)*this.rowSpan;this.eContent.style.height=`${r}px`,this.eContent.style.zIndex="1"}destroy(){super.destroy()}},S9="ag-cell",x9="ag-cell-auto-height",k9="ag-cell-normal-height",E9="ag-cell-focus",R9="ag-cell-first-right-pinned",_9="ag-cell-last-left-pinned",A9="ag-cell-not-inline-editing",T9="ag-cell-wrap-text",D9=0,hs=class extends ve{constructor(e,t,r,n){super(),this.column=e,this.rowNode=t,this.rowCtrl=n,this.rangeFeature=void 0,this.rowResizeFeature=void 0,this.positionFeature=void 0,this.customStyleFeature=void 0,this.editStyleFeature=void 0,this.mouseListener=void 0,this.keyboardListener=void 0,this.suppressRefreshCell=!1,this.onCompAttachedFuncs=[],this.onEditorAttachedFuncs=[],this.focusEventWhileNotReady=null,this.hasBeenFocused=!1,this.hasEdit=!1,this.tooltipFeature=void 0,this.editorTooltipFeature=void 0,this.beans=r,this.gos=r.gos,this.editSvc=r.editSvc,this.hasEdit=!!r.editSvc;const{colId:i}=e;this.instanceId=i+"-"+D9++,this.createCellPosition(),this.updateAndFormatValue(!1)}addFeatures(){const{beans:e}=this;this.positionFeature=new F9(this,e),this.customStyleFeature=e.cellStyles?.createCellCustomStyleFeature(this,e),this.editStyleFeature=e.editSvc?.createCellStyleFeature(this,e),this.mouseListener=new C9(this,e,this.column),this.keyboardListener=new w9(this,e,this.rowNode,this.rowCtrl),this.enableTooltipFeature();const{rangeSvc:t}=e;t&&_i(e.gos)&&(this.rangeFeature=t.createCellRangeFeature(e,this)),Zn(this.column)&&(this.rowResizeFeature=this.beans.rowNumbersSvc.createRowNumbersRowResizerFeature(e,this))}isCellSpanning(){return!1}getCellSpan(){}removeFeatures(){const e=this.beans.context;this.positionFeature=e.destroyBean(this.positionFeature),this.editorTooltipFeature=e.destroyBean(this.editorTooltipFeature),this.customStyleFeature=e.destroyBean(this.customStyleFeature),this.editStyleFeature=e.destroyBean(this.editStyleFeature),this.mouseListener=e.destroyBean(this.mouseListener),this.keyboardListener=e.destroyBean(this.keyboardListener),this.rangeFeature=e.destroyBean(this.rangeFeature),this.rowResizeFeature=e.destroyBean(this.rowResizeFeature),this.disableTooltipFeature()}enableTooltipFeature(e,t){this.tooltipFeature=this.beans.tooltipSvc?.enableCellTooltipFeature(this,e,t)}disableTooltipFeature(){this.tooltipFeature=this.beans.context.destroyBean(this.tooltipFeature)}enableEditorTooltipFeature(e){this.editorTooltipFeature&&this.disableEditorTooltipFeature(),this.editorTooltipFeature=this.beans.tooltipSvc?.setupCellEditorTooltip(this,e),Co(this.beans)}disableEditorTooltipFeature(){this.editorTooltipFeature=this.beans.context.destroyBean(this.editorTooltipFeature)}setComp(e,t,r,n,i,o,s){if(this.comp=e,this.eGui=t,this.printLayout=i,s??(s=this),this.addDomData(s),this.addFeatures(),s.addDestroyFunc(()=>this.removeFeatures()),this.onSuppressCellFocusChanged(this.beans.gos.get("suppressCellFocus")),this.setupFocus(),this.applyStaticCssClasses(),this.setWrapText(),this.onFirstRightPinnedChanged(),this.onLastLeftPinnedChanged(),this.onColumnHover(),this.setupControlComps(),this.setupAutoHeight(n,s),this.refreshFirstAndLastStyles(),this.refreshAriaColIndex(),this.positionFeature?.init(),this.customStyleFeature?.setComp(e),this.editStyleFeature?.setComp(e),this.tooltipFeature?.refreshTooltip(),this.keyboardListener?.init(),this.rangeFeature?.setComp(e),this.rowResizeFeature?.refreshRowResizer(),o&&this.isCellEditable()||this.hasEdit&&this.editSvc?.isEditing(this,{withOpenEditor:!0})?this.editSvc?.startEditing(this,{startedEdit:!1,source:"api",silent:!0,continueEditing:!0}):this.showValue(!1,!0),this.onCompAttachedFuncs.length){for(const a of this.onCompAttachedFuncs)a();this.onCompAttachedFuncs=[]}}setupAutoHeight(e,t){this.isAutoHeight=this.beans.rowAutoHeight?.setupCellAutoHeight(this,e,t)??!1}getCellAriaRole(){return this.column.getColDef().cellAriaRole??"gridcell"}isCellRenderer(){const e=this.column.getColDef();return e.cellRenderer!=null||e.cellRendererSelector!=null}getValueToDisplay(){return this.valueFormatted??this.value}getDeferLoadingCellRenderer(){const{beans:e,column:t}=this,{userCompFactory:r,ctrlsSvc:n,eventSvc:i}=e,o=t.getColDef(),s=this.createCellRendererParams();s.deferRender=!0;const a=hm(r,o,s);if(n.getGridBodyCtrl()?.scrollFeature?.isScrolling()){let l;const u=new Ct(f=>{l=f}),[c]=this.addManagedListeners(i,{bodyScrollEnd:()=>{l(),c()}});return{loadingComp:a,onReady:u}}return{loadingComp:a,onReady:Ct.resolve()}}showValue(e,t){const{beans:r,column:n,rowNode:i,rangeFeature:o}=this,{userCompFactory:s}=r;let a=this.getValueToDisplay(),l;const u=i.stub&&i.groupData?.[n.getId()]==null,c=n.getColDef();if(u||this.isCellRenderer()){const f=this.createCellRendererParams();!u||Zn(n)?l=dm(s,c,f):l=hm(s,c,f)}if(!l&&!u&&r.findSvc?.isMatch(i,n)){const f=this.createCellRendererParams();l=dm(s,{...n.getColDef(),cellRenderer:"agFindCellRenderer"},f)}if(this.hasEdit&&this.editSvc.isBatchEditing()&&this.editSvc.isRowEditing(i,{checkSiblings:!0})){const f=this.editSvc.prepDetailsDuringBatch(this,{compDetails:l,valueToDisplay:a});f&&(f.compDetails?l=f.compDetails:f.valueToDisplay&&(a=f.valueToDisplay))}this.comp.setRenderDetails(l,a,e),this.customRowDragComp?.refreshVisibility(),!t&&o&&oi(r,()=>o?.refreshHandle()),this.rowResizeFeature?.refreshRowResizer()}setupControlComps(){const e=this.column.getColDef();this.includeSelection=this.isIncludeControl(this.isCheckboxSelection(e),!0),this.includeRowDrag=this.isIncludeControl(e.rowDrag),this.includeDndSource=this.isIncludeControl(e.dndSource),this.comp.setIncludeSelection(this.includeSelection),this.comp.setIncludeDndSource(this.includeDndSource),this.comp.setIncludeRowDrag(this.includeRowDrag)}isForceWrapper(){return this.beans.gos.get("enableCellTextSelection")||this.column.isAutoHeight()}getCellValueClass(){const e="ag-cell-value",t=this.column.getColDef().cellRenderer==="agCheckboxCellRenderer";let r="";return t&&(r=" ag-allow-overflow"),`${e}${r}`}isIncludeControl(e,t=!1){return(this.rowNode.rowPinned==null||t&&za(this.rowNode))&&!!e}isCheckboxSelection(e){const{rowSelection:t,groupDisplayType:r}=this.beans.gridOptions,n=Xu(t),i=si(this.column);return r==="custom"&&n!=="selectionColumn"&&i?!1:e.checkboxSelection||i&&typeof t=="object"&&os(t)}refreshShouldDestroy(){const e=this.column.getColDef(),t=this.includeSelection!=this.isIncludeControl(this.isCheckboxSelection(e),!0),r=this.includeRowDrag!=this.isIncludeControl(e.rowDrag),n=this.includeDndSource!=this.isIncludeControl(e.dndSource),i=this.isAutoHeight!=this.column.isAutoHeight();return t||r||n||i}onPopupEditorClosed(){const{editSvc:e}=this.beans;e?.isEditing(this,{withOpenEditor:!0})&&e?.stopEditing(this,{source:e?.isBatchEditing()?"ui":"api"})}stopEditing(e=!1){const{editSvc:t}=this.beans;return t?.stopEditing(this,{cancel:e,source:t?.isBatchEditing()?"ui":"api"})??!1}createCellRendererParams(){const{value:e,valueFormatted:t,column:r,rowNode:n,comp:i,eGui:o,beans:{valueSvc:s,gos:a,editSvc:l}}=this;return Ue(a,{value:e,valueFormatted:t,getValue:()=>s.getValueForDisplay(r,n).value,setValue:c=>l?.setDataValue({rowNode:n,column:r},c)||n.setDataValue(r,c),formatValue:this.formatValue.bind(this),data:n.data,node:n,pinned:r.getPinned(),colDef:r.getColDef(),column:r,refreshCell:this.refreshCell.bind(this),eGridCell:o,eParentOfValue:i.getParentOfValue(),registerRowDragger:(c,f,d,h)=>this.registerRowDragger(c,f,h),setTooltip:(c,f)=>{a.assertModuleRegistered("Tooltip",3),this.tooltipFeature&&this.disableTooltipFeature(),this.enableTooltipFeature(c,f),this.tooltipFeature?.refreshTooltip()}})}onCellChanged(e){e.column===this.column&&this.refreshCell({})}refreshOrDestroyCell(e){if(this.refreshShouldDestroy()?this.rowCtrl?.recreateCell(this):this.refreshCell(e),this.hasEdit&&this.editCompDetails){const{editSvc:t,comp:r}=this;!r?.getCellEditor()&&t.isEditing(this,{withOpenEditor:!0})&&t.startEditing(this,{startedEdit:!1,source:"api",silent:!0})}}refreshCell({force:e,suppressFlash:t,newData:r}={}){const{editStyleFeature:n,customStyleFeature:i,rowCtrl:{rowEditStyleFeature:o},beans:{cellFlashSvc:s,filterManager:a},column:l,comp:u,suppressRefreshCell:c,tooltipFeature:f}=this;if(c)return;const{field:d,valueGetter:h,showRowGroup:g,enableCellChangeFlash:m}=l.getColDef(),p=d==null&&h==null&&g==null,y=e||p||r,b=!!u,v=this.updateAndFormatValue(b),F=y||v;if(b){if(F){this.showValue(!!r,!1);const E=a?.isSuppressFlashingCellsBecauseFiltering();!t&&!E&&m&&s?.flashCell(this),n?.applyCellStyles?.(),i?.applyUserStyles(),i?.applyClassesFromColDef(),o?.applyRowStyles()}f?.refreshTooltip(),i?.applyCellClassRules()}}isCellEditable(){return this.column.isCellEditable(this.rowNode)}formatValue(e){return this.callValueFormatter(e)??e}callValueFormatter(e){return this.beans.valueSvc.formatValue(this.column,this.rowNode,e)}updateAndFormatValue(e){const t=this.value,r=this.valueFormatted,{value:n,valueFormatted:i}=this.beans.valueSvc.getValueForDisplay(this.column,this.rowNode,!0);return this.value=n,this.valueFormatted=i,e?!this.valuesAreEqual(t,this.value)||this.valueFormatted!=r:!0}valuesAreEqual(e,t){const r=this.column.getColDef();return r.equals?r.equals(e,t):e===t}addDomData(e){const t=this.eGui;yo(this.beans.gos,t,lc,this),e.addDestroyFunc(()=>yo(this.beans.gos,t,lc,null))}createEvent(e,t){const{rowNode:r,column:n,value:i,beans:o}=this;return y9(o,e,t,{rowNode:r,column:n},i)}processCharacter(e){this.keyboardListener?.processCharacter(e)}onKeyDown(e){this.keyboardListener?.onKeyDown(e)}onMouseEvent(e,t){this.mouseListener?.onMouseEvent(e,t)}getColSpanningList(){return this.positionFeature?.getColSpanningList()??[]}onLeftChanged(){this.comp&&this.positionFeature?.onLeftChanged()}onDisplayedColumnsChanged(){this.eGui&&(this.refreshAriaColIndex(),this.refreshFirstAndLastStyles())}refreshFirstAndLastStyles(){const{comp:e,column:t,beans:r}=this;tC(e,t,r.visibleCols)}refreshAriaColIndex(){const e=this.beans.visibleCols.getAriaColIndex(this.column);Ew(this.eGui,e)}onWidthChanged(){return this.positionFeature?.onWidthChanged()}getRowPosition(){const{rowIndex:e,rowPinned:t}=this.cellPosition;return{rowIndex:e,rowPinned:t}}updateRangeBordersIfRangeCount(){this.comp&&this.rangeFeature?.updateRangeBordersIfRangeCount()}onCellSelectionChanged(){this.comp&&this.rangeFeature?.onCellSelectionChanged()}isRangeSelectionEnabled(){return this.rangeFeature!=null}focusCell(e=!1,t){const r=this.editSvc?.allowedFocusTargetOnValidation(this);r&&r!==this||this.beans.focusSvc.setFocusedCell({...this.getFocusedCellPosition(),forceBrowserFocus:e,sourceEvent:t})}restoreFocus(e=!1){const{beans:{editSvc:t,focusSvc:r},comp:n}=this;if(!n||t?.isEditing(this)||!this.isCellFocused()||!r.shouldTakeFocus())return;const i=()=>{if(!this.isAlive())return;const o=n.getFocusableElement();this.isCellFocused()&&o.focus({preventScroll:!0})};if(e){setTimeout(i,0);return}i()}onRowIndexChanged(){this.createCellPosition(),this.onCellFocused(),this.restoreFocus(),this.rangeFeature?.onCellSelectionChanged(),this.rowResizeFeature?.refreshRowResizer()}onSuppressCellFocusChanged(e){const t=this.eGui;t&&(Zn(this.column)&&(e=!0),Kr(t,"tabindex",e?void 0:-1))}onFirstRightPinnedChanged(){if(!this.comp)return;const e=this.column.isFirstRightPinned();this.comp.toggleCss(R9,e)}onLastLeftPinnedChanged(){if(!this.comp)return;const e=this.column.isLastLeftPinned();this.comp.toggleCss(_9,e)}checkCellFocused(){return this.beans.focusSvc.isCellFocused(this.cellPosition)}isCellFocused(){const e=this.checkCellFocused();return this.hasBeenFocused||(this.hasBeenFocused=e),e}setupFocus(){this.restoreFocus(!0),this.onCellFocused(this.focusEventWhileNotReady??void 0)}onCellFocused(e){const{beans:t}=this;if(Hc(t))return;if(!this.comp){e&&(this.focusEventWhileNotReady=e);return}const r=this.isCellFocused(),n=t.editSvc?.isEditing(this)??!1;if(this.comp.toggleCss(E9,r),r&&e?.forceBrowserFocus){let i=this.comp.getFocusableElement();if(n){const o=as(i,null,!0);o.length&&(i=o[0])}i.focus({preventScroll:!!e.preventScrollOnBrowserFocus})}r&&e&&this.rowCtrl.announceDescription()}createCellPosition(){const{rowIndex:e,rowPinned:t}=this.rowNode;this.cellPosition={rowIndex:e,rowPinned:Yn(t),column:this.column}}applyStaticCssClasses(){const{comp:e}=this;e.toggleCss(S9,!0),e.toggleCss(A9,!0);const t=this.column.isAutoHeight()==!0;e.toggleCss(x9,t),e.toggleCss(k9,!t)}onColumnHover(){this.beans.colHover?.onCellColumnHover(this.column,this.comp)}onColDefChanged(){this.comp&&(this.column.isTooltipEnabled()?(this.disableTooltipFeature(),this.enableTooltipFeature()):this.disableTooltipFeature(),this.setWrapText(),this.editSvc?.isEditing(this)?this.editSvc?.handleColDefChanged(this):this.refreshOrDestroyCell({force:!0,suppressFlash:!0}))}setWrapText(){const e=this.column.getColDef().wrapText==!0;this.comp.toggleCss(T9,e)}dispatchCellContextMenuEvent(e){const t=this.column.getColDef(),r=this.createEvent(e,"cellContextMenu"),{beans:n}=this;n.eventSvc.dispatchEvent(r),t.onCellContextMenu&&window.setTimeout(()=>{n.frameworkOverrides.wrapOutgoing(()=>{t.onCellContextMenu(r)})},0)}getCellRenderer(){return this.comp?.getCellRenderer()??null}destroy(){this.onCompAttachedFuncs=[],this.onEditorAttachedFuncs=[],this.isCellFocused()&&this.hasBrowserFocus()&&this.beans.focusSvc.attemptToRecoverFocus(),super.destroy()}hasBrowserFocus(){return this.eGui?.contains(qt(this.beans))??!1}createSelectionCheckbox(){const e=this.beans.selectionSvc?.createCheckboxSelectionComponent();if(e)return this.beans.context.createBean(e),e.init({rowNode:this.rowNode,column:this.column}),e}createDndSource(){const e=this.beans.registry.createDynamicBean("dndSourceComp",!1,this.rowNode,this.column,this.eGui);return e&&this.beans.context.createBean(e),e}registerRowDragger(e,t,r){if(this.customRowDragComp){this.customRowDragComp.setDragElement(e,t);return}const n=this.createRowDragComp(e,t,r);n&&(this.customRowDragComp=n,this.addDestroyFunc(()=>{this.beans.context.destroyBean(n),this.customRowDragComp=null}),n.refreshVisibility())}createRowDragComp(e,t,r){const n=this.beans.rowDragSvc?.createRowDragCompForCell(this.rowNode,this.column,()=>this.value,e,t,r);if(n)return this.beans.context.createBean(n),n}cellEditorAttached(){for(const e of this.onEditorAttachedFuncs)e();this.onEditorAttachedFuncs=[]}setFocusedCellPosition(e){}getFocusedCellPosition(){return this.cellPosition}refreshAriaRowIndex(){}getRootElement(){return this.eGui}};function Dp(e,t,r,n,i,o){if(r==null&&t==null)return;const s={},a={},l=(u,c)=>{for(const f of u.split(" "))f.trim()!=""&&c(f)};if(r){const u=Object.keys(r);for(let c=0;c<u.length;c++){const f=u[c],d=r[f];let h;typeof d=="string"?h=e?e.evaluate(d,n):!0:typeof d=="function"&&(h=d(n)),l(f,g=>{h?s[g]=!0:a[g]=!0})}}if(t&&o)for(const u of Object.keys(t))l(u,c=>{s[c]||(a[c]=!0)});o&&Object.keys(a).forEach(o),Object.keys(s).forEach(i)}function n0(e){if(e.group)return e.level;const t=e.parent;return t?t.level+1:0}var M9=class extends ve{constructor(){super(...arguments),this.beanName="rowStyleSvc"}processClassesFromGridOptions(e,t){const r=this.gos,n=s=>{if(typeof s=="string")e.push(s);else if(Array.isArray(s))for(const a of s)e.push(a)},i=r.get("rowClass");i&&n(i);const o=r.getCallback("getRowClass");if(o){const s={data:t.data,node:t,rowIndex:t.rowIndex},a=o(s);n(a)}}preProcessRowClassRules(e,t){this.processRowClassRules(t,r=>{e.push(r)},()=>{})}processRowClassRules(e,t,r){const{gos:n,expressionSvc:i}=this.beans,o=Ue(n,{data:e.data,node:e,rowIndex:e.rowIndex});Dp(i,void 0,n.get("rowClassRules"),o,t,r)}processStylesFromGridOptions(e){const t=this.gos,r=t.get("rowStyle"),n=t.getCallback("getRowStyle");let i;if(n){const o={data:e.data,node:e,rowIndex:e.rowIndex};i=n(o)}if(i||r)return Object.assign({},r,i)}},P9=0,hc=class extends ve{constructor(e,t,r,n,i){super(),this.rowNode=e,this.useAnimationFrameForCreate=n,this.printLayout=i,this.allRowGuis=[],this.active=!0,this.centerCellCtrls={list:[],map:{}},this.leftCellCtrls={list:[],map:{}},this.rightCellCtrls={list:[],map:{}},this.slideInAnimation={left:!1,center:!1,right:!1,fullWidth:!1},this.fadeInAnimation={left:!1,center:!1,right:!1,fullWidth:!1},this.rowDragComps=[],this.lastMouseDownOnDragger=!1,this.emptyStyle={},this.updateColumnListsPending=!1,this.rowId=null,this.businessKey=null,this.beans=t,this.gos=t.gos,this.paginationPage=t.pagination?.getCurrentPage()??0,this.suppressRowTransform=this.gos.get("suppressRowTransform"),this.instanceId=e.id+"-"+P9++,this.rowId=Xs(e.id),this.initRowBusinessKey(),this.rowFocused=t.focusSvc.isRowFocused(this.rowNode.rowIndex,this.rowNode.rowPinned),this.rowLevel=n0(this.rowNode),this.setRowType(),this.setAnimateFlags(r),this.rowStyles=this.processStylesFromGridOptions(),this.rowEditStyleFeature=t.editSvc?.createRowStyleFeature(this,t),this.addListeners()}initRowBusinessKey(){this.businessKeyForNodeFunc=this.gos.get("getBusinessKeyForNode"),this.updateRowBusinessKey()}updateRowBusinessKey(){if(typeof this.businessKeyForNodeFunc!="function")return;const e=this.businessKeyForNodeFunc(this.rowNode);this.businessKey=Xs(e)}updateGui(e,t){e==="left"?this.leftGui=t:e==="right"?this.rightGui=t:e==="fullWidth"?this.fullWidthGui=t:this.centerGui=t}setComp(e,t,r,n){const{context:i,focusSvc:o}=this.beans;n=Na(this,i,n);const s={rowComp:e,element:t,containerType:r,compBean:n};this.allRowGuis.push(s),this.updateGui(r,s),this.initialiseRowComp(s);const a=this.rowNode,l=this.rowType==="FullWidthLoading"||a.stub,u=!a.data&&this.beans.rowModel.getType()==="infinite";!l&&!u&&!a.rowPinned&&this.beans.rowRenderer.dispatchFirstDataRenderedEvent();const c=this.fullWidthGui?.element;c&&!this.beans.editSvc?.isEditing(this)&&o.isRowFocused(a.rowIndex,a.rowPinned)&&o.shouldTakeFocus()&&setTimeout(()=>c.focus({preventScroll:!0}),0)}unsetComp(e){this.allRowGuis=this.allRowGuis.filter(t=>t.containerType!==e),this.updateGui(e,void 0)}isCacheable(){return this.rowType==="FullWidthDetail"&&this.gos.get("keepDetailRows")}setCached(e){const t=e?"none":"";for(const r of this.allRowGuis)r.element.style.display=t}initialiseRowComp(e){const t=this.gos;this.onSuppressCellFocusChanged(this.beans.gos.get("suppressCellFocus")),this.listenOnDomOrder(e),this.onRowHeightChanged(e),this.updateRowIndexes(e),this.setFocusedClasses(e),this.setStylesFromGridOptions(!1,e),so(t)&&this.rowNode.selectable&&this.onRowSelected(e),this.updateColumnLists(!this.useAnimationFrameForCreate);const r=e.rowComp,n=this.getInitialRowClasses(e.containerType);for(const i of n)r.toggleCss(i,!0);this.executeSlideAndFadeAnimations(e),this.rowNode.group&&Mh(e.element,this.rowNode.expanded==!0),this.setRowCompRowId(r),this.setRowCompRowBusinessKey(r),yo(t,e.element,uc,this),e.compBean.addDestroyFunc(()=>yo(t,e.element,uc,null)),this.useAnimationFrameForCreate?this.beans.animationFrameSvc.createTask(this.addHoverFunctionality.bind(this,e),this.rowNode.rowIndex,"p2",!1):this.addHoverFunctionality(e),this.isFullWidth()&&this.setupFullWidth(e),t.get("rowDragEntireRow")&&this.addRowDraggerToRow(e),this.useAnimationFrameForCreate&&this.beans.animationFrameSvc.addDestroyTask(()=>{this.isAlive()&&e.rowComp.toggleCss("ag-after-created",!0)}),this.executeProcessRowPostCreateFunc()}setRowCompRowBusinessKey(e){this.businessKey!=null&&e.setRowBusinessKey(this.businessKey)}setRowCompRowId(e){const t=Xs(this.rowNode.id);this.rowId=t,t!=null&&e.setRowId(t)}executeSlideAndFadeAnimations(e){const{containerType:t}=e;this.slideInAnimation[t]&&(Ph(()=>{this.onTopChanged()}),this.slideInAnimation[t]=!1),this.fadeInAnimation[t]&&(Ph(()=>{e.rowComp.toggleCss("ag-opacity-zero",!1)}),this.fadeInAnimation[t]=!1)}addRowDraggerToRow(e){const t=this.beans.rowDragSvc?.createRowDragCompForRow(this.rowNode,e.element);if(!t)return;const r=this.createBean(t,this.beans.context);this.rowDragComps.push(r),e.compBean.addDestroyFunc(()=>{this.rowDragComps=this.rowDragComps.filter(n=>n!==r),this.rowEditStyleFeature=this.destroyBean(this.rowEditStyleFeature,this.beans.context),this.destroyBean(r,this.beans.context)})}setupFullWidth(e){const t=this.getPinnedForContainer(e.containerType),r=this.createFullWidthCompDetails(e.element,t);e.rowComp.showFullWidth(r)}getFullWidthCellRenderers(){return this.gos.get("embedFullWidthRows")?this.allRowGuis.map(e=>e?.rowComp?.getFullWidthCellRenderer()):[this.fullWidthGui?.rowComp?.getFullWidthCellRenderer()]}executeProcessRowPostCreateFunc(){const e=this.gos.getCallback("processRowPostCreate");if(!e||!this.areAllContainersReady())return;const t={eRow:this.centerGui.element,ePinnedLeftRow:this.leftGui?this.leftGui.element:void 0,ePinnedRightRow:this.rightGui?this.rightGui.element:void 0,node:this.rowNode,rowIndex:this.rowNode.rowIndex,addRenderedRowListener:this.addEventListener.bind(this)};e(t)}areAllContainersReady(){const{leftGui:e,centerGui:t,rightGui:r,beans:{visibleCols:n}}=this,i=!!e||!n.isPinningLeft(),o=!!t,s=!!r||!n.isPinningRight();return i&&o&&s}isNodeFullWidthCell(){if(this.rowNode.detail)return!0;const e=this.beans.gos.getCallback("isFullWidthRow");return e?e({rowNode:this.rowNode}):!1}setRowType(){const e=this.rowNode.stub&&!this.gos.get("suppressServerSideFullWidthLoadingRow")&&!this.gos.get("groupHideOpenParents"),t=this.isNodeFullWidthCell(),r=this.gos.get("masterDetail")&&this.rowNode.detail,n=this.beans.colModel.isPivotMode(),i=e1(this.gos,this.rowNode,n);e?this.rowType="FullWidthLoading":r?this.rowType="FullWidthDetail":t?this.rowType="FullWidth":i?this.rowType="FullWidthGroup":this.rowType="Normal"}updateColumnLists(e=!1,t=!1){if(this.isFullWidth())return;const{animationFrameSvc:r}=this.beans;if(!r?.active||e||this.printLayout){this.updateColumnListsImpl(t);return}this.updateColumnListsPending||(r.createTask(()=>{this.active&&this.updateColumnListsImpl(!0)},this.rowNode.rowIndex,"p1",!1),this.updateColumnListsPending=!0)}getNewCellCtrl(e){if(!this.beans.rowSpanSvc?.isCellSpanning(e,this.rowNode))return new hs(e,this.rowNode,this.beans,this)}isCorrectCtrlForSpan(e){return!this.beans.rowSpanSvc?.isCellSpanning(e.column,this.rowNode)}createCellCtrls(e,t,r=null){const n={list:[],map:{}},i=(u,c,f)=>{f!=null?n.list.splice(f,0,c):n.list.push(c),n.map[u]=c},o=[];for(const u of t){const c=u.getInstanceId();let f=e.map[c];f&&!this.isCorrectCtrlForSpan(f)&&(f.destroy(),f=void 0),f||(f=this.getNewCellCtrl(u)),f&&i(c,f)}for(const u of e.list){const c=u.column.getInstanceId();if(n.map[c]!=null)continue;!this.isCellEligibleToBeRemoved(u,r)?o.push([c,u]):u.destroy()}if(o.length)for(const[u,c]of o){const f=n.list.findIndex(h=>h.column.getLeft()>c.column.getLeft()),d=f===-1?void 0:Math.max(f-1,0);i(u,c,d)}const{focusSvc:s,visibleCols:a}=this.beans,l=s.getFocusedCell();if(l&&l.column.getPinned()==r){const u=l.column.getInstanceId();if(!n.map[u]&&a.allCols.includes(l.column)){const f=this.createFocusedCellCtrl();if(f){const d=n.list.findIndex(g=>g.column.getLeft()>f.column.getLeft()),h=d===-1?void 0:Math.max(d-1,0);i(u,f,h)}}}return n}createFocusedCellCtrl(){const{focusSvc:e,rowSpanSvc:t}=this.beans,r=e.getFocusedCell();if(!r)return;const n=t?.getCellSpan(r.column,this.rowNode);if(n){if(n.firstNode!==this.rowNode||!n.doesSpanContain(r))return}else if(!e.isRowFocused(this.rowNode.rowIndex,this.rowNode.rowPinned))return;return this.getNewCellCtrl(r.column)}updateColumnListsImpl(e){this.updateColumnListsPending=!1,this.createAllCellCtrls(),this.setCellCtrls(e)}setCellCtrls(e){for(const t of this.allRowGuis){const r=this.getCellCtrlsForContainer(t.containerType);t.rowComp.setCellCtrls(r,e)}}getCellCtrlsForContainer(e){switch(e){case"left":return this.leftCellCtrls.list;case"right":return this.rightCellCtrls.list;case"fullWidth":return[];case"center":return this.centerCellCtrls.list}}createAllCellCtrls(){const e=this.beans.colViewport,t=this.beans.visibleCols;if(this.printLayout)this.centerCellCtrls=this.createCellCtrls(this.centerCellCtrls,t.allCols),this.leftCellCtrls={list:[],map:{}},this.rightCellCtrls={list:[],map:{}};else{const r=e.getColsWithinViewport(this.rowNode);this.centerCellCtrls=this.createCellCtrls(this.centerCellCtrls,r);const n=t.getLeftColsForRow(this.rowNode);this.leftCellCtrls=this.createCellCtrls(this.leftCellCtrls,n,"left");const i=t.getRightColsForRow(this.rowNode);this.rightCellCtrls=this.createCellCtrls(this.rightCellCtrls,i,"right")}}isCellEligibleToBeRemoved(e,t){const{column:i}=e;if(i.getPinned()!=t||!this.isCorrectCtrlForSpan(e))return!0;const{visibleCols:o,editSvc:s}=this.beans,a=s?.isEditing(e),l=e.isCellFocused();return a||l?!(o.allCols.indexOf(i)>=0):!0}getDomOrder(){return this.gos.get("ensureDomOrder")||yr(this.gos,"print")}listenOnDomOrder(e){const t=()=>{e.rowComp.setDomOrder(this.getDomOrder())};e.compBean.addManagedPropertyListeners(["domLayout","ensureDomOrder"],t)}setAnimateFlags(e){if(this.rowNode.sticky||!e)return;const t=Le(this.rowNode.oldRowTop),{visibleCols:r}=this.beans,n=r.isPinningLeft(),i=r.isPinningRight();if(t){const{slideInAnimation:o}=this;if(this.isFullWidth()&&!this.gos.get("embedFullWidthRows")){o.fullWidth=!0;return}o.center=!0,o.left=n,o.right=i}else{const{fadeInAnimation:o}=this;if(this.isFullWidth()&&!this.gos.get("embedFullWidthRows")){o.fullWidth=!0;return}o.center=!0,o.left=n,o.right=i}}isFullWidth(){return this.rowType!=="Normal"}refreshFullWidth(){const e=(s,a)=>s?s.rowComp.refreshFullWidth(()=>this.createFullWidthCompDetails(s.element,a).params):!0,t=e(this.fullWidthGui,null),r=e(this.centerGui,null),n=e(this.leftGui,"left"),i=e(this.rightGui,"right");return t&&r&&n&&i}addListeners(){const{beans:e,gos:t,rowNode:r}=this,{expansionSvc:n,eventSvc:i,context:o,rowSpanSvc:s}=e;this.addManagedListeners(this.rowNode,{heightChanged:()=>this.onRowHeightChanged(),rowSelected:()=>this.onRowSelected(),rowIndexChanged:this.onRowIndexChanged.bind(this),topChanged:this.onTopChanged.bind(this),...n?.getRowExpandedListeners(this)??{}}),r.detail&&this.addManagedListeners(r.parent,{dataChanged:this.onRowNodeDataChanged.bind(this)}),this.addManagedListeners(r,{dataChanged:this.onRowNodeDataChanged.bind(this),cellChanged:this.postProcessCss.bind(this),rowHighlightChanged:this.onRowNodeHighlightChanged.bind(this),draggingChanged:this.postProcessRowDragging.bind(this),uiLevelChanged:this.onUiLevelChanged.bind(this),rowPinned:this.onRowPinned.bind(this)}),this.addManagedListeners(i,{paginationPixelOffsetChanged:this.onPaginationPixelOffsetChanged.bind(this),heightScaleChanged:this.onTopChanged.bind(this),displayedColumnsChanged:this.onDisplayedColumnsChanged.bind(this),virtualColumnsChanged:this.onVirtualColumnsChanged.bind(this),cellFocused:this.onCellFocusChanged.bind(this),cellFocusCleared:this.onCellFocusChanged.bind(this),paginationChanged:this.onPaginationChanged.bind(this),modelUpdated:this.refreshFirstAndLastRowStyles.bind(this),columnMoved:()=>this.updateColumnLists()}),s&&this.addManagedListeners(s,{spannedCellsUpdated:({pinned:a})=>{a&&!r.rowPinned||this.updateColumnLists()}}),this.addDestroyFunc(()=>{this.rowDragComps=this.destroyBeans(this.rowDragComps,o),this.tooltipFeature=this.destroyBean(this.tooltipFeature,o),this.rowEditStyleFeature=this.destroyBean(this.rowEditStyleFeature,o)}),this.addManagedPropertyListeners(["rowStyle","getRowStyle","rowClass","getRowClass","rowClassRules"],this.postProcessCss.bind(this)),this.addManagedPropertyListener("rowDragEntireRow",()=>{if(t.get("rowDragEntireRow")){for(const l of this.allRowGuis)this.addRowDraggerToRow(l);return}this.rowDragComps=this.destroyBeans(this.rowDragComps,o)}),this.addListenersForCellComps()}addListenersForCellComps(){this.addManagedListeners(this.rowNode,{rowIndexChanged:()=>{for(const e of this.getAllCellCtrls())e.onRowIndexChanged()},cellChanged:e=>{for(const t of this.getAllCellCtrls())t.onCellChanged(e)}})}onRowPinned(){for(const e of this.allRowGuis)e.rowComp.toggleCss("ag-row-pinned-source",!!this.rowNode.pinnedSibling)}onRowNodeDataChanged(e){this.refreshRow({suppressFlash:!e.update,newData:!e.update})}refreshRow(e){if(this.isFullWidth()!==!!this.isNodeFullWidthCell()){this.beans.rowRenderer.redrawRow(this.rowNode);return}if(this.isFullWidth()){this.refreshFullWidth()||this.beans.rowRenderer.redrawRow(this.rowNode);return}for(const r of this.getAllCellCtrls())r.refreshCell(e);for(const r of this.allRowGuis)this.setRowCompRowId(r.rowComp),this.updateRowBusinessKey(),this.setRowCompRowBusinessKey(r.rowComp);this.onRowSelected(),this.postProcessCss()}postProcessCss(){this.setStylesFromGridOptions(!0),this.postProcessClassesFromGridOptions(),this.postProcessRowClassRules(),this.rowEditStyleFeature?.applyRowStyles(),this.postProcessRowDragging()}onRowNodeHighlightChanged(){const e=this.beans.rowDropHighlightSvc,t=e?.row===this.rowNode?e.position:"none",r=t==="above",n=t==="inside",i=t==="below",s=this.gos.get("treeData")&&(i||r),a=this.rowNode.uiLevel.toString();for(const l of this.allRowGuis){const u=l.rowComp;u.toggleCss("ag-row-highlight-above",r),u.toggleCss("ag-row-highlight-inside",n),u.toggleCss("ag-row-highlight-below",i),u.toggleCss("ag-row-highlight-indent",s),s?l.element.style.setProperty("--ag-row-highlight-level",a):l.element.style.removeProperty("--ag-row-highlight-level")}}postProcessRowDragging(){const e=this.rowNode.dragging;for(const t of this.allRowGuis)t.rowComp.toggleCss("ag-row-dragging",e)}onDisplayedColumnsChanged(){this.updateColumnLists(!0),this.beans.rowAutoHeight?.requestCheckAutoHeight()}onVirtualColumnsChanged(){this.updateColumnLists(!1,!0)}getRowPosition(){return{rowPinned:Yn(this.rowNode.rowPinned),rowIndex:this.rowNode.rowIndex}}onKeyboardNavigate(e){const t=this.findFullWidthInfoForEvent(e);if(!t)return;const{rowGui:r,column:n}=t;if(!(r.element===e.target))return;const s=this.rowNode,{focusSvc:a,navigation:l}=this.beans,u=a.getFocusedCell(),c={rowIndex:s.rowIndex,rowPinned:s.rowPinned,column:u?.column??n};l?.navigateToNextCell(e,e.key,c,!0),e.preventDefault()}onTabKeyDown(e){if(e.defaultPrevented||Qn(e))return;const t=this.allRowGuis.find(a=>a.element.contains(e.target)),r=t?t.element:null,n=r===e.target,i=qt(this.beans);let o=!1;r&&i&&(o=r.contains(i)&&i.classList.contains("ag-cell"));let s=null;!n&&!o&&(s=_o(this.beans,r,!1,e.shiftKey)),(this.isFullWidth()&&n||!s)&&this.beans.navigation?.onTabKeyDown(this,e)}getFullWidthElement(){return this.fullWidthGui?this.fullWidthGui.element:null}getRowYPosition(){const e=this.allRowGuis.find(t=>ni(t.element))?.element;return e?e.getBoundingClientRect().top:0}onSuppressCellFocusChanged(e){const t=this.isFullWidth()&&e?void 0:this.gos.get("tabIndex");for(const r of this.allRowGuis)Kr(r.element,"tabindex",t)}onFullWidthRowFocused(e){const t=this.rowNode,r=e?this.isFullWidth()&&e.rowIndex===t.rowIndex&&e.rowPinned==t.rowPinned:!1;let n;if(this.fullWidthGui)n=this.fullWidthGui.element;else{const o=this.beans.colModel.getCol(e?.column)?.pinned;o?n=o==="right"?this.rightGui?.element:this.leftGui?.element:n=this.centerGui?.element}n&&(n.classList.toggle("ag-full-width-focus",r),r&&e?.forceBrowserFocus&&n.focus({preventScroll:!0}))}recreateCell(e){this.centerCellCtrls=this.removeCellCtrl(this.centerCellCtrls,e),this.leftCellCtrls=this.removeCellCtrl(this.leftCellCtrls,e),this.rightCellCtrls=this.removeCellCtrl(this.rightCellCtrls,e),e.destroy(),this.updateColumnLists()}removeCellCtrl(e,t){const r={list:[],map:{}};for(const n of e.list)n!==t&&(r.list.push(n),r.map[n.column.getInstanceId()]=n);return r}onMouseEvent(e,t){switch(e){case"dblclick":this.onRowDblClick(t);break;case"click":this.onRowClick(t);break;case"touchstart":case"mousedown":this.onRowMouseDown(t);break}}createRowEvent(e,t){const{rowNode:r}=this;return Ue(this.gos,{type:e,node:r,data:r.data,rowIndex:r.rowIndex,rowPinned:r.rowPinned,event:t})}createRowEventWithSource(e,t){const r=this.createRowEvent(e,t);return r.source=this,r}onRowDblClick(e){if(Qn(e))return;const t=this.createRowEventWithSource("rowDoubleClicked",e);t.isEventHandlingSuppressed=this.isSuppressMouseEvent(e),this.beans.eventSvc.dispatchEvent(t)}findFullWidthInfoForEvent(e){if(!e)return;const t=this.findFullWidthRowGui(e.target),r=this.getColumnForFullWidth(t);if(!(!t||!r))return{rowGui:t,column:r}}findFullWidthRowGui(e){return this.allRowGuis.find(t=>t.element.contains(e))}getColumnForFullWidth(e){const{visibleCols:t}=this.beans;switch(e?.containerType){case"center":return t.centerCols[0];case"left":return t.leftCols[0];case"right":return t.rightCols[0];default:return t.allCols[0]}}onRowMouseDown(e){if(this.lastMouseDownOnDragger=io(e.target,"ag-row-drag",3),!this.isFullWidth()||this.isSuppressMouseEvent(e))return;const{rangeSvc:t,focusSvc:r}=this.beans;t?.removeAllCellRanges();const n=this.findFullWidthInfoForEvent(e);if(!n)return;const{rowGui:i,column:o}=n,s=i.element,a=e.target,l=this.rowNode;let u=e.defaultPrevented||Bi();s&&s.contains(a)&&Qs(a)&&(u=!1),r.setFocusedCell({rowIndex:l.rowIndex,column:o,rowPinned:l.rowPinned,forceBrowserFocus:u})}isSuppressMouseEvent(e){const{gos:t,rowNode:r}=this;if(this.isFullWidth()){const i=this.findFullWidthRowGui(e.target);return LD(t,i?.rowComp.getFullWidthCellRendererParams(),r,e)}const n=Fp(t,e.target);return n!=null&&mu(t,n.column,r,e)}onRowClick(e){if(Qn(e)||this.lastMouseDownOnDragger)return;const r=this.isSuppressMouseEvent(e),{eventSvc:n,selectionSvc:i}=this.beans,o=this.createRowEventWithSource("rowClicked",e);o.isEventHandlingSuppressed=r,n.dispatchEvent(o),!r&&i?.handleSelectionEvent(e,this.rowNode,"rowClicked")}setupDetailRowAutoHeight(e){this.rowType==="FullWidthDetail"&&this.beans.masterDetailSvc?.setupDetailRowAutoHeight(this,e)}createFullWidthCompDetails(e,t){const{gos:r,rowNode:n}=this,i=Ue(r,{fullWidth:!0,data:n.data,node:n,value:n.key,valueFormatted:n.key,eGridCell:e,eParentOfValue:e,pinned:t,addRenderedRowListener:this.addEventListener.bind(this),registerRowDragger:(s,a,l,u)=>this.addFullWidthRowDragging(s,a,l,u),setTooltip:(s,a)=>{r.assertModuleRegistered("Tooltip",3),this.setupFullWidthRowTooltip(s,a)}}),o=this.beans.userCompFactory;switch(this.rowType){case"FullWidthDetail":return z4(o,i);case"FullWidthGroup":{const{value:s,valueFormatted:a}=this.beans.valueSvc.getValueForDisplay(void 0,this.rowNode,!0);return i.value=s,i.valueFormatted=a,j4(o,i)}case"FullWidthLoading":return G4(o,i);default:return H4(o,i)}}setupFullWidthRowTooltip(e,t){this.fullWidthGui&&(this.tooltipFeature=this.beans.tooltipSvc?.setupFullWidthRowTooltip(this.tooltipFeature,this,e,t))}addFullWidthRowDragging(e,t,r="",n){const{rowDragSvc:i,context:o}=this.beans;if(!i||!this.isFullWidth())return;const s=i.createRowDragComp(()=>r,this.rowNode,void 0,e,t,n);this.createBean(s,o),this.addDestroyFunc(()=>{this.destroyBean(s,o)})}onUiLevelChanged(){const e=n0(this.rowNode);if(this.rowLevel!=e){const t="ag-row-level-"+e,r="ag-row-level-"+this.rowLevel;for(const n of this.allRowGuis)n.rowComp.toggleCss(t,!0),n.rowComp.toggleCss(r,!1)}this.rowLevel=e}isFirstRowOnPage(){return this.rowNode.rowIndex===this.beans.pageBounds.getFirstRow()}isLastRowOnPage(){return this.rowNode.rowIndex===this.beans.pageBounds.getLastRow()}refreshFirstAndLastRowStyles(){const e=this.isFirstRowOnPage(),t=this.isLastRowOnPage();if(this.firstRowOnPage!==e){this.firstRowOnPage=e;for(const r of this.allRowGuis)r.rowComp.toggleCss("ag-row-first",e)}if(this.lastRowOnPage!==t){this.lastRowOnPage=t;for(const r of this.allRowGuis)r.rowComp.toggleCss("ag-row-last",t)}}getAllCellCtrls(){return this.leftCellCtrls.list.length===0&&this.rightCellCtrls.list.length===0?this.centerCellCtrls.list:[...this.centerCellCtrls.list,...this.leftCellCtrls.list,...this.rightCellCtrls.list]}postProcessClassesFromGridOptions(){const e=[];if(this.beans.rowStyleSvc?.processClassesFromGridOptions(e,this.rowNode),!!e.length)for(const t of e)for(const r of this.allRowGuis)r.rowComp.toggleCss(t,!0)}postProcessRowClassRules(){this.beans.rowStyleSvc?.processRowClassRules(this.rowNode,e=>{for(const t of this.allRowGuis)t.rowComp.toggleCss(e,!0)},e=>{for(const t of this.allRowGuis)t.rowComp.toggleCss(e,!1)})}setStylesFromGridOptions(e,t){e&&(this.rowStyles=this.processStylesFromGridOptions()),this.forEachGui(t,r=>r.rowComp.setUserStyles(this.rowStyles))}getPinnedForContainer(e){return e==="left"||e==="right"?e:null}getInitialRowClasses(e){const t=this.getPinnedForContainer(e),r=this.isFullWidth(),{rowNode:n,beans:i}=this,o=[];o.push("ag-row"),o.push(this.rowFocused?"ag-row-focus":"ag-row-no-focus"),this.fadeInAnimation[e]&&o.push("ag-opacity-zero"),o.push(n.rowIndex%2===0?"ag-row-even":"ag-row-odd"),n.isRowPinned()&&(o.push("ag-row-pinned"),i.pinnedRowModel?.isManual()&&o.push("ag-row-pinned-manual")),!n.isRowPinned()&&n.pinnedSibling&&o.push("ag-row-pinned-source"),n.isSelected()&&o.push("ag-row-selected"),n.footer&&o.push("ag-row-footer"),o.push("ag-row-level-"+this.rowLevel),n.stub&&o.push("ag-row-loading"),r&&o.push("ag-full-width-row"),i.expansionSvc?.addExpandedCss(o,n),n.dragging&&o.push("ag-row-dragging");const{rowStyleSvc:s}=i;return s&&(s.processClassesFromGridOptions(o,n),s.preProcessRowClassRules(o,n)),o.push(this.printLayout?"ag-row-position-relative":"ag-row-position-absolute"),this.isFirstRowOnPage()&&o.push("ag-row-first"),this.isLastRowOnPage()&&o.push("ag-row-last"),r&&(t==="left"&&o.push("ag-cell-last-left-pinned"),t==="right"&&o.push("ag-cell-first-right-pinned")),o}processStylesFromGridOptions(){return this.beans.rowStyleSvc?.processStylesFromGridOptions(this.rowNode)??this.emptyStyle}onRowSelected(e){this.beans.selectionSvc?.onRowCtrlSelected(this,t=>{(t===this.centerGui||t===this.fullWidthGui)&&this.announceDescription()},e)}announceDescription(){this.beans.selectionSvc?.announceAriaRowSelection(this.rowNode)}addHoverFunctionality(e){if(!this.active)return;const{element:t,compBean:r}=e,{rowNode:n,beans:i,gos:o}=this;r.addManagedListeners(t,{pointerenter:s=>{s.pointerType==="mouse"&&n.dispatchRowEvent("mouseEnter")},pointerleave:s=>{s.pointerType==="mouse"&&n.dispatchRowEvent("mouseLeave")}}),r.addManagedListeners(n,{mouseEnter:()=>{!i.dragSvc?.dragging&&!o.get("suppressRowHoverHighlight")&&(t.classList.add("ag-row-hover"),n.setHovered(!0))},mouseLeave:()=>{this.resetHoveredStatus(t)}})}resetHoveredStatus(e){const t=e?[e]:this.allRowGuis.map(r=>r.element);for(const r of t)r.classList.remove("ag-row-hover");this.rowNode.setHovered(!1)}roundRowTopToBounds(e){const t=this.beans.ctrlsSvc.getScrollFeature().getApproximateVScollPosition(),r=this.applyPaginationOffset(t.top,!0)-100,n=this.applyPaginationOffset(t.bottom,!0)+100;return Math.min(Math.max(r,e),n)}forEachGui(e,t){if(e)t(e);else for(const r of this.allRowGuis)t(r)}isRowRendered(){return this.allRowGuis.length>0}onRowHeightChanged(e){if(this.rowNode.rowHeight==null)return;const t=this.rowNode.rowHeight,r=this.beans.environment.getDefaultRowHeight(),i=Jw(this.gos)?Ri(this.beans,this.rowNode).height:void 0,o=i?`${Math.min(r,i)-2}px`:void 0;this.forEachGui(e,s=>{s.element.style.height=`${t}px`,o&&s.element.style.setProperty("--ag-line-height",o)})}destroyFirstPass(e=!1){this.active=!1;const{rowNode:t}=this;if(!e&&is(this.gos)&&!t.sticky)if(t.rowTop!=null){const i=this.roundRowTopToBounds(t.rowTop);this.setRowTop(i)}else for(const i of this.allRowGuis)i.rowComp.toggleCss("ag-opacity-zero",!0);this.fullWidthGui?.element.contains(qt(this.beans))&&this.beans.focusSvc.attemptToRecoverFocus(),t.setHovered(!1);const r=this.createRowEvent("virtualRowRemoved");this.dispatchLocalEvent(r),this.beans.eventSvc.dispatchEvent(r),super.destroy()}destroySecondPass(){this.allRowGuis.length=0;const e=t=>{for(const r of t.list)r.destroy();return{list:[],map:{}}};this.centerCellCtrls=e(this.centerCellCtrls),this.leftCellCtrls=e(this.leftCellCtrls),this.rightCellCtrls=e(this.rightCellCtrls)}setFocusedClasses(e){this.forEachGui(e,t=>{t.rowComp.toggleCss("ag-row-focus",this.rowFocused),t.rowComp.toggleCss("ag-row-no-focus",!this.rowFocused)})}onCellFocusChanged(){const{focusSvc:e}=this.beans,t=e.isRowFocused(this.rowNode.rowIndex,this.rowNode.rowPinned);t!==this.rowFocused&&(this.rowFocused=t,this.setFocusedClasses())}onPaginationChanged(){const e=this.beans.pagination?.getCurrentPage()??0;this.paginationPage!==e&&(this.paginationPage=e,this.onTopChanged()),this.refreshFirstAndLastRowStyles()}onTopChanged(){this.setRowTop(this.rowNode.rowTop)}onPaginationPixelOffsetChanged(){this.onTopChanged()}applyPaginationOffset(e,t=!1){if(this.rowNode.isRowPinned()||this.rowNode.sticky)return e;const r=this.beans.pageBounds.getPixelOffset();return e+r*(t?1:-1)}setRowTop(e){if(!this.printLayout&&Le(e)){const t=this.applyPaginationOffset(e),i=`${this.rowNode.isRowPinned()||this.rowNode.sticky?t:this.beans.rowContainerHeight.getRealPixelPosition(t)}px`;this.setRowTopStyle(i)}}getInitialRowTop(e){return this.suppressRowTransform?this.getInitialRowTopShared(e):void 0}getInitialTransform(e){return this.suppressRowTransform?void 0:`translateY(${this.getInitialRowTopShared(e)})`}getInitialRowTopShared(e){if(this.printLayout)return"";const t=this.rowNode;let r;if(t.sticky)r=t.stickyRowTop;else{const n=this.slideInAnimation[e]?this.roundRowTopToBounds(t.oldRowTop):t.rowTop,i=this.applyPaginationOffset(n);r=t.isRowPinned()?i:this.beans.rowContainerHeight.getRealPixelPosition(i)}return r+"px"}setRowTopStyle(e){for(const t of this.allRowGuis)this.suppressRowTransform?t.rowComp.setTop(e):t.rowComp.setTransform(`translateY(${e})`)}getCellCtrl(e,t=!1){let r=null;for(const n of this.getAllCellCtrls())n.column==e&&(r=n);if(r!=null||t)return r;for(const n of this.getAllCellCtrls())n?.getColSpanningList().indexOf(e)>=0&&(r=n);return r}onRowIndexChanged(){this.rowNode.rowIndex!=null&&(this.onCellFocusChanged(),this.updateRowIndexes(),this.postProcessCss())}updateRowIndexes(e){const t=this.rowNode.getRowIndexString();if(t===null)return;const r=(this.beans.ctrlsSvc.getHeaderRowContainerCtrl()?.getRowCount()??0)+(this.beans.filterManager?.getHeaderRowCount()??0),n=this.rowNode.rowIndex%2===0,i=r+this.rowNode.rowIndex+1;this.forEachGui(e,o=>{o.rowComp.setRowIndex(t),o.rowComp.toggleCss("ag-row-even",n),o.rowComp.toggleCss("ag-row-odd",!n),kw(o.element,i)})}},I9=class extends ve{constructor(){super(),this.beanName="navigation",this.onPageDown=tm(this.onPageDown,100),this.onPageUp=tm(this.onPageUp,100)}postConstruct(){this.beans.ctrlsSvc.whenReady(this,e=>{this.gridBodyCon=e.gridBodyCtrl})}handlePageScrollingKey(e,t=!1){const r=e.key,n=e.altKey,i=e.ctrlKey||e.metaKey,o=!!this.beans.rangeSvc&&e.shiftKey,s=u6(this.gos,e);let a=!1;switch(r){case me.PAGE_HOME:case me.PAGE_END:!i&&!n&&(this.onHomeOrEndKey(r),a=!0);break;case me.LEFT:case me.RIGHT:case me.UP:case me.DOWN:if(!s)return!1;i&&!n&&!o&&(this.onCtrlUpDownLeftRight(r,s),a=!0);break;case me.PAGE_DOWN:case me.PAGE_UP:!i&&!n&&(a=this.handlePageUpDown(r,s,t));break}return a&&e.preventDefault(),a}handlePageUpDown(e,t,r){return r&&(t=this.beans.focusSvc.getFocusedCell()),t?(e===me.PAGE_UP?this.onPageUp(t):this.onPageDown(t),!0):!1}navigateTo({scrollIndex:e,scrollType:t,scrollColumn:r,focusIndex:n,focusColumn:i,isAsync:o,rowPinned:s}){const{scrollFeature:a}=this.gridBodyCon;Le(r)&&!r.isPinned()&&a.ensureColumnVisible(r),Le(e)&&a.ensureIndexVisible(e,t),o||a.ensureIndexVisible(n);const{focusSvc:l,rangeSvc:u}=this.beans;l.setFocusedCell({rowIndex:n,column:i,rowPinned:s,forceBrowserFocus:!0}),u?.setRangeToCell({rowIndex:n,rowPinned:s,column:i})}onPageDown(e){const t=this.beans,r=zd(t),n=this.getViewportHeight(),{pageBounds:i,rowModel:o,rowAutoHeight:s}=t,a=i.getPixelOffset(),l=r.top+n,u=o.getRowIndexAtPixel(l+a);s?.active?this.navigateToNextPageWithAutoHeight(e,u):this.navigateToNextPage(e,u)}onPageUp(e){const t=this.beans,r=zd(t),{pageBounds:n,rowModel:i,rowAutoHeight:o}=t,s=n.getPixelOffset(),a=r.top,l=i.getRowIndexAtPixel(a+s);o?.active?this.navigateToNextPageWithAutoHeight(e,l,!0):this.navigateToNextPage(e,l,!0)}navigateToNextPage(e,t,r=!1){const{pageBounds:n,rowModel:i}=this.beans,o=this.getViewportHeight(),s=n.getFirstRow(),a=n.getLastRow(),l=n.getPixelOffset(),u=i.getRow(e.rowIndex),c=r?u?.rowHeight-o-l:o-l,f=u?.rowTop+c;let d=i.getRowIndexAtPixel(f+l);if(d===e.rowIndex){const g=r?-1:1;t=d=e.rowIndex+g}let h;r?(h="bottom",d<s&&(d=s),t<s&&(t=s)):(h="top",d>a&&(d=a),t>a&&(t=a)),this.isRowTallerThanView(i.getRow(d))&&(t=d,h="top"),this.navigateTo({scrollIndex:t,scrollType:h,scrollColumn:null,focusIndex:d,focusColumn:e.column})}navigateToNextPageWithAutoHeight(e,t,r=!1){this.navigateTo({scrollIndex:t,scrollType:r?"bottom":"top",scrollColumn:null,focusIndex:t,focusColumn:e.column}),setTimeout(()=>{const n=this.getNextFocusIndexForAutoHeight(e,r);this.navigateTo({scrollIndex:t,scrollType:r?"bottom":"top",scrollColumn:null,focusIndex:n,focusColumn:e.column,isAsync:!0})},50)}getNextFocusIndexForAutoHeight(e,t=!1){const r=t?-1:1,n=this.getViewportHeight(),{pageBounds:i,rowModel:o}=this.beans,s=i.getLastRow();let a=0,l=e.rowIndex;for(;l>=0&&l<=s;){const u=o.getRow(l);if(u){const c=u.rowHeight??0;if(a+c>n)break;a+=c}l+=r}return Math.max(0,Math.min(l,s))}getViewportHeight(){const e=this.beans,t=zd(e),r=this.beans.scrollVisibleSvc.getScrollbarWidth();let n=t.bottom-t.top;return e.ctrlsSvc.get("center").isHorizontalScrollShowing()&&(n-=r),n}isRowTallerThanView(e){if(!e)return!1;const t=e.rowHeight;return typeof t!="number"?!1:t>this.getViewportHeight()}onCtrlUpDownLeftRight(e,t){const r=this.beans.cellNavigation.getNextCellToFocus(e,t,!0),n=this.getNormalisedPosition(r),{rowIndex:i,rowPinned:o,column:s}=n??r,a=s;this.navigateTo({scrollIndex:i,scrollType:null,scrollColumn:a,focusIndex:i,focusColumn:a,rowPinned:o})}onHomeOrEndKey(e){const t=e===me.PAGE_HOME,{visibleCols:r,pageBounds:n,rowModel:i}=this.beans,o=r.allCols,s=t?n.getFirstRow():n.getLastRow(),a=i.getRow(s);if(!a)return;const l=(t?o:[...o].reverse()).find(u=>!u.isSuppressNavigable(a));l&&this.navigateTo({scrollIndex:s,scrollType:null,scrollColumn:l,focusIndex:s,focusColumn:l})}onTabKeyDown(e,t){const r=t.shiftKey,n=this.tabToNextCellCommon(e,r,t),i=this.beans,{ctrlsSvc:o,pageBounds:s,focusSvc:a,gos:l}=i;if(n!==!1){n?t.preventDefault():n===null&&o.get("gridCtrl").allowFocusForNextCoreContainer(r);return}if(r){const{rowIndex:u,rowPinned:c}=e.getRowPosition();(c?u===0:u===s.getFirstRow())&&(l.get("headerHeight")===0||uo(i)?Cs(i,!0,!0):(t.preventDefault(),a.focusPreviousFromFirstCell(t)))}else e instanceof hs&&e.focusCell(!0),(a.focusOverlay(!1)||Cs(i,r))&&t.preventDefault()}tabToNextCell(e,t){const r=this.beans,{focusSvc:n,rowRenderer:i}=r,o=n.getFocusedCell();if(!o)return!1;let s=Jo(r,o);return!s&&(s=i.getRowByPosition(o),!s?.isFullWidth())?!1:!!this.tabToNextCellCommon(s,e,t,"api")}tabToNextCellCommon(e,t,r,n="ui"){const{editSvc:i,focusSvc:o}=this.beans;let s;const a=e instanceof hs?e:e.getAllCellCtrls()?.[0];return i?.isEditing()?s=i?.moveToNextCell(a,t,r,n):s=this.moveToNextCellNotEditing(e,t,r),s===null?s:s||!!o.focusedHeader}moveToNextCellNotEditing(e,t,r){const n=this.beans.visibleCols.allCols;let i;if(e instanceof hc){if(i={...e.getRowPosition(),column:t?n[0]:Gt(n)},this.gos.get("embedFullWidthRows")&&r){const s=e.findFullWidthInfoForEvent(r);s&&(i.column=s.column)}}else i=e.getFocusedCellPosition();const o=this.findNextCellToFocusOn(i,{backwards:t,startEditing:!1});if(o===!1)return null;if(o instanceof hs)o.focusCell(!0);else if(o)return this.tryToFocusFullWidthRow(o,t);return Le(o)}findNextCellToFocusOn(e,{backwards:t,startEditing:r,skipToNextEditableCell:n}){let i=e;const o=this.beans,{cellNavigation:s,gos:a,focusSvc:l,rowRenderer:u,rangeSvc:c}=o;for(;;){e!==i&&(e=i),t||(i=this.getLastCellOfColSpan(i)),i=s.getNextTabbedCell(i,t);const f=a.getCallback("tabToNextCell");if(Le(f)){const m=f({backwards:t,editing:r,previousCellPosition:e,nextCellPosition:i||null});if(m===!0)i=e;else{if(m===!1)return!1;i={rowIndex:m.rowIndex,column:m.column,rowPinned:m.rowPinned}}}if(!i)return null;if(i.rowIndex<0){const g=xn(o);return l.focusHeaderPosition({headerPosition:{headerRowIndex:g+i.rowIndex,column:i.column},fromCell:!0}),null}const d=a.get("editType")==="fullRow";if(r&&(!d||n)&&!this.isCellEditable(i))continue;this.ensureCellVisible(i);const h=Jo(o,i);if(!h){const g=u.getRowByPosition(i);if(!g||!g.isFullWidth()||r)continue;return{...g.getRowPosition(),column:i?.column}}if(!s.isSuppressNavigable(h.column,h.rowNode))return h.setFocusedCellPosition(i),c?.setRangeToCell(i),h}}isCellEditable(e){const t=this.lookupRowNodeForCell(e);return t?e.column.isCellEditable(t):!1}lookupRowNodeForCell({rowIndex:e,rowPinned:t}){const{pinnedRowModel:r,rowModel:n}=this.beans;return t==="top"?r?.getPinnedTopRow(e):t==="bottom"?r?.getPinnedBottomRow(e):n.getRow(e)}navigateToNextCell(e,t,r,n){let i=r,o=!1;const s=this.beans,{cellNavigation:a,focusSvc:l,gos:u}=s;for(;i&&(i===r||!this.isValidNavigateCell(i));)u.get("enableRtl")?t===me.LEFT&&(i=this.getLastCellOfColSpan(i)):t===me.RIGHT&&(i=this.getLastCellOfColSpan(i)),i=a.getNextCellToFocus(t,i),o=$t(i);if(o&&e&&e.key===me.UP&&(i={rowIndex:-1,rowPinned:null,column:r.column}),n){const f=u.getCallback("navigateToNextCell");if(Le(f)){const h=f({key:t,previousCellPosition:r,nextCellPosition:i||null,event:e});Le(h)?i={rowPinned:h.rowPinned,rowIndex:h.rowIndex,column:h.column}:i=null}}if(!i)return;if(i.rowIndex<0){const f=xn(s);l.focusHeaderPosition({headerPosition:{headerRowIndex:f+i.rowIndex,column:r.column},event:e||void 0,fromCell:!0});return}const c=this.getNormalisedPosition(i);c?this.focusPosition(c):this.tryToFocusFullWidthRow(i)}getNormalisedPosition(e){if(!!this.beans.spannedRowRenderer?.getCellByPosition(e))return e;this.ensureCellVisible(e);const r=Jo(this.beans,e);return r?(e=r.getFocusedCellPosition(),this.ensureCellVisible(e),e):null}tryToFocusFullWidthRow(e,t){const{visibleCols:r,rowRenderer:n,focusSvc:i,eventSvc:o}=this.beans,s=r.allCols;if(!n.getRowByPosition(e)?.isFullWidth())return!1;const l=i.getFocusedCell(),u={rowIndex:e.rowIndex,rowPinned:e.rowPinned,column:e.column||(t?Gt(s):s[0])};this.focusPosition(u);const c=t??(l!=null&&DM(u,l));return o.dispatchEvent({type:"fullWidthRowFocused",rowIndex:u.rowIndex,rowPinned:u.rowPinned,column:u.column,isFullWidthCell:!0,fromBelow:c}),!0}focusPosition(e){const{focusSvc:t,rangeSvc:r}=this.beans;t.setFocusedCell({rowIndex:e.rowIndex,column:e.column,rowPinned:e.rowPinned,forceBrowserFocus:!0}),r?.setRangeToCell(e)}isValidNavigateCell(e){return!!ri(this.beans,e)}getLastCellOfColSpan(e){const t=Jo(this.beans,e);if(!t)return e;const r=t.getColSpanningList();return r.length===1?e:{rowIndex:e.rowIndex,column:Gt(r),rowPinned:e.rowPinned}}ensureCellVisible(e){const t=Zw(this.gos),r=this.beans.rowModel.getRow(e.rowIndex),n=t&&r?.sticky,{scrollFeature:i}=this.gridBodyCon;!n&&$t(e.rowPinned)&&i.ensureIndexVisible(e.rowIndex),e.column.isPinned()||i.ensureColumnVisible(e.column)}ensureColumnVisible(e){const t=this.gridBodyCon.scrollFeature;e.isPinned()||t.ensureColumnVisible(e)}ensureRowVisible(e){this.gridBodyCon.scrollFeature.ensureIndexVisible(e)}};function zd(e){return e.ctrlsSvc.getScrollFeature().getVScrollPosition()}var B9={moduleName:"KeyboardNavigation",version:Me,beans:[I9,n9,p8],apiFunctions:{getFocusedCell:i9,clearFocusedCell:o9,setFocusedCell:s9,setFocusedHeader:u9,tabToNextCell:a9,tabToPreviousCell:l9}},L9=class extends ve{constructor(){super(...arguments),this.beanName="pageBoundsListener"}postConstruct(){this.addManagedEventListeners({modelUpdated:this.onModelUpdated.bind(this),recalculateRowBounds:this.calculatePages.bind(this)}),this.onModelUpdated()}onModelUpdated(e){this.calculatePages(),this.eventSvc.dispatchEvent({type:"paginationChanged",animate:e?.animate??!1,newData:e?.newData??!1,newPage:e?.newPage??!1,newPageSize:e?.newPageSize??!1,keepRenderedRows:e?.keepRenderedRows??!1})}calculatePages(){const{pageBounds:e,pagination:t,rowModel:r}=this.beans;t?t.calculatePages():e.calculateBounds(0,r.getRowCount()-1)}},N9=class extends ve{constructor(){super(...arguments),this.beanName="pageBounds",this.pixelOffset=0}getFirstRow(){return this.topRowBounds?.rowIndex??-1}getLastRow(){return this.bottomRowBounds?.rowIndex??-1}getCurrentPageHeight(){const{topRowBounds:e,bottomRowBounds:t}=this;return!e||!t?0:Math.max(t.rowTop+t.rowHeight-e.rowTop,0)}getCurrentPagePixelRange(){const{topRowBounds:e,bottomRowBounds:t}=this,r=e?.rowTop??0,n=t?t.rowTop+t.rowHeight:0;return{pageFirstPixel:r,pageLastPixel:n}}calculateBounds(e,t){const{rowModel:r}=this.beans,n=r.getRowBounds(e);n&&(n.rowIndex=e),this.topRowBounds=n;const i=r.getRowBounds(t);i&&(i.rowIndex=t),this.bottomRowBounds=i,this.calculatePixelOffset()}getPixelOffset(){return this.pixelOffset}calculatePixelOffset(){const e=this.topRowBounds?.rowTop??0;this.pixelOffset!==e&&(this.pixelOffset=e,this.eventSvc.dispatchEvent({type:"paginationPixelOffsetChanged"}))}},O9=".ag-pinned-left-floating-bottom,.ag-pinned-left-floating-top,.ag-pinned-right-floating-bottom,.ag-pinned-right-floating-top{min-width:0;overflow:hidden;position:relative}.ag-pinned-left-sticky-top,.ag-pinned-right-sticky-top{height:100%;overflow:hidden;position:relative}.ag-sticky-bottom-full-width-container,.ag-sticky-top-full-width-container{height:100%;overflow:hidden;width:100%}.ag-pinned-left-header,.ag-pinned-right-header{display:inline-block;height:100%;overflow:hidden;position:relative}.ag-body-horizontal-scroll:not(.ag-scrollbar-invisible){.ag-horizontal-left-spacer:not(.ag-scroller-corner){border-right:var(--ag-pinned-column-border)}.ag-horizontal-right-spacer:not(.ag-scroller-corner){border-left:var(--ag-pinned-column-border)}}.ag-pinned-right-header{border-left:var(--ag-pinned-column-border)}.ag-pinned-left-header{border-right:var(--ag-pinned-column-border)}.ag-cell.ag-cell-first-right-pinned:not(.ag-cell-range-left,.ag-cell-range-single-cell,.ag-cell-focus:not(.ag-cell-range-selected):focus-within){border-left:var(--ag-pinned-column-border)}.ag-cell.ag-cell-last-left-pinned:not(.ag-cell-range-right,.ag-cell-range-single-cell,.ag-cell-focus:not(.ag-cell-range-selected):focus-within){border-right:var(--ag-pinned-column-border)}.ag-pinned-left-header .ag-header-cell-resize:after{left:calc(50% - var(--ag-header-column-resize-handle-width))}.ag-pinned-right-header .ag-header-cell-resize:after{left:50%}.ag-pinned-left-header .ag-header-cell-resize{right:-3px}.ag-pinned-right-header .ag-header-cell-resize{left:-3px}",H9=class extends ve{constructor(e,t){super(),this.isLeft=e,this.elements=t,this.getWidth=e?()=>this.beans.pinnedCols.leftWidth:()=>this.beans.pinnedCols.rightWidth}postConstruct(){this.addManagedEventListeners({[`${this.isLeft?"left":"right"}PinnedWidthChanged`]:this.onPinnedWidthChanged.bind(this)})}onPinnedWidthChanged(){const e=this.getWidth(),t=e>0;for(const r of this.elements)r&&(Kt(r,t),_n(r,e))}},G9=class extends ve{constructor(){super(...arguments),this.beanName="pinnedCols"}postConstruct(){this.beans.ctrlsSvc.whenReady(this,t=>{this.gridBodyCtrl=t.gridBodyCtrl});const e=this.checkContainerWidths.bind(this);this.addManagedEventListeners({displayedColumnsChanged:e,displayedColumnsWidthChanged:e}),this.addManagedPropertyListener("domLayout",e)}checkContainerWidths(){const{gos:e,visibleCols:t,eventSvc:r}=this.beans,n=yr(e,"print"),i=n?0:t.getColsLeftWidth(),o=n?0:t.getDisplayedColumnsRightWidth();i!=this.leftWidth&&(this.leftWidth=i,r.dispatchEvent({type:"leftPinnedWidthChanged"})),o!=this.rightWidth&&(this.rightWidth=o,r.dispatchEvent({type:"rightPinnedWidthChanged"}))}keepPinnedColumnsNarrowerThanViewport(){const e=this.gridBodyCtrl.eBodyViewport,t=ma(e);if(t<=50)return;const r=this.getPinnedColumnsOverflowingViewport(t-50),n=this.gos.getCallback("processUnpinnedColumns"),{columns:i,hasLockedPinned:o}=r;let s=i;!s.length&&!o||(n&&(s=n({columns:s,viewportWidth:t})),s?.length&&(s=s.filter(a=>!Zn(a)),this.setColsPinned(s,null,"viewportSizeFeature")))}createPinnedWidthFeature(e,...t){return new H9(e,t)}setColsPinned(e,t,r){const{colModel:n,colAnimation:i,visibleCols:o,gos:s}=this.beans;if(!n.cols||!e?.length)return;if(yr(s,"print")){Se(37);return}i?.start();let a;t===!0||t==="left"?a="left":t==="right"?a="right":a=null;const l=[];for(const u of e){if(!u)continue;const c=n.getCol(u);c&&c.getPinned()!==a&&(this.setColPinned(c,a),l.push(c))}l.length&&(o.refresh(r),h1(this.eventSvc,l,r)),i?.finish()}initCol(e){const{pinned:t,initialPinned:r}=e.colDef;t!==void 0?this.setColPinned(e,t):this.setColPinned(e,r)}setColPinned(e,t){t===!0||t==="left"?e.pinned="left":t==="right"?e.pinned="right":e.pinned=null,e.dispatchStateUpdatedEvent("pinned")}setupHeaderPinnedWidth(e){const{scrollVisibleSvc:t}=this.beans;if(e.pinned==null)return;const r=e.pinned==="left",n=e.pinned==="right";e.hidden=!0;const i=()=>{const o=r?this.leftWidth:this.rightWidth;if(o==null)return;const s=o==0,a=e.hidden!==s,l=this.gos.get("enableRtl"),u=t.getScrollbarWidth(),f=t.verticalScrollShowing&&(l&&r||!l&&n)?o+u:o;e.comp.setPinnedContainerWidth(`${f}px`),e.comp.setDisplayed(!s),a&&(e.hidden=s,e.refresh())};e.addManagedEventListeners({leftPinnedWidthChanged:i,rightPinnedWidthChanged:i,scrollVisibilityChanged:i,scrollbarWidthChanged:i})}getHeaderResizeDiff(e,t){if(t.getPinned()){const{leftWidth:n,rightWidth:i}=this,o=ma(this.beans.ctrlsSvc.getGridBodyCtrl().eBodyViewport)-50;if(n+i+e>o)if(o>n+i)e=o-n-i;else return 0}return e}getPinnedColumnsOverflowingViewport(e){const t=this.rightWidth??0,r=this.leftWidth??0,n=t+r;let i=!1;if(n<e)return{columns:[],hasLockedPinned:i};const{visibleCols:o}=this.beans,s=[...o.leftCols],a=[...o.rightCols];let l=0,u=0;const c=0,f=[];let d=n-c-e;for(;(u<s.length||l<a.length)&&d>0;){if(l<a.length){const h=a[l++];if(h.colDef.lockPinned){i=!0;continue}d-=h.getActualWidth(),f.push(h)}if(u<s.length&&d>0){const h=s[u++];if(h.colDef.lockPinned){i=!0;continue}d-=h.getActualWidth(),f.push(h)}}return{columns:f,hasLockedPinned:i}}},j9={moduleName:"PinnedColumn",version:Me,beans:[G9],css:[O9]},z9=class extends ve{constructor(){super(),this.beanName="ariaAnnounce",this.descriptionContainer=null,this.pendingAnnouncements=new Map,this.lastAnnouncement="",this.updateAnnouncement=mr(this,this.updateAnnouncement.bind(this),200)}postConstruct(){const e=this.beans,t=fr(e),r=this.descriptionContainer=t.createElement("div");r.classList.add("ag-aria-description-container"),Sw(r,"polite"),P_(r,"additions text"),M_(r,!0),e.eGridDiv.appendChild(r)}announceValue(e,t){this.pendingAnnouncements.set(t,e),this.updateAnnouncement()}updateAnnouncement(){if(!this.descriptionContainer)return;const e=Array.from(this.pendingAnnouncements.values()).join(". ");this.pendingAnnouncements.clear(),this.descriptionContainer.textContent="",setTimeout(()=>{this.handleAnnouncementUpdate(e)},50)}handleAnnouncementUpdate(e){if(!this.isAlive()||!this.descriptionContainer)return;let t=e;if(t==null||t.replace(/[ .]/g,"")==""){this.lastAnnouncement="";return}this.lastAnnouncement===t&&(t=`${t}`),this.lastAnnouncement=t,this.descriptionContainer.textContent=t}destroy(){super.destroy();const{descriptionContainer:e}=this;e&&(zr(e),e.remove()),this.descriptionContainer=null,this.pendingAnnouncements.clear()}},V9={moduleName:"Aria",version:Me,beans:[z9]},W9=":where(.ag-delay-render){.ag-cell,.ag-header-cell,.ag-header-group-cell,.ag-row,.ag-spanned-cell-wrapper{visibility:hidden}}",i0="ag-delay-render",$9=class extends ve{constructor(){super(...arguments),this.beanName="colDelayRenderSvc",this.hideRequested=!1,this.alreadyRevealed=!1,this.timesRetried=0,this.requesters=new Set}hideColumns(e){this.alreadyRevealed||this.requesters.has(e)||(this.requesters.add(e),this.hideRequested||(this.beans.ctrlsSvc.whenReady(this,t=>{t.gridBodyCtrl.eGridBody.classList.add(i0)}),this.hideRequested=!0))}revealColumns(e){if(this.alreadyRevealed||!this.isAlive()||(this.requesters.delete(e),this.requesters.size>0))return;const{renderStatus:t,ctrlsSvc:r}=this.beans;if(t){if(!t.areHeaderCellsRendered()&&this.timesRetried<5){this.timesRetried++,setTimeout(()=>this.revealColumns(e));return}this.timesRetried=0}r.getGridBodyCtrl().eGridBody.classList.remove(i0),this.alreadyRevealed=!0}},U9={moduleName:"ColumnDelayRender",version:Me,beans:[$9],css:[W9]};function K9(e){e.overlays?.showLoadingOverlay()}function q9(e){e.overlays?.showNoRowsOverlay()}function J9(e){e.overlays?.hideOverlay()}var Y9=".ag-overlay{inset:0;pointer-events:none;position:absolute;z-index:2}.ag-overlay-panel,.ag-overlay-wrapper{display:flex;height:100%;width:100%}.ag-overlay-wrapper{align-items:center;flex:none;justify-content:center;text-align:center}.ag-overlay-loading-wrapper{pointer-events:all}.ag-overlay-loading-center{background:var(--ag-background-color);border:solid var(--ag-border-width) var(--ag-border-color);border-radius:var(--ag-border-radius);box-shadow:var(--ag-popup-shadow);padding:var(--ag-spacing)}",Z9={tag:"div",cls:"ag-overlay",role:"presentation",children:[{tag:"div",cls:"ag-overlay-panel",role:"presentation",children:[{tag:"div",ref:"eOverlayWrapper",cls:"ag-overlay-wrapper",role:"presentation"}]}]},LC=class extends Xt{constructor(){super(Z9),this.eOverlayWrapper=Ve,this.activePromise=null,this.activeOverlay=null,this.updateListenerDestroyFunc=null,this.activeCssClass=null,this.elToFocusAfter=null,this.registerCSS(Y9)}handleKeyDown(e){if(e.key!==me.TAB||e.defaultPrevented||Qn(e))return;const t=this.beans;if(_o(t,this.eOverlayWrapper,!1,e.shiftKey))return;let n=!1;e.shiftKey?n=t.focusSvc.focusGridView({column:Gt(t.visibleCols.allCols),backwards:!0,canFocusOverlay:!1}):n=Cs(t,!1),n&&e.preventDefault()}updateLayoutClasses(e,t){const r=this.eOverlayWrapper.classList,{AUTO_HEIGHT:n,NORMAL:i,PRINT:o}=gu;r.toggle(n,t.autoHeight),r.toggle(i,t.normal),r.toggle(o,t.print)}postConstruct(){this.createManagedBean(new wp(this)),this.setDisplayed(!1,{skipAriaHidden:!0}),this.beans.overlays.setOverlayWrapperComp(this),this.addManagedElementListeners(this.getFocusableElement(),{keydown:this.handleKeyDown.bind(this)})}setWrapperTypeClass(e){const t=this.eOverlayWrapper.classList;this.activeCssClass&&t.toggle(this.activeCssClass,!1),this.activeCssClass=e,t.toggle(e,!0)}showOverlay(e,t,r,n){if(this.setWrapperTypeClass(t),this.destroyActiveOverlay(),this.elToFocusAfter=null,this.activePromise=e,!!e){if(this.setDisplayed(!0,{skipAriaHidden:!0}),r&&this.isGridFocused()){const i=qt(this.beans);i&&!vw(this.beans)&&(this.elToFocusAfter=i)}e.then(i=>{if(this.activePromise!==e){this.activeOverlay!==i&&(this.destroyBean(i),i=null);return}if(this.activePromise=null,!!i){if(this.activeOverlay!==i&&(this.eOverlayWrapper.appendChild(i.getGui()),this.activeOverlay=i,n)){const o=i;this.updateListenerDestroyFunc=this.addManagedPropertyListener(n,({currentValue:s})=>{o.refresh?.(Ue(this.gos,{...s??{}}))})}r&&this.isGridFocused()&&vo(this.eOverlayWrapper)}})}}updateOverlayWrapperPaddingTop(e){this.eOverlayWrapper.style.setProperty("padding-top",`${e}px`)}destroyActiveOverlay(){this.activePromise=null;const e=this.activeOverlay;if(!e)return;let t=this.elToFocusAfter;this.activeOverlay=null,this.elToFocusAfter=null,t&&!this.isGridFocused()&&(t=null);const r=this.updateListenerDestroyFunc;r&&(r(),this.updateListenerDestroyFunc=null),this.destroyBean(e),zr(this.eOverlayWrapper),t?.focus?.({preventScroll:!0})}hideOverlay(){this.destroyActiveOverlay(),this.setDisplayed(!1,{skipAriaHidden:!0})}isGridFocused(){const e=qt(this.beans);return!!e&&this.beans.eGridDiv.contains(e)}destroy(){this.elToFocusAfter=null,this.destroyActiveOverlay(),this.beans.overlays.setOverlayWrapperComp(void 0),super.destroy()}},X9={selector:"AG-OVERLAY-WRAPPER",component:LC},Q9=class extends ve{constructor(){super(...arguments),this.beanName="overlays",this.state=0,this.showInitialOverlay=!0,this.wrapperPadding=0}postConstruct(){this.isClientSide=er(this.gos),this.isServerSide=!this.isClientSide&&Eo(this.gos);const e=()=>this.updateOverlayVisibility();this.addManagedEventListeners({newColumnsLoaded:e,rowDataUpdated:e,gridSizeChanged:this.refreshWrapperPadding.bind(this),rowCountReady:()=>{this.showInitialOverlay=!1,this.updateOverlayVisibility()}}),this.addManagedPropertyListener("loading",e)}setOverlayWrapperComp(e){this.eWrapper=e,this.updateOverlayVisibility()}isVisible(){return this.state!==0&&!!this.eWrapper}isExclusive(){return this.state===1&&!!this.eWrapper}showLoadingOverlay(){this.showInitialOverlay=!1;const e=this.gos,t=e.get("loading");!t&&(t!==void 0||e.get("suppressLoadingOverlay"))||this.doShowLoadingOverlay()}showNoRowsOverlay(){this.showInitialOverlay=!1;const e=this.gos;e.get("loading")||e.get("suppressNoRowsOverlay")||this.doShowNoRowsOverlay()}hideOverlay(){if(this.showInitialOverlay=!1,this.gos.get("loading")){Se(99);return}this.doHideOverlay()}getOverlayWrapperSelector(){return X9}getOverlayWrapperCompClass(){return LC}updateOverlayVisibility(){if(!this.eWrapper){this.state=0;return}const{state:e,isClientSide:t,isServerSide:r,beans:{gos:n,colModel:i,rowModel:o}}=this;let s=this.gos.get("loading");s!==void 0&&(this.showInitialOverlay=!1),this.showInitialOverlay&&s===void 0&&!n.get("suppressLoadingOverlay")&&(s=!n.get("columnDefs")||!i.ready||!n.get("rowData")&&t),s?e!==1&&this.doShowLoadingOverlay():(this.showInitialOverlay=!1,t&&o.isEmpty()&&!n.get("suppressNoRowsOverlay")?e!==2&&this.doShowNoRowsOverlay():(e===1||!r&&e!==0)&&this.doHideOverlay())}doShowLoadingOverlay(){this.eWrapper&&(this.state=1,this.showOverlay($4(this.beans.userCompFactory,Ue(this.gos,{})),"ag-overlay-loading-wrapper","loadingOverlayComponentParams"),this.updateExclusive())}doShowNoRowsOverlay(){this.eWrapper&&(this.state=2,this.showOverlay(U4(this.beans.userCompFactory,Ue(this.gos,{})),"ag-overlay-no-rows-wrapper","noRowsOverlayComponentParams"),this.updateExclusive())}doHideOverlay(){this.eWrapper&&(this.state=0,this.eWrapper.hideOverlay(),this.updateExclusive())}showOverlay(e,t,r){const n=e?.newAgStackInstance()??null;this.eWrapper?.showOverlay(n,t,this.isExclusive(),r),this.refreshWrapperPadding()}updateExclusive(){const e=this.exclusive;this.exclusive=this.isExclusive(),this.exclusive!==e&&this.eventSvc.dispatchEvent({type:"overlayExclusiveChanged"})}refreshWrapperPadding(){const e=this.eWrapper;if(!e)return;let t=0;this.state===2&&(t=this.beans.ctrlsSvc.get("gridHeaderCtrl")?.headerHeight||0),this.wrapperPadding!==t&&(this.wrapperPadding=t,e.updateOverlayWrapperPaddingTop(t))}},eI={moduleName:"Overlay",version:Me,userComponents:{agLoadingOverlay:D6,agNoRowsOverlay:P6},apiFunctions:{showLoadingOverlay:K9,showNoRowsOverlay:q9,hideOverlay:J9},beans:[Q9]},tI=class extends ve{constructor(){super(...arguments),this.beanName="rowContainerHeight",this.scrollY=0,this.uiBodyHeight=0}postConstruct(){this.addManagedEventListeners({bodyHeightChanged:this.updateOffset.bind(this)}),this.maxDivHeight=Y4(),bo(this.gos,"RowContainerHeightService - maxDivHeight = "+this.maxDivHeight)}updateOffset(){if(!this.stretching)return;const e=this.beans.ctrlsSvc.getScrollFeature().getVScrollPosition().top,t=this.getUiBodyHeight();(e!==this.scrollY||t!==this.uiBodyHeight)&&(this.scrollY=e,this.uiBodyHeight=t,this.calculateOffset())}calculateOffset(){this.setUiContainerHeight(this.maxDivHeight),this.pixelsToShave=this.modelHeight-this.uiContainerHeight,this.maxScrollY=this.uiContainerHeight-this.uiBodyHeight;const e=this.scrollY/this.maxScrollY,t=e*this.pixelsToShave;bo(this.gos,`RowContainerHeightService - Div Stretch Offset = ${t} (${this.pixelsToShave} * ${e})`),this.setDivStretchOffset(t)}setUiContainerHeight(e){e!==this.uiContainerHeight&&(this.uiContainerHeight=e,this.eventSvc.dispatchEvent({type:"rowContainerHeightChanged"}))}clearOffset(){this.setUiContainerHeight(this.modelHeight),this.pixelsToShave=0,this.setDivStretchOffset(0)}setDivStretchOffset(e){const t=typeof e=="number"?Math.floor(e):null;this.divStretchOffset!==t&&(this.divStretchOffset=t,this.eventSvc.dispatchEvent({type:"heightScaleChanged"}))}setModelHeight(e){this.modelHeight=e,this.stretching=e!=null&&this.maxDivHeight>0&&e>this.maxDivHeight,this.stretching?this.calculateOffset():this.clearOffset()}getRealPixelPosition(e){return e-this.divStretchOffset}getUiBodyHeight(){const e=this.beans.ctrlsSvc.getScrollFeature().getVScrollPosition();return e.bottom-e.top}getScrollPositionForPixel(e){if(this.pixelsToShave<=0)return e;const t=this.modelHeight-this.getUiBodyHeight(),r=e/t;return this.maxScrollY*r}},rI=400,nI=class extends ve{constructor(){super(...arguments),this.beanName="rowRenderer",this.destroyFuncsForColumnListeners=[],this.rowCtrlsByRowIndex={},this.zombieRowCtrls={},this.allRowCtrls=[],this.topRowCtrls=[],this.bottomRowCtrls=[],this.refreshInProgress=!1,this.dataFirstRenderedFired=!1,this.setupRangeSelectionListeners=()=>{const e=()=>{for(const o of this.getAllCellCtrls())o.onCellSelectionChanged()},t=()=>{for(const o of this.getAllCellCtrls())o.updateRangeBordersIfRangeCount()},r=()=>{this.eventSvc.addListener("cellSelectionChanged",e),this.eventSvc.addListener("columnMoved",t),this.eventSvc.addListener("columnPinned",t),this.eventSvc.addListener("columnVisible",t)},n=()=>{this.eventSvc.removeListener("cellSelectionChanged",e),this.eventSvc.removeListener("columnMoved",t),this.eventSvc.removeListener("columnPinned",t),this.eventSvc.removeListener("columnVisible",t)};this.addDestroyFunc(()=>n()),this.addManagedPropertyListeners(["enableRangeSelection","cellSelection"],()=>{_i(this.gos)?r():n()}),_i(this.gos)&&r()}}wireBeans(e){this.pageBounds=e.pageBounds,this.colModel=e.colModel,this.pinnedRowModel=e.pinnedRowModel,this.rowModel=e.rowModel,this.focusSvc=e.focusSvc,this.rowContainerHeight=e.rowContainerHeight,this.ctrlsSvc=e.ctrlsSvc,this.editSvc=e.editSvc}postConstruct(){this.ctrlsSvc.whenReady(this,e=>{this.gridBodyCtrl=e.gridBodyCtrl,this.initialise()})}initialise(){this.addManagedEventListeners({paginationChanged:this.onPageLoaded.bind(this),pinnedRowDataChanged:this.onPinnedRowDataChanged.bind(this),pinnedRowsChanged:this.onPinnedRowsChanged.bind(this),displayedColumnsChanged:this.onDisplayedColumnsChanged.bind(this),bodyScroll:this.onBodyScroll.bind(this),bodyHeightChanged:this.redraw.bind(this,{})}),this.addManagedPropertyListeners(["domLayout","embedFullWidthRows"],()=>this.onDomLayoutChanged()),this.addManagedPropertyListeners(["suppressMaxRenderedRowRestriction","rowBuffer"],()=>this.redraw()),this.addManagedPropertyListener("suppressCellFocus",n=>this.onSuppressCellFocusChanged(n.currentValue)),this.addManagedPropertyListeners(["groupSuppressBlankHeader","getBusinessKeyForNode","fullWidthCellRenderer","fullWidthCellRendererParams","suppressStickyTotalRow","groupRowRenderer","groupRowRendererParams","loadingCellRenderer","loadingCellRendererParams","detailCellRenderer","detailCellRendererParams","enableRangeSelection","enableCellTextSelection"],()=>this.redrawRows()),this.addManagedPropertyListener("cellSelection",({currentValue:n,previousValue:i})=>{(!i&&n||i&&!n)&&this.redrawRows()});const{stickyRowSvc:e,gos:t,showRowGroupCols:r}=this.beans;if(r&&this.addManagedPropertyListener("showOpenedGroup",()=>{const n=r.getShowRowGroupCols();n.length&&this.refreshCells({columns:n,force:!0})}),e)this.stickyRowFeature=e.createStickyRowFeature(this,this.createRowCon.bind(this),this.destroyRowCtrls.bind(this));else{const n=this.gridBodyCtrl;n.setStickyTopHeight(0),n.setStickyBottomHeight(0)}this.registerCellEventListeners(),this.initialiseCache(),this.printLayout=yr(t,"print"),this.embedFullWidthRows=this.printLayout||t.get("embedFullWidthRows"),this.redrawAfterModelUpdate()}initialiseCache(){if(this.gos.get("keepDetailRows")){const e=this.getKeepDetailRowsCount(),t=e??3;this.cachedRowCtrls=new iI(t)}}getKeepDetailRowsCount(){return this.gos.get("keepDetailRowsCount")}getStickyTopRowCtrls(){return this.stickyRowFeature?.stickyTopRowCtrls??[]}getStickyBottomRowCtrls(){return this.stickyRowFeature?.stickyBottomRowCtrls??[]}updateAllRowCtrls(){const e=Object.values(this.rowCtrlsByRowIndex),t=Object.values(this.zombieRowCtrls),r=this.cachedRowCtrls?.getEntries()??[];t.length>0||r.length>0?this.allRowCtrls=[...e,...t,...r]:this.allRowCtrls=e}isCellBeingRendered(e,t){const r=this.rowCtrlsByRowIndex[e];return!t||!r?!!r:r.isFullWidth()?!0:!!this.beans.spannedRowRenderer?.getCellByPosition({rowIndex:e,column:t,rowPinned:null})||!!r.getCellCtrl(t)||!r.isRowRendered()}updateCellFocus(e){for(const t of this.getAllCellCtrls())t.onCellFocused(e);for(const t of this.getFullWidthRowCtrls())t.onFullWidthRowFocused(e)}onCellFocusChanged(e){if(e?.rowIndex!=null&&!e.rowPinned){const t=this.beans.colModel.getCol(e.column)??void 0;this.isCellBeingRendered(e.rowIndex,t)||this.redraw()}this.updateCellFocus(e)}onSuppressCellFocusChanged(e){for(const t of this.getAllCellCtrls())t.onSuppressCellFocusChanged(e);for(const t of this.getFullWidthRowCtrls())t.onSuppressCellFocusChanged(e)}registerCellEventListeners(){this.addManagedEventListeners({cellFocused:e=>this.onCellFocusChanged(e),cellFocusCleared:()=>this.updateCellFocus(),flashCells:e=>{const{cellFlashSvc:t}=this.beans;if(t)for(const r of this.getAllCellCtrls())t.onFlashCells(r,e)},columnHoverChanged:()=>{for(const e of this.getAllCellCtrls())e.onColumnHover()},displayedColumnsChanged:()=>{for(const e of this.getAllCellCtrls())e.onDisplayedColumnsChanged()},displayedColumnsWidthChanged:()=>{if(this.printLayout)for(const e of this.getAllCellCtrls())e.onLeftChanged()}}),this.setupRangeSelectionListeners(),this.refreshListenersToColumnsForCellComps(),this.addManagedEventListeners({gridColumnsChanged:this.refreshListenersToColumnsForCellComps.bind(this)}),this.addDestroyFunc(this.removeGridColumnListeners.bind(this))}removeGridColumnListeners(){for(const e of this.destroyFuncsForColumnListeners)e();this.destroyFuncsForColumnListeners.length=0}refreshListenersToColumnsForCellComps(){this.removeGridColumnListeners();const e=this.colModel.getCols();for(const t of e){const r=l=>{for(const u of this.getAllCellCtrls())u.column===t&&l(u)},n=()=>{r(l=>l.onLeftChanged())},i=()=>{r(l=>l.onWidthChanged())},o=()=>{r(l=>l.onFirstRightPinnedChanged())},s=()=>{r(l=>l.onLastLeftPinnedChanged())},a=()=>{r(l=>l.onColDefChanged())};t.__addEventListener("leftChanged",n),t.__addEventListener("widthChanged",i),t.__addEventListener("firstRightPinnedChanged",o),t.__addEventListener("lastLeftPinnedChanged",s),t.__addEventListener("colDefChanged",a),this.destroyFuncsForColumnListeners.push(()=>{t.__removeEventListener("leftChanged",n),t.__removeEventListener("widthChanged",i),t.__removeEventListener("firstRightPinnedChanged",o),t.__removeEventListener("lastLeftPinnedChanged",s),t.__removeEventListener("colDefChanged",a)})}}onDomLayoutChanged(){const e=yr(this.gos,"print"),t=e||this.gos.get("embedFullWidthRows"),r=t!==this.embedFullWidthRows||this.printLayout!==e;this.printLayout=e,this.embedFullWidthRows=t,r&&this.redrawAfterModelUpdate({domLayoutChanged:!0})}datasourceChanged(){this.firstRenderedRow=0,this.lastRenderedRow=-1;const e=Object.keys(this.rowCtrlsByRowIndex);this.removeRowCtrls(e)}onPageLoaded(e){const t={recycleRows:e.keepRenderedRows,animate:e.animate,newData:e.newData,newPage:e.newPage,onlyBody:!0};this.redrawAfterModelUpdate(t)}getAllCellsNotSpanningForColumn(e){const t=[];for(const r of this.getAllRowCtrls()){const n=r.getCellCtrl(e,!0)?.eGui;n&&t.push(n)}return t}refreshFloatingRowComps(e=!0){this.refreshFloatingRows(this.topRowCtrls,"top",e),this.refreshFloatingRows(this.bottomRowCtrls,"bottom",e)}refreshFloatingRows(e,t,r){const{pinnedRowModel:n,beans:i,printLayout:o}=this,s=Object.fromEntries(e.map(l=>[l.rowNode.id,l]));n?.forEachPinnedRow(t,(l,u)=>{const c=e[u];c&&n.getPinnedRowById(c.rowNode.id,t)===void 0&&(c.destroyFirstPass(),c.destroySecondPass()),l.id in s&&r?(e[u]=s[l.id],delete s[l.id]):e[u]=new hc(l,i,!1,!1,o)});const a=(t==="top"?n?.getPinnedTopRowCount():n?.getPinnedBottomRowCount())??0;e.length=a}onPinnedRowDataChanged(){const e={recycleRows:!0};this.redrawAfterModelUpdate(e)}onPinnedRowsChanged(){this.redrawAfterModelUpdate({recycleRows:!0})}redrawRow(e,t=!1){if(e.sticky)this.stickyRowFeature?.refreshStickyNode(e);else if(this.cachedRowCtrls?.has(e)){this.cachedRowCtrls.removeRow(e);return}else{const r=n=>{const i=n[e.rowIndex];i&&i.rowNode===e&&(i.destroyFirstPass(),i.destroySecondPass(),n[e.rowIndex]=this.createRowCon(e,!1,!1))};switch(e.rowPinned){case"top":r(this.topRowCtrls);break;case"bottom":r(this.bottomRowCtrls);break;default:r(this.rowCtrlsByRowIndex),this.updateAllRowCtrls()}}t||this.dispatchDisplayedRowsChanged(!1)}redrawRows(e){const{editSvc:t}=this.beans;if(t?.isEditing()&&(t.isBatchEditing()?t.cleanupEditors():t.stopEditing(void 0,{source:"api"})),e!=null){for(const n of e??[])this.redrawRow(n,!0);this.dispatchDisplayedRowsChanged(!1);return}this.redrawAfterModelUpdate()}redrawAfterModelUpdate(e={}){this.getLockOnRefresh();const t=this.beans.focusSvc?.getFocusCellToUseAfterRefresh();this.updateContainerHeights(),this.scrollToTopIfNewData(e);const r=!e.domLayoutChanged&&!!e.recycleRows,n=e.animate&&is(this.gos),i=r?this.getRowsToRecycle():null;r||this.removeAllRowComps(),this.workOutFirstAndLastRowsToRender();const{stickyRowFeature:o,gos:s}=this;if(o){o.checkStickyRows();const a=o.extraTopHeight+o.extraBottomHeight;a&&this.updateContainerHeights(a)}this.recycleRows(i,n),this.gridBodyCtrl.updateRowCount(),e.onlyBody||this.refreshFloatingRowComps(s.get("enableRowPinning")?r:void 0),this.dispatchDisplayedRowsChanged(),t!=null&&this.restoreFocusedCell(t),this.releaseLockOnRefresh()}scrollToTopIfNewData(e){const t=e.newData||e.newPage,r=this.gos.get("suppressScrollOnNewData");t&&!r&&(this.gridBodyCtrl.scrollFeature.scrollToTop(),this.stickyRowFeature?.resetOffsets())}updateContainerHeights(e=0){const{rowContainerHeight:t}=this;if(this.printLayout){t.setModelHeight(null);return}let r=this.pageBounds.getCurrentPageHeight();r===0&&(r=1),t.setModelHeight(r+e)}getLockOnRefresh(){if(this.refreshInProgress)throw new Error(An(252));this.refreshInProgress=!0,this.beans.frameworkOverrides.getLockOnRefresh?.()}releaseLockOnRefresh(){this.refreshInProgress=!1,this.beans.frameworkOverrides.releaseLockOnRefresh?.()}isRefreshInProgress(){return this.refreshInProgress}restoreFocusedCell(e){if(!e)return;const t=this.beans.focusSvc,r=this.findPositionToFocus(e);if(!r){t.focusHeaderPosition({headerPosition:{headerRowIndex:xn(this.beans)-1,column:e.column}});return}if(e.rowIndex!==r.rowIndex||e.rowPinned!=r.rowPinned){t.setFocusedCell({...r,preventScrollOnBrowserFocus:!0,forceBrowserFocus:!0});return}t.doesRowOrCellHaveBrowserFocus()||this.updateCellFocus(Ue(this.gos,{...r,forceBrowserFocus:!0,preventScrollOnBrowserFocus:!0,type:"cellFocused"}))}findPositionToFocus(e){const{pagination:t,pageBounds:r}=this.beans;let n=e;for(n.rowPinned==null&&t&&r&&!t.isRowInPage(n.rowIndex)&&(n={rowPinned:null,rowIndex:r.getFirstRow()});n;){if(n.rowPinned==null&&r)if(n.rowIndex<r.getFirstRow()){if(n=cc(this.beans,{rowPinned:null,rowIndex:0}),!n)return null}else n.rowIndex>r.getLastRow()&&(n={rowPinned:null,rowIndex:r.getLastRow()});const i=this.getRowByPosition(n);if(i?.isAlive())return{...i.getRowPosition(),column:e.column};n=cc(this.beans,n)}return null}getAllCellCtrls(){const e=[],t=this.getAllRowCtrls(),r=t.length;for(let n=0;n<r;n++){const i=t[n].getAllCellCtrls(),o=i.length;for(let s=0;s<o;s++)e.push(i[s])}return e}getAllRowCtrls(){const{spannedRowRenderer:e}=this.beans,t=this.getStickyTopRowCtrls(),r=this.getStickyBottomRowCtrls();return[...this.topRowCtrls,...this.bottomRowCtrls,...t,...r,...e?.getCtrls("top")??[],...e?.getCtrls("bottom")??[],...e?.getCtrls("center")??[],...Object.values(this.rowCtrlsByRowIndex)]}addRenderedRowListener(e,t,r){const n=this.rowCtrlsByRowIndex[t];n&&n.addEventListener(e,r)}refreshCells({rowNodes:e,columns:t,force:r,suppressFlash:n}={}){const i={force:r,newData:!1,suppressFlash:n};for(const o of this.getCellCtrls(e,t))o.refreshOrDestroyCell(i);this.refreshFullWidth(e)}refreshRows(e={}){for(const t of this.getRowCtrls(e.rowNodes))t.refreshRow(e);this.refreshFullWidth(e.rowNodes)}refreshFullWidth(e){if(!e)return;let t=!1;for(const r of this.getRowCtrls(e)){if(!r.isFullWidth())continue;r.refreshFullWidth()||(t=!0,this.redrawRow(r.rowNode,!0))}t&&this.dispatchDisplayedRowsChanged(!1)}getRowCtrls(e){const t=sf(e),r=this.getAllRowCtrls();return!e||!t?r:r.filter(n=>{const i=n.rowNode;return af(i,t)})}getCellCtrls(e,t){let r;Le(t)&&(r={},t.forEach(i=>{const o=this.colModel.getCol(i);Le(o)&&(r[o.getId()]=!0)}));const n=[];for(const i of this.getRowCtrls(e))for(const o of i.getAllCellCtrls()){const s=o.column.getId();r&&!r[s]||n.push(o)}return n}destroy(){this.removeAllRowComps(!0),super.destroy()}removeAllRowComps(e=!1){const t=Object.keys(this.rowCtrlsByRowIndex);this.removeRowCtrls(t,e),this.stickyRowFeature?.destroyStickyCtrls()}getRowsToRecycle(){const e=[];for(const r of Object.keys(this.rowCtrlsByRowIndex))this.rowCtrlsByRowIndex[r].rowNode.id==null&&e.push(r);this.removeRowCtrls(e);const t={};for(const r of Object.values(this.rowCtrlsByRowIndex)){const n=r.rowNode;t[n.id]=r}return this.rowCtrlsByRowIndex={},t}removeRowCtrls(e,t=!1){for(const r of e){const n=this.rowCtrlsByRowIndex[r];n&&(n.destroyFirstPass(t),n.destroySecondPass()),delete this.rowCtrlsByRowIndex[r]}}onBodyScroll(e){e.direction==="vertical"&&this.redraw({afterScroll:!0})}redraw(e={}){const{focusSvc:t,animationFrameSvc:r}=this.beans,{afterScroll:n}=e;let i;const o=this.stickyRowFeature;o&&(i=t?.getFocusCellToUseAfterRefresh()||void 0);const s=this.firstRenderedRow,a=this.lastRenderedRow;this.workOutFirstAndLastRowsToRender();let l=!1;if(o){l=o.checkStickyRows();const c=o.extraTopHeight+o.extraBottomHeight;c&&this.updateContainerHeights(c)}const u=this.firstRenderedRow!==s||this.lastRenderedRow!==a;if(!(n&&!l&&!u)&&(this.getLockOnRefresh(),this.recycleRows(null,!1,n),this.releaseLockOnRefresh(),this.dispatchDisplayedRowsChanged(n&&!l),i!=null)){const c=t?.getFocusCellToUseAfterRefresh();i!=null&&c==null&&(r?.flushAllFrames(),this.restoreFocusedCell(i))}}removeRowCompsNotToDraw(e,t){const r={};for(const o of e)r[o]=!0;const i=Object.keys(this.rowCtrlsByRowIndex).filter(o=>!r[o]);this.removeRowCtrls(i,t)}calculateIndexesToDraw(e){const t=[];for(let s=this.firstRenderedRow;s<=this.lastRenderedRow;s++)t.push(s);const r=this.beans.pagination,n=this.beans.focusSvc?.getFocusedCell()?.rowIndex;n!=null&&(n<this.firstRenderedRow||n>this.lastRenderedRow)&&(!r||r.isRowInPage(n))&&n<this.rowModel.getRowCount()&&t.push(n);const i=s=>{const a=s.rowNode.rowIndex;a==null||a===n||(a<this.firstRenderedRow||a>this.lastRenderedRow)&&this.doNotUnVirtualiseRow(s)&&t.push(a)};for(const s of Object.values(this.rowCtrlsByRowIndex))i(s);if(e)for(const s of Object.values(e))i(s);t.sort((s,a)=>s-a);const o=[];for(let s=0;s<t.length;s++){const a=t[s],l=this.rowModel.getRow(a);l&&!l.sticky&&o.push(a)}return o}recycleRows(e,t=!1,r=!1){const n=this.calculateIndexesToDraw(e);(this.printLayout||r)&&(t=!1),this.removeRowCompsNotToDraw(n,!t);for(const i of n)this.createOrUpdateRowCtrl(i,e,t,r);if(e){const{animationFrameSvc:i}=this.beans;i?.active&&r&&!this.printLayout?i.addDestroyTask(()=>{this.destroyRowCtrls(e,t),this.updateAllRowCtrls(),this.dispatchDisplayedRowsChanged()}):this.destroyRowCtrls(e,t)}this.updateAllRowCtrls()}dispatchDisplayedRowsChanged(e=!1){this.eventSvc.dispatchEvent({type:"displayedRowsChanged",afterScroll:e})}onDisplayedColumnsChanged(){const{visibleCols:e}=this.beans,t=e.isPinningLeft(),r=e.isPinningRight();(this.pinningLeft!==t||r!==this.pinningRight)&&(this.pinningLeft=t,this.pinningRight=r,this.embedFullWidthRows&&this.redrawFullWidthEmbeddedRows())}redrawFullWidthEmbeddedRows(){const e=[];for(const t of this.getFullWidthRowCtrls()){const r=t.rowNode.rowIndex;e.push(r.toString())}this.refreshFloatingRowComps(),this.removeRowCtrls(e),this.redraw({afterScroll:!0})}getFullWidthRowCtrls(e){const t=sf(e);return this.getAllRowCtrls().filter(r=>{if(!r.isFullWidth())return!1;const n=r.rowNode;return!(t!=null&&!af(n,t))})}createOrUpdateRowCtrl(e,t,r,n){let i,o=this.rowCtrlsByRowIndex[e];if(o||(i=this.rowModel.getRow(e),Le(i)&&Le(t)&&t[i.id]&&i.alreadyRendered&&(o=t[i.id],t[i.id]=null)),!o)if(i||(i=this.rowModel.getRow(e)),Le(i))o=this.createRowCon(i,r,n);else return;i&&(i.alreadyRendered=!0),this.rowCtrlsByRowIndex[e]=o}destroyRowCtrls(e,t){const r=[];if(e){for(const n of Object.values(e))if(n){if(this.cachedRowCtrls&&n.isCacheable()){this.cachedRowCtrls.addRow(n);continue}if(n.destroyFirstPass(!t),t){const i=n.instanceId;this.zombieRowCtrls[i]=n,r.push(()=>{n.destroySecondPass(),delete this.zombieRowCtrls[i]})}else n.destroySecondPass()}}t&&(r.push(()=>{this.isAlive()&&(this.updateAllRowCtrls(),this.dispatchDisplayedRowsChanged())}),window.setTimeout(()=>{for(const n of r)n()},rI))}getRowBuffer(){return this.gos.get("rowBuffer")}getRowBufferInPixels(){const e=this.getRowBuffer(),t=ao(this.beans);return e*t}workOutFirstAndLastRowsToRender(){const{rowContainerHeight:e,pageBounds:t,rowModel:r}=this;e.updateOffset();let n,i;if(!r.isRowsToRender())n=0,i=-1;else if(this.printLayout)this.beans.environment.refreshRowHeightVariable(),n=t.getFirstRow(),i=t.getLastRow();else{const c=this.getRowBufferInPixels(),f=this.ctrlsSvc.getScrollFeature(),d=this.gos.get("suppressRowVirtualisation");let h=!1,g,m;do{const F=t.getPixelOffset(),{pageFirstPixel:E,pageLastPixel:T}=t.getCurrentPagePixelRange(),I=e.divStretchOffset,M=f.getVScrollPosition(),P=M.top,O=M.bottom;d?(g=E+I,m=T+I):(g=Math.max(P+F-c,E)+I,m=Math.min(O+F+c,T)+I),this.firstVisibleVPixel=Math.max(P+F,E)+I,this.lastVisibleVPixel=Math.min(O+F,T)+I,h=this.ensureAllRowsInRangeHaveHeightsCalculated(g,m)}while(h);let p=r.getRowIndexAtPixel(g),y=r.getRowIndexAtPixel(m);const b=t.getFirstRow(),v=t.getLastRow();p<b&&(p=b),y>v&&(y=v),n=p,i=y}const o=yr(this.gos,"normal"),s=this.gos.get("suppressMaxRenderedRowRestriction"),a=Math.max(this.getRowBuffer(),500);o&&!s&&i-n>a&&(i=n+a);const l=n!==this.firstRenderedRow,u=i!==this.lastRenderedRow;(l||u)&&(this.firstRenderedRow=n,this.lastRenderedRow=i,this.eventSvc.dispatchEvent({type:"viewportChanged",firstRow:n,lastRow:i}))}dispatchFirstDataRenderedEvent(){this.dataFirstRenderedFired||(this.dataFirstRenderedFired=!0,oi(this.beans,()=>{this.beans.eventSvc.dispatchEvent({type:"firstDataRendered",firstRow:this.firstRenderedRow,lastRow:this.lastRenderedRow})}))}ensureAllRowsInRangeHaveHeightsCalculated(e,t){const r=this.pinnedRowModel?.ensureRowHeightsValid(),n=this.stickyRowFeature?.ensureRowHeightsValid(),{pageBounds:i,rowModel:o}=this,s=o.ensureRowHeightsValid(e,t,i.getFirstRow(),i.getLastRow());return(s||n)&&this.eventSvc.dispatchEvent({type:"recalculateRowBounds"}),n||s||r?(this.updateContainerHeights(),!0):!1}doNotUnVirtualiseRow(e){const n=e.rowNode,i=this.focusSvc.isRowFocused(n.rowIndex,n.rowPinned),o=this.editSvc?.isEditing(e),s=n.detail;return i||o||s?!!this.isRowPresent(n):!1}isRowPresent(e){return this.rowModel.isRowPresent(e)?this.beans.pagination?.isRowInPage(e.rowIndex)??!0:!1}createRowCon(e,t,r){const n=this.cachedRowCtrls?.getRow(e)??null;if(n)return n;const i=r&&!this.printLayout&&!!this.beans.animationFrameSvc?.active;return new hc(e,this.beans,t,i,this.printLayout)}getRenderedNodes(){const e=Object.values(this.rowCtrlsByRowIndex).map(n=>n.rowNode),t=this.getStickyTopRowCtrls().map(n=>n.rowNode),r=this.getStickyBottomRowCtrls().map(n=>n.rowNode);return[...t,...e,...r]}getRowByPosition(e){let t;const{rowIndex:r}=e;switch(e.rowPinned){case"top":t=this.topRowCtrls[r];break;case"bottom":t=this.bottomRowCtrls[r];break;default:t=this.rowCtrlsByRowIndex[r],t||(t=this.getStickyTopRowCtrls().find(n=>n.rowNode.rowIndex===r)||null,t||(t=this.getStickyBottomRowCtrls().find(n=>n.rowNode.rowIndex===r)||null));break}return t}isRangeInRenderedViewport(e,t){if(e==null||t==null)return!1;const n=e>this.lastRenderedRow;return!(t<this.firstRenderedRow)&&!n}},iI=class{constructor(e){this.entriesMap={},this.entriesList=[],this.maxCount=e}addRow(e){if(this.entriesMap[e.rowNode.id]=e,this.entriesList.push(e),e.setCached(!0),this.entriesList.length>this.maxCount){const t=this.entriesList[0];t.destroyFirstPass(),t.destroySecondPass(),this.removeFromCache(t)}}getRow(e){if(e?.id==null)return null;const t=this.entriesMap[e.id];return t?(this.removeFromCache(t),t.setCached(!1),t.rowNode!=e?null:t):null}has(e){return this.entriesMap[e.id]!=null}removeRow(e){const t=e.id,r=this.entriesMap[t];delete this.entriesMap[t],pn(this.entriesList,r)}removeFromCache(e){const t=e.rowNode.id;delete this.entriesMap[t],pn(this.entriesList,e)}getEntries(){return this.entriesList}};function sf(e){if(!e)return;const t={top:{},bottom:{},normal:{}};for(const r of e){const n=r.id;switch(r.rowPinned){case"top":t.top[n]=r;break;case"bottom":t.bottom[n]=r;break;default:t.normal[n]=r;break}}return t}function af(e,t){const r=e.id;switch(e.rowPinned){case"top":return t.top[r]!=null;case"bottom":return t.bottom[r]!=null;default:return t.normal[r]!=null}}var oI=class extends ve{constructor(){super(...arguments),this.beanName="rowNodeSorter"}postConstruct(){const{gos:e}=this;this.isAccentedSort=e.get("accentedSort"),this.primaryColumnsSortGroups=Fn(e),this.addManagedPropertyListener("accentedSort",t=>this.isAccentedSort=t.currentValue),this.addManagedPropertyListener("autoGroupColumnDef",()=>this.primaryColumnsSortGroups=Fn(e))}doFullSort(e,t){const r=e.map((n,i)=>({currentPos:i,rowNode:n}));return r.sort(this.compareRowNodes.bind(this,t)),r.map(n=>n.rowNode)}compareRowNodes(e,t,r){const n=t.rowNode,i=r.rowNode;for(let o=0,s=e.length;o<s;o++){const a=e[o],l=a.sort==="desc",u=this.getValue(n,a.column),c=this.getValue(i,a.column);let f;const d=this.getComparator(a,n);if(d?f=d(u,c,n,i,l):f=k_(u,c,this.isAccentedSort),!isNaN(f)&&f!==0)return a.sort==="asc"?f:f*-1}return t.currentPos-r.currentPos}getComparator(e,t){const r=e.column,n=r.getColDef().comparator;if(n!=null)return n;if(!r.getColDef().showRowGroup)return;const i=!t.group&&r.getColDef().field;if(!i)return;const o=this.beans.colModel.getColDefCol(i);if(o)return o.getColDef().comparator}getValue(e,t){const{valueSvc:r,colModel:n,showRowGroupCols:i,gos:o}=this.beans;if(!this.primaryColumnsSortGroups)return r.getValue(t,e,!1);if(e.rowGroupColumn===t){if(Qw(o,n.isPivotActive())){const u=e.data?e:G1(e.childrenAfterGroup);return u&&r.getValue(t,u,!1)}const l=i?.getShowRowGroupCol(t.getId());return l?e.groupData?.[l.getId()]:void 0}if(!(e.group&&t.getColDef().showRowGroup))return r.getValue(t,e,!1)}};function sI(e){e.sortSvc?.onSortChanged("api")}var NC={moduleName:"Sort",version:Me,beans:[S8,oI],apiFunctions:{onSortChanged:sI},userComponents:{agSortIndicator:_p},icons:{sortAscending:"asc",sortDescending:"desc",sortUnSort:"none"}},aI=class extends ve{constructor(){super(...arguments),this.beanName="syncSvc",this.waitingForColumns=!1}postConstruct(){this.addManagedPropertyListener("columnDefs",e=>this.setColumnDefs(e))}start(){this.beans.ctrlsSvc.whenReady(this,()=>{const e=this.gos.get("columnDefs");e?this.setColumnsAndData(e):this.waitingForColumns=!0,this.gridReady()})}setColumnsAndData(e){const{colModel:t,rowModel:r}=this.beans;t.setColumnDefs(e??[],"gridInitializing"),r.start()}gridReady(){const{eventSvc:e,gos:t}=this;e.dispatchEvent({type:"gridReady"}),bo(t,`initialised successfully, enterprise = ${t.isModuleRegistered("EnterpriseCore")}`)}setColumnDefs(e){const t=this.gos.get("columnDefs");if(t){if(this.waitingForColumns){this.waitingForColumns=!1,this.setColumnsAndData(t);return}this.beans.colModel.setColumnDefs(t,ss(e.source))}}};function lI(e){e.valueCache?.expire()}function uI(e,t){const{colKey:r,rowNode:n,useFormatter:i}=t,o=e.colModel.getColDefCol(r)??e.colModel.getCol(r);if($t(o))return null;const s=e.valueSvc.getValueForDisplay(o,n,i);return i?s.valueFormatted??Ts(s.value):s.value}var cI="paste",dI=class extends ve{constructor(){super(...arguments),this.beanName="changeDetectionSvc",this.clientSideRowModel=null}postConstruct(){const{gos:e,rowModel:t}=this.beans;er(e)&&(this.clientSideRowModel=t),this.addManagedEventListeners({cellValueChanged:this.onCellValueChanged.bind(this)})}onCellValueChanged(e){const{gos:t,rowRenderer:r}=this.beans;if(e.source===cI||t.get("suppressChangeDetection"))return;const n=e.node,i=[n],o=this.clientSideRowModel,s=o?.rootNode;if(s&&!n.isRowPinned()){const a=t.get("aggregateOnlyChangedColumns"),l=new Fa(a,s);l.addParentNode(n.parent,[e.column]),o.doAggregate(l),l.forEachChangedNodeDepthFirst(u=>{i.push(u),u.sibling&&i.push(u.sibling)})}r.refreshCells({rowNodes:i})}},hI=class extends ve{constructor(){super(...arguments),this.beanName="expressionSvc",this.cache={}}evaluate(e,t){if(typeof e=="string")return this.evaluateExpression(e,t);Ot(15,{expression:e})}evaluateExpression(e,t){try{return this.createExpressionFunction(e)(t.value,t.context,t.oldValue,t.newValue,t.value,t.node,t.data,t.colDef,t.rowIndex,t.api,t.getValue,t.column,t.columnGroup)}catch(r){return Ot(16,{expression:e,params:t,e:r}),null}}createExpressionFunction(e){const t=this.cache;if(t[e])return t[e];const r=this.createFunctionBody(e),n=new Function("x, ctx, oldValue, newValue, value, node, data, colDef, rowIndex, api, getValue, column, columnGroup",r);return t[e]=n,n}createFunctionBody(e){return e.includes("return")?e:"return "+e+";"}},fI=class extends ve{constructor(){super(...arguments),this.beanName="valueCache",this.cacheVersion=0}postConstruct(){const e=this.gos;this.active=e.get("valueCache"),this.neverExpires=e.get("valueCacheNeverExpires")}onDataChanged(){this.neverExpires||this.expire()}expire(){this.cacheVersion++}setValue(e,t,r){if(this.active){const n=this.cacheVersion;e.__cacheVersion!==n&&(e.__cacheVersion=n,e.__cacheData={}),e.__cacheData[t]=r}}getValue(e,t){if(!(!this.active||e.__cacheVersion!==this.cacheVersion))return e.__cacheData[t]}},pI={moduleName:"ValueCache",version:Me,beans:[fI],apiFunctions:{expireValueCache:lI}},gI={moduleName:"Expression",version:Me,beans:[hI]},mI={moduleName:"ChangeDetection",version:Me,beans:[dI]},bI={moduleName:"CellApi",version:Me,apiFunctions:{getCellValue:uI}},yI=class extends ve{constructor(){super(...arguments),this.beanName="valueSvc",this.hasEditSvc=!1,this.initialised=!1,this.isSsrm=!1}wireBeans(e){this.expressionSvc=e.expressionSvc,this.colModel=e.colModel,this.valueCache=e.valueCache,this.dataTypeSvc=e.dataTypeSvc,this.editSvc=e.editSvc,this.hasEditSvc=!!e.editSvc}postConstruct(){this.initialised||this.init()}init(){this.executeValueGetter=this.valueCache?this.executeValueGetterWithValueCache.bind(this):this.executeValueGetterWithoutValueCache.bind(this),this.isSsrm=Eo(this.gos),this.cellExpressions=this.gos.get("enableCellExpressions"),this.isTreeData=this.gos.get("treeData"),this.initialised=!0;const e=t=>this.callColumnCellValueChangedHandler(t);this.eventSvc.addListener("cellValueChanged",e,!0),this.addDestroyFunc(()=>this.eventSvc.removeListener("cellValueChanged",e,!0)),this.addManagedPropertyListener("treeData",t=>this.isTreeData=t.currentValue)}getValueForDisplay(e,t,r=!1,n=!1,i="ui"){const{showRowGroupColValueSvc:o}=this.beans,s=!e&&t.group,a=e?.colDef.showRowGroup,l=!this.isTreeData||t.footer;if(o&&l&&(s||a)){const m=o.getGroupValue(t,e);if(m==null)return{value:null,valueFormatted:null};if(!r)return{value:m.value,valueFormatted:null};const p=o.formatAndPrefixGroupColValue(m,e,n);return{value:m.value,valueFormatted:p}}if(!e)return{value:t.key,valueFormatted:null};const u=t.leafGroup&&this.colModel.isPivotMode(),c=t.group&&t.expanded&&!t.footer&&!u,f=this.gos.get("groupSuppressBlankHeader")||!t.sibling,d=c&&!f,h=this.getValue(e,t,d,i),g=r&&!(n&&e.colDef.useValueFormatterForExport===!1);return{value:h,valueFormatted:g?this.formatValue(e,t,h):null}}getValue(e,t,r=!1,n="ui"){if(this.initialised||this.init(),!t)return;const i=e.getColDef(),o=i.field,s=e.getColId(),a=t.data;if(this.hasEditSvc&&n==="ui"){const m=this.editSvc;if(m.isEditing()){const p=m.getCellDataValue({rowNode:t,column:e},!0);if(p!==void 0)return p}}let l;const u=i.showRowGroup;if(typeof u=="string"&&(this.beans.rowGroupColsSvc?.getColumnIndex(u)??-1)>t.level)return null;const c=typeof u!="string"||!t.group,f=t.groupData&&s in t.groupData,d=!r&&t.aggData&&t.aggData[s]!==void 0,h=this.isSsrm&&r&&!!i.aggFunc,g=this.isSsrm&&t.footer&&t.field&&(i.showRowGroup===!0||i.showRowGroup===t.field);if(this.isTreeData&&d)l=t.aggData[s];else if(this.isTreeData&&i.valueGetter)l=this.executeValueGetter(i.valueGetter,a,e,t);else if(this.isTreeData&&o&&a)l=oa(a,o,e.isFieldContainsDots());else if(f)l=t.groupData[s];else if(d)l=t.aggData[s];else if(i.valueGetter&&!h){if(!c)return l;l=this.executeValueGetter(i.valueGetter,a,e,t)}else if(g)l=oa(a,t.field,e.isFieldContainsDots());else if(o&&a&&!h){if(!c)return l;l=oa(a,o,e.isFieldContainsDots())}if(this.cellExpressions&&typeof l=="string"&&l.indexOf("=")===0){const m=l.substring(1);l=this.executeValueGetter(m,a,e,t)}return l}parseValue(e,t,r,n){const i=e.getColDef(),o=i.valueParser;if(Le(o)){const s=Ue(this.gos,{node:t,data:t?.data,oldValue:n,newValue:r,colDef:i,column:e});return typeof o=="function"?o(s):this.expressionSvc?.evaluate(o,s)}return r}getDeleteValue(e,t){return Le(e.getColDef().valueParser)?this.parseValue(e,t,"",this.getValueForDisplay(e,t).value)??null:null}formatValue(e,t,r,n,i=!0){const{expressionSvc:o}=this.beans;let s=null,a;const l=e.getColDef();if(n?a=n:i&&(a=l.valueFormatter),a){const u=t?t.data:null,c=Ue(this.gos,{value:r,node:t,data:u,colDef:l,column:e});typeof a=="function"?s=a(c):s=o?o.evaluate(a,c):null}else if(l.refData)return l.refData[r]||"";return s==null&&Array.isArray(r)&&(s=r.join(", ")),s}setValue(e,t,r,n){const i=this.colModel.getColDefCol(t);if(!e||!i)return!1;$t(e.data)&&(e.data={});const{field:o,valueSetter:s}=i.getColDef();if($t(o)&&$t(s))return Se(17),!1;if(this.dataTypeSvc&&!this.dataTypeSvc.checkType(i,r))return Se(135),!1;const a=Ue(this.gos,{node:e,data:e.data,oldValue:this.getValue(i,e,void 0,n),newValue:r,colDef:i.getColDef(),column:i});a.newValue=r;let l;if(Le(s)?typeof s=="function"?l=s(a):l=this.expressionSvc?.evaluate(s,a):l=this.setValueUsingField(e.data,o,r,i.isFieldContainsDots()),l===void 0&&(l=!0),!l)return!1;e.resetQuickFilterAggregateText(),this.valueCache?.onDataChanged();const u=this.getValue(i,e);return this.dispatchCellValueChangedEvent(e,a,u,n),e.pinnedSibling&&this.dispatchCellValueChangedEvent(e.pinnedSibling,a,u,n),!0}dispatchCellValueChangedEvent(e,t,r,n){this.eventSvc.dispatchEvent({type:"cellValueChanged",event:null,rowIndex:e.rowIndex,rowPinned:e.rowPinned,column:t.column,colDef:t.colDef,data:e.data,node:e,oldValue:t.oldValue,newValue:r,value:r,source:n})}callColumnCellValueChangedHandler(e){const t=e.colDef.onCellValueChanged;typeof t=="function"&&this.beans.frameworkOverrides.wrapOutgoing(()=>{t({node:e.node,data:e.data,oldValue:e.oldValue,newValue:e.newValue,colDef:e.colDef,column:e.column,api:e.api,context:e.context})})}setValueUsingField(e,t,r,n){if(!t)return!1;let i=!1;if(!n)i=e[t]===r,i||(e[t]=r);else{const o=t.split(".");let s=e;for(;o.length>0&&s;){const a=o.shift();o.length===0?(i=s[a]===r,i||(s[a]=r)):s=s[a]}}return!i}executeValueGetterWithValueCache(e,t,r,n){const i=r.getColId(),o=this.valueCache.getValue(n,i);if(o!==void 0)return o;const s=this.executeValueGetterWithoutValueCache(e,t,r,n);return this.valueCache.setValue(n,i,s),s}executeValueGetterWithoutValueCache(e,t,r,n){const i=Ue(this.gos,{data:t,node:n,column:r,colDef:r.getColDef(),getValue:this.getValueCallback.bind(this,n)});let o;return typeof e=="function"?o=e(i):o=this.expressionSvc?.evaluate(e,i),o}getValueCallback(e,t){const r=this.colModel.getColDefCol(t);return r?this.getValue(r,e):null}getKeyForNode(e,t){const r=this.getValue(e,t),n=e.getColDef().keyCreator;let i=r;if(n){const o=Ue(this.gos,{value:r,colDef:e.getColDef(),column:e,node:t,data:t.data});i=n(o)}return typeof i=="string"||i==null||(i=String(i),i==="[object Object]"&&Se(121)),i}},vI={moduleName:"CommunityCore",version:Me,beans:[v8,hM,xP,m4,tI,L5,f8,V8,h4,N9,L9,nI,yI,b8,h8,y8,EP,aI,vP,wP,e9],icons:{selectOpen:"small-down",smallDown:"small-down",colorPicker:"color-picker",smallUp:"small-up",checkboxChecked:"small-up",checkboxIndeterminate:"checkbox-indeterminate",checkboxUnchecked:"checkbox-unchecked",radioButtonOn:"radio-button-on",radioButtonOff:"radio-button-off",smallLeft:"small-left",smallRight:"small-right"},apiFunctions:{getGridId:fM,destroy:pM,isDestroyed:gM,getGridOption:mM,setGridOption:bM,updateGridOptions:dC,isModuleRegistered:yM},dependsOn:[mP,p5,C5,NC,Y8,O5,Z8,eI,mI,Q8,B9,j9,V9,r9,SP,bP,gI,z5,U9]},OC={AdvancedFilter:1,AiToolkit:1,AllEnterprise:1,BatchEdit:1,CellSelection:1,Clipboard:1,ColumnMenu:1,ColumnsToolPanel:1,ContextMenu:1,ExcelExport:1,FiltersToolPanel:1,Find:1,GridCharts:1,IntegratedCharts:1,GroupFilter:1,MasterDetail:1,Menu:1,MultiFilter:1,NewFiltersToolPanel:1,Pivot:1,RangeSelection:1,RichSelect:1,RowNumbers:1,RowGrouping:1,RowGroupingPanel:1,ServerSideRowModelApi:1,ServerSideRowModel:1,SetFilter:1,SideBar:1,Sparklines:1,StatusBar:1,TreeData:1,ViewportRowModel:1},Vd=["TextFilter","NumberFilter","DateFilter","SetFilter","MultiFilter","GroupFilter","CustomFilter"],wI={EditCore:["TextEditor","NumberEditor","DateEditor","CheckboxEditor","LargeTextEditor","SelectEditor","RichSelect","CustomEditor"],CheckboxCellRenderer:["AllCommunity"],ClientSideRowModelHierarchy:["RowGrouping","Pivot","TreeData"],ColumnFilter:Vd,ColumnGroupHeaderComp:["AllCommunity"],ColumnGroup:["AllCommunity"],ColumnHeaderComp:["AllCommunity"],ColumnMove:["AllCommunity"],ColumnResize:["AllCommunity"],CommunityCore:["AllCommunity"],CsrmSsrmSharedApi:["ClientSideRowModelApi","ServerSideRowModelApi"],RowModelSharedApi:["ClientSideRowModelApi","ServerSideRowModelApi"],EnterpriseCore:["AllEnterprise"],FilterCore:[...Vd,"QuickFilter","ExternalFilter","AdvancedFilter"],GroupCellRenderer:["RowGrouping","Pivot","TreeData","MasterDetail","ServerSideRowModel"],KeyboardNavigation:["AllCommunity"],LoadingCellRenderer:["ServerSideRowModel"],MenuCore:["ColumnMenu","ContextMenu"],MenuItem:["ColumnMenu","ContextMenu","MultiFilter","IntegratedCharts","ColumnsToolPanel"],Overlay:["AllCommunity"],PinnedColumn:["AllCommunity"],SharedAggregation:["RowGrouping","Pivot","TreeData","ServerSideRowModel"],SharedDragAndDrop:["AllCommunity"],SharedMasterDetail:["MasterDetail","ServerSideRowModel"],SharedMenu:[...Vd,"ColumnMenu","ContextMenu"],SharedPivot:["Pivot","ServerSideRowModel"],SharedRowGrouping:["RowGrouping","ServerSideRowModel"],SharedRowSelection:["RowSelection","ServerSideRowModel"],SkeletonCellRenderer:["ServerSideRowModel"],Sort:["AllCommunity"],SsrmInfiniteSharedApi:["InfiniteRowModel","ServerSideRowModelApi"],SharedTreeData:["TreeData","ServerSideRowModel"]},CI={InfiniteRowModel:"infinite",ClientSideRowModelApi:"clientSide",ClientSideRowModel:"clientSide",ServerSideRowModelApi:"serverSide",ServerSideRowModel:"serverSide",ViewportRowModel:"viewport"};function FI(e,t){const r=[];for(const n of Array.isArray(e)?e:[e]){const i=wI[n];if(i)for(const o of i){const s=CI[o];(!s||s===t)&&r.push(o)}else r.push(n)}return r}var HC=()=>`No AG Grid modules are registered! It is recommended to start with all Community features via the AllCommunityModule:
                    
    import { ModuleRegistry, AllCommunityModule } from 'ag-grid-community';
    
    ModuleRegistry.registerModules([ AllCommunityModule ]);
    `,SI=e=>{const t=e.map(n=>`import { ${sa(n)} } from '${OC[n]?"ag-grid-enterprise":"ag-grid-community"}';`);return e.some(n=>n==="IntegratedCharts"||n==="Sparklines")&&t.push("import { AgChartsEnterpriseModule } from 'ag-charts-enterprise';"),`import { ModuleRegistry } from 'ag-grid-community'; 
${t.join(` 
`)} 

ModuleRegistry.registerModules([ ${e.map(n=>sa(n,!0)).join(", ")} ]); 

For more info see: ${ns}/modules/`};function sa(e,t=!1){return t&&(e==="IntegratedCharts"||e==="Sparklines")?`${e}Module.with(AgChartsEnterpriseModule)`:`${e}Module`}function xI(e,t){const r=t.filter(o=>o==="IntegratedCharts"||o==="Sparklines");let n="";return!globalThis?.agCharts&&r.length>0?n=`Unable to use ${e} as either the ag-charts-community or ag-charts-enterprise script needs to be included alongside ag-grid-enterprise.
`:t.some(o=>OC[o])&&(n=n+`Unable to use ${e} as that requires the ag-grid-enterprise script to be included.
`),n}function GC({moduleName:e,rowModelType:t}){return`To use the ${e}Module you must set the gridOption "rowModelType='${t}'"`}var o0=({reasonOrId:e,moduleName:t,gridScoped:r,gridId:n,rowModelType:i,additionalText:o,isUmd:s})=>{const a=FI(t,i),l=typeof e=="string"?e:_I[e];if(s)return xI(l,a);const u=a.filter(d=>d==="IntegratedCharts"||d==="Sparklines"),c=u.length>0?`${u.map(d=>sa(d)).join()} must be initialised with an AG Charts module. One of 'AgChartsCommunityModule' / 'AgChartsEnterpriseModule'.`:"";return`${`Unable to use ${l} as ${a.length>1?"one of "+a.map(d=>sa(d)).join(", "):sa(a[0])} is not registered${r?" for gridId: "+n:""}. ${c} Check if you have registered the module:
`}
${SI(a)}`+(o?` 

${o}`:"")},s0=e=>`${e} must be initialised with an AG Charts module. One of 'AgChartsCommunityModule' / 'AgChartsEnterpriseModule'.

import { AgChartsEnterpriseModule } from 'ag-charts-enterprise';
import { ModuleRegistry } from 'ag-grid-community';
import { ${e} } from 'ag-grid-enterprise';
    
ModuleRegistry.registerModules([${e}.with(AgChartsEnterpriseModule)]);
    `,kI=e=>`AG Grid: Unable to use the Clipboard API (navigator.clipboard.${e}()). The reason why it could not be used has been logged in the previous line. For this reason the grid has defaulted to using a workaround which doesn't perform as well. Either fix why Clipboard API is blocked, OR stop this message from appearing by setting grid property suppressClipboardApi=true (which will default the grid to using the workaround rather than the API.`,EI={1:()=>"`rowData` must be an array",2:({nodeId:e})=>`Duplicate node id '${e}' detected from getRowId callback, this could cause issues in your grid.`,3:()=>"Calling gridApi.resetRowHeights() makes no sense when using Auto Row Height.",4:({id:e})=>`Could not find row id=${e}, data item was not found for this id`,5:({data:e})=>["Could not find data item as object was not found.",e," Consider using getRowId to help the Grid find matching row data"],6:()=>"'groupHideOpenParents' only works when specifying specific columns for 'colDef.showRowGroup'",7:()=>"Pivoting is not supported with aligned grids as it may produce different columns in each grid.",8:({key:e})=>`Unknown key for navigation ${e}`,9:({variable:e})=>`No value for ${e?.cssName}. This usually means that the grid has been initialised before styles have been loaded. The default value of ${e?.defaultValue} will be used and updated when styles load.`,10:({eventType:e})=>`As of v33, the '${e}' event is deprecated. Use the global 'modelUpdated' event to determine when row children have changed.`,11:()=>"No gridOptions provided to createGrid",12:({colKey:e})=>["column ",e," not found"],13:()=>"Could not find rowIndex, this means tasks are being executed on a rowNode that has been removed from the grid.",14:({groupPrefix:e})=>`Row IDs cannot start with ${e}, this is a reserved prefix for AG Grid's row grouping feature.`,15:({expression:e})=>["value should be either a string or a function",e],16:({expression:e,params:t,e:r})=>["Processing of the expression failed","Expression = ",e,"Params = ",t,"Exception = ",r],17:()=>"you need either field or valueSetter set on colDef for editing to work",18:()=>"alignedGrids contains an undefined option.",19:()=>"alignedGrids - No api found on the linked grid.",20:()=>`You may want to configure via a callback to avoid setup race conditions:
                     "alignedGrids: () => [linkedGrid]"`,21:()=>"pivoting is not supported with aligned grids. You can only use one of these features at a time in a grid.",22:({key:e})=>`${e} is an initial property and cannot be updated.`,23:()=>"The return of `getRowHeight` cannot be zero. If the intention is to hide rows, use a filter instead.",24:()=>"row height must be a number if not using standard row model",25:({id:e})=>["The getRowId callback must return a string. The ID ",e," is being cast to a string."],26:({fnName:e,preDestroyLink:t})=>`Grid API function ${e}() cannot be called as the grid has been destroyed.
 Either clear local references to the grid api, when it is destroyed, or check gridApi.isDestroyed() to avoid calling methods against a destroyed grid.
 To run logic when the grid is about to be destroyed use the gridPreDestroy event. See: ${t}`,27:({fnName:e,module:t})=>`API function '${e}' not registered to module '${t}'`,28:()=>"setRowCount cannot be used while using row grouping.",29:()=>"tried to call sizeColumnsToFit() but the grid is coming back with zero width, maybe the grid is not visible yet on the screen?",30:({toIndex:e})=>["tried to insert columns in invalid location, toIndex = ",e,"remember that you should not count the moving columns when calculating the new index"],31:()=>"infinite loop in resizeColumnSets",32:()=>"applyColumnState() - the state attribute should be an array, however an array was not found. Please provide an array of items (one for each col you want to change) for state.",33:()=>"stateItem.aggFunc must be a string. if using your own aggregation functions, register the functions first before using them in get/set state. This is because it is intended for the column state to be stored and retrieved as simple JSON.",34:({key:e})=>`the column type '${e}' is a default column type and cannot be overridden.`,35:()=>"Column type definitions 'columnTypes' with a 'type' attribute are not supported because a column type cannot refer to another column type. Only column definitions 'columnDefs' can use the 'type' attribute to refer to a column type.",36:({t:e})=>"colDef.type '"+e+"' does not correspond to defined gridOptions.columnTypes",37:()=>"Changing the column pinning status is not allowed with domLayout='print'",38:({iconName:e})=>`provided icon '${e}' needs to be a string or a function`,39:()=>"Applying column order broke a group where columns should be married together. Applying new order has been discarded.",40:({e,method:t})=>`${e}
${kI(t)}`,41:()=>"Browser did not allow document.execCommand('copy'). Ensure 'api.copySelectedRowsToClipboard() is invoked via a user event, i.e. button click, otherwise the browser will prevent it for security reasons.",42:()=>"Browser does not support document.execCommand('copy') for clipboard operations",43:({iconName:e})=>`As of v33, icon '${e}' is deprecated. Use the icon CSS name instead.`,44:()=>'Data type definition hierarchies (via the "extendsDataType" property) cannot contain circular references.',45:({parentCellDataType:e})=>`The data type definition ${e} does not exist.`,46:()=>'The "baseDataType" property of a data type definition must match that of its parent.',47:({cellDataType:e})=>`Missing data type definition - "${e}"`,48:({property:e})=>`Cell data type is "object" but no Value ${e} has been provided. Please either provide an object data type definition with a Value ${e}, or set "colDef.value${e}"`,49:({methodName:e})=>`Framework component is missing the method ${e}()`,50:({compName:e})=>`Could not find component ${e}, did you forget to configure this component?`,51:()=>"Export cancelled. Export is not allowed as per your configuration.",52:()=>"There is no `window` associated with the current `document`",53:()=>"unknown value type during csv conversion",54:()=>"Could not find document body, it is needed for drag and drop and context menu.",55:()=>"addRowDropZone - A container target needs to be provided",56:()=>"addRowDropZone - target already exists in the list of DropZones. Use `removeRowDropZone` before adding it again.",57:()=>"unable to show popup filter, filter instantiation failed",58:()=>"no values found for select cellEditor",59:()=>"cannot select pinned rows",60:()=>"cannot select node until it has finished loading",61:()=>"since version v32.2.0, rowNode.isFullWidthCell() has been deprecated. Instead check `rowNode.detail` followed by the user provided `isFullWidthRow` grid option.",62:({colId:e})=>`setFilterModel() - no column found for colId: ${e}`,63:({colId:e})=>`setFilterModel() - unable to fully apply model, filtering disabled for colId: ${e}`,64:({colId:e})=>`setFilterModel() - unable to fully apply model, unable to create filter for colId: ${e}`,65:()=>"filter missing setModel method, which is needed for setFilterModel",66:()=>"filter API missing getModel method, which is needed for getFilterModel",67:()=>"Filter is missing isFilterActive() method",68:()=>"Column Filter API methods have been disabled as Advanced Filters are enabled.",69:({guiFromFilter:e})=>`getGui method from filter returned ${e}; it should be a DOM element.`,70:({newFilter:e})=>`Grid option quickFilterText only supports string inputs, received: ${typeof e}`,71:()=>"debounceMs is ignored when apply button is present",72:({keys:e})=>["ignoring FilterOptionDef as it doesn't contain one of ",e],73:()=>"invalid FilterOptionDef supplied as it doesn't contain a 'displayKey'",74:()=>"no filter options for filter",75:()=>"Unknown button type specified",76:({filterModelType:e})=>['Unexpected type of filter "',e,'", it looks like the filter was configured with incorrect Filter Options'],77:()=>"Filter model is missing 'conditions'",78:()=>'Filter Model contains more conditions than "filterParams.maxNumConditions". Additional conditions have been ignored.',79:()=>'"filterParams.maxNumConditions" must be greater than or equal to zero.',80:()=>'"filterParams.numAlwaysVisibleConditions" must be greater than or equal to zero.',81:()=>'"filterParams.numAlwaysVisibleConditions" cannot be greater than "filterParams.maxNumConditions".',82:({param:e})=>`DateFilter ${e} is not a number`,83:()=>"DateFilter minValidYear should be <= maxValidYear",84:()=>"DateFilter minValidDate should be <= maxValidDate",85:()=>"DateFilter should not have both minValidDate and minValidYear parameters set at the same time! minValidYear will be ignored.",86:()=>"DateFilter should not have both maxValidDate and maxValidYear parameters set at the same time! maxValidYear will be ignored.",87:()=>"DateFilter parameter minValidDate should always be lower than or equal to parameter maxValidDate.",88:({index:e})=>`Invalid row index for ensureIndexVisible: ${e}`,89:()=>"A template was provided for Header Group Comp - templates are only supported for Header Comps (not groups)",90:()=>"datasource is missing getRows method",91:()=>"Filter is missing method doesFilterPass",92:()=>"AnimationFrameService called but animation frames are off",93:()=>"cannot add multiple ranges when `cellSelection.suppressMultiRanges = true`",94:({paginationPageSizeOption:e,pageSizeSet:t,pageSizesSet:r,pageSizeOptions:n})=>`'paginationPageSize=${e}'${t?"":" (default value)"}, but ${e} is not included in${r?"":" the default"} paginationPageSizeSelector=[${n?.join(", ")}].`,95:({paginationPageSizeOption:e,paginationPageSizeSelector:t})=>`Either set '${t}' to an array that includes ${e} or to 'false' to disable the page size selector.`,96:({id:e,data:t})=>["Duplicate ID",e,"found for pinned row with data",t,"When `getRowId` is defined, it must return unique IDs for all pinned rows. Use the `rowPinned` parameter."],97:({colId:e})=>`cellEditor for column ${e} is missing getGui() method`,98:()=>"popup cellEditor does not work with fullRowEdit - you cannot use them both - either turn off fullRowEdit, or stop using popup editors.",99:()=>"Since v32, `api.hideOverlay()` does not hide the loading overlay when `loading=true`. Set `loading=false` instead.",101:({propertyName:e,componentName:t,agGridDefaults:r,jsComps:n})=>{const i=[],o=[...Object.keys(r??[]).filter(a=>!["agCellEditor","agGroupRowRenderer","agSortIndicator"].includes(a)),...Object.keys(n??[]).filter(a=>!!n[a])],s=Wh({inputValue:t,allSuggestions:o,hideIrrelevant:!0,filterByPercentageOfBestMatch:.8}).values;return i.push(`Could not find '${t}' component. It was configured as "${e}: '${t}'" but it wasn't found in the list of registered components.
`),s.length>0&&i.push(`         Did you mean: [${s.slice(0,3)}]?
`),i.push("If using a custom component check it has been registered correctly."),i},102:()=>"selectAll: 'filtered' only works when gridOptions.rowModelType='clientSide'",103:()=>"Invalid selection state. When using client-side row model, the state must conform to `string[]`.",104:({value:e,param:t})=>`Numeric value ${e} passed to ${t} param will be interpreted as ${e} seconds. If this is intentional use "${e}s" to silence this warning.`,105:({e})=>["chart rendering failed",e],106:()=>`Theming API and Legacy Themes are both used in the same page. A Theming API theme has been provided to the 'theme' grid option, but the file (ag-grid.css) is also included and will cause styling issues. Remove ag-grid.css from the page. See the migration guide: ${ns}/theming-migration/`,107:({key:e,value:t})=>`Invalid value for theme param ${e} - ${t}`,108:({e})=>["chart update failed",e],109:({inputValue:e,allSuggestions:t})=>{const r=Wh({inputValue:e,allSuggestions:t,hideIrrelevant:!0,filterByPercentageOfBestMatch:.8}).values;return[`Could not find '${e}' aggregate function. It was configured as "aggFunc: '${e}'" but it wasn't found in the list of registered aggregations.`,r.length>0?`         Did you mean: [${r.slice(0,3)}]?`:"","If using a custom aggregation function check it has been registered correctly."].join(`
`)},110:()=>"groupHideOpenParents only works when specifying specific columns for colDef.showRowGroup",111:()=>"Invalid selection state. When `groupSelects` is enabled, the state must conform to `IServerSideGroupSelectionState`.",113:()=>"Set Filter cannot initialise because you are using a row model that does not contain all rows in the browser. Either use a different filter type, or configure Set Filter such that you provide it with values",114:({component:e})=>`Could not find component with name of ${e}. Is it in Vue.components?`,116:()=>"Invalid selection state. The state must conform to `IServerSideSelectionState`.",117:()=>"selectAll must be of boolean type.",118:()=>"Infinite scrolling must be enabled in order to set the row count.",119:()=>"Unable to instantiate filter",120:()=>"MultiFloatingFilterComp expects MultiFilter as its parent",121:()=>"a column you are grouping or pivoting by has objects as values. If you want to group by complex objects then either a) use a colDef.keyCreator (see AG Grid docs) or b) to toString() on the object to return a key",122:()=>"could not find the document, document is empty",123:()=>"Advanced Filter is only supported with the Client-Side Row Model or Server-Side Row Model.",124:()=>"No active charts to update.",125:({chartId:e})=>`Unable to update chart. No active chart found with ID: ${e}.`,126:()=>"unable to restore chart as no chart model is provided",127:({allRange:e})=>`unable to create chart as ${e?"there are no columns in the grid":"no range is selected"}.`,128:({feature:e})=>`${e} is only available if using 'multiRow' selection mode.`,129:({feature:e,rowModel:t})=>`${e} is only available if using 'clientSide' or 'serverSide' rowModelType, you are using ${t}.`,130:()=>'cannot multi select unless selection mode is "multiRow"',132:()=>"Row selection features are not available unless `rowSelection` is enabled.",133:({iconName:e})=>`icon '${e}' function should return back a string or a dom object`,134:({iconName:e})=>`Did not find icon '${e}'`,135:()=>"Data type of the new value does not match the cell data type of the column",136:()=>"Unable to update chart as the 'type' is missing. It must be either 'rangeChartUpdate', 'pivotChartUpdate', or 'crossFilterChartUpdate'.",137:({type:e,currentChartType:t})=>`Unable to update chart as a '${e}' update type is not permitted on a ${t}.`,138:({chartType:e})=>`invalid chart type supplied: ${e}`,139:({customThemeName:e})=>`a custom chart theme with the name ${e} has been supplied but not added to the 'chartThemes' list`,140:({name:e})=>`no stock theme exists with the name '${e}' and no custom chart theme with that name was supplied to 'customChartThemes'`,141:()=>"cross filtering with row grouping is not supported.",142:()=>"cross filtering is only supported in the client side row model.",143:({panel:e})=>`'${e}' is not a valid Chart Tool Panel name`,144:({type:e})=>`Invalid charts data panel group name supplied: '${e}'`,145:({group:e})=>`As of v32, only one charts customize panel group can be expanded at a time. '${e}' will not be expanded.`,146:({comp:e})=>`Unable to instantiate component '${e}' as its module hasn't been loaded. Add 'ValidationModule' to see which module is required.`,147:({group:e})=>`Invalid charts customize panel group name supplied: '${e}'`,148:({group:e})=>`invalid chartGroupsDef config '${e}'`,149:({group:e,chartType:t})=>`invalid chartGroupsDef config '${e}.${t}'`,150:()=>"'seriesChartTypes' are required when the 'customCombo' chart type is specified.",151:({chartType:e})=>`invalid chartType '${e}' supplied in 'seriesChartTypes', converting to 'line' instead.`,152:({colId:e})=>`no 'seriesChartType' found for colId = '${e}', defaulting to 'line'.`,153:({chartDataType:e})=>`unexpected chartDataType value '${e}' supplied, instead use 'category', 'series' or 'excluded'`,154:({colId:e})=>`cross filtering requires a 'agSetColumnFilter' or 'agMultiColumnFilter' to be defined on the column with id: ${e}`,155:({option:e})=>`'${e}' is not a valid Chart Toolbar Option`,156:({panel:e})=>`Invalid panel in chartToolPanelsDef.panels: '${e}'`,157:({unrecognisedGroupIds:e})=>["unable to find group(s) for supplied groupIds:",e],158:()=>"can not expand a column item that does not represent a column group header",159:()=>"Invalid params supplied to createExcelFileForExcel() - `ExcelExportParams.data` is empty.",160:()=>"Export cancelled. Export is not allowed as per your configuration.",161:()=>"The Excel Exporter is currently on Multi Sheet mode. End that operation by calling 'api.getMultipleSheetAsExcel()' or 'api.exportMultipleSheetsAsExcel()'",162:({id:e,dataType:t})=>`Unrecognized data type for excel export [${e}.dataType=${t}]`,163:({featureName:e})=>`Excel table export does not work with ${e}. The exported Excel file will not contain any Excel tables.
 Please turn off ${e} to enable Excel table exports.`,164:()=>"Unable to add data table to Excel sheet: A table already exists.",165:()=>"Unable to add data table to Excel sheet: Missing required parameters.",166:({unrecognisedGroupIds:e})=>["unable to find groups for these supplied groupIds:",e],167:({unrecognisedColIds:e})=>["unable to find columns for these supplied colIds:",e],168:()=>"detailCellRendererParams.template should be function or string",169:()=>'Reference to eDetailGrid was missing from the details template. Please add data-ref="eDetailGrid" to the template.',170:({providedStrategy:e})=>`invalid cellRendererParams.refreshStrategy = ${e} supplied, defaulting to refreshStrategy = 'rows'.`,171:()=>"could not find detail grid options for master detail, please set gridOptions.detailCellRendererParams.detailGridOptions",172:()=>"could not find getDetailRowData for master / detail, please set gridOptions.detailCellRendererParams.getDetailRowData",173:({group:e})=>`invalid chartGroupsDef config '${e}'`,174:({group:e,chartType:t})=>`invalid chartGroupsDef config '${e}.${t}'`,175:({menuTabName:e,itemsToConsider:t})=>[`Trying to render an invalid menu item '${e}'. Check that your 'menuTabs' contains one of `,t],176:({key:e})=>`unknown menu item type ${e}`,177:()=>"valid values for cellSelection.handle.direction are 'x', 'y' and 'xy'. Default to 'xy'.",178:({colId:e})=>`column ${e} is not visible`,179:()=>"totalValueGetter should be either a function or a string (expression)",180:()=>"agRichSelectCellEditor requires cellEditorParams.values to be set",181:()=>"agRichSelectCellEditor cannot have `multiSelect` and `allowTyping` set to `true`. AllowTyping has been turned off.",182:()=>'you cannot mix groupDisplayType = "multipleColumns" with treeData, only one column can be used to display groups when doing tree data',183:()=>"Group Column Filter only works on group columns. Please use a different filter.",184:({parentGroupData:e,childNodeData:t})=>["duplicate group keys for row data, keys should be unique",[e,t]],185:({data:e})=>["getDataPath() should not return an empty path",[e]],186:({rowId:e,rowData:t,duplicateRowsData:r})=>["duplicate group keys for row data, keys should be unique",e,t,...r??[]],187:({rowId:e,firstData:t,secondData:r})=>[`Duplicate node id ${e}. Row IDs are provided via the getRowId() callback. Please modify the getRowId() callback code to provide unique row id values.`,"first instance",t,"second instance",r],188:e=>`getRowId callback must be provided for Server Side Row Model ${e?.feature||"selection"} to work correctly.`,189:({startRow:e})=>`invalid value ${e} for startRow, the value should be >= 0`,190:({rowGroupId:e,data:t})=>["null and undefined values are not allowed for server side row model keys",e?`column = ${e}`:"","data is ",t],194:({method:e})=>`calling gridApi.${e}() is only possible when using rowModelType=\`clientSide\`.`,195:({justCurrentPage:e})=>`selecting just ${e?"current page":"filtered"} only works when gridOptions.rowModelType='clientSide'`,196:({key:e})=>`Provided ids must be of string type. Invalid id provided: ${e}`,197:()=>"`toggledNodes` must be an array of string ids.",199:()=>"getSelectedNodes and getSelectedRows functions cannot be used with select all functionality with the server-side row model. Use `api.getServerSideSelectionState()` instead.",200:o0,201:({rowModelType:e})=>`Could not find row model for rowModelType = ${e}`,202:()=>"`getSelectedNodes` and `getSelectedRows` functions cannot be used with `groupSelectsChildren` and the server-side row model. Use `api.getServerSideSelectionState()` instead.",203:()=>"Server Side Row Model does not support Dynamic Row Height and Cache Purging. Either a) remove getRowHeight() callback or b) remove maxBlocksInCache property. Purging has been disabled.",204:()=>"Server Side Row Model does not support Auto Row Height and Cache Purging. Either a) remove colDef.autoHeight or b) remove maxBlocksInCache property. Purging has been disabled.",205:({duplicateIdText:e})=>`Unable to display rows as duplicate row ids (${e}) were returned by the getRowId callback. Please modify the getRowId callback to provide unique ids.`,206:()=>"getRowId callback must be implemented for transactions to work. Transaction was ignored.",207:()=>'The Set Filter Parameter "defaultToNothingSelected" value was ignored because it does not work when "excelMode" is used.',208:()=>"Set Filter Value Formatter must return string values. Please ensure the Set Filter Value Formatter returns string values for complex objects.",209:()=>`Set Filter Key Creator is returning null for provided values and provided values are primitives. Please provide complex objects. See ${ns}/filter-set-filter-list/#filter-value-types`,210:()=>"Set Filter has a Key Creator, but provided values are primitives. Did you mean to provide complex objects?",211:()=>"property treeList=true for Set Filter params, but you did not provide a treeListPathGetter or values of type Date.",212:()=>"please review all your toolPanel components, it seems like at least one of them doesn't have an id",213:()=>"Advanced Filter does not work with Filters Tool Panel. Filters Tool Panel has been disabled.",214:({key:e})=>`unable to lookup Tool Panel as invalid key supplied: ${e}`,215:({key:e,defaultByKey:t})=>`the key ${e} is not a valid key for specifying a tool panel, valid keys are: ${Object.keys(t??{}).join(",")}`,216:({name:e})=>`Missing component for '${e}'`,217:({invalidColIds:e})=>["unable to find grid columns for the supplied colDef(s):",e],218:({property:e,defaultOffset:t})=>`${e} must be a number, the value you provided is not a valid number. Using the default of ${t}px.`,219:({property:e})=>`Property ${e} does not exist on the target object.`,220:({lineDash:e})=>`'${e}' is not a valid 'lineDash' option.`,221:()=>"agAggregationComponent should only be used with the client and server side row model.",222:()=>"agFilteredRowCountComponent should only be used with the client side row model.",223:()=>"agSelectedRowCountComponent should only be used with the client and server side row model.",224:()=>"agTotalAndFilteredRowCountComponent should only be used with the client side row model.",225:()=>"agTotalRowCountComponent should only be used with the client side row model.",226:()=>"viewport is missing init method.",227:()=>"menu item icon must be DOM node or string",228:({menuItemOrString:e})=>`unrecognised menu item ${e}`,229:({index:e})=>["invalid row index for ensureIndexVisible: ",e],230:()=>"detailCellRendererParams.template is not supported by AG Grid React. To change the template, provide a Custom Detail Cell Renderer. See https://www.ag-grid.com/react-data-grid/master-detail-custom-detail/",231:()=>"As of v32, using custom components with `reactiveCustomComponents = false` is deprecated.",232:()=>"Using both rowData and v-model. rowData will be ignored.",233:({methodName:e})=>`Framework component is missing the method ${e}()`,234:()=>'Group Column Filter does not work with the colDef property "field". This property will be ignored.',235:()=>'Group Column Filter does not work with the colDef property "filterValueGetter". This property will be ignored.',236:()=>'Group Column Filter does not work with the colDef property "filterParams". This property will be ignored.',237:()=>"Group Column Filter does not work with Tree Data enabled. Please disable Tree Data, or use a different filter.",238:()=>"setRowCount can only accept a positive row count.",239:()=>'Theming API and CSS File Themes are both used in the same page. In v33 we released the Theming API as the new default method of styling the grid. See the migration docs https://www.ag-grid.com/react-data-grid/theming-migration/. Because no value was provided to the `theme` grid option it defaulted to themeQuartz. But the file (ag-grid.css) is also included and will cause styling issues. Either pass the string "legacy" to the theme grid option to use v32 style themes, or remove ag-grid.css from the page to use Theming API.',240:({theme:e})=>`theme grid option must be a Theming API theme object or the string "legacy", received: ${e}`,243:()=>"Failed to deserialize state - each provided state object must be an object.",244:()=>"Failed to deserialize state - `selectAllChildren` must be a boolean value or undefined.",245:()=>"Failed to deserialize state - `toggledNodes` must be an array.",246:()=>"Failed to deserialize state - Every `toggledNode` requires an associated string id.",247:()=>`Row selection state could not be parsed due to invalid data. Ensure all child state has toggledNodes or does not conform with the parent rule. 
Please rebuild the selection state and reapply it.`,248:()=>"SetFloatingFilter expects SetFilter as its parent",249:()=>"Must supply a Value Formatter in Set Filter params when using a Key Creator",250:()=>"Must supply a Key Creator in Set Filter params when `treeList = true` on a group column, and Tree Data or Row Grouping is enabled.",251:({chartType:e})=>`AG Grid: Unable to create chart as an invalid chartType = '${e}' was supplied.`,252:()=>`cannot get grid to draw rows when it is in the middle of drawing rows. 
Your code probably called a grid API method while the grid was in the render stage. 
To overcome this, put the API call into a timeout, e.g. instead of api.redrawRows(), call setTimeout(function() { api.redrawRows(); }, 0). 
To see what part of your code that caused the refresh check this stacktrace.`,253:({version:e})=>["Illegal version string: ",e],254:()=>"Cannot create chart: no chart themes available.",255:({point:e})=>`Lone surrogate U+${e?.toString(16).toUpperCase()} is not a scalar value`,256:()=>"Unable to initialise. See validation error, or load ValidationModule if missing.",257:()=>s0("IntegratedChartsModule"),258:()=>s0("SparklinesModule"),259:({part:e})=>`the argument to theme.withPart must be a Theming API part object, received: ${e}`,260:({propName:e,compName:t,gridScoped:r,gridId:n,rowModelType:i})=>o0({reasonOrId:`AG Grid '${e}' component: ${t}`,moduleName:cs[t],gridId:n,gridScoped:r,rowModelType:i}),261:()=>"As of v33, `column.isHovered()` is deprecated. Use `api.isColumnHovered(column)` instead.",262:()=>'As of v33, icon key "smallDown" is deprecated. Use "advancedFilterBuilderSelect" for Advanced Filter Builder dropdown, "selectOpen" for Select cell editor and dropdowns (e.g. Integrated Charts menu), "richSelectOpen" for Rich Select cell editor.',263:()=>'As of v33, icon key "smallLeft" is deprecated. Use "panelDelimiterRtl" for Row Group Panel / Pivot Panel, "subMenuOpenRtl" for sub-menus.',264:()=>'As of v33, icon key "smallRight" is deprecated. Use "panelDelimiter" for Row Group Panel / Pivot Panel, "subMenuOpen" for sub-menus.',265:({colId:e})=>`Unable to infer chart data type for column '${e}' if first data entry is null. Please specify "chartDataType", or a "cellDataType" in the column definition. For more information, see ${ns}/integrated-charts-range-chart#coldefchartdatatype .`,266:()=>'As of v33.1, using "keyCreator" with the Rich Select Editor has been deprecated. It now requires the "formatValue" callback to convert complex data to strings.',267:()=>"Detail grids can not use a different theme to the master grid, the `theme` detail grid option will be ignored.",268:()=>"Transactions aren't supported with tree data when using treeDataChildrenField",269:()=>"When `masterSelects: 'detail'`, detail grids must be configured with multi-row selection",270:({id:e,parentId:t})=>`Cycle detected for row with id='${e}' and parent id='${t}'. Resetting the parent for row with id='${e}' and showing it as a root-level node.`,271:({id:e,parentId:t})=>`Parent row not found for row with id='${e}' and parent id='${t}'. Showing row with id='${e}' as a root-level node.`,272:()=>HC(),273:({providedId:e,usedId:t})=>`Provided column id '${e}' was already in use, ensure all column and group ids are unique. Using '${t}' instead.`,274:({prop:e})=>{let t=`Since v33, ${e} has been deprecated.`;switch(e){case"maxComponentCreationTimeMs":t+=" This property is no longer required and so will be removed in a future version.";break;case"setGridApi":t+=" This method is not called by AG Grid. To access the GridApi see: https://ag-grid.com/react-data-grid/grid-interface/#grid-api ";break;case"children":t+=" For multiple versions AgGridReact does not support children.";break}return t},275:GC,276:()=>"Row Numbers Row Resizer cannot be used when Grid Columns have `autoHeight` enabled.",277:({colId:e})=>`'enableFilterHandlers' is set to true, but column '${e}' does not have 'filter.doesFilterPass' or 'filter.handler' set.`,278:({colId:e})=>`Unable to create filter handler for column '${e}'`,279:e=>{},280:({colId:e})=>`'name' must be provided for custom filter components for column '${e}`,281:({colId:e})=>`Filter for column '${e}' does not have 'filterParams.buttons', but the new Filters Tool Panel has buttons configured. Either configure buttons for the filter, or disable buttons on the Filters Tool Panel.`,282:()=>"New filter tool panel requires `enableFilterHandlers: true`.",283:()=>"As of v34, use the same method on the filter handler (`api.getColumnFilterHandler(colKey)`) instead.",284:()=>"As of v34, filters are active when they have a model. Use `api.getColumnFilterModel()` instead.",285:()=>"As of v34, use (`api.getColumnFilterModel()`) instead.",286:()=>"As of v34, use (`api.setColumnFilterModel()`) instead.",287:()=>"`api.doFilterAction()` requires `enableFilterHandlers = true",288:()=>"`api.getColumnFilterModel(key, true)` requires `enableFilterHandlers = true",289:({rowModelType:e})=>`Row Model '${e}' is not supported with Batch Editing`,290:({rowIndex:e,rowPinned:t})=>`Row with index '${e}' and pinned state '${t}' not found`,291:()=>"License Key being set multiple times with different values. This can result in an incorrect license key being used,",292:({colId:e})=>`The Multi Filter for column '${e}' has buttons configured against the child filters. When 'enableFilterHandlers=true', buttons must instead be provided against the parent Multi Filter params. The child filter buttons will be ignored.`};function RI(e,t){const r=EI[e];if(!r)return[`Missing error text for error id ${e}!`];const n=r(t),o=`
See ${Kw(e,t)}`;return Array.isArray(n)?n.concat(o):[n,o]}var _I={1:"Charting Aggregation",2:"pivotResultFields",3:"setTooltip"},a0=new WeakMap,l0=new WeakMap,AI=1,TI=class{create(e,t,r,n,i,o){const s=ip.applyGlobalGridOptions(t),a=s.gridId??String(AI++),l=this.getRegisteredModules(i,a,s.rowModelType),u=this.createBeansList(s.rowModelType,l,a),c=this.createProvidedBeans(e,s,i);if(!u)return;const d={providedBeanInstances:c,beanClasses:u,id:a,beanInitComparator:lM,beanDestroyComparator:uM,derivedBeans:[sM],destroyCallback:()=>{l0.delete(g),a0.delete(e),gA(a),o?.()}},h=new qT(d);this.registerModuleFeatures(h,l),r(h),h.getBean("syncSvc").start(),n?.(h);const g=h.getBean("gridApi");return a0.set(e,g),l0.set(g,e),g}getRegisteredModules(e,t,r){return ya(vI,void 0,!0),e?.modules?.forEach(n=>ya(n,t)),mA(t,u0(r))}registerModuleFeatures(e,t){const r=e.getBean("registry"),n=e.getBean("apiFunctionSvc");for(const i of t){r.registerModule(i);const o=i.apiFunctions;if(o){const s=Object.keys(o);for(const a of s)n?.addFunction(a,o[a])}}}createProvidedBeans(e,t,r){let n=r?r.frameworkOverrides:null;$t(n)&&(n=new uC);const i={gridOptions:t,eGridDiv:e,eRootDiv:e,globalListener:r?r.globalListener:null,globalSyncListener:r?r.globalSyncListener:null,frameworkOverrides:n};return r?.providedBeanInstances&&Object.assign(i,r.providedBeanInstances),i}createBeansList(e,t,r){const n={clientSide:"ClientSideRowModel",infinite:"InfiniteRowModel",serverSide:"ServerSideRowModel",viewport:"ViewportRowModel"},i=u0(e),o=n[i];if(!o){qs(201,{rowModelType:i},`Unknown rowModelType ${i}.`);return}if(!vA()){qs(272,void 0,HC());return}if(!e){const a=Object.entries(n).filter(([l,u])=>Ih(u,r,l));if(a.length==1){const[l,u]=a[0];if(l!==i){const c={moduleName:u,rowModelType:l};qs(275,c,GC(c));return}}}if(!Ih(o,r,i)){qs(200,{reasonOrId:`rowModelType = '${i}'`,moduleName:o,gridScoped:op(),gridId:r,rowModelType:i},`Missing module ${o}Module for rowModelType ${i}.`);return}const s=new Set;for(const a of t)for(const l of a.beans??[])s.add(l);return Array.from(s)}};function u0(e){return e??"clientSide"}function Li(e){const t=e.rowModel;return t.getType()==="clientSide"?t:void 0}function jc(e){const t=e.rowModel;return t.getType()==="infinite"?t:void 0}function DI(e){const t=e.rowModel;return t.getType()==="serverSide"?t:void 0}var MI=class extends ve{constructor(){super(...arguments),this.beanName="localeSvc"}getLocaleTextFunc(){const e=this.gos,t=e.getCallback("getLocaleText");return t?iA(t):oA(e.get("localeText"))}};function PI(e,t=!1){const r=[],n=[],i=[],o=[],s=[],a=[],l=[],u=[],c=[];let f=0;for(let d=0;d<e.length;d++){const{colId:h,sort:g,sortIndex:m,rowGroup:p,rowGroupIndex:y,aggFunc:b,pivot:v,pivotIndex:F,pinned:E,hide:T,width:I,flex:M}=e[d];c.push(h),g&&(r[m??f++]={colId:h,sort:g}),p&&(n[y??0]=h),typeof b=="string"&&i.push({colId:h,aggFunc:b}),v&&(o[F??0]=h),E&&(E==="right"?a:s).push(h),T&&l.push(h),(M!=null||I)&&u.push({colId:h,flex:M??void 0,width:I})}return{sort:r.length?{sortModel:Wd(r)}:void 0,rowGroup:n.length?{groupColIds:Wd(n)}:void 0,aggregation:i.length?{aggregationModel:i}:void 0,pivot:o.length||t?{pivotMode:t,pivotColIds:Wd(o)}:void 0,columnPinning:s.length||a.length?{leftColIds:s,rightColIds:a}:void 0,columnVisibility:l.length?{hiddenColIds:l}:void 0,columnSizing:u.length?{columnSizingModel:u}:void 0,columnOrder:c.length?{orderedColIds:c}:void 0}}function Wd(e){return e.filter(t=>t!=null)}function II(e){const t=[];for(const{groupId:r,open:n}of e)n&&t.push(r);return t.length?{openColumnGroupIds:t}:void 0}var BI=class{wrap(e,t,r,n){const i=this.createWrapper(e,n);for(const o of t??[])this.createMethod(i,o,!0);for(const o of r??[])this.createMethod(i,o,!1);return i}createMethod(e,t,r){e.addMethod(t,this.createMethodProxy(e,t,r))}createMethodProxy(e,t,r){return function(){return e.hasMethod(t)?e.callMethod(t,arguments):(r&&Se(49,{methodName:t}),null)}}};function $d(e){return e.get("tooltipShowMode")==="whenTruncated"}function LI(e,t){if(typeof e!="number")return"";const r=t(),n=r("thousandSeparator",","),i=r("decimalSeparator",".");return e.toString().replace(".",i).replace(/(\d)(?=(\d{3})+(?!\d))/g,`$1${n}`)}var NI=class extends ve{getFileName(e){const t=this.getDefaultFileExtension();return e?.length||(e=this.getDefaultFileName()),e.includes(".")?e:`${e}.${t}`}getData(e){const t=this.createSerializingSession(e);return this.beans.gridSerializer.serialize(t,e)}getDefaultFileName(){return`export.${this.getDefaultFileExtension()}`}},OI=class{constructor(e){const{colModel:t,rowGroupColsSvc:r,colNames:n,valueSvc:i,gos:o,processCellCallback:s,processHeaderCallback:a,processGroupHeaderCallback:l,processRowGroupCallback:u}=e;this.colModel=t,this.rowGroupColsSvc=r,this.colNames=n,this.valueSvc=i,this.gos=o,this.processCellCallback=s,this.processHeaderCallback=a,this.processGroupHeaderCallback=l,this.processRowGroupCallback=u}prepare(e){}extractHeaderValue(e){return this.getHeaderName(this.processHeaderCallback,e)??""}extractRowCellValue(e,t,r,n,i){const o=t===0&&e1(this.gos,i,this.colModel.isPivotMode());if(this.processRowGroupCallback&&(this.gos.get("treeData")||i.group)&&(e.isRowGroupDisplayed(i.rowGroupColumn?.getColId()??"")||o))return{value:this.processRowGroupCallback(Ue(this.gos,{column:e,node:i}))??""};if(this.processCellCallback)return{value:this.processCellCallback(Ue(this.gos,{accumulatedRowIndex:r,column:e,node:i,value:this.valueSvc.getValueForDisplay(e,i,void 0,void 0).value,type:n,parseValue:d=>this.valueSvc.parseValue(e,i,d,this.valueSvc.getValue(e,i,void 0)),formatValue:d=>this.valueSvc.formatValue(e,i,d)??d}))??""};const s=this.gos.get("treeData"),a=this.valueSvc,l=i.level===-1&&i.footer,u=e.colDef.showRowGroup===!0&&(i.group||s);if(!l&&(o||u)){let d="",h=i;for(;h&&h.level!==-1;){const{value:g,valueFormatted:m}=a.getValueForDisplay(o?void 0:e,h,!0,!0);d=` -> ${m??g??""}${d}`,h=h.parent}return{value:d,valueFormatted:d}}const{value:c,valueFormatted:f}=a.getValueForDisplay(e,i,!0,!0);return{value:c??"",valueFormatted:f}}getHeaderName(e,t){return e?e(Ue(this.gos,{column:t})):this.colNames.getDisplayNameForColumn(t,"csv",!0)}};function HI(e,t){const r=document.defaultView||window;if(!r){Se(52);return}const n=document.createElement("a"),i=r.URL.createObjectURL(t);n.setAttribute("href",i),n.setAttribute("download",e),n.style.display="none",document.body.appendChild(n),n.dispatchEvent(new MouseEvent("click",{bubbles:!1,cancelable:!0,view:r})),n.remove(),r.setTimeout(()=>{r.URL.revokeObjectURL(i)},0)}var GI={enableBrowserTooltips:!0,tooltipTrigger:!0,tooltipMouseTrack:!0,tooltipShowMode:!0,tooltipInteraction:!0,defaultColGroupDef:!0,suppressAutoSize:!0,skipHeaderOnAutoSize:!0,autoSizeStrategy:!0,components:!0,stopEditingWhenCellsLoseFocus:!0,undoRedoCellEditing:!0,undoRedoCellEditingLimit:!0,excelStyles:!0,cacheQuickFilter:!0,customChartThemes:!0,chartThemeOverrides:!0,chartToolPanelsDef:!0,loadingCellRendererSelector:!0,localeText:!0,keepDetailRows:!0,keepDetailRowsCount:!0,detailRowHeight:!0,detailRowAutoHeight:!0,tabIndex:!0,valueCache:!0,valueCacheNeverExpires:!0,enableCellExpressions:!0,suppressTouch:!0,suppressBrowserResizeObserver:!0,suppressPropertyNamesCheck:!0,debug:!0,dragAndDropImageComponent:!0,loadingOverlayComponent:!0,suppressLoadingOverlay:!0,noRowsOverlayComponent:!0,paginationPageSizeSelector:!0,paginateChildRows:!0,pivotPanelShow:!0,pivotSuppressAutoColumn:!0,suppressExpandablePivotGroups:!0,aggFuncs:!0,allowShowChangeAfterFilter:!0,ensureDomOrder:!0,enableRtl:!0,suppressColumnVirtualisation:!0,suppressMaxRenderedRowRestriction:!0,suppressRowVirtualisation:!0,rowDragText:!0,groupLockGroupColumns:!0,suppressGroupRowsSticky:!0,rowModelType:!0,cacheOverflowSize:!0,infiniteInitialRowCount:!0,serverSideInitialRowCount:!0,maxBlocksInCache:!0,maxConcurrentDatasourceRequests:!0,blockLoadDebounceMillis:!0,serverSideOnlyRefreshFilteredGroups:!0,serverSidePivotResultFieldSeparator:!0,viewportRowModelPageSize:!0,viewportRowModelBufferSize:!0,debounceVerticalScrollbar:!0,suppressAnimationFrame:!0,suppressPreventDefaultOnMouseWheel:!0,scrollbarWidth:!0,icons:!0,suppressRowTransform:!0,gridId:!0,enableGroupEdit:!0,initialState:!0,processUnpinnedColumns:!0,createChartContainer:!0,getLocaleText:!0,getRowId:!0,reactiveCustomComponents:!0,renderingMode:!0,columnMenu:!0,suppressSetFilterByDefault:!0,getDataPath:!0,enableCellSpan:!0,enableFilterHandlers:!0,filterHandlers:!0},Lr="clientSide",wr="serverSide",Oo="infinite",jI={onGroupExpandedOrCollapsed:[Lr],refreshClientSideRowModel:[Lr],isRowDataEmpty:[Lr],forEachLeafNode:[Lr],forEachNodeAfterFilter:[Lr],forEachNodeAfterFilterAndSort:[Lr],resetRowHeights:[Lr,wr],applyTransaction:[Lr],applyTransactionAsync:[Lr],flushAsyncTransactions:[Lr],getBestCostNodeSelection:[Lr],getServerSideSelectionState:[wr],setServerSideSelectionState:[wr],applyServerSideTransaction:[wr],applyServerSideTransactionAsync:[wr],applyServerSideRowData:[wr],retryServerSideLoads:[wr],flushServerSideAsyncTransactions:[wr],refreshServerSide:[wr],getServerSideGroupLevelState:[wr],refreshInfiniteCache:[Oo],purgeInfiniteCache:[Oo],getInfiniteRowCount:[Oo],isLastRowIndexKnown:[Oo,wr],expandAll:[Lr,wr],collapseAll:[Lr,wr],onRowHeightChanged:[Lr,wr],setRowCount:[Oo,wr],getCacheBlockState:[Oo,wr]},zI={showLoadingOverlay:{version:"v32",message:'`showLoadingOverlay` is deprecated. Use the grid option "loading"=true instead or setGridOption("loading", true).'},clearRangeSelection:{version:"v32.2",message:"Use `clearCellSelection` instead."},getInfiniteRowCount:{version:"v32.2",old:"getInfiniteRowCount()",new:"getDisplayedRowCount()"},selectAllFiltered:{version:"v33",old:"selectAllFiltered()",new:'selectAll("filtered")'},deselectAllFiltered:{version:"v33",old:"deselectAllFiltered()",new:'deselectAll("filtered")'},selectAllOnCurrentPage:{version:"v33",old:"selectAllOnCurrentPage()",new:'selectAll("currentPage")'},deselectAllOnCurrentPage:{version:"v33",old:"deselectAllOnCurrentPage()",new:'deselectAll("currentPage")'}};function VI(e,t,r){const n=zI[e];if(n){const{version:o,new:s,old:a,message:l}=n,u=a??e;return(...c)=>{const f=s?`Please use ${s} instead. `:"";return ra(`Since ${o} api.${u} is deprecated. ${f}${l??""}`),t.apply(t,c)}}const i=jI[e];return i?(...o)=>{const s=r.rowModel.getType();if(!i.includes(s)){rs(`api.${e} can only be called when gridOptions.rowModelType is ${i.join(" or ")}`);return}return t.apply(t,o)}:t}var WI={detailCellRendererCtrl:"SharedMasterDetail",dndSourceComp:"DragAndDrop",fillHandle:"CellSelection",groupCellRendererCtrl:"GroupCellRenderer",headerFilterCellCtrl:"ColumnFilter",headerGroupCellCtrl:"ColumnGroup",rangeHandle:"CellSelection",tooltipFeature:"Tooltip",highlightTooltipFeature:"Tooltip",tooltipStateManager:"Tooltip",groupStrategy:"RowGrouping",treeGroupStrategy:"TreeData",rowNumberRowResizer:"RowNumbers",singleCell:"EditCore",fullRow:"EditCore",agSetColumnFilterHandler:"SetFilter",agMultiColumnFilterHandler:"MultiFilter",agGroupColumnFilterHandler:"GroupFilter",agNumberColumnFilterHandler:"NumberFilter",agDateColumnFilterHandler:"DateFilter",agTextColumnFilterHandler:"TextFilter"},$I={expanded:1,contracted:1,"tree-closed":1,"tree-open":1,"tree-indeterminate":1,pin:1,"eye-slash":1,arrows:1,left:1,right:1,group:1,aggregation:1,pivot:1,"not-allowed":1,chart:1,cross:1,cancel:1,tick:1,first:1,previous:1,next:1,last:1,linked:1,unlinked:1,"color-picker":1,loading:1,menu:1,"menu-alt":1,filter:1,"filter-add":1,columns:1,maximize:1,minimize:1,copy:1,cut:1,paste:1,grip:1,save:1,csv:1,excel:1,"small-down":1,"small-left":1,"small-right":1,"small-up":1,asc:1,desc:1,none:1,up:1,down:1,plus:1,minus:1,settings:1,"checkbox-checked":1,"checkbox-indeterminate":1,"checkbox-unchecked":1,"radio-button-on":1,"radio-button-off":1,eye:1,"column-arrow":1,"un-pin":1,"pinned-top":1,"pinned-bottom":1,"chevron-up":1,"chevron-down":1,"chevron-left":1,"chevron-right":1,edit:1},UI={chart:"MenuCore",cancel:"EnterpriseCore",first:"Pagination",previous:"Pagination",next:"Pagination",last:"Pagination",linked:"IntegratedCharts",loadingMenuItems:"MenuCore",unlinked:"IntegratedCharts",menu:"ColumnHeaderComp",legacyMenu:"ColumnMenu",filter:"ColumnFilter",filterActive:"ColumnFilter",filterAdd:"NewFiltersToolPanel",filterCardCollapse:"NewFiltersToolPanel",filterCardExpand:"NewFiltersToolPanel",filterCardEditing:"NewFiltersToolPanel",filterTab:"ColumnMenu",filtersToolPanel:"FiltersToolPanel",columns:["MenuCore"],columnsToolPanel:["ColumnsToolPanel"],maximize:"EnterpriseCore",minimize:"EnterpriseCore",save:"MenuCore",columnGroupOpened:"ColumnGroupHeaderComp",columnGroupClosed:"ColumnGroupHeaderComp",accordionOpen:"EnterpriseCore",accordionClosed:"EnterpriseCore",accordionIndeterminate:"EnterpriseCore",columnSelectClosed:["ColumnsToolPanel","ColumnMenu"],columnSelectOpen:["ColumnsToolPanel","ColumnMenu"],columnSelectIndeterminate:["ColumnsToolPanel","ColumnMenu"],columnMovePin:"SharedDragAndDrop",columnMoveHide:"SharedDragAndDrop",columnMoveMove:"SharedDragAndDrop",columnMoveLeft:"SharedDragAndDrop",columnMoveRight:"SharedDragAndDrop",columnMoveGroup:"SharedDragAndDrop",columnMoveValue:"SharedDragAndDrop",columnMovePivot:"SharedDragAndDrop",dropNotAllowed:"SharedDragAndDrop",ensureColumnVisible:["ColumnsToolPanel","ColumnMenu"],groupContracted:"GroupCellRenderer",groupExpanded:"GroupCellRenderer",setFilterGroupClosed:"SetFilter",setFilterGroupOpen:"SetFilter",setFilterGroupIndeterminate:"SetFilter",setFilterLoading:"SetFilter",close:"EnterpriseCore",check:"MenuItem",colorPicker:"CommunityCore",groupLoading:"LoadingCellRenderer",menuAlt:"ColumnHeaderComp",menuPin:"MenuCore",menuValue:"MenuCore",menuAddRowGroup:["MenuCore","ColumnsToolPanel"],menuRemoveRowGroup:["MenuCore","ColumnsToolPanel"],clipboardCopy:"MenuCore",clipboardCut:"MenuCore",clipboardPaste:"MenuCore",pivotPanel:["ColumnsToolPanel","RowGroupingPanel"],rowGroupPanel:["ColumnsToolPanel","RowGroupingPanel"],valuePanel:"ColumnsToolPanel",columnDrag:"EnterpriseCore",rowDrag:["RowDrag","DragAndDrop"],csvExport:"MenuCore",excelExport:"MenuCore",smallDown:"CommunityCore",selectOpen:"CommunityCore",richSelectOpen:"RichSelect",richSelectRemove:"RichSelect",smallLeft:"CommunityCore",smallRight:"CommunityCore",subMenuOpen:"MenuItem",subMenuOpenRtl:"MenuItem",panelDelimiter:"RowGroupingPanel",panelDelimiterRtl:"RowGroupingPanel",smallUp:"CommunityCore",sortAscending:["MenuCore","Sort"],sortDescending:["MenuCore","Sort"],sortUnSort:["MenuCore","Sort"],advancedFilterBuilder:"AdvancedFilter",advancedFilterBuilderDrag:"AdvancedFilter",advancedFilterBuilderInvalid:"AdvancedFilter",advancedFilterBuilderMoveUp:"AdvancedFilter",advancedFilterBuilderMoveDown:"AdvancedFilter",advancedFilterBuilderAdd:"AdvancedFilter",advancedFilterBuilderRemove:"AdvancedFilter",advancedFilterBuilderSelectOpen:"AdvancedFilter",chartsMenu:"IntegratedCharts",chartsMenuEdit:"IntegratedCharts",chartsMenuAdvancedSettings:"IntegratedCharts",chartsMenuAdd:"IntegratedCharts",chartsColorPicker:"IntegratedCharts",chartsThemePrevious:"IntegratedCharts",chartsThemeNext:"IntegratedCharts",chartsDownload:"IntegratedCharts",checkboxChecked:"CommunityCore",checkboxIndeterminate:"CommunityCore",checkboxUnchecked:"CommunityCore",radioButtonOn:"CommunityCore",radioButtonOff:"CommunityCore",rowPin:"PinnedRow",rowUnpin:"PinnedRow",rowPinBottom:"PinnedRow",rowPinTop:"PinnedRow"},KI=new Set(["colorPicker","smallUp","checkboxChecked","checkboxIndeterminate","checkboxUnchecked","radioButtonOn","radioButtonOff","smallDown","smallLeft","smallRight"]),qI=class extends ve{constructor(){super(...arguments),this.beanName="validation"}wireBeans(e){this.gridOptions=e.gridOptions,FA(RI)}warnOnInitialPropertyUpdate(e,t){e==="api"&&GI[t]&&Se(22,{key:t})}processGridOptions(e){this.processOptions(e,G8())}validateApiFunction(e,t){return VI(e,t,this.beans)}missingUserComponent(e,t,r,n){const i=cs[t];i?this.gos.assertModuleRegistered(i,`AG Grid '${e}' component: ${t}`):Se(101,{propertyName:e,componentName:t,agGridDefaults:r,jsComps:n})}missingDynamicBean(e){const t=WI[e];return t?An(200,{...this.gos.getModuleErrorParams(),moduleName:t,reasonOrId:e}):void 0}checkRowEvents(e){YI.has(e)&&Se(10,{eventType:e})}validateIcon(e){if(KI.has(e)&&Se(43,{iconName:e}),$I[e])return;const t=UI[e];if(t){Ot(200,{reasonOrId:`icon '${e}'`,moduleName:t,gridScoped:op(),gridId:this.beans.context.getId(),rowModelType:this.gos.get("rowModelType"),additionalText:"Alternatively, use the CSS icon name directly."});return}Se(134,{iconName:e})}isProvidedUserComp(e){return!!cs[e]}validateColDef(e){this.processOptions(e,A8())}processOptions(e,t){const{validations:r,deprecations:n,allProperties:i,propertyExceptions:o,objectName:s,docsUrl:a}=t;i&&this.gridOptions.suppressPropertyNamesCheck!==!0&&this.checkProperties(e,[...o??[],...Object.keys(n)],i,s,a);const l=new Set;if(Object.keys(e).forEach(c=>{const f=n[c];if(f){const{message:b,version:v}=f;l.add(`As of v${v}, ${String(c)} is deprecated. ${b??""}`)}const d=e[c];if(d==null||d===!1)return;const h=r[c];if(!h)return;const{dependencies:g,validate:m,supportedRowModels:p,expectedType:y}=h;if(y){const b=typeof d;if(b!==y){l.add(`${String(c)} should be of type '${y}' but received '${b}' (${d}).`);return}}if(p){const b=this.gridOptions.rowModelType??"clientSide";if(!p.includes(b)){l.add(`${String(c)} is not supported with the '${b}' row model. It is only valid with: ${p.join(", ")}.`);return}}if(g){const b=this.checkForRequiredDependencies(c,g,e);if(b){l.add(b);return}}if(m){const b=m(e,this.gridOptions,this.beans);if(b){l.add(b);return}}}),l.size>0)for(const c of l)ra(c)}checkForRequiredDependencies(e,t,r){const i=Object.entries(t).filter(([o,s])=>{const a=r[o];return!s.required.includes(a)});return i.length===0?null:i.map(([o,s])=>`'${String(e)}' requires '${o}' to be one of [${s.required.map(a=>a===null?"null":a===void 0?"undefined":a).join(", ")}]. ${s.reason??""}`).join(`
           `)}checkProperties(e,t,r,n,i){const o=["__ob__","__v_skip","__metadata__"],s=JI(Object.getOwnPropertyNames(e),[...o,...t,...r],r),a=Object.keys(s);for(const l of a){const u=s[l];let c=`invalid ${n} property '${l}' did you mean any of these: ${u.slice(0,8).join(", ")}.`;r.includes("context")&&(c+=`
If you are trying to annotate ${n} with application data, use the '${n}.context' property instead.`),ra(c)}if(a.length>0&&i){const l=this.beans.frameworkOverrides.getDocLink(i);ra(`to see all the valid ${n} properties please check: ${l}`)}}};function JI(e,t,r){const n={},i=e.filter(o=>!t.some(s=>s===o));if(i.length>0)for(const o of i)n[o]=Wh({inputValue:o,allSuggestions:r}).values;return n}var YI=new Set(["firstChildChanged","lastChildChanged","childIndexChanged"]),ZI={moduleName:"Validation",version:Me,beans:[qI]};function jC(e){const t=e.sibling;t&&(t.childrenAfterFilter=e.childrenAfterFilter)}var XI=class extends ve{constructor(){super(...arguments),this.beanName="filterStage",this.step="filter",this.refreshProps=["excludeChildrenWhenTreeDataFiltering"]}wireBeans(e){this.filterManager=e.filterManager}execute(e){const{changedPath:t}=e;this.filter(t)}filter(e){const t=!!this.filterManager?.isChildFilterPresent();this.filterNodes(t,e)}filterNodes(e,t){const r=(n,i)=>{n.hasChildren()&&e&&!i?n.childrenAfterFilter=n.childrenAfterGroup.filter(o=>{const s=o.childrenAfterFilter&&o.childrenAfterFilter.length>0,a=o.data&&this.filterManager.doesRowPassFilter({rowNode:o});return s||a}):n.childrenAfterFilter=n.childrenAfterGroup,jC(n)};if(this.doingTreeDataFiltering()){const n=(o,s)=>{if(o.childrenAfterGroup)for(let a=0;a<o.childrenAfterGroup.length;a++){const l=o.childrenAfterGroup[a],u=s||this.filterManager.doesRowPassFilter({rowNode:l});l.childrenAfterGroup?n(o.childrenAfterGroup[a],u):r(l,u)}r(o,s)},i=o=>n(o,!1);t.executeFromRootNode(i)}else{const n=i=>r(i,!1);t.forEachChangedNodeDepthFirst(n,!0)}}doingTreeDataFiltering(){return this.gos.get("treeData")&&!this.gos.get("excludeChildrenWhenTreeDataFiltering")}},QI=class extends Ep{constructor(){super(...arguments),this.iconCreated=!1}wireComp(e,t,r,n,i){this.comp=e;const o=Na(this,this.beans.context,i);this.eButtonShowMainFilter=r,this.eFloatingFilterBody=n,this.setGui(t,o),this.setupActive(),this.refreshHeaderStyles(),this.setupWidth(o),this.setupLeft(o),this.setupHover(o),this.setupFocus(o),this.setupAria(),this.setupFilterButton(),this.setupUserComp(),this.setupSyncWithFilter(o),this.setupUi(),o.addManagedElementListeners(this.eButtonShowMainFilter,{click:this.showParentFilter.bind(this)}),this.setupFilterChangedListener(o);const s=()=>this.onColDefChanged(o);o.addManagedListeners(this.column,{colDefChanged:s}),o.addManagedEventListeners({filterSwitched:({column:a})=>{a===this.column&&s()}}),o.addDestroyFunc(()=>{this.eButtonShowMainFilter=null,this.eFloatingFilterBody=null,this.userCompDetails=null,this.clearComponent()})}resizeHeader(){}moveHeader(){}getHeaderClassParams(){const{column:e,beans:t}=this,r=e.colDef;return Ue(t.gos,{colDef:r,column:e,floatingFilter:!0})}setupActive(){const e=this.column.getColDef(),t=!!e.filter,r=!!e.floatingFilter;this.active=t&&r}setupUi(){if(this.comp.setButtonWrapperDisplayed(!this.suppressFilterButton&&this.active),this.comp.addOrRemoveBodyCssClass("ag-floating-filter-full-body",this.suppressFilterButton),this.comp.addOrRemoveBodyCssClass("ag-floating-filter-body",!this.suppressFilterButton),!this.active||this.iconCreated)return;const e=on("filter",this.beans,this.column);e&&(this.iconCreated=!0,this.eButtonShowMainFilter.appendChild(e))}setupFocus(e){e.createManagedBean(new Ms(this.eGui,{shouldStopEventPropagation:this.shouldStopEventPropagation.bind(this),onTabKeyDown:this.onTabKeyDown.bind(this),handleKeyDown:this.handleKeyDown.bind(this),onFocusIn:this.onFocusIn.bind(this)}))}setupAria(){const e=this.getLocaleTextFunc();bs(this.eButtonShowMainFilter,e("ariaFilterMenuOpen","Open Filter Menu"))}onTabKeyDown(e){const{beans:t}=this;if(qt(t)===this.eGui)return;const i=_o(t,this.eGui,null,e.shiftKey);if(i){t.headerNavigation?.scrollToColumn(this.column),e.preventDefault(),i.focus();return}const o=this.findNextColumnWithFloatingFilter(e.shiftKey);o&&t.focusSvc.focusHeaderPosition({headerPosition:{headerRowIndex:this.rowCtrl.rowIndex,column:o},event:e})&&e.preventDefault()}findNextColumnWithFloatingFilter(e){const t=this.beans.visibleCols;let r=this.column;do if(r=e?t.getColBefore(r):t.getColAfter(r),!r)break;while(!r.getColDef().filter||!r.getColDef().floatingFilter);return r}handleKeyDown(e){super.handleKeyDown(e);const t=this.getWrapperHasFocus();switch(e.key){case me.UP:case me.DOWN:case me.LEFT:case me.RIGHT:if(t)return;wo(e);case me.ENTER:t&&vo(this.eGui)&&e.preventDefault();break;case me.ESCAPE:t||this.eGui.focus()}}onFocusIn(e){if(this.eGui.contains(e.relatedTarget))return;const r=!!e.relatedTarget&&!e.relatedTarget.classList.contains("ag-floating-filter"),n=!!e.relatedTarget&&io(e.relatedTarget,"ag-floating-filter");if(r&&n&&e.target===this.eGui){const i=this.lastFocusEvent,o=!!(i&&i.key===me.TAB);if(i&&o){const s=i.shiftKey;vo(this.eGui,s)}}this.focusThis()}setupHover(e){this.beans.colHover?.addHeaderFilterColumnHoverListener(e,this.comp,this.column,this.eGui)}setupLeft(e){const t=new kp(this.column,this.eGui,this.beans);e.createManagedBean(t)}setupFilterButton(){this.suppressFilterButton=!this.beans.menuSvc?.isFloatingFilterButtonEnabled(this.column),this.highlightFilterButtonWhenActive=!qr(this.gos)}setupUserComp(){if(!this.active)return;const e=this.beans.colFilter?.getFloatingFilterCompDetails(this.column,()=>this.showParentFilter());e&&this.setCompDetails(e)}setCompDetails(e){this.userCompDetails=e,this.comp.setCompDetails(e)}showParentFilter(){const e=this.suppressFilterButton?this.eFloatingFilterBody:this.eButtonShowMainFilter;this.beans.menuSvc?.showFilterMenu({column:this.column,buttonElement:e,containerType:"floatingFilter",positionBy:"button"})}setupSyncWithFilter(e){if(!this.active)return;const{beans:{colFilter:t},column:r,gos:n}=this,i=o=>{if(o?.source==="filterDestroyed"&&(!this.isAlive()||!t?.isAlive()))return;const s=this.comp.getFloatingFilterComp();s&&s.then(a=>{if(a){if(n.get("enableFilterHandlers")){const c=o;let f="filter";c?.afterFloatingFilter?f="ui":c?.afterDataChange?f="dataChanged":o?.source==="api"&&(f="api"),this.updateFloatingFilterParams(this.userCompDetails,f);return}const l=t?.getCurrentFloatingFilterParentModel(r),u=o?{...o,columns:o.columns??[],source:o.source==="api"?"api":"columnFilter"}:null;a.onParentModelChanged(l,u)}})};[this.destroySyncListener]=e.addManagedListeners(r,{filterChanged:i}),t?.isFilterActive(r)&&i(null)}setupWidth(e){const t=()=>{const r=`${this.column.getActualWidth()}px`;this.comp.setWidth(r)};e.addManagedListeners(this.column,{widthChanged:t}),t()}setupFilterChangedListener(e){this.active&&([this.destroyFilterChangedListener]=e.addManagedListeners(this.column,{filterChanged:this.updateFilterButton.bind(this)}),this.updateFilterButton())}updateFilterButton(){if(!this.suppressFilterButton&&this.comp){const e=!!this.beans.filterManager?.isFilterAllowed(this.column);this.comp.setButtonWrapperDisplayed(e),this.highlightFilterButtonWhenActive&&e&&this.eButtonShowMainFilter.classList.toggle("ag-filter-active",this.column.isFilterActive())}}onColDefChanged(e){const t=this.active;this.setupActive();const r=!t&&this.active;t&&!this.active&&(this.destroySyncListener(),this.destroyFilterChangedListener());const n=this.beans.colFilter,i=this.active?n?.getFloatingFilterCompDetails(this.column,()=>this.showParentFilter()):null,o=this.comp.getFloatingFilterComp();!o||!i?this.updateCompDetails(e,i,r):o.then(s=>{!s||n?.areFilterCompsDifferent(this.userCompDetails??null,i)?this.updateCompDetails(e,i,r):this.updateFloatingFilterParams(i,"colDef")})}updateCompDetails(e,t,r){this.isAlive()&&(this.setCompDetails(t),this.setupFilterButton(),this.setupUi(),r&&(this.setupSyncWithFilter(e),this.setupFilterChangedListener(e)))}updateFloatingFilterParams(e,t){if(!e)return;let r=e.params;this.comp.getFloatingFilterComp()?.then(n=>{typeof n?.refresh=="function"&&(this.gos.get("enableFilterHandlers")&&(r={...r,model:dr(this.beans.colFilter?.model??{},this.column.getColId()),source:t}),n.refresh(r))})}addResizeAndMoveKeyboardListeners(){}destroy(){super.destroy(),this.destroySyncListener=null,this.destroyFilterChangedListener=null}};function eB(e,t){const r=e.colModel.getCol(t);if(!r){Ot(12,{colKey:t});return}e.menuSvc?.showColumnMenu({column:r,positionBy:"auto"})}function tB(e){e.menuSvc?.hidePopupMenu()}var rB={moduleName:"SharedMenu",version:Me,beans:[A6],apiFunctions:{showColumnMenu:eB,hidePopupMenu:tB}},nB=class extends iD{postConstruct(){this.beans.ctrlsSvc.whenReady(this,e=>{this.gridCtrl=e.gridCtrl}),this.addManagedEventListeners({gridStylesChanged:this.handleThemeChange.bind(this)})}getDefaultPopupParent(){return this.gridCtrl.getGui()}positionPopupForMenu(e){const{eventSource:t,ePopup:r,event:n}=e,i=t.getBoundingClientRect(),o=this.getParentRect();this.setAlignedTo(t,r);let s=!1;const a=()=>{const l=this.keepXYWithinBounds(r,i.top-o.top,0),u=r.clientWidth>0?r.clientWidth:200;s||(r.style.minWidth=`${u}px`,s=!0);const f=o.right-o.left-u;let d;return this.gos.get("enableRtl")?(d=g(),d<0&&(d=h(),this.setAlignedStyles(r,"left")),d>f&&(d=0,this.setAlignedStyles(r,"right"))):(d=h(),d>f&&(d=g(),this.setAlignedStyles(r,"right")),d<0&&(d=0,this.setAlignedStyles(r,"left"))),{x:d,y:l};function h(){return i.right-o.left-2}function g(){return i.left-o.left-u}};this.positionPopup({ePopup:r,keepWithinBounds:!0,updatePosition:a,postProcessCallback:()=>this.callPostProcessPopup(e,"subMenu",r,t,n instanceof MouseEvent?n:void 0)})}callPostProcessPopup(e,t,r,n,i){const o=this.gos.getCallback("postProcessPopup");if(o){const{column:s,rowNode:a}=e;o({column:s,rowNode:a,ePopup:r,type:t,eventSource:n,mouseEvent:i})}}getActivePopups(){return this.popupList.map(e=>e.element)}handleThemeChange(e){if(e.themeChanged){const t=this.beans.environment;for(const r of this.popupList)t.applyThemeClasses(r.wrapper)}}hasAnchoredPopup(){return this.popupList.some(e=>e.isAnchored)}isStopPropagation(e){return Qn(e)}},zc={moduleName:"Popup",version:Me,beans:[nB]},iB=".ag-set-filter{--ag-indentation-level:0}.ag-set-filter-item{align-items:center;display:flex;height:100%}:where(.ag-ltr) .ag-set-filter-item{padding-left:calc(var(--ag-widget-container-horizontal-padding) + var(--ag-indentation-level)*var(--ag-set-filter-indent-size))}:where(.ag-rtl) .ag-set-filter-item{padding-right:calc(var(--ag-widget-container-horizontal-padding) + var(--ag-indentation-level)*var(--ag-set-filter-indent-size))}.ag-set-filter-item-checkbox{display:flex;height:100%;width:100%}.ag-set-filter-group-icons{display:block;>*{cursor:pointer}}:where(.ag-ltr) .ag-set-filter-group-icons{margin-right:var(--ag-widget-container-horizontal-padding)}:where(.ag-rtl) .ag-set-filter-group-icons{margin-left:var(--ag-widget-container-horizontal-padding)}.ag-filter-body-wrapper{display:flex;flex-direction:column}:where(.ag-menu:not(.ag-tabs) .ag-filter) .ag-filter-body-wrapper,:where(.ag-menu:not(.ag-tabs) .ag-filter)>:not(.ag-filter-wrapper){min-width:180px}.ag-filter-filter{flex:1 1 0px}.ag-filter-condition{display:flex;justify-content:center}.ag-floating-filter-body{display:flex;flex:1 1 auto;height:100%;position:relative}.ag-floating-filter-full-body{align-items:center;display:flex;flex:1 1 auto;height:100%;overflow:hidden;width:100%}:where(.ag-floating-filter-full-body)>div{flex:1 1 auto}.ag-floating-filter-input{align-items:center;display:flex;width:100%;>*{flex:1 1 auto}:where(.ag-input-field-input[type=date]),:where(.ag-input-field-input[type=datetime-local]){width:1px}}.ag-floating-filter-button{display:flex;flex:none}.ag-date-floating-filter-wrapper{display:flex}.ag-set-floating-filter-input :where(input)[disabled]{pointer-events:none}.ag-floating-filter-button-button{-webkit-appearance:none;-moz-appearance:none;appearance:none;border:none;height:var(--ag-icon-size);width:var(--ag-icon-size)}.ag-filter-loading{align-items:unset;background-color:var(--ag-chrome-background-color);height:100%;padding:var(--ag-widget-container-vertical-padding) var(--ag-widget-container-horizontal-padding);position:absolute;width:100%;z-index:1;:where(.ag-menu) &{background-color:var(--ag-menu-background-color)}}.ag-filter-separator{border-top:solid var(--ag-border-width) var(--menu-separator-color)}:where(.ag-filter-select) .ag-picker-field-wrapper{width:0}.ag-filter-condition-operator{height:17px}:where(.ag-ltr) .ag-filter-condition-operator-or{margin-left:calc(var(--ag-spacing)*2)}:where(.ag-rtl) .ag-filter-condition-operator-or{margin-right:calc(var(--ag-spacing)*2)}.ag-set-filter-select-all{padding-top:var(--ag-widget-container-vertical-padding)}.ag-filter-no-matches,.ag-set-filter-list{height:calc(var(--ag-list-item-height)*6)}.ag-filter-no-matches{padding:var(--ag-widget-container-vertical-padding) var(--ag-widget-container-horizontal-padding)}.ag-set-filter-tree-list{height:calc(var(--ag-list-item-height)*10)}.ag-set-filter-filter{margin-left:var(--ag-widget-container-horizontal-padding);margin-right:var(--ag-widget-container-horizontal-padding);margin-top:var(--ag-widget-container-vertical-padding)}.ag-filter-to{margin-top:var(--ag-widget-vertical-spacing)}.ag-mini-filter{margin:var(--ag-widget-container-vertical-padding) var(--ag-widget-container-horizontal-padding)}:where(.ag-ltr) .ag-set-filter-add-group-indent{margin-left:calc(var(--ag-icon-size) + var(--ag-widget-container-horizontal-padding))}:where(.ag-rtl) .ag-set-filter-add-group-indent{margin-right:calc(var(--ag-icon-size) + var(--ag-widget-container-horizontal-padding))}:where(.ag-filter-menu) .ag-set-filter-list{min-width:200px}.ag-filter-virtual-list-item:focus-visible{box-shadow:inset var(--ag-focus-shadow)}.ag-filter-apply-panel{display:flex;justify-content:flex-end;overflow:hidden;padding:var(--ag-widget-vertical-spacing) var(--ag-widget-container-horizontal-padding) var(--ag-widget-container-vertical-padding)}.ag-filter-apply-panel-button{line-height:1.5}:where(.ag-ltr) .ag-filter-apply-panel-button{margin-left:calc(var(--ag-spacing)*2)}:where(.ag-rtl) .ag-filter-apply-panel-button{margin-right:calc(var(--ag-spacing)*2)}.ag-simple-filter-body-wrapper{display:flex;flex-direction:column;min-height:calc(var(--ag-list-item-height) + var(--ag-widget-container-vertical-padding) + var(--ag-widget-vertical-spacing));overflow-y:auto;padding:var(--ag-widget-container-vertical-padding) var(--ag-widget-container-horizontal-padding);padding-bottom:calc(var(--ag-widget-container-vertical-padding) - var(--ag-widget-vertical-spacing));&>*{margin-bottom:var(--ag-widget-vertical-spacing)}:where(.ag-resizer-wrapper){margin:0}}.ag-multi-filter-menu-item{margin:var(--ag-spacing) 0}.ag-multi-filter-group-title-bar{background-color:transparent;color:var(--ag-header-text-color);font-weight:500;padding:calc(var(--ag-spacing)*1.5) var(--ag-spacing)}.ag-group-filter-field-select-wrapper{display:flex;flex-direction:column;gap:var(--ag-widget-vertical-spacing);padding:var(--ag-widget-container-vertical-padding) var(--ag-widget-container-horizontal-padding)}";function oB(e){const t=e.filterManager;return!!t?.isColumnFilterPresent()||!!t?.isAggregateFilterPresent()}function sB(e,t){return e.filterManager?.getColumnFilterInstance(t)??Promise.resolve(void 0)}function aB(e,t){const r=e.colModel.getColDefCol(t);if(r)return e.colFilter?.destroyFilter(r,"api")}function lB(e,t){e.frameworkOverrides.wrapIncoming(()=>e.filterManager?.setFilterModel(t))}function uB(e){return e.filterManager?.getFilterModel()??{}}function cB(e,t,r){const{gos:n,colModel:i,colFilter:o}=e;r&&!n.get("enableFilterHandlers")&&(Se(288),r=!1);const s=i.getColDefCol(t);return s?o?.getModelForColumn(s,r)??null:null}function dB(e,t,r){return e.filterManager?.setColumnFilterModel(t,r)??Promise.resolve()}function hB(e,t){const r=e.colModel.getCol(t);if(!r){Ot(12,{colKey:t});return}e.menuSvc?.showFilterMenu({column:r,containerType:"columnFilter",positionBy:"auto"})}function fB(e){e.menuSvc?.hideFilterMenu()}function pB(e,t){const r=e.colModel.getCol(t);if(!r){Ot(12,{colKey:t});return}return e.colFilter?.getHandler(r,!0)}function gB(e,t){const{colModel:r,colFilter:n,gos:i}=e;if(!i.get("enableFilterHandlers")){Se(287);return}const{colId:o,action:s}=t;if(o){const a=r.getColById(o);a&&n?.updateModel(a,s)}else n?.updateAllModels(s)}var mB={filterHandler:()=>({doesFilterPass:()=>!0})},bB=class extends ve{constructor(){super(...arguments),this.beanName="colFilter",this.allColumnFilters=new Map,this.allColumnListeners=new Map,this.activeAggregateFilters=[],this.activeColumnFilters=[],this.processingFilterChange=!1,this.modelUpdates=[],this.columnModelUpdates=[],this.state=new Map,this.handlerMap={...j1},this.isGlobalButtons=!1,this.activeFilterComps=new Set}postConstruct(){this.addManagedEventListeners({gridColumnsChanged:this.onColumnsChanged.bind(this),dataTypesInferred:this.processFilterModelUpdateQueue.bind(this)});const e=this.gos,t={...e.get("initialState")?.filter?.filterModel??{}};this.initialModel=t,this.model={...t},e.get("enableFilterHandlers")||delete this.handlerMap.agMultiColumnFilter}refreshModel(){this.onNewRowsLoaded("rowDataUpdated")}setModel(e,t="api",r){const{colModel:n,dataTypeSvc:i,filterManager:o}=this.beans;if(i?.isPendingInference){this.modelUpdates.push({model:e,source:t});return}const s=[],a=this.getModel(!0);if(e){const l=new Set(Object.keys(e));this.allColumnFilters.forEach((u,c)=>{const f=e[c];s.push(this.setModelOnFilterWrapper(u,f)),l.delete(c)}),l.forEach(u=>{const c=n.getColDefCol(u)||n.getCol(u);if(!c){Se(62,{colId:u});return}if(!c.isFilterAllowed()){Se(63,{colId:u});return}const f=this.getOrCreateFilterWrapper(c,!0);if(!f){Se(64,{colId:u});return}s.push(this.setModelOnFilterWrapper(f,e[u],!0))})}else this.model={},this.allColumnFilters.forEach(l=>{s.push(this.setModelOnFilterWrapper(l,null))});Ct.all(s).then(()=>{const l=this.getModel(!0),u=[];this.allColumnFilters.forEach((c,f)=>{const d=a?a[f]:null,h=l?l[f]:null;fa(d,h)||u.push(c.column)}),u.length>0?o?.onFilterChanged({columns:u,source:t}):r&&this.updateActive("filterChanged")})}getModel(e){const t={},{allColumnFilters:r,initialModel:n,beans:{colModel:i}}=this;if(r.forEach((o,s)=>{const a=this.getModelFromFilterWrapper(o);Le(a)&&(t[s]=a)}),!e)for(const o of Object.keys(n)){const s=n[o];Le(s)&&!r.has(o)&&i.getCol(o)?.isFilterAllowed()&&(t[o]=s)}return t}setState(e,t,r="api"){if(this.state.clear(),t)for(const n of Object.keys(t)){const i=t[n];this.state.set(n,{model:dr(this.model,n),state:i})}this.setModel(e,r,!0)}getState(){const e=this.state;if(!e.size)return;const t={};let r=!1;return e.forEach((n,i)=>{const o=n.state;o!=null&&(r=!0,t[i]=o)}),r?t:void 0}getModelFromFilterWrapper(e){const r=e.column.getColId();if(e.isHandler)return dr(this.model,r);const n=e.filter;return n?typeof n.getModel!="function"?(Se(66),null):n.getModel():dr(this.initialModel,r)}isFilterPresent(){return this.activeColumnFilters.length>0}isAggFilterPresent(){return!!this.activeAggregateFilters.length}disableFilters(){this.initialModel={};const{allColumnFilters:e}=this;return e.size?(e.forEach(t=>this.disposeFilterWrapper(t,"advancedFilterEnabled")),!0):!1}updateActiveFilters(){const e=u=>u?u.isFilterActive?u.isFilterActive():(Se(67),!1):!1,{colModel:t,gos:r}=this.beans,n=!!Nh(r),i=u=>{if(!u.isPrimary())return!0;const f=!t.isPivotActive();return!u.isValueActive()||!f?!1:t.isPivotMode()?!0:n},o=[],s=[],a=(u,c,f)=>{c&&(i(u)?o.push(f):s.push(f))},l=[];return this.allColumnFilters.forEach(u=>{const c=u.column,f=c.getColId();if(u.isHandler)l.push(Ct.resolve().then(()=>{a(c,this.isHandlerActive(c),{colId:f,isHandler:!0,handler:u.handler,handlerParams:u.handlerParams})}));else{const d=di(u);d&&l.push(d.then(h=>{a(c,e(h),{colId:f,isHandler:!1,comp:h})}))}}),Ct.all(l).then(()=>{this.activeAggregateFilters=o,this.activeColumnFilters=s})}updateFilterFlagInColumns(e,t){const r=[];return this.allColumnFilters.forEach(n=>{const i=n.column;if(n.isHandler)r.push(Ct.resolve().then(()=>{this.setColFilterActive(i,this.isHandlerActive(i),e,t)}));else{const o=di(n);o&&r.push(o.then(s=>{this.setColFilterActive(i,s.isFilterActive(),e,t)}))}}),this.beans.groupFilter?.updateFilterFlags(e,t),Ct.all(r)}doFiltersPass(e,t,r){const{data:n,aggData:i}=e,o=r?this.activeAggregateFilters:this.activeColumnFilters,s=r?i:n,a=this.model;for(let l=0;l<o.length;l++){const u=o[l],{colId:c,isHandler:f}=u;if(c!==t)if(f){const{handler:d,handlerParams:h}=u;if(!d.doesFilterPass({node:e,data:s,model:dr(a,c),handlerParams:h}))return!1}else{const d=u.comp;if(typeof d.doesFilterPass!="function"){Ot(91);continue}if(!d.doesFilterPass({node:e,data:s}))return!1}}return!0}getHandlerParams(e){const t=this.allColumnFilters.get(e.getColId());return t?.isHandler?t.handlerParams:void 0}callOnFilterChangedOutsideRenderCycle(e){const{rowRenderer:t,filterManager:r}=this.beans,n=()=>{this.isAlive()&&r?.onFilterChanged(e)};t.isRefreshInProgress()?setTimeout(n,0):n()}updateBeforeFilterChanged(e={}){const{column:t,additionalEventAttributes:r}=e,n=t?.getColId();return this.updateActiveFilters().then(()=>this.updateFilterFlagInColumns("filterChanged",r).then(()=>{this.allColumnFilters.forEach(i=>{const{column:o,isHandler:s}=i;n!==o.getColId()&&(s&&i.handler.onAnyFilterChanged?.(),di(i,s)?.then(a=>{typeof a?.onAnyFilterChanged=="function"&&a.onAnyFilterChanged()}))}),this.processingFilterChange=!0}))}updateAfterFilterChanged(){this.processingFilterChange=!1}isSuppressFlashingCellsBecauseFiltering(){return!(this.gos.get("allowShowChangeAfterFilter")??!1)&&this.processingFilterChange}onNewRowsLoaded(e){const t=[];this.allColumnFilters.forEach(r=>{const n=r.isHandler;n&&r.handler.onNewRowsLoaded?.();const i=di(r,n);i&&t.push(i.then(o=>{o.onNewRowsLoaded?.()}))}),Ct.all(t).then(()=>this.updateActive(e,{afterDataChange:!0}))}updateActive(e,t){this.updateFilterFlagInColumns(e,t).then(()=>this.updateActiveFilters())}createGetValue(e,t){const{filterValueSvc:r,colModel:n}=this.beans;return(i,o)=>{const s=o?n.getCol(o):e;return s?r.getValue(s,i,t):void 0}}isFilterActive(e){const t=this.cachedFilter(e);if(t?.isHandler)return this.isHandlerActive(e);const r=t?.filter;return r?r.isFilterActive():dr(this.initialModel,e.getColId())!=null}isHandlerActive(e){const t=Le(dr(this.model,e.getColId()));if(t)return t;const r=this.beans.groupFilter;return r?.isGroupFilter(e)?r.isFilterActive(e):!1}getOrCreateFilterUi(e){const t=this.getOrCreateFilterWrapper(e,!0);return t?di(t):null}getFilterUiForDisplay(e){const t=this.getOrCreateFilterWrapper(e,!0);if(!t)return null;const r=di(t);return r?r.then(n=>({comp:n,params:t.filterUi.filterParams,isHandler:t.isHandler})):null}getHandler(e,t){const r=this.getOrCreateFilterWrapper(e,t);return r?.isHandler?r.handler:void 0}getOrCreateFilterWrapper(e,t){if(!e.isFilterAllowed())return;let r=this.cachedFilter(e);return!r&&t&&(r=this.createFilterWrapper(e),this.setColumnFilterWrapper(e,r)),r}cachedFilter(e){return this.allColumnFilters.get(e.getColId())}getDefaultFilter(e,t=!1){return this.getDefaultFilterFromDataType(()=>this.beans.dataTypeSvc?.getBaseDataType(e),t)}getDefaultFilterFromDataType(e,t=!1){return OA(this.gos)?t?"agSetColumnFloatingFilter":"agSetColumnFilter":_D(e(),t)}getDefaultFloatingFilter(e){return this.getDefaultFilter(e,!0)}createFilterComp(e,t,r,n,i,o){const s=()=>{const u=this.createFilterCompParams(e,i,o),c=n(u,i);return V4(this.beans.userCompFactory,t,c,r)},a=s();return a?{compDetails:a,createFilterUi:u=>(u?s():a).newAgStackInstance()}:null}createFilterInstance(e,t,r,n){const i=this.beans.selectableFilter;i?.isSelectable(t)&&(t=i.getFilterDef(e,t));const{handler:o,handlerParams:s,handlerGenerator:a}=this.createHandler(e,t,r)??{},l=this.createFilterComp(e,t,r,n,!!o,"init");if(!l)return{compDetails:null,createFilterUi:null,handler:o,handlerGenerator:a,handlerParams:s};const{compDetails:u,createFilterUi:c}=l;return this.isGlobalButtons&&(u.params?.buttons?.length||Se(281,{colId:e.getColId()})),{compDetails:u,handler:o,handlerGenerator:a,handlerParams:s,createFilterUi:c}}createBaseFilterParams(e,t){const{filterManager:r,rowModel:n}=this.beans;return Ue(this.gos,{column:e,colDef:e.getColDef(),getValue:this.createGetValue(e),doesRowPassOtherFilter:t?()=>!0:i=>r?.doesRowPassOtherFilters(e.getColId(),i)??!0,rowModel:n})}createFilterCompParams(e,t,r,n){const i=this.filterChangedCallbackFactory(e),o=this.createBaseFilterParams(e,n);if(o.filterChangedCallback=i,o.filterModifiedCallback=n?()=>{}:s=>this.filterModified(e,s),t){const s=o,a=e.getColId(),l=dr(this.model,a);s.model=l,s.state=this.state.get(a)??{model:l},s.onModelChange=(u,c)=>{this.updateStoredModel(a,u),this.refreshHandlerAndUi(e,u,"ui",!1,c).then(()=>{i({...c,source:"columnFilter"})})},s.onStateChange=u=>{this.updateState(e,u),this.updateOrRefreshFilterUi(e)},s.onAction=(u,c,f)=>{this.updateModel(e,u,c),this.dispatchLocalEvent({type:"filterAction",column:e,action:u,event:f})},s.getHandler=()=>this.getHandler(e,!0),s.onUiChange=u=>this.filterUiChanged(e,u),s.source=r}return o}createFilterUiForHandler(e,t){return t?{created:!1,create:t,filterParams:e.params,compDetails:e}:null}createFilterUiLegacy(e,t,r){const n=t(),i={created:!0,create:t,filterParams:e.params,compDetails:e,promise:n};return n.then(r),i}createFilterWrapper(e){const{compDetails:t,handler:r,handlerGenerator:n,handlerParams:i,createFilterUi:o}=this.createFilterInstance(e,e.getColDef(),this.getDefaultFilter(e),a=>a),s=e.getColId();if(r)return delete this.initialModel[s],r.init?.({...i,source:"init",model:dr(this.model,s)}),{column:e,isHandler:!0,handler:r,handlerGenerator:n,handlerParams:i,filterUi:this.createFilterUiForHandler(t,o)};if(o){const a={column:e,filterUi:null,isHandler:!1};return a.filterUi=this.createFilterUiLegacy(t,o,l=>{a.filter=l??void 0}),a}return{column:e,filterUi:null,isHandler:!1}}createHandlerFunc(e,t,r){const{gos:n,frameworkOverrides:i,registry:o}=this.beans;let s;const a=h=>{const g=h.filter;if(m1(g)){const m=g.handler;return m||(s=g.doesFilterPass,s?()=>({doesFilterPass:s}):void 0)}return typeof g=="string"?g:void 0},l=n.get("enableFilterHandlers"),u=l?a(t):void 0,c=h=>()=>this.createBean(o.createDynamicBean(h,!0));let f,d;if(typeof u=="string"){const h=n.get("filterHandlers")?.[u];h!=null?f=h:mD.has(u)&&(f=c(u),d=u)}else f=u;if(!f){let h;const{compName:g,jsComp:m,fwComp:p}=v1(i,t);g?h=g:m==null&&p==null&&t.filter===!0&&(h=r),d=this.handlerMap[h],d&&(f=c(d))}return f?{filterHandler:f,handlerNameOrCallback:s??d}:l?(er(n)&&Se(277,{colId:e.getColId()}),mB):void 0}createHandler(e,t,r){const n=this.createHandlerFunc(e,t,r);if(!n)return;const i=yd(this.beans.userCompFactory,t,this.createFilterCompParams(e,!0,"init")),{handlerNameOrCallback:o,filterHandler:s}=n,{handler:a,handlerParams:l}=this.createHandlerFromFunc(e,s,i);return{handler:a,handlerParams:l,handlerGenerator:o??s}}createHandlerFromFunc(e,t,r){const n=e.getColDef(),i=t(Ue(this.gos,{column:e,colDef:n})),o=this.createHandlerParams(e,r);return{handler:i,handlerParams:o}}createHandlerParams(e,t){const r=e.getColDef(),n=e.getColId(),i=this.filterChangedCallbackFactory(e);return Ue(this.gos,{colDef:r,column:e,getValue:this.createGetValue(e),doesRowPassOtherFilter:o=>this.beans.filterManager?.doesRowPassOtherFilters(n,o)??!0,onModelChange:(o,s)=>{this.updateStoredModel(n,o),this.refreshHandlerAndUi(e,o,"handler",!1,s).then(()=>{i({...s,source:"columnFilter"})})},filterParams:t})}onColumnsChanged(){const e=[],{colModel:t,filterManager:r,groupFilter:n}=this.beans;this.allColumnFilters.forEach((o,s)=>{let a;o.column.isPrimary()?a=t.getColDefCol(s):a=t.getCol(s),!(a&&a===o.column)&&(e.push(o.column),this.disposeFilterWrapper(o,"columnChanged"),this.disposeColumnListener(s))});const i=n&&e.every(o=>n.isGroupFilter(o));e.length>0&&!i&&r?.onFilterChanged({columns:e,source:"api"})}isFilterAllowed(e){if(!e.isFilterAllowed())return!1;const r=this.beans.groupFilter;return r?.isGroupFilter(e)?r.isFilterAllowed(e):!0}getFloatingFilterCompDetails(e,t){const{userCompFactory:r,frameworkOverrides:n,selectableFilter:i}=this.beans,o=d=>{const h=this.getOrCreateFilterUi(e);h?.then(g=>{d(wa(g))})},s=e.getColDef(),a=i?.isSelectable(s)?i.getFilterDef(e,s):s,l=PD(n,a,()=>this.getDefaultFloatingFilter(e))??"agReadOnlyFloatingFilter",u=this.gos.get("enableFilterHandlers"),c=yd(r,a,this.createFilterCompParams(e,u,"init",!0)),f=Ue(this.gos,{column:e,filterParams:c,currentParentModel:()=>this.getCurrentFloatingFilterParentModel(e),parentFilterInstance:o,showParentFilter:t});if(u){const d=f,h=e.getColId(),g=this.filterChangedCallbackFactory(e);d.onUiChange=m=>this.floatingFilterUiChanged(e,m),d.model=dr(this.model,h),d.onModelChange=(m,p)=>{this.updateStoredModel(h,m),this.refreshHandlerAndUi(e,m,"floating",!0,p).then(()=>{g({...p,source:"columnFilter"})})},d.getHandler=()=>this.getHandler(e,!0),d.source="init"}return q4(r,s,f,l)}getCurrentFloatingFilterParentModel(e){return this.getModelFromFilterWrapper(this.cachedFilter(e)??{column:e})}destroyFilterUi(e,t,r,n){const i="paramsUpdated";if(e.isHandler){const o=t.getColId();delete this.initialModel[o],this.state.delete(o);const s=e.filterUi,a=this.createFilterUiForHandler(r,n);e.filterUi=a;const l=this.eventSvc;s?.created?s.promise.then(u=>{this.destroyBean(u),l.dispatchEvent({type:"filterDestroyed",source:i,column:t})}):l.dispatchEvent({type:"filterHandlerDestroyed",source:i,column:t})}else this.destroyFilter(t,i)}destroyFilter(e,t="api"){const r=e.getColId(),n=this.allColumnFilters.get(r);this.disposeColumnListener(r),delete this.initialModel[r],n&&this.disposeFilterWrapper(n,t).then(i=>{i&&this.isAlive()&&this.beans.filterManager?.onFilterChanged({columns:[e],source:"api"})})}disposeColumnListener(e){const t=this.allColumnListeners.get(e);t&&(this.allColumnListeners.delete(e),t())}disposeFilterWrapper(e,t){let r=!1;const{column:n,isHandler:i,filterUi:o}=e,s=n.getColId();i&&(r=this.isHandlerActive(n),this.destroyBean(e.handler),delete this.model[s],this.state.delete(s));const a=()=>{this.setColFilterActive(n,!1,"filterDestroyed"),this.allColumnFilters.delete(s),this.eventSvc.dispatchEvent({type:"filterDestroyed",source:t,column:n})};if(o){if(o.created)return o.promise.then(l=>(r=i?r:!!l?.isFilterActive(),this.destroyBean(l),a(),r));a()}return Ct.resolve(r)}filterChangedCallbackFactory(e){return t=>{this.callOnFilterChangedOutsideRenderCycle({additionalEventAttributes:t,columns:[e],column:e,source:t?.source??"columnFilter"})}}filterParamsChanged(e,t="api"){const r=this.allColumnFilters.get(e);if(!r)return;const n=this.beans,i=r.column,o=i.getColDef(),s=i.isFilterAllowed(),a=this.getDefaultFilter(i),l=n.selectableFilter,u=l?.isSelectable(o)?l.getFilterDef(i,o):o,c=s?this.createHandlerFunc(i,u,this.getDefaultFilter(i)):void 0,f=!!c,d=r.isHandler;if(d!=f){this.destroyFilter(i,"paramsUpdated");return}const{compDetails:h,createFilterUi:g}=(s?this.createFilterComp(i,u,a,p=>p,f,"colDef"):null)??{compDetails:null,createFilterUi:null},m=h?.params??yd(n.userCompFactory,u,this.createFilterCompParams(i,f,"colDef"));if(d){const p=c?.handlerNameOrCallback??c?.filterHandler,y=dr(this.model,e);if(r.handlerGenerator!=p){const b=r.handler,{handler:v,handlerParams:F}=this.createHandlerFromFunc(i,c.filterHandler,m);r.handler=v,r.handlerParams=F,r.handlerGenerator=p,delete this.model[e],v.init?.({...F,source:"init",model:null}),this.destroyBean(b),y!=null&&this.beans.filterManager?.onFilterChanged({columns:[i],source:t})}else{const b=this.createHandlerParams(i,h?.params);r.handlerParams=b,r.handler.refresh?.({...b,source:"colDef",model:y})}}if(this.areFilterCompsDifferent(r.filterUi?.compDetails??null,h)||!r.filterUi||!h){this.destroyFilterUi(r,i,h,g);return}r.filterUi.filterParams=m,di(r,d)?.then(p=>{(p?.refresh?p.refresh(m):!0)===!1?this.destroyFilterUi(r,i,h,g):this.dispatchLocalEvent({type:"filterParamsChanged",column:i,params:m})})}refreshHandlerAndUi(e,t,r,n,i){const o=this.cachedFilter(e);if(!o)return n&&this.getOrCreateFilterWrapper(e,!0),Ct.resolve();if(!o.isHandler)return Ct.resolve();const{filterUi:s,handler:a,handlerParams:l}=o;return bD(()=>{if(s){const{created:u,filterParams:c}=s;if(u)return s.promise.then(f=>f?{filter:f,filterParams:c}:void 0);s.refreshed=!0}return Ct.resolve(void 0)},a,l,t,this.state.get(e.getColId())??{model:t},r,i)}setColumnFilterWrapper(e,t){const r=e.getColId();this.allColumnFilters.set(r,t),this.allColumnListeners.set(r,this.addManagedListeners(e,{colDefChanged:()=>this.filterParamsChanged(r)})[0])}areFilterCompsDifferent(e,t){if(!t||!e)return!0;const{componentClass:r}=e,{componentClass:n}=t;return!(r===n||r?.render&&n?.render&&r.render===n.render)}hasFloatingFilters(){return this.beans.colModel.getCols().some(t=>t.getColDef().floatingFilter)}getFilterInstance(e){const t=this.beans.colModel.getColDefCol(e);if(!t)return Promise.resolve(void 0);const r=this.getOrCreateFilterUi(t);return r?new Promise(n=>{r.then(i=>{n(wa(i))})}):Promise.resolve(null)}processFilterModelUpdateQueue(){this.modelUpdates.forEach(({model:e,source:t})=>this.setModel(e,t)),this.modelUpdates=[],this.columnModelUpdates.forEach(({key:e,model:t,resolve:r})=>{this.setModelForColumn(e,t).then(()=>r())}),this.columnModelUpdates=[]}getModelForColumn(e,t){if(t){const{state:n,model:i}=this,o=e.getColId(),s=n.get(o);return s?s.model??null:dr(i,o)}const r=this.cachedFilter(e);return r?this.getModelFromFilterWrapper(r):null}setModelForColumn(e,t){if(this.beans.dataTypeSvc?.isPendingInference){let r=()=>{};const n=new Promise(i=>{r=i});return this.columnModelUpdates.push({key:e,model:t,resolve:r}),n}return new Promise(r=>{this.setModelForColumnLegacy(e,t).then(n=>r(n))})}getStateForColumn(e){return this.state.get(e)??{model:dr(this.model,e)}}setModelForColumnLegacy(e,t){const r=this.beans.colModel.getColDefCol(e),n=r?this.getOrCreateFilterWrapper(r,!0):null;return n?this.setModelOnFilterWrapper(n,t):Ct.resolve()}setColDefPropsForDataType(e,t,r){const n=e.filter,i=n===!0?this.getDefaultFilterFromDataType(()=>t.baseDataType):n;if(typeof i!="string")return;let o,s;const a=this.beans,{filterParams:l,filterValueGetter:u}=e;i==="agMultiColumnFilter"?{filterParams:o,filterValueGetter:s}=a.multiFilter?.getParamsForDataType(l,u,t,r)??{}:{filterParams:o,filterValueGetter:s}=kD(i,l,u,t,r,a,this.getLocaleTextFunc()),e.filterParams=o,s&&(e.filterValueGetter=s)}setColFilterActive(e,t,r,n){e.filterActive!==t&&(e.filterActive=t,e.dispatchColEvent("filterActiveChanged",r)),e.dispatchColEvent("filterChanged",r,n)}setModelOnFilterWrapper(e,t,r){return new Ct(n=>{if(e.isHandler){const o=e.column,s=o.getColId(),a=this.model[s];if(this.updateStoredModel(s,t),r&&t===a){n();return}this.refreshHandlerAndUi(o,t,"api").then(()=>n());return}const i=di(e);if(i){i.then(o=>{if(typeof o?.setModel!="function"){Se(65),n();return}(o.setModel(t)||Ct.resolve()).then(()=>n())});return}n()})}updateStoredModel(e,t){Le(t)?this.model[e]=t:delete this.model[e];const r=this.state.get(e),n={model:t,state:r?.state};this.state.set(e,n)}filterModified(e,t){this.getOrCreateFilterUi(e)?.then(r=>{this.eventSvc.dispatchEvent({type:"filterModified",column:e,filterInstance:r,...t})})}filterUiChanged(e,t){this.gos.get("enableFilterHandlers")&&this.eventSvc.dispatchEvent({type:"filterUiChanged",column:e,...t})}floatingFilterUiChanged(e,t){this.gos.get("enableFilterHandlers")&&this.eventSvc.dispatchEvent({type:"floatingFilterUiChanged",column:e,...t})}updateModel(e,t,r){const n=e.getColId(),i=this.cachedFilter(e),o=()=>i?.filterUi;Cm(t,o,()=>dr(this.model,n),()=>this.state.get(n),s=>this.updateState(e,s),s=>o()?.filterParams?.onModelChange(s,r),i?.isHandler?i.handler.processModelToApply?.bind(i.handler):void 0)}updateAllModels(e,t){const r=[];this.allColumnFilters.forEach((n,i)=>{const o=this.beans.colModel.getColDefCol(i);o&&Cm(e,()=>n.filterUi,()=>dr(this.model,i),()=>this.state.get(i),s=>this.updateState(o,s),s=>{this.updateStoredModel(i,s),this.dispatchLocalEvent({type:"filterAction",column:o,action:e}),r.push(this.refreshHandlerAndUi(o,s,"ui"))},n?.isHandler?n.handler.processModelToApply?.bind(n.handler):void 0)}),r.length&&Ct.all(r).then(()=>{this.callOnFilterChangedOutsideRenderCycle({source:"columnFilter",additionalEventAttributes:t,columns:[]})})}updateOrRefreshFilterUi(e){const t=e.getColId();V1(()=>this.cachedFilter(e)?.filterUi,()=>dr(this.model,t),()=>this.state.get(t))}updateState(e,t){this.state.set(e.getColId(),t),this.dispatchLocalEvent({type:"filterStateChanged",column:e,state:t})}canApplyAll(){const{state:e,model:t,activeFilterComps:r}=this;for(const i of r)if(i.source==="COLUMN_MENU")return!1;let n=!1;for(const i of e.keys()){const o=e.get(i);if(o.valid===!1)return!1;(o.model??null)!==dr(t,i)&&(n=!0)}return n}hasUnappliedModel(e){const{model:t,state:r}=this;return(r.get(e)?.model??null)!==dr(t,e)}setGlobalButtons(e){this.isGlobalButtons=e,this.dispatchLocalEvent({type:"filterGlobalButtons",isGlobal:e})}shouldKeepStateOnDetach(e,t){if(t==="newFiltersToolPanel")return!0;const r=this.beans.filterPanelSvc;return r?.isActive?!!r.getState(e.getColId()):!1}destroy(){super.destroy(),this.allColumnFilters.forEach(e=>this.disposeFilterWrapper(e,"gridDestroyed")),this.allColumnListeners.clear(),this.state.clear(),this.activeFilterComps.clear()}};function yB(e){return!!e.filterManager?.isAnyFilterPresent()}function vB(e,t="api"){e.filterManager?.onFilterChanged({source:t})}var wB=class extends ve{constructor(){super(...arguments),this.beanName="filterManager",this.advFilterModelUpdateQueue=[]}wireBeans(e){this.quickFilter=e.quickFilter,this.advancedFilter=e.advancedFilter,this.colFilter=e.colFilter}postConstruct(){const e=this.refreshFiltersForAggregations.bind(this),t=this.updateAdvFilterColumns.bind(this);this.addManagedEventListeners({columnValueChanged:e,columnPivotChanged:e,columnPivotModeChanged:e,newColumnsLoaded:t,columnVisible:t,advancedFilterEnabledChanged:({enabled:n})=>this.onAdvFilterEnabledChanged(n),dataTypesInferred:this.processFilterModelUpdateQueue.bind(this)}),this.externalFilterPresent=this.isExternalFilterPresentCallback(),this.addManagedPropertyListeners(["isExternalFilterPresent","doesExternalFilterPass"],()=>{this.onFilterChanged({source:"api"})}),this.updateAggFiltering(),this.addManagedPropertyListener("groupAggFiltering",()=>{this.updateAggFiltering(),this.onFilterChanged()}),this.quickFilter&&this.addManagedListeners(this.quickFilter,{quickFilterChanged:()=>this.onFilterChanged({source:"quickFilter"})});const{gos:r}=this;this.alwaysPassFilter=r.get("alwaysPassFilter"),this.addManagedPropertyListener("alwaysPassFilter",()=>{this.alwaysPassFilter=r.get("alwaysPassFilter"),this.onFilterChanged({source:"api"})})}isExternalFilterPresentCallback(){const e=this.gos.getCallback("isExternalFilterPresent");return typeof e=="function"&&e({})}doesExternalFilterPass(e){const t=this.gos.get("doesExternalFilterPass");return typeof t=="function"&&t(e)}setFilterState(e,t,r="api"){this.isAdvFilterEnabled()||this.colFilter?.setState(e,t,r)}setFilterModel(e,t="api",r){if(this.isAdvFilterEnabled()){r||this.warnAdvFilters();return}this.colFilter?.setModel(e,t)}getFilterModel(){return this.colFilter?.getModel()??{}}getFilterState(){return this.colFilter?.getState()}isColumnFilterPresent(){return!!this.colFilter?.isFilterPresent()}isAggregateFilterPresent(){return!!this.colFilter?.isAggFilterPresent()}isChildFilterPresent(){return this.isColumnFilterPresent()||this.isQuickFilterPresent()||this.externalFilterPresent||this.isAdvFilterPresent()}isAnyFilterPresent(){return this.isChildFilterPresent()||this.isAggregateFilterPresent()}isAdvFilterPresent(){return this.isAdvFilterEnabled()&&this.advancedFilter.isFilterPresent()}onAdvFilterEnabledChanged(e){e?this.colFilter?.disableFilters()&&this.onFilterChanged({source:"advancedFilter"}):this.advancedFilter?.isFilterPresent()&&(this.advancedFilter.setModel(null),this.onFilterChanged({source:"advancedFilter"}))}isAdvFilterEnabled(){return!!this.advancedFilter?.isEnabled()}isAdvFilterHeaderActive(){return this.isAdvFilterEnabled()&&this.advancedFilter.isHeaderActive()}refreshFiltersForAggregations(){Nh(this.gos)&&this.isAnyFilterPresent()&&this.onFilterChanged()}onFilterChanged(e={}){const{source:t,additionalEventAttributes:r,columns:n=[]}=e;this.externalFilterPresent=this.isExternalFilterPresentCallback(),(this.colFilter?this.colFilter.updateBeforeFilterChanged(e):Ct.resolve()).then(()=>{const i={source:t,type:"filterChanged",columns:n};r&&Dr(i,r),this.eventSvc.dispatchEvent(i),this.colFilter?.updateAfterFilterChanged()})}isSuppressFlashingCellsBecauseFiltering(){return!!this.colFilter?.isSuppressFlashingCellsBecauseFiltering()}isQuickFilterPresent(){return!!this.quickFilter?.isFilterPresent()}updateAggFiltering(){this.aggFiltering=!!Nh(this.gos)}isAggregateQuickFilterPresent(){return this.isQuickFilterPresent()&&this.shouldApplyQuickFilterAfterAgg()}isNonAggregateQuickFilterPresent(){return this.isQuickFilterPresent()&&!this.shouldApplyQuickFilterAfterAgg()}shouldApplyQuickFilterAfterAgg(){return(this.aggFiltering||this.beans.colModel.isPivotMode())&&!this.gos.get("applyQuickFilterBeforePivotOrAgg")}doesRowPassOtherFilters(e,t){return this.doesRowPassFilter({rowNode:t,colIdToSkip:e})}doesRowPassAggregateFilters(e){const{rowNode:t}=e;return this.alwaysPassFilter?.(t)?!0:!(this.isAggregateQuickFilterPresent()&&!this.quickFilter.doesRowPass(t)||this.isAggregateFilterPresent()&&!this.colFilter.doFiltersPass(t,e.colIdToSkip,!0))}doesRowPassFilter(e){const{rowNode:t}=e;return this.alwaysPassFilter?.(t)?!0:!(this.isNonAggregateQuickFilterPresent()&&!this.quickFilter.doesRowPass(t)||this.externalFilterPresent&&!this.doesExternalFilterPass(t)||this.isColumnFilterPresent()&&!this.colFilter.doFiltersPass(t,e.colIdToSkip)||this.isAdvFilterPresent()&&!this.advancedFilter.doesFilterPass(t))}isFilterAllowed(e){return this.isAdvFilterEnabled()?!1:!!this.colFilter?.isFilterAllowed(e)}getAdvFilterModel(){return this.isAdvFilterEnabled()?this.advancedFilter.getModel():null}setAdvFilterModel(e,t="api"){if(this.isAdvFilterEnabled()){if(this.beans.dataTypeSvc?.isPendingInference){this.advFilterModelUpdateQueue.push(e);return}this.advancedFilter.setModel(e??null),this.onFilterChanged({source:t})}}toggleAdvFilterBuilder(e,t){this.isAdvFilterEnabled()&&this.advancedFilter.getCtrl().toggleFilterBuilder({source:t,force:e})}updateAdvFilterColumns(){this.isAdvFilterEnabled()&&this.advancedFilter.updateValidity()&&this.onFilterChanged({source:"advancedFilter"})}hasFloatingFilters(){return this.isAdvFilterEnabled()?!1:!!this.colFilter?.hasFloatingFilters()}getColumnFilterInstance(e){return this.isAdvFilterEnabled()?(this.warnAdvFilters(),Promise.resolve(void 0)):this.colFilter?.getFilterInstance(e)??Promise.resolve(void 0)}warnAdvFilters(){Se(68)}setupAdvFilterHeaderComp(e){this.advancedFilter?.getCtrl().setupHeaderComp(e)}getHeaderRowCount(){return this.isAdvFilterHeaderActive()?1:0}getHeaderHeight(){return this.isAdvFilterHeaderActive()?this.advancedFilter.getCtrl().getHeaderHeight():0}processFilterModelUpdateQueue(){for(const e of this.advFilterModelUpdateQueue)this.setAdvFilterModel(e);this.advFilterModelUpdateQueue=[]}setColumnFilterModel(e,t){return this.isAdvFilterEnabled()?(this.warnAdvFilters(),Promise.resolve()):this.colFilter?.setModelForColumn(e,t)??Promise.resolve()}},CB=class extends ve{constructor(){super(...arguments),this.beanName="filterMenuFactory"}wireBeans(e){this.popupSvc=e.popupSvc}hideActiveMenu(){this.hidePopup?.()}showMenuAfterMouseEvent(e,t,r,n){e&&!e.isColumn||this.showPopup(e,i=>{this.popupSvc?.positionPopupUnderMouseEvent({column:e,type:r,mouseEvent:t,ePopup:i})},r,t.target,qr(this.gos),n)}showMenuAfterButtonClick(e,t,r,n){if(e&&!e.isColumn)return;let i=-1,o="left";const s=qr(this.gos);!s&&this.gos.get("enableRtl")&&(i=1,o="right");const a=s?void 0:4*i,l=s?void 0:4;this.showPopup(e,u=>{this.popupSvc?.positionPopupByComponent({type:r,eventSource:t,ePopup:u,nudgeX:a,nudgeY:l,alignSide:o,keepWithinBounds:!0,position:"under",column:e})},r,t,s,n)}showPopup(e,t,r,n,i,o){const s=e?this.createBean(new SD(e,"COLUMN_MENU")):void 0;if(this.activeMenu=s,!s?.hasFilter()||!e){Ot(57);return}const a=Pr({tag:"div",cls:`ag-menu${i?"":" ag-filter-menu"}`,role:"presentation"});[this.tabListener]=this.addManagedElementListeners(a,{keydown:m=>this.trapFocusWithin(m,a)}),a.appendChild(s?.getGui());let l;const u=()=>s?.afterGuiDetached(),c=HA(this.gos)?n??this.beans.ctrlsSvc.getGridBodyCtrl().eGridBody:void 0,f=m=>{Am(e,!1,"contextMenu");const p=m instanceof KeyboardEvent;this.tabListener&&(this.tabListener=this.tabListener()),p&&n&&ni(n)&&k1(n)?.focus({preventScroll:!0}),u(),this.destroyBean(this.activeMenu),this.dispatchVisibleChangedEvent(!1,r,e),o?.()},d=this.getLocaleTextFunc(),h=i&&r!=="columnFilter"?d("ariaLabelColumnMenu","Column Menu"):d("ariaLabelColumnFilter","Column Filter"),g=this.popupSvc?.addPopup({modal:!0,eChild:a,closeOnEsc:!0,closedCallback:f,positionCallback:()=>t(a),anchorToElement:c,ariaLabel:h});g&&(this.hidePopup=l=g.hideFunc),s.afterInit().then(()=>{t(a),s.afterGuiAttached({container:r,hidePopup:l})}),Am(e,!0,"contextMenu"),this.dispatchVisibleChangedEvent(!0,r,e)}trapFocusWithin(e,t){e.key!==me.TAB||e.defaultPrevented||_o(this.beans,t,!1,e.shiftKey)||(e.preventDefault(),vo(t,e.shiftKey))}dispatchVisibleChangedEvent(e,t,r){this.eventSvc.dispatchEvent({type:"columnMenuVisibleChanged",visible:e,switchingTab:!1,key:t,column:r??null,columnGroup:null})}isMenuEnabled(e){return e.isFilterAllowed()&&(e.getColDef().menuTabs??["filterMenuTab"]).includes("filterMenuTab")}showMenuAfterContextMenuEvent(){}destroy(){this.destroyBean(this.activeMenu),super.destroy()}},FB=class extends ve{constructor(){super(...arguments),this.beanName="filterValueSvc"}getValue(e,t,r){if(!t)return;const n=e.getColDef(),{selectableFilter:i,valueSvc:o}=this.beans,s=r??i?.getFilterValueGetter(e.getColId())??n.filterValueGetter;return s?this.executeFilterValueGetter(s,t.data,e,t,n):o.getValue(e,t)}executeFilterValueGetter(e,t,r,n,i){const{expressionSvc:o,valueSvc:s}=this.beans,a=Ue(this.gos,{data:t,node:n,column:r,colDef:i,getValue:s.getValueCallback.bind(s,n)});return typeof e=="function"?e(a):o?.evaluate(e,a)}},SB={tag:"div",cls:"ag-floating-filter-input",role:"presentation",children:[{tag:"ag-input-text-field",ref:"eFloatingFilterText"}]},xB=class extends Xt{constructor(){super(SB,[Lc]),this.eFloatingFilterText=Ve}init(e){this.params=e;const t=this.beans.colNames.getDisplayNameForColumn(e.column,"header",!0);if(this.eFloatingFilterText.setDisabled(!0).setInputAriaLabel(`${t} ${this.getLocaleTextFunc()("ariaFilterInput","Filter Input")}`),this.gos.get("enableFilterHandlers")){const r=e,n=r.getHandler();if(n.getModelAsString){const i=n.getModelAsString(r.model);this.eFloatingFilterText.setValue(i)}}}onParentModelChanged(e){if(e==null){this.eFloatingFilterText.setValue("");return}this.params.parentFilterInstance(t=>{if(t.getModelAsString){const r=t.getModelAsString(e);this.eFloatingFilterText.setValue(r)}})}refresh(e){this.init(e)}},Mp=class{constructor(){this.customFilterOptions={}}init(e,t){this.filterOptions=e.filterOptions??t,this.mapCustomOptions(),this.defaultOption=this.getDefaultItem(e.defaultOption)}refresh(e,t){const r=e.filterOptions??t;this.filterOptions!==r&&(this.filterOptions=r,this.customFilterOptions={},this.mapCustomOptions()),this.defaultOption=this.getDefaultItem(e.defaultOption)}mapCustomOptions(){const{filterOptions:e}=this;if(e)for(const t of e){if(typeof t=="string")continue;const r=[["displayKey"],["displayName"],["predicate","test"]],n=i=>i.some(o=>t[o]!=null)?!0:(Se(72,{keys:i}),!1);if(!r.every(n)){this.filterOptions=e.filter(i=>i===t)||[];continue}this.customFilterOptions[t.displayKey]=t}}getDefaultItem(e){const{filterOptions:t}=this;if(e)return e;if(t.length>=1){const r=t[0];if(typeof r=="string")return r;if(r.displayKey)return r.displayKey;Se(73)}else Se(74)}getCustomOption(e){return this.customFilterOptions[e]}};function aa(e,t,r){return r==null?e.splice(t):e.splice(t,r)}function fc(e){return e==null||typeof e=="string"&&e.trim().length===0}function kB(e){return e==="AND"||e==="OR"?e:"AND"}function EB(e,t,r){if(e==null)return;const{predicate:n}=e;if(n!=null&&!t.some(i=>i==null))return n(t,r)}function RB(e,t){let r=e.length;return r>t&&(e.splice(t),Se(78),r=t),r}function xa(e,t){const r=t.getCustomOption(e);if(r){const{numberOfInputs:i}=r;return i??1}return e&&["empty","notBlank","blank"].indexOf(e)>=0?0:e==="inRange"?2:1}var Pp=class extends MD{constructor(e,t,r){super(e,"simple-filter"),this.mapValuesFromModel=t,this.defaultOptions=r,this.eTypes=[],this.eJoinPanels=[],this.eJoinAnds=[],this.eJoinOrs=[],this.eConditionBodies=[],this.listener=()=>this.onUiChanged(),this.lastUiCompletePosition=null,this.joinOperatorId=0}setParams(e){super.setParams(e);const t=new Mp;this.optionsFactory=t,t.init(e,this.defaultOptions),this.commonUpdateSimpleParams(e),this.createOption(),this.createMissingConditionsAndOperators()}updateParams(e,t){this.optionsFactory.refresh(e,this.defaultOptions),super.updateParams(e,t),this.commonUpdateSimpleParams(e)}commonUpdateSimpleParams(e){this.setNumConditions(e),this.defaultJoinOperator=kB(e.defaultJoinOperator),this.filterPlaceholder=e.filterPlaceholder,this.createFilterListOptions();const t=this.getGui();this.isReadOnly()?t.setAttribute("tabindex","-1"):t.removeAttribute("tabindex")}onFloatingFilterChanged(e,t){this.setTypeFromFloatingFilter(e),this.setValueFromFloatingFilter(t),this.onUiChanged("immediately",!0)}setTypeFromFloatingFilter(e){this.eTypes.forEach((t,r)=>{const n=r===0?e:this.optionsFactory.defaultOption;t.setValue(n,!0)})}getModelFromUi(){const e=this.getUiCompleteConditions();return e.length===0?null:this.maxNumConditions>1&&e.length>1?{filterType:this.filterType,operator:this.getJoinOperator(),conditions:e}:e[0]}getConditionTypes(){return this.eTypes.map(e=>e.getValue())}getConditionType(e){return this.eTypes[e].getValue()}getJoinOperator(){const{eJoinOrs:e,defaultJoinOperator:t}=this;return e.length===0?t:e[0].getValue()===!0?"OR":"AND"}areNonNullModelsEqual(e,t){const r=!e.operator,n=!t.operator;if(!r&&n||r&&!n)return!1;let o;if(r){const s=e,a=t;o=this.areSimpleModelsEqual(s,a)}else{const s=e,a=t;o=s.operator===a.operator&&Ii(s.conditions,a.conditions,(l,u)=>this.areSimpleModelsEqual(l,u))}return o}setModelIntoUi(e,t){if(e==null)return this.resetUiToDefaults(t),Ct.resolve();if(e.operator){const n=e;let i=n.conditions;i==null&&(i=[],Se(77));const o=RB(i,this.maxNumConditions),s=this.getNumConditions();if(o<s)this.removeConditionsAndOperators(o);else if(o>s)for(let l=s;l<o;l++)this.createJoinOperatorPanel(),this.createOption();const a=n.operator==="OR";this.eJoinAnds.forEach(l=>l.setValue(!a,!0)),this.eJoinOrs.forEach(l=>l.setValue(a,!0)),i.forEach((l,u)=>{this.eTypes[u].setValue(l.type,!0),this.setConditionIntoUi(l,u)})}else{const n=e;this.getNumConditions()>1&&this.removeConditionsAndOperators(1),this.eTypes[0].setValue(n.type,!0),this.setConditionIntoUi(n,0)}return this.lastUiCompletePosition=this.getNumConditions()-1,this.createMissingConditionsAndOperators(),this.updateUiVisibility(),t||this.params.onUiChange(this.getUiChangeEventParams()),Ct.resolve()}setNumConditions(e){let t=e.maxNumConditions??2;t<1&&(Se(79),t=1),this.maxNumConditions=t;let r=e.numAlwaysVisibleConditions??1;r<1&&(Se(80),r=1),r>t&&(Se(81),r=t),this.numAlwaysVisibleConditions=r}createOption(){const e=this.getGui(),t=this.createManagedBean(new pp);this.eTypes.push(t),t.addCss("ag-filter-select"),e.appendChild(t.getGui());const r=this.createEValue();this.eConditionBodies.push(r),e.appendChild(r),this.putOptionsIntoDropdown(t),this.resetType(t);const n=this.getNumConditions()-1;this.forEachPositionInput(n,i=>this.resetInput(i)),this.addChangedListeners(t,n)}createJoinOperatorPanel(){const e=Pr({tag:"div",cls:"ag-filter-condition"});this.eJoinPanels.push(e);const t=this.createJoinOperator(this.eJoinAnds,e,"and"),r=this.createJoinOperator(this.eJoinOrs,e,"or");this.getGui().appendChild(e);const n=this.eJoinPanels.length-1,i=this.joinOperatorId++;this.resetJoinOperatorAnd(t,n,i),this.resetJoinOperatorOr(r,n,i),this.isReadOnly()||(t.onValueChange(this.listener),r.onValueChange(this.listener))}createJoinOperator(e,t,r){const n=this.createManagedBean(new uT);e.push(n);const i="ag-filter-condition-operator";return n.addCss(i),n.addCss(`${i}-${r}`),t.appendChild(n.getGui()),n}createFilterListOptions(){this.filterListOptions=this.optionsFactory.filterOptions.map(e=>typeof e=="string"?this.createBoilerplateListOption(e):this.createCustomListOption(e))}putOptionsIntoDropdown(e){const{filterListOptions:t}=this;for(const r of t)e.addOption(r);e.setDisabled(t.length<=1)}createBoilerplateListOption(e){return{value:e,text:this.translate(e)}}createCustomListOption(e){const{displayKey:t}=e,r=this.optionsFactory.getCustomOption(e.displayKey);return{value:t,text:r?this.getLocaleTextFunc()(r.displayKey,r.displayName):this.translate(t)}}createBodyTemplate(){return null}getAgComponents(){return[]}updateUiVisibility(){const e=this.getJoinOperator();this.updateNumConditions(),this.updateConditionStatusesAndValues(this.lastUiCompletePosition,e)}updateNumConditions(){let e=-1,t=!0;for(let r=0;r<this.getNumConditions();r++)this.isConditionUiComplete(r)?e=r:t=!1;if(this.shouldAddNewConditionAtEnd(t))this.createJoinOperatorPanel(),this.createOption();else{const r=this.lastUiCompletePosition??this.getNumConditions()-2;if(e<r){this.removeConditionsAndOperators(r+1);const n=e+1,i=r-n;i>0&&this.removeConditionsAndOperators(n,i),this.createMissingConditionsAndOperators()}}this.lastUiCompletePosition=e}updateConditionStatusesAndValues(e,t){this.eTypes.forEach((n,i)=>{const o=this.isConditionDisabled(i,e);n.setDisabled(o||this.filterListOptions.length<=1),i===1&&(ga(this.eJoinPanels[0],o),this.eJoinAnds[0].setDisabled(o),this.eJoinOrs[0].setDisabled(o))}),this.eConditionBodies.forEach((n,i)=>{Kt(n,this.isConditionBodyVisible(i))});const r=(t??this.getJoinOperator())==="OR";for(const n of this.eJoinAnds)n.setValue(!r,!0);for(const n of this.eJoinOrs)n.setValue(r,!0);this.forEachInput((n,i,o,s)=>{this.setElementDisplayed(n,i<s),this.setElementDisabled(n,this.isConditionDisabled(o,e))}),this.resetPlaceholder()}shouldAddNewConditionAtEnd(e){return e&&this.getNumConditions()<this.maxNumConditions&&!this.isReadOnly()}removeConditionsAndOperators(e,t){if(e>=this.getNumConditions())return;const{eTypes:r,eConditionBodies:n,eJoinPanels:i,eJoinAnds:o,eJoinOrs:s}=this;this.removeComponents(r,e,t),this.removeElements(n,e,t),this.removeEValues(e,t);const a=Math.max(e-1,0);this.removeElements(i,a,t),this.removeComponents(o,a,t),this.removeComponents(s,a,t)}removeElements(e,t,r){const n=aa(e,t,r);for(const i of n)Ei(i)}removeComponents(e,t,r){const n=aa(e,t,r);for(const i of n)Ei(i.getGui()),this.destroyBean(i)}afterGuiAttached(e){if(super.afterGuiAttached(e),this.resetPlaceholder(),!e?.suppressFocus){let t;if(!this.isReadOnly()){const r=this.getInputs(0)[0];r instanceof eo&&this.isConditionBodyVisible(0)?t=r.getInputElement():t=this.eTypes[0]?.getFocusableElement()}(t??this.getGui()).focus({preventScroll:!0})}}afterGuiDetached(){super.afterGuiDetached();const e=this.params;if(this.beans.colFilter?.shouldKeepStateOnDetach(e.column))return;e.onStateChange({model:e.model});let t=-1,r=-1,n=!1;const i=this.getJoinOperator();for(let s=this.getNumConditions()-1;s>=0;s--)if(this.isConditionUiComplete(s))t===-1&&(t=s,r=s);else{const a=s>=this.numAlwaysVisibleConditions&&!this.isConditionUiComplete(s-1),l=s<t;(a||l)&&(this.removeConditionsAndOperators(s,1),n=!0,l&&r--)}let o=!1;this.getNumConditions()<this.numAlwaysVisibleConditions&&(this.createMissingConditionsAndOperators(),o=!0),this.shouldAddNewConditionAtEnd(r===this.getNumConditions()-1)&&(this.createJoinOperatorPanel(),this.createOption(),o=!0),o&&this.updateConditionStatusesAndValues(r,i),n&&this.updateJoinOperatorsDisabled(),this.lastUiCompletePosition=r}getModelAsString(e){return this.params.getHandler()?.getModelAsString?.(e)??""}getPlaceholderText(e,t){let r=this.translate(e);if(typeof this.filterPlaceholder=="function"){const n=this.eTypes[t].getValue(),i=this.translate(n);r=this.filterPlaceholder({filterOptionKey:n,filterOption:i,placeholder:r})}else typeof this.filterPlaceholder=="string"&&(r=this.filterPlaceholder);return r}resetPlaceholder(){const e=this.getLocaleTextFunc();this.forEachInput((t,r,n,i)=>{if(!(t instanceof eo))return;const o=r===0&&i>1?"inRangeStart":r===0?"filterOoo":"inRangeEnd",s=r===0&&i>1?e("ariaFilterFromValue","Filter from value"):r===0?e("ariaFilterValue","Filter Value"):e("ariaFilterToValue","Filter to Value");t.setInputPlaceholder(this.getPlaceholderText(o,n)),t.setInputAriaLabel(s)})}setElementValue(e,t,r){e instanceof eo&&e.setValue(t!=null?String(t):null,!0)}setElementDisplayed(e,t){cm(e)&&Kt(e.getGui(),t)}setElementDisabled(e,t){cm(e)&&ga(e.getGui(),t)}attachElementOnChange(e,t){e instanceof eo&&e.onValueChange(t)}forEachInput(e){this.getConditionTypes().forEach((t,r)=>{this.forEachPositionTypeInput(r,t,e)})}forEachPositionInput(e,t){const r=this.getConditionType(e);this.forEachPositionTypeInput(e,r,t)}forEachPositionTypeInput(e,t,r){const n=xa(t,this.optionsFactory),i=this.getInputs(e);for(let o=0;o<i.length;o++){const s=i[o];s!=null&&r(s,o,e,n)}}isConditionDisabled(e,t){return this.isReadOnly()?!0:e===0?!1:e>t+1}isConditionBodyVisible(e){const t=this.getConditionType(e);return xa(t,this.optionsFactory)>0}isConditionUiComplete(e){return!(e>=this.getNumConditions()||this.getConditionType(e)==="empty"||this.getValues(e).some(r=>r==null))}getNumConditions(){return this.eTypes.length}getUiCompleteConditions(){const e=[];for(let t=0;t<this.getNumConditions();t++)this.isConditionUiComplete(t)&&e.push(this.createCondition(t));return e}createMissingConditionsAndOperators(){if(!this.isReadOnly())for(let e=this.getNumConditions();e<this.numAlwaysVisibleConditions;e++)this.createJoinOperatorPanel(),this.createOption()}resetUiToDefaults(e){this.removeConditionsAndOperators(this.isReadOnly()?1:this.numAlwaysVisibleConditions),this.eTypes.forEach(t=>this.resetType(t)),this.eJoinAnds.forEach((t,r)=>this.resetJoinOperatorAnd(t,r,this.joinOperatorId+r)),this.eJoinOrs.forEach((t,r)=>this.resetJoinOperatorOr(t,r,this.joinOperatorId+r)),this.joinOperatorId++,this.forEachInput(t=>this.resetInput(t)),this.resetPlaceholder(),this.createMissingConditionsAndOperators(),this.lastUiCompletePosition=null,this.updateUiVisibility(),e||this.params.onUiChange(this.getUiChangeEventParams())}resetType(e){const r=this.getLocaleTextFunc()("ariaFilteringOperator","Filtering operator");e.setValue(this.optionsFactory.defaultOption,!0).setAriaLabel(r).setDisabled(this.isReadOnly()||this.filterListOptions.length<=1)}resetJoinOperatorAnd(e,t,r){this.resetJoinOperator(e,t,this.defaultJoinOperator==="AND",this.translate("andCondition"),r)}resetJoinOperatorOr(e,t,r){this.resetJoinOperator(e,t,this.defaultJoinOperator==="OR",this.translate("orCondition"),r)}resetJoinOperator(e,t,r,n,i){this.updateJoinOperatorDisabled(e.setValue(r,!0).setName(`ag-simple-filter-and-or-${this.getCompId()}-${i}`).setLabel(n),t)}updateJoinOperatorsDisabled(){const e=(t,r)=>this.updateJoinOperatorDisabled(t,r);this.eJoinAnds.forEach(e),this.eJoinOrs.forEach(e)}updateJoinOperatorDisabled(e,t){e.setDisabled(this.isReadOnly()||t>0)}resetInput(e){this.setElementValue(e,null),this.setElementDisabled(e,this.isReadOnly())}setConditionIntoUi(e,t){const r=this.mapValuesFromModel(e,this.optionsFactory);this.forEachInput((n,i,o)=>{o===t&&this.setElementValue(n,r[i]!=null?r[i]:null)})}setValueFromFloatingFilter(e){this.forEachInput((t,r,n)=>{this.setElementValue(t,r===0&&n===0?e:null,!0)})}addChangedListeners(e,t){this.isReadOnly()||(e.onValueChange(this.listener),this.forEachPositionInput(t,r=>{this.attachElementOnChange(r,this.listener)}))}hasInvalidInputs(){return!1}isReadOnly(){return!!this.params.readOnly}},zC=class{constructor(e,t,r,n,i,o){this.alive=!0,this.context=e,this.eParent=i;const s=W4(t,r,n);s&&s.newAgStackInstance().then(a=>{if(!this.alive){e.destroyBean(a);return}if(this.dateComp=a,!a)return;i.appendChild(a.getGui()),a?.afterGuiAttached?.();const{tempValue:l,disabled:u}=this;l&&a.setDate(l),u!=null&&a.setDisabled?.(u),o?.(this)})}destroy(){this.alive=!1,this.dateComp=this.context.destroyBean(this.dateComp)}getDate(){return this.dateComp?this.dateComp.getDate():this.tempValue}setDate(e){const t=this.dateComp;t?t.setDate(e):this.tempValue=e}setDisabled(e){const t=this.dateComp;t?t.setDisabled?.(e):this.disabled=e}setDisplayed(e){Kt(this.eParent,e)}setInputPlaceholder(e){this.dateComp?.setInputPlaceholder?.(e)}setInputAriaLabel(e){this.dateComp?.setInputAriaLabel?.(e)}afterGuiAttached(e){this.dateComp?.afterGuiAttached?.(e)}updateParams(e){this.dateComp?.refresh?.(e)}},Ip=["equals","notEqual","lessThan","greaterThan","inRange","blank","notBlank"];function VC(e,t){const{dateFrom:r,dateTo:n,type:i}=e||{};return[r&&Vr(r,void 0,!0)||null,n&&Vr(n,void 0,!0)||null].slice(0,xa(i,t))}var c0=1e3,d0=1/0,_B=class extends Pp{constructor(){super("dateFilter",VC,Ip),this.eConditionPanelsFrom=[],this.eConditionPanelsTo=[],this.dateConditionFromComps=[],this.dateConditionToComps=[],this.minValidYear=c0,this.maxValidYear=d0,this.minValidDate=null,this.maxValidDate=null,this.filterType="date"}afterGuiAttached(e){super.afterGuiAttached(e),this.dateConditionFromComps[0].afterGuiAttached(e)}commonUpdateSimpleParams(e){super.commonUpdateSimpleParams(e);const t=(l,u)=>{const c=e[l];if(c!=null)if(isNaN(c))Se(82,{param:l});else return c==null?u:Number(c);return u},r=t("minValidYear",c0),n=t("maxValidYear",d0);this.minValidYear=r,this.maxValidYear=n,r>n&&Se(83);const{minValidDate:i,maxValidDate:o}=e,s=i instanceof Date?i:Vr(i);this.minValidDate=s;const a=o instanceof Date?o:Vr(o);this.maxValidDate=a,s&&a&&s>a&&Se(84)}createDateCompWrapper(e){const{beans:{userCompFactory:t,context:r,gos:n},params:i}=this,o=new zC(r,t,i.colDef,Ue(n,{onDateChanged:()=>this.onUiChanged(),filterParams:i,location:"filter"}),e);return this.addDestroyFunc(()=>o.destroy()),o}setElementValue(e,t){e.setDate(t)}setElementDisplayed(e,t){e.setDisplayed(t)}setElementDisabled(e,t){e.setDisabled(t)}createEValue(){const e=Pr({tag:"div",cls:"ag-filter-body"});return this.createFromToElement(e,this.eConditionPanelsFrom,this.dateConditionFromComps,"from"),this.createFromToElement(e,this.eConditionPanelsTo,this.dateConditionToComps,"to"),e}createFromToElement(e,t,r,n){const i=Pr({tag:"div",cls:`ag-filter-${n} ag-filter-date-${n}`});t.push(i),e.appendChild(i),r.push(this.createDateCompWrapper(i))}removeEValues(e,t){this.removeDateComps(this.dateConditionFromComps,e,t),this.removeDateComps(this.dateConditionToComps,e,t),aa(this.eConditionPanelsFrom,e,t),aa(this.eConditionPanelsTo,e,t)}removeDateComps(e,t,r){const n=aa(e,t,r);for(const i of n)i.destroy()}isValidDateValue(e){if(e===null)return!1;const{minValidDate:t,maxValidDate:r,minValidYear:n,maxValidYear:i}=this;if(t){if(e<t)return!1}else if(e.getUTCFullYear()<n)return!1;if(r){if(e>r)return!1}else if(e.getUTCFullYear()>i)return!1;return!0}isConditionUiComplete(e){if(!super.isConditionUiComplete(e))return!1;let t=!0;return this.forEachInput((r,n,i,o)=>{i!==e||!t||n>=o||(t=t&&this.isValidDateValue(r.getDate()))}),t}areSimpleModelsEqual(e,t){return e.dateFrom===t.dateFrom&&e.dateTo===t.dateTo&&e.type===t.type}createCondition(e){const t=this.getConditionType(e),r={},n=this.getValues(e),i=this.params.useIsoSeparator?"T":" ";return n.length>0&&(r.dateFrom=Jr(n[0],!0,i)),n.length>1&&(r.dateTo=Jr(n[1],!0,i)),{dateFrom:null,dateTo:null,filterType:this.filterType,type:t,...r}}resetPlaceholder(){const e=this.getLocaleTextFunc(),t=this.translate("dateFormatOoo"),r=e("ariaFilterValue","Filter Value");this.forEachInput(n=>{n.setInputPlaceholder(t),n.setInputAriaLabel(r)})}getInputs(e){const{dateConditionFromComps:t,dateConditionToComps:r}=this;return e>=t.length?[null,null]:[t[e],r[e]]}getValues(e){const t=[];return this.forEachPositionInput(e,(r,n,i,o)=>{n<o&&t.push(r.getDate())}),t}translate(e){return e==="lessThan"?super.translate("before"):e==="greaterThan"?super.translate("after"):super.translate(e)}},WC=class extends ve{constructor(e,t){super(),this.mapValuesFromModel=e,this.defaultOptions=t}init(e){const t=e.filterParams,r=new Mp;this.optionsFactory=r,r.init(t,this.defaultOptions),this.filterModelFormatter=this.createManagedBean(new this.FilterModelFormatterClass(r,t)),this.updateParams(e),this.validateModel(e)}refresh(e){if(e.source==="colDef"){const t=e.filterParams,r=this.optionsFactory;r.refresh(t,this.defaultOptions),this.filterModelFormatter.updateParams({optionsFactory:r,filterParams:t}),this.updateParams(e)}this.validateModel(e)}updateParams(e){this.params=e}doesFilterPass(e){const t=e.model;if(t==null)return!0;const{operator:r}=t,n=[];if(r){const s=t;n.push(...s.conditions??[])}else n.push(t);const i=r&&r==="OR"?"some":"every",o=this.params.getValue(e.node);return n[i](s=>this.individualConditionPasses(e,s,o))}getModelAsString(e,t){return this.filterModelFormatter.getModelAsString(e,t)??""}validateModel(e){const{model:t,filterParams:{filterOptions:r,maxNumConditions:n}}=e;if(t==null)return;let o=U1(t)?t.conditions:[t];const s=r?.map(c=>typeof c=="string"?c:c.displayKey)??this.defaultOptions;if(!(!o||o.every(c=>s.find(f=>f===c.type)!==void 0))){this.params={...e,model:null},e.onModelChange(null);return}let l=!1;const u=this.filterType;if((o&&!o.every(c=>c.filterType===u)||t.filterType!==u)&&(o=o.map(c=>({...c,filterType:u})),l=!0),typeof n=="number"&&o&&o.length>n&&(o=o.slice(0,n),l=!0),l){const c=o.length>1?{...t,filterType:u,conditions:o}:{...o[0],filterType:u};this.params={...e,model:c},e.onModelChange(c)}}individualConditionPasses(e,t,r){const n=this.optionsFactory,i=this.mapValuesFromModel(t,n),o=n.getCustomOption(t.type),s=EB(o,i,r);return s??(r==null?this.evaluateNullValue(t.type):this.evaluateNonNullValue(i,r,t,e))}},$C=class extends WC{evaluateNullValue(e){const{includeBlanksInEquals:t,includeBlanksInNotEqual:r,includeBlanksInGreaterThan:n,includeBlanksInLessThan:i,includeBlanksInRange:o}=this.params.filterParams;switch(e){case"equals":if(t)return!0;break;case"notEqual":if(r)return!0;break;case"greaterThan":case"greaterThanOrEqual":if(n)return!0;break;case"lessThan":case"lessThanOrEqual":if(i)return!0;break;case"inRange":if(o)return!0;break;case"blank":return!0;case"notBlank":return!1}return!1}evaluateNonNullValue(e,t,r){const n=r.type;if(!this.isValid(t))return n==="notEqual"||n==="notBlank";const i=this.comparator(),o=e[0]!=null?i(e[0],t):0;switch(n){case"equals":return o===0;case"notEqual":return o!==0;case"greaterThan":return o>0;case"greaterThanOrEqual":return o>=0;case"lessThan":return o<0;case"lessThanOrEqual":return o<=0;case"inRange":{const s=i(e[1],t);return this.params.filterParams.inRangeInclusive?o>=0&&s<=0:o>0&&s<0}case"blank":return fc(t);case"notBlank":return!fc(t);default:return Se(76,{filterModelType:n}),!0}}},UC={equals:"Equals",notEqual:"NotEqual",greaterThan:"GreaterThan",greaterThanOrEqual:"GreaterThanOrEqual",lessThan:"LessThan",lessThanOrEqual:"LessThanOrEqual",inRange:"InRange"},AB={contains:"Contains",notContains:"NotContains",equals:"TextEquals",notEqual:"TextNotEqual",startsWith:"StartsWith",endsWith:"EndsWith",inRange:"InRange"},Bp=class extends ve{constructor(e,t,r){super(),this.optionsFactory=e,this.filterParams=t,this.valueFormatter=r}getModelAsString(e,t){const r=this.getLocaleTextFunc(),n=t==="filterToolPanel";if(!e)return n?vi(this,"filterSummaryInactive"):null;if(e.operator!=null){const o=e,a=(o.conditions??[]).map(u=>this.getModelAsString(u,t)),l=o.operator==="AND"?"andCondition":"orCondition";return a.join(` ${vi(this,l)} `)}else{if(e.type==="blank"||e.type==="notBlank")return n?vi(this,e.type==="blank"?"filterSummaryBlank":"filterSummaryNotBlank"):r(e.type,e.type);{const o=e,s=this.optionsFactory.getCustomOption(o.type),{displayKey:a,displayName:l,numberOfInputs:u}=s||{};return a&&l&&u===0?r(a,l):this.conditionToString(o,n,o.type==="inRange"||u===2,a,l)}}}updateParams(e){const{optionsFactory:t,filterParams:r}=e;this.optionsFactory=t,this.filterParams=r}conditionForToolPanel(e,t,r,n,i,o){let s;const a=this.getTypeKey(e);return a&&(s=vi(this,a)),i&&o&&(s=this.getLocaleTextFunc()(i,o)),s!=null?t?`${s} ${vi(this,"filterSummaryInRangeValues",[r(),n()])}`:`${s} ${r()}`:null}getTypeKey(e){const t=this.filterTypeKeys[e];return t?`filterSummary${t}`:null}formatValue(e){const t=this.valueFormatter;return t?t(e??null)??"":String(e)}},KC=class extends Bp{constructor(e,t){super(e,t,r=>{const{dataTypeSvc:n,valueSvc:i}=this.beans,o=t.column,s=n?.getDateFormatterFunction(o),a=s?s(r??void 0):r;return i.formatValue(o,null,a)}),this.filterTypeKeys=UC}conditionToString(e,t,r,n,i){const{type:o}=e,s=Vr(e.dateFrom),a=Vr(e.dateTo),l=this.filterParams.inRangeFloatingFilterDateFormat,u=t?this.formatValue.bind(this):d=>Vh(d,l),c=()=>s!==null?u(s):"null",f=()=>a!==null?u(a):"null";if(t){const d=this.conditionForToolPanel(o,r,c,f,n,i);if(d!=null)return d}return r?`${c()}-${f()}`:s!=null?u(s):`${o}`}};function TB(e,t){const r=t;return r<e?-1:r>e?1:0}var DB=class extends $C{constructor(){super(VC,Ip),this.filterType="date",this.FilterModelFormatterClass=KC}comparator(){return this.params.filterParams.comparator??TB}isValid(e){const t=this.params.filterParams.isValidDate;return!t||t(e)}},qC=class extends Xt{constructor(){super(...arguments),this.defaultDebounceMs=0}setLastTypeFromModel(e){if(!e){this.lastType=this.optionsFactory.defaultOption;return}const t=e.operator;let r;t?r=e.conditions[0]:r=e,this.lastType=r.type}canWeEditAfterModelFromParentFilter(e){if(!e)return this.isTypeEditable(this.lastType);if(e.operator)return!1;const r=e;return this.isTypeEditable(r.type)}init(e){this.params=e;const t=this.gos.get("enableFilterHandlers");if(this.reactive=t,this.setParams(e),t){const r=e;this.onModelUpdated(r.model)}}setParams(e){const t=new Mp;this.optionsFactory=t,t.init(e.filterParams,this.defaultOptions),this.filterModelFormatter=this.createManagedBean(new this.FilterModelFormatterClass(t,e.filterParams)),this.setSimpleParams(e,!1)}setSimpleParams(e,t=!0){const r=this.optionsFactory.defaultOption;t||(this.lastType=r),this.readOnly=!!e.filterParams.readOnly;const n=this.isTypeEditable(r);this.setEditable(n)}refresh(e){this.params=e;const t=e,r=this.reactive;if((!r||t.source==="colDef")&&this.updateParams(e),r){const{source:n,model:i}=t;if(n==="dataChanged"||n==="ui")return;this.onModelUpdated(i)}}updateParams(e){const t=this.optionsFactory;t.refresh(e.filterParams,this.defaultOptions),this.setSimpleParams(e),this.filterModelFormatter.updateParams({optionsFactory:t,filterParams:e.filterParams})}onParentModelChanged(e,t){t?.afterFloatingFilter||t?.afterDataChange||this.onModelUpdated(e)}hasSingleInput(e){const t=this.optionsFactory.getCustomOption(e)?.numberOfInputs;return t==null||t==1}isTypeEditable(e){const t=["inRange","empty","blank","notBlank"];return!!e&&!this.readOnly&&this.hasSingleInput(e)&&t.indexOf(e)<0}getAriaLabel(e){return`${this.beans.colNames.getDisplayNameForColumn(e.column,"header",!0)} ${this.getLocaleTextFunc()("ariaFilterInput","Filter Input")}`}},MB={tag:"div",cls:"ag-floating-filter-input",role:"presentation",children:[{tag:"ag-input-text-field",ref:"eReadOnlyText"},{tag:"div",ref:"eDateWrapper",cls:"ag-date-floating-filter-wrapper"}]},PB=class extends qC{constructor(){super(MB,[Lc]),this.eReadOnlyText=Ve,this.eDateWrapper=Ve,this.FilterModelFormatterClass=KC,this.filterType="date",this.defaultOptions=Ip}setParams(e){super.setParams(e),this.createDateComponent();const t=this.getLocaleTextFunc();this.eReadOnlyText.setDisabled(!0).setInputAriaLabel(t("ariaDateFilterInput","Date Filter Input"))}updateParams(e){super.updateParams(e),this.dateComp.updateParams(this.getDateComponentParams()),this.updateCompOnModelChange(e.currentParentModel())}updateCompOnModelChange(e){const t=!this.readOnly&&this.canWeEditAfterModelFromParentFilter(e);if(this.setEditable(t),t){const r=e?Vr(e.dateFrom):null;this.dateComp.setDate(r),this.eReadOnlyText.setValue("")}else this.eReadOnlyText.setValue(this.filterModelFormatter.getModelAsString(e)),this.dateComp.setDate(null)}setEditable(e){Kt(this.eDateWrapper,e),Kt(this.eReadOnlyText.getGui(),!e)}onModelUpdated(e){super.setLastTypeFromModel(e),this.updateCompOnModelChange(e)}onDateChanged(){const e=this.dateComp.getDate();if(this.reactive){const t=this.params;t.onUiChange();const r=t.model,n=Jr(e),i=n==null?null:{...r??{filterType:this.filterType,type:this.lastType??this.optionsFactory.defaultOption},dateFrom:n};t.onModelChange(i,{afterFloatingFilter:!0})}else this.params.parentFilterInstance(t=>{t?.onFloatingFilterChanged(this.lastType||null,e)})}getDateComponentParams(){const{filterParams:e}=this.params,t=vp(e,this.defaultDebounceMs);return Ue(this.gos,{onDateChanged:mr(this,this.onDateChanged.bind(this),t),filterParams:e,location:"floatingFilter"})}createDateComponent(){const{beans:{context:e,userCompFactory:t},eDateWrapper:r,params:n}=this;this.dateComp=new zC(e,t,n.column.getColDef(),this.getDateComponentParams(),r,i=>{i.setInputAriaLabel(this.getAriaLabel(n))}),this.addDestroyFunc(()=>this.dateComp.destroy())}},IB={tag:"div",cls:"ag-filter-filter",children:[{tag:"ag-input-text-field",ref:"eDateInput",cls:"ag-date-filter"}]},BB=class extends Xt{constructor(){super(IB,[Lc]),this.eDateInput=Ve,this.isApply=!1,this.applyOnFocusOut=!1}init(e){this.params=e,this.setParams(e);const t=this.eDateInput.getInputElement();this.addManagedListeners(t,{mouseDown:()=>{this.eDateInput.isDisabled()||this.usingSafariDatePicker||t.focus({preventScroll:!0})},input:this.handleInput.bind(this,!1),change:this.handleInput.bind(this,!0),focusout:this.handleFocusOut.bind(this)})}handleInput(e){if(!this.eDateInput.isDisabled()){if(this.isApply){this.applyOnFocusOut=!e,e&&this.params.onDateChanged();return}e||this.params.onDateChanged()}}handleFocusOut(){this.applyOnFocusOut&&(this.applyOnFocusOut=!1,this.params.onDateChanged())}setParams(e){const t=this.eDateInput.getInputElement(),r=this.shouldUseBrowserDatePicker(e);this.usingSafariDatePicker=r&&Bi();const{minValidYear:n,maxValidYear:i,minValidDate:o,maxValidDate:s,buttons:a,includeTime:l,colDef:u}=e.filterParams||{},c=this.beans.dataTypeSvc,f=l??c?.getDateIncludesTimeFlag?.(u.cellDataType)??!1;if(r?f?(t.type="datetime-local",t.step="1"):t.type="date":t.type="text",o&&n&&Se(85),s&&i&&Se(86),o&&s){const[d,h]=[o,s].map(g=>g instanceof Date?g:Vr(g));d&&h&&d.getTime()>h.getTime()&&Se(87)}o?o instanceof Date?t.min=Vh(o):t.min=o:n&&(t.min=`${n}-01-01`),s?s instanceof Date?t.max=Vh(s):t.max=s:i&&(t.max=`${i}-12-31`),this.isApply=e.location==="floatingFilter"&&!!a?.includes("apply")}refresh(e){this.params=e,this.setParams(e)}getDate(){return Vr(this.eDateInput.getValue())}setDate(e){const t=this.params.filterParams.colDef.cellDataType,r=this.beans.dataTypeSvc?.getDateIncludesTimeFlag(t)??!1;this.eDateInput.setValue(Jr(e,r))}setInputPlaceholder(e){this.eDateInput.setInputPlaceholder(e)}setInputAriaLabel(e){this.eDateInput.setAriaLabel(e)}setDisabled(e){this.eDateInput.setDisabled(e)}afterGuiAttached(e){e?.suppressFocus||this.eDateInput.getInputElement().focus({preventScroll:!0})}shouldUseBrowserDatePicker(e){return e?.filterParams?.browserDatePicker??!0}},Lp=["equals","notEqual","greaterThan","greaterThanOrEqual","lessThan","lessThanOrEqual","inRange","blank","notBlank"];function lf(e){const{allowedCharPattern:t}=e??{};return t??null}function uf(e){return e==null||isNaN(e)?null:e}function JC(e,t){const{filter:r,filterTo:n,type:i}=e||{};return[uf(r),uf(n)].slice(0,xa(i,t))}var LB=class extends Pp{constructor(){super("numberFilter",JC,Lp),this.eValuesFrom=[],this.eValuesTo=[],this.filterType="number",this.defaultDebounceMs=500}setElementValue(e,t,r){const{numberFormatter:n}=this.params,i=!r&&n?n(t??null):t;super.setElementValue(e,i)}createEValue(){const e=lf(this.params),t=Pr({tag:"div",cls:"ag-filter-body",role:"presentation"});return this.createFromToElement(t,this.eValuesFrom,"from",e),this.createFromToElement(t,this.eValuesTo,"to",e),t}createFromToElement(e,t,r,n){const i=this.createManagedBean(n?new Ao({allowedCharPattern:n}):new fp);i.addCss(`ag-filter-${r}`),i.addCss("ag-filter-filter"),t.push(i),e.appendChild(i.getGui())}removeEValues(e,t){const r=n=>this.removeComponents(n,e,t);r(this.eValuesFrom),r(this.eValuesTo)}getValues(e){const t=[];return this.forEachPositionInput(e,(r,n,i,o)=>{n<o&&t.push(uf(this.stringToFloat(r.getValue())))}),t}areSimpleModelsEqual(e,t){return e.filter===t.filter&&e.filterTo===t.filterTo&&e.type===t.type}stringToFloat(e){if(typeof e=="number")return e;let t=Yn(e);t!=null&&t.trim()===""&&(t=null);const r=this.params.numberParser;return r?r(t):t==null||t.trim()==="-"?null:Number.parseFloat(t)}createCondition(e){const t=this.getConditionType(e),r={filterType:this.filterType,type:t},n=this.getValues(e);return n.length>0&&(r.filter=n[0]),n.length>1&&(r.filterTo=n[1]),r}getInputs(e){const{eValuesFrom:t,eValuesTo:r}=this;return e>=t.length?[null,null]:[t[e],r[e]]}hasInvalidInputs(){let e=!1;return this.forEachInput(t=>{t.getInputElement().validity.valid||(e=!0)}),e}},YC=class extends Bp{constructor(e,t){super(e,t,t.numberFormatter),this.filterTypeKeys=UC}conditionToString(e,t,r,n,i){const{filter:o,filterTo:s,type:a}=e,l=this.formatValue.bind(this);if(t){const u=this.conditionForToolPanel(a,r,()=>l(o),()=>l(s),n,i);if(u!=null)return u}return r?`${l(o)}-${l(s)}`:o!=null?l(o):`${a}`}},NB=class extends $C{constructor(){super(JC,Lp),this.filterType="number",this.FilterModelFormatterClass=YC}comparator(){return(e,t)=>e===t?0:e<t?1:-1}isValid(e){return!isNaN(e)}},ZC=class extends ve{constructor(e){super(),this.params=e,this.eInput=Ve,this.onValueChanged=()=>{}}setupGui(e){this.eInput=this.createManagedBean(new Ao(this.params?.config));const t=this.eInput.getGui();e.appendChild(t);const r=n=>this.onValueChanged(n);this.addManagedListeners(t,{input:r,keydown:r})}setEditable(e){this.eInput.setDisabled(!e)}getValue(){return this.eInput.getValue()}setValue(e,t){this.eInput.setValue(e,t)}setValueChangedListener(e){this.onValueChanged=e}setParams({ariaLabel:e,autoComplete:t}){const{eInput:r}=this;r.setInputAriaLabel(e),t!==void 0&&r.setAutoComplete(t)}};function cf(e){const t=e?.trim();return t===""?e:t}function XC(e,t){const{filter:r,filterTo:n,type:i}=e||{};return[r||null,n||null].slice(0,xa(i,t))}var OB={tag:"div",ref:"eFloatingFilterInputContainer",cls:"ag-floating-filter-input",role:"presentation"},QC=class extends qC{constructor(){super(...arguments),this.eFloatingFilterInputContainer=Ve,this.defaultDebounceMs=500}postConstruct(){this.setTemplate(OB)}onModelUpdated(e){this.setLastTypeFromModel(e),this.setEditable(this.canWeEditAfterModelFromParentFilter(e)),this.inputSvc.setValue(this.filterModelFormatter.getModelAsString(e))}setParams(e){this.setupFloatingFilterInputService(e),super.setParams(e),this.setTextInputParams(e)}setupFloatingFilterInputService(e){this.inputSvc=this.createFloatingFilterInputService(e),this.inputSvc.setupGui(this.eFloatingFilterInputContainer)}setTextInputParams(e){const t=e.browserAutoComplete??!1,{inputSvc:r,defaultDebounceMs:n,readOnly:i}=this;if(r.setParams({ariaLabel:this.getAriaLabel(e),autoComplete:t}),this.applyActive=Oc(e.filterParams),!i){const o=vp(e.filterParams,n),s=mr(this,this.syncUpWithParentFilter.bind(this),o);r.setValueChangedListener(s)}}updateParams(e){super.updateParams(e),this.setTextInputParams(e)}recreateFloatingFilterInputService(e){const{inputSvc:t}=this,r=t.getValue();zr(this.eFloatingFilterInputContainer),this.destroyBean(t),this.setupFloatingFilterInputService(e),t.setValue(r,!0)}syncUpWithParentFilter(e){const t=e.key===me.ENTER,r=this.reactive;if(r&&this.params.onUiChange(),this.applyActive&&!t)return;const{inputSvc:n,params:i,lastType:o}=this;let s=n.getValue();if(i.filterParams.trimInput&&(s=cf(s),n.setValue(s,!0)),r){const a=i,l=a.model,u=this.convertValue(s),c=u==null?null:{...l??{filterType:this.filterType,type:o??this.optionsFactory.defaultOption},filter:u};a.onModelChange(c,{afterFloatingFilter:!0})}else i.parentFilterInstance(a=>{a?.onFloatingFilterChanged(o||null,s||null)})}convertValue(e){return e||null}setEditable(e){this.inputSvc.setEditable(e)}},HB=class extends ve{constructor(){super(...arguments),this.onValueChanged=()=>{},this.numberInputActive=!0}setupGui(e){this.eNumberInput=this.createManagedBean(new fp),this.eTextInput=this.createManagedBean(new Ao),this.eTextInput.setDisabled(!0);const t=this.eNumberInput.getGui(),r=this.eTextInput.getGui();e.appendChild(t),e.appendChild(r),this.setupListeners(t,n=>this.onValueChanged(n)),this.setupListeners(r,n=>this.onValueChanged(n))}setEditable(e){this.numberInputActive=e,this.eNumberInput.setDisplayed(this.numberInputActive),this.eTextInput.setDisplayed(!this.numberInputActive)}setAutoComplete(e){this.eNumberInput.setAutoComplete(e),this.eTextInput.setAutoComplete(e)}getValue(){return this.getActiveInputElement().getValue()}setValue(e,t){this.getActiveInputElement().setValue(e,t)}getActiveInputElement(){return this.numberInputActive?this.eNumberInput:this.eTextInput}setValueChangedListener(e){this.onValueChanged=e}setupListeners(e,t){this.addManagedListeners(e,{input:t,keydown:t})}setParams(e){this.setAriaLabel(e.ariaLabel),e.autoComplete!==void 0&&this.setAutoComplete(e.autoComplete)}setAriaLabel(e){this.eNumberInput.setInputAriaLabel(e),this.eTextInput.setInputAriaLabel(e)}},GB=class extends QC{constructor(){super(...arguments),this.FilterModelFormatterClass=YC,this.filterType="number",this.defaultOptions=Lp}updateParams(e){lf(e.filterParams)!==this.allowedCharPattern&&this.recreateFloatingFilterInputService(e),super.updateParams(e)}createFloatingFilterInputService(e){return this.allowedCharPattern=lf(e.filterParams),this.allowedCharPattern?this.createManagedBean(new ZC({config:{allowedCharPattern:this.allowedCharPattern}})):this.createManagedBean(new HB)}convertValue(e){return e?Number(e):null}},Np=["contains","notContains","equals","notEqual","startsWith","endsWith","blank","notBlank"],jB=class extends Pp{constructor(){super("textFilter",XC,Np),this.filterType="text",this.eValuesFrom=[],this.eValuesTo=[],this.defaultDebounceMs=500}createCondition(e){const t=this.getConditionType(e),r={filterType:this.filterType,type:t},n=this.getValues(e);return n.length>0&&(r.filter=n[0]),n.length>1&&(r.filterTo=n[1]),r}areSimpleModelsEqual(e,t){return e.filter===t.filter&&e.filterTo===t.filterTo&&e.type===t.type}getInputs(e){const{eValuesFrom:t,eValuesTo:r}=this;return e>=t.length?[null,null]:[t[e],r[e]]}getValues(e){const t=[];return this.forEachPositionInput(e,(r,n,i,o)=>{n<o&&t.push(Yn(r.getValue()))}),t}createEValue(){const e=Pr({tag:"div",cls:"ag-filter-body",role:"presentation"}),{eValuesFrom:t,eValuesTo:r}=this;return this.createFromToElement(e,t,"from"),this.createFromToElement(e,r,"to"),e}createFromToElement(e,t,r){const n=this.createManagedBean(new Ao);n.addCss(`ag-filter-${r}`),n.addCss("ag-filter-filter"),t.push(n),e.appendChild(n.getGui())}removeEValues(e,t){const r=o=>this.removeComponents(o,e,t),{eValuesFrom:n,eValuesTo:i}=this;r(n),r(i)}},eF=class extends Bp{constructor(){super(...arguments),this.filterTypeKeys=AB}conditionToString(e,t,r,n,i){const{filter:o,filterTo:s,type:a}=e;if(t){const l=c=>()=>vi(this,"filterSummaryTextQuote",[c]),u=this.conditionForToolPanel(a,r,l(o),l(s),n,i);if(u!=null)return u}return r?`${o}-${s}`:o!=null?`${o}`:`${a}`}},zB=({filterOption:e,value:t,filterText:r})=>{if(r==null)return!1;switch(e){case"contains":return t.includes(r);case"notContains":return!t.includes(r);case"equals":return t===r;case"notEqual":return t!=r;case"startsWith":return t.indexOf(r)===0;case"endsWith":{const n=t.lastIndexOf(r);return n>=0&&n===t.length-r.length}default:return!1}},VB=e=>e,WB=e=>e==null?null:e.toString().toLowerCase(),$B=class extends WC{constructor(){super(XC,Np),this.filterType="text",this.FilterModelFormatterClass=eF}updateParams(e){super.updateParams(e);const t=e.filterParams;this.matcher=t.textMatcher??zB,this.formatter=t.textFormatter??(t.caseSensitive?VB:WB)}evaluateNullValue(e){return e?["notEqual","notContains","blank"].indexOf(e)>=0:!1}evaluateNonNullValue(e,t,r,n){const i=e.map(d=>this.formatter(d))||[],o=this.formatter(t),{api:s,colDef:a,column:l,context:u,filterParams:{textFormatter:c}}=this.params;if(r.type==="blank")return fc(t);if(r.type==="notBlank")return!fc(t);const f={api:s,colDef:a,column:l,context:u,node:n.node,data:n.data,filterOption:r.type,value:o,textFormatter:c};return i.some(d=>this.matcher({...f,filterText:d}))}processModelToApply(e){if(e&&this.params.filterParams.trimInput){const t=r=>{const n={...r},{filter:i,filterTo:o}=r;return i&&(n.filter=cf(i)??null),o&&(n.filterTo=cf(o)??null),n};return U1(e)?{...e,conditions:e.conditions.map(t)}:t(e)}return e}},UB=class extends QC{constructor(){super(...arguments),this.FilterModelFormatterClass=eF,this.filterType="text",this.defaultOptions=Np}createFloatingFilterInputService(){return this.createManagedBean(new ZC)}};function KB(e){return!!e.quickFilter?.isFilterPresent()}function qB(e){return e.quickFilter?.getText()}function JB(e){e.quickFilter?.resetCache()}var YB=class extends ve{constructor(){super(...arguments),this.beanName="quickFilter",this.quickFilter=null,this.quickFilterParts=null}postConstruct(){const e=this.resetCache.bind(this),t=this.gos;this.addManagedEventListeners({columnPivotModeChanged:e,newColumnsLoaded:e,columnRowGroupChanged:e,columnVisible:()=>{t.get("includeHiddenColumnsInQuickFilter")||this.resetCache()}}),this.addManagedPropertyListener("quickFilterText",r=>this.setFilter(r.currentValue)),this.addManagedPropertyListeners(["includeHiddenColumnsInQuickFilter","applyQuickFilterBeforePivotOrAgg"],()=>this.onColumnConfigChanged()),this.quickFilter=this.parseFilter(t.get("quickFilterText")),this.parser=t.get("quickFilterParser"),this.matcher=t.get("quickFilterMatcher"),this.setFilterParts(),this.addManagedPropertyListeners(["quickFilterMatcher","quickFilterParser"],()=>this.setParserAndMatcher())}refreshCols(){const{autoColSvc:e,colModel:t,gos:r,pivotResultCols:n}=this.beans,i=t.isPivotMode(),o=e?.getColumns(),s=t.getColDefCols();let a=(i&&!r.get("applyQuickFilterBeforePivotOrAgg")?n?.getPivotResultCols()?.list:s)??[];o&&(a=a.concat(o)),this.colsToUse=r.get("includeHiddenColumnsInQuickFilter")?a:a.filter(l=>l.isVisible()||l.isRowGroupActive())}isFilterPresent(){return this.quickFilter!==null}doesRowPass(e){const t=this.gos.get("cacheQuickFilter");return this.matcher?this.doesRowPassMatcher(t,e):this.quickFilterParts.every(r=>t?this.doesRowPassCache(e,r):this.doesRowPassNoCache(e,r))}resetCache(){this.beans.rowModel.forEachNode(e=>e.quickFilterAggregateText=null)}getText(){return this.gos.get("quickFilterText")}setFilterParts(){const{quickFilter:e,parser:t}=this;e?this.quickFilterParts=t?t(e):e.split(" "):this.quickFilterParts=null}parseFilter(e){return Le(e)?e.toUpperCase():null}setFilter(e){if(e!=null&&typeof e!="string"){Se(70,{newFilter:e});return}const t=this.parseFilter(e);this.quickFilter!==t&&(this.quickFilter=t,this.setFilterParts(),this.dispatchLocalEvent({type:"quickFilterChanged"}))}setParserAndMatcher(){const e=this.gos.get("quickFilterParser"),t=this.gos.get("quickFilterMatcher"),r=e!==this.parser||t!==this.matcher;this.parser=e,this.matcher=t,r&&(this.setFilterParts(),this.dispatchLocalEvent({type:"quickFilterChanged"}))}onColumnConfigChanged(){this.refreshCols(),this.resetCache(),this.isFilterPresent()&&this.dispatchLocalEvent({type:"quickFilterChanged"})}doesRowPassNoCache(e,t){return this.colsToUse.some(r=>{const n=this.getTextForColumn(r,e);return Le(n)&&n.includes(t)})}doesRowPassCache(e,t){return this.checkGenerateAggText(e),e.quickFilterAggregateText.includes(t)}doesRowPassMatcher(e,t){let r;e?(this.checkGenerateAggText(t),r=t.quickFilterAggregateText):r=this.getAggText(t);const{quickFilterParts:n,matcher:i}=this;return i(n,r)}checkGenerateAggText(e){e.quickFilterAggregateText||(e.quickFilterAggregateText=this.getAggText(e))}getTextForColumn(e,t){let r=this.beans.filterValueSvc.getValue(e,t);const n=e.getColDef();if(n.getQuickFilterText){const i=Ue(this.gos,{value:r,node:t,data:t.data,column:e,colDef:n});r=n.getQuickFilterText(i)}return Le(r)?r.toString().toUpperCase():null}getAggText(e){const t=[];for(const r of this.colsToUse){const n=this.getTextForColumn(r,e);Le(n)&&t.push(n)}return t.join(`
`)}},ZB={moduleName:"ClientSideRowModelFilter",version:Me,rowModels:["clientSide"],beans:[XI]},Op={moduleName:"FilterCore",version:Me,beans:[wB],apiFunctions:{isAnyFilterPresent:yB,onFilterChanged:vB},css:[iB],dependsOn:[ZB]},tF={moduleName:"FilterValue",version:Me,beans:[FB]},Vc={moduleName:"ColumnFilter",version:Me,beans:[bB,CB],dynamicBeans:{headerFilterCellCtrl:QI},icons:{filter:"filter",filterActive:"filter"},apiFunctions:{isColumnFilterPresent:oB,getColumnFilterInstance:sB,destroyFilter:aB,setFilterModel:lB,getFilterModel:uB,getColumnFilterModel:cB,setColumnFilterModel:dB,showColumnFilter:hB,hideColumnFilter:fB,getColumnFilterHandler:pB,doFilterAction:gB},dependsOn:[Op,zc,tF,rB]},XB={moduleName:"CustomFilter",version:Me,userComponents:{agReadOnlyFloatingFilter:xB},dependsOn:[Vc]},QB={moduleName:"TextFilter",version:Me,dependsOn:[Vc],userComponents:{agTextColumnFilter:{classImp:jB,params:{useForm:!0}},agTextColumnFloatingFilter:UB},dynamicBeans:{agTextColumnFilterHandler:$B}},eL={moduleName:"NumberFilter",version:Me,dependsOn:[Vc],userComponents:{agNumberColumnFilter:{classImp:LB,params:{useForm:!0}},agNumberColumnFloatingFilter:GB},dynamicBeans:{agNumberColumnFilterHandler:NB}},tL={moduleName:"DateFilter",version:Me,dependsOn:[Vc],userComponents:{agDateColumnFilter:{classImp:_B,params:{useForm:!0}},agDateInput:BB,agDateColumnFloatingFilter:PB},dynamicBeans:{agDateColumnFilterHandler:DB}},rL={moduleName:"QuickFilterCore",version:Me,rowModels:["clientSide"],beans:[YB],dependsOn:[Op,tF]},nL={moduleName:"QuickFilter",version:Me,apiFunctions:{isQuickFilterPresent:KB,getQuickFilter:qB,resetQuickFilter:JB},dependsOn:[rL]},iL={moduleName:"ExternalFilter",version:Me,dependsOn:[Op]},oL=".ag-tooltip{background-color:var(--ag-tooltip-background-color);border:var(--ag-tooltip-border);border-radius:var(--ag-border-radius);color:var(--ag-tooltip-text-color);padding:var(--ag-widget-container-vertical-padding) var(--ag-widget-container-horizontal-padding);position:absolute;white-space:normal;z-index:99999;&:where(.ag-cell-editor-tooltip){background-color:var(--ag-tooltip-error-background-color);border:var(--ag-tooltip-error-border);color:var(--ag-tooltip-error-text-color);font-weight:500}}.ag-tooltip-custom{position:absolute;z-index:99999}.ag-tooltip-custom:where(:not(.ag-tooltip-interactive)),.ag-tooltip:where(:not(.ag-tooltip-interactive)){pointer-events:none}.ag-tooltip-animate{transition:opacity 1s;&:where(.ag-tooltip-hiding){opacity:0}}",Ud=(e,t,r)=>{const{editModelSvc:n}=e,i=n?.getCellValidationModel()?.getCellValidation(t)?.errorMessages,o=n?.getRowValidationModel().getRowValidation(t)?.errorMessages,s=i||o;return s?.length?s.join(r("tooltipValidationErrorSeparator",". ")):void 0},sL=class extends ve{constructor(){super(...arguments),this.beanName="tooltipSvc"}setupHeaderTooltip(e,t,r,n){e&&t.destroyBean(e);const i=this.gos,o=$d(i),{column:s,eGui:a}=t,l=s.getColDef();!n&&o&&!l.headerComponent&&(n=lu(()=>a.querySelector(".ag-header-cell-text")));const u="header",f=this.beans.colNames.getDisplayNameForColumn(s,"header",!0),d=r??f,h={getGui:()=>a,getLocation:()=>u,getTooltipValue:()=>r??l?.headerTooltipValueGetter?.(Ue(i,{location:u,colDef:l,column:s,value:d,valueFormatted:f}))??l?.headerTooltip,shouldDisplayTooltip:n,getAdditionalParams:()=>({column:s,colDef:s.getColDef()})};let g=this.createTooltipFeature(h);return g&&(g=t.createBean(g),t.setRefreshFunction("tooltip",()=>g.refreshTooltip())),g}setupHeaderGroupTooltip(e,t,r,n){e&&t.destroyBean(e);const i=this.gos,o=$d(i),{column:s,eGui:a}=t,l=s.getColGroupDef();!n&&o&&!l?.headerGroupComponent&&(n=lu(()=>a.querySelector(".ag-header-group-text")));const u="headerGroup",f=this.beans.colNames.getDisplayNameForColumnGroup(s,"header"),d=r??f,h={getGui:()=>a,getLocation:()=>u,getTooltipValue:()=>r??l?.headerTooltipValueGetter?.(Ue(i,{location:u,colDef:l,column:s,value:d,valueFormatted:f}))??l?.headerTooltip,shouldDisplayTooltip:n,getAdditionalParams:()=>{const m={column:s};return l&&(m.colDef=l),m}},g=this.createTooltipFeature(h);return g&&t.createBean(g)}enableCellTooltipFeature(e,t,r){const{beans:n}=this,{gos:i,editSvc:o}=n,{column:s,rowNode:a}=e;let l="cell";const u=()=>{const h=!!!o?.isEditing(e)&&Ud(n,e,this.getLocaleTextFunc());if(h)return l="cellEditor",h;l="cell";const g=s.getColDef(),m=a.data;if(g.tooltipField&&Le(m))return oa(m,g.tooltipField,s.isTooltipFieldContainsDots());const p=g.tooltipValueGetter;return p?p(Ue(i,{location:"cell",colDef:s.getColDef(),column:s,rowIndex:e.cellPosition.rowIndex,node:a,data:a.data,value:e.value,valueFormatted:e.valueFormatted})):null},c=$d(i);r||(c&&!e.isCellRenderer()?r=()=>{const d=!!o?.isEditing(e);if(!d&&Ud(n,e,this.getLocaleTextFunc()))return!0;if(!s.isTooltipEnabled())return!1;const m=lu(()=>{const p=e.eGui;return p.children.length===0?p:p.querySelector(".ag-cell-value")});return!d&&m()}:r=()=>!o?.isEditing(e));const f={getGui:()=>e.eGui,getLocation:()=>l,getTooltipValue:t!=null?()=>t:u,shouldDisplayTooltip:r,getAdditionalParams:()=>({column:s,colDef:s.getColDef(),rowIndex:e.cellPosition.rowIndex,node:a,data:a.data,valueFormatted:e.valueFormatted})};return this.createTooltipFeature(f,n)}setupFullWidthRowTooltip(e,t,r,n){const i={getGui:()=>t.getFullWidthElement(),getTooltipValue:()=>r,getLocation:()=>"fullWidthRow",shouldDisplayTooltip:n},o=this.beans,s=o.context;e&&t.destroyBean(e,s);const a=this.createTooltipFeature(i,o);if(a)return t.createBean(a,s)}setupCellEditorTooltip(e,t){const{beans:r}=this,{context:n}=r,i=t.getValidationElement?.(!0)||!t.isPopup?.()&&e.eGui;if(!i)return;const o={getGui:()=>i,getTooltipValue:()=>Ud(r,e,this.getLocaleTextFunc()),getLocation:()=>"cellEditor",shouldDisplayTooltip:()=>{const{editModelSvc:a}=r,l=a?.getRowValidationModel()?.getRowValidationMap(),u=a?.getCellValidationModel()?.getCellValidationMap(),c=!!l&&l.size>0,f=!!u&&u.size>0;return c||f}},s=this.createTooltipFeature(o,r);if(s)return e.createBean(s,n)}initCol(e){const{colDef:t}=e;e.tooltipEnabled=Le(t.tooltipField)||Le(t.tooltipValueGetter)||Le(t.tooltipComponent)}createTooltipFeature(e,t){return this.beans.registry.createDynamicBean("tooltipFeature",!1,e,t)}},aL=class extends tD{createTooltipComp(e,t){K4(this.beans.userCompFactory,e)?.newAgStackInstance().then(t)}setEventHandlers(e){[this.onColumnMovedEventCallback]=this.addManagedEventListeners({columnMoved:e})}clearEventHandlers(){this.onColumnMovedEventCallback?.(),this.onColumnMovedEventCallback=void 0}},rF={moduleName:"Tooltip",version:Me,beans:[sL],dynamicBeans:{tooltipFeature:L1,highlightTooltipFeature:rD,tooltipStateManager:aL},userComponents:{agTooltipComponent:oD},dependsOn:[zc],css:[oL]},Vo=class{constructor(e){this.cellValueChanges=e}},Kd=class extends Vo{constructor(e,t,r,n){super(e),this.initialRange=t,this.finalRange=r,this.ranges=n}},lL=10,h0=class{constructor(e){this.actionStack=[],this.maxStackSize=e||lL,this.actionStack=new Array(this.maxStackSize)}pop(){return this.actionStack.pop()}push(e){e.cellValueChanges&&e.cellValueChanges.length>0&&(this.actionStack.length===this.maxStackSize&&this.actionStack.shift(),this.actionStack.push(e))}clear(){this.actionStack=[]}getCurrentStackSize(){return this.actionStack.length}},uL=class extends ve{constructor(){super(...arguments),this.beanName="undoRedo",this.cellValueChanges=[],this.activeCellEdit=null,this.activeRowEdit=null,this.isPasting=!1,this.isRangeInAction=!1,this.batchEditing=!1,this.bulkEditing=!1,this.onCellValueChanged=e=>{const t={column:e.column,rowIndex:e.rowIndex,rowPinned:e.rowPinned},r=this.activeCellEdit!==null&&hC(this.activeCellEdit,t),n=this.activeRowEdit!==null&&MM(this.activeRowEdit,t);if(!(r||n||this.isPasting||this.isRangeInAction))return;const{rowPinned:o,rowIndex:s,column:a,oldValue:l,value:u}=e,c={rowPinned:o,rowIndex:s,columnId:a.getColId(),newValue:u,oldValue:l};this.cellValueChanges.push(c)},this.clearStacks=()=>{this.undoStack.clear(),this.redoStack.clear()}}postConstruct(){const{gos:e,ctrlsSvc:t}=this.beans;if(!e.get("undoRedoCellEditing"))return;const r=e.get("undoRedoCellEditingLimit");if(r<=0)return;this.undoStack=new h0(r),this.redoStack=new h0(r),this.addListeners();const n=this.clearStacks.bind(this);this.addManagedEventListeners({cellValueChanged:this.onCellValueChanged.bind(this),modelUpdated:i=>{i.keepUndoRedoStack||this.clearStacks()},columnPivotModeChanged:n,newColumnsLoaded:n,columnGroupOpened:n,columnRowGroupChanged:n,columnMoved:n,columnPinned:n,columnVisible:n,rowDragEnd:n}),t.whenReady(this,i=>{this.gridBodyCtrl=i.gridBodyCtrl})}getCurrentUndoStackSize(){return this.undoStack?.getCurrentStackSize()??0}getCurrentRedoStackSize(){return this.redoStack?.getCurrentStackSize()??0}undo(e){const{eventSvc:t,undoStack:r,redoStack:n}=this;t.dispatchEvent({type:"undoStarted",source:e});const i=this.undoRedo(r,n,"initialRange","oldValue","undo");t.dispatchEvent({type:"undoEnded",source:e,operationPerformed:i})}redo(e){const{eventSvc:t,undoStack:r,redoStack:n}=this;t.dispatchEvent({type:"redoStarted",source:e});const i=this.undoRedo(n,r,"finalRange","newValue","redo");t.dispatchEvent({type:"redoEnded",source:e,operationPerformed:i})}undoRedo(e,t,r,n,i){if(!e)return!1;const o=e.pop();return o?.cellValueChanges?(this.processAction(o,s=>s[n],i),o instanceof Kd?this.processRange(o.ranges||[o[r]]):this.processCell(o.cellValueChanges),t.push(o),!0):!1}processAction(e,t,r){for(const n of e.cellValueChanges){const{rowIndex:i,rowPinned:o,columnId:s}=n,a={rowIndex:i,rowPinned:o},l=ri(this.beans,a);l.displayed&&l.setDataValue(s,t(n),r)}}processRange(e){let t;const r=this.beans.rangeSvc;r.removeAllCellRanges(!0),e.forEach((n,i)=>{if(!n)return;const o=n.startRow,s=n.endRow;i===e.length-1&&(t={rowPinned:o.rowPinned,rowIndex:o.rowIndex,columnId:n.startColumn.getColId()},this.setLastFocusedCell(t));const a={rowStartIndex:o.rowIndex,rowStartPinned:o.rowPinned,rowEndIndex:s.rowIndex,rowEndPinned:s.rowPinned,columnStart:n.startColumn,columns:n.columns};r.addCellRange(a)})}processCell(e){const t=e[0],{rowIndex:r,rowPinned:n}=t,i={rowIndex:r,rowPinned:n},o=ri(this.beans,i),s={rowPinned:t.rowPinned,rowIndex:o.rowIndex,columnId:t.columnId};this.setLastFocusedCell(s)}setLastFocusedCell(e){const{rowIndex:t,columnId:r,rowPinned:n}=e,{colModel:i,focusSvc:o,rangeSvc:s}=this.beans,a=i.getCol(r);if(!a)return;const{scrollFeature:l}=this.gridBodyCtrl;l.ensureIndexVisible(t),l.ensureColumnVisible(a);const u={rowIndex:t,column:a,rowPinned:n};o.setFocusedCell({...u,forceBrowserFocus:!0}),s?.setRangeToCell(u)}addListeners(){this.addManagedEventListeners({rowEditingStarted:e=>{this.activeRowEdit={rowIndex:e.rowIndex,rowPinned:e.rowPinned}},rowEditingStopped:()=>{const e=new Vo(this.cellValueChanges);this.pushActionsToUndoStack(e),this.activeRowEdit=null},cellEditingStarted:e=>{this.activeCellEdit={column:e.column,rowIndex:e.rowIndex,rowPinned:e.rowPinned}},cellEditingStopped:e=>{if(this.activeCellEdit=null,e.valueChanged&&!this.activeRowEdit&&!this.isPasting&&!this.isRangeInAction){const r=new Vo(this.cellValueChanges);this.pushActionsToUndoStack(r)}},pasteStart:()=>{this.isPasting=!0},pasteEnd:()=>{const e=new Vo(this.cellValueChanges);this.pushActionsToUndoStack(e),this.isPasting=!1},fillStart:()=>{this.isRangeInAction=!0},fillEnd:e=>{const t=new Kd(this.cellValueChanges,e.initialRange,e.finalRange);this.pushActionsToUndoStack(t),this.isRangeInAction=!1},keyShortcutChangedCellStart:()=>{this.isRangeInAction=!0},keyShortcutChangedCellEnd:()=>{let e;const{rangeSvc:t,gos:r}=this.beans;t&&_i(r)?e=new Kd(this.cellValueChanges,void 0,void 0,[...t.getCellRanges()]):e=new Vo(this.cellValueChanges),this.pushActionsToUndoStack(e),this.isRangeInAction=!1},batchEditingStarted:()=>this.startBigChange("batchEditing"),batchEditingStopped:({changes:e})=>this.stopBigChange("batchEditing",e),bulkEditingStarted:()=>this.startBigChange("bulkEditing"),bulkEditingStopped:({changes:e})=>this.stopBigChange("bulkEditing",e)})}startBigChange(e){this.updateBigChange(e,!0)}updateBigChange(e,t){e==="bulkEditing"?this.bulkEditing=t:this.batchEditing=t}stopBigChange(e,t){if(e==="bulkEditing"&&!this.bulkEditing||e==="batchEditing"&&!this.batchEditing||(this.updateBigChange(e,!1),t?.length===0))return;const r=new Vo(t??[]);this.pushActionsToUndoStack(r),this.cellValueChanges=[]}pushActionsToUndoStack(e){this.undoStack.push(e),this.cellValueChanges=[],this.redoStack.clear()}},cL=".ag-cell-inline-editing{border:var(--ag-cell-editing-border)!important;border-radius:var(--ag-border-radius);box-shadow:var(--ag-cell-editing-shadow);padding:0;z-index:1;.ag-cell-edit-wrapper,.ag-cell-editor,.ag-cell-wrapper,:where(.ag-cell-editor) .ag-input-field-input,:where(.ag-cell-editor) .ag-wrapper{height:100%;line-height:normal;min-height:100%;width:100%}&.ag-cell-editing-error{border-color:var(--ag-invalid-color)!important}}:where(.ag-popup-editor) .ag-large-text{background-color:var(--ag-background-color);border-radius:var(--ag-border-radius);box-shadow:var(--ag-dropdown-shadow);padding:0}.ag-large-text-input{display:block;height:auto;padding:var(--ag-cell-horizontal-padding)}:where(.ag-rtl .ag-large-text-input) textarea{resize:none}:where(.ag-ltr) .ag-checkbox-edit{padding-left:var(--ag-cell-horizontal-padding)}:where(.ag-rtl) .ag-checkbox-edit{padding-right:var(--ag-cell-horizontal-padding)}:where(.ag-row.ag-row-editing-invalid .ag-cell-inline-editing){opacity:.8}.ag-popup-editor{position:absolute;-webkit-user-select:none;-moz-user-select:none;user-select:none}",dL={tag:"div",cls:"ag-cell-wrapper ag-cell-edit-wrapper ag-checkbox-edit",children:[{tag:"ag-checkbox",ref:"eEditor",role:"presentation"}]},hL=class extends Gc{constructor(){super(dL,[hp]),this.eEditor=Ve}initialiseEditor(e){const t=e.value??void 0,r=this.eEditor;r.setValue(t),r.getInputElement().setAttribute("tabindex","-1"),this.setAriaLabel(t),this.addManagedListeners(r,{fieldValueChanged:i=>this.setAriaLabel(i.selected)})}getValue(){return this.eEditor.getValue()}focusIn(){this.eEditor.getFocusableElement().focus()}afterGuiAttached(){this.params.cellStartedEdit&&this.focusIn()}isPopup(){return!1}setAriaLabel(e){const t=this.getLocaleTextFunc(),r=Ic(t,e),n=t("ariaToggleCellValue","Press SPACE to toggle cell value");this.eEditor.setInputAriaLabel(`${n} (${r})`)}getValidationElement(e){return e?this.params.eGridCell:this.eEditor.getInputElement()}getValidationErrors(){const{params:e}=this,{getValidationErrors:t}=e,r=this.getValue();return t?t({value:r,internalErrors:null,cellEditorParams:e}):null}},Wc=class extends Gc{constructor(e){super(),this.cellEditorInput=e,this.eEditor=Ve}initialiseEditor(e){const{cellEditorInput:t}=this;this.setTemplate({tag:"div",cls:"ag-cell-edit-wrapper",children:[t.getTemplate()]},t.getAgComponents());const{eEditor:r}=this,{cellStartedEdit:n,eventKey:i,suppressPreventDefault:o}=e;r.getInputElement().setAttribute("title",""),t.init(r,e);let s,a=!0;n?(this.focusAfterAttached=!0,i===me.BACKSPACE||i===me.DELETE?s="":i&&i.length===1?o?a=!1:s=i:(s=t.getStartValue(),i!==me.F2&&(this.highlightAllOnFocus=!0))):(this.focusAfterAttached=!1,s=t.getStartValue()),a&&s!=null&&r.setStartValue(s),this.addGuiEventListener("keydown",l=>{const{key:u}=l;(u===me.PAGE_UP||u===me.PAGE_DOWN)&&l.preventDefault()})}afterGuiAttached(){const e=this.getLocaleTextFunc(),t=this.eEditor;if(t.setInputAriaLabel(e("ariaInputEditor","Input Editor")),!this.focusAfterAttached)return;Bi()||t.getFocusableElement().focus();const r=t.getInputElement();this.highlightAllOnFocus?r.select():this.cellEditorInput.setCaret?.()}focusIn(){const{eEditor:e}=this,t=e.getFocusableElement(),r=e.getInputElement();t.focus(),r.select()}getValue(){return this.cellEditorInput.getValue()}isPopup(){return!1}getValidationElement(){return this.eEditor.getInputElement()}getValidationErrors(){return this.cellEditorInput.getValidationErrors()}},fL={tag:"ag-input-date-field",ref:"eEditor",cls:"ag-cell-editor"},pL=class{constructor(e,t){this.getDataTypeService=e,this.getLocaleTextFunc=t}getTemplate(){return fL}getAgComponents(){return[R1]}init(e,t){this.eEditor=e,this.params=t;const{min:r,max:n,step:i,colDef:o}=t;r!=null&&e.setMin(r),n!=null&&e.setMax(n),i!=null&&e.setStep(i),this.includeTime=t.includeTime??this.getDataTypeService()?.getDateIncludesTimeFlag?.(o.cellDataType),this.includeTime!=null&&e.setIncludeTime(this.includeTime)}getValidationErrors(){const t=this.eEditor.getInputElement().valueAsDate,{params:r}=this,{min:n,max:i,getValidationErrors:o}=r;let s=[];const a=this.getLocaleTextFunc();if(t instanceof Date&&!isNaN(t.getTime())){if(n){const l=n instanceof Date?n:new Date(n);if(t<l){const u=l.toLocaleDateString();s.push(a("minDateValidation",`Date must be after ${u}`,[u]))}}if(i){const l=i instanceof Date?i:new Date(i);if(t>l){const u=l.toLocaleDateString();s.push(a("maxDateValidation",`Date must be before ${u}`,[u]))}}}return s.length||(s=null),o?o({value:t,cellEditorParams:r,internalErrors:s}):s}getValue(){const{eEditor:e,params:t}=this,r=e.getDate();return!Le(r)&&!Le(t.value)?t.value:r??null}getStartValue(){const{value:e}=this.params;if(e instanceof Date)return Jr(e,this.includeTime??!1)}},gL=class extends Wc{constructor(){super(new pL(()=>this.beans.dataTypeSvc,()=>this.getLocaleTextFunc()))}},mL={tag:"ag-input-date-field",ref:"eEditor",cls:"ag-cell-editor"},bL=class{constructor(e,t){this.getDataTypeService=e,this.getLocaleTextFunc=t}getTemplate(){return mL}getAgComponents(){return[R1]}init(e,t){this.eEditor=e,this.params=t;const{min:r,max:n,step:i,colDef:o}=t;r!=null&&e.setMin(r),n!=null&&e.setMax(n),i!=null&&e.setStep(i),this.includeTime=t.includeTime??this.getDataTypeService()?.getDateIncludesTimeFlag?.(o.cellDataType),this.includeTime!=null&&e.setIncludeTime(this.includeTime)}getValidationErrors(){const{eEditor:e,params:t}=this,r=e.getInputElement().value,n=this.formatDate(this.parseDate(r??void 0)),{min:i,max:o,getValidationErrors:s}=t;let a=[];if(n){const l=new Date(n),u=this.getLocaleTextFunc();if(i){const c=new Date(i);if(l<c){const f=c.toLocaleDateString();a.push(u("minDateValidation",`Date must be after ${f}`,[f]))}}if(o){const c=new Date(o);if(l>c){const f=c.toLocaleDateString();a.push(u("maxDateValidation",`Date must be before ${f}`,[f]))}}}return a.length||(a=null),s?s({value:this.getValue(),cellEditorParams:t,internalErrors:a}):a}getValue(){const{params:e,eEditor:t}=this,r=this.formatDate(t.getDate());return!Le(r)&&!Le(e.value)?e.value:e.parseValue(r??"")}getStartValue(){return Jr(this.parseDate(this.params.value??void 0)??null,this.includeTime??!1)}parseDate(e){const t=this.getDataTypeService();return t?t.getDateParserFunction(this.params.column)(e):Vr(e)??void 0}formatDate(e){const t=this.getDataTypeService();return t?t.getDateFormatterFunction(this.params.column)(e):Jr(e??null,this.includeTime??!1)??void 0}},yL=class extends Wc{constructor(){super(new bL(()=>this.beans.dataTypeSvc,()=>this.getLocaleTextFunc()))}},vL={tag:"div",cls:"ag-large-text",children:[{tag:"ag-input-text-area",ref:"eEditor",cls:"ag-large-text-input"}]},wL=class extends Gc{constructor(){super(vL,[dT]),this.eEditor=Ve}initialiseEditor(e){const{eEditor:t}=this,{cellStartedEdit:r,eventKey:n,maxLength:i,cols:o,rows:s}=e;this.focusAfterAttached=r,t.getInputElement().setAttribute("title",""),t.setMaxLength(i||200).setCols(o||60).setRows(s||10);let a;r?(this.focusAfterAttached=!0,n===me.BACKSPACE||n===me.DELETE?a="":n&&n.length===1?a=n:(a=this.getStartValue(e),n!==me.F2&&(this.highlightAllOnFocus=!0))):(this.focusAfterAttached=!1,a=this.getStartValue(e)),a!=null&&t.setValue(a,!0),this.addGuiEventListener("keydown",this.onKeyDown.bind(this)),this.activateTabIndex()}getStartValue(e){const{value:t}=e;return t?.toString()??t}onKeyDown(e){const t=e.key;(t===me.LEFT||t===me.UP||t===me.RIGHT||t===me.DOWN||e.shiftKey&&t===me.ENTER)&&e.stopPropagation()}afterGuiAttached(){const{eEditor:e,focusAfterAttached:t,highlightAllOnFocus:r}=this,n=this.getLocaleTextFunc();e.setInputAriaLabel(n("ariaInputEditor","Input Editor")),t&&(e.getFocusableElement().focus(),r&&e.getInputElement().select())}getValue(){const{eEditor:e,params:t}=this,{value:r}=t,n=e.getValue();return!Le(n)&&!Le(r)?r:t.parseValue(n)}getValidationElement(){return this.eEditor.getInputElement()}getValidationErrors(){const{params:e}=this,{maxLength:t,getValidationErrors:r}=e,n=this.getLocaleTextFunc(),i=this.getValue();let o=[];return typeof i=="string"&&t!=null&&i.length>t&&o.push(n("maxLengthValidation",`Must be ${t} characters or fewer.`,[String(t)])),o.length||(o=null),r?r({value:i,internalErrors:o,cellEditorParams:e}):o}},CL={tag:"ag-input-number-field",ref:"eEditor",cls:"ag-cell-editor"},FL=class{constructor(e){this.getLocaleTextFunc=e}getTemplate(){return CL}getAgComponents(){return[hT]}init(e,t){this.eEditor=e,this.params=t;const{max:r,min:n,precision:i,step:o}=t;r!=null&&e.setMax(r),n!=null&&e.setMin(n),i!=null&&e.setPrecision(i),o!=null&&e.setStep(o);const s=e.getInputElement();t.preventStepping?e.addManagedElementListeners(s,{keydown:this.preventStepping}):t.showStepperButtons&&s.classList.add("ag-number-field-input-stepper")}getValidationErrors(){const{params:e}=this,{min:t,max:r,getValidationErrors:n}=e,o=this.eEditor.getInputElement().valueAsNumber,s=this.getLocaleTextFunc();let a=[];return typeof o=="number"&&(t!=null&&o<t&&a.push(s("minValueValidation",`Must be greater than or equal to ${t}.`,[String(t)])),r!=null&&o>r&&a.push(s("maxValueValidation",`Must be less than or equal to ${r}.`,[String(r)]))),a.length||(a=null),n?n({value:o,cellEditorParams:e,internalErrors:a}):a}preventStepping(e){(e.key===me.UP||e.key===me.DOWN)&&e.preventDefault()}getValue(){const{eEditor:e,params:t}=this,r=e.getValue();if(!Le(r)&&!Le(t.value))return t.value;let n=t.parseValue(r);if(n==null)return n;if(typeof n=="string"){if(n==="")return null;n=Number(n)}return isNaN(n)?null:n}getStartValue(){return this.params.value}setCaret(){Bi()&&this.eEditor.getInputElement().focus({preventScroll:!0})}},SL=class extends Wc{constructor(){super(new FL(()=>this.getLocaleTextFunc()))}},xL={tag:"div",cls:"ag-cell-edit-wrapper",children:[{tag:"ag-select",ref:"eEditor",cls:"ag-cell-editor"}]},kL=class extends Gc{constructor(){super(xL,[ST]),this.eEditor=Ve,this.startedByEnter=!1}wireBeans(e){this.valueSvc=e.valueSvc}initialiseEditor(e){this.focusAfterAttached=e.cellStartedEdit;const{eEditor:t,valueSvc:r,gos:n}=this,{values:i,value:o,eventKey:s}=e;if($t(i)){Se(58);return}this.startedByEnter=s!=null?s===me.ENTER:!1;let a=!1;i.forEach(f=>{const d={value:f},h=r.formatValue(e.column,null,f),g=h!=null;d.text=g?h:f,t.addOption(d),a=a||o===f}),a?t.setValue(e.value,!0):e.values.length&&t.setValue(e.values[0],!0);const{valueListGap:l,valueListMaxWidth:u,valueListMaxHeight:c}=e;l!=null&&t.setPickerGap(l),c!=null&&t.setPickerMaxHeight(c),u!=null&&t.setPickerMaxWidth(u),n.get("editType")!=="fullRow"&&this.addManagedListeners(this.eEditor,{selectedItem:()=>e.stopEditing()})}afterGuiAttached(){this.focusAfterAttached&&this.eEditor.getFocusableElement().focus(),this.startedByEnter&&setTimeout(()=>{this.isAlive()&&this.eEditor.showPicker()})}focusIn(){this.eEditor.getFocusableElement().focus()}getValue(){return this.eEditor.getValue()}isPopup(){return!1}getValidationElement(){return this.eEditor.getAriaElement()}getValidationErrors(){const{params:e}=this,{values:t,getValidationErrors:r}=e,n=this.getValue();let i=[];if(t&&!t.includes(n)){const o=this.getLocaleTextFunc();i.push(o("invalidSelectionValidation","Invalid selection."))}else i=null;return r?r({value:n,internalErrors:i,cellEditorParams:e}):i}},EL={tag:"ag-input-text-field",ref:"eEditor",cls:"ag-cell-editor"},RL=class{constructor(e){this.getLocaleTextFunc=e}getTemplate(){return EL}getAgComponents(){return[Lc]}init(e,t){this.eEditor=e,this.params=t;const r=t.maxLength;r!=null&&e.setMaxLength(r)}getValidationErrors(){const{params:e}=this,{maxLength:t,getValidationErrors:r}=e,n=this.getValue(),i=this.getLocaleTextFunc();let o=[];return t!=null&&typeof n=="string"&&n.length>t&&o.push(i("maxLengthValidation",`Must be ${t} characters or fewer.`,[String(t)])),o.length||(o=null),r?r({value:n,cellEditorParams:e,internalErrors:o}):o}getValue(){const{eEditor:e,params:t}=this,r=e.getValue();return!Le(r)&&!Le(t.value)?t.value:t.parseValue(r)}getStartValue(){const e=this.params;return e.useFormatter||e.column.getColDef().refData?e.formatValue(e.value):e.value}setCaret(){Bi()&&this.eEditor.getInputElement().focus({preventScroll:!0});const e=this.eEditor,t=e.getValue(),r=Le(t)&&t.length||0;r&&e.getInputElement().setSelectionRange(r,r)}},f0=class extends Wc{constructor(){super(new RL(()=>this.getLocaleTextFunc()))}};function _L(e){return e.ctrlsSvc.getScrollFeature().getVScrollPosition()}function AL(e){return e.ctrlsSvc.getScrollFeature().getHScrollPosition()}function nF(e,t,r="auto"){e.frameworkOverrides.wrapIncoming(()=>e.ctrlsSvc.getScrollFeature().ensureColumnVisible(t,r),"ensureVisible")}function iF(e,t,r){e.frameworkOverrides.wrapIncoming(()=>e.ctrlsSvc.getScrollFeature().ensureIndexVisible(t,r),"ensureVisible")}function TL(e,t,r=null){e.frameworkOverrides.wrapIncoming(()=>e.ctrlsSvc.getScrollFeature().ensureNodeVisible(t,r),"ensureVisible")}function DL(e){e.undoRedo?.undo("api")}function ML(e){e.undoRedo?.redo("api")}function PL(e,t){return e.editModelSvc?.getEditRowDataValue(t,{checkSiblings:!0})}function IL(e){const t=e.editModelSvc?.getEditMap(),r=[];return t?.forEach((n,i)=>{const{rowIndex:o,rowPinned:s}=i;n.forEach((a,l)=>{const{editorValue:u,pendingValue:c,sourceValue:f,state:d}=a,h=Kn(a);let g=u??c;g===un&&(g=void 0);const m={newValue:g,oldValue:f,state:d,column:l,colId:l.getColId(),colKey:l.getColId(),rowIndex:o,rowPinned:s};(d==="editing"||d==="changed"&&h)&&r.push(m)})}),r}function BL(e,t=!1){const{editSvc:r}=e;if(r?.isBatchEditing()){if(t)for(const n of e.editModelSvc?.getEditPositions()??[])n.state==="editing"&&r.revertSingleCellEdit(n);else to(e,{persist:!0});ds(e,void 0,{cancel:t})}else r?.stopEditing(void 0,{cancel:t,source:"edit",forceStop:!t,forceCancel:t})}function LL(e,t){const r=Wt(e,t);return e.editSvc?.isEditing(r)??!1}function NL(e,t){const{key:r,colKey:n,rowIndex:i,rowPinned:o}=t,{editSvc:s,colModel:a}=e,l=a.getCol(n);if(!l){Se(12,{colKey:n});return}const c=ri(e,{rowIndex:i,rowPinned:o||null});if(!c){Se(290,{rowIndex:i,rowPinned:o});return}if(!l.isCellEditable(c))return;o==null&&iF(e,i),nF(e,n),s?.startEditing({rowNode:c,column:l},{event:r?new KeyboardEvent("keydown",{key:r}):void 0,source:"api"})}function OL(e){return e.editSvc?.validateEdit()||null}function HL(e){return e.undoRedo?.getCurrentUndoStackSize()??0}function GL(e){return e.undoRedo?.getCurrentRedoStackSize()??0}var jL={tag:"div",cls:"ag-popup-editor",attrs:{tabindex:"-1"}},zL=class extends up{constructor(e){super(jL),this.params=e}postConstruct(){yo(this.gos,this.getGui(),"popupEditorWrapper",!0),this.addKeyDownListener()}addKeyDownListener(){const e=this.getGui(),t=this.params,r=n=>{Yh(this.gos,n,t.node,t.column,!0)||t.onKeyDown(n)};this.addManagedElementListeners(e,{keydown:r})}};function VL(e,{column:t},r,n,i="ui"){if(r instanceof KeyboardEvent&&(r.key===me.TAB||r.key===me.ENTER||r.key===me.F2||r.key===me.BACKSPACE&&n))return!0;if(r?.shiftKey&&e.rangeSvc?.getCellRanges().length!=0)return!1;const s=t?.getColDef(),a=WL(e.gos,s),l=r?.type;return l==="click"&&r?.detail===1&&a===1||l==="dblclick"&&r?.detail===2&&a===2?!0:i==="api"?n??!1:!1}function WL(e,t){return e.get("suppressClickEdit")===!0?0:e.get("singleClickEdit")===!0||t?.singleClickEdit?1:2}function df(e,{rowNode:t,column:r},n="ui"){const i=r.getColDef().editable,o=e.editModelSvc;return r.isColumnFunc(t,i)||!!o&&o.hasEdits({rowNode:t,column:r},{withOpenEditor:!0})}function $L(e,t,r="ui"){const n=df(e,t,r);return n===!0||r==="ui"?n:e.colModel.getCols().some(o=>df(e,{rowNode:t.rowNode,column:o},r))}var pc=(e,t=!1)=>{if(e!==void 0)return Kn(e)||t&&e.state==="editing"};function oF(e,t,r=!1){return pc(e.editModelSvc?.getEdit(t),r)}var sF=(e,t,r)=>{if(e)for(let n=0,i=e.length;n<i;++n){const o=e[n];if(o.data&&(pc(t?.getEdit({rowNode:o,column:r}))||pc(t?.getEdit({rowNode:o.pinnedSibling,column:r})))||sF(o.childrenAfterGroup,t,r))return!0}};function aF(e,t){const{column:r,rowNode:n}=t;return e.gos.get("groupTotalRow")&&!n?.footer?!1:sF(n?.childrenAfterGroup,e.editModelSvc,r)}function lF(e,{rowNode:t,column:r}){if(t=t.pinnedSibling,!!t)return pc(e.editModelSvc?.getEdit({rowNode:t,column:r}))}var UL=class extends ve{constructor(e,t){super(),this.cellCtrl=e,this.beans=t,this.editSvc=t.editSvc,this.editModelSvc=t.editModelSvc}setComp(e){this.cellComp=e,this.applyCellStyles()}applyCellStyles(){const{cellCtrl:e,editSvc:t,beans:r}=this;if(t?.isBatchEditing()&&t.isEditing()){const i=oF(r,e)||aF(r,e)||lF(r,e);this.applyBatchingStyle(i)}else this.applyBatchingStyle(!1);const n=!!this.editModelSvc?.getCellValidationModel().hasCellValidation(this.cellCtrl);this.cellComp.toggleCss("ag-cell-editing-error",n)}applyBatchingStyle(e){this.cellComp.toggleCss("ag-cell-editing",e??!1),this.cellComp.toggleCss("ag-cell-batch-edit",(e&&this.editSvc?.isBatchEditing())??!1)}},KL=class extends ve{constructor(e,t){super(),this.rowCtrl=e,this.beans=t,this.gos=t.gos,this.editSvc=t.editSvc,this.editModelSvc=t.editModelSvc}applyRowStyles(){const{rowCtrl:e,editModelSvc:t,beans:r}=this;let n=e.rowNode,i=t?.getEditRow(n);const o=this.editModelSvc?.getRowValidationModel().hasRowValidation({rowNode:n});if(!i&&n.pinnedSibling&&(n=n.pinnedSibling,i=t?.getEditRow(n)),i){const s=Array.from(i.keys()).some(a=>{const l={rowNode:n,column:a};return oF(r,l,!0)||aF(r,l)||lF(r,l)});this.applyStyle(o,s);return}this.applyStyle(o)}applyStyle(e=!1,t=!1){const r=this.editSvc?.isBatchEditing()??!1,n=this.gos.get("editType")==="fullRow";this.rowCtrl?.forEachGui(void 0,({rowComp:i})=>{i.toggleCss("ag-row-editing",n&&t),i.toggleCss("ag-row-batch-edit",n&&t&&r),i.toggleCss("ag-row-inline-editing",t),i.toggleCss("ag-row-not-inline-editing",!t),i.toggleCss("ag-row-editing-invalid",n&&t&&e)})}},qL=({rowModel:e,pinnedRowModel:t,editModelSvc:r},n)=>{const i=new Set;e.forEachNode(o=>n.has(o)&&i.add(o)),t?.forEachPinnedRow("top",o=>n.has(o)&&i.add(o)),t?.forEachPinnedRow("bottom",o=>n.has(o)&&i.add(o));for(const o of n)i.has(o)||r.removeEdits({rowNode:o});return i},JL=({editModelSvc:e},t,r)=>{for(const n of t)e?.getEditRow(n)?.forEach((i,o)=>!r.has(o)&&e.removeEdits({rowNode:n,column:o}))},YL=e=>()=>{const t=new Set(e.colModel.getCols()),r=e.editModelSvc.getEditMap(!0),n=new Set(r.keys());JL(e,qL(e,n),t)},ZL=new Set(["undo","redo","paste","bulk","rangeSvc"]),XL=new Set(["ui","api"]),uF={paste:"api",rangeSvc:"api",fillHandle:"api",cellClear:"api",bulk:"api"},QL=new Set(Object.keys(uF)),eN=new Set(["paste","rangeSvc","renderer","cellClear","redo","undo"]),bl={cancel:!0,source:"api"},tN={cancel:!1,source:"api"},Ho={checkSiblings:!0},Os={force:!0,suppressFlash:!0},rN=class extends ve{constructor(){super(...arguments),this.beanName="editSvc",this.batch=!1,this.stopping=!1,this.committing=!1}postConstruct(){const{beans:e}=this;this.model=e.editModelSvc,this.valueSvc=e.valueSvc,this.rangeSvc=e.rangeSvc,this.addManagedPropertyListener("editType",({currentValue:n})=>{this.stopEditing(void 0,bl),this.createStrategy(n)});const t=YL(e),r=()=>{const n=this.model.getCellValidationModel().getCellValidationMap().size>0,i=this.model.getRowValidationModel().getRowValidationMap().size>0;return n||i?this.stopEditing(void 0,bl):this.isEditing()&&(this.isBatchEditing()?ds(e,this.model.getEditPositions()):this.stopEditing(void 0,tN)),!1};this.addManagedEventListeners({columnPinned:t,columnVisible:t,columnRowGroupChanged:t,rowExpansionStateChanged:t,pinnedRowsChanged:t,displayedRowsChanged:t,sortChanged:r,filterChanged:r,cellFocused:this.onCellFocused.bind(this)})}isBatchEditing(){return this.batch}setBatchEditing(e){e?(this.batch=!0,this.stopEditing(void 0,bl)):(this.stopEditing(void 0,bl),this.batch=!1)}createStrategy(e){const{beans:t,gos:r,strategy:n}=this,i=p0(r,e);if(n){if(n.beanName===i)return n;this.destroyStrategy()}return this.strategy=this.createOptionalManagedBean(t.registry.createDynamicBean(i,!0))}destroyStrategy(){this.strategy&&(this.strategy.destroy(),this.strategy=this.destroyBean(this.strategy))}shouldStartEditing(e,t,r,n="ui"){const i=VL(this.beans,e,t,r,n);return i&&(this.strategy??(this.strategy=this.createStrategy())),i}shouldStopEditing(e,t,r="ui"){return this.strategy?.shouldStop(e,t,r)??null}shouldCancelEditing(e,t,r="ui"){return this.strategy?.shouldCancel(e,t,r)??null}validateEdit(){return b9(this.beans)}isEditing(e,t){return this.model.hasEdits(e,t??Ho)}isRowEditing(e,t){return(e&&this.model.hasRowEdits(e,t))??!1}startEditing(e,t){const{startedEdit:r=!0,event:n=null,source:i="ui",ignoreEventKey:o=!1,silent:s}=t;if(this.strategy??(this.strategy=this.createStrategy()),!this.isCellEditable(e,"api"))return;const a=Wt(this.beans,e);if(a&&!a.comp){a.onCompAttachedFuncs.push(()=>this.startEditing(e,t));return}const l=this.shouldStartEditing(e,n,r,i);if(l===!1&&i!=="api"){this.isEditing(e)&&this.stopEditing();return}!this.batch&&this.shouldStopEditing(e,void 0,i)&&!t.continueEditing&&this.stopEditing(void 0,{source:i}),l&&this.isBatchEditing()&&this.dispatchBatchEvent("batchEditingStarted",new Map),this.strategy.start({position:e,event:n,source:i,ignoreEventKey:o,startedEdit:r,silent:s})}stopEditing(e,t){const{event:r,cancel:n,source:i="ui",forceCancel:o,forceStop:s}=t||{},{beans:a,model:l}=this;if(QL.has(i)&&this.isBatchEditing())return this.bulkRefresh(e),!1;const u=this.committing?uF[i]:i;if(!(this.committing||this.isEditing(e)||this.isBatchEditing()&&l.hasEdits(e,Ho))||!this.strategy||this.stopping)return!1;this.stopping=!0;const f=Wt(a,e);f&&(f.onEditorAttachedFuncs=[]);let d=l.getEditMap(!0),h=!1;const g=!n&&(!!this.shouldStopEditing(e,r,u)||this.committing&&!this.batch)||(s??!1),m=n&&!!this.shouldCancelEditing(e,r,u)||(o??!1);if(g||m){to(a,{persist:!0,isCancelling:m||n,isStopping:g});const p=l.getEditMap(),y=this.processEdits(p,n,i);this.strategy?.stop(n,r);for(const b of y)l.clearEditValue(b);this.bulkRefresh(void 0,d);for(const b of l.getEditPositions(p)){const v=Wt(a,b),F=Kn(b);v?.refreshCell({force:!0,suppressFlash:!F})}d=p,h||(h=g)}else if(r instanceof KeyboardEvent&&this.batch&&this.strategy?.midBatchInputsAllowed(e)&&this.isEditing(e,{withOpenEditor:!0})){const{key:p}=r,y=p===me.ENTER,b=p===me.ESCAPE,v=p===me.TAB;(y||v||b)&&(y||v?to(a,{persist:!0}):b&&this.revertSingleCellEdit(f),this.isBatchEditing()?this.strategy?.cleanupEditors():ds(a,l.getEditPositions(),{event:r,cancel:b}),r.preventDefault(),this.bulkRefresh(e,d,{suppressFlash:!0}),d=l.getEditMap())}else to(a,{persist:!0}),d=l.getEditMap();return h&&e&&this.model.removeEdits(e),this.navigateAfterEdit(t,f?.cellPosition),of(a),this.model.hasEdits()||(this.model.getCellValidationModel().clearCellValidationMap(),this.model.getRowValidationModel().clearRowValidationMap()),this.bulkRefresh(),m&&this.beans.rowRenderer.refreshRows({rowNodes:Array.from(d.keys())}),this.isBatchEditing()&&(this.beans.rowRenderer.refreshRows({suppressFlash:!0,force:!0}),h&&g&&this.dispatchBatchEvent("batchEditingStopped",d)),this.stopping=!1,h}navigateAfterEdit(e,t){if(!e||!t)return;const{event:r,suppressNavigateAfterEdit:n}=e;if(!(r instanceof KeyboardEvent)||n)return;const{key:o,shiftKey:s}=r,a=this.gos.get("enterNavigatesVerticallyAfterEdit");if(o!==me.ENTER||!a)return;const l=s?me.UP:me.DOWN;this.beans.navigation?.navigateToNextCell(null,l,t,!1)}processEdits(e,t=!1,r){const n=Array.from(e.keys()),i=this.model.getCellValidationModel().getCellValidationMap().size>0||this.model.getRowValidationModel().getRowValidationMap().size>0,o=[];for(const s of n){const a=e.get(s);for(const l of a.keys()){const u=a.get(l),c={rowNode:s,column:l},f=Kn(u);!t&&f&&!i&&(this.setNodeDataValue(s,l,u.pendingValue,void 0,r)||o.push(c))}}return o}setNodeDataValue(e,t,r,n,i="edit"){const{beans:o}=this,s=Wt(o,{rowNode:e,column:t}),a=XL.has(i)?"edit":i;s&&(s.suppressRefreshCell=!0),this.commitNextEdit();const l=e.setDataValue(t,r,a);return s&&(s.suppressRefreshCell=!1),n&&s?.refreshCell(Os),l}setEditMap(e,t){this.strategy??(this.strategy=this.createStrategy()),this.strategy?.setEditMap(e,t),this.bulkRefresh();let r=Os;t?.forceRefreshOfEditCellsOnly&&(r={...nN(e),...Os}),this.beans.rowRenderer.refreshCells(r)}dispatchEditValuesChanged({rowNode:e,column:t},r={}){if(!e||!t||!r)return;const{pendingValue:n,sourceValue:i}=r,{rowIndex:o,rowPinned:s,data:a}=e;this.beans.eventSvc.dispatchEvent({type:"cellEditValuesChanged",node:e,rowIndex:o,rowPinned:s,column:t,source:"api",data:a,newValue:n,oldValue:i,value:n,colDef:t.getColDef()})}bulkRefresh(e={},t,r={}){const{beans:n,gos:i}=this,{editModelSvc:o,rowModel:s}=n;er(i)&&(e.rowNode&&e.column?this.refCell(e,this.model.getEdit(e),r):t&&o?.getEditMap(!1)?.forEach((a,l)=>{for(const u of a.keys())this.refCell({rowNode:l,column:u},a.get(u),r)}))}refCell({rowNode:e,column:t},r,n={}){const{beans:i,gos:o}=this,s=new Set([e]),a=new Set,l=e.pinnedSibling;l&&s.add(l);const u=e.sibling;u&&a.add(u);let c=e.parent;for(;c;)c.sibling?.footer&&o.get("groupTotalRow")||!c.parent&&c.sibling&&o.get("grandTotalRow")?a.add(c.sibling):a.add(c),c=c.parent;for(const f of s)this.dispatchEditValuesChanged({rowNode:f,column:t},r);for(const f of s)Wt(i,{rowNode:f,column:t})?.refreshCell(n);for(const f of a)Wt(i,{rowNode:f,column:t})?.refreshCell(n)}stopAllEditing(e=!1,t="ui"){this.isEditing()&&this.stopEditing(void 0,{cancel:e,source:t})}isCellEditable(e,t="ui"){const{rowNode:r}=e,{gos:n,beans:i}=this;if(r.group){if(n.get("treeData")){if(!r.data&&!n.get("enableGroupEdit"))return!1}else if(!n.get("enableGroupEdit"))return!1}const o=p0(n)==="fullRow"?$L(i,e,t):df(i,e,t);return o&&(this.strategy??(this.strategy=this.createStrategy())),o}cellEditingInvalidCommitBlocks(){return this.gos.get("invalidEditValueMode")==="block"}checkNavWithValidation(e,t,r=!0){if(this.hasValidationErrors(e)){const n=Wt(this.beans,e);return this.cellEditingInvalidCommitBlocks()?(t?.preventDefault?.(),r&&(!n?.hasBrowserFocus()&&n?.focusCell(),n?.comp?.getCellEditor()?.focusIn?.()),"block-stop"):(n&&this.revertSingleCellEdit(n),"revert-continue")}return"continue"}revertSingleCellEdit(e,t=!1){const r=Wt(this.beans,e);r?.comp?.getCellEditor()&&(ds(this.beans,[e],{silent:!0}),this.model.clearEditValue(e),Fs(this.beans,e,{silent:!0}),Co(this.beans),r?.refreshCell(Os),t&&(r?.focusCell(),r?.comp?.getCellEditor()?.focusIn?.()))}hasValidationErrors(e){Co(this.beans);const t=Wt(this.beans,e);t&&(t.refreshCell(Os),t.rowCtrl.rowEditStyleFeature?.applyRowStyles());let r=!1;return e?.rowNode?(r||(r=this.model.getRowValidationModel().hasRowValidation({rowNode:e.rowNode})),e.column&&(r||(r=this.model.getCellValidationModel().hasCellValidation({rowNode:e.rowNode,column:e.column})))):(r||(r=this.model.getCellValidationModel().getCellValidationMap().size>0),r||(r=this.model.getRowValidationModel().getRowValidationMap().size>0)),r}moveToNextCell(e,t,r,n="ui"){let i;const o=this.isEditing(),s=o&&this.checkNavWithValidation(void 0,r)==="block-stop";return e instanceof hs&&o&&(i=this.strategy?.moveToNextEditingCell(e,t,r,n,s)),i===null||(i=i||!!this.beans.focusSvc.focusedHeader,i===!1&&!s&&this.stopEditing()),i}getCellDataValue({rowNode:e,column:t},r=!0){if(!e||!t)return;let n=this.model.getEdit({rowNode:e,column:t});const i=e.pinnedSibling;if(i){const s=this.model.getEdit({rowNode:i,column:t});s&&(n=s)}const o=r?n?.editorValue??n?.pendingValue:n?.pendingValue;return o===un||!n?n?.sourceValue??this.valueSvc.getValue(t,e,!1,"api"):o}addStopEditingWhenGridLosesFocus(e){d9(this,this.beans,e)}createPopupEditorWrapper(e){return new zL(e)}commitNextEdit(){this.committing=!0}setDataValue(e,t,r){try{if((!this.isEditing()||this.committing)&&!eN.has(r))return;const{beans:n}=this;this.strategy??(this.strategy=this.createStrategy());const i=this.isBatchEditing()?"ui":this.committing?r??"api":"api";if(!r||ZL.has(r))return Cu(n,e,t,r,void 0,{persist:!0}),this.setNodeDataValue(e.rowNode,e.column,t,!0,r);const o=this.model.getEdit(e);if(o){if(o.pendingValue===t)return!1;if(o.sourceValue!==t)return Cu(n,e,t,r,void 0,{persist:!0}),this.stopEditing(e,{source:i,suppressNavigateAfterEdit:!0}),!0;if(o.sourceValue===t)return n.editModelSvc?.removeEdits(e),this.dispatchEditValuesChanged(e,{...o,pendingValue:t}),!0}return Cu(n,e,t,r,void 0,{persist:!0}),this.stopEditing(e,{source:i,suppressNavigateAfterEdit:!0}),!0}finally{this.committing=!1}}handleColDefChanged(e){p9(this.beans,e)}destroy(){this.model.clear(),this.destroyStrategy(),super.destroy()}prepDetailsDuringBatch(e,t){if(!this.batch||!this.model.hasRowEdits(e.rowNode,Ho))return;const{rowNode:n,column:i}=e,{compDetails:o,valueToDisplay:s}=t;if(o){const{params:l}=o;return l.data=this.model.getEditRowDataValue(n,Ho),{compDetails:o}}const a=this.model.getEditRow(e.rowNode,Ho);if(s!==void 0&&a?.has(i))return{valueToDisplay:this.valueSvc.getValue(i,n)}}cleanupEditors(){this.strategy?.cleanupEditors()}dispatchCellEvent(e,t,r,n){this.strategy?.dispatchCellEvent(e,t,r,n)}dispatchBatchEvent(e,t){this.eventSvc.dispatchEvent(this.createBatchEditEvent(e,t))}createBatchEditEvent(e,t){return Ue(this.gos,{type:e,...e==="batchEditingStopped"?{changes:this.toEventChangeList(t)}:{}})}toEventChangeList(e){return this.model.getEditPositions(e).map(t=>({rowIndex:t.rowNode.rowIndex,rowPinned:t.rowNode.rowPinned,columnId:t.column.getColId(),newValue:t.pendingValue,oldValue:t.sourceValue}))}applyBulkEdit({rowNode:e,column:t},r){if(!r||r.length===0)return;const{beans:n,rangeSvc:i,valueSvc:o}=this;to(n,{persist:!0});const s=this.model.getEditMap(!0),a=s.get(e)?.get(t)?.pendingValue;this.batch||this.eventSvc.dispatchEvent({type:"bulkEditingStarted"}),r.forEach(u=>{if(i?.forEachRowInRange(u,c=>{const f=ri(n,c);if(f===void 0)return;const d=s.get(f)??new Map;for(const h of u.columns)if(h&&this.isCellEditable({rowNode:f,column:h},"api")){const g=o.getValue(h,f,!0,"api");let m=o.parseValue(h,f??null,a,g);Number.isNaN(m)&&(m=null),d.set(h,{editorValue:void 0,pendingValue:m,sourceValue:g,state:"changed",editorState:{isCancelAfterEnd:void 0,isCancelBeforeStart:void 0}})}d.size>0&&s.set(f,d)}),this.setEditMap(s),this.batch){this.cleanupEditors(),of(n),this.bulkRefresh();return}this.commitNextEdit(),this.stopEditing(void 0,{source:"bulk"}),this.eventSvc.dispatchEvent({type:"bulkEditingStopped",changes:this.toEventChangeList(s)})}),this.bulkRefresh();const l=Wt(n,{rowNode:e,column:t});l&&l.focusCell(!0)}createCellStyleFeature(e,t){return new UL(e,t)}createRowStyleFeature(e,t){return new KL(e,t)}setEditingCells(e,t){const{beans:r}=this,{colModel:n,valueSvc:i}=r,o=new Map;for(let{colId:s,column:a,colKey:l,rowIndex:u,rowPinned:c,newValue:f,state:d}of e){const h=s?n.getCol(s):l?n.getCol(l):a;if(!h)continue;const g=ri(r,{rowIndex:u,rowPinned:c});if(!g)continue;const m=i.getValue(h,g,!0,"api");if(!t?.forceRefreshOfEditCellsOnly&&!Kn({pendingValue:f,sourceValue:m})&&d!=="editing")continue;let p=o.get(g);p||(p=new Map,o.set(g,p)),f===void 0&&(f=un),p.set(h,{editorValue:void 0,pendingValue:f,sourceValue:m,state:d??"changed",editorState:{isCancelAfterEnd:void 0,isCancelBeforeStart:void 0}})}this.setEditMap(o,t)}onCellFocused(e){const t=Wt(this.beans,e);if(!t||!this.isEditing(t,Ho))return;const r=this.model.getEdit(t);if(!r||!Kn(r))return;const i=this.getLocaleTextFunc()("ariaPendingChange","Pending Change");this.beans.ariaAnnounce?.announceValue(i,"pendingChange")}allowedFocusTargetOnValidation(e){return Wt(this.beans,e)}};function nN(e){return{rowNodes:e?Array.from(e.keys()):void 0,columns:e?[...new Set(Array.from(e.values()).flatMap(t=>Array.from(t.keys())))]:void 0}}function p0(e,t){return t??e.get("editType")??"singleCell"}var cF=class extends ve{postConstruct(){this.model=this.beans.editModelSvc,this.editSvc=this.beans.editSvc,this.addManagedEventListeners({cellFocused:this.onCellFocusChanged?.bind(this),cellFocusCleared:this.onCellFocusChanged?.bind(this)})}clearEdits(e){this.model.clearEditValue(e)}onCellFocusChanged(e){let t;const r=e.previousParams,{editSvc:n,beans:i}=this,o=e.type==="cellFocused"?e.sourceEvent:null;r&&(t=Wt(i,r));const{gos:s,editModelSvc:a}=i,l=e.type==="cellFocusCleared";if(n.isEditing(void 0,{withOpenEditor:!0})){const{column:u,rowIndex:c,rowPinned:f}=e,d={column:u,rowNode:ri(i,{rowIndex:c,rowPinned:f})},h=s.get("invalidEditValueMode")==="block";if(h)return;const g=!h,m=!!a?.getCellValidationModel().hasCellValidation(d),p=g&&m;(r||l?n.stopEditing(void 0,{cancel:p,source:l&&g?"api":void 0,event:o}):!0)||(n.isBatchEditing()?n.cleanupEditors():n.stopEditing(void 0,{source:"api"}))}t?.refreshCell({suppressFlash:!0,force:!0})}stop(e,t){const r=this.model.getEditPositions(),n={all:[],pass:[],fail:[]};for(const i of r){if(n.all.push(i),(this.model.getCellValidationModel().getCellValidation(i)?.errorMessages?.length??0)>0){n.fail.push(i);continue}n.pass.push(i)}if(e)for(const i of r)dc(this.beans,i,{cancel:e}),this.model.stop(i);else{const i=this.processValidationResults(n);if(i.destroy.length>0)for(const o of i.destroy)dc(this.beans,o,{event:t,cancel:e}),this.model.stop(o);if(i.keep.length>0)for(const o of i.keep){const s=Wt(this.beans,o);this.editSvc?.cellEditingInvalidCommitBlocks()||s&&this.editSvc.revertSingleCellEdit(s)}}return!0}cleanupEditors({rowNode:e}={},t){to(this.beans,{persist:!1});const r=this.model.getEditPositions(),n=[];if(e)for(const i of r)i.rowNode!==e&&n.push(i);else for(const i of r)n.push(i);ds(this.beans,n),of(this.beans,t)}setFocusOutOnEditor(e){e.comp?.getCellEditor()?.focusOut?.()}setFocusInOnEditor(e){const t=e.comp,r=t?.getCellEditor();if(r?.focusIn)r.focusIn();else{const n=this.beans.gos.get("editType")==="fullRow";e.focusCell(n),e.onEditorAttachedFuncs.push(()=>t?.getCellEditor()?.focusIn?.())}}setupEditors(e){const{event:t,ignoreEventKey:r=!1,startedEdit:n,position:i,cells:o=this.model.getEditPositions()}=e,s=t instanceof KeyboardEvent&&!r&&t.key||void 0;f9(this.beans,o,i,s,t,n)}dispatchCellEvent(e,t,r,n){const i=Wt(this.beans,e);i&&this.eventSvc.dispatchEvent({...i.createEvent(t??null,r),...n})}dispatchRowEvent(e,t,r){if(r)return;const n=Ap(this.beans,e);n&&this.eventSvc.dispatchEvent(n.createRowEvent(t))}shouldStop(e,t,r="ui"){const n=this.editSvc.isBatchEditing();return n&&r==="api"?!0:n&&(r==="ui"||r==="edit")?!1:r==="api"?!0:t instanceof KeyboardEvent&&!n?t.key===me.ENTER:null}shouldCancel(e,t,r="ui"){const n=this.editSvc.isBatchEditing();return!!(t instanceof KeyboardEvent&&!n&&t.key===me.ESCAPE||n&&r==="api"||r==="api")}setEditMap(e,t){t?.update||this.editSvc.stopEditing(void 0,{cancel:!0,source:"api"});const r=[];if(e.forEach((n,i)=>{n.forEach((o,s)=>{o.state==="editing"&&r.push({...o,rowNode:i,column:s})})}),t?.update&&(e=new Map([...this.model.getEditMap(),...e])),this.model?.setEditMap(e),r.length>0){const n=r.at(-1),i=n.pendingValue===un?void 0:n.pendingValue;this.start({position:n,event:new KeyboardEvent("keydown",{key:i}),source:"api"});const o=Wt(this.beans,n);o&&this.setFocusInOnEditor(o)}}destroy(){this.cleanupEditors(),super.destroy()}},iN=class extends cF{constructor(){super(...arguments),this.beanName="fullRow",this.startedRows=[]}shouldStop(e,t,r="ui"){const{rowNode:n}=e||{};if(!Ap(this.beans,{rowNode:this.rowNode}))return!0;const o=super.shouldStop({rowNode:this.rowNode},t,r);return o!==null?o:this.rowNode?n!==this.rowNode:!1}midBatchInputsAllowed({rowNode:e}){return e?this.model.hasEdits({rowNode:e}):!1}clearEdits(e){this.model.clearEditValue(e)}start(e){const{position:t,silent:r,startedEdit:n,event:i,ignoreEventKey:o}=e,{rowNode:s}=t;this.rowNode!==s&&super.cleanupEditors(t);const a=this.beans.visibleCols.allCols,l=[],u=[];for(const c of a)c.isCellEditable(s)&&u.push(c);if(u.length!=0){this.dispatchRowEvent({rowNode:s},"rowEditingStarted",r),this.startedRows.push(s);for(const c of u){const f={rowNode:s,column:c};l.push(f),this.model.hasEdits(f)||this.model.start(f)}this.rowNode=s,this.setupEditors({cells:l,position:t,startedEdit:n,event:i,ignoreEventKey:o})}}processValidationResults(e){return e.fail.length>0&&this.editSvc.cellEditingInvalidCommitBlocks()?{destroy:[],keep:e.all}:{destroy:e.all,keep:[]}}stop(e,t){const{rowNode:r}=this;if(r&&!this.model.hasRowEdits(r))return!1;const n=[];if(e||this.model.getEditMap().forEach((i,o)=>{if(!(!i||i.size===0)){for(const s of i.values())if(Kn(s)){n.push(o);break}}}),Co(this.beans),!e&&this.editSvc?.checkNavWithValidation({rowNode:r})==="block-stop")return!1;super.stop(e,t);for(const i of n)this.dispatchRowEvent({rowNode:i},"rowValueChanged");return this.cleanupEditors({rowNode:r},!0),this.rowNode=void 0,!0}onCellFocusChanged(e){const{rowIndex:t}=e,r=e.previousParams;if(r?.rowIndex===t||e.sourceEvent instanceof KeyboardEvent)return;const n=Wt(this.beans,r);this.gos.get("invalidEditValueMode")==="block"&&n&&(this.model.getCellValidationModel().getCellValidation(n)||this.model.getRowValidationModel().getRowValidation(n))||super.onCellFocusChanged(e)}cleanupEditors(e={},t){super.cleanupEditors(e,t);for(const r of this.startedRows)this.dispatchRowEvent({rowNode:r},"rowEditingStopped");this.startedRows.length=0}moveToNextEditingCell(e,t,r,n="ui",i=!1){const o=e.cellPosition;let s;this.model.suspend(!0);try{s=this.beans.navigation?.findNextCellToFocusOn(o,{backwards:t,startEditing:!0,skipToNextEditableCell:!1})}finally{this.model.suspend(!1)}if(s===!1)return null;if(s==null)return!1;const a=s.cellPosition,l=e.isCellEditable(),u=s.isCellEditable(),c=a&&o.rowIndex===a.rowIndex&&o.rowPinned===a.rowPinned;l&&this.setFocusOutOnEditor(e),this.restoreEditors();const f=this.gos.get("suppressStartEditOnTab");return u&&!i?f?s.focusCell(!0,r):(s.comp?.getCellEditor()||Fs(this.beans,s,{event:r,cellStartedEdit:!0}),this.setFocusInOnEditor(s),s.focusCell(!1,r)):(u&&i&&this.setFocusInOnEditor(s),s.focusCell(!0,r)),!c&&!i&&(this.editSvc?.stopEditing({rowNode:e.rowNode},{event:r}),this.cleanupEditors(s,!0),f?s.focusCell(!0,r):this.editSvc.startEditing(s,{startedEdit:!0,event:r,source:n,ignoreEventKey:!0})),e.rowCtrl?.refreshRow({suppressFlash:!0,force:!0}),!0}restoreEditors(){this.model.getEditMap().forEach((e,t)=>e.forEach(({state:r},n)=>{if(r!=="editing")return;const i=Wt(this.beans,{rowNode:t,column:n});i&&!i.comp?.getCellEditor()&&Fs(this.beans,i,{silent:!0})}))}destroy(){super.destroy(),this.rowNode=void 0,this.startedRows.length=0}},oN=class extends cF{constructor(){super(...arguments),this.beanName="singleCell"}shouldStop(e,t,r="ui"){const n=super.shouldStop(e,t,r);if(n!==null)return n;const{rowNode:i,column:o}=e||{};return(!this.rowNode||!this.column)&&i&&o?null:this.rowNode!==i||this.column!==o}midBatchInputsAllowed(e){return this.model.hasEdits(e)}start(e){const{position:t,startedEdit:r,event:n,ignoreEventKey:i}=e;(this.rowNode!==t.rowNode||this.column!==t.column)&&super.cleanupEditors(),this.rowNode=t.rowNode,this.column=t.column,this.model.start(t),this.setupEditors({cells:[t],position:t,startedEdit:r,event:n,ignoreEventKey:i})}dispatchRowEvent(e,t,r){}processValidationResults(e){return e.fail.length>0&&this.editSvc.cellEditingInvalidCommitBlocks()?{destroy:[],keep:e.all}:{destroy:e.all,keep:[]}}stop(e,t){return super.stop(e,t),this.rowNode=void 0,this.column=void 0,!0}onCellFocusChanged(e){const{colModel:t,editSvc:r}=this.beans,{rowIndex:n,column:i,rowPinned:o}=e,s=ri(this.beans,{rowIndex:n,rowPinned:o}),a=nf(i),l=t.getCol(a),u=e.previousParams;if(u){const c=nf(u.column);if(u?.rowIndex===n&&c===a&&u?.rowPinned===o)return}r?.isEditing({rowNode:s,column:l},{withOpenEditor:!0})&&e.type==="cellFocused"||super.onCellFocusChanged(e)}moveToNextEditingCell(e,t,r,n="ui",i=!1){const o=this.beans.focusSvc.getFocusedCell();o&&(e=Jo(this.beans,o)??e);const s=e.cellPosition;let a;const l=this.beans.gos.get("editType")==="fullRow";l&&this.model.suspend(!0),i||(e.eGui.focus(),this.editSvc?.stopEditing(e,{source:this.editSvc?.isBatchEditing()?"ui":"api",event:r}));try{a=this.beans.navigation?.findNextCellToFocusOn(s,{backwards:t,startEditing:!0})}finally{l&&this.model.suspend(!1)}if(a===!1)return null;if(a==null)return!1;const u=a.cellPosition,c=e.isCellEditable(),f=a.isCellEditable(),d=u&&s.rowIndex===u.rowIndex&&s.rowPinned===u.rowPinned;c&&!i&&this.setFocusOutOnEditor(e);const h=this.gos.get("suppressStartEditOnTab");if(!d&&!i&&(super.cleanupEditors(a,!0),h?a.focusCell(!0,r):this.editSvc.startEditing(a,{startedEdit:!0,event:r,source:n,ignoreEventKey:!0})),f&&!i){if(a.focusCell(!1,r),h)a.focusCell(!0,r);else if(!a.comp?.getCellEditor()){const g=this.editSvc?.isEditing(a,{withOpenEditor:!0});Fs(this.beans,a,{event:r,cellStartedEdit:!0,silent:g}),this.setFocusInOnEditor(a),this.cleanupEditors(a)}}else f&&i&&this.setFocusInOnEditor(a),a.focusCell(!0,r);return e.rowCtrl?.refreshRow({suppressFlash:!0,force:!0}),!0}destroy(){super.destroy(),this.rowNode=void 0,this.column=void 0}},Ni={moduleName:"EditCore",version:Me,beans:[c9,rN],apiFunctions:{getEditingCells:IL,getEditRowValues:PL,getCellEditorInstances:h9,startEditingCell:NL,stopEditing:BL,isEditing:LL,validateEdit:OL},dynamicBeans:{singleCell:oN,fullRow:iN},dependsOn:[zc,rF],css:[cL]},sN={moduleName:"UndoRedoEdit",version:Me,beans:[uL],apiFunctions:{undoCellEditing:DL,redoCellEditing:ML,getCurrentUndoSize:HL,getCurrentRedoSize:GL},dependsOn:[Ni]},aN={moduleName:"TextEditor",version:Me,userComponents:{agCellEditor:f0,agTextCellEditor:f0},dependsOn:[Ni]},lN={moduleName:"NumberEditor",version:Me,userComponents:{agNumberCellEditor:{classImp:SL}},dependsOn:[Ni]},uN={moduleName:"DateEditor",version:Me,userComponents:{agDateCellEditor:gL,agDateStringCellEditor:yL},dependsOn:[Ni]},dF={moduleName:"CheckboxEditor",version:Me,userComponents:{agCheckboxCellEditor:hL},dependsOn:[Ni]},cN={moduleName:"SelectEditor",version:Me,userComponents:{agSelectCellEditor:kL},dependsOn:[Ni]},dN={moduleName:"LargeTextEditor",version:Me,userComponents:{agLargeTextCellEditor:wL},dependsOn:[Ni]},hN={moduleName:"CustomEditor",version:Me,dependsOn:[Ni]},fN=class extends ve{constructor(){super(...arguments),this.beanName="selectionColSvc"}postConstruct(){this.addManagedPropertyListener("rowSelection",e=>{this.onSelectionOptionsChanged(e.currentValue,e.previousValue,ss(e.source))}),this.addManagedPropertyListener("selectionColumnDef",this.updateColumns.bind(this))}addColumns(e){const t=this.columns;t!=null&&(e.list=t.list.concat(e.list),e.tree=t.tree.concat(e.tree),JA(e))}createColumns(e,t){const r=()=>{rc(this.beans,this.columns?.tree),this.columns=null},n=e.treeDepth,o=(this.columns?.treeDepth??-1)==n,s=this.generateSelectionCols();if(qA(s,this.columns?.list??[])&&o)return;r();const{colGroupSvc:l}=this.beans,u=l?.findDepth(e.tree)??0,c=l?.balanceTreeForAutoCols(s,u)??[];this.columns={list:s,tree:c,treeDepth:u,map:{}},t(d=>{if(!d)return null;const h=d.filter(g=>!si(g));return[...s,...h]})}updateColumns(e){const t=ss(e.source);for(const r of this.columns?.list??[]){const n=this.createSelectionColDef(e.currentValue);r.setColDef(n,null,t),fn(this.beans,{state:[{...n,colId:r.getColId()}]},t)}}getColumn(e){return this.columns?.list.find(t=>na(t,e))??null}getColumns(){return this.columns?.list??null}isSelectionColumnEnabled(){const{gos:e,beans:t}=this,r=e.get("rowSelection");if(typeof r!="object"||!so(e))return!1;const n=(t.autoColSvc?.getColumns()?.length??0)>0;if(r.checkboxLocation==="autoGroupColumn"&&n)return!1;const i=!!os(r),o=du(r);return i||o}createSelectionColDef(e){const{gos:t}=this,r=e??t.get("selectionColumnDef"),n=t.get("enableRtl"),{rowSpan:i,spanRows:o,...s}=r??{};return{width:50,resizable:!1,suppressHeaderMenuButton:!0,sortable:!1,suppressMovable:!0,lockPosition:n?"right":"left",comparator(a,l,u,c){const f=u.isSelected(),d=c.isSelected();return f===d?0:f?1:-1},editable:!1,suppressFillHandle:!0,pinned:null,...s,colId:i1,chartDataType:"excluded"}}generateSelectionCols(){if(!this.isSelectionColumnEnabled())return[];const e=this.createSelectionColDef(),t=e.colId;this.gos.validateColDef(e,t,!0);const r=new Ro(e,null,t,!1);return this.createBean(r),[r]}onSelectionOptionsChanged(e,t,r){const n=t&&typeof t!="string"?os(t):void 0,i=e&&typeof e!="string"?os(e):void 0,o=n!==i,s=t&&typeof t!="string"?du(t):void 0,a=e&&typeof e!="string"?du(e):void 0,l=s!==a,u=Xu(e),c=Xu(t);(o||l||u!==c)&&this.beans.colModel.refreshAll(r)}destroy(){rc(this.beans,this.columns?.tree),super.destroy()}refreshVisibility(e,t,r){if(!this.columns?.list.length)return;const n=e.length+t.length+r.length;if(n===0)return;const i=this.columns.list[0];if(!i.isVisible())return;const o=()=>{let l;switch(i.pinned){case"left":case!0:l=e;break;case"right":l=r;break;default:l=t}l&&pn(l,i)};(this.beans.rowNumbersSvc?.getColumn(o1)?2:1)===n&&o()}};function pN(e,t){if(!t.nodes.every(s=>s.rowPinned&&!za(s)?(Se(59),!1):s.id===void 0?(Se(60),!1):!0))return;const{nodes:n,source:i,newValue:o}=t;e.selectionSvc?.setNodesSelected({nodes:n,source:i??"api",newValue:o})}function gN(e,t,r="apiSelectAll"){e.selectionSvc?.selectAllRowNodes({source:r,selectAll:t})}function mN(e,t,r="apiSelectAll"){e.selectionSvc?.deselectAllRowNodes({source:r,selectAll:t})}function bN(e,t="apiSelectAllFiltered"){e.selectionSvc?.selectAllRowNodes({source:t,selectAll:"filtered"})}function yN(e,t="apiSelectAllFiltered"){e.selectionSvc?.deselectAllRowNodes({source:t,selectAll:"filtered"})}function vN(e,t="apiSelectAllCurrentPage"){e.selectionSvc?.selectAllRowNodes({source:t,selectAll:"currentPage"})}function wN(e,t="apiSelectAllCurrentPage"){e.selectionSvc?.deselectAllRowNodes({source:t,selectAll:"currentPage"})}function CN(e){return e.selectionSvc?.getSelectedNodes()??[]}function FN(e){return e.selectionSvc?.getSelectedRows()??[]}var SN=class extends Q6{constructor(){super(...arguments),this.beanName="selectionSvc",this.selectedNodes=new Map,this.detailSelection=new Map,this.masterSelectsDetail=!1}postConstruct(){super.postConstruct();const{gos:e}=this;this.mode=Qu(e),this.groupSelectsDescendants=va(e),this.groupSelectsFiltered=tc(e)==="filteredDescendants",this.masterSelectsDetail=om(e)==="detail",this.addManagedPropertyListeners(["groupSelectsChildren","groupSelectsFiltered","rowSelection"],()=>{const t=va(e),r=Qu(e),n=tc(e)==="filteredDescendants";this.masterSelectsDetail=om(e)==="detail",(t!==this.groupSelectsDescendants||n!==this.groupSelectsFiltered||r!==this.mode)&&(this.deselectAllRowNodes({source:"api"}),this.groupSelectsDescendants=t,this.groupSelectsFiltered=n,this.mode=r)}),this.addManagedEventListeners({rowSelected:this.onRowSelected.bind(this)})}destroy(){super.destroy(),this.resetNodes()}handleSelectionEvent(e,t,r){if(this.isRowSelectionBlocked(t))return 0;const n=this.inferNodeSelections(t,e.shiftKey,e.metaKey||e.ctrlKey,r);if(n==null)return 0;if(this.selectionCtx.selectAll=!1,"select"in n)return n.reset?this.resetNodes():this.selectRange(n.deselect,!1,r),this.selectRange(n.select,!0,r);{const i=n.checkFilteredNodes?fF(n.node):n.newValue;return this.setNodesSelected({nodes:[n.node],newValue:i,clearSelection:n.clearSelection,keepDescendants:n.keepDescendants,event:e,source:r})}}setNodesSelected({newValue:e,clearSelection:t,suppressFinishActions:r,nodes:n,event:i,source:o,keepDescendants:s=!1}){if(n.length===0)return 0;const{gos:a}=this;if(!so(a)&&e)return Se(132),0;if(n.length>1&&!this.isMultiSelect())return Se(130),0;let l=0;for(let u=0;u<n.length;u++){const c=n[u],f=Go(c);if(f.rowPinned&&!za(f)){Se(59);continue}if(f.id===void 0){Se(60);continue}this.groupSelectsFiltered&&f.group&&!a.get("treeData")||this.selectRowNode(f,e,i,o)&&(this.detailSelection.delete(f.id),l++),this.groupSelectsDescendants&&f.childrenAfterGroup?.length&&(l+=this.selectChildren(f,e,o))}return r||(n.length===1&&o==="api"&&this.selectionCtx.setRoot(Go(n[0])),e&&(t||!this.isMultiSelect())&&(l+=this.clearOtherNodes(Go(n[0]),s,o)),l>0&&(this.updateGroupsFromChildrenSelections(o),this.dispatchSelectionChanged(o))),l}selectRange(e,t,r){let n=0;return e.forEach(i=>{const o=Go(i);if(o.group&&this.groupSelectsDescendants)return;this.selectRowNode(o,t,void 0,r)&&n++}),n>0&&(this.updateGroupsFromChildrenSelections(r),this.dispatchSelectionChanged(r)),n}selectChildren(e,t,r){const n=this.groupSelectsFiltered?e.childrenAfterAggFilter:e.childrenAfterGroup;return n?this.setNodesSelected({newValue:t,clearSelection:!1,suppressFinishActions:!0,source:r,nodes:n}):0}getSelectedNodes(){return Array.from(this.selectedNodes.values())}getSelectedRows(){const e=[];return this.selectedNodes.forEach(t=>t.data&&e.push(t.data)),e}getSelectionCount(){return this.selectedNodes.size}filterFromSelection(e){const t=new Map;this.selectedNodes.forEach((r,n)=>{e(r)&&t.set(n,r)}),this.selectedNodes=t}updateGroupsFromChildrenSelections(e,t){if(!this.groupSelectsDescendants)return!1;const{gos:r,rowModel:n}=this.beans;if(!er(r))return!1;const i=n.rootNode;if(!i)return!1;t||(t=new Fa(!0,i),t.active=!1);let o=!1;return t.forEachChangedNodeDepthFirst(s=>{if(s!==i){const a=this.calculateSelectedFromChildren(s);o=this.selectRowNode(s,a===null?!1:a,void 0,e)||o}}),o}clearOtherNodes(e,t,r){const n=new Map;let i=0;return this.selectedNodes.forEach(o=>{const s=o.id==e.id;if((t?!kN(e,o):!0)&&!s){const l=this.selectedNodes.get(o.id);i+=this.setNodesSelected({nodes:[l],newValue:!1,clearSelection:!1,suppressFinishActions:!0,source:r}),this.groupSelectsDescendants&&o.parent&&n.set(o.parent.id,o.parent)}}),n.forEach(o=>{const s=this.calculateSelectedFromChildren(o);this.selectRowNode(o,s===null?!1:s,void 0,r)}),i}onRowSelected(e){const t=e.node;this.groupSelectsDescendants&&t.group||(t.isSelected()?this.selectedNodes.set(t.id,t):this.selectedNodes.delete(t.id))}syncInRowNode(e,t){this.syncInOldRowNode(e,t),this.syncInNewRowNode(e)}createDaemonNode(e){if(!e.id)return;const t=new Ti(this.beans);return t.id=e.id,t.data=e.data,t.__selected=e.__selected,t.level=e.level,t}syncInOldRowNode(e,t){t&&e.id!==t.id&&this.selectedNodes.get(t.id)==e&&this.selectedNodes.set(t.id,t)}syncInNewRowNode(e){this.selectedNodes.has(e.id)?(e.__selected=!0,this.selectedNodes.set(e.id,e)):e.__selected=!1}reset(e){const t=this.getSelectionCount();this.resetNodes(),t&&this.dispatchSelectionChanged(e)}resetNodes(){this.selectedNodes.forEach(e=>{this.selectRowNode(e,!1)}),this.selectedNodes.clear()}getBestCostNodeSelection(){const{gos:e,rowModel:t}=this.beans;if(!er(e))return;const r=t.getTopLevelNodes();if(r===null)return;const n=[];function i(o){for(let s=0,a=o.length;s<a;s++){const l=o[s];l.isSelected()?n.push(l):l.group&&l.childrenAfterGroup&&i(l.childrenAfterGroup)}}return i(r),n}isEmpty(){return this.getSelectionCount()===0}deselectAllRowNodes({source:e,selectAll:t}){const r=er(this.gos);let n=!1;const i=o=>{const s=this.selectRowNode(Go(o),!1,void 0,e);n||(n=s)};if(t==="currentPage"||t==="filtered"){if(!r){Ot(102);return}this.getNodesToSelect(t).forEach(i)}else this.selectedNodes.forEach(i),this.reset(e);if(this.selectionCtx.selectAll=!1,r&&this.groupSelectsDescendants){const o=this.updateGroupsFromChildrenSelections(e);n||(n=o)}n&&this.dispatchSelectionChanged(e)}getSelectedCounts(e){let t=0,r=0;return this.getNodesToSelect(e).forEach(n=>{this.groupSelectsDescendants&&n.group||(n.isSelected()?t++:n.selectable&&r++)}),{selectedCount:t,notSelectedCount:r}}getSelectAllState(e){const{selectedCount:t,notSelectedCount:r}=this.getSelectedCounts(e);return hF(t,r)??null}hasNodesToSelect(e){return this.getNodesToSelect(e).filter(t=>t.selectable).length>0}getNodesToSelect(e){if(!this.canSelectAll())return[];const t=[],r=i=>t.push(i);if(e==="currentPage")return this.forEachNodeOnPage(i=>{if(!i.group){r(i);return}if(!i.expanded&&!i.footer){const o=s=>{r(s),s.childrenAfterFilter?.forEach(o)};o(i);return}this.groupSelectsDescendants||r(i)}),t;const n=this.beans.rowModel;return e==="filtered"?(n.forEachNodeAfterFilter(r),t):(n.forEachNode(r),t)}forEachNodeOnPage(e){const{pageBounds:t,rowModel:r}=this.beans,n=t.getFirstRow(),i=t.getLastRow();for(let o=n;o<=i;o++){const s=r.getRow(o);s&&e(s)}}selectAllRowNodes(e){const{gos:t,selectionCtx:r}=this;if(!so(t)){Se(132);return}if(PA(t)&&!ec(t)){Se(130);return}if(!this.canSelectAll())return;const{source:n,selectAll:i}=e;let o=!1;if(this.getNodesToSelect(i).forEach(s=>{const a=this.selectRowNode(Go(s),!0,void 0,n);o||(o=a)}),r.selectAll=!0,er(t)&&this.groupSelectsDescendants){const s=this.updateGroupsFromChildrenSelections(n);o||(o=s)}o&&this.dispatchSelectionChanged(n)}getSelectionState(){return this.isEmpty()?null:Array.from(this.selectedNodes.keys())}setSelectionState(e,t,r){if(e||(e=[]),!Array.isArray(e)){Ot(103);return}const n=new Set(e),i=[];this.beans.rowModel.forEachNode(o=>{n.has(o.id)&&i.push(o)}),r&&this.resetNodes(),this.setNodesSelected({newValue:!0,nodes:i,source:t})}canSelectAll(){return er(this.beans.gos)}updateSelectable(e){const{gos:t,rowModel:r}=this.beans;if(!so(t))return;const n="selectableChanged",i=e!==void 0,o=er(t)&&this.groupSelectsDescendants,s=[],a=l=>{if(i&&!l.group)return;if(o&&l.group){const c=l.childrenAfterGroup?.some(f=>f.selectable)??!1;this.setRowSelectable(l,c,!0);return}!this.updateRowSelectable(l,!0)&&l.isSelected()&&s.push(l)};if(o){if(e===void 0){const l=r.rootNode;e=l?new Fa(!1,l):void 0}e?.forEachChangedNodeDepthFirst(a,!i,!i)}else r.forEachNode(a);s.length&&this.setNodesSelected({nodes:s,newValue:!1,source:n}),!i&&o&&this.updateGroupsFromChildrenSelections?.(n)}updateSelectableAfterGrouping(e){this.updateSelectable(e),this.groupSelectsDescendants&&this.updateGroupsFromChildrenSelections?.("rowGroupChanged",e)&&this.dispatchSelectionChanged("rowGroupChanged")}refreshMasterNodeState(e,t){if(!this.masterSelectsDetail)return;const r=e.detailNode?.detailGridInfo?.api;if(!r)return;const n=xN(r);if(e.isSelected()!==n&&this.selectRowNode(e,n,t,"masterDetail")&&this.dispatchSelectionChanged("masterDetail"),!n){const o=this.detailSelection.get(e.id)??new Set;for(const s of r.getSelectedNodes())o.add(s.id);this.detailSelection.set(e.id,o)}}setDetailSelectionState(e,t,r){if(this.masterSelectsDetail){if(!ec(t)){Se(269);return}switch(e.isSelected()){case!0:{r.selectAll();break}case!1:{r.deselectAll();break}case void 0:{const n=this.detailSelection.get(e.id);if(n){const i=[];for(const o of n){const s=r.getRowNode(o);s&&i.push(s)}r.setNodesSelected({nodes:i,newValue:!0,source:"masterDetail"})}break}}}}dispatchSelectionChanged(e){this.eventSvc.dispatchEvent({type:"selectionChanged",source:e,selectedNodes:this.getSelectedNodes(),serverSideState:null})}};function Go(e){return za(e)?e.pinnedSibling:e.footer?e.sibling:e}function xN(e){let t=0,r=0;return e.forEachNode(n=>{n.isSelected()?t++:n.selectable&&r++}),hF(t,r)}function hF(e,t){if(e===0&&t===0)return!1;if(!(e>0&&t>0))return e>0}function kN(e,t){let r=t.parent;for(;r;){if(r===e)return!0;r=r.parent}return!1}function fF(e){const t=e.isSelected()===!1,r=e.childrenAfterFilter?.some(fF)??!1;return t||r}var EN={moduleName:"SharedRowSelection",version:Me,beans:[fN],apiFunctions:{setNodesSelected:pN,selectAll:gN,deselectAll:mN,selectAllFiltered:bN,deselectAllFiltered:yN,selectAllOnCurrentPage:vN,deselectAllOnCurrentPage:wN,getSelectedNodes:CN,getSelectedRows:FN}},RN={moduleName:"RowSelection",version:Me,rowModels:["clientSide","infinite","viewport"],beans:[SN],dependsOn:[EN]};function _N(e){e.expansionSvc?.expandAll(!0)}function AN(e){e.expansionSvc?.expandAll(!1)}function pF(e){e.rowModel?.onRowHeightChanged()}function gF(e){if(e.rowAutoHeight?.active){Se(3);return}e.rowModel?.resetRowHeights()}function TN(e,t,r){const n=DI(e);if(n){if(e.rowGroupColsSvc?.columns.length===0){if(t<0){Ot(238);return}n.setRowCount(t,r);return}Ot(28);return}jc(e)?.setRowCount(t,r)}function DN(e){return Eo(e.gos)?e.rowModel.getBlockStates():e.rowNodeBlockLoader?.getBlockState()??{}}function MN(e){return e.rowModel.isLastRowIndexKnown()}var PN={moduleName:"CsrmSsrmSharedApi",version:Me,apiFunctions:{expandAll:_N,collapseAll:AN}},IN={moduleName:"RowModelSharedApi",version:Me,apiFunctions:{onRowHeightChanged:pF,resetRowHeights:gF}},BN={moduleName:"SsrmInfiniteSharedApi",version:Me,apiFunctions:{setRowCount:TN,getCacheBlockState:DN,isLastRowIndexKnown:MN}},LN=class extends ve{constructor(){super(...arguments),this.beanName="alignedGridsSvc",this.consuming=!1}getAlignedGridApis(){let e=this.gos.get("alignedGrids")??[];const t=typeof e=="function";return typeof e=="function"&&(e=e()),e.map(n=>{if(!n){Ot(18),t||Ot(20);return}if(this.isGridApi(n))return n;const i=n;return"current"in i?i.current?.api:(i.api||Ot(19),i.api)}).filter(n=>!!n&&!n.isDestroyed())}isGridApi(e){return!!e&&!!e.dispatchEvent}postConstruct(){const e=this.fireColumnEvent.bind(this);this.addManagedEventListeners({columnMoved:e,columnVisible:e,columnPinned:e,columnGroupOpened:e,columnResized:e,bodyScroll:this.fireScrollEvent.bind(this),alignedGridColumn:({event:t})=>this.onColumnEvent(t),alignedGridScroll:({event:t})=>this.onScrollEvent(t)})}fireEvent(e){if(!this.consuming)for(const t of this.getAlignedGridApis())t.isDestroyed()||t.dispatchEvent(e)}onEvent(e){this.consuming=!0,e(),this.consuming=!1}fireColumnEvent(e){this.fireEvent({type:"alignedGridColumn",event:e})}fireScrollEvent(e){e.direction==="horizontal"&&this.fireEvent({type:"alignedGridScroll",event:e})}onScrollEvent(e){this.onEvent(()=>{this.beans.ctrlsSvc.getScrollFeature().setHorizontalScrollPosition(e.left,!0)})}extractDataFromEvent(e,t){const r=[];return e.columns?e.columns.forEach(n=>{r.push(t(n))}):e.column&&r.push(t(e.column)),r}getMasterColumns(e){return this.extractDataFromEvent(e,t=>t)}getColumnIds(e){return this.extractDataFromEvent(e,t=>t.getColId())}onColumnEvent(e){this.onEvent(()=>{switch(e.type){case"columnMoved":case"columnVisible":case"columnPinned":case"columnResized":{this.processColumnEvent(e);break}case"columnGroupOpened":{this.processGroupOpenedEvent(e);break}case"columnPivotChanged":Se(21);break}})}processGroupOpenedEvent(e){const{colGroupSvc:t}=this.beans;if(t)for(const r of e.columnGroups){let n=null;r&&(n=t.getProvidedColGroup(r.getGroupId())),!(r&&!n)&&t.setColumnGroupOpened(n,r.isExpanded(),"alignedGridChanged")}}processColumnEvent(e){const t=e.column;let r=null;const n=this.beans,{colResize:i,ctrlsSvc:o,colModel:s}=n;if(t&&(r=s.getColDefCol(t.getColId())),t&&!r)return;const a=this.getMasterColumns(e);switch(e.type){case"columnMoved":{const f=e.api.getColumnState().map(d=>({colId:d.colId}));fn(n,{state:f,applyOrder:!0},"alignedGridChanged")}break;case"columnVisible":{const f=e.api.getColumnState().map(d=>({colId:d.colId,hide:d.hide}));fn(n,{state:f},"alignedGridChanged")}break;case"columnPinned":{const f=e.api.getColumnState().map(d=>({colId:d.colId,pinned:d.pinned}));fn(n,{state:f},"alignedGridChanged")}break;case"columnResized":{const c=e,f={};for(const d of a)f[d.getId()]={key:d.getColId(),newWidth:d.getActualWidth()};for(const d of c.flexColumns??[])f[d.getId()]&&delete f[d.getId()];i?.setColumnWidths(Object.values(f),!1,c.finished,"alignedGridChanged");break}}const u=o.getGridBodyCtrl().isVerticalScrollShowing();for(const c of this.getAlignedGridApis())c.setGridOption("alwaysShowVerticalScroll",u)}},NN={moduleName:"AlignedGrids",version:Me,beans:[LN],dependsOn:[wC]},ON=class extends ve{constructor(e){super(),this.rootNode=e,this.nextId=0,this.allNodesMap={},g0(e)}getRowNode(e){return this.allNodesMap[e]}setNewRowData(e){const{selectionSvc:t,pinnedRowModel:r,groupStage:n}=this.beans;t?.reset("rowDataChanged"),r?.isManual()&&r.reset(),this.dispatchRowDataUpdateStarted(e),this.allNodesMap=Object.create(null),this.nextId=0;const i=g0(this.rootNode),o=new Array(e.length);i._leafs=o;let s=0;const a=n?.getNestedDataGetter(),l=a?new Set:null,u=(c,f)=>{const d=c.level+1;for(let h=0,g=f.length;h<g;++h){const m=f[h];if(!m)continue;const p=this.createRowNode(m,d);if(p.sourceRowIndex=s,o[s++]=p,l&&!l.has(m)){l.add(m),p.treeParent=c;const y=a(m);y&&u(p,y)}}};u(i,e),o.length=s}setImmutableRowData(e,t){const{rootNode:r,gos:n}=this;this.dispatchRowDataUpdateStarted(t);const i=ys(n),o=e.changedRowNodes,{adds:s,updates:a}=o,l=new Set,u=[],c=this.beans.groupStage?.getNestedDataGetter();let f=n.get("suppressMaintainUnsortedOrder")?void 0:!1,d=-1,h=!1;const g=(y,b)=>{if(!f&&f!==void 0){const v=y.sourceRowIndex;f=v<=d,d=v}y.data!==b&&(y.updateData(b),s.has(y)||a.add(y),!y.selectable&&y.isSelected()&&u.push(y))},m=(y,b,v)=>{for(let F=0,E=b.length;F<E;++F){const T=b[F];if(!T)continue;let I=this.getRowNode(i({data:T,level:v}));if(I?(g(I,T),h||(h=!!c&&I.treeParent!==y)):(I=this.createRowNode(T,v),s.add(I)),!c||l.has(I)){l.add(I);continue}l.add(I),I.treeParent=y;const M=c(T);M&&m(I,M,v+1)}};m(r,t,0);const p=this.deleteUnusedNodes(l,o,u)||f||s.size>0;if(p){const y=r._leafs??(r._leafs=[]);f===void 0?VN(y,l,o):zN(y,l)&&(o.reordered=!0)}(p||h||a.size)&&(e.rowDataUpdated=!0,this.deselect(u))}deleteUnusedNodes(e,{removals:t},r){const n=this.rootNode._leafs;for(let i=0,o=n.length;i<o;i++){const s=n[i];e.has(s)||(t.add(s),s.isSelected()&&r.push(s),this.deleteNode(s))}return t.size>0}updateRowData(e,t){if(this.dispatchRowDataUpdateStarted(e.add),this.beans.groupStage?.getNestedDataGetter())return Se(268),{remove:[],update:[],add:[]};const r=[],n=ys(this.gos),i=this.executeRemove(n,e,t,r),o=this.executeUpdate(n,e,t,r),s=this.executeAdd(e,t);return this.deselect(r),{remove:i,update:o,add:s}}executeRemove(e,{remove:t},{adds:r,updates:n,removals:i},o){const s=this.rootNode._leafs,a=s?.length,l=t?.length;if(!l||!a)return[];let u=0,c=a,f=0,d;const h=new Array(l);for(let g=0;g<l;++g){const m=this.lookupNode(e,t[g]);if(!m)continue;const p=m.sourceRowIndex;p<c&&(c=p),p>f&&(f=p),m.isSelected()&&o.push(m),this.deleteNode(m),r.delete(m)?(d??(d=new Set),d.add(m)):(n.delete(m),i.add(m)),h[u++]=m}return h.length=u,u&&jN(s,c,f,i,d),h}executeUpdate(e,{update:t},{adds:r,updates:n},i){const o=t?.length;if(!o)return[];const s=new Array(o);let a=0;for(let l=0;l<o;l++){const u=t[l],c=this.lookupNode(e,u);c&&(c.updateData(u),!c.selectable&&c.isSelected()&&i.push(c),s[a++]=c,r.has(c)||n.add(c))}return s.length=a,s}executeAdd(e,t){var r;const n=(r=this.rootNode)._leafs??(r._leafs=[]),i=n.length,o=e.add,s=o?.length;if(!s)return[];const a=i+s;let l=this.sanitizeAddIndex(n,e.addIndex);if(l<i){for(let f=i-1,d=a-1;f>=l;--f){const h=n[f];h.sourceRowIndex=d,n[d--]=h}t.reordered=!0}n.length=a;const u=new Array(s),c=t.adds;for(let f=0;f<s;f++){const d=this.createRowNode(o[f],0);c.add(d),d.sourceRowIndex=l,n[l]=d,u[f]=d,l++}return u}dispatchRowDataUpdateStarted(e){this.eventSvc.dispatchEvent({type:"rowDataUpdateStarted",firstRowData:e?.length?e[0]:null})}deselect(e){const t="rowDataChanged",r=this.beans.selectionSvc;e.length&&r?.setNodesSelected({newValue:!1,nodes:e,suppressFinishActions:!0,source:t}),r?.updateGroupsFromChildrenSelections?.(t),e.length&&this.eventSvc.dispatchEvent({type:"selectionChanged",source:t,selectedNodes:r?.getSelectedNodes()??null,serverSideState:null})}createRowNode(e,t){const r=new Ti(this.beans);r.parent=this.rootNode,r.level=t,r.group=!1,r.expanded=!1,r.setDataAndId(e,String(this.nextId++));const n=r.id,i=this.allNodesMap;return i[n]&&Se(2,{nodeId:n}),i[n]=r,r}deleteNode(e){e.clearRowTopAndRowIndex();const t=e.id,r=this.allNodesMap;r[t]===e&&delete r[t];const n=e.pinnedSibling;n&&this.beans.pinnedRowModel?.pinRow(n,null)}lookupNode(e,t){if(!e)return GN(this.rootNode._leafs,t);const r=e({data:t,level:0}),n=this.allNodesMap[r];return n||(Ot(4,{id:r}),null)}sanitizeAddIndex(e,t){const r=e.length;if(typeof t!="number"||t<0||t>=r||Number.isNaN(t))return r;t=Math.ceil(t);const n=this.gos;return t>0&&n.get("treeData")&&n.get("getDataPath")&&(t=HN(e,t)),t}},HN=(e,t)=>{for(let r=0,n=e.length;r<n;r++)if(e[r]?.rowIndex==t-1)return r+1;return t},g0=e=>{e.group=!0,e.level=-1,e.id="ROOT_NODE_ID",e._leafs?.length!==0&&(e._leafs=[]);const t=[],r=[],n=[],i=[];e.childrenAfterGroup=t,e.childrenAfterSort=r,e.childrenAfterAggFilter=n,e.childrenAfterFilter=i;const o=e.sibling;return o&&(o.childrenAfterGroup=t,o.childrenAfterSort=r,o.childrenAfterAggFilter=n,o.childrenAfterFilter=i,o.childrenMapped=e.childrenMapped),e.updateHasChildren(),e},GN=(e,t)=>{if(e)for(let r=0,n=e.length;r<n;r++){const i=e[r];if(i.data===t)return i}return Ot(5,{data:t}),null},jN=(e,t,r,n,i)=>{t=Math.max(0,t);for(let o=t,s=e.length;o<s;++o){const a=e[o];o<=r&&(n.has(a)||i?.has(a))||(a.sourceRowIndex=t,e[t++]=a)}e.length=t},zN=(e,t)=>{const r=t.size;e.length=r;let n=0,i=!1,o=!1;for(const s of t){const a=s.sourceRowIndex;a===n?o||(o=i):(a>=0?o=!0:i=!0,s.sourceRowIndex=n,e[n]=s),++n}return o},VN=(e,t,{removals:r,adds:n})=>{const i=e.length;e.length=t.size;let o=0;for(let s=0;s<i;++s){const a=e[s];r.has(a)||(o!==s&&(a.sourceRowIndex=o,e[o]=a),++o)}for(const s of n)s.sourceRowIndex<0&&(s.sourceRowIndex=o,e[o++]=s);e.length=o},mF=e=>{const t=e.childrenAfterSort,r=e.sibling;if(r&&(r.childrenAfterSort=t),!!t)for(let n=0,i=t.length-1;n<=i;n++){const o=t[n],s=n===0,a=n===i;o.firstChild!==s&&(o.firstChild=s,o.dispatchRowEvent("firstChildChanged")),o.lastChild!==a&&(o.lastChild=a,o.dispatchRowEvent("lastChildChanged")),o.childIndex!==n&&(o.childIndex=n,o.dispatchRowEvent("childIndexChanged"))}},WN=class extends ve{constructor(){super(...arguments),this.beanName="sortStage",this.step="sort",this.refreshProps=["postSortRows","groupDisplayType","accentedSort"]}execute(e){const t=this.beans.sortSvc.getSortOptions(),r=t.length>0&&!!e.changedRowNodes&&this.gos.get("deltaSort");this.sort(t,r,e.changedRowNodes,e.changedPath)}sort(e,t,r,n){const{gos:i,colModel:o,rowGroupColsSvc:s,rowNodeSorter:a,rowRenderer:l,showRowGroupCols:u}=this.beans,c=i.get("groupMaintainOrder"),f=o.getCols().some(b=>b.isRowGroupActive()),d=s?.columns,h=o.isPivotMode(),g=i.getCallback("postSortRows");let m=!1,p;const y=b=>{const v=h&&b.leafGroup;let F=c&&f&&!b.leafGroup;F&&(p??(p=this.shouldSortContainsGroupCols(e)),F&&(F=!p));let E=null;if(F){let T=!1;if(d){const I=b.level+1;I<d.length&&(T=d[I].getSort()===null)}T||(E=KN(b))}else!e.length||v||(t&&r?E=$N(a,b,r,n,e):E=a.doFullSort(b.childrenAfterAggFilter,e));if(E||(E=b.childrenAfterAggFilter?.slice(0)??[]),m||(m=b.childrenAfterSort?.[0]!==E[0]),b.childrenAfterSort=E,mF(b),g){const T={nodes:b.childrenAfterSort};g(T)}};if(n?.forEachChangedNodeDepthFirst(y),m&&i.get("groupHideOpenParents")){const b=u?.getShowRowGroupCols();b?.length&&l.refreshCells({columns:b,force:!0})}}shouldSortContainsGroupCols(e){const t=e.length;if(!t)return!1;if(Fn(this.gos)){for(let r=0;r<t;++r){const n=e[r].column;if(n.isPrimary()&&n.isRowGroupActive())return!0}return!1}for(let r=0;r<t;++r)if(e[r].column.getColDef().showRowGroup)return!0;return!1}},$N=(e,t,r,n,i)=>{const o=t.childrenAfterAggFilter,s=t.childrenAfterSort;if(!s)return e.doFullSort(o,i);const a=new Set,l=[],{updates:u,adds:c}=r;for(let d=0,h=o.length;d<h;++d){const g=o[d];u.has(g)||c.has(g)||n&&!n.canSkip(g)?l.push({currentPos:l.length,rowNode:g}):a.add(g)}const f=s.filter(d=>a.has(d)).map((d,h)=>({currentPos:h,rowNode:d}));return l.sort((d,h)=>e.compareRowNodes(i,d,h)),UN(e,i,l,f)},UN=(e,t,r,n)=>{let i=0,o=0;const s=r.length,a=n.length,l=new Array(s+a);let u=0;for(;i<s&&o<a;){const c=r[i],f=n[o];e.compareRowNodes(t,c,f)<0?(l[u++]=c.rowNode,++i):(l[u++]=f.rowNode,++o)}for(;i<s;)l[u++]=r[i++].rowNode;for(;o<a;)l[u++]=n[o++].rowNode;return l},KN=e=>{const t=e.childrenAfterSort,r=e.childrenAfterAggFilter,n=t?.length,i=r?.length;if(!n||!i)return null;const o=new Array(i),s=new Set;for(let l=0;l<i;++l)s.add(r[l]);let a=0;for(let l=0;l<n;++l){const u=t[l];s.delete(u)&&(o[a++]=u)}if(s.size===0&&a===n)return t;for(const l of s)o[a++]=l;return o.length=a,o},qN=class extends ve{constructor(){super(...arguments),this.beanName="rowModel",this.rootNode=null,this.rowCountReady=!1,this.nodeManager=void 0,this.rowsToDisplay=[],this.rowDataUpdatedPending=!1,this.asyncTransactions=null,this.asyncTransactionsTimer=0,this.started=!1,this.refreshingModel=!1,this.rowNodesCountReady=!1,this.stages=[],this.stagesRefreshProps=new Map,this.onRowHeightChanged_debounced=mr(this,this.onRowHeightChanged.bind(this),100)}postConstruct(){const e=this.beans,t=new Ti(e);this.rootNode=t,this.nodeManager=this.createBean(new ON(t));const r=this.refreshModel.bind(this,{step:"group"}),n=this.refreshModel.bind(this,{step:"group",afterColumnsChanged:!0,keepRenderedRows:!0,animate:!this.gos.get("suppressAnimationFrame")});this.addManagedEventListeners({newColumnsLoaded:n,columnRowGroupChanged:r,columnValueChanged:this.onValueChanged.bind(this),columnPivotChanged:this.refreshModel.bind(this,{step:"pivot"}),filterChanged:this.onFilterChanged.bind(this),sortChanged:this.onSortChanged.bind(this),columnPivotModeChanged:r,gridStylesChanged:this.onGridStylesChanges.bind(this),gridReady:this.onGridReady.bind(this),rowExpansionStateChanged:this.onRowGroupOpened.bind(this)}),this.addPropertyListeners()}addPropertyListeners(){const{beans:e,stagesRefreshProps:t}=this,r=[e.groupStage,e.filterStage,e.pivotStage,e.aggStage,e.sortStage,e.filterAggStage,e.flattenStage].filter(n=>!!n);this.stages=r;for(let n=r.length-1;n>=0;--n)for(const i of r[n].refreshProps)t.set(i,n);this.addManagedPropertyListeners([...t.keys()],n=>{const i=n.changeSet?.properties;i&&this.onPropChange(i)}),this.addManagedPropertyListener("rowData",()=>this.onPropChange(["rowData"])),this.addManagedPropertyListener("rowHeight",()=>this.resetRowHeights())}start(){this.started=!0,this.rowNodesCountReady?this.refreshModel({step:"group",rowDataUpdated:!0,newData:!0}):this.setInitialData()}setInitialData(){this.gos.get("rowData")&&this.onPropChange(["rowData"])}ensureRowHeightsValid(e,t,r,n){let i,o=!1;do{i=!1;const s=this.getRowIndexAtPixel(e),a=this.getRowIndexAtPixel(t),l=Math.max(s,r),u=Math.min(a,n);for(let c=l;c<=u;c++){const f=this.getRow(c);if(f.rowHeightEstimated){const d=Ri(this.beans,f);f.setRowHeight(d.height),i=!0,o=!0}}i&&this.setRowTopAndRowIndex()}while(i);return o}onPropChange(e){const{nodeManager:t,gos:r,beans:n}=this,i=n.groupStage;if(!t)return;const o=new Set(e),s=i?.onPropChange(o);let a;o.has("rowData")?a=r.get("rowData"):s&&(a=i?.extractData()),a&&!Array.isArray(a)&&(a=null,Se(1));const l={step:"nothing",changedProps:o};a&&(!s&&!this.isEmpty()&&a.length>0&&r.exists("getRowId")&&!r.get("resetRowDataOnUpdate")?(l.keepRenderedRows=!0,l.animate=!r.get("suppressAnimationFrame"),l.changedRowNodes=new yu,t.setImmutableRowData(l,a)):(l.rowDataUpdated=!0,l.newData=!0,t.setNewRowData(a),this.rowNodesCountReady=!0));const u=l.rowDataUpdated?"group":this.getRefreshedStage(e);u&&(l.step=u,this.refreshModel(l))}getRefreshedStage(e){const{stages:t,stagesRefreshProps:r}=this,n=t.length;let i=n;for(let o=0,s=e.length;o<s&&i;++o)i=Math.min(i,r.get(e[o])??i);return i<n?t[i].step:null}setRowTopAndRowIndex(e){const{beans:t,rowsToDisplay:r}=this,n=t.environment.getDefaultRowHeight();let i=0;const o=yr(this.gos,"normal");for(let s=0,a=r.length;s<a;++s){const l=r[s],u=l.id;if(u!=null&&e?.add(u),l.rowHeight==null){const c=Ri(t,l,o,n);l.setRowHeight(c.height,c.estimated)}l.setRowTop(i),l.setRowIndex(s),i+=l.rowHeight}}clearRowTopAndRowIndex(e,t){const r=e.active,n=s=>{s?.id!=null&&!t.has(s.id)&&s.clearRowTopAndRowIndex()},i=s=>{n(s),n(s.detailNode),n(s.sibling);const a=s.childrenAfterGroup;if(!s.hasChildren()||!a)return;const l=s.level==-1;if(!(r&&!l&&!s.expanded))for(let c=0,f=a.length;c<f;++c)i(a[c])},o=this.rootNode;o&&i(o)}isLastRowIndexKnown(){return!0}getRowCount(){return this.rowsToDisplay.length}getTopLevelRowCount(){const{rootNode:e,rowsToDisplay:t}=this;if(!e||!t.length)return 0;if(t[0]===e)return 1;const n=e.sibling?.displayed?1:0;return(e.childrenAfterSort?.length??0)+n}getTopLevelRowDisplayedIndex(e){const{beans:t,rootNode:r,rowsToDisplay:n}=this;if(!r||!n.length||n[0]===r)return e;const o=r.childrenAfterSort,s=l=>{let u=o[l];if(this.gos.get("groupHideOpenParents"))for(;u.expanded&&u.childrenAfterSort&&u.childrenAfterSort.length>0;)u=u.childrenAfterSort[0];return u.rowIndex},a=t.footerSvc;return a?a?.getTopDisplayIndex(n,e,o,s):s(e)}getTopLevelIndexFromDisplayedIndex(e){const{rootNode:t,rowsToDisplay:r}=this;if(!t||!r.length||r[0]===t)return e;let i=this.getRow(e);i.footer&&(i=i.sibling);let o=i.parent;for(;o&&o!==t;)i=o,o=i.parent;const s=t.childrenAfterSort?.indexOf(i)??-1;return s>=0?s:e}getRowBounds(e){const t=this.rowsToDisplay[e];return t?{rowTop:t.rowTop,rowHeight:t.rowHeight}:null}onRowGroupOpened(){this.refreshModel({step:"map",keepRenderedRows:!0,animate:is(this.gos)})}onFilterChanged({afterDataChange:e,columns:t}){if(!e){const n=t.length===0||t.some(i=>i.isPrimary())?"filter":"filter_aggregates";this.refreshModel({step:n,keepRenderedRows:!0,animate:is(this.gos)})}}onSortChanged(){this.refreshModel({step:"sort",keepRenderedRows:!0,animate:is(this.gos)})}getType(){return"clientSide"}onValueChanged(){this.refreshModel({step:this.beans.colModel.isPivotActive()?"pivot":"aggregate"})}createChangePath(e){const t=new Fa(!1,this.rootNode);return t.active=e,t}isSuppressModelUpdateAfterUpdateTransaction(e){if(!this.gos.get("suppressModelUpdateAfterUpdateTransaction"))return!1;const{changedRowNodes:t,newData:r,rowDataUpdated:n}=e;return!(!t||r||!n||t.removals.size||t.adds.size)}refreshModel(e){const{nodeManager:t,beans:r,eventSvc:n,started:i,refreshingModel:o}=this;if(!t)return;const s=!!e.rowDataUpdated,a=e.changedPath??(e.changedPath=this.createChangePath(!e.newData&&s));if(i&&s&&n.dispatchEvent({type:"rowDataUpdated"}),!i||o||r.colModel.changeEventsDispatching||this.isSuppressModelUpdateAfterUpdateTransaction(e)){this.rowDataUpdatedPending||(this.rowDataUpdatedPending=s);return}switch(this.rowDataUpdatedPending&&(this.rowDataUpdatedPending=!1,e.step="group"),this.refreshingModel=!0,r.masterDetailSvc?.refreshModel(e),s&&e.step!=="group"&&r.colFilter?.refreshModel(),e.step){case"group":this.doGrouping(e);case"filter":this.doFilter(a);case"pivot":this.doPivot(a);case"aggregate":this.doAggregate(a);case"filter_aggregates":this.doFilterAggregates(a);case"sort":this.doSort(e.changedRowNodes,a);case"map":this.doRowsToDisplay()}const l=new Set;this.setRowTopAndRowIndex(l),this.clearRowTopAndRowIndex(a,l),this.refreshingModel=!1,n.dispatchEvent({type:"modelUpdated",animate:e.animate,keepRenderedRows:e.keepRenderedRows,newData:e.newData,newPage:!1,keepUndoRedoStack:e.keepUndoRedoStack})}isEmpty(){return!this.rootNode?._leafs?.length||!this.beans.colModel?.ready}isRowsToRender(){return this.rowsToDisplay.length>0}getNodesInRangeForSelection(e,t){let r=!1,n=!1;const i=[],o=va(this.gos);return this.forEachNodeAfterFilterAndSort(s=>{if(n)return;if(r&&(s===t||s===e)&&(n=!0,o&&s.group)){bF(i,s);return}if(!r){if(s!==t&&s!==e)return;r=!0,t===e&&(n=!0)}(!s.group||!o)&&i.push(s)}),i}getTopLevelNodes(){return this.rootNode?.childrenAfterGroup??null}getRow(e){return this.rowsToDisplay[e]}isRowPresent(e){return this.rowsToDisplay.indexOf(e)>=0}getRowIndexAtPixel(e){const t=this.rowsToDisplay,r=t.length;if(this.isEmpty()||r===0)return-1;let n=0,i=r-1;if(e<=0)return 0;if(t[i].rowTop<=e)return i;let s=-1,a=-1;for(;;){const l=Math.floor((n+i)/2),u=t[l];if(this.isRowInPixel(u,e)||(u.rowTop<e?n=l+1:u.rowTop>e&&(i=l-1),s===n&&a===i))return l;s=n,a=i}}isRowInPixel(e,t){const r=e.rowTop,n=r+e.rowHeight;return r<=t&&n>t}forEachLeafNode(e){const t=this.rootNode?._leafs;if(t)for(let r=0,n=t.length;r<n;++r)e(t[r],r)}forEachNode(e,t=!1){this.depthFirstSearchRowNodes(e,t)}forEachDisplayedNode(e){const t=this.rowsToDisplay;for(let r=0,n=t.length;r<n;++r)e(t[r],r)}forEachNodeAfterFilter(e,t=!1){this.depthFirstSearchRowNodes(e,t,r=>r.childrenAfterAggFilter)}forEachNodeAfterFilterAndSort(e,t=!1){this.depthFirstSearchRowNodes(e,t,r=>r.childrenAfterSort)}forEachPivotNode(e,t,r){const{colModel:n,rowGroupColsSvc:i}=this.beans;if(!n.isPivotMode())return;if(!i?.columns.length){e(this.rootNode,0);return}const o=r?"childrenAfterSort":"childrenAfterGroup";this.depthFirstSearchRowNodes(e,t,s=>s.leafGroup?null:s[o])}depthFirstSearchRowNodes(e,t=!1,r=o=>o.childrenAfterGroup,n=this.rootNode,i=0){let o=i;if(!n)return o;const s=n===this.rootNode;if(s||e(n,o++),n.hasChildren()&&!n.footer){const a=r(n);if(a){const l=this.beans.footerSvc;o=l?.addTotalRows(o,n,e,t,s,"top")??o;for(const u of a)o=this.depthFirstSearchRowNodes(e,t,r,u,o);return l?.addTotalRows(o,n,e,t,s,"bottom")??o}}return o}doAggregate(e){const t=this.rootNode;t&&this.beans.aggStage?.execute({rowNode:t,changedPath:e})}doFilterAggregates(e){const t=this.rootNode,r=this.beans.filterAggStage;if(r){r.execute({rowNode:t,changedPath:e});return}t.childrenAfterAggFilter=t.childrenAfterFilter}doSort(e,t){const r=this.beans.sortStage;if(r){r.execute({rowNode:this.rootNode,changedRowNodes:e,changedPath:t});return}t.forEachChangedNodeDepthFirst(n=>{n.childrenAfterSort=n.childrenAfterAggFilter.slice(0),mF(n)})}doGrouping(e){const t=this.rootNode,n=this.beans.groupStage?.execute({rowNode:t,changedRowNodes:e.changedRowNodes,changedPath:e.changedPath,afterColumnsChanged:!!e.afterColumnsChanged});if(n===void 0){const i=t._leafs;t.childrenAfterGroup=i,t.updateHasChildren();const o=t.sibling;o&&(o.childrenAfterGroup=i)}(n||e.rowDataUpdated)&&this.beans.colFilter?.refreshModel(),!this.rowCountReady&&this.rowNodesCountReady&&(this.rowCountReady=!0,this.eventSvc.dispatchEventOnce({type:"rowCountReady"}))}doFilter(e){const t=this.beans.filterStage;if(t){t.execute({rowNode:this.rootNode,changedPath:e});return}e.forEachChangedNodeDepthFirst(r=>{r.childrenAfterFilter=r.childrenAfterGroup,jC(r)},!0)}doPivot(e){this.beans.pivotStage?.execute({rowNode:this.rootNode,changedPath:e})}getRowNode(e){const t=this.nodeManager?.getRowNode(e);return typeof t=="object"?t:typeof e=="string"&&e.indexOf(Kh)===0?this.beans.groupStage?.getNode(e):void 0}batchUpdateRowData(e,t){if(!this.asyncTransactionsTimer){this.asyncTransactions=[];const r=this.gos.get("asyncTransactionWaitMillis");this.asyncTransactionsTimer=setTimeout(()=>this.executeBatchUpdateRowData(),r)}this.asyncTransactions.push({rowDataTransaction:e,callback:t})}flushAsyncTransactions(){const e=this.asyncTransactionsTimer;e&&(clearTimeout(e),this.executeBatchUpdateRowData())}executeBatchUpdateRowData(){const{nodeManager:e,beans:t,eventSvc:r,asyncTransactions:n}=this;if(!e)return;t.valueCache?.onDataChanged();const i=[],o=[],s=new yu;for(const{rowDataTransaction:a,callback:l}of n??[]){this.rowNodesCountReady=!0;const u=e.updateRowData(a,s);i.push(u),l&&o.push(l.bind(null,u))}this.commitTransactions(s),o.length>0&&setTimeout(()=>{for(let a=0,l=o.length;a<l;a++)o[a]()},0),i.length>0&&r.dispatchEvent({type:"asyncTransactionsFlushed",results:i}),this.asyncTransactionsTimer=0,this.asyncTransactions=null}updateRowData(e){const t=this.nodeManager;if(!t)return null;this.beans.valueCache?.onDataChanged(),this.rowNodesCountReady=!0;const r=new yu,n=t.updateRowData(e,r);return this.commitTransactions(r),n}commitTransactions(e){this.refreshModel({step:"group",rowDataUpdated:!0,keepRenderedRows:!0,animate:!this.gos.get("suppressAnimationFrame"),changedRowNodes:e,changedPath:this.createChangePath(!0)})}doRowsToDisplay(){const{beans:e,rootNode:t}=this,r=e.flattenStage;if(r){this.rowsToDisplay=r.execute({rowNode:t});return}const n=this.rootNode.childrenAfterSort??[];for(const i of n)i.setUiLevel(0);this.rowsToDisplay=n}onRowHeightChanged(){this.refreshModel({step:"map",keepRenderedRows:!0,keepUndoRedoStack:!0})}resetRowHeights(){const e=this.rootNode;if(!e)return;const t=this.resetRowHeightsForAllRowNodes();e.setRowHeight(e.rowHeight,!0);const r=e.sibling;r?.setRowHeight(r.rowHeight,!0),t&&this.onRowHeightChanged()}resetRowHeightsForAllRowNodes(){let e=!1;return this.forEachNode(t=>{t.setRowHeight(t.rowHeight,!0);const r=t.detailNode;r?.setRowHeight(r.rowHeight,!0);const n=t.sibling;n?.setRowHeight(n.rowHeight,!0),e=!0}),e}onGridStylesChanges(e){e.rowHeightChanged&&!this.beans.rowAutoHeight?.active&&this.resetRowHeights()}onGridReady(){this.started||this.setInitialData()}destroy(){super.destroy(),this.nodeManager=this.destroyBean(this.nodeManager),this.started=!1,this.rootNode=null,this.rowsToDisplay=[],this.asyncTransactions=null,clearTimeout(this.asyncTransactionsTimer)}onRowHeightChangedDebounced(){this.onRowHeightChanged_debounced()}},bF=(e,t)=>{const r=t.childrenAfterGroup;if(r)for(let n=0,i=r.length;n<i;++n){const o=r[n];o.data&&e.push(o),o.group&&bF(e,o)}};function JN(e){e.expansionSvc?.onGroupExpandedOrCollapsed()}function YN(e,t){const r=Li(e);r&&((!t||t==="everything")&&(t="group"),r.refreshModel({step:t,keepRenderedRows:!0,animate:!e.gos.get("suppressAnimationFrame")}))}function ZN(e){return Li(e)?.isEmpty()??!0}function XN(e,t){Li(e)?.forEachLeafNode(t)}function QN(e,t){Li(e)?.forEachNodeAfterFilter(t)}function e7(e,t){Li(e)?.forEachNodeAfterFilterAndSort(t)}function t7(e,t){return e.frameworkOverrides.wrapIncoming(()=>Li(e)?.updateRowData(t))}function r7(e,t,r){e.frameworkOverrides.wrapIncoming(()=>Li(e)?.batchUpdateRowData(t,r))}function n7(e){e.frameworkOverrides.wrapIncoming(()=>Li(e)?.flushAsyncTransactions())}function i7(e){return e.selectionSvc?.getBestCostNodeSelection()}var o7={moduleName:"ClientSideRowModel",version:Me,rowModels:["clientSide"],beans:[qN,WN],dependsOn:[NC]},s7={moduleName:"ClientSideRowModelApi",version:Me,apiFunctions:{onGroupExpandedOrCollapsed:JN,refreshClientSideRowModel:YN,isRowDataEmpty:ZN,forEachLeafNode:XN,forEachNodeAfterFilter:QN,forEachNodeAfterFilterAndSort:e7,applyTransaction:t7,applyTransactionAsync:r7,flushAsyncTransactions:n7,getBestCostNodeSelection:i7,resetRowHeights:gF,onRowHeightChanged:pF},dependsOn:[PN,IN]},a7=class extends ve{constructor(){super(...arguments),this.beanName="gridSerializer"}wireBeans(e){this.visibleCols=e.visibleCols,this.colModel=e.colModel,this.rowModel=e.rowModel,this.pinnedRowModel=e.pinnedRowModel}serialize(e,t={}){const{allColumns:r,columnKeys:n,skipRowGroups:i,exportRowNumbers:o}=t,s=this.getColumnsToExport({allColumns:r,skipRowGroups:i,columnKeys:n,exportRowNumbers:o});return[this.prepareSession(s),this.prependContent(t),this.exportColumnGroups(t,s),this.exportHeaders(t,s),this.processPinnedTopRows(t,s),this.processRows(t,s),this.processPinnedBottomRows(t,s),this.appendContent(t)].reduce((a,l)=>l(a),e).parse()}processRow(e,t,r,n){const i=t.shouldRowBeSkipped||(()=>!1),s=t.rowPositions!=null||!!t.onlySelected,a=this.gos.get("groupHideOpenParents")&&!s,l=this.colModel.isPivotMode()?n.leafGroup:!n.group,u=!!n.footer,c=n.allChildrenCount===1&&n.childrenAfterGroup?.length===1&&DA(this.gos,n);if(!l&&!u&&(t.skipRowGroups||c||a)||t.onlySelected&&!n.isSelected()||t.skipPinnedTop&&n.rowPinned==="top"||t.skipPinnedBottom&&n.rowPinned==="bottom"||n.stub||n.level===-1&&!l&&!u||i(Ue(this.gos,{node:n})))return;const h=e.onNewBodyRow(n);if(r.forEach((g,m)=>{h.onColumn(g,m,n)}),t.getCustomContentBelowRow){const g=t.getCustomContentBelowRow(Ue(this.gos,{node:n}));g&&e.addCustomContent(g)}}appendContent(e){return t=>{const r=e.appendContent;return r&&t.addCustomContent(r),t}}prependContent(e){return t=>{const r=e.prependContent;return r&&t.addCustomContent(r),t}}prepareSession(e){return t=>(t.prepare(e),t)}exportColumnGroups(e,t){return r=>{if(!e.skipColumnGroupHeaders){const n=new g1,{colGroupSvc:i}=this.beans,o=i?i.createColumnGroups({columns:t,idCreator:n,pinned:null,isStandaloneStructure:!0}):t;this.recursivelyAddHeaderGroups(o,r,e.processGroupHeaderCallback)}return r}}exportHeaders(e,t){return r=>{if(!e.skipColumnHeaders){const n=r.onNewHeaderRow();t.forEach((i,o)=>{n.onColumn(i,o,void 0)})}return r}}processPinnedTopRows(e,t){return r=>{const n=this.processRow.bind(this,r,e,t);return e.rowPositions?e.rowPositions.filter(i=>i.rowPinned==="top").sort((i,o)=>i.rowIndex-o.rowIndex).map(i=>this.pinnedRowModel?.getPinnedTopRow(i.rowIndex)).forEach(n):this.pinnedRowModel?.isManual()||this.pinnedRowModel?.forEachPinnedRow("top",n),r}}processRows(e,t){return r=>{const n=this.rowModel,i=er(this.gos),o=Eo(this.gos),s=!i&&e.onlySelected,a=this.processRow.bind(this,r,e,t),{exportedRows:l="filteredAndSorted"}=e;if(e.rowPositions)e.rowPositions.filter(u=>u.rowPinned==null).sort((u,c)=>u.rowIndex-c.rowIndex).map(u=>n.getRow(u.rowIndex)).forEach(a);else if(this.colModel.isPivotMode())i?n.forEachPivotNode(a,!0,l==="filteredAndSorted"):o?n.forEachNodeAfterFilterAndSort(a,!0):n.forEachNode(a);else if(e.onlySelectedAllPages||s){const u=this.beans.selectionSvc?.getSelectedNodes()??[];this.replicateSortedOrder(u),u.forEach(a)}else l==="all"?n.forEachNode(a):i||o?n.forEachNodeAfterFilterAndSort(a,!0):n.forEachNode(a);return r}}replicateSortedOrder(e){const{sortSvc:t,rowNodeSorter:r}=this.beans;if(!t||!r)return;const n=t.getSortOptions(),i=(o,s)=>o.rowIndex!=null&&s.rowIndex!=null?o.rowIndex-s.rowIndex:o.level===s.level?o.parent?.id===s.parent?.id?r.compareRowNodes(n,{rowNode:o,currentPos:o.rowIndex??-1},{rowNode:s,currentPos:s.rowIndex??-1}):i(o.parent,s.parent):o.level>s.level?i(o.parent,s):i(o,s.parent);e.sort(i)}processPinnedBottomRows(e,t){return r=>{const n=this.processRow.bind(this,r,e,t);return e.rowPositions?e.rowPositions.filter(i=>i.rowPinned==="bottom").sort((i,o)=>i.rowIndex-o.rowIndex).map(i=>this.pinnedRowModel?.getPinnedBottomRow(i.rowIndex)).forEach(n):this.pinnedRowModel?.isManual()||this.pinnedRowModel?.forEachPinnedRow("bottom",n),r}}getColumnsToExport(e){const{allColumns:t=!1,skipRowGroups:r=!1,exportRowNumbers:n=!1,columnKeys:i}=e,{colModel:o,gos:s,visibleCols:a}=this,l=o.isPivotMode(),u=d=>si(d)?!1:!Zn(d)||n;if(i?.length)return o.getColsForKeys(i).filter(u);const c=s.get("treeData");let f=[];return t&&!l?f=o.getCols():f=a.allCols,f=f.filter(d=>u(d)&&(r&&!c?!ap(d):!0)),f}recursivelyAddHeaderGroups(e,t,r){const n=[];for(const i of e){const o=i;if(o.getChildren)for(const s of o.getChildren()??[])n.push(s)}e.length>0&&rr(e[0])&&this.doAddHeaderHeader(t,e,r),n&&n.length>0&&this.recursivelyAddHeaderGroups(n,t,r)}doAddHeaderHeader(e,t,r){const n=e.onNewHeaderGroupingRow();let i=0;for(const o of t){const s=o;let a;r?a=r(Ue(this.gos,{columnGroup:s})):a=this.beans.colNames.getDisplayNameForColumnGroup(s,"header");const u=(s.isExpandable()?s.getLeafColumns():[]).reduce((c,f,d,h)=>{let g=Gt(c);return f.getColumnGroupShow()==="open"?(!g||g[1]!=null)&&(g=[d],c.push(g)):g&&g[1]==null&&(g[1]=d-1),d===h.length-1&&g&&g[1]==null&&(g[1]=d),c},[]);n.onColumn(s,a||"",i++,s.getLeafColumns().length-1,u)}}},l7={moduleName:"SharedExport",version:Me,beans:[a7]},m0=`\r
`,u7=class extends OI{constructor(e){super(e),this.config=e,this.isFirstLine=!0,this.result="";const{suppressQuotes:t,columnSeparator:r}=e;this.suppressQuotes=t,this.columnSeparator=r}addCustomContent(e){e&&(typeof e=="string"?(/^\s*\n/.test(e)||this.beginNewLine(),e=e.replace(/\r?\n/g,m0),this.result+=e):e.forEach(t=>{this.beginNewLine(),t.forEach((r,n)=>{n!==0&&(this.result+=this.columnSeparator),this.result+=this.putInQuotes(r.data.value||""),r.mergeAcross&&this.appendEmptyCells(r.mergeAcross)})}))}onNewHeaderGroupingRow(){return this.beginNewLine(),{onColumn:this.onNewHeaderGroupingRowColumn.bind(this)}}onNewHeaderGroupingRowColumn(e,t,r,n){r!=0&&(this.result+=this.columnSeparator),this.result+=this.putInQuotes(t),this.appendEmptyCells(n)}appendEmptyCells(e){for(let t=1;t<=e;t++)this.result+=this.columnSeparator+this.putInQuotes("")}onNewHeaderRow(){return this.beginNewLine(),{onColumn:this.onNewHeaderRowColumn.bind(this)}}onNewHeaderRowColumn(e,t){t!=0&&(this.result+=this.columnSeparator),this.result+=this.putInQuotes(this.extractHeaderValue(e))}onNewBodyRow(){return this.beginNewLine(),{onColumn:this.onNewBodyRowColumn.bind(this)}}onNewBodyRowColumn(e,t,r){t!=0&&(this.result+=this.columnSeparator);const n=this.extractRowCellValue(e,t,t,"csv",r);this.result+=this.putInQuotes(n.valueFormatted??n.value)}putInQuotes(e){if(this.suppressQuotes)return e;if(e==null)return'""';let t;return typeof e=="string"?t=e:typeof e.toString=="function"?t=e.toString():(Se(53),t=""),'"'+t.replace(/"/g,'""')+'"'}parse(){return this.result}beginNewLine(){this.isFirstLine||(this.result+=m0),this.isFirstLine=!1}},c7=class extends NI{constructor(){super(...arguments),this.beanName="csvCreator"}wireBeans(e){this.colModel=e.colModel,this.colNames=e.colNames,this.rowGroupColsSvc=e.rowGroupColsSvc,this.valueSvc=e.valueSvc}getMergedParams(e){const t=this.gos.get("defaultCsvExportParams");return Object.assign({},t,e)}export(e){if(this.isExportSuppressed()){Se(51);return}const t=this.getMergedParams(e),r=this.getData(t),n=new Blob(["\uFEFF",r],{type:"text/plain"}),i=typeof t.fileName=="function"?t.fileName(Ue(this.gos,{})):t.fileName;HI(this.getFileName(i),n)}exportDataAsCsv(e){this.export(e)}getDataAsCsv(e,t=!1){const r=t?Object.assign({},e):this.getMergedParams(e);return this.getData(r)}getDefaultFileExtension(){return"csv"}createSerializingSession(e){const{colModel:t,colNames:r,rowGroupColsSvc:n,valueSvc:i,gos:o}=this,{processCellCallback:s,processHeaderCallback:a,processGroupHeaderCallback:l,processRowGroupCallback:u,suppressQuotes:c,columnSeparator:f}=e;return new u7({colModel:t,colNames:r,valueSvc:i,gos:o,processCellCallback:s||void 0,processHeaderCallback:a||void 0,processGroupHeaderCallback:l||void 0,processRowGroupCallback:u||void 0,suppressQuotes:c||!1,columnSeparator:f||",",rowGroupColsSvc:n})}isExportSuppressed(){return this.gos.get("suppressCsvExport")}};function d7(e,t){return e.csvCreator?.getDataAsCsv(t)}function h7(e,t){e.csvCreator?.exportDataAsCsv(t)}var f7={moduleName:"CsvExport",version:Me,beans:[c7],apiFunctions:{getDataAsCsv:d7,exportDataAsCsv:h7},dependsOn:[l7]},p7=class extends ve{constructor(e,t,r){super(),this.id=e,this.parentCache=t,this.params=r,this.state="needsLoading",this.version=0,this.startRow=e*r.blockSize,this.endRow=this.startRow+r.blockSize}load(){this.state="loading",this.loadFromDatasource()}setStateWaitingToLoad(){this.version++,this.state="needsLoading"}pageLoadFailed(e){this.isRequestMostRecentAndLive(e)&&(this.state="failed"),this.dispatchLocalEvent({type:"loadComplete"})}pageLoaded(e,t,r){this.successCommon(e,{rowData:t,rowCount:r})}isRequestMostRecentAndLive(e){const t=e===this.version,r=this.isAlive();return t&&r}successCommon(e,t){this.dispatchLocalEvent({type:"loadComplete"}),this.isRequestMostRecentAndLive(e)&&(this.state="loaded",this.processServerResult(t))}postConstruct(){this.rowNodes=[];const{params:{blockSize:e,rowHeight:t},startRow:r,beans:n,rowNodes:i}=this;for(let o=0;o<e;o++){const s=r+o,a=new Ti(n);a.setRowHeight(t),a.uiLevel=0,a.setRowIndex(s),a.setRowTop(t*s),i.push(a)}}getBlockStateJson(){const{id:e,startRow:t,endRow:r,state:n}=this;return{id:""+e,state:{blockNumber:e,startRow:t,endRow:r,pageStatus:n}}}setDataAndId(e,t,r){Le(t)?e.setDataAndId(t,r.toString()):e.setDataAndId(void 0,void 0)}loadFromDatasource(){const e=this.createLoadParams();if($t(this.params.datasource.getRows)){Se(90);return}window.setTimeout(()=>{this.params.datasource.getRows(e)},0)}createLoadParams(){const{startRow:e,endRow:t,version:r,params:{sortModel:n,filterModel:i},gos:o}=this;return{startRow:e,endRow:t,successCallback:this.pageLoaded.bind(this,r),failCallback:this.pageLoadFailed.bind(this,r),sortModel:n,filterModel:i,context:Ue(o,{}).context}}forEachNode(e,t,r){this.rowNodes.forEach((n,i)=>{this.startRow+i<r&&e(n,t.value++)})}getRow(e,t=!1){t||(this.lastAccessed=this.params.lastAccessedSequence.value++);const r=e-this.startRow;return this.rowNodes[r]}processServerResult(e){const{rowNodes:t,beans:r}=this;t.forEach((i,o)=>{const s=e.rowData?e.rowData[o]:void 0;!i.id&&i.alreadyRendered&&s&&(t[o]=new Ti(r),t[o].setRowIndex(i.rowIndex),t[o].setRowTop(i.rowTop),t[o].setRowHeight(i.rowHeight),i.clearRowTopAndRowIndex()),this.setDataAndId(t[o],s,this.startRow+o)});const n=e.rowCount!=null&&e.rowCount>=0?e.rowCount:void 0;this.parentCache.pageLoaded(this,n)}destroy(){for(const e of this.rowNodes)e.clearRowTopAndRowIndex();super.destroy()}},g7=2,m7=class extends ve{constructor(e){super(),this.params=e,this.lastRowIndexKnown=!1,this.blocks={},this.blockCount=0,this.rowCount=e.initialRowCount}getRow(e,t=!1){const r=Math.floor(e/this.params.blockSize);let n=this.blocks[r];if(!n){if(t)return;n=this.createBlock(r)}return n.getRow(e)}createBlock(e){const t=this.params,r=this.createBean(new p7(e,this,t));return this.blocks[r.id]=r,this.blockCount++,this.purgeBlocksIfNeeded(r),t.rowNodeBlockLoader.addBlock(r),r}refreshCache(){if(this.blockCount==0){this.purgeCache();return}for(const t of this.getBlocksInOrder())t.setStateWaitingToLoad();this.params.rowNodeBlockLoader.checkBlockToLoad()}destroy(){for(const e of this.getBlocksInOrder())this.destroyBlock(e);super.destroy()}getRowCount(){return this.rowCount}isLastRowIndexKnown(){return this.lastRowIndexKnown}pageLoaded(e,t){this.isAlive()&&(bo(this.gos,`InfiniteCache - onPageLoaded: page = ${e.id}, lastRow = ${t}`),this.checkRowCount(e,t),this.onCacheUpdated())}purgeBlocksIfNeeded(e){const t=this.getBlocksInOrder().filter(s=>s!=e),r=(s,a)=>a.lastAccessed-s.lastAccessed;t.sort(r);const n=this.params.maxBlocksInCache>0,i=n?this.params.maxBlocksInCache-1:null,o=g7-1;t.forEach((s,a)=>{const l=s.state==="needsLoading"&&a>=o,u=n?a>=i:!1;if(l||u){if(this.isBlockCurrentlyDisplayed(s)||this.isBlockFocused(s))return;this.removeBlockFromCache(s)}})}isBlockFocused(e){const t=this.beans.focusSvc.getFocusCellToUseAfterRefresh();if(!t||t.rowPinned!=null)return!1;const{startRow:r,endRow:n}=e;return t.rowIndex>=r&&t.rowIndex<n}isBlockCurrentlyDisplayed(e){const{startRow:t,endRow:r}=e;return this.beans.rowRenderer.isRangeInRenderedViewport(t,r-1)}removeBlockFromCache(e){e&&this.destroyBlock(e)}checkRowCount(e,t){if(typeof t=="number"&&t>=0)this.rowCount=t,this.lastRowIndexKnown=!0;else if(!this.lastRowIndexKnown){const{blockSize:r,overflowSize:n}=this.params,o=(e.id+1)*r+n;this.rowCount<o&&(this.rowCount=o)}}setRowCount(e,t){this.rowCount=e,Le(t)&&(this.lastRowIndexKnown=t),this.lastRowIndexKnown||this.rowCount%this.params.blockSize===0&&this.rowCount++,this.onCacheUpdated()}forEachNodeDeep(e){const t={value:0};for(const r of this.getBlocksInOrder())r.forEachNode(e,t,this.rowCount)}getBlocksInOrder(){const e=(r,n)=>r.id-n.id;return Object.values(this.blocks).sort(e)}destroyBlock(e){delete this.blocks[e.id],this.destroyBean(e),this.blockCount--,this.params.rowNodeBlockLoader.removeBlock(e)}onCacheUpdated(){this.isAlive()&&(this.destroyAllBlocksPastVirtualRowCount(),this.eventSvc.dispatchEvent({type:"storeUpdated"}))}destroyAllBlocksPastVirtualRowCount(){const e=[];for(const t of this.getBlocksInOrder())t.id*this.params.blockSize>=this.rowCount&&e.push(t);if(e.length>0)for(const t of e)this.destroyBlock(t)}purgeCache(){for(const e of this.getBlocksInOrder())this.removeBlockFromCache(e);this.lastRowIndexKnown=!1,this.rowCount===0&&(this.rowCount=this.params.initialRowCount),this.onCacheUpdated()}getRowNodesInRange(e,t){const r=[];let n=-1,i=!1;const o={value:0};let s=!1;for(const l of this.getBlocksInOrder())if(!s){if(i&&n+1!==l.id){s=!0;continue}n=l.id,l.forEachNode(u=>{const c=u===e||u===t;(i||c)&&r.push(u),c&&(i=!i)},o,this.rowCount)}return s||i?[]:r}},b7=class extends ve{constructor(){super(...arguments),this.beanName="rowModel",this.rootNode=null}getRowBounds(e){return{rowHeight:this.rowHeight,rowTop:this.rowHeight*e}}ensureRowHeightsValid(){return!1}postConstruct(){if(this.gos.get("rowModelType")!=="infinite")return;const e=this.beans,t=new Ti(e);this.rootNode=t,t.level=-1,this.rowHeight=ao(e),this.addEventListeners(),this.addDestroyFunc(()=>this.destroyCache())}start(){this.setDatasource(this.gos.get("datasource"))}destroy(){this.destroyDatasource(),super.destroy(),this.rootNode=null}destroyDatasource(){this.datasource&&(this.destroyBean(this.datasource),this.beans.rowRenderer.datasourceChanged(),this.datasource=null)}addEventListeners(){this.addManagedEventListeners({filterChanged:this.reset.bind(this),sortChanged:this.reset.bind(this),newColumnsLoaded:this.onColumnEverything.bind(this),storeUpdated:this.dispatchModelUpdatedEvent.bind(this)}),this.addManagedPropertyListener("datasource",()=>this.setDatasource(this.gos.get("datasource"))),this.addManagedPropertyListener("cacheBlockSize",()=>this.resetCache()),this.addManagedPropertyListener("rowHeight",()=>{this.rowHeight=ao(this.beans),this.cacheParams.rowHeight=this.rowHeight,this.updateRowHeights()})}onColumnEverything(){let e;this.cacheParams?e=!fa(this.cacheParams.sortModel,this.beans.sortSvc?.getSortModel()??[]):e=!0,e&&this.reset()}getType(){return"infinite"}setDatasource(e){this.destroyDatasource(),this.datasource=e,e&&this.reset()}isEmpty(){return!this.infiniteCache}isRowsToRender(){return!!this.infiniteCache}getNodesInRangeForSelection(e,t){return this.infiniteCache?.getRowNodesInRange(e,t)??[]}reset(){if(!this.datasource)return;ys(this.gos)!=null||this.beans.selectionSvc?.reset("rowDataChanged"),this.resetCache()}dispatchModelUpdatedEvent(){this.eventSvc.dispatchEvent({type:"modelUpdated",newPage:!1,newPageSize:!1,newData:!1,keepRenderedRows:!0,animate:!1})}resetCache(){this.destroyCache();const e=this.beans,{filterManager:t,sortSvc:r,rowNodeBlockLoader:n,eventSvc:i,gos:o}=e;this.cacheParams={datasource:this.datasource,filterModel:t?.getFilterModel()??{},sortModel:r?.getSortModel()??[],rowNodeBlockLoader:n,initialRowCount:o.get("infiniteInitialRowCount"),maxBlocksInCache:o.get("maxBlocksInCache"),rowHeight:ao(e),overflowSize:o.get("cacheOverflowSize"),blockSize:o.get("cacheBlockSize"),lastAccessedSequence:{value:0}},this.infiniteCache=this.createBean(new m7(this.cacheParams)),i.dispatchEventOnce({type:"rowCountReady"}),this.dispatchModelUpdatedEvent()}updateRowHeights(){this.forEachNode(e=>{e.setRowHeight(this.rowHeight),e.setRowTop(this.rowHeight*e.rowIndex)}),this.dispatchModelUpdatedEvent()}destroyCache(){this.infiniteCache=this.destroyBean(this.infiniteCache)}getRow(e){const t=this.infiniteCache;if(t&&!(e>=t.getRowCount()))return t.getRow(e)}getRowNode(e){let t;return this.forEachNode(r=>{r.id===e&&(t=r)}),t}forEachNode(e){this.infiniteCache?.forEachNodeDeep(e)}getTopLevelRowCount(){return this.getRowCount()}getTopLevelRowDisplayedIndex(e){return e}getRowIndexAtPixel(e){if(this.rowHeight!==0){const t=Math.floor(e/this.rowHeight),r=this.getRowCount()-1;return t>r?r:t}return 0}getRowCount(){return this.infiniteCache?this.infiniteCache.getRowCount():0}isRowPresent(e){return!!this.getRowNode(e.id)}refreshCache(){this.infiniteCache?.refreshCache()}purgeCache(){this.infiniteCache?.purgeCache()}isLastRowIndexKnown(){return this.infiniteCache?.isLastRowIndexKnown()??!1}setRowCount(e,t){this.infiniteCache?.setRowCount(e,t)}resetRowHeights(){}onRowHeightChanged(){}};function y7(e){jc(e)?.refreshCache()}function v7(e){jc(e)?.purgeCache()}function w7(e){return jc(e)?.getRowCount()}var C7=class extends ve{constructor(){super(...arguments),this.beanName="rowNodeBlockLoader",this.activeBlockLoadsCount=0,this.blocks=[],this.active=!0}postConstruct(){this.maxConcurrentRequests=MA(this.gos);const e=this.gos.get("blockLoadDebounceMillis");e&&e>0&&(this.checkBlockToLoadDebounce=mr(this,this.performCheckBlocksToLoad.bind(this),e))}addBlock(e){this.blocks.push(e),e.addEventListener("loadComplete",this.loadComplete.bind(this)),this.checkBlockToLoad()}removeBlock(e){pn(this.blocks,e)}destroy(){super.destroy(),this.active=!1}loadComplete(){this.activeBlockLoadsCount--,this.checkBlockToLoad()}checkBlockToLoad(){this.checkBlockToLoadDebounce?this.checkBlockToLoadDebounce():this.performCheckBlocksToLoad()}performCheckBlocksToLoad(){if(!this.active)return;if(this.printCacheStatus(),this.maxConcurrentRequests!=null&&this.activeBlockLoadsCount>=this.maxConcurrentRequests){bo(this.gos,"RowNodeBlockLoader - checkBlockToLoad: max loads exceeded");return}const e=this.maxConcurrentRequests!=null?this.maxConcurrentRequests-this.activeBlockLoadsCount:1,t=this.blocks.filter(r=>r.state==="needsLoading").slice(0,e);this.activeBlockLoadsCount+=t.length;for(const r of t)r.load();this.printCacheStatus()}getBlockState(){const e={};return this.blocks.forEach(t=>{const{id:r,state:n}=t.getBlockStateJson();e[r]=n}),e}printCacheStatus(){bo(this.gos,`RowNodeBlockLoader - printCacheStatus: activePageLoadsCount = ${this.activeBlockLoadsCount}, blocks = ${JSON.stringify(this.getBlockState())}`)}},F7={moduleName:"InfiniteRowModelCore",version:Me,rowModels:["infinite"],beans:[b7,C7]},S7={moduleName:"InfiniteRowModel",version:Me,apiFunctions:{refreshInfiniteCache:y7,purgeInfiniteCache:v7,getInfiniteRowCount:w7},dependsOn:[F7,BN]},x7="",k7="",E7={tag:"span",children:[{tag:"span",ref:"eDelta",cls:"ag-value-change-delta"},{tag:"span",ref:"eValue",cls:"ag-value-change-value"}]},R7=class extends Xt{constructor(){super(E7),this.eValue=Ve,this.eDelta=Ve,this.refreshCount=0}init(e){this.refresh(e,!0)}showDelta(e,t){const r=Math.abs(t),n=e.formatValue(r),i=Le(n)?n:r,o=t>=0,s=this.eDelta;o?s.textContent=x7+i:s.textContent=k7+i,s.classList.toggle("ag-value-change-delta-up",o),s.classList.toggle("ag-value-change-delta-down",!o)}setTimerToRemoveDelta(){this.refreshCount++;const e=this.refreshCount;this.beans.frameworkOverrides.wrapIncoming(()=>{window.setTimeout(()=>{e===this.refreshCount&&this.hideDeltaValue()},2e3)})}hideDeltaValue(){this.eValue.classList.remove("ag-value-change-value-highlight"),zr(this.eDelta)}refresh(e,t=!1){const{value:r,valueFormatted:n}=e,{eValue:i,lastValue:o,beans:s}=this;if(r===o||(Le(n)?i.textContent=n:Le(r)?i.textContent=r:zr(i),s.filterManager?.isSuppressFlashingCellsBecauseFiltering()))return!1;const a=r&&typeof r=="object"&&"toNumber"in r?r.toNumber():r,l=o&&typeof o=="object"&&"toNumber"in o?o.toNumber():o;if(a===l)return!1;if(typeof a=="number"&&typeof l=="number"){const u=a-l;this.showDelta(e,u)}return o&&i.classList.add("ag-value-change-value-highlight"),t||this.setTimerToRemoveDelta(),this.lastValue=r,!0}},_7=".ag-value-slide-out{opacity:1}:where(.ag-ltr) .ag-value-slide-out{margin-right:5px;transition:opacity 3s,margin-right 3s}:where(.ag-rtl) .ag-value-slide-out{margin-left:5px;transition:opacity 3s,margin-left 3s}:where(.ag-ltr,.ag-rtl) .ag-value-slide-out{transition-timing-function:linear}.ag-value-slide-out-end{opacity:0}:where(.ag-ltr) .ag-value-slide-out-end{margin-right:10px}:where(.ag-rtl) .ag-value-slide-out-end{margin-left:10px}",A7={tag:"span",children:[{tag:"span",ref:"eCurrent",cls:"ag-value-slide-current"}]},T7=class extends Xt{constructor(){super(A7),this.eCurrent=Ve,this.refreshCount=0,this.registerCSS(_7)}init(e){this.refresh(e,!0)}addSlideAnimation(){this.refreshCount++;const e=this.refreshCount;this.ePrevious?.remove();const{beans:t,eCurrent:r}=this,n=Pr({tag:"span",cls:"ag-value-slide-previous ag-value-slide-out"});this.ePrevious=n,n.textContent=r.textContent,this.getGui().insertBefore(n,r),t.frameworkOverrides.wrapIncoming(()=>{window.setTimeout(()=>{e===this.refreshCount&&this.ePrevious.classList.add("ag-value-slide-out-end")},50),window.setTimeout(()=>{e===this.refreshCount&&(this.ePrevious?.remove(),this.ePrevious=null)},3e3)})}refresh(e,t=!1){let r=e.value;if($t(r)&&(r=""),r===this.lastValue||this.beans.filterManager?.isSuppressFlashingCellsBecauseFiltering())return!1;t||this.addSlideAnimation(),this.lastValue=r;const n=this.eCurrent;return Le(e.valueFormatted)?n.textContent=e.valueFormatted:Le(e.value)?n.textContent=r:zr(n),!0}},D7=class extends ve{constructor(){super(...arguments),this.beanName="cellFlashSvc",this.nextAnimationTime=null,this.nextAnimationCycle=null,this.animations={highlight:new Map,"data-changed":new Map}}animateCell(e,t,r=this.beans.gos.get("cellFlashDuration"),n=this.beans.gos.get("cellFadeDuration")){const i=this.animations[t];i.delete(e);const o=Date.now(),s=o+r,a=o+r+n,l={phase:"flash",flashEndTime:s,fadeEndTime:a};i.set(e,l);const u=`ag-cell-${t}`,c=`${u}-animation`,{comp:f,eGui:{style:d}}=e;f.toggleCss(u,!0),f.toggleCss(c,!1),d.removeProperty("transition"),d.removeProperty("transition-delay"),this.nextAnimationTime&&s+15<this.nextAnimationTime&&(clearTimeout(this.nextAnimationCycle),this.nextAnimationCycle=null,this.nextAnimationTime=null),this.nextAnimationCycle||(this.beans.frameworkOverrides.wrapIncoming(()=>{this.nextAnimationCycle=setTimeout(this.advanceAnimations.bind(this),r)}),this.nextAnimationTime=s)}advanceAnimations(){const e=Date.now();let t=null;for(const r of Object.keys(this.animations)){const n=this.animations[r],i=`ag-cell-${r}`,o=`${i}-animation`;for(const[s,a]of n){if(!s.isAlive()||!s.comp){n.delete(s);continue}const{phase:l,flashEndTime:u,fadeEndTime:c}=a,f=l==="flash"?u:c;if(!(e+15>=f)){t=Math.min(f,t??1/0);continue}const{comp:h,eGui:{style:g}}=s;switch(l){case"flash":h.toggleCss(i,!1),h.toggleCss(o,!0),g.transition=`background-color ${c-u}ms`,g.transitionDelay=`${u-e}ms`,t=Math.min(c,t??1/0),a.phase="fade";break;case"fade":h.toggleCss(i,!1),h.toggleCss(o,!1),g.removeProperty("transition"),g.removeProperty("transition-delay"),n.delete(s);break}}}t==null?(this.nextAnimationTime=null,this.nextAnimationCycle=null):t&&(this.nextAnimationCycle=setTimeout(this.advanceAnimations.bind(this),t-e),this.nextAnimationTime=t)}onFlashCells(e,t){if(!e.comp)return;const r=TM(e.cellPosition);t.cells[r]&&this.animateCell(e,"highlight")}flashCell(e,t){this.animateCell(e,"data-changed",t?.flashDuration,t?.fadeDuration)}destroy(){for(const e of Object.keys(this.animations))this.animations[e].clear()}};function M7(e,t={}){const{cellFlashSvc:r}=e;r&&e.frameworkOverrides.wrapIncoming(()=>{for(const n of e.rowRenderer.getCellCtrls(t.rowNodes,t.columns))r.flashCell(n,t)})}var P7={moduleName:"HighlightChanges",version:Me,beans:[D7],userComponents:{agAnimateShowChangeCellRenderer:R7,agAnimateSlideCellRenderer:T7},apiFunctions:{flashCells:M7}};function I7(e){return e.stateSvc?.getState()??{}}function B7(e,t,r){return e.stateSvc?.setState(t,r)}function b0(e){return e={...e},e.version||(e.version="32.1.0"),e.version==="32.1.0"&&(e=L7(e)),e.version=Me,e}function L7(e){return e.cellSelection=N7(e,"rangeSelection"),e}function N7(e,t){if(e&&typeof e=="object")return e[t]}var O7=class extends ve{constructor(){super(...arguments),this.beanName="stateSvc",this.updateRowGroupExpansionStateTimer=0,this.suppressEvents=!0,this.queuedUpdateSources=new Set,this.dispatchStateUpdateEventDebounced=mr(this,()=>this.dispatchQueuedStateUpdateEvents(),0),this.onRowGroupOpenedDebounced=mr(this,()=>{this.beans.gos.get("ssrmExpandAllAffectsAllRows")?(this.updateCachedState("ssrmRowGroupExpansion",this.getRowGroupExpansionState()),this.updateCachedState("rowGroupExpansion",void 0)):(this.updateCachedState("rowGroupExpansion",this.getRowGroupExpansionState()),this.updateCachedState("ssrmRowGroupExpansion",void 0))},0),this.onRowSelectedDebounced=mr(this,()=>{this.staleStateKeys.delete("rowSelection"),this.updateCachedState("rowSelection",this.getRowSelectionState())},0),this.staleStateKeys=new Set}postConstruct(){const{gos:e,ctrlsSvc:t,colDelayRenderSvc:r}=this.beans;this.isClientSideRowModel=er(e);const n=b0(e.get("initialState")??{}),i=n.partialColumnState;delete n.partialColumnState,this.cachedState=n;const o=this.suppressEventsAndDispatchInitEvent.bind(this);t.whenReady(this,()=>o(()=>this.setupStateOnGridReady(n))),(n.columnOrder||n.columnVisibility||n.columnSizing||n.columnPinning||n.columnGroup)&&r?.hideColumns("columnState");const[s,a,l]=this.addManagedEventListeners({newColumnsLoaded:({source:u})=>{u==="gridInitializing"&&(s(),o(()=>{this.setupStateOnColumnsInitialised(n,!!i),r?.revealColumns("columnState")}))},rowCountReady:()=>{a?.(),o(()=>this.setupStateOnRowCountReady(n))},firstDataRendered:()=>{l?.(),o(()=>this.setupStateOnFirstDataRendered(n))}})}destroy(){super.destroy(),clearTimeout(this.updateRowGroupExpansionStateTimer),this.queuedUpdateSources.clear()}getState(){return this.staleStateKeys.size&&this.refreshStaleState(),this.cachedState}setState(e,t){const r=b0(e);delete r.partialColumnState,this.cachedState=r,this.startSuppressEvents();const n="api",i=t?new Set(t):void 0;this.setGridReadyState(r,n,i),this.setColumnsInitialisedState(r,n,!!i,i),this.setRowCountState(r,n,i),setTimeout(()=>{this.isAlive()&&this.setFirstDataRenderedState(r,n,i),this.stopSuppressEvents(n)})}setGridReadyState(e,t,r){t==="api"&&!r?.has("sideBar")&&this.beans.sideBar?.comp?.setState(e.sideBar),this.updateCachedState("sideBar",this.getSideBarState())}setupStateOnGridReady(e){this.setGridReadyState(e,"gridInitializing");const t=()=>this.updateCachedState("sideBar",this.getSideBarState());this.addManagedEventListeners({toolPanelVisibleChanged:t,sideBarUpdated:t})}updateColumnAndGroupState(){this.updateColumnState(["aggregation","columnOrder","columnPinning","columnSizing","columnVisibility","pivot","rowGroup","sort"]),this.updateCachedState("columnGroup",this.getColumnGroupState())}setColumnsInitialisedState(e,t,r,n){this.setColumnState(e,t,r,n),this.setColumnGroupState(e,t,n),this.updateColumnAndGroupState()}setupStateOnColumnsInitialised(e,t){this.setColumnsInitialisedState(e,"gridInitializing",t);const r=n=>()=>this.updateColumnState([n]);this.addManagedEventListeners({columnValueChanged:r("aggregation"),columnMoved:r("columnOrder"),columnPinned:r("columnPinning"),columnResized:r("columnSizing"),columnVisible:r("columnVisibility"),columnPivotChanged:r("pivot"),columnPivotModeChanged:r("pivot"),columnRowGroupChanged:r("rowGroup"),sortChanged:r("sort"),newColumnsLoaded:this.updateColumnAndGroupState.bind(this),columnGroupOpened:()=>this.updateCachedState("columnGroup",this.getColumnGroupState())})}setRowCountState(e,t,r){const{filter:n,rowGroupExpansion:i,ssrmRowGroupExpansion:o,rowSelection:s,pagination:a}=e,l=(c,f)=>!r?.has(c)&&(f||t==="api");l("filter",n)&&this.setFilterState(n),l("rowGroupExpansion",i)&&this.setRowGroupExpansionState(o,i,t),l("rowSelection",s)&&this.setRowSelectionState(s,t),l("pagination",a)&&this.setPaginationState(a,t);const u=this.updateCachedState.bind(this);u("filter",this.getFilterState()),this.beans.gos.get("ssrmExpandAllAffectsAllRows")?(u("ssrmRowGroupExpansion",this.getRowGroupExpansionState()),u("rowGroupExpansion",void 0)):(u("rowGroupExpansion",this.getRowGroupExpansionState()),u("ssrmRowGroupExpansion",void 0)),u("rowSelection",this.getRowSelectionState()),u("pagination",this.getPaginationState())}setupStateOnRowCountReady(e){this.setRowCountState(e,"gridInitializing");const t=this.updateCachedState.bind(this),r=()=>{this.updateRowGroupExpansionStateTimer=0,this.beans.gos.get("ssrmExpandAllAffectsAllRows")?(t("ssrmRowGroupExpansion",this.getRowGroupExpansionState()),t("rowGroupExpansion",void 0)):(t("rowGroupExpansion",this.getRowGroupExpansionState()),t("ssrmRowGroupExpansion",void 0))},n=()=>t("filter",this.getFilterState()),{gos:i,colFilter:o}=this.beans;this.addManagedEventListeners({filterChanged:n,rowExpansionStateChanged:this.onRowGroupOpenedDebounced,expandOrCollapseAll:r,columnRowGroupChanged:r,rowDataUpdated:()=>{(i.get("groupDefaultExpanded")!==0||i.get("isGroupOpenByDefault"))&&(this.updateRowGroupExpansionStateTimer||(this.updateRowGroupExpansionStateTimer=setTimeout(r)))},selectionChanged:()=>{this.staleStateKeys.add("rowSelection"),this.onRowSelectedDebounced()},paginationChanged:s=>{(s.newPage||s.newPageSize)&&t("pagination",this.getPaginationState())}}),o&&this.addManagedListeners(o,{filterStateChanged:n})}setFirstDataRenderedState(e,t,r){const{scroll:n,cellSelection:i,focusedCell:o,columnOrder:s,rowPinning:a}=e,l=(f,d)=>!r?.has(f)&&(d||t==="api");l("focusedCell",o)&&this.setFocusedCellState(o),l("cellSelection",i)&&this.setCellSelectionState(i),l("scroll",n)&&this.setScrollState(n),l("rowPinning",a)&&this.setRowPinningState(a),this.setColumnPivotState(!!s?.orderedColIds,t);const u=this.updateCachedState.bind(this);u("sideBar",this.getSideBarState()),u("focusedCell",this.getFocusedCellState());const c=this.getRangeSelectionState();u("rangeSelection",c),u("cellSelection",c),u("scroll",this.getScrollState())}setupStateOnFirstDataRendered(e){this.setFirstDataRenderedState(e,"gridInitializing");const t=this.updateCachedState.bind(this),r=()=>t("focusedCell",this.getFocusedCellState());this.addManagedEventListeners({cellFocused:r,cellFocusCleared:r,cellSelectionChanged:n=>{if(n.finished){const i=this.getRangeSelectionState();t("rangeSelection",i),t("cellSelection",i)}},bodyScrollEnd:()=>t("scroll",this.getScrollState()),pinnedRowsChanged:()=>t("rowPinning",this.getRowPinningState())})}getColumnState(){const e=this.beans;return PI(ic(e),e.colModel.isPivotMode())}setColumnState(e,t,r,n){const{sort:i,rowGroup:o,aggregation:s,pivot:a,columnPinning:l,columnVisibility:u,columnSizing:c,columnOrder:f}=e;let d=!1;const h=(z,L)=>{const _=!n?.has(z)&&!!(L||t==="api");return d||(d=_),_},g={},m=z=>{let L=g[z];return L||(L={colId:z},g[z]=L,L)},p={},y=h("sort",i);y&&i?.sortModel.forEach(({colId:z,sort:L},_)=>{const R=m(z);R.sort=L,R.sortIndex=_}),(y||!r)&&(p.sort=null,p.sortIndex=null);const b=h("rowGroup",o);b&&o?.groupColIds.forEach((z,L)=>{const _=m(z);_.rowGroup=!0,_.rowGroupIndex=L}),(b||!r)&&(p.rowGroup=null,p.rowGroupIndex=null);const v=h("aggregation",s);v&&s?.aggregationModel.forEach(({colId:z,aggFunc:L})=>{m(z).aggFunc=L}),(v||!r)&&(p.aggFunc=null);const F=h("pivot",a);F&&(a?.pivotColIds.forEach((z,L)=>{const _=m(z);_.pivot=!0,_.pivotIndex=L}),this.gos.updateGridOptions({options:{pivotMode:!!a?.pivotMode},source:t})),(F||!r)&&(p.pivot=null,p.pivotIndex=null);const E=h("columnPinning",l);if(E){for(const z of l?.leftColIds??[])m(z).pinned="left";for(const z of l?.rightColIds??[])m(z).pinned="right"}(E||!r)&&(p.pinned=null);const T=h("columnVisibility",u);if(T)for(const z of u?.hiddenColIds??[])m(z).hide=!0;(T||!r)&&(p.hide=null);const I=h("columnSizing",c);if(I)for(const{colId:z,flex:L,width:_}of c?.columnSizingModel??[]){const R=m(z);R.flex=L??null,R.width=_}(I||!r)&&(p.flex=null);const M=f?.orderedColIds,P=!!M?.length&&!n?.has("columnOrder"),O=P?M.map(z=>m(z)):Object.values(g);(O.length||d)&&(this.columnStates=O,fn(this.beans,{state:O,applyOrder:P,defaultState:p},t))}setColumnPivotState(e,t){const r=this.columnStates;this.columnStates=void 0;const n=this.columnGroupStates;this.columnGroupStates=void 0;const i=this.beans,{pivotResultCols:o,colGroupSvc:s}=i;if(o?.isPivotResultColsPresent()){if(r){const a=[];for(const l of r)o.getPivotResultCol(l.colId)&&a.push(l);fn(i,{state:a,applyOrder:e},t)}n&&s?.setColumnGroupState(n,t)}}getColumnGroupState(){const e=this.beans.colGroupSvc;if(!e)return;const t=e.getColumnGroupState();return II(t)}setColumnGroupState(e,t,r){const n=this.beans.colGroupSvc;if(!n||r?.has("columnGroup")||t!=="api"&&!Object.prototype.hasOwnProperty.call(e,"columnGroup"))return;const i=new Set(e.columnGroup?.openColumnGroupIds),s=n.getColumnGroupState().map(({groupId:a})=>{const l=i.has(a);return l&&i.delete(a),{groupId:a,open:l}});for(const a of i)s.push({groupId:a,open:!0});s.length&&(this.columnGroupStates=s),n.setColumnGroupState(s,t)}getFilterState(){const e=this.beans.filterManager;let t=e?.getFilterModel();t&&Object.keys(t).length===0&&(t=void 0);const r=e?.getFilterState(),n=e?.getAdvFilterModel()??void 0;return t||n||r?{filterModel:t,columnFilterState:r,advancedFilterModel:n}:void 0}setFilterState(e){const t=this.beans.filterManager,{filterModel:r,columnFilterState:n,advancedFilterModel:i}=e??{filterModel:null,columnFilterState:null,advancedFilterModel:null};(r!==void 0||n!==void 0)&&t?.setFilterState(r??null,n??null,"columnFilter"),i!==void 0&&t?.setAdvFilterModel(i??null,"advancedFilter")}getRangeSelectionState(){const e=this.beans.rangeSvc?.getCellRanges().map(t=>{const{id:r,type:n,startRow:i,endRow:o,columns:s,startColumn:a}=t;return{id:r,type:n,startRow:i,endRow:o,colIds:s.map(l=>l.getColId()),startColId:a.getColId()}});return e?.length?{cellRanges:e}:void 0}setCellSelectionState(e){const{gos:t,rangeSvc:r,colModel:n,visibleCols:i}=this.beans;if(!_i(t)||!r)return;const o=[];for(const s of e?.cellRanges??[]){const a=[];for(const u of s.colIds){const c=n.getCol(u);c&&a.push(c)}if(!a.length)continue;let l=n.getCol(s.startColId);if(!l){const u=i.allCols,c=new Set(a);l=u.find(f=>c.has(f))}o.push({...s,columns:a,startColumn:l})}r.setCellRanges(o)}getScrollState(){if(!this.isClientSideRowModel)return;const e=this.beans.ctrlsSvc.getScrollFeature(),{left:t}=e?.getHScrollPosition()??{left:0},{top:r}=e?.getVScrollPosition()??{top:0};return r||t?{top:r,left:t}:void 0}setScrollState(e){if(!this.isClientSideRowModel)return;const{top:t,left:r}=e??{top:0,left:0},{frameworkOverrides:n,rowRenderer:i,animationFrameSvc:o,ctrlsSvc:s}=this.beans;n.wrapIncoming(()=>{s.get("center").setCenterViewportScrollLeft(r),s.getScrollFeature()?.setVerticalScrollPosition(t),i.redraw({afterScroll:!0}),o?.flushAllFrames()})}getSideBarState(){return this.beans.sideBar?.comp?.getState()}getFocusedCellState(){if(!this.isClientSideRowModel)return;const e=this.beans.focusSvc.getFocusedCell();if(e){const{column:t,rowIndex:r,rowPinned:n}=e;return{colId:t.getColId(),rowIndex:r,rowPinned:n}}}setFocusedCellState(e){if(!this.isClientSideRowModel)return;const{focusSvc:t,colModel:r}=this.beans;if(!e){t.clearFocusedCell();return}const{colId:n,rowIndex:i,rowPinned:o}=e;t.setFocusedCell({column:r.getCol(n),rowIndex:i,rowPinned:o,forceBrowserFocus:!0,preventScrollOnBrowserFocus:!0})}getPaginationState(){const{pagination:e,gos:t}=this.beans;if(!e)return;const r=e.getCurrentPage(),n=t.get("paginationAutoPageSize")?void 0:e.getPageSize();if(!(!r&&!n))return{page:r,pageSize:n}}setPaginationState(e,t){const{pagination:r,gos:n}=this.beans;if(!r)return;const{pageSize:i,page:o}=e??{page:0,pageSize:n.get("paginationPageSize")},s=t==="gridInitializing";i&&!n.get("paginationAutoPageSize")&&r.setPageSize(i,s?"initialState":"pageSizeSelector"),typeof o=="number"&&(s?r.setPage(o):r.goToPage(o))}getRowSelectionState(){const e=this.beans.selectionSvc;if(!e)return;const t=e.getSelectionState();return!t||!Array.isArray(t)&&(t.selectAll===!1||t.selectAllChildren===!1)&&!t?.toggledNodes?.length?void 0:t}setRowSelectionState(e,t){this.beans.selectionSvc?.setSelectionState(e,t,t==="api")}getRowGroupExpansionState(){const{expansionSvc:e}=this.beans;if(e)return e.getExpansionState()}getRowPinningState(){return this.beans.pinnedRowModel?.getPinnedState()}setRowPinningState(e){const t=this.beans.pinnedRowModel;e?t?.setPinnedState(e):t?.reset()}setRowGroupExpansionState(e,t,r){const n=this.beans.expansionSvc;if(!n)return;const i=t??{expandedRowGroupIds:[],collapsedRowGroupIds:[]};n.setExpansionState(i,r)}updateColumnState(e){const t=this.getColumnState();let r=!1;const n=this.cachedState;for(const i of Object.keys(t)){const o=t[i];fa(o,n[i])||(r=!0)}this.cachedState={...n,...t},r&&this.dispatchStateUpdateEvent(e)}updateCachedState(e,t){const r=this.cachedState[e];this.setCachedStateValue(e,t),fa(t,r)||this.dispatchStateUpdateEvent([e])}setCachedStateValue(e,t){this.cachedState={...this.cachedState,[e]:t}}refreshStaleState(){const e=this.staleStateKeys;for(const t of e)t==="rowSelection"&&this.setCachedStateValue(t,this.getRowSelectionState());e.clear()}dispatchStateUpdateEvent(e){if(!this.suppressEvents){for(const t of e)this.queuedUpdateSources.add(t);this.dispatchStateUpdateEventDebounced()}}dispatchQueuedStateUpdateEvents(){const e=this.queuedUpdateSources,t=Array.from(e);e.clear(),this.eventSvc.dispatchEvent({type:"stateUpdated",sources:t,state:this.cachedState})}startSuppressEvents(){this.suppressEvents=!0,this.beans.colAnimation?.setSuppressAnimation(!0)}stopSuppressEvents(e){setTimeout(()=>{this.suppressEvents=!1,this.queuedUpdateSources.clear(),this.isAlive()&&(this.beans.colAnimation?.setSuppressAnimation(!1),this.dispatchStateUpdateEvent([e]))})}suppressEventsAndDispatchInitEvent(e){this.startSuppressEvents(),e(),this.stopSuppressEvents("gridInitializing")}},H7={moduleName:"GridState",version:Me,beans:[O7],apiFunctions:{getState:I7,setState:B7}};function G7(e){return e.rowModel.isLastRowIndexKnown()}function j7(e){return e.pagination?.getPageSize()??100}function z7(e){return e.pagination?.getCurrentPage()??0}function V7(e){return e.pagination?.getTotalPages()??1}function W7(e){return e.pagination?e.pagination.getMasterRowCount():e.rowModel.getRowCount()}function $7(e){e.pagination?.goToNextPage()}function U7(e){e.pagination?.goToPreviousPage()}function K7(e){e.pagination?.goToFirstPage()}function q7(e){e.pagination?.goToLastPage()}function J7(e,t){e.pagination?.goToPage(t)}var Y7=class extends ve{constructor(){super(...arguments),this.beanName="paginationAutoPageSizeSvc"}postConstruct(){this.beans.ctrlsSvc.whenReady(this,e=>{this.centerRowsCtrl=e.center;const t=this.checkPageSize.bind(this);this.addManagedEventListeners({bodyHeightChanged:t,scrollVisibilityChanged:t}),this.addManagedPropertyListener("paginationAutoPageSize",this.onPaginationAutoSizeChanged.bind(this)),this.checkPageSize()})}notActive(){return!this.gos.get("paginationAutoPageSize")||this.centerRowsCtrl==null}onPaginationAutoSizeChanged(){this.notActive()?this.beans.pagination.unsetAutoCalculatedPageSize():this.checkPageSize()}checkPageSize(){if(this.notActive())return;const e=this.centerRowsCtrl.viewportSizeFeature.getBodyHeight();if(e>0){const t=this.beans,r=()=>{const n=Math.max(ao(t),1),i=Math.floor(e/n);t.pagination.setPageSize(i,"autoCalculated")};this.isBodyRendered?mr(this,r,50)():(r(),this.isBodyRendered=!0)}else this.isBodyRendered=!1}},Hs="paginationPageSizeSelector",Z7={tag:"span",cls:"ag-paging-page-size"},X7=class extends Xt{constructor(){super(Z7),this.hasEmptyOption=!1,this.handlePageSizeItemSelected=()=>{if(!this.selectPageSizeComp)return;const e=this.selectPageSizeComp.getValue();if(!e)return;const t=Number(e);isNaN(t)||t<1||t===this.pagination.getPageSize()||(this.pagination.setPageSize(t,"pageSizeSelector"),this.hasEmptyOption&&this.toggleSelectDisplay(!0),this.selectPageSizeComp.getFocusableElement().focus())}}wireBeans(e){this.pagination=e.pagination}postConstruct(){this.addManagedPropertyListener(Hs,()=>{this.onPageSizeSelectorValuesChange()}),this.addManagedEventListeners({paginationChanged:e=>this.handlePaginationChanged(e)})}handlePaginationChanged(e){if(!this.selectPageSizeComp||!e?.newPageSize)return;const t=this.pagination.getPageSize();this.getPageSizeSelectorValues().includes(t)?this.selectPageSizeComp.setValue(t.toString()):this.hasEmptyOption?this.selectPageSizeComp.setValue(""):this.toggleSelectDisplay(!0)}toggleSelectDisplay(e){this.selectPageSizeComp&&!e&&this.reset(),e&&(this.reloadPageSizesSelector(),this.selectPageSizeComp)}reset(){zr(this.getGui()),this.selectPageSizeComp&&(this.selectPageSizeComp=this.destroyBean(this.selectPageSizeComp))}onPageSizeSelectorValuesChange(){this.selectPageSizeComp&&this.shouldShowPageSizeSelector()&&this.reloadPageSizesSelector()}shouldShowPageSizeSelector(){return this.gos.get("pagination")&&!this.gos.get("suppressPaginationPanel")&&!this.gos.get("paginationAutoPageSize")&&this.gos.get(Hs)!==!1}reloadPageSizesSelector(){const e=this.getPageSizeSelectorValues(),t=this.pagination.getPageSize(),r=!t||!e.includes(t);if(r){const i=this.gos.exists("paginationPageSize"),o=this.gos.get(Hs)!==!0;Se(94,{pageSizeSet:i,pageSizesSet:o,pageSizeOptions:e,paginationPageSizeOption:t}),o||Se(95,{paginationPageSizeOption:t,paginationPageSizeSelector:Hs}),e.unshift("")}const n=String(r?"":t);this.selectPageSizeComp?(Ii(this.pageSizeOptions,e)||(this.selectPageSizeComp.clearOptions().addOptions(this.createPageSizeSelectOptions(e)),this.pageSizeOptions=e),this.selectPageSizeComp.setValue(n,!0)):this.createPageSizeSelectorComp(e,n),this.hasEmptyOption=r}createPageSizeSelectOptions(e){return e.map(t=>({value:String(t)}))}createPageSizeSelectorComp(e,t){const r=this.getLocaleTextFunc(),n=r("pageSizeSelectorLabel","Page Size:"),i=r("ariaPageSizeSelectorLabel","Page Size");this.selectPageSizeComp=this.createManagedBean(new pp).addOptions(this.createPageSizeSelectOptions(e)).setValue(t).setAriaLabel(i).setLabel(n).onValueChange(()=>this.handlePageSizeItemSelected()),this.appendChild(this.selectPageSizeComp)}getPageSizeSelectorValues(){const e=[20,50,100],t=this.gos.get(Hs);return!Array.isArray(t)||!t?.length?e:[...t].sort((r,n)=>r-n)}destroy(){this.toggleSelectDisplay(!1),super.destroy()}},Q7={selector:"AG-PAGE-SIZE-SELECTOR",component:X7},eO=".ag-paging-panel{align-items:center;border-top:var(--ag-footer-row-border);display:flex;gap:calc(var(--ag-spacing)*4);height:var(--ag-pagination-panel-height);justify-content:flex-end;padding:0 var(--ag-cell-horizontal-padding)}:where(.ag-paging-page-size) .ag-wrapper{min-width:50px}.ag-paging-page-summary-panel{align-items:center;display:flex;gap:var(--ag-cell-widget-spacing);.ag-disabled &{pointer-events:none}}.ag-paging-button{cursor:pointer;position:relative;&.ag-disabled{cursor:default;opacity:.5}}.ag-paging-number,.ag-paging-row-summary-panel-number{font-weight:500}",tO=class extends tM{constructor(){super(),this.btFirst=Ve,this.btPrevious=Ve,this.btNext=Ve,this.btLast=Ve,this.lbRecordCount=Ve,this.lbFirstRowOnPage=Ve,this.lbLastRowOnPage=Ve,this.lbCurrent=Ve,this.lbTotal=Ve,this.pageSizeComp=Ve,this.previousAndFirstButtonsDisabled=!1,this.nextButtonDisabled=!1,this.lastButtonDisabled=!1,this.areListenersSetup=!1,this.allowFocusInnerElement=!1,this.registerCSS(eO)}wireBeans(e){this.rowModel=e.rowModel,this.pagination=e.pagination,this.ariaAnnounce=e.ariaAnnounce}postConstruct(){const e=this.gos.get("enableRtl");this.setTemplate(this.getTemplate(),[Q7]);const{btFirst:t,btPrevious:r,btNext:n,btLast:i}=this;this.activateTabIndex([t,r,n,i]),t.insertAdjacentElement("afterbegin",on(e?"last":"first",this.beans)),r.insertAdjacentElement("afterbegin",on(e?"next":"previous",this.beans)),n.insertAdjacentElement("afterbegin",on(e?"previous":"next",this.beans)),i.insertAdjacentElement("afterbegin",on(e?"first":"last",this.beans)),this.addManagedPropertyListener("pagination",this.onPaginationChanged.bind(this)),this.addManagedPropertyListener("suppressPaginationPanel",this.onPaginationChanged.bind(this)),this.addManagedPropertyListeners(["paginationPageSizeSelector","paginationAutoPageSize","suppressPaginationPanel"],()=>this.onPageSizeRelatedOptionsChange()),this.pageSizeComp.toggleSelectDisplay(this.pageSizeComp.shouldShowPageSizeSelector()),this.initialiseTabGuard({onTabKeyDown:()=>{},focusInnerElement:o=>this.allowFocusInnerElement?this.tabGuardFeature.getTabGuardCtrl().focusInnerElement(o):v6(this.beans,o),forceFocusOutWhenTabGuardsAreEmpty:!0}),this.onPaginationChanged()}setAllowFocus(e){this.allowFocusInnerElement=e}onPaginationChanged(){const t=this.gos.get("pagination")&&!this.gos.get("suppressPaginationPanel");this.setDisplayed(t),t&&(this.setupListeners(),this.enableOrDisableButtons(),this.updateLabels(),this.onPageSizeRelatedOptionsChange())}onPageSizeRelatedOptionsChange(){this.pageSizeComp.toggleSelectDisplay(this.pageSizeComp.shouldShowPageSizeSelector())}setupListeners(){if(!this.areListenersSetup){this.addManagedEventListeners({paginationChanged:this.onPaginationChanged.bind(this)});for(const e of[{el:this.btFirst,fn:this.onBtFirst.bind(this)},{el:this.btPrevious,fn:this.onBtPrevious.bind(this)},{el:this.btNext,fn:this.onBtNext.bind(this)},{el:this.btLast,fn:this.onBtLast.bind(this)}]){const{el:t,fn:r}=e;this.addManagedListeners(t,{click:r,keydown:n=>{(n.key===me.ENTER||n.key===me.SPACE)&&(n.preventDefault(),r())}})}y6(this.beans,this,this.getGui()),this.areListenersSetup=!0}}onBtFirst(){this.previousAndFirstButtonsDisabled||this.pagination.goToFirstPage()}formatNumber(e){const t=this.gos.getCallback("paginationNumberFormatter");return t?t({value:e}):LI(e,this.getLocaleTextFunc.bind(this))}getTemplate(){const e=this.getLocaleTextFunc(),t=`ag-${this.getCompId()}`;return{tag:"div",cls:"ag-paging-panel ag-unselectable",attrs:{id:`${t}`},children:[{tag:"ag-page-size-selector",ref:"pageSizeComp"},{tag:"span",cls:"ag-paging-row-summary-panel",children:[{tag:"span",ref:"lbFirstRowOnPage",cls:"ag-paging-row-summary-panel-number",attrs:{id:`${t}-first-row`}},{tag:"span",attrs:{id:`${t}-to`},children:e("to","to")},{tag:"span",ref:"lbLastRowOnPage",cls:"ag-paging-row-summary-panel-number",attrs:{id:`${t}-last-row`}},{tag:"span",attrs:{id:`${t}-of`},children:e("of","of")},{tag:"span",ref:"lbRecordCount",cls:"ag-paging-row-summary-panel-number",attrs:{id:`${t}-row-count`}}]},{tag:"span",cls:"ag-paging-page-summary-panel",role:"presentation",children:[{tag:"div",ref:"btFirst",cls:"ag-button ag-paging-button",role:"button",attrs:{"aria-label":e("firstPage","First Page")}},{tag:"div",ref:"btPrevious",cls:"ag-button ag-paging-button",role:"button",attrs:{"aria-label":e("previousPage","Previous Page")}},{tag:"span",cls:"ag-paging-description",children:[{tag:"span",attrs:{id:`${t}-start-page`},children:e("page","Page")},{tag:"span",ref:"lbCurrent",cls:"ag-paging-number",attrs:{id:`${t}-start-page-number`}},{tag:"span",attrs:{id:`${t}-of-page`},children:e("of","of")},{tag:"span",ref:"lbTotal",cls:"ag-paging-number",attrs:{id:`${t}-of-page-number`}}]},{tag:"div",ref:"btNext",cls:"ag-button ag-paging-button",role:"button",attrs:{"aria-label":e("nextPage","Next Page")}},{tag:"div",ref:"btLast",cls:"ag-button ag-paging-button",role:"button",attrs:{"aria-label":e("lastPage","Last Page")}}]}]}}onBtNext(){this.nextButtonDisabled||this.pagination.goToNextPage()}onBtPrevious(){this.previousAndFirstButtonsDisabled||this.pagination.goToPreviousPage()}onBtLast(){this.lastButtonDisabled||this.pagination.goToLastPage()}enableOrDisableButtons(){const e=this.pagination.getCurrentPage(),t=this.rowModel.isLastRowIndexKnown(),r=this.pagination.getTotalPages();this.previousAndFirstButtonsDisabled=e===0,this.toggleButtonDisabled(this.btFirst,this.previousAndFirstButtonsDisabled),this.toggleButtonDisabled(this.btPrevious,this.previousAndFirstButtonsDisabled);const n=this.isZeroPagesToDisplay(),i=e===r-1;this.nextButtonDisabled=i||n,this.lastButtonDisabled=!t||n||e===r-1,this.toggleButtonDisabled(this.btNext,this.nextButtonDisabled),this.toggleButtonDisabled(this.btLast,this.lastButtonDisabled)}toggleButtonDisabled(e,t){B_(e,t),e.classList.toggle("ag-disabled",t)}isZeroPagesToDisplay(){const e=this.rowModel.isLastRowIndexKnown(),t=this.pagination.getTotalPages();return e&&t===0}updateLabels(){const e=this.rowModel.isLastRowIndexKnown(),t=this.pagination.getTotalPages(),r=this.pagination.getMasterRowCount(),n=e?r:null,i=this.pagination.getCurrentPage(),o=this.pagination.getPageSize();let s,a;this.isZeroPagesToDisplay()?s=a=0:(s=o*i+1,a=s+o-1,e&&a>n&&(a=n));const l=s+o-1,u=!e&&r<l,c=this.formatNumber(s);this.lbFirstRowOnPage.textContent=c;let f;const d=this.getLocaleTextFunc();u?f=d("pageLastRowUnknown","?"):f=this.formatNumber(a),this.lbLastRowOnPage.textContent=f;const g=t>0?i+1:0,m=this.formatNumber(g);this.lbCurrent.textContent=m;let p,y;if(e)p=this.formatNumber(t),y=this.formatNumber(n);else{const b=d("more","more");p=b,y=b}this.lbTotal.textContent=p,this.lbRecordCount.textContent=y,this.announceAriaStatus(c,f,y,m,p)}announceAriaStatus(e,t,r,n,i){const o=this.getLocaleTextFunc(),s=o("page","Page"),a=o("to","to"),l=o("of","of"),u=`${e} ${a} ${t} ${l} ${r}`,c=`${s} ${n} ${l} ${i}`;u!==this.ariaRowStatus&&(this.ariaRowStatus=u,this.ariaAnnounce?.announceValue(u,"paginationRow")),c!==this.ariaPageStatus&&(this.ariaPageStatus=c,this.ariaAnnounce?.announceValue(c,"paginationPage"))}},rO={selector:"AG-PAGINATION",component:tO},nO=class extends ve{constructor(){super(...arguments),this.beanName="pagination",this.currentPage=0,this.topDisplayedRowIndex=0,this.bottomDisplayedRowIndex=0,this.masterRowCount=0}postConstruct(){const e=this.gos;this.active=e.get("pagination"),this.pageSizeFromGridOptions=e.get("paginationPageSize"),this.paginateChildRows=this.isPaginateChildRows(),this.addManagedPropertyListener("pagination",this.onPaginationGridOptionChanged.bind(this)),this.addManagedPropertyListener("paginationPageSize",this.onPageSizeGridOptionChanged.bind(this))}getPaginationSelector(){return rO}isPaginateChildRows(){const e=this.gos;return e.get("groupHideParentOfSingleChild")||e.get("groupRemoveSingleChildren")||e.get("groupRemoveLowestSingleChildren")?!0:e.get("paginateChildRows")}onPaginationGridOptionChanged(){this.active=this.gos.get("pagination"),this.calculatePages(),this.dispatchPaginationChangedEvent({keepRenderedRows:!0})}onPageSizeGridOptionChanged(){this.setPageSize(this.gos.get("paginationPageSize"),"gridOptions")}goToPage(e){const t=this.currentPage;if(!this.active||t===e||typeof t!="number")return;const{editSvc:r}=this.beans;r?.isEditing()&&(r.isBatchEditing()?r.cleanupEditors():r.stopEditing(void 0,{source:"api"})),this.currentPage=e,this.calculatePages(),this.dispatchPaginationChangedEvent({newPage:!0})}goToPageWithIndex(e){if(!this.active)return;let t=e;this.paginateChildRows||(t=this.beans.rowModel.getTopLevelIndexFromDisplayedIndex?.(e)??e),this.goToPage(Math.floor(t/this.pageSize))}isRowInPage(e){return this.active?e>=this.topDisplayedRowIndex&&e<=this.bottomDisplayedRowIndex:!0}getCurrentPage(){return this.currentPage}goToNextPage(){this.goToPage(this.currentPage+1)}goToPreviousPage(){this.goToPage(this.currentPage-1)}goToFirstPage(){this.goToPage(0)}goToLastPage(){const e=this.beans.rowModel.getRowCount(),t=Math.floor(e/this.pageSize);this.goToPage(t)}getPageSize(){return this.pageSize}getTotalPages(){return this.totalPages}setPage(e){this.currentPage=e}get pageSize(){return Le(this.pageSizeAutoCalculated)&&this.gos.get("paginationAutoPageSize")?this.pageSizeAutoCalculated:Le(this.pageSizeFromPageSizeSelector)?this.pageSizeFromPageSizeSelector:Le(this.pageSizeFromInitialState)?this.pageSizeFromInitialState:Le(this.pageSizeFromGridOptions)?this.pageSizeFromGridOptions:this.defaultPageSize}calculatePages(){this.active?this.paginateChildRows?this.calculatePagesAllRows():this.calculatePagesMasterRowsOnly():this.calculatedPagesNotActive(),this.beans.pageBounds.calculateBounds(this.topDisplayedRowIndex,this.bottomDisplayedRowIndex)}unsetAutoCalculatedPageSize(){if(this.pageSizeAutoCalculated===void 0)return;const e=this.pageSizeAutoCalculated;this.pageSizeAutoCalculated=void 0,this.pageSize!==e&&(this.calculatePages(),this.dispatchPaginationChangedEvent({newPageSize:!0}))}setPageSize(e,t){const r=this.pageSize;switch(t){case"autoCalculated":this.pageSizeAutoCalculated=e;break;case"pageSizeSelector":this.pageSizeFromPageSizeSelector=e,this.currentPage!==0&&this.goToFirstPage();break;case"initialState":this.pageSizeFromInitialState=e;break;case"gridOptions":this.pageSizeFromGridOptions=e,this.pageSizeFromInitialState=void 0,this.pageSizeFromPageSizeSelector=void 0,this.currentPage!==0&&this.goToFirstPage();break}r!==this.pageSize&&(this.calculatePages(),this.dispatchPaginationChangedEvent({newPageSize:!0,keepRenderedRows:!0}))}setZeroRows(){this.masterRowCount=0,this.topDisplayedRowIndex=0,this.bottomDisplayedRowIndex=-1,this.currentPage=0,this.totalPages=0}adjustCurrentPageIfInvalid(){const e=this.totalPages;this.currentPage>=e&&(this.currentPage=e-1);const t=this.currentPage;(!isFinite(t)||isNaN(t)||t<0)&&(this.currentPage=0)}calculatePagesMasterRowsOnly(){const e=this.beans.rowModel,t=e.getTopLevelRowCount();if(this.masterRowCount=t,t<=0){this.setZeroRows();return}const r=this.pageSize,n=t-1;this.totalPages=Math.floor(n/r)+1,this.adjustCurrentPageIfInvalid();const i=this.currentPage,o=r*i;let s=r*(i+1)-1;if(s>n&&(s=n),this.topDisplayedRowIndex=e.getTopLevelRowDisplayedIndex(o),s===n)this.bottomDisplayedRowIndex=e.getRowCount()-1;else{const a=e.getTopLevelRowDisplayedIndex(s+1);this.bottomDisplayedRowIndex=a-1}}getMasterRowCount(){return this.masterRowCount}calculatePagesAllRows(){const e=this.beans.rowModel.getRowCount();if(this.masterRowCount=e,e===0){this.setZeroRows();return}const{pageSize:t,currentPage:r}=this,n=e-1;this.totalPages=Math.floor(n/t)+1,this.adjustCurrentPageIfInvalid(),this.topDisplayedRowIndex=t*r,this.bottomDisplayedRowIndex=t*(r+1)-1,this.bottomDisplayedRowIndex>n&&(this.bottomDisplayedRowIndex=n)}calculatedPagesNotActive(){this.setPageSize(void 0,"autoCalculated"),this.totalPages=1,this.currentPage=0,this.topDisplayedRowIndex=0,this.bottomDisplayedRowIndex=this.beans.rowModel.getRowCount()-1}dispatchPaginationChangedEvent(e){const{keepRenderedRows:t=!1,newPage:r=!1,newPageSize:n=!1}=e;this.eventSvc.dispatchEvent({type:"paginationChanged",animate:!1,newData:!1,newPage:r,newPageSize:n,keepRenderedRows:t})}},iO={moduleName:"Pagination",version:Me,beans:[nO,Y7],icons:{first:"first",previous:"previous",next:"next",last:"last"},apiFunctions:{paginationIsLastPageFound:G7,paginationGetPageSize:j7,paginationGetCurrentPage:z7,paginationGetTotalPages:V7,paginationGetRowCount:W7,paginationGoToNextPage:$7,paginationGoToPreviousPage:U7,paginationGoToFirstPage:K7,paginationGoToLastPage:q7,paginationGoToPage:J7},dependsOn:[zc]};function oO(e,t={}){const r=t?t.rowNodes:void 0;e.frameworkOverrides.wrapIncoming(()=>e.rowRenderer.redrawRows(r))}function yF(e,t,r,n,i){t&&(n&&t.parent&&t.parent.level!==-1&&yF(e,t.parent,r,n,i),t.setExpanded(r,void 0,i))}function sO(e,t){return e.rowModel.getRowNode(t)}function aO(e,t,r,n){e.rowRenderer.addRenderedRowListener(t,r,n)}function lO(e){return e.rowRenderer.getRenderedNodes()}function uO(e,t,r){e.rowModel.forEachNode(t,r)}function cO(e){return e.rowRenderer.firstRenderedRow}function dO(e){return e.rowRenderer.lastRenderedRow}function hO(e,t){return e.rowModel.getRow(t)}function fO(e){return e.rowModel.getRowCount()}var pO={moduleName:"RowApi",version:Me,apiFunctions:{redrawRows:oO,setRowNodeExpanded:yF,getRowNode:sO,addRenderedRowListener:aO,getRenderedNodes:lO,forEachNode:uO,getFirstDisplayedRowIndex:cO,getLastDisplayedRowIndex:dO,getDisplayedRowAtIndex:hO,getDisplayedRowCount:fO}},gO={moduleName:"ScrollApi",version:Me,apiFunctions:{getVerticalPixelRange:_L,getHorizontalPixelRange:AL,ensureColumnVisible:nF,ensureIndexVisible:iF,ensureNodeVisible:TL}};function mO(e,t,r){if(!t)return;const n=e.ctrlsSvc.getGridBodyCtrl().eGridBody,i=`aria-${t}`;r===null?n.removeAttribute(i):n.setAttribute(i,r)}function bO(e,t={}){e.frameworkOverrides.wrapIncoming(()=>e.rowRenderer.refreshCells(t))}function yO(e){e.frameworkOverrides.wrapIncoming(()=>{for(const t of e.ctrlsSvc.getHeaderRowContainerCtrls())t.refresh()})}function vO(e){return e.animationFrameSvc?.isQueueEmpty()??!0}function wO(e){e.animationFrameSvc?.flushAllFrames()}function CO(e){return{rowHeight:ao(e),headerHeight:ja(e)}}function FO(e,t={}){const r=[];for(const o of e.rowRenderer.getCellCtrls(t.rowNodes,t.columns)){const s=o.getCellRenderer();s!=null&&r.push(wa(s))}if(t.columns?.length)return r;const n=[],i=sf(t.rowNodes);for(const o of e.rowRenderer.getAllRowCtrls()){if(i&&!af(o.rowNode,i)||!o.isFullWidth())continue;const s=o.getFullWidthCellRenderers();for(let a=0;a<s.length;a++){const l=s[a];l!=null&&n.push(wa(l))}}return[...n,...r]}var SO={moduleName:"RenderApi",version:Me,apiFunctions:{setGridAriaProperty:mO,refreshCells:bO,refreshHeader:yO,isAnimationFrameQueueEmpty:vO,flushAllAnimationFrames:wO,getSizesForCurrentTheme:CO,getCellRendererInstances:FO}};function xO(e,t){typeof t=="number"?e.colAutosize?.sizeColumnsToFit(t,"api"):e.colAutosize?.sizeColumnsToFitGridBody(t)}function vF({colAutosize:e,visibleCols:t},r,n){Array.isArray(r)?e?.autoSizeCols({colKeys:r,skipHeader:n,source:"api"}):e?.autoSizeCols({...r,colKeys:r.colIds??t.allCols,source:"api"})}function kO(e,t){t&&typeof t=="object"?vF(e,t):e.colAutosize?.autoSizeAllColumns({source:"api",skipHeader:t})}var EO=class extends ve{constructor(){super(...arguments),this.beanName="colAutosize",this.timesDelayed=0,this.shouldQueueResizeOperations=!1,this.resizeOperationQueue=[]}postConstruct(){const{gos:e}=this,t=e.get("autoSizeStrategy");if(t){let r=!1;const n=t.type;if(n==="fitGridWidth"||n==="fitProvidedWidth")r=!0;else if(n==="fitCellContents"){this.addManagedEventListeners({firstDataRendered:()=>this.onFirstDataRendered(t)});const i=e.get("rowData");r=i!=null&&i.length>0&&er(e)}r&&this.beans.colDelayRenderSvc?.hideColumns(n)}}autoSizeCols(e){const{eventSvc:t,visibleCols:r}=this.beans;this.innerAutoSizeCols(e).then(n=>{const i=u=>vs(t,Array.from(u),!0,"autosizeColumns");if(!e.scaleUpToFitGridWidth)return i(n);const o=y0(this.beans),s=u=>r.leftCols.some(c=>na(c,u)),a=u=>r.rightCols.some(c=>na(c,u)),l=e.colKeys.filter(u=>!si(u)&&!Zn(u)&&!s(u)&&!a(u));this.sizeColumnsToFit(o,e.source,!0,{defaultMaxWidth:e.defaultMaxWidth,defaultMinWidth:e.defaultMinWidth,columnLimits:e.columnLimits?.map(u=>({...u,key:u.colId})),colKeys:l,onlyScaleUp:!0}),i(n)})}innerAutoSizeCols(e){return new Promise((t,r)=>{if(this.shouldQueueResizeOperations)return this.pushResizeOperation(()=>this.innerAutoSizeCols(e).then(t,r));const{colKeys:n,skipHeader:i,skipHeaderGroups:o,stopAtGroup:s,defaultMaxWidth:a,defaultMinWidth:l,columnLimits:u=[],source:c="api"}=e,{animationFrameSvc:f,renderStatus:d,colModel:h,autoWidthCalc:g,visibleCols:m}=this.beans;if(f?.flushAllFrames(),this.timesDelayed<5&&d&&(!d.areHeaderCellsRendered()||!d.areCellsRendered())){this.timesDelayed++,setTimeout(()=>{this.isAlive()&&this.innerAutoSizeCols(e).then(t,r)});return}this.timesDelayed=0;const p=new Set;let y=-1;const b=Object.fromEntries(u.map(({colId:E,...T})=>[E,T])),v=i??this.gos.get("skipHeaderOnAutoSize"),F=o??v;for(;y!==0;){y=0;const E=[];for(const T of n){if(!T||KA(T))continue;const I=h.getCol(T);if(!I||p.has(I))continue;const M=g.getPreferredWidthForColumn(I,v);if(M>0){const P=b[I.colId]??{};P.minWidth??(P.minWidth=l),P.maxWidth??(P.maxWidth=a);const O=RO(I,M,P);I.setActualWidth(O,c),p.add(I),y++}E.push(I)}E.length&&m.refresh(c)}F||this.autoSizeColumnGroupsByColumns(n,c,s),t(p)})}autoSizeColumn(e,t,r){this.autoSizeCols({colKeys:[e],skipHeader:r,skipHeaderGroups:!0,source:t})}autoSizeColumnGroupsByColumns(e,t,r){const{colModel:n,ctrlsSvc:i}=this.beans,o=new Set,s=n.getColsForKeys(e);for(const l of s){let u=l.getParent();for(;u&&u!=r;)u.isPadding()||o.add(u),u=u.getParent()}let a;for(const l of o){for(const u of i.getHeaderRowContainerCtrls())if(a=u.getHeaderCtrlForColumn(l),a)break;a?.resizeLeafColumnsToFit(t)}}autoSizeAllColumns(e){if(this.shouldQueueResizeOperations){this.pushResizeOperation(()=>this.autoSizeAllColumns(e));return}this.autoSizeCols({colKeys:this.beans.visibleCols.allCols,...e})}addColumnAutosizeListeners(e,t){const r=this.gos.get("skipHeaderOnAutoSize"),n=()=>{this.autoSizeColumn(t,"uiColumnResized",r)};e.addEventListener("dblclick",n);const i=new Ji(e);return i.addEventListener("doubleTap",n),()=>{e.removeEventListener("dblclick",n),i.destroy()}}addColumnGroupResize(e,t,r){const n=this.gos.get("skipHeaderOnAutoSize"),i=()=>{const o=[],s=t.getDisplayedLeafColumns();for(const a of s)a.getColDef().suppressAutoSize||o.push(a.getColId());o.length>0&&this.autoSizeCols({colKeys:o,skipHeader:n,stopAtGroup:t,source:"uiColumnResized"}),r()};return e.addEventListener("dblclick",i),()=>e.removeEventListener("dblclick",i)}sizeColumnsToFitGridBody(e,t){if(!this.isAlive())return;const r=y0(this.beans);if(r>0){this.sizeColumnsToFit(r,"sizeColumnsToFit",!1,e);return}t===void 0?window.setTimeout(()=>{this.sizeColumnsToFitGridBody(e,100)},0):t===100?window.setTimeout(()=>{this.sizeColumnsToFitGridBody(e,500)},100):t===500?window.setTimeout(()=>{this.sizeColumnsToFitGridBody(e,-1)},500):Se(29)}sizeColumnsToFit(e,t="sizeColumnsToFit",r,n){if(this.shouldQueueResizeOperations){this.pushResizeOperation(()=>this.sizeColumnsToFit(e,t,r,n));return}const i={};for(const{key:g,...m}of n?.columnLimits??[])i[typeof g=="string"?g:g.getColId()]=m;const o=this.beans.visibleCols.allCols;if(e<=0||!o.length)return;const s=Wn(o);if(n?.onlyScaleUp&&s>e||e===s&&o.every(m=>{if(m.colDef.suppressSizeToFit)return!0;const p=i?.[m.getId()],y=p?.minWidth??n?.defaultMinWidth,b=p?.maxWidth??n?.defaultMaxWidth,v=m.getActualWidth();return(y==null||v>=y)&&(b==null||v<=b)}))return;const l=[],u=[];for(const g of o){const m=n?.colKeys?.some(p=>na(g,p))??!0;g.getColDef().suppressSizeToFit||!m?u.push(g):l.push(g)}const c=l.slice(0);let f=!1;const d=g=>{pn(l,g),u.push(g)};for(const g of l){g.resetActualWidth(t);const m=i?.[g.getId()],p=m?.minWidth??n?.defaultMinWidth,y=m?.maxWidth??n?.defaultMaxWidth,b=g.getActualWidth();typeof p=="number"&&b<p?g.setActualWidth(p,t,!0):typeof y=="number"&&b>y&&g.setActualWidth(y,t,!0)}for(;!f;){f=!0;const g=e-Wn(u);if(g<=0)for(const m of l){const p=i?.[m.getId()]?.minWidth??n?.defaultMinWidth??m.minWidth;m.setActualWidth(p,t,!0)}else{const m=g/Wn(l);let p=g;for(let y=l.length-1;y>=0;y--){const b=l[y],v=i?.[b.getId()],F=v?.minWidth??n?.defaultMinWidth,E=v?.maxWidth??n?.defaultMaxWidth,T=b.getMinWidth(),I=b.getMaxWidth(),M=typeof F=="number"&&F>T?F:T,P=typeof E=="number"&&E<I?E:I;let O=Math.round(b.getActualWidth()*m);O<M?(O=M,d(b),f=!1):O>P?(O=P,d(b),f=!1):y===0&&(O=p),b.setActualWidth(O,t,!0),p-=O}}}for(const g of c)g.fireColumnWidthChangedEvent(t);const h=this.beans.visibleCols;h.setLeftValues(t),h.updateBodyWidths(),!r&&vs(this.eventSvc,c,!0,t)}applyAutosizeStrategy(){const{gos:e,colDelayRenderSvc:t}=this.beans,r=e.get("autoSizeStrategy");r?.type!=="fitGridWidth"&&r?.type!=="fitProvidedWidth"||setTimeout(()=>{if(!this.isAlive())return;const n=r.type;if(n==="fitGridWidth"){const{columnLimits:i,defaultMinWidth:o,defaultMaxWidth:s}=r,a=i?.map(({colId:l,minWidth:u,maxWidth:c})=>({key:l,minWidth:u,maxWidth:c}));this.sizeColumnsToFitGridBody({defaultMinWidth:o,defaultMaxWidth:s,columnLimits:a})}else n==="fitProvidedWidth"&&this.sizeColumnsToFit(r.width,"sizeColumnsToFit");t?.revealColumns(n)})}onFirstDataRendered({colIds:e,...t}){setTimeout(()=>{if(!this.isAlive())return;const r="autosizeColumns";e?this.autoSizeCols({...t,source:r,colKeys:e}):this.autoSizeAllColumns({...t,source:r}),this.beans.colDelayRenderSvc?.revealColumns(t.type)})}processResizeOperations(){this.shouldQueueResizeOperations=!1;for(const e of this.resizeOperationQueue)e();this.resizeOperationQueue=[]}pushResizeOperation(e){this.resizeOperationQueue.push(e)}destroy(){this.resizeOperationQueue.length=0,super.destroy()}};function RO(e,t,r={}){const n=r.minWidth??e.getMinWidth();t<n&&(t=n);const i=r.maxWidth??e.getMaxWidth();return t>i&&(t=i),t}function y0({ctrlsSvc:e,scrollVisibleSvc:t}){const r=e.getGridBodyCtrl(),i=r.isVerticalScrollShowing()?t.getScrollbarWidth():0;return ma(r.eGridBody)-i}var _O={moduleName:"ColumnAutoSize",version:Me,beans:[EO],apiFunctions:{sizeColumnsToFit:xO,autoSizeColumns:vF,autoSizeAllColumns:kO},dependsOn:[vC]},AO=".ag-row-pinned-source{background-color:var(--ag-pinned-source-row-background-color);color:var(--ag-pinned-source-row-text-color);font-weight:var(--ag-pinned-source-row-font-weight)}.ag-row-pinned-manual{background-color:var(--ag-pinned-row-background-color);color:var(--ag-pinned-row-text-color);font-weight:var(--ag-pinned-row-font-weight)}";function TO(e){return e.pinnedRowModel?.getPinnedTopRowCount()??0}function DO(e){return e.pinnedRowModel?.getPinnedBottomRowCount()??0}function MO(e,t){return e.pinnedRowModel?.getPinnedTopRow(t)}function PO(e,t){return e.pinnedRowModel?.getPinnedBottomRow(t)}function IO(e,t,r){return e.pinnedRowModel?.forEachPinnedRow(t,r)}var BO={moduleName:"PinnedRow",version:Me,beans:[q6],css:[AO],apiFunctions:{getPinnedTopRowCount:TO,getPinnedBottomRowCount:DO,getPinnedTopRow:MO,getPinnedBottomRow:PO,forEachPinnedRow:IO},icons:{rowPin:"pin",rowPinTop:"pinned-top",rowPinBottom:"pinned-bottom",rowUnpin:"un-pin"}},LO=class{constructor(e,t){this.col=e,this.firstNode=t,this.cellSpan=!0,this.spannedNodes=new Set,this.addSpannedNode(t)}reset(){this.spannedNodes.clear(),this.addSpannedNode(this.firstNode)}addSpannedNode(e){this.spannedNodes.add(e),this.lastNode=e}getLastNode(){return this.lastNode}getCellHeight(){return this.lastNode.rowTop+this.lastNode.rowHeight-this.firstNode.rowTop-1}doesSpanContain(e){return e.column!==this.col||e.rowPinned!=this.firstNode.rowPinned?!1:this.firstNode.rowIndex<=e.rowIndex&&e.rowIndex<=this.lastNode.rowIndex}getLastNodeAutoHeight(){const e=this.firstNode.__autoHeights?.[this.col.getColId()];if(e==null)return;let t=0;for(const r of this.spannedNodes)r!==this.lastNode&&(t+=r.rowHeight);return e-t}},NO=class extends ve{constructor(e){super(),this.column=e}buildCache(e){const{column:t,beans:{gos:r,pinnedRowModel:n,rowModel:i,valueSvc:o,pagination:s}}=this,{colDef:a}=t,l=this.getNodeMap(e),u=new Map,c=r.getCallback("isFullWidthRow"),f=a.equals,d=a.spanRows,h=typeof d=="function";let g=null,m=null,p;const y=(v,F)=>{g=v,m=null,p=F},b=v=>{const F=!v.isExpandable()&&!v.group&&!v.detail&&(c?!c({rowNode:v}):!0);if(v.rowIndex==null||!F){y(null,null);return}if(g==null||v.level!==g.level||v.footer||m&&v.rowIndex-1!==m?.getLastNode().rowIndex){y(v,o.getValue(t,v));return}const E=o.getValue(t,v);if(h){const T=Ue(r,{valueA:p,nodeA:g,valueB:E,nodeB:v,column:t,colDef:a});if(!d(T)){y(v,E);return}}else if(f?!f(p,E):p!==E){y(v,E);return}if(!m){const T=l?.get(g);T?.firstNode===g?(T.reset(),m=T):m=new LO(t,g),u.set(g,m)}m.addSpannedNode(v),u.set(v,m)};switch(e){case"center":i.forEachDisplayedNode?.(v=>{(!s||s.isRowInPage(v.rowIndex))&&b(v)}),this.centerValueNodeMap=u;break;case"top":n?.forEachPinnedRow("top",b),this.topValueNodeMap=u;break;case"bottom":n?.forEachPinnedRow("bottom",b),this.bottomValueNodeMap=u;break}}isCellSpanning(e){return!!this.getCellSpan(e)}getCellSpan(e){return this.getNodeMap(e.rowPinned).get(e)}getNodeMap(e){switch(e){case"top":return this.topValueNodeMap;case"bottom":return this.bottomValueNodeMap;default:return this.centerValueNodeMap}}},OO=class extends ve{constructor(){super(...arguments),this.beanName="rowSpanSvc",this.spanningColumns=new Map,this.debouncePinnedEvent=mr(this,this.dispatchCellsUpdatedEvent.bind(this,!0),0),this.debounceModelEvent=mr(this,this.dispatchCellsUpdatedEvent.bind(this,!1),0),this.pinnedTimeout=null,this.modelTimeout=null}postConstruct(){const e=this.onRowDataUpdated.bind(this),t=this.buildPinnedCaches.bind(this);this.addManagedEventListeners({paginationChanged:this.buildModelCaches.bind(this),pinnedRowDataChanged:t,pinnedRowsChanged:t,rowNodeDataChanged:e,cellValueChanged:e})}register(e){const{gos:t}=this.beans;if(!t.get("enableCellSpan")||this.spanningColumns.has(e))return;const r=this.createManagedBean(new NO(e));this.spanningColumns.set(e,r),r.buildCache("top"),r.buildCache("bottom"),r.buildCache("center"),this.debouncePinnedEvent(),this.debounceModelEvent()}dispatchCellsUpdatedEvent(e){this.dispatchLocalEvent({type:"spannedCellsUpdated",pinned:e})}deregister(e){this.spanningColumns.delete(e)}onRowDataUpdated({node:e}){const{spannedRowRenderer:t}=this.beans;if(e.rowPinned){if(this.pinnedTimeout!=null)return;this.pinnedTimeout=window.setTimeout(()=>{this.pinnedTimeout=null,this.buildPinnedCaches(),t?.createCtrls("top"),t?.createCtrls("bottom")},0);return}this.modelTimeout==null&&(this.modelTimeout=window.setTimeout(()=>{this.modelTimeout=null,this.buildModelCaches(),t?.createCtrls("center")},0))}buildModelCaches(){this.modelTimeout!=null&&clearTimeout(this.modelTimeout),this.spanningColumns.forEach(e=>e.buildCache("center")),this.debounceModelEvent()}buildPinnedCaches(){this.pinnedTimeout!=null&&clearTimeout(this.pinnedTimeout),this.spanningColumns.forEach(e=>{e.buildCache("top"),e.buildCache("bottom")}),this.debouncePinnedEvent()}isCellSpanning(e,t){const r=this.spanningColumns.get(e);return r?r.isCellSpanning(t):!1}getCellSpanByPosition(e){const{pinnedRowModel:t,rowModel:r}=this.beans,n=e.column,i=e.rowIndex,o=this.spanningColumns.get(n);if(!o)return;let s;switch(e.rowPinned){case"top":s=t?.getPinnedTopRow(i);break;case"bottom":s=t?.getPinnedBottomRow(i);break;default:s=r.getRow(i)}if(s)return o.getCellSpan(s)}getCellStart(e){const t=this.getCellSpanByPosition(e);return t?{...e,rowIndex:t.firstNode.rowIndex}:e}getCellEnd(e){const t=this.getCellSpanByPosition(e);return t?{...e,rowIndex:t.getLastNode().rowIndex}:e}getCellSpan(e,t){const r=this.spanningColumns.get(e);if(r)return r.getCellSpan(t)}forEachSpannedColumn(e,t){for(const[r,n]of this.spanningColumns)if(n.isCellSpanning(e)){const i=n.getCellSpan(e);t(r,i)}}destroy(){super.destroy(),this.spanningColumns.clear()}},HO=class extends hs{constructor(e,t,r){super(e.col,e.firstNode,r,t),this.cellSpan=e,this.SPANNED_CELL_CSS_CLASS="ag-spanned-cell"}setComp(e,t,r,n,i,o,s){this.eWrapper=r,super.setComp(e,t,r,n,i,o,s),this.setAriaRowSpan(),this.refreshAriaRowIndex()}isCellSpanning(){return!0}getCellSpan(){return this.cellSpan}refreshAriaRowIndex(){const{eGui:e,rowNode:t}=this;!e||t.rowIndex==null||kw(e,t.rowIndex)}setAriaRowSpan(){H_(this.eGui,this.cellSpan.spannedNodes.size)}setFocusedCellPosition(e){this.focusedCellPosition=e}getFocusedCellPosition(){return this.focusedCellPosition??this.cellPosition}checkCellFocused(){const e=this.beans.focusSvc.getFocusedCell();return!!e&&this.cellSpan.doesSpanContain(e)}applyStaticCssClasses(){super.applyStaticCssClasses(),this.comp.toggleCss(this.SPANNED_CELL_CSS_CLASS,!0)}onCellFocused(e){const{beans:t}=this;if(Hc(t)){this.focusedCellPosition=void 0;return}const r=this.isCellFocused();r||(this.focusedCellPosition=void 0),e&&r&&(this.focusedCellPosition={rowIndex:e.rowIndex,rowPinned:e.rowPinned,column:e.column}),super.onCellFocused(e)}getRootElement(){return this.eWrapper}},GO=class extends hc{onRowIndexChanged(){super.onRowIndexChanged();for(const e of this.getAllCellCtrls())e.refreshAriaRowIndex()}getInitialRowClasses(e){return["ag-spanned-row"]}getNewCellCtrl(e){const t=this.beans.rowSpanSvc?.getCellSpan(e,this.rowNode);if(!(!t||t.firstNode!==this.rowNode))return new HO(t,this,this.beans)}isCorrectCtrlForSpan(e){const t=this.beans.rowSpanSvc?.getCellSpan(e.column,this.rowNode);return!t||t.firstNode!==this.rowNode?!1:e.getCellSpan()===t}onRowHeightChanged(){}refreshFirstAndLastRowStyles(){}addHoverFunctionality(){}resetHoveredStatus(){}},jO=class extends ve{constructor(){super(...arguments),this.beanName="spannedRowRenderer",this.topCtrls=new Map,this.bottomCtrls=new Map,this.centerCtrls=new Map}postConstruct(){this.addManagedEventListeners({displayedRowsChanged:this.createAllCtrls.bind(this)})}createAllCtrls(){this.createCtrls("top"),this.createCtrls("bottom"),this.createCtrls("center")}createCtrls(e){const{rowSpanSvc:t}=this.beans,r=this.getCtrlsMap(e),n=r.size,i=this.getAllRelevantRowControls(e),o=new Map;let s=!1;for(const l of i)l.isAlive()&&t?.forEachSpannedColumn(l.rowNode,(u,c)=>{if(o.has(c.firstNode))return;const f=r.get(c.firstNode);if(f){o.set(c.firstNode,f),r.delete(c.firstNode);return}s=!0;const d=new GO(c.firstNode,this.beans,!1,!1,!1);o.set(c.firstNode,d)});this.setCtrlsMap(e,o);const a=o.size===n;if(!(!s&&a)){for(const l of r.values())l.destroyFirstPass(!0),l.destroySecondPass();this.dispatchLocalEvent({type:"spannedRowsUpdated",ctrlsKey:e})}}getAllRelevantRowControls(e){const{rowRenderer:t}=this.beans;switch(e){case"top":return t.topRowCtrls;case"bottom":return t.bottomRowCtrls;case"center":return t.allRowCtrls}}getCellByPosition(e){const{rowSpanSvc:t}=this.beans,r=t?.getCellSpanByPosition(e);if(!r)return;const n=this.getCtrlsMap(e.rowPinned).get(r.firstNode);if(n)return n.getAllCellCtrls().find(i=>i.column===e.column)}getCtrls(e){return[...this.getCtrlsMap(e).values()]}destroyRowCtrls(e){for(const t of this.getCtrlsMap(e).values())t.destroyFirstPass(!0),t.destroySecondPass();this.setCtrlsMap(e,new Map)}getCtrlsMap(e){switch(e){case"top":return this.topCtrls;case"bottom":return this.bottomCtrls;default:return this.centerCtrls}}setCtrlsMap(e,t){switch(e){case"top":this.topCtrls=t;break;case"bottom":this.bottomCtrls=t;break;default:this.centerCtrls=t;break}}destroy(){super.destroy(),this.destroyRowCtrls("top"),this.destroyRowCtrls("bottom"),this.destroyRowCtrls("center")}},zO={moduleName:"CellSpan",version:Me,beans:[OO,jO]},VO=class extends ve{constructor(e,t){super(),this.cellCtrl=e,this.staticClasses=[],this.beans=t,this.column=e.column}setComp(e){this.cellComp=e,this.applyUserStyles(),this.applyCellClassRules(),this.applyClassesFromColDef()}applyCellClassRules(){const{column:e,cellComp:t}=this,r=e.colDef,n=r.cellClassRules,i=this.getCellClassParams(e,r);Dp(this.beans.expressionSvc,n===this.cellClassRules?void 0:this.cellClassRules,n,i,o=>t.toggleCss(o,!0),o=>t.toggleCss(o,!1)),this.cellClassRules=n}applyUserStyles(){const e=this.column,t=e.colDef,r=t.cellStyle;if(!r)return;let n;if(typeof r=="function"){const i=this.getCellClassParams(e,t);n=r(i)}else n=r;n&&this.cellComp.setUserStyles(n)}applyClassesFromColDef(){const{column:e,cellComp:t}=this,r=e.colDef,n=this.getCellClassParams(e,r);for(const o of this.staticClasses)t.toggleCss(o,!1);const i=this.beans.cellStyles.getStaticCellClasses(r,n);this.staticClasses=i;for(const o of i)t.toggleCss(o,!0)}getCellClassParams(e,t){const{value:r,rowNode:n}=this.cellCtrl;return Ue(this.beans.gos,{value:r,data:n.data,node:n,colDef:t,column:e,rowIndex:n.rowIndex})}},WO=class extends ve{constructor(){super(...arguments),this.beanName="cellStyles"}processAllCellClasses(e,t,r,n){Dp(this.beans.expressionSvc,void 0,e.cellClassRules,t,r,n),this.processStaticCellClasses(e,t,r)}getStaticCellClasses(e,t){const{cellClass:r}=e;if(!r)return[];let n;return typeof r=="function"?n=r(t):n=r,typeof n=="string"&&(n=[n]),n||[]}createCellCustomStyleFeature(e,t){return new VO(e,t)}processStaticCellClasses(e,t,r){this.getStaticCellClasses(e,t).forEach(i=>{r(i)})}},$O={moduleName:"CellStyle",version:Me,beans:[WO]},UO={moduleName:"RowStyle",version:Me,beans:[M9]};function KO(e,t){return!!e.colHover?.isHovered(t)}var qO=class extends ve{constructor(e,t){super(),this.columns=e,this.element=t,this.destroyManagedListeners=[],this.enableFeature=r=>{const{beans:n,gos:i,element:o,columns:s}=this,a=n.colHover;if(r??!!i.get("columnHoverHighlight"))this.destroyManagedListeners=this.addManagedElementListeners(o,{mouseover:a.setMouseOver.bind(a,s),mouseout:a.clearMouseOver.bind(a)});else{for(const u of this.destroyManagedListeners)u();this.destroyManagedListeners=[]}}}postConstruct(){this.addManagedPropertyListener("columnHoverHighlight",({currentValue:e})=>{this.enableFeature(e)}),this.enableFeature()}destroy(){super.destroy(),this.destroyManagedListeners=null}},JO="ag-column-hover",YO=class extends ve{constructor(){super(...arguments),this.beanName="colHover"}postConstruct(){this.addManagedPropertyListener("columnHoverHighlight",({currentValue:e})=>{e||this.clearMouseOver()})}setMouseOver(e){this.updateState(e)}clearMouseOver(){this.updateState(null)}isHovered(e){if(!this.gos.get("columnHoverHighlight"))return!1;const t=this.selectedColumns;return!!t&&t.indexOf(e)>=0}addHeaderColumnHoverListener(e,t,r){const n=()=>{const i=this.isHovered(r);t.toggleCss("ag-column-hover",i)};e.addManagedEventListeners({columnHoverChanged:n}),n()}onCellColumnHover(e,t){if(!t)return;const r=this.isHovered(e);t.toggleCss(JO,r)}addHeaderFilterColumnHoverListener(e,t,r,n){this.createHoverFeature(e,[r],n);const i=()=>{const o=this.isHovered(r);t.toggleCss("ag-column-hover",o)};e.addManagedEventListeners({columnHoverChanged:i}),i()}createHoverFeature(e,t,r){e.createManagedBean(new qO(t,r))}updateState(e){this.selectedColumns=e,this.eventSvc.dispatchEvent({type:"columnHoverChanged"})}},ZO={moduleName:"ColumnHover",version:Me,beans:[YO],apiFunctions:{isColumnHovered:KO}},XO=class extends ve{constructor(){super(...arguments),this.beanName="apiEventSvc",this.syncListeners=new Map,this.asyncListeners=new Map,this.syncGlobalListeners=new Set,this.globalListenerPairs=new Map}postConstruct(){this.wrapSvc=this.beans.frameworkOverrides.createGlobalEventListenerWrapper?.()}addListener(e,t){const r=this.wrapSvc?.wrap(e,t)??t,n=!wu.has(e),i=n?this.asyncListeners:this.syncListeners;i.has(e)||i.set(e,new Set),i.get(e).add(r),this.eventSvc.addListener(e,r,n)}removeListener(e,t){const r=this.wrapSvc?.unwrap(e,t)??t,i=!!this.asyncListeners.get(e)?.delete(r);i||this.syncListeners.get(e)?.delete(r),this.eventSvc.removeListener(e,r,i)}addGlobalListener(e){const t=this.wrapSvc?.wrapGlobal(e)??e,r=(o,s)=>{wu.has(o)&&t(o,s)},n=(o,s)=>{wu.has(o)||t(o,s)};this.globalListenerPairs.set(e,{syncListener:r,asyncListener:n});const i=this.eventSvc;i.addGlobalListener(r,!1),i.addGlobalListener(n,!0)}removeGlobalListener(e){const{eventSvc:t,wrapSvc:r,globalListenerPairs:n}=this,i=r?.unwrapGlobal(e)??e;if(n.has(i)){const{syncListener:s,asyncListener:a}=n.get(i);t.removeGlobalListener(s,!1),t.removeGlobalListener(a,!0),n.delete(e)}else this.syncGlobalListeners.delete(i),t.removeGlobalListener(i,!1)}destroyEventListeners(e,t){e.forEach((r,n)=>{r.forEach(i=>this.eventSvc.removeListener(n,i,t)),r.clear()}),e.clear()}destroyGlobalListeners(e,t){for(const r of e)this.eventSvc.removeGlobalListener(r,t);e.clear()}destroy(){super.destroy(),this.destroyEventListeners(this.syncListeners,!1),this.destroyEventListeners(this.asyncListeners,!0),this.destroyGlobalListeners(this.syncGlobalListeners,!1);const{globalListenerPairs:e,eventSvc:t}=this;e.forEach(({syncListener:r,asyncListener:n})=>{t.removeGlobalListener(r,!1),t.removeGlobalListener(n,!0)}),e.clear()}};function QO(e,t,r){e.apiEventSvc?.addListener(t,r)}function eH(e,t,r){e.apiEventSvc?.removeListener(t,r)}function tH(e,t){e.apiEventSvc?.addGlobalListener(t)}function rH(e,t){e.apiEventSvc?.removeGlobalListener(t)}var nH={moduleName:"EventApi",version:Me,apiFunctions:{addEventListener:QO,addGlobalListener:tH,removeEventListener:eH,removeGlobalListener:rH},beans:[XO]},iH={moduleName:"Locale",version:Me,beans:[MI]},oH=class extends ve{constructor(){super(...arguments),this.beanName="rowAutoHeight",this.wasEverActive=!1,this._debouncedCalculateRowHeights=mr(this,this.calculateRowHeights.bind(this),1)}requestCheckAutoHeight(){this.wasEverActive&&this._debouncedCalculateRowHeights()}calculateRowHeights(){const{visibleCols:e,rowModel:t,rowSpanSvc:r,pinnedRowModel:n}=this.beans,i=e.autoHeightCols;let o=!1;const s=a=>{const l=a.__autoHeights;let u=Ri(this.beans,a).height;for(const c of i){let f=l?.[c.getColId()];const d=r?.getCellSpan(c,a);if(d){if(d.getLastNode()!==a)continue;if(f=r?.getCellSpan(c,a)?.getLastNodeAutoHeight(),!f)return}if(f==null){if(this.colSpanSkipCell(c,a))continue;return}u=Math.max(f,u)}u!==a.rowHeight&&(a.setRowHeight(u),o=!0)};n?.forEachPinnedRow?.("top",s),n?.forEachPinnedRow?.("bottom",s),t.forEachDisplayedNode?.(s),o&&t.onRowHeightChanged?.()}setRowAutoHeight(e,t,r){if(e.__autoHeights??(e.__autoHeights={}),t==null){delete e.__autoHeights[r.getId()];return}const n=e.__autoHeights[r.getId()];e.__autoHeights[r.getId()]=t,n!==t&&this.requestCheckAutoHeight()}colSpanSkipCell(e,t){const{colModel:r,colViewport:n,visibleCols:i}=this.beans;if(!r.colSpanActive)return!1;let o=[];switch(e.getPinned()){case"left":o=i.getLeftColsForRow(t);break;case"right":o=i.getRightColsForRow(t);break;case null:o=n.getColsWithinViewport(t);break}return!o.includes(e)}setupCellAutoHeight(e,t,r){if(!e.column.isAutoHeight()||!t)return!1;this.wasEverActive=!0;const n=t.parentElement,{rowNode:i,column:o}=e,s=this.beans,a=c=>{if(this.beans.editSvc?.isEditing(e)||!e.isAlive()||!r.isAlive())return;const{paddingTop:f,paddingBottom:d,borderBottomWidth:h,borderTopWidth:g}=ko(n),m=f+d+h+g,y=t.offsetHeight+m;if(c<5){const v=!fr(s)?.contains(t),F=y==0;if(v||F){window.setTimeout(()=>a(c+1),0);return}}this.setRowAutoHeight(i,y,o)},l=()=>a(0);l();const u=ii(s,t,l);return r.addDestroyFunc(()=>{u(),this.setRowAutoHeight(i,void 0,o)}),!0}setAutoHeightActive(e){this.active=e.list.some(t=>t.isVisible()&&t.isAutoHeight())}areRowsMeasured(){if(!this.active)return!0;const e=this.beans.rowRenderer.getAllRowCtrls();let t=null;for(const{rowNode:r}of e)if((!t||this.beans.colModel.colSpanActive)&&(t=this.beans.colViewport.getColsWithinViewport(r).filter(i=>i.isAutoHeight())),t.length!==0){if(!r.__autoHeights)return!1;for(const n of t){const i=r.__autoHeights[n.getColId()];if(!i||r.rowHeight<i)return!1}}return!0}},sH={moduleName:"RowAutoHeight",version:Me,beans:[oH]},aH={moduleName:"AllCommunity",version:Me,dependsOn:[o7,f7,S7,ZI,aN,lN,uN,dF,cN,dN,hN,sN,QB,eL,tL,XB,nL,iL,H7,NN,iO,wC,pO,gO,SO,_O,mC,BO,RN,pI,$O,ZO,UO,nH,bI,P7,rF,iH,sH,$M,s7,zO]},Er=xe.createContext({}),wF=xe.createContext("default"),Va=(e,t,r,n)=>{if(!e||e.componentFromFramework||t.isDestroyed())return;const o=e.newAgStackInstance();let s,a,l=!1;return o.then(u=>{if(l){t.destroyBean(u);return}s=u,a=s.getGui(),r.appendChild(a),v0(n,s)}),()=>{l=!0,s&&(a?.remove(),t.destroyBean(s),n&&v0(n,void 0))}},v0=(e,t)=>{if(e)if(e instanceof Function)e(t);else{const r=e;r.current=t}},rn=(...e)=>e.filter(r=>r!=null&&r!=="").join(" "),sn=class CF{constructor(...t){this.classesMap={};for(const r of t)this.classesMap[r]=!0}setClass(t,r){if(!!this.classesMap[t]==r)return this;const i=new CF;return i.classesMap={...this.classesMap},i.classesMap[t]=r,i}toString(){return Object.keys(this.classesMap).filter(r=>this.classesMap[r]).join(" ")}},Ps=e=>{const t=()=>typeof Symbol=="function"&&Symbol.for,r=()=>t()?Symbol.for("react.memo"):60115;return typeof e=="function"&&!(e.prototype&&e.prototype.isReactComponent)||typeof e=="object"&&e.$$typeof===r()},hf=xe.version?.split(".")[0],FF=hf==="16"||hf==="17";function lH(){return hf==="19"}var Fu=!1;function uH(e){return Fu||setTimeout(()=>Fu=!1,0),Fu=!0,e()}var ka=(e,t)=>{!FF&&e&&!Fu?Sx.flushSync(t):t()},cH=e=>{FF?e():xe.startTransition(e)};function dH(e,t,r){return xe.useSyncExternalStore?xe.useSyncExternalStore(e,t):r}function gc(e,t,r){if(t==null||e==null)return t;if(e===t||t.length===0&&e.length===0)return e;if(r||e.length===0&&t.length>0||e.length>0&&t.length===0)return t;const n=[],i=[],o=new Map,s=new Map;for(let a=0;a<t.length;a++){const l=t[a];s.set(l.instanceId,l)}for(let a=0;a<e.length;a++){const l=e[a];o.set(l.instanceId,l),s.has(l.instanceId)&&n.push(l)}for(let a=0;a<t.length;a++){const l=t[a],u=l.instanceId;o.has(u)||i.push(l)}return n.length===e.length&&i.length===0?e:n.length===0&&i.length===t.length?t:n.length===0?i:i.length===0?n:[...n,...i]}var SF=Z.forwardRef((e,t)=>{const{registry:r,context:n}=Z.useContext(Er),i=Z.useRef(null),o=Z.useRef(null),s=Z.useRef(null),a=Z.useRef(null),l=Z.useRef(null),u=Z.useRef(),[c,f]=Z.useState(),[d,h]=Z.useState(),[g,m]=Z.useState(),[p,y]=Z.useState(()=>new sn),[b,v]=Z.useState(()=>new sn("ag-hidden")),[F,E]=Z.useState(()=>new sn("ag-hidden")),[T,I]=Z.useState(()=>new sn("ag-invisible"));Z.useImperativeHandle(t,()=>({refresh(){return!1}})),Z.useLayoutEffect(()=>Va(c,n,o.current),[c]);const M=Z.useCallback(w=>{if(i.current=w,!w||n.isDestroyed()){u.current=n.destroyBean(u.current);return}const C={setInnerRenderer:(A,D)=>{f(A),m(D)},setChildCount:A=>h(A),toggleCss:(A,D)=>y(B=>B.setClass(A,D)),setContractedDisplayed:A=>E(D=>D.setClass("ag-hidden",!A)),setExpandedDisplayed:A=>v(D=>D.setClass("ag-hidden",!A)),setCheckboxVisible:A=>I(D=>D.setClass("ag-invisible",!A)),setCheckboxSpacing:A=>I(D=>D.setClass("ag-group-checkbox-spacing",A))},x=r.createDynamicBean("groupCellRendererCtrl",!0);x&&(u.current=n.createBean(x),u.current.init(C,w,s.current,a.current,l.current,SF,e))},[]),P=Z.useMemo(()=>`ag-cell-wrapper ${p.toString()}`,[p]),O=Z.useMemo(()=>`ag-group-expanded ${b.toString()}`,[b]),z=Z.useMemo(()=>`ag-group-contracted ${F.toString()}`,[F]),L=Z.useMemo(()=>`ag-group-checkbox ${T.toString()}`,[T]),_=c?.componentFromFramework,R=_?c.componentClass:void 0,k=c==null&&g!=null,S=Ts(g);return xe.createElement("span",{className:P,ref:M,...e.colDef?{}:{role:u.current?.getCellAriaRole()}},xe.createElement("span",{className:O,ref:a}),xe.createElement("span",{className:z,ref:l}),xe.createElement("span",{className:L,ref:s}),xe.createElement("span",{className:"ag-group-value",ref:o},k?S:_?xe.createElement(R,{...c.params}):null),xe.createElement("span",{className:"ag-group-child-count"},d))}),w0=SF,Hp=Z.createContext({setMethods:()=>{}}),hH=e=>{const{initialProps:t,addUpdateCallback:r,CustomComponentClass:n,setMethods:i}=e,[{key:o,...s},a]=Z.useState(t);return Z.useEffect(()=>{r(l=>a(l))},[]),xe.createElement(Hp.Provider,{value:{setMethods:i}},xe.createElement(n,{key:o,...s}))},fH=Z.memo(hH),pH=0;function C0(){return`agPortalKey_${++pH}`}var xF=class{constructor(e,t,r,n){this.portal=null,this.oldPortal=null,this.reactComponent=e,this.portalManager=t,this.componentType=r,this.suppressFallbackMethods=!!n,this.statelessComponent=this.isStateless(this.reactComponent),this.key=C0(),this.portalKey=C0(),this.instanceCreated=this.isStatelessComponent()?Ct.resolve(!1):new Ct(i=>{this.resolveInstanceCreated=i})}getGui(){return this.eParentElement}getRootElement(){return this.eParentElement.firstChild}destroy(){this.componentInstance&&typeof this.componentInstance.destroy=="function"&&this.componentInstance.destroy();const e=this.portal;e&&this.portalManager.destroyPortal(e)}createParentElement(e){const t=this.portalManager.getComponentWrappingElement(),r=document.createElement(t||"div");return r.classList.add("ag-react-container"),e.reactContainer=r,r}statelessComponentRendered(){return this.eParentElement.childElementCount>0||this.eParentElement.childNodes.length>0}getFrameworkComponentInstance(){return this.componentInstance}isStatelessComponent(){return this.statelessComponent}getReactComponentName(){return this.reactComponent.name}getMemoType(){return this.hasSymbol()?Symbol.for("react.memo"):60115}hasSymbol(){return typeof Symbol=="function"&&Symbol.for}isStateless(e){return typeof e=="function"&&!(e.prototype&&e.prototype.isReactComponent)||typeof e=="object"&&e.$$typeof===this.getMemoType()}hasMethod(e){const t=this.getFrameworkComponentInstance();return!!t&&t[e]!=null||this.fallbackMethodAvailable(e)}callMethod(e,t){const r=this.getFrameworkComponentInstance();if(this.isStatelessComponent())return this.fallbackMethod(e,t&&t[0]?t[0]:{});if(!r){setTimeout(()=>this.callMethod(e,t));return}const n=r[e];if(n)return n.apply(r,t);if(this.fallbackMethodAvailable(e))return this.fallbackMethod(e,t&&t[0]?t[0]:{})}addMethod(e,t){this[e]=t}init(e){return this.eParentElement=this.createParentElement(e),this.createOrUpdatePortal(e),new Ct(t=>this.createReactComponent(t))}createOrUpdatePortal(e){this.isStatelessComponent()||(this.ref=t=>{this.componentInstance=t,this.resolveInstanceCreated?.(!0),this.resolveInstanceCreated=void 0},e.ref=this.ref),this.reactElement=this.createElement(this.reactComponent,{...e,key:this.key}),this.portal=_a.createPortal(this.reactElement,this.eParentElement,this.portalKey)}createElement(e,t){return Z.createElement(e,t)}createReactComponent(e){this.portalManager.mountReactPortal(this.portal,this,e)}rendered(){return this.isStatelessComponent()&&this.statelessComponentRendered()||!!(!this.isStatelessComponent()&&this.getFrameworkComponentInstance())}refreshComponent(e){this.oldPortal=this.portal,this.createOrUpdatePortal(e),this.portalManager.updateReactPortal(this.oldPortal,this.portal)}fallbackMethod(e,t){const r=this[`${e}Component`];if(!this.suppressFallbackMethods&&r)return r.bind(this)(t)}fallbackMethodAvailable(e){return this.suppressFallbackMethods?!1:!!this[`${e}Component`]}};function $c(e,t,r){for(const n of e){const i=t[n];i&&(r[n]=i)}}var Qr=class extends xF{constructor(){super(...arguments),this.awaitUpdateCallback=new Ct(e=>{this.resolveUpdateCallback=e}),this.wrapperComponent=fH}init(e){return this.sourceParams=e,super.init(this.getProps())}addMethod(){}getInstance(){return this.instanceCreated.then(()=>this.componentInstance)}getFrameworkComponentInstance(){return this}createElement(e,t){return super.createElement(this.wrapperComponent,{initialProps:t,CustomComponentClass:e,setMethods:r=>this.setMethods(r),addUpdateCallback:r=>{this.updateCallback=()=>(r(this.getProps()),new Ct(n=>{setTimeout(()=>{n()})})),this.resolveUpdateCallback()}})}setMethods(e){this.providedMethods=e,$c(this.getOptionalMethods(),this.providedMethods,this)}getOptionalMethods(){return[]}getProps(){return{...this.sourceParams,key:this.key,ref:this.ref}}refreshProps(){return this.updateCallback?this.updateCallback():new Ct(e=>this.awaitUpdateCallback.then(()=>{this.updateCallback().then(()=>e())}))}},gH=class extends Qr{refresh(e){return this.sourceParams=e,this.refreshProps(),!0}},mH=class extends Qr{constructor(){super(...arguments),this.date=null,this.onDateChange=e=>this.updateDate(e)}getDate(){return this.date}setDate(e){this.date=e,this.refreshProps()}refresh(e){this.sourceParams=e,this.refreshProps()}getOptionalMethods(){return["afterGuiAttached","setInputPlaceholder","setInputAriaLabel","setDisabled"]}updateDate(e){this.setDate(e),this.sourceParams.onDateChanged()}getProps(){const e=super.getProps();return e.date=this.date,e.onDateChange=this.onDateChange,delete e.onDateChanged,e}},bH=class extends Qr{constructor(){super(...arguments),this.label="",this.icon=null,this.shake=!1}setIcon(e,t){this.icon=e,this.shake=t,this.refreshProps()}setLabel(e){this.label=e,this.refreshProps()}getProps(){const e=super.getProps(),{label:t,icon:r,shake:n}=this;return e.label=t,e.icon=r,e.shake=n,e}},yH=class extends Qr{constructor(){super(...arguments),this.model=null,this.onModelChange=e=>this.updateModel(e),this.onUiChange=()=>this.sourceParams.filterModifiedCallback(),this.expectingNewMethods=!0,this.hasBeenActive=!1,this.awaitSetMethodsCallback=new Ct(e=>{this.resolveSetMethodsCallback=e})}isFilterActive(){return this.model!=null}doesFilterPass(e){return this.providedMethods.doesFilterPass(e)}getModel(){return this.model}setModel(e){return this.expectingNewMethods=!0,this.model=e,this.hasBeenActive||(this.hasBeenActive=this.isFilterActive()),this.refreshProps()}refresh(e){return this.sourceParams=e,this.refreshProps(),!0}afterGuiAttached(e){const t=this.providedMethods;t?t.afterGuiAttached?.(e):this.awaitSetMethodsCallback.then(()=>this.providedMethods?.afterGuiAttached?.(e))}getOptionalMethods(){return["afterGuiDetached","onNewRowsLoaded","getModelAsString","onAnyFilterChanged"]}setMethods(e){this.expectingNewMethods===!1&&this.hasBeenActive&&this.providedMethods?.doesFilterPass!==e?.doesFilterPass&&setTimeout(()=>{this.sourceParams.filterChangedCallback()}),this.expectingNewMethods=!1,super.setMethods(e),this.resolveSetMethodsCallback(),this.resolveFilterPassCallback?.(),this.resolveFilterPassCallback=void 0}updateModel(e){this.resolveFilterPassCallback?.();const t=new Ct(r=>{this.resolveFilterPassCallback=r});this.setModel(e).then(()=>{t.then(()=>{this.sourceParams.filterChangedCallback()})})}getProps(){const e=super.getProps();return e.model=this.model,e.onModelChange=this.onModelChange,e.onUiChange=this.onUiChange,delete e.filterChangedCallback,e}},vH=class extends Qr{constructor(){super(...arguments),this.awaitSetMethodsCallback=new Ct(e=>{this.resolveSetMethodsCallback=e})}refresh(e){return this.sourceParams=e,this.refreshProps(),!0}afterGuiAttached(e){const t=this.providedMethods;t?t.afterGuiAttached?.(e):this.awaitSetMethodsCallback.then(()=>this.providedMethods?.afterGuiAttached?.(e))}getOptionalMethods(){return["afterGuiDetached","onNewRowsLoaded","onAnyFilterChanged"]}setMethods(e){super.setMethods(e),this.resolveSetMethodsCallback()}};function kF(e,t){e.parentFilterInstance(r=>{(r.setModel(t)||Ct.resolve()).then(()=>{e.filterParams.filterChangedCallback()})})}var wH=class{constructor(e,t){this.floatingFilterParams=e,this.refreshProps=t,this.model=null,this.onModelChange=r=>this.updateModel(r)}getProps(){return{...this.floatingFilterParams,model:this.model,onModelChange:this.onModelChange}}onParentModelChanged(e){this.model=e,this.refreshProps()}refresh(e){this.floatingFilterParams=e,this.refreshProps()}setMethods(e){$c(this.getOptionalMethods(),e,this)}getOptionalMethods(){return["afterGuiAttached"]}updateModel(e){this.model=e,this.refreshProps(),kF(this.floatingFilterParams,e)}},CH=class extends Qr{constructor(){super(...arguments),this.model=null,this.onModelChange=e=>this.updateModel(e)}onParentModelChanged(e){this.model=e,this.refreshProps()}refresh(e){this.sourceParams=e,this.refreshProps()}getOptionalMethods(){return["afterGuiAttached"]}updateModel(e){this.model=e,this.refreshProps(),kF(this.sourceParams,e)}getProps(){const e=super.getProps();return e.model=this.model,e.onModelChange=this.onModelChange,e}},FH=class extends Qr{refresh(e){this.sourceParams=e,this.refreshProps()}getOptionalMethods(){return["afterGuiAttached"]}},SH=class extends Qr{refresh(e){return this.sourceParams=e,this.refreshProps(),!0}},xH=class extends Qr{refresh(e){this.sourceParams=e,this.refreshProps()}},kH=class extends Qr{constructor(){super(...arguments),this.active=!1,this.expanded=!1,this.onActiveChange=e=>this.updateActive(e)}setActive(e){this.awaitSetActive(e)}setExpanded(e){this.expanded=e,this.refreshProps()}getOptionalMethods(){return["select","configureDefaults"]}awaitSetActive(e){return this.active=e,this.refreshProps()}updateActive(e){const t=this.awaitSetActive(e);e&&t.then(()=>this.sourceParams.onItemActivated())}getProps(){const e=super.getProps();return e.active=this.active,e.expanded=this.expanded,e.onActiveChange=this.onActiveChange,delete e.onItemActivated,e}},EH=class extends Qr{refresh(e){this.sourceParams=e,this.refreshProps()}},RH=class extends Qr{refresh(e){return this.sourceParams=e,this.refreshProps(),!0}},_H=class extends Qr{constructor(){super(...arguments),this.onStateChange=e=>this.updateState(e)}refresh(e){return this.sourceParams=e,this.refreshProps(),!0}getState(){return this.state}updateState(e){this.state=e,this.refreshProps(),this.sourceParams.onStateUpdated()}getProps(){const e=super.getProps();return e.state=this.state,e.onStateChange=this.onStateChange,e}};function Gp(){Se(231)}var AH=1e3,TH=class{constructor(e,t,r){this.destroyed=!1,this.portals=[],this.hasPendingPortalUpdate=!1,this.wrappingElement=t||"div",this.refresher=e,this.maxComponentCreationTimeMs=r||AH}getPortals(){return this.portals}destroy(){this.destroyed=!0}destroyPortal(e){this.portals=this.portals.filter(t=>t!==e),this.batchUpdate()}getComponentWrappingElement(){return this.wrappingElement}mountReactPortal(e,t,r){this.portals=[...this.portals,e],this.waitForInstance(t,r),this.batchUpdate()}updateReactPortal(e,t){this.portals[this.portals.indexOf(e)]=t,this.batchUpdate()}batchUpdate(){this.hasPendingPortalUpdate||(setTimeout(()=>{this.destroyed||(this.refresher(),this.hasPendingPortalUpdate=!1)}),this.hasPendingPortalUpdate=!0)}waitForInstance(e,t,r=Date.now()){if(this.destroyed){t(null);return}if(e.rendered())t(e);else{if(Date.now()-r>=this.maxComponentCreationTimeMs&&!this.hasPendingPortalUpdate){ka(!0,()=>this.refresher()),e.rendered()&&t(e);return}window.setTimeout(()=>{this.waitForInstance(e,t,r)})}}},DH=({ctrl:e})=>{const t=e.isAlive(),{context:r}=Z.useContext(Er),[n,i]=Z.useState(),[o,s]=Z.useState(),a=Z.useRef(),l=Z.useRef(null),u=Z.useRef(null),c=Z.useRef(null),f=Z.useRef(),d=Z.useRef();t&&!d.current&&(d.current=new Oa(()=>l.current));const h=Z.useCallback(y=>{if(l.current=y,!y||!e.isAlive()||r.isDestroyed()){a.current=r.destroyBean(a.current);return}a.current=r.createBean(new Ds);const b=()=>{const F=e.getSelectAllGui();F&&(u.current?.insertAdjacentElement("afterend",F),a.current.addDestroyFunc(()=>F.remove()))},v={setWidth:F=>{l.current&&(l.current.style.width=F)},toggleCss:(F,E)=>d.current.toggleCss(F,E),setUserStyles:F=>s(F),setAriaSort:F=>{l.current&&(F?z_(l.current,F):V_(l.current))},setUserCompDetails:F=>i(F),getUserCompInstance:()=>f.current||void 0,refreshSelectAllGui:b,removeSelectAllGui:()=>e.getSelectAllGui()?.remove()};e.setComp(v,y,u.current,c.current,a.current),b()},[]);Z.useLayoutEffect(()=>Va(n,r,c.current,f),[n]),Z.useEffect(()=>{e.setDragSource(l.current)},[n]);const g=Z.useMemo(()=>!!(n?.componentFromFramework&&Ps(n.componentClass)),[n]),m=n?.componentFromFramework,p=n?.componentClass;return xe.createElement("div",{ref:h,style:o,className:"ag-header-cell",role:"columnheader"},xe.createElement("div",{ref:u,className:"ag-header-cell-resize",role:"presentation"}),xe.createElement("div",{ref:c,className:"ag-header-cell-comp-wrapper",role:"presentation"},m?g?xe.createElement(p,{...n.params}):xe.createElement(p,{...n.params,ref:f}):null))},MH=Z.memo(DH),PH=class{constructor(e,t){this.floatingFilterParams=e,this.refreshProps=t}getProps(){return this.floatingFilterParams}refresh(e){this.floatingFilterParams=e,this.refreshProps()}setMethods(e){$c(this.getOptionalMethods(),e,this)}getOptionalMethods(){return["afterGuiAttached"]}},IH=({ctrl:e})=>{const{context:t,gos:r}=Z.useContext(Er),[n,i]=Z.useState(),[o,s]=Z.useState(()=>new sn("ag-header-cell","ag-floating-filter")),[a,l]=Z.useState(()=>new sn),[u,c]=Z.useState(()=>new sn("ag-floating-filter-button","ag-hidden")),[f,d]=Z.useState("false"),[h,g]=Z.useState(),[,m]=Z.useState(1),p=Z.useRef(),y=Z.useRef(null),b=Z.useRef(null),v=Z.useRef(null),F=Z.useRef(null),E=Z.useRef(),T=Z.useRef(),I=A=>{A!=null&&E.current&&E.current(A)},M=Z.useCallback(A=>{if(y.current=A,!A||!e.isAlive()||t.isDestroyed()){p.current=t.destroyBean(p.current);return}p.current=t.createBean(new Ds),T.current=new Ct(B=>{E.current=B});const D={toggleCss:(B,V)=>s(j=>j.setClass(B,V)),setUserStyles:B=>i(B),addOrRemoveBodyCssClass:(B,V)=>l(j=>j.setClass(B,V)),setButtonWrapperDisplayed:B=>{c(V=>V.setClass("ag-hidden",!B)),d(B?"false":"true")},setWidth:B=>{y.current&&(y.current.style.width=B)},setCompDetails:B=>g(B),getFloatingFilterComp:()=>T.current?T.current:null,setMenuIcon:B=>F.current?.appendChild(B)};e.setComp(D,A,F.current,b.current,p.current)},[]);Z.useLayoutEffect(()=>Va(h,t,b.current,I),[h]);const P=Z.useMemo(()=>o.toString(),[o]),O=Z.useMemo(()=>a.toString(),[a]),z=Z.useMemo(()=>u.toString(),[u]),L=Z.useMemo(()=>!!(h&&h.componentFromFramework&&Ps(h.componentClass)),[h]),_=Z.useMemo(()=>r.get("reactiveCustomComponents"),[]),R=Z.useMemo(()=>r.get("enableFilterHandlers"),[]),[k,S]=Z.useState();Z.useEffect(()=>{if(h?.componentFromFramework)if(_){const A=R?PH:wH,D=new A(h.params,()=>m(B=>B+1));I(D),S(D)}else Gp()},[h]);const w=k?.getProps(),C=h?.componentFromFramework,x=h?.componentClass;return xe.createElement("div",{ref:M,style:n,className:P,role:"gridcell"},xe.createElement("div",{ref:b,className:O,role:"presentation"},C?_?w&&xe.createElement(Hp.Provider,{value:{setMethods:A=>k.setMethods(A)}},xe.createElement(x,{...w})):xe.createElement(x,{...h.params,ref:L?()=>{}:I}):null),xe.createElement("div",{ref:v,"aria-hidden":f,className:z,role:"presentation"},xe.createElement("button",{ref:F,type:"button",className:"ag-button ag-floating-filter-button-button",tabIndex:-1})))},BH=Z.memo(IH),LH=({ctrl:e})=>{const{context:t}=Z.useContext(Er),[r,n]=Z.useState(),[i,o]=Z.useState(()=>new sn),[s,a]=Z.useState(()=>new sn),[l,u]=Z.useState("false"),[c,f]=Z.useState(),[d,h]=Z.useState(),g=Z.useRef(),m=Z.useRef(null),p=Z.useRef(null),y=Z.useRef(null),b=Z.useRef(),v=Z.useCallback(P=>{if(m.current=P,!P||!e.isAlive()||t.isDestroyed()){g.current=t.destroyBean(g.current);return}g.current=t.createBean(new Ds);const O={setWidth:z=>{m.current&&(m.current.style.width=z)},toggleCss:(z,L)=>o(_=>_.setClass(z,L)),setUserStyles:z=>n(z),setHeaderWrapperHidden:z=>{const L=y.current;L&&(z?L.style.setProperty("display","none"):L.style.removeProperty("display"))},setHeaderWrapperMaxHeight:z=>{const L=y.current;L&&(z!=null?L.style.setProperty("max-height",`${z}px`):L.style.removeProperty("max-height"),L.classList.toggle("ag-header-cell-comp-wrapper-limited-height",z!=null))},setUserCompDetails:z=>h(z),setResizableDisplayed:z=>{a(L=>L.setClass("ag-hidden",!z)),u(z?"false":"true")},setAriaExpanded:z=>f(z),getUserCompInstance:()=>b.current||void 0};e.setComp(O,P,p.current,y.current,g.current)},[]);Z.useLayoutEffect(()=>Va(d,t,y.current),[d]),Z.useEffect(()=>{m.current&&e.setDragSource(m.current)},[d]);const F=Z.useMemo(()=>!!(d?.componentFromFramework&&Ps(d.componentClass)),[d]),E=Z.useMemo(()=>"ag-header-group-cell "+i.toString(),[i]),T=Z.useMemo(()=>"ag-header-cell-resize "+s.toString(),[s]),I=d?.componentFromFramework,M=d?.componentClass;return xe.createElement("div",{ref:v,style:r,className:E,role:"columnheader","aria-expanded":c},xe.createElement("div",{ref:y,className:"ag-header-cell-comp-wrapper",role:"presentation"},I?F?xe.createElement(M,{...d.params}):xe.createElement(M,{...d.params,ref:b}):null),xe.createElement("div",{ref:p,"aria-hidden":l,className:T}))},NH=Z.memo(LH),OH=({ctrl:e})=>{const{gos:t,context:r}=Z.useContext(Er),{topOffset:n,rowHeight:i}=Z.useMemo(()=>e.getTopAndHeight(),[]),o=Z.useMemo(()=>t.get("tabIndex"),[]),[s,a]=Z.useState(()=>e.getAriaRowIndex()),l=e.headerRowClass,[u,c]=Z.useState(()=>i+"px"),[f,d]=Z.useState(()=>n+"px"),h=Z.useRef(null),[g,m]=Z.useState(()=>e.getUpdatedHeaderCtrls()),p=Z.useRef(),y=Z.useRef(null),b=Z.useCallback(E=>{if(y.current=E,!E||!e.isAlive()||r.isDestroyed()){p.current=r.destroyBean(p.current);return}p.current=r.createBean(new Ds);const T={setHeight:I=>c(I),setTop:I=>d(I),setHeaderCtrls:(I,M,P)=>{const O=h.current,z=gc(O,I,M);z!==O&&(h.current=z,ka(P,()=>m(z)))},setWidth:I=>{y.current&&(y.current.style.width=I)},setRowIndex:I=>{a(I)}};e.setComp(T,p.current,!1)},[]),v=Z.useMemo(()=>({height:u,top:f}),[u,f]),F=Z.useCallback(E=>{switch(e.type){case"group":return xe.createElement(NH,{ctrl:E,key:E.instanceId});case"filter":return xe.createElement(BH,{ctrl:E,key:E.instanceId});default:return xe.createElement(MH,{ctrl:E,key:E.instanceId})}},[]);return xe.createElement("div",{ref:b,className:l,role:"row",style:v,tabIndex:o,"aria-rowindex":s},g.map(F))},HH=Z.memo(OH),GH=({pinned:e})=>{const[t,r]=Z.useState(!0),[n,i]=Z.useState([]),{context:o}=Z.useContext(Er),s=Z.useRef(null),a=Z.useRef(null),l=Z.useRef(),u=e==="left",c=e==="right",f=!u&&!c,d=Z.useCallback(m=>{if(s.current=m,!m||o.isDestroyed()){l.current=o.destroyBean(l.current);return}l.current=o.createBean(new _6(e));const p={setDisplayed:r,setCtrls:y=>i(y),setCenterWidth:y=>{a.current&&(a.current.style.width=y)},setViewportScrollLeft:y=>{s.current&&(s.current.scrollLeft=y)},setPinnedContainerWidth:y=>{s.current&&(s.current.style.width=y,s.current.style.minWidth=y,s.current.style.maxWidth=y)}};l.current.setComp(p,s.current)},[]),h=t?"":"ag-hidden",g=()=>n.map(m=>xe.createElement(HH,{ctrl:m,key:m.instanceId}));return u?xe.createElement("div",{ref:d,className:"ag-pinned-left-header "+h,"aria-hidden":!t,role:"rowgroup"},g()):c?xe.createElement("div",{ref:d,className:"ag-pinned-right-header "+h,"aria-hidden":!t,role:"rowgroup"},g()):f?xe.createElement("div",{ref:d,className:"ag-header-viewport "+h,role:"rowgroup",tabIndex:-1},xe.createElement("div",{ref:a,className:"ag-header-container",role:"presentation"},g())):null},qd=Z.memo(GH),jH=()=>{const[e,t]=Z.useState(()=>new sn),[r,n]=Z.useState(),{context:i}=Z.useContext(Er),o=Z.useRef(null),s=Z.useRef(),a=Z.useCallback(c=>{if(o.current=c,!c||i.isDestroyed()){s.current=i.destroyBean(s.current);return}s.current=i.createBean(new x6);const f={toggleCss:(d,h)=>t(g=>g.setClass(d,h)),setHeightAndMinHeight:d=>n(d)};s.current.setComp(f,c,c)},[]),l=Z.useMemo(()=>"ag-header "+e.toString(),[e]),u=Z.useMemo(()=>({height:r,minHeight:r}),[r]);return xe.createElement("div",{ref:a,className:l,style:u,role:"presentation"},xe.createElement(qd,{pinned:"left"}),xe.createElement(qd,{pinned:null}),xe.createElement(qd,{pinned:"right"}))},zH=Z.memo(jH),VH=(e,t)=>{Z.useEffect(()=>{const r=t.current;if(r){const n=r.parentElement;if(n){const i=document.createComment(e);return n.insertBefore(i,r),()=>{i.remove()}}}},[e])},Zi=VH,WH=class{constructor(e,t){this.cellEditorParams=e,this.refreshProps=t,this.instanceCreated=new Ct(r=>{this.resolveInstanceCreated=r}),this.onValueChange=r=>this.updateValue(r),this.value=e.value}getProps(){return{...this.cellEditorParams,initialValue:this.cellEditorParams.value,value:this.value,onValueChange:this.onValueChange}}getValue(){return this.value}refresh(e){this.cellEditorParams=e,this.refreshProps()}setMethods(e){$c(this.getOptionalMethods(),e,this)}getInstance(){return this.instanceCreated.then(()=>this.componentInstance)}setRef(e){this.componentInstance=e,this.resolveInstanceCreated?.(),this.resolveInstanceCreated=void 0}getOptionalMethods(){return["isCancelBeforeStart","isCancelAfterEnd","focusIn","focusOut","afterGuiAttached","getValidationErrors","getValidationElement"]}updateValue(e){this.value=e,this.refreshProps()}},$H=e=>{const t=Z.useRef(e),r=Z.useRef(),n=Z.useRef(!1),i=Z.useRef(!1),[,o]=Z.useState(0);n.current&&(i.current=!0),Z.useEffect(()=>(n.current||(r.current=t.current(),n.current=!0),o(s=>s+1),()=>{i.current&&r.current?.()}),[])},UH=e=>{const[t,r]=Z.useState(),n=Z.useContext(Er),{context:i,popupSvc:o,gos:s,editSvc:a}=n,{editDetails:l,cellCtrl:u,eParentCell:c}=e;return $H(()=>{const{compDetails:f}=l,d=s.get("stopEditingWhenCellsLoseFocus");let h,g;if(!i.isDestroyed()){g=i.createBean(a.createPopupEditorWrapper(f.params));const m=g.getGui();if(e.jsChildComp){const E=e.jsChildComp.getGui();E&&m.appendChild(E)}const{column:p,rowNode:y}=u,b={column:p,rowNode:y,type:"popupCellEditor",eventSource:c,ePopup:m,position:l.popupPosition,keepWithinBounds:!0},v=o?.positionPopupByComponent.bind(o,b),F=o?.addPopup({modal:d,eChild:m,closeOnEsc:!0,closedCallback:()=>{u.onPopupEditorClosed()},anchorToElement:c,positionCallback:v,ariaOwns:c});h=F?F.hideFunc:void 0,r(g),e.jsChildComp?.afterGuiAttached?.()}return()=>{h?.(),i.destroyBean(g)}}),Z.useLayoutEffect(()=>()=>{u.isCellFocused()&&t?.getGui().contains(qt(n))&&c.focus({preventScroll:!0})},[t]),t&&e.wrappedContent?_a.createPortal(e.wrappedContent,t.getGui()):null},F0=Z.memo(UH),KH=(e,t,r)=>{const{compProxy:n}=e;r(n);const i=n.getProps(),o=Ps(t);return xe.createElement(Hp.Provider,{value:{setMethods:s=>n.setMethods(s)}},o?xe.createElement(t,{...i}):xe.createElement(t,{...i,ref:s=>n.setRef(s)}))},S0=(e,t,r)=>e.compProxy?KH(e,t,r):xe.createElement(t,{...e.compDetails.params,ref:r}),qH=(e,t,r,n,i)=>{const o=e.compDetails,s=o.componentClass,a=o.componentFromFramework&&!e.popup,l=o.componentFromFramework&&e.popup,u=!o.componentFromFramework&&e.popup;return a?S0(e,s,t):l?xe.createElement(F0,{editDetails:e,cellCtrl:n,eParentCell:r,wrappedContent:S0(e,s,t)}):u&&i?xe.createElement(F0,{editDetails:e,cellCtrl:n,eParentCell:r,jsChildComp:i}):null},JH=(e,t,r,n,i,o)=>{const{context:s}=Z.useContext(Er),a=Z.useCallback(()=>{const l=i.current;if(!l)return;const u=l.getGui();u&&u.parentElement&&u.remove(),s.destroyBean(l),i.current=void 0},[]);Z.useEffect(()=>{const l=e!=null,u=e?.compDetails&&!e.compDetails.componentFromFramework,c=t&&r==null;if(!(l&&u&&!c)){a();return}const d=e.compDetails;if(i.current){const g=i.current,p=g.refresh!=null&&e.force==!1?g.refresh(d.params):!1;if(p===!0||p===void 0)return;a()}d.newAgStackInstance().then(g=>{if(!g)return;const m=g.getGui();if(!m)return;(t?r:o.current).appendChild(m),i.current=g})},[e,t,n]),Z.useEffect(()=>a,[])},EF=JH,YH=({cellCtrl:e,parent:t})=>{const r=Z.useRef(),n=Z.useMemo(()=>{const{loadingComp:i}=e.getDeferLoadingCellRenderer();return i?{value:void 0,compDetails:i,force:!1}:void 0},[e]);if(EF(n,!1,void 0,1,r,t),n?.compDetails?.componentFromFramework){const i=n.compDetails.componentClass;return xe.createElement(i,{...n.compDetails.params})}return xe.createElement(xe.Fragment,null)},ZH=({cellCtrl:e,printLayout:t,editingCell:r})=>{const n=Z.useContext(Er),{context:i}=n,{column:{colIdSanitised:o},instanceId:s}=e,a=Z.useRef(),[l,u]=Z.useState(()=>e.isCellRenderer()?void 0:{compDetails:void 0,value:e.getValueToDisplay(),force:!1}),[c,f]=Z.useState(),[d,h]=Z.useState(1),[g,m]=Z.useState(),[p,y]=Z.useState(!1),[b,v]=Z.useState(!1),[F,E]=Z.useState(!1),[T,I]=Z.useState(),M=Z.useMemo(()=>e.isForceWrapper(),[e]),P=Z.useMemo(()=>e.getCellAriaRole(),[e]),O=Z.useRef(null),z=Z.useRef(null),L=Z.useRef(null),_=Z.useRef(),R=Z.useRef(),k=Z.useRef(),S=Z.useRef([]),w=Z.useRef(),C=Z.useRef(),[x,A]=Z.useState(0),D=Z.useCallback(re=>{C.current=re,A(q=>q+1)},[]),B=l!=null&&(p||F||b)&&(c==null||!!c.popup),V=M||B,j=Z.useMemo(()=>e.getCellValueClass(),[e]),K=Z.useCallback(re=>{if(R.current=re,re){const q=re.isCancelBeforeStart&&re.isCancelBeforeStart();setTimeout(()=>{q?(e.stopEditing(!0),e.focusCell(!0)):(e.cellEditorAttached(),e.enableEditorTooltipFeature(re))})}},[e]),G=Z.useRef();G.current||(G.current=new Oa(()=>O.current)),EF(l,V,C.current,x,_,O);const Y=Z.useRef();Z.useLayoutEffect(()=>{const re=Y.current,q=l;if(Y.current=l,re==null||re.compDetails==null||q==null||q.compDetails==null)return;w.current?.refreshVisibility();const X=re.compDetails,te=q.compDetails;if(X.componentClass!=te.componentClass||L.current?.refresh==null)return;L.current.refresh(te.params)!=!0&&h(oe=>oe+1)},[l]),Z.useLayoutEffect(()=>{if(!(c&&!c.compDetails.componentFromFramework)||i.isDestroyed())return;const q=c.compDetails,X=c.popup===!0,te=q.newAgStackInstance();return te.then(se=>{if(!se)return;const oe=se.getGui();K(se),X||((M?k:O).current?.appendChild(oe),se.afterGuiAttached?.()),I(se)}),()=>{te.then(se=>{const oe=se.getGui();e.disableEditorTooltipFeature(),i.destroyBean(se),K(void 0),I(void 0),oe?.remove()})}},[c]);const H=Z.useCallback(re=>{if(k.current=re,!re||i.isDestroyed()||!e.isAlive()){const te=S.current;S.current=[];for(const se of te)se();return}let q;const X=te=>{te&&(re.insertAdjacentElement("afterbegin",te.getGui()),S.current.push(()=>{Ei(te.getGui()),i.destroyBean(te),w.current===q&&(w.current=void 0)}))};p&&X(e.createSelectionCheckbox()),F&&X(e.createDndSource()),b&&(q=e.createRowDragComp(),w.current=q,q&&(X(q),q.refreshVisibility()))},[e,i,F,b,p]),N=Z.useCallback(()=>{const re=!e.isCellSpanning()||z.current,q=O.current;if(!q||!re||!e||!e.isAlive()||i.isDestroyed()){a.current=i.destroyBean(a.current);return}a.current=i.createBean(new Ds);const X={toggleCss:(se,oe)=>G.current.toggleCss(se,oe),setUserStyles:se=>m(se),getFocusableElement:()=>O.current,setIncludeSelection:se=>y(se),setIncludeRowDrag:se=>v(se),setIncludeDndSource:se=>E(se),getCellEditor:()=>R.current??null,getCellRenderer:()=>L.current??_.current,getParentOfValue:()=>C.current??k.current??O.current,setRenderDetails:(se,oe,ie)=>{const ae=()=>{u(ue=>ue?.compDetails!==se||ue?.value!==oe||ue?.force!==ie?{value:oe,compDetails:se,force:ie}:ue)};if(se?.params?.deferRender&&!e.rowNode.group){const{loadingComp:ue,onReady:ce}=e.getDeferLoadingCellRenderer();if(ue){u({value:void 0,compDetails:ue,force:!1}),ce.then(()=>cH(ae));return}}ae()},setEditDetails:(se,oe,ie,ae)=>{if(se){let ue;se.componentFromFramework&&(ae?ue=new WH(se.params,()=>h(ce=>ce+1)):Gp()),f({compDetails:se,popup:oe,popupPosition:ie,compProxy:ue}),oe||u(void 0)}else e.hasBrowserFocus()&&X.getFocusableElement().focus({preventScroll:!0}),R.current=void 0,f(void 0)},refreshEditStyles:(se,oe)=>{if(!O.current)return;const{current:ie}=G;ie.toggleCss("ag-cell-value",!V),ie.toggleCss("ag-cell-inline-editing",!!se&&!oe),ie.toggleCss("ag-cell-popup-editing",!!se&&!!oe),ie.toggleCss("ag-cell-not-inline-editing",!se||!!oe)}},te=k.current||void 0;e.setComp(X,q,z.current??void 0,te,t,r,a.current)},[]),$=Z.useCallback(re=>{O.current=re,N()},[]),J=Z.useCallback(re=>{z.current=re,N()},[]),Q=Z.useMemo(()=>!!(l?.compDetails?.componentFromFramework&&Ps(l.compDetails.componentClass)),[l]);Z.useLayoutEffect(()=>{if(!O.current)return;const{current:re}=G;re.toggleCss("ag-cell-value",!V),re.toggleCss("ag-cell-inline-editing",!!c&&!c.popup),re.toggleCss("ag-cell-popup-editing",!!c&&!!c.popup),re.toggleCss("ag-cell-not-inline-editing",!c||!!c.popup)});const ee=()=>{const{compDetails:re,value:q}=l;if(!re)return q?.toString?.()??q;if(re.componentFromFramework){const X=re.componentClass;return xe.createElement(Z.Suspense,{fallback:xe.createElement(YH,{cellCtrl:e,parent:O})},Q?xe.createElement(X,{...re.params,key:d}):xe.createElement(X,{...re.params,key:d,ref:L}))}},W=()=>{const re=()=>l==null?null:V?xe.createElement("span",{role:"presentation",id:`cell-${s}`,className:j,ref:D},ee()):ee(),q=X=>qH(X,K,O.current,e,T);return c!=null?c.popup?xe.createElement(xe.Fragment,null,re(),q(c)):q(c):re()},ne=()=>xe.createElement("div",{ref:$,style:g,role:P,"col-id":o},V?xe.createElement("div",{className:"ag-cell-wrapper",role:"presentation",ref:H},W()):W());return e.isCellSpanning()?xe.createElement("div",{ref:J,className:"ag-spanned-cell-wrapper",role:"presentation"},ne()):ne()},XH=Z.memo(ZH),QH=({rowCtrl:e,containerType:t})=>{const{context:r,gos:n,editSvc:i}=Z.useContext(Er),o=Z.useContext(wF)==="default",s=Z.useRef(),a=Z.useRef(e.getDomOrder()),l=e.isFullWidth(),u=e.rowNode.displayed,[c,f]=Z.useState(()=>u?e.rowNode.getRowIndexString():null),[d,h]=Z.useState(()=>e.rowId),[g,m]=Z.useState(()=>e.businessKey),[p,y]=Z.useState(()=>e.rowStyles),b=Z.useRef(null),[v,F]=Z.useState(()=>null),[E,T]=Z.useState(),[I,M]=Z.useState(()=>u?e.getInitialRowTop(t):void 0),[P,O]=Z.useState(()=>u?e.getInitialTransform(t):void 0),z=Z.useRef(null),L=Z.useRef(),_=Z.useRef(),R=Z.useRef(!1),[k,S]=Z.useState(0);Z.useEffect(()=>{if(R.current||!E||k>10)return;const $=z.current?.firstChild;$?(e.setupDetailRowAutoHeight($),R.current=!0):S(J=>J+1)},[E,k]);const w=Z.useRef();w.current||(w.current=new Oa(()=>z.current));const C=Z.useRef(()=>{}),x=Z.useCallback($=>(C.current=$,()=>{C.current=()=>{}}),[]),A=dH(x,()=>b.current,[]),D=o?A:v,B=Z.useCallback($=>{if(z.current=$,s.current=$?r.createBean(new Ds):r.destroyBean(s.current),!$){e.unsetComp(t);return}if(!e.isAlive()||r.isDestroyed())return;const J={setTop:M,setTransform:O,toggleCss:(Q,ee)=>w.current.toggleCss(Q,ee),setDomOrder:Q=>a.current=Q,setRowIndex:f,setRowId:h,setRowBusinessKey:m,setUserStyles:y,setCellCtrls:(Q,ee)=>{const W=b.current,ne=gc(W,Q,a.current);ne!==W&&(b.current=ne,o?C.current():ka(ee,()=>F(ne)))},showFullWidth:Q=>{_.current=Q.params,T(Q)},getFullWidthCellRenderer:()=>L.current,getFullWidthCellRendererParams:()=>_.current,refreshFullWidth:Q=>{const ee=Q();return _.current=ee,Y.current?(T(W=>({...W,params:ee})),!0):!L.current||!L.current.refresh?!1:L.current.refresh(ee)}};e.setComp(J,$,t,s.current)},[]);Z.useLayoutEffect(()=>Va(E,r,z.current,L),[E]);const V=Z.useMemo(()=>{const $={top:I,transform:P};return Object.assign($,p),$},[I,P,p]),j=l&&E?.componentFromFramework,K=!l&&D!=null,G=Z.useMemo(()=>!!(E?.componentFromFramework&&Ps(E.componentClass)),[E]),Y=Z.useRef(!1);Z.useEffect(()=>{Y.current=G&&!!E&&!!n.get("reactiveCustomComponents")},[G,E]);const H=()=>D?.map($=>xe.createElement(XH,{cellCtrl:$,editingCell:i?.isEditing($,{withOpenEditor:!0})??!1,printLayout:e.printLayout,key:$.instanceId})),N=()=>{const $=E.componentClass;return G?xe.createElement($,{...E.params}):xe.createElement($,{...E.params,ref:L})};return xe.createElement("div",{ref:B,role:"row",style:V,"row-index":c,"row-id":d,"row-business-key":g},K?H():j?N():null)},x0=Z.memo(QH),eG=({name:e})=>{const{context:t,gos:r}=Z.useContext(Er),n=Z.useMemo(()=>Ga(e),[e]),i=Z.useRef(null),o=Z.useRef(null),s=Z.useRef(null),a=Z.useRef([]),l=Z.useRef([]),[u,c]=Z.useState(()=>[]),f=!!r.get("enableCellSpan")&&!!n.getSpannedRowCtrls,d=Z.useRef([]),h=Z.useRef([]),[g,m]=Z.useState(()=>[]),p=Z.useRef(!1),y=Z.useRef(),b=Z.useMemo(()=>rn("ag-viewport",Y1(e)),[e]),v=Z.useMemo(()=>rn(bu(e)),[e]),F=Z.useMemo(()=>rn("ag-spanning-container",qD(e)),[e]),E=n.type==="center"||f,T=E?i:o;Zi(" AG Row Container "+e+" ",T);const I=Z.useCallback(()=>{const k=!E||i.current!=null,S=o.current!=null,w=!f||s.current!=null;return k&&S&&w},[]),M=Z.useCallback(()=>i.current==null&&o.current==null&&s.current==null,[]),P=Z.useCallback(()=>{if(M()&&(y.current=t.destroyBean(y.current)),!t.isDestroyed()&&I()){const k=C=>{const x=gc(l.current,a.current,p.current);x!==l.current&&(l.current=x,ka(C,()=>c(x)))},S=C=>{const x=gc(h.current,d.current,p.current);x!==h.current&&(h.current=x,ka(C,()=>m(x)))},w={setHorizontalScroll:C=>{i.current&&(i.current.scrollLeft=C)},setViewportHeight:C=>{i.current&&(i.current.style.height=C)},setRowCtrls:({rowCtrls:C,useFlushSync:x})=>{const A=!!x&&a.current.length>0&&C.length>0;a.current=C,k(A)},setSpannedRowCtrls:(C,x)=>{const A=!!x&&d.current.length>0&&C.length>0;d.current=C,S(A)},setDomOrder:C=>{p.current!=C&&(p.current=C,k(!1))},setContainerWidth:C=>{o.current&&(o.current.style.width=C)},setOffsetTop:C=>{o.current&&(o.current.style.transform=`translateY(${C})`)}};y.current=t.createBean(new i6(e)),y.current.setComp(w,o.current,s.current??void 0,i.current)}},[I,M]),O=Z.useCallback(k=>{o.current=k,P()},[P]),z=Z.useCallback(k=>{s.current=k,P()},[P]),L=Z.useCallback(k=>{i.current=k,P()},[P]),_=()=>xe.createElement("div",{className:v,ref:O,role:E?"presentation":"rowgroup"},u.map(k=>xe.createElement(x0,{rowCtrl:k,containerType:n.type,key:k.instanceId})));if(!E)return _();const R=()=>xe.createElement("div",{className:F,ref:z,role:"presentation"},g.map(k=>xe.createElement(x0,{rowCtrl:k,containerType:n.type,key:k.instanceId})));return xe.createElement("div",{className:b,ref:L,role:"rowgroup"},_(),f?R():null)},tG=Z.memo(eG),rG=()=>{const e=Z.useContext(Er),{context:t,overlays:r}=e,[n,i]=Z.useState(""),[o,s]=Z.useState(0),[a,l]=Z.useState(0),[u,c]=Z.useState("0px"),[f,d]=Z.useState("0px"),[h,g]=Z.useState("100%"),[m,p]=Z.useState("0px"),[y,b]=Z.useState("0px"),[v,F]=Z.useState("100%"),[E,T]=Z.useState(!0),[I,M]=Z.useState(!0),[P,O]=Z.useState(null),[z,L]=Z.useState(""),[_,R]=Z.useState(null),[k,S]=Z.useState("ag-layout-normal"),w=Z.useRef();w.current||(w.current=new Oa(()=>C.current));const C=Z.useRef(null),x=Z.useRef(null),A=Z.useRef(null),D=Z.useRef(null),B=Z.useRef(null),V=Z.useRef(null),j=Z.useRef(null),K=Z.useRef([]),G=Z.useRef([]);Zi(" AG Grid Body ",C),Zi(" AG Pinned Top ",x),Zi(" AG Sticky Top ",A),Zi(" AG Middle ",V),Zi(" AG Pinned Bottom ",j);const Y=Z.useCallback(oe=>{if(C.current=oe,!oe||t.isDestroyed()){K.current=t.destroyBeans(K.current);for(const ge of G.current)ge();G.current=[];return}const ie=(ge,Re)=>{ge.appendChild(Re),G.current.push(()=>Re.remove())},ae=ge=>{const Re=t.createBean(new ge);return K.current.push(Re),Re},ue=(ge,Re,_e)=>{ie(ge,document.createComment(_e)),ie(ge,ae(Re).getGui())};ue(oe,d6," AG Fake Horizontal Scroll ");const ce=r?.getOverlayWrapperCompClass();ce&&ue(oe,ce," AG Overlay Wrapper "),B.current&&ue(B.current,f6," AG Fake Vertical Scroll ");const pe={setRowAnimationCssOnBodyViewport:i,setColumnCount:ge=>{C.current&&G_(C.current,ge)},setRowCount:ge=>{C.current&&O_(C.current,ge)},setTopHeight:s,setBottomHeight:l,setStickyTopHeight:c,setStickyTopTop:d,setStickyTopWidth:g,setTopInvisible:T,setBottomInvisible:M,setColumnMovingCss:(ge,Re)=>w.current.toggleCss(ge,Re),updateLayoutClasses:S,setAlwaysVerticalScrollClass:O,setPinnedTopBottomOverflowY:L,setCellSelectableCss:(ge,Re)=>R(Re?ge:null),setBodyViewportWidth:ge=>{V.current&&(V.current.style.width=ge)},registerBodyViewportResizeListener:ge=>{if(V.current){const Re=ii(e,V.current,ge);G.current.push(()=>Re())}},setStickyBottomHeight:p,setStickyBottomBottom:b,setStickyBottomWidth:F,setGridRootRole:ge=>oe.setAttribute("role",ge)},ye=t.createBean(new l6);K.current.push(ye),ye.setComp(pe,oe,V.current,x.current,j.current,A.current,D.current)},[]),H=Z.useMemo(()=>rn("ag-root","ag-unselectable",k),[k]),N=Z.useMemo(()=>rn("ag-body-viewport",n,k,P,_),[n,k,P,_]),$=Z.useMemo(()=>rn("ag-body",k),[k]),J=Z.useMemo(()=>rn("ag-floating-top",E?"ag-invisible":null,_),[_,E]),Q=Z.useMemo(()=>rn("ag-sticky-top",_),[_]),ee=Z.useMemo(()=>rn("ag-sticky-bottom",m==="0px"?"ag-invisible":null,_),[_,m]),W=Z.useMemo(()=>rn("ag-floating-bottom",I?"ag-invisible":null,_),[_,I]),ne=Z.useMemo(()=>({height:o,minHeight:o,overflowY:z}),[o,z]),re=Z.useMemo(()=>({height:u,top:f,width:h}),[u,f,h]),q=Z.useMemo(()=>({height:m,bottom:y,width:v}),[m,y,v]),X=Z.useMemo(()=>({height:a,minHeight:a,overflowY:z}),[a,z]),te=oe=>xe.createElement(tG,{name:oe,key:`${oe}-container`}),se=({section:oe,children:ie,className:ae,style:ue})=>xe.createElement("div",{ref:oe,className:ae,role:"presentation",style:ue},ie.map(te));return xe.createElement("div",{ref:Y,className:H},xe.createElement(zH,null),se({section:x,className:J,style:ne,children:["topLeft","topCenter","topRight","topFullWidth"]}),xe.createElement("div",{className:$,ref:B,role:"presentation"},se({section:V,className:N,children:["left","center","right","fullWidth"]})),se({section:A,className:Q,style:re,children:["stickyTopLeft","stickyTopCenter","stickyTopRight","stickyTopFullWidth"]}),se({section:D,className:ee,style:q,children:["stickyBottomLeft","stickyBottomCenter","stickyBottomRight","stickyBottomFullWidth"]}),se({section:j,className:W,style:X,children:["bottomLeft","bottomCenter","bottomRight","bottomFullWidth"]}))},nG=Z.memo(rG),iG=(e,t)=>{const{children:r,eFocusableElement:n,onTabKeyDown:i,gridCtrl:o,forceFocusOutWhenTabGuardsAreEmpty:s,isEmpty:a}=e,{context:l}=Z.useContext(Er),u=Z.useRef(null),c=Z.useRef(null),f=Z.useRef(),d=y=>{const b=y==null?void 0:parseInt(y,10).toString();for(const v of[u,c])b===void 0?v.current?.removeAttribute("tabindex"):v.current?.setAttribute("tabindex",b)};Z.useImperativeHandle(t,()=>({forceFocusOutOfContainer(y){f.current?.forceFocusOutOfContainer(y)}}));const h=Z.useCallback(()=>{const y=u.current,b=c.current;if(!y&&!b||l.isDestroyed()){f.current=l.destroyBean(f.current);return}if(y&&b){const v={setTabIndex:d};f.current=l.createBean(new lC({comp:v,eTopGuard:y,eBottomGuard:b,eFocusableElement:n,onTabKeyDown:i,forceFocusOutWhenTabGuardsAreEmpty:s,focusInnerElement:F=>o.focusInnerElement(F),isEmpty:a}))}},[]),g=Z.useCallback(y=>{u.current=y,h()},[h]),m=Z.useCallback(y=>{c.current=y,h()},[h]),p=y=>{const b=y==="top"?us.TAB_GUARD_TOP:us.TAB_GUARD_BOTTOM;return xe.createElement("div",{className:`${us.TAB_GUARD} ${b}`,role:"presentation",ref:y==="top"?g:m})};return xe.createElement(xe.Fragment,null,p("top"),r,p("bottom"))},oG=Z.forwardRef(iG),sG=Z.memo(oG),aG=({context:e})=>{const[t,r]=Z.useState(""),[n,i]=Z.useState(""),[o,s]=Z.useState(null),[a,l]=Z.useState(null),[u,c]=Z.useState(!1),[f,d]=Z.useState(),h=Z.useRef(),g=Z.useRef(null),m=Z.useRef(),[p,y]=Z.useState(null),b=Z.useRef(()=>{}),v=Z.useRef(),F=Z.useRef([]),E=Z.useCallback(()=>{},[]);Zi(" AG Grid ",g);const T=Z.useCallback(L=>{if(g.current=L,h.current=L?e.createBean(new cM):e.destroyBean(h.current),!L||e.isDestroyed())return;const _=h.current;b.current=_.focusInnerElement.bind(_);const R={destroyGridUi:()=>{},setRtlClass:r,forceFocusOutOfContainer:k=>{if(!k&&v.current?.isDisplayed()){v.current.forceFocusOutOfContainer(k);return}m.current?.forceFocusOutOfContainer(k)},updateLayoutClasses:i,getFocusableContainers:()=>{const k=[],S=g.current?.querySelector(".ag-root");S&&k.push({getGui:()=>S});for(const w of F.current)w.isDisplayed()&&k.push(w);return k},setCursor:s,setUserSelect:l};_.setComp(R,L,L),c(!0)},[]);Z.useEffect(()=>{const L=h.current,_=g.current;if(!f||!L||!p||!_||e.isDestroyed())return;const R=[],{watermarkSelector:k,paginationSelector:S,sideBarSelector:w,statusBarSelector:C,gridHeaderDropZonesSelector:x}=L.getOptionalSelectors(),A=[];if(x){const B=e.createBean(new x.component),V=B.getGui();_.insertAdjacentElement("afterbegin",V),A.push(V),R.push(B)}if(w){const B=e.createBean(new w.component),V=B.getGui(),j=p.querySelector(".ag-tab-guard-bottom");j&&(j.insertAdjacentElement("beforebegin",V),A.push(V)),R.push(B),F.current.push(B)}const D=B=>{const V=e.createBean(new B),j=V.getGui();return _.insertAdjacentElement("beforeend",j),A.push(j),R.push(V),V};if(C&&D(C.component),S){const B=D(S.component);v.current=B,F.current.push(B)}return k&&D(k.component),()=>{e.destroyBeans(R);for(const B of A)B.remove()}},[f,p,e]);const I=Z.useMemo(()=>rn("ag-root-wrapper",t,n),[t,n]),M=Z.useMemo(()=>rn("ag-root-wrapper-body","ag-focus-managed",n),[n]),P=Z.useMemo(()=>({userSelect:a??"",WebkitUserSelect:a??"",cursor:o??""}),[a,o]),O=Z.useCallback(L=>{m.current=L,d(L!==null)},[]),z=Z.useCallback(()=>!h.current?.isFocusable(),[]);return xe.createElement("div",{ref:T,className:I,style:P,role:"presentation"},xe.createElement("div",{className:M,ref:y,role:"presentation"},u&&p&&!e.isDestroyed()&&xe.createElement(Er.Provider,{value:e.getBeans()},xe.createElement(sG,{ref:O,eFocusableElement:p,onTabKeyDown:E,gridCtrl:h.current,forceFocusOutWhenTabGuardsAreEmpty:!0,isEmpty:z},xe.createElement(nG,null)))))},lG=Z.memo(aG),uG=class extends ve{postConstruct(){if(this.beans.colAutosize){const e=this.queueResizeOperationsForTick.bind(this);this.addManagedEventListeners({rowExpansionStateChanged:e,expandOrCollapseAll:e,cellValueChanged:e,rowNodeDataChanged:e,rowDataUpdated:e})}}queueResizeOperationsForTick(){const e=this.beans.colAutosize;e.shouldQueueResizeOperations=!0,setTimeout(()=>{e.processResizeOperations()},0)}areHeaderCellsRendered(){return this.beans.ctrlsSvc.getHeaderRowContainerCtrls().every(e=>e.getAllCtrls().every(t=>t.areCellsRendered()))}areCellsRendered(){return this.beans.rowRenderer.getAllRowCtrls().every(e=>e.isRowRendered()&&e.getAllCellCtrls().every(t=>!!t.eGui))}},RF={setGridApi:void 0,maxComponentCreationTimeMs:void 0,children:void 0},cG={gridOptions:void 0,modules:void 0,containerStyle:void 0,className:void 0,passGridApi:void 0,componentWrappingElement:void 0,...RF},_F=new Set(Object.keys(cG)),dG=new Set(Object.keys(RF)),AF=e=>{const t=Z.useRef(),r=Z.useRef(null),n=Z.useRef(null),i=Z.useRef([]),o=Z.useRef([]),s=Z.useRef(e),a=Z.useRef(),l=Z.useRef(),u=Z.useRef(!1),[c,f]=Z.useState(void 0),[,d]=Z.useState(0),h=Z.useCallback(y=>{if(r.current=y,!y){for(const z of i.current)z();i.current.length=0;return}const b=e.modules||[];n.current||(n.current=new TH(()=>d(z=>z+1),e.componentWrappingElement,e.maxComponentCreationTimeMs),i.current.push(()=>{n.current?.destroy(),n.current=null}));const v=jA(e.gridOptions,e,Object.keys(e).filter(z=>!_F.has(z))),F=()=>{if(u.current){const z=()=>a.current?.shouldQueueUpdates()?void 0:o.current.shift();let L=z();for(;L;)L(),L=z()}},E=new gG(F);a.current=E;const T=new uG,I={providedBeanInstances:{frameworkCompWrapper:new fG(n.current,v),renderStatus:T},modules:b,frameworkOverrides:E,setThemeOnGridDiv:!0},M=z=>{f(z),z.createBean(T),i.current.push(()=>{z.destroy()}),z.getBean("ctrlsSvc").whenReady({addDestroyFunc:L=>{i.current.push(L)}},()=>{if(z.isDestroyed())return;const L=t.current;L&&e.passGridApi?.(L)})},P=z=>{z.getBean("ctrlsSvc").whenReady({addDestroyFunc:L=>{i.current.push(L)}},()=>{for(const L of o.current)L();o.current.length=0,u.current=!0})},O=new TI;v.gridId??(v.gridId=l.current),t.current=O.create(y,v,M,P,I),i.current.push(()=>{t.current=void 0}),t.current&&(l.current=t.current.getGridId())},[]),g=Z.useMemo(()=>({height:"100%",...e.containerStyle||{}}),[e.containerStyle]),m=Z.useCallback(y=>{u.current&&!a.current?.shouldQueueUpdates()?y():o.current.push(y)},[]);Z.useEffect(()=>{const y=hG(s.current,e);s.current=e,m(()=>{t.current&&zA(y,t.current)})},[e]);const p=!xe.useSyncExternalStore||hu(e,"renderingMode")==="legacy"?"legacy":"default";return xe.createElement("div",{style:g,className:e.className,ref:h},xe.createElement(wF.Provider,{value:p},c&&!c.isDestroyed()?xe.createElement(lG,{key:c.instanceId,context:c}):null,n.current?.getPortals()??null))};function hG(e,t){const r={};for(const n of Object.keys(t)){if(_F.has(n)){dG.has(n)&&Se(274,{prop:n});continue}const i=t[n];e[n]!==i&&(r[n]=i)}return r}var fG=class extends BI{constructor(e,t){super(),this.parent=e,this.gridOptions=t}createWrapper(e,t){const r=this.gridOptions;if(hu(r,"reactiveCustomComponents")){const s=(a=>{switch(a){case"filter":return hu(r,"enableFilterHandlers")?vH:yH;case"floatingFilterComponent":return hu(r,"enableFilterHandlers")?FH:CH;case"dateComponent":return mH;case"dragAndDropImageComponent":return bH;case"loadingOverlayComponent":return xH;case"noRowsOverlayComponent":return EH;case"statusPanel":return RH;case"toolPanel":return _H;case"menuItem":return kH;case"cellRenderer":return gH;case"innerHeaderComponent":return SH}})(t.name);if(s)return new s(e,this.parent,t)}else switch(t.name){case"filter":case"floatingFilterComponent":case"dateComponent":case"dragAndDropImageComponent":case"loadingOverlayComponent":case"noRowsOverlayComponent":case"statusPanel":case"toolPanel":case"menuItem":case"cellRenderer":Gp();break}const i=!t.cellRenderer&&t.name!=="toolPanel";return new xF(e,this.parent,t,i)}},pG=Z.forwardRef((e,t)=>{const r=Z.useContext(Er),{registry:n,context:i,gos:o,rowModel:s}=r,[a,l]=Z.useState(()=>new sn),[u,c]=Z.useState(()=>new sn),[f,d]=Z.useState(),[h,g]=Z.useState(),m=Z.useRef(),p=Z.useRef(null),y=Z.useRef(),b=Z.useMemo(()=>yA(e.api.getGridId(),f?.rowModelType??"clientSide"),[e]),v=Z.useMemo(()=>a.toString()+" ag-details-row",[a]),F=Z.useMemo(()=>u.toString()+" ag-details-grid",[u]);t&&Z.useImperativeHandle(t,()=>({refresh(){return m.current?.refresh()??!1}})),e.template&&Se(230);const E=Z.useCallback(I=>{if(p.current=I,!I||i.isDestroyed()){m.current=i.destroyBean(m.current),y.current?.();return}const M={toggleCss:(O,z)=>l(L=>L.setClass(O,z)),toggleDetailGridCss:(O,z)=>c(L=>L.setClass(O,z)),setDetailGrid:O=>d(O),setRowData:O=>g(O),getGui:()=>p.current},P=n.createDynamicBean("detailCellRendererCtrl",!0);if(P&&(i.createBean(P),P.init(M,e),m.current=P,o.get("detailRowAutoHeight"))){const O=()=>{if(p.current==null)return;const z=p.current.clientHeight;z!=null&&z>0&&setTimeout(()=>{e.node.setRowHeight(z),(er(o)||Eo(o))&&s.onRowHeightChanged()},0)};y.current=ii(r,I,O),O()}},[]),T=Z.useCallback(I=>{m.current?.registerDetailWithMaster(I)},[]);return xe.createElement("div",{className:v,ref:E},f&&xe.createElement(AF,{className:F,...f,modules:b,rowData:h,passGridApi:T}))}),gG=class extends uC{constructor(e){super("react"),this.processQueuedUpdates=e,this.queueUpdates=!1,this.renderingEngine="react",this.frameworkComponents={agGroupCellRenderer:w0,agGroupRowRenderer:w0,agDetailCellRenderer:pG},this.wrapIncoming=(t,r)=>r==="ensureVisible"?uH(t):t()}frameworkComponent(e){return this.frameworkComponents[e]}isFrameworkComponent(e){if(!e)return!1;const t=e.prototype;return!(t&&"getGui"in t)}getLockOnRefresh(){this.queueUpdates=!0}releaseLockOnRefresh(){this.queueUpdates=!1,this.processQueuedUpdates()}shouldQueueUpdates(){return this.queueUpdates}runWhenReadyAsync(){return lH()}},ff=class extends Z.Component{constructor(){super(...arguments),this.apiListeners=[],this.setGridApi=e=>{this.api=e;for(const t of this.apiListeners)t(e)}}registerApiListener(e){this.apiListeners.push(e)}componentWillUnmount(){this.apiListeners.length=0}render(){return xe.createElement(AF,{...this.props,passGridApi:this.setGridApi})}};function mG({title:e,titleId:t,...r},n){return Z.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":t},r),e?Z.createElement("title",{id:t},e):null,Z.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 8.25H7.5a2.25 2.25 0 0 0-2.25 2.25v9a2.25 2.25 0 0 0 2.25 2.25h9a2.25 2.25 0 0 0 2.25-2.25v-9a2.25 2.25 0 0 0-2.25-2.25H15M9 12l3 3m0 0 3-3m-3 3V2.25"}))}const bG=Z.forwardRef(mG);function yG({title:e,titleId:t,...r},n){return Z.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":t},r),e?Z.createElement("title",{id:t},e):null,Z.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M13.5 6H5.25A2.25 2.25 0 0 0 3 8.25v10.5A2.25 2.25 0 0 0 5.25 21h10.5A2.25 2.25 0 0 0 18 18.75V10.5m-10.5 6L21 3m0 0h-5.25M21 3v5.25"}))}const vG=Z.forwardRef(yG);function wG({title:e,titleId:t,...r},n){return Z.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":t},r),e?Z.createElement("title",{id:t},e):null,Z.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3.75 3.75v4.5m0-4.5h4.5m-4.5 0L9 9M3.75 20.25v-4.5m0 4.5h4.5m-4.5 0L9 15M20.25 3.75h-4.5m4.5 0v4.5m0-4.5L15 9m5.25 11.25h-4.5m4.5 0v-4.5m0 4.5L15 15"}))}const CG=Z.forwardRef(wG);function FG({title:e,titleId:t,...r},n){return Z.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":t},r),e?Z.createElement("title",{id:t},e):null,Z.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M11.35 3.836c-.065.21-.1.433-.1.664 0 .414.336.75.75.75h4.5a.75.75 0 0 0 .75-.75 2.25 2.25 0 0 0-.1-.664m-5.8 0A2.251 2.251 0 0 1 13.5 2.25H15c1.012 0 1.867.668 2.15 1.586m-5.8 0c-.376.023-.75.05-1.124.08C9.095 4.01 8.25 4.973 8.25 6.108V8.25m8.9-4.414c.376.023.75.05 1.124.08 1.131.094 1.976 1.057 1.976 2.192V16.5A2.25 2.25 0 0 1 18 18.75h-2.25m-7.5-10.5H4.875c-.621 0-1.125.504-1.125 1.125v11.25c0 .621.504 1.125 1.125 1.125h9.75c.621 0 1.125-.504 1.125-1.125V18.75m-7.5-10.5h6.375c.621 0 1.125.504 1.125 1.125v9.375m-8.25-3 1.5 1.5 3-3.75"}))}const k0=Z.forwardRef(FG);function SG({title:e,titleId:t,...r},n){return Z.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":t},r),e?Z.createElement("title",{id:t},e):null,Z.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M8.25 7.5V6.108c0-1.135.845-2.098 1.976-2.192.373-.03.748-.057 1.123-.08M15.75 18H18a2.25 2.25 0 0 0 2.25-2.25V6.108c0-1.135-.845-2.098-1.976-2.192a48.424 48.424 0 0 0-1.123-.08M15.75 18.75v-1.875a3.375 3.375 0 0 0-3.375-3.375h-1.5a1.125 1.125 0 0 1-1.125-1.125v-1.5A3.375 3.375 0 0 0 6.375 7.5H5.25m11.9-3.664A2.251 2.251 0 0 0 15 2.25h-1.5a2.251 2.251 0 0 0-2.15 1.586m5.8 0c.065.21.1.433.1.664v.75h-6V4.5c0-.231.035-.454.1-.664M6.75 7.5H4.875c-.621 0-1.125.504-1.125 1.125v12c0 .621.504 1.125 1.125 1.125h9.75c.621 0 1.125-.504 1.125-1.125V16.5a9 9 0 0 0-9-9Z"}))}const E0=Z.forwardRef(SG);function xG({title:e,titleId:t,...r},n){return Z.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":t},r),e?Z.createElement("title",{id:t},e):null,Z.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9.594 3.94c.09-.542.56-.94 1.11-.94h2.593c.55 0 1.02.398 1.11.94l.213 1.281c.063.374.313.686.645.87.074.04.147.083.22.127.325.196.72.257 1.075.124l1.217-.456a1.125 1.125 0 0 1 1.37.49l1.296 2.247a1.125 1.125 0 0 1-.26 1.431l-1.003.827c-.293.241-.438.613-.43.992a7.723 7.723 0 0 1 0 .255c-.008.378.137.75.43.991l1.004.827c.424.35.534.955.26 1.43l-1.298 2.247a1.125 1.125 0 0 1-1.369.491l-1.217-.456c-.355-.133-.75-.072-1.076.124a6.47 6.47 0 0 1-.22.128c-.331.183-.581.495-.644.869l-.213 1.281c-.09.543-.56.94-1.11.94h-2.594c-.55 0-1.019-.398-1.11-.94l-.213-1.281c-.062-.374-.312-.686-.644-.87a6.52 6.52 0 0 1-.22-.127c-.325-.196-.72-.257-1.076-.124l-1.217.456a1.125 1.125 0 0 1-1.369-.49l-1.297-2.247a1.125 1.125 0 0 1 .26-1.431l1.004-.827c.292-.24.437-.613.43-.991a6.932 6.932 0 0 1 0-.255c.007-.38-.138-.751-.43-.992l-1.004-.827a1.125 1.125 0 0 1-.26-1.43l1.297-2.247a1.125 1.125 0 0 1 1.37-.491l1.216.456c.356.133.751.072 1.076-.124.072-.044.146-.086.22-.128.332-.183.582-.495.644-.869l.214-1.28Z"}),Z.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 12a3 3 0 1 1-6 0 3 3 0 0 1 6 0Z"}))}const kG=Z.forwardRef(xG);var EG=[{name:"Aegean Airlines",iataCode:"A3"},{name:"Aeroflot",iataCode:"SU"},{name:"Aerolineas Argentinas",iataCode:"AR"},{name:"Aeromexico",iataCode:"AM"},{name:"Air Algerie",iataCode:"AH"},{name:"Air Arabia",iataCode:"G9"},{name:"Air Canada",iataCode:"AC"},{name:"Air China",iataCode:"CA"},{name:"Air Europa",iataCode:"UX"},{name:"Air France",iataCode:"AF"},{name:"Air India",iataCode:"AI"},{name:"Air Mauritius",iataCode:"MK"},{name:"Air New Zealand",iataCode:"NZ"},{name:"Air Niugini",iataCode:"PX"},{name:"Air Tahiti",iataCode:"VT"},{name:"Air Tahiti Nui",iataCode:"TN"},{name:"Air Transat",iataCode:"TS"},{name:"AirAsia X",iataCode:"D7"},{name:"AirAsia",iataCode:"AK"},{name:"Aircalin",iataCode:"SB"},{name:"Alaska Airlines",iataCode:"AS"},{name:"Alitalia",iataCode:"AZ"},{name:"All Nippon Airways",iataCode:"NH"},{name:"Allegiant Air",iataCode:"G4"},{name:"American Airlines",iataCode:"AA"},{name:"Asiana Airlines",iataCode:"OZ"},{name:"Avianca",iataCode:"AV"},{name:"Azul Linhas Aereas Brasileiras",iataCode:"AD"},{name:"Azur Air",iataCode:"ZF"},{name:"Beijing Capital Airlines",iataCode:"JD"},{name:"Boliviana de Aviacion",iataCode:"OB"},{name:"British Airways",iataCode:"BA"},{name:"Cathay Pacific",iataCode:"CX"},{name:"Cebu Pacific Air",iataCode:"5J"},{name:"China Airlines",iataCode:"CI"},{name:"China Eastern Airlines",iataCode:"MU"},{name:"China Southern Airlines",iataCode:"CZ"},{name:"Condor",iataCode:"DE"},{name:"Copa Airlines",iataCode:"CM"},{name:"Delta Air Lines",iataCode:"DL"},{name:"Easyfly",iataCode:"VE"},{name:"EasyJet",iataCode:"U2"},{name:"EcoJet",iataCode:"8J"},{name:"Egyptair",iataCode:"MS"},{name:"El Al",iataCode:"LY"},{name:"Emirates Airlines",iataCode:"EK"},{name:"Ethiopian Airlines",iataCode:"ET"},{name:"Etihad Airways",iataCode:"EY"},{name:"EVA Air",iataCode:"BR"},{name:"Fiji Airways",iataCode:"FJ"},{name:"Finnair",iataCode:"AY"},{name:"Flybondi",iataCode:"FO"},{name:"Flydubai",iataCode:"FZ"},{name:"FlySafair",iataCode:"FA"},{name:"Frontier Airlines",iataCode:"F9"},{name:"Garuda Indonesia",iataCode:"GA"},{name:"Go First",iataCode:"G8"},{name:"Gol Linhas Aereas Inteligentes",iataCode:"G3"},{name:"Hainan Airlines",iataCode:"HU"},{name:"Hawaiian Airlines",iataCode:"HA"},{name:"IndiGo Airlines",iataCode:"6E"},{name:"Japan Airlines",iataCode:"JL"},{name:"Jeju Air",iataCode:"7C"},{name:"Jet2",iataCode:"LS"},{name:"JetBlue Airways",iataCode:"B6"},{name:"JetSMART",iataCode:"JA"},{name:"Juneyao Airlines",iataCode:"HO"},{name:"Kenya Airways",iataCode:"KQ"},{name:"KLM Royal Dutch Airlines",iataCode:"KL"},{name:"Korean Air",iataCode:"KE"},{name:"Kulula.com",iataCode:"MN"},{name:"LATAM Airlines",iataCode:"LA"},{name:"Lion Air",iataCode:"JT"},{name:"LOT Polish Airlines",iataCode:"LO"},{name:"Lufthansa",iataCode:"LH"},{name:"Libyan Airlines",iataCode:"LN"},{name:"Linea Aerea Amaszonas",iataCode:"Z8"},{name:"Malaysia Airlines",iataCode:"MH"},{name:"Nordwind Airlines",iataCode:"N4"},{name:"Norwegian Air Shuttle",iataCode:"DY"},{name:"Oman Air",iataCode:"WY"},{name:"Pakistan International Airlines",iataCode:"PK"},{name:"Pegasus Airlines",iataCode:"PC"},{name:"Philippine Airlines",iataCode:"PR"},{name:"Qantas Group",iataCode:"QF"},{name:"Qatar Airways",iataCode:"QR"},{name:"Republic Airways",iataCode:"YX"},{name:"Royal Air Maroc",iataCode:"AT"},{name:"Ryanair",iataCode:"FR"},{name:"S7 Airlines",iataCode:"S7"},{name:"SAS",iataCode:"SK"},{name:"Satena",iataCode:"9R"},{name:"Saudia",iataCode:"SV"},{name:"Shandong Airlines",iataCode:"SC"},{name:"Sichuan Airlines",iataCode:"3U"},{name:"Singapore Airlines",iataCode:"SQ"},{name:"Sky Airline",iataCode:"H2"},{name:"SkyWest Airlines",iataCode:"OO"},{name:"South African Airways",iataCode:"SA"},{name:"Southwest Airlines",iataCode:"WN"},{name:"SpiceJet",iataCode:"SG"},{name:"Spirit Airlines",iataCode:"NK"},{name:"Spring Airlines",iataCode:"9C"},{name:"SriLankan Airlines",iataCode:"UL"},{name:"Star Peru",iataCode:"2I"},{name:"Sun Country Airlines",iataCode:"SY"},{name:"SunExpress",iataCode:"XQ"},{name:"TAP Air Portugal",iataCode:"TP"},{name:"Thai AirAsia",iataCode:"FD"},{name:"Thai Airways",iataCode:"TG"},{name:"TUI Airways",iataCode:"BY"},{name:"Tunisair",iataCode:"TU"},{name:"Turkish Airlines",iataCode:"TK"},{name:"Ukraine International",iataCode:"PS"},{name:"United Airlines",iataCode:"UA"},{name:"Ural Airlines",iataCode:"U6"},{name:"VietJet Air",iataCode:"VJ"},{name:"Vietnam Airlines",iataCode:"VN"},{name:"Virgin Atlantic Airways",iataCode:"VS"},{name:"Virgin Australia",iataCode:"VA"},{name:"VivaAerobus",iataCode:"VB"},{name:"VOEPASS Linhas Aereas",iataCode:"2Z"},{name:"Volaris",iataCode:"Y4"},{name:"WestJet",iataCode:"WS"},{name:"Wingo",iataCode:"P5"},{name:"Wizz Air",iataCode:"W6"}],RG=[{name:"Aerospatiale/BAC Concorde",iataTypeCode:"SSC"},{name:"Airbus A300",iataTypeCode:"AB3"},{name:"Airbus A310",iataTypeCode:"310"},{name:"Airbus A310-200",iataTypeCode:"312"},{name:"Airbus A310-300",iataTypeCode:"313"},{name:"Airbus A318",iataTypeCode:"318"},{name:"Airbus A319",iataTypeCode:"319"},{name:"Airbus A319neo",iataTypeCode:"31N"},{name:"Airbus A320",iataTypeCode:"320"},{name:"Airbus A320neo",iataTypeCode:"32N"},{name:"Airbus A321",iataTypeCode:"321"},{name:"Airbus A321neo",iataTypeCode:"32Q"},{name:"Airbus A330",iataTypeCode:"330"},{name:"Airbus A330-200",iataTypeCode:"332"},{name:"Airbus A330-300",iataTypeCode:"333"},{name:"Airbus A330-800neo",iataTypeCode:"338"},{name:"Airbus A330-900neo",iataTypeCode:"339"},{name:"Airbus A340",iataTypeCode:"340"},{name:"Airbus A340-200",iataTypeCode:"342"},{name:"Airbus A340-300",iataTypeCode:"343"},{name:"Airbus A340-500",iataTypeCode:"345"},{name:"Airbus A340-600",iataTypeCode:"346"},{name:"Airbus A350",iataTypeCode:"350"},{name:"Airbus A350-900",iataTypeCode:"359"},{name:"Airbus A350-1000",iataTypeCode:"351"},{name:"Airbus A380",iataTypeCode:"380"},{name:"Airbus A380-800",iataTypeCode:"388"},{name:"Antonov An-12",iataTypeCode:"ANF"},{name:"Antonov An-24",iataTypeCode:"AN4"},{name:"Antonov An-26",iataTypeCode:"A26"},{name:"Antonov An-28",iataTypeCode:"A28"},{name:"Antonov An-30",iataTypeCode:"A30"},{name:"Antonov An-32",iataTypeCode:"A32"},{name:"Antonov An-72",iataTypeCode:"AN7"},{name:"Antonov An-124 Ruslan",iataTypeCode:"A4F"},{name:"Antonov An-140",iataTypeCode:"A40"},{name:"Antonov An-148",iataTypeCode:"A81"},{name:"Antonov An-158",iataTypeCode:"A58"},{name:"Antonov An-225 Mriya",iataTypeCode:"A5F"},{name:"Boeing 707",iataTypeCode:"703"},{name:"Boeing 717",iataTypeCode:"717"},{name:"Boeing 720B",iataTypeCode:"B72"},{name:"Boeing 727",iataTypeCode:"727"},{name:"Boeing 727-100",iataTypeCode:"721"},{name:"Boeing 727-200",iataTypeCode:"722"},{name:"Boeing 737 MAX 7",iataTypeCode:"7M7"},{name:"Boeing 737 MAX 8",iataTypeCode:"7M8"},{name:"Boeing 737 MAX 9",iataTypeCode:"7M9"},{name:"Boeing 737 MAX 10",iataTypeCode:"7MJ"},{name:"Boeing 737",iataTypeCode:"737"},{name:"Boeing 737-100",iataTypeCode:"731"},{name:"Boeing 737-200",iataTypeCode:"732"},{name:"Boeing 737-300",iataTypeCode:"733"},{name:"Boeing 737-400",iataTypeCode:"734"},{name:"Boeing 737-500",iataTypeCode:"735"},{name:"Boeing 737-600",iataTypeCode:"736"},{name:"Boeing 737-700",iataTypeCode:"73G"},{name:"Boeing 737-800",iataTypeCode:"738"},{name:"Boeing 737-900",iataTypeCode:"739"},{name:"Boeing 747",iataTypeCode:"747"},{name:"Boeing 747-100",iataTypeCode:"741"},{name:"Boeing 747-200",iataTypeCode:"742"},{name:"Boeing 747-300",iataTypeCode:"743"},{name:"Boeing 747-400",iataTypeCode:"744"},{name:"Boeing 747-400D",iataTypeCode:"74J"},{name:"Boeing 747-8",iataTypeCode:"748"},{name:"Boeing 747SP",iataTypeCode:"74L"},{name:"Boeing 747SR",iataTypeCode:"74R"},{name:"Boeing 757",iataTypeCode:"757"},{name:"Boeing 757-200",iataTypeCode:"752"},{name:"Boeing 757-300",iataTypeCode:"753"},{name:"Boeing 767",iataTypeCode:"767"},{name:"Boeing 767-200",iataTypeCode:"762"},{name:"Boeing 767-300",iataTypeCode:"763"},{name:"Boeing 767-400",iataTypeCode:"764"},{name:"Boeing 777",iataTypeCode:"777"},{name:"Boeing 777-200",iataTypeCode:"772"},{name:"Boeing 777-200LR",iataTypeCode:"77L"},{name:"Boeing 777-300",iataTypeCode:"773"},{name:"Boeing 777-300ER",iataTypeCode:"77W"},{name:"Boeing 787",iataTypeCode:"787"},{name:"Boeing 787-8",iataTypeCode:"788"},{name:"Boeing 787-9",iataTypeCode:"789"},{name:"Boeing 787-10",iataTypeCode:"781"},{name:"Canadair Challenger",iataTypeCode:"CCJ"},{name:"Canadair CL-44",iataTypeCode:"CL4"},{name:"Canadair Regional Jet 100",iataTypeCode:"CR1"},{name:"Canadair Regional Jet 200",iataTypeCode:"CR2"},{name:"Canadair Regional Jet 700",iataTypeCode:"CR7"},{name:"Canadair Regional Jet 705",iataTypeCode:"CRA"},{name:"Canadair Regional Jet 900",iataTypeCode:"CR9"},{name:"Canadair Regional Jet 1000",iataTypeCode:"CRK"},{name:"De Havilland Canada DHC-2 Beaver",iataTypeCode:"DHP"},{name:"De Havilland Canada DHC-2 Turbo-Beaver",iataTypeCode:"DHR"},{name:"De Havilland Canada DHC-3 Otter",iataTypeCode:"DHL"},{name:"De Havilland Canada DHC-4 Caribou",iataTypeCode:"DHC"},{name:"De Havilland Canada DHC-6 Twin Otter",iataTypeCode:"DHT"},{name:"De Havilland Canada DHC-7 Dash 7",iataTypeCode:"DH7"},{name:"De Havilland Canada DHC-8-100 Dash 8 / 8Q",iataTypeCode:"DH1"},{name:"De Havilland Canada DHC-8-200 Dash 8 / 8Q",iataTypeCode:"DH2"},{name:"De Havilland Canada DHC-8-300 Dash 8 / 8Q",iataTypeCode:"DH3"},{name:"De Havilland Canada DHC-8-400 Dash 8Q",iataTypeCode:"DH4"},{name:"De Havilland DH.104 Dove",iataTypeCode:"DHD"},{name:"De Havilland DH.114 Heron",iataTypeCode:"DHH"},{name:"Douglas DC-3",iataTypeCode:"D3F"},{name:"Douglas DC-6",iataTypeCode:"D6F"},{name:"Douglas DC-8-50",iataTypeCode:"D8T"},{name:"Douglas DC-8-62",iataTypeCode:"D8L"},{name:"Douglas DC-8-72",iataTypeCode:"D8Q"},{name:"Douglas DC-9-10",iataTypeCode:"D91"},{name:"Douglas DC-9-20",iataTypeCode:"D92"},{name:"Douglas DC-9-30",iataTypeCode:"D93"},{name:"Douglas DC-9-40",iataTypeCode:"D94"},{name:"Douglas DC-9-50",iataTypeCode:"D95"},{name:"Douglas DC-10",iataTypeCode:"D10"},{name:"Douglas DC-10-10",iataTypeCode:"D1X"},{name:"Douglas DC-10-30",iataTypeCode:"D1Y"},{name:"Embraer 170",iataTypeCode:"E70"},{name:"Embraer 175",iataTypeCode:"E75"},{name:"Embraer 190",iataTypeCode:"E90"},{name:"Embraer 195",iataTypeCode:"E95"},{name:"Embraer E190-E2",iataTypeCode:"290"},{name:"Embraer E195-E2",iataTypeCode:"295"},{name:"Embraer EMB.110 Bandeirante",iataTypeCode:"EMB"},{name:"Embraer EMB.120 Brasilia",iataTypeCode:"EM2"},{name:"Embraer Legacy 600",iataTypeCode:"ER3"},{name:"Embraer Phenom 100",iataTypeCode:"EP1"},{name:"Embraer Phenom 300",iataTypeCode:"EP3"},{name:"Embraer RJ135",iataTypeCode:"ER3"},{name:"Embraer RJ140",iataTypeCode:"ERD"},{name:"Embraer RJ145 Amazon",iataTypeCode:"ER4"},{name:"Ilyushin IL18",iataTypeCode:"IL8"},{name:"Ilyushin IL62",iataTypeCode:"IL6"},{name:"Ilyushin IL76",iataTypeCode:"IL7"},{name:"Ilyushin IL86",iataTypeCode:"ILW"},{name:"Ilyushin IL96-300",iataTypeCode:"I93"},{name:"Ilyushin IL114",iataTypeCode:"I14"},{name:"Lockheed L-182 / 282 / 382 (L-100) Hercules",iataTypeCode:"LOH"},{name:"Lockheed L-188 Electra",iataTypeCode:"LOE"},{name:"Lockheed L-1011 Tristar",iataTypeCode:"L10"},{name:"Lockheed L-1049 Super Constellation",iataTypeCode:"L49"},{name:"McDonnell Douglas MD11",iataTypeCode:"M11"},{name:"McDonnell Douglas MD80",iataTypeCode:"M80"},{name:"McDonnell Douglas MD81",iataTypeCode:"M81"},{name:"McDonnell Douglas MD82",iataTypeCode:"M82"},{name:"McDonnell Douglas MD83",iataTypeCode:"M83"},{name:"McDonnell Douglas MD87",iataTypeCode:"M87"},{name:"McDonnell Douglas MD88",iataTypeCode:"M88"},{name:"McDonnell Douglas MD90",iataTypeCode:"M90"},{name:"Sukhoi Superjet 100-95",iataTypeCode:"SU9"},{name:"Tupolev Tu-134",iataTypeCode:"TU3"},{name:"Tupolev Tu-154",iataTypeCode:"TU5"},{name:"Tupolev Tu-204",iataTypeCode:"T20"},{name:"Yakovlev Yak-40",iataTypeCode:"YK4"},{name:"Yakovlev Yak-42",iataTypeCode:"YK2"}],_G=[{name:"Adelaide International Airport",iataCode:"ADL"},{name:"Adolfo Suarez Madrid-Barajas Airport",iataCode:"MAD"},{name:"Aeroparque Jorge Newbery Airport",iataCode:"AEP"},{name:"Afonso Pena International Airport",iataCode:"CWB"},{name:"Alfonso Bonilla Aragon International Airport",iataCode:"CLO"},{name:"Amsterdam Airport Schiphol",iataCode:"AMS"},{name:"Arturo Merino Benitez International Airport",iataCode:"SCL"},{name:"Auckland International Airport",iataCode:"AKL"},{name:"Beijing Capital International Airport",iataCode:"PEK"},{name:"Belem Val de Cans International Airport",iataCode:"BEL"},{name:"Belo Horizonte Tancredo Neves International Airport",iataCode:"CNF"},{name:"Berlin-Tegel Airport",iataCode:"TXL"},{name:"Bole International Airport",iataCode:"ADD"},{name:"Brasilia-Presidente Juscelino Kubitschek International Airport",iataCode:"BSB"},{name:"Brisbane International Airport",iataCode:"BNE"},{name:"Brussels Airport",iataCode:"BRU"},{name:"Cairns Airport",iataCode:"CNS"},{name:"Cairo International Airport",iataCode:"CAI"},{name:"Canberra Airport",iataCode:"CBR"},{name:"Capetown International Airport",iataCode:"CPT"},{name:"Charles de Gaulle International Airport",iataCode:"CDG"},{name:"Charlotte Douglas International Airport",iataCode:"CLT"},{name:"Chengdu Shuangliu International Airport",iataCode:"CTU"},{name:"Chhatrapati Shivaji International Airport",iataCode:"BOM"},{name:"Chicago O'Hare International Airport",iataCode:"ORD"},{name:"Chongqing Jiangbei International Airport",iataCode:"CKG"},{name:"Christchurch International Airport",iataCode:"CHC"},{name:"Copenhagen Kastrup Airport",iataCode:"CPH"},{name:"Dallas Fort Worth International Airport",iataCode:"DFW"},{name:"Daniel K. Inouye International Airport",iataCode:"HNL"},{name:"Denver International Airport",iataCode:"DEN"},{name:"Don Mueang International Airport",iataCode:"DMK"},{name:"Dubai International Airport",iataCode:"DXB"},{name:"Dublin Airport",iataCode:"DUB"},{name:"Dusseldorf Airport",iataCode:"DUS"},{name:"El Dorado International Airport",iataCode:"BOG"},{name:"Eleftherios Venizelos International Airport",iataCode:"ATH"},{name:"Faa'a International Airport",iataCode:"PPT"},{name:"Fort Lauderdale Hollywood International Airport",iataCode:"FLL"},{name:"Fortaleza Pinto Martins International Airport",iataCode:"FOR"},{name:"Frankfurt am Main Airport",iataCode:"FRA"},{name:"George Bush Intercontinental Houston Airport",iataCode:"IAH"},{name:"Gold Coast Airport",iataCode:"OOL"},{name:"Guarulhos - Governador Andre Franco Montoro International Airport",iataCode:"GRU"},{name:"Hartsfield-Jackson Atlanta International Airport",iataCode:"ATL"},{name:"Helsinki Vantaa Airport",iataCode:"HEL"},{name:"Hobart International Airport",iataCode:"HBA"},{name:"Hong Kong International Airport",iataCode:"HKG"},{name:"Houari Boumediene Airport",iataCode:"ALG"},{name:"Hurgada International Airport",iataCode:"HRG"},{name:"Incheon International Airport",iataCode:"ICN"},{name:"Indira Gandhi International Airport",iataCode:"DEL"},{name:"Istanbul Airport",iataCode:"IST"},{name:"Jacksons International Airport",iataCode:"POM"},{name:"Jeju International Airport",iataCode:"CJU"},{name:"John F Kennedy International Airport",iataCode:"JFK"},{name:"Jorge Chavez International Airport",iataCode:"LIM"},{name:"Jose Maria Cordova International Airport",iataCode:"MDE"},{name:"Josep Tarradellas Barcelona-El Prat Airport",iataCode:"BCN"},{name:"Kahului Airport",iataCode:"OGG"},{name:"King Abdulaziz International Airport",iataCode:"JED"},{name:"Kuala Lumpur International Airport",iataCode:"KUL"},{name:"Kunming Changshui International Airport",iataCode:"KMG"},{name:"La Tontouta International Airport",iataCode:"NOU"},{name:"Leonardo da Vinci-Fiumicino Airport",iataCode:"FCO"},{name:"London Heathrow Airport",iataCode:"LHR"},{name:"Los Angeles International Airport",iataCode:"LAX"},{name:"McCarran International Airport",iataCode:"LAS"},{name:"Melbourne International Airport",iataCode:"MEL"},{name:"Mexico City International Airport",iataCode:"MEX"},{name:"Miami International Airport",iataCode:"MIA"},{name:"Ministro Pistarini International Airport",iataCode:"EZE"},{name:"Minneapolis-St Paul International/Wold-Chamberlain Airport",iataCode:"MSP"},{name:"Mohammed V International Airport",iataCode:"CMN"},{name:"Moscow Domodedovo Airport",iataCode:"DME"},{name:"Munich Airport",iataCode:"MUC"},{name:"Murtala Muhammed International Airport",iataCode:"LOS"},{name:"Nadi International Airport",iataCode:"NAN"},{name:"Nairobi Jomo Kenyatta International Airport",iataCode:"NBO"},{name:"Narita International Airport",iataCode:"NRT"},{name:"Newark Liberty International Airport",iataCode:"EWR"},{name:"Ninoy Aquino International Airport",iataCode:"MNL"},{name:"Noumea Magenta Airport",iataCode:"GEA"},{name:"O. R. Tambo International Airport",iataCode:"JNB"},{name:"Orlando International Airport",iataCode:"MCO"},{name:"Oslo Lufthavn",iataCode:"OSL"},{name:"Perth Airport",iataCode:"PER"},{name:"Phoenix Sky Harbor International Airport",iataCode:"PHX"},{name:"Recife Guararapes-Gilberto Freyre International Airport",iataCode:"REC"},{name:"Rio de Janeiro Galeao International Airport",iataCode:"GIG"},{name:"Salgado Filho International Airport",iataCode:"POA"},{name:"Salvador Deputado Luis Eduardo Magalhaes International Airport",iataCode:"SSA"},{name:"San Francisco International Airport",iataCode:"SFO"},{name:"Santos Dumont Airport",iataCode:"SDU"},{name:"Sao Paulo-Congonhas Airport",iataCode:"CGH"},{name:"Seattle Tacoma International Airport",iataCode:"SEA"},{name:"Shanghai Hongqiao International Airport",iataCode:"SHA"},{name:"Shanghai Pudong International Airport",iataCode:"PVG"},{name:"Shenzhen Bao'an International Airport",iataCode:"SZX"},{name:"Sheremetyevo International Airport",iataCode:"SVO"},{name:"Singapore Changi Airport",iataCode:"SIN"},{name:"Soekarno-Hatta International Airport",iataCode:"CGK"},{name:'Stockholm-Arlanda Airport"',iataCode:"ARN"},{name:"Suvarnabhumi Airport",iataCode:"BKK"},{name:"Sydney Kingsford Smith International Airport",iataCode:"SYD"},{name:"Taiwan Taoyuan International Airport",iataCode:"TPE"},{name:"Tan Son Nhat International Airport",iataCode:"SGN"},{name:"Tokyo Haneda International Airport",iataCode:"HND"},{name:"Toronto Pearson International Airport",iataCode:"YYZ"},{name:"Tunis Carthage International Airport",iataCode:"TUN"},{name:"Vancouver International Airport",iataCode:"YVR"},{name:"Vienna International Airport",iataCode:"VIE"},{name:"Viracopos International Airport",iataCode:"VCP"},{name:"Vnukovo International Airport",iataCode:"VKO"},{name:"Wellington International Airport",iataCode:"WLG"},{name:"Xi'an Xianyang International Airport",iataCode:"XIY"},{name:"Zhukovsky International Airport",iataCode:"ZIA"},{name:"Zurich Airport",iataCode:"ZRH"}],AG={airline:EG,airplane:RG,airport:_G},TG=AG,DG=["American black bear","Asian black bear","Brown bear","Giant panda","Polar bear","Sloth bear","Spectacled bear","Sun bear"],MG=["Abert's Towhee","Acadian Flycatcher","Acorn Woodpecker","Alder Flycatcher","Aleutian Tern","Allen's Hummingbird","Altamira Oriole","American Avocet","American Bittern","American Black Duck","American Coot","American Crow","American Dipper","American Golden-Plover","American Goldfinch","American Kestrel","American Oystercatcher","American Pipit","American Redstart","American Robin","American Tree Sparrow","American White Pelican","American Wigeon","American Woodcock","Ancient Murrelet","Anhinga","Anna's Hummingbird","Antillean Nighthawk","Antillean Palm Swift","Aplomado Falcon","Arctic Loon","Arctic Tern","Arctic Warbler","Ash-throated Flycatcher","Ashy Storm-Petrel","Asian Brown Flycatcher","Atlantic Puffin","Audubon's Oriole","Audubon's Shearwater","Aztec Thrush","Azure Gallinule","Bachman's Sparrow","Bachman's Warbler","Bahama Mockingbird","Bahama Swallow","Bahama Woodstar","Baikal Teal","Baird's Sandpiper","Baird's Sparrow","Bald Eagle","Baltimore Oriole","Bananaquit","Band-rumped Storm-Petrel","Band-tailed Gull","Band-tailed Pigeon","Bank Swallow","Bar-tailed Godwit","Barn Owl","Barn Swallow","Barnacle Goose","Barred Owl","Barrow's Goldeneye","Bay-breasted Warbler","Bean Goose","Bell's Vireo","Belted Kingfisher","Bendire's Thrasher","Berylline Hummingbird","Bewick's Wren","Bicknell's Thrush","Black Catbird","Black Guillemot","Black Noddy","Black Oystercatcher","Black Phoebe","Black Rail","Black Rosy-Finch","Black Scoter","Black Skimmer","Black Storm-Petrel","Black Swift","Black Tern","Black Turnstone","Black Vulture","Black-and-white Warbler","Black-backed Wagtail","Black-backed Woodpecker","Black-bellied Plover","Black-bellied Whistling-Duck","Black-billed Cuckoo","Black-billed Magpie","Black-browed Albatross","Black-capped Chickadee","Black-capped Gnatcatcher","Black-capped Petrel","Black-capped Vireo","Black-chinned Hummingbird","Black-chinned Sparrow","Black-crowned Night-Heron","Black-faced Grassquit","Black-footed Albatross","Black-headed Grosbeak","Black-headed Gull","Black-legged Kittiwake","Black-necked Stilt","Black-tailed Gnatcatcher","Black-tailed Godwit","Black-tailed Gull","Black-throated Blue Warbler","Black-throated Gray Warbler","Black-throated Green Warbler","Black-throated Sparrow","Black-vented Oriole","Black-vented Shearwater","Black-whiskered Vireo","Black-winged Stilt","Blackburnian Warbler","Blackpoll Warbler","Blue Bunting","Blue Grosbeak","Blue Grouse","Blue Jay","Blue Mockingbird","Blue-footed Booby","Blue-gray Gnatcatcher","Blue-headed Vireo","Blue-throated Hummingbird","Blue-winged Teal","Blue-winged Warbler","Bluethroat","Boat-tailed Grackle","Bobolink","Bohemian Waxwing","Bonaparte's Gull","Boreal Chickadee","Boreal Owl","Botteri's Sparrow","Brambling","Brandt's Cormorant","Brant","Brewer's Blackbird","Brewer's Sparrow","Bridled Tern","Bridled Titmouse","Bristle-thighed Curlew","Broad-billed Hummingbird","Broad-billed Sandpiper","Broad-tailed Hummingbird","Broad-winged Hawk","Bronzed Cowbird","Brown Booby","Brown Creeper","Brown Jay","Brown Noddy","Brown Pelican","Brown Shrike","Brown Thrasher","Brown-capped Rosy-Finch","Brown-chested Martin","Brown-crested Flycatcher","Brown-headed Cowbird","Brown-headed Nuthatch","Budgerigar","Buff-bellied Hummingbird","Buff-breasted Flycatcher","Buff-breasted Sandpiper","Buff-collared Nightjar","Bufflehead","Buller's Shearwater","Bullock's Oriole","Bumblebee Hummingbird","Burrowing Owl","Bushtit","Cactus Wren","California Condor","California Gnatcatcher","California Gull","California Quail","California Thrasher","California Towhee","Calliope Hummingbird","Canada Goose","Canada Warbler","Canvasback","Canyon Towhee","Canyon Wren","Cape May Warbler","Caribbean Elaenia","Carolina Chickadee","Carolina Parakeet","Carolina Wren","Caspian Tern","Cassin's Auklet","Cassin's Finch","Cassin's Kingbird","Cassin's Sparrow","Cassin's Vireo","Cattle Egret","Cave Swallow","Cedar Waxwing","Cerulean Warbler","Chestnut-backed Chickadee","Chestnut-collared Longspur","Chestnut-sided Warbler","Chihuahuan Raven","Chimney Swift","Chinese Egret","Chipping Sparrow","Chuck-will's-widow","Chukar","Cinnamon Hummingbird","Cinnamon Teal","Citrine Wagtail","Clapper Rail","Clark's Grebe","Clark's Nutcracker","Clay-colored Robin","Clay-colored Sparrow","Cliff Swallow","Colima Warbler","Collared Forest-Falcon","Collared Plover","Common Black-Hawk","Common Chaffinch","Common Crane","Common Cuckoo","Common Eider","Common Goldeneye","Common Grackle","Common Greenshank","Common Ground-Dove","Common House-Martin","Common Loon","Common Merganser","Common Moorhen","Common Murre","Common Nighthawk","Common Pauraque","Common Pochard","Common Poorwill","Common Raven","Common Redpoll","Common Ringed Plover","Common Rosefinch","Common Sandpiper","Common Snipe","Common Swift","Common Tern","Common Yellowthroat","Connecticut Warbler","Cook's Petrel","Cooper's Hawk","Cordilleran Flycatcher","Corn Crake","Cory's Shearwater","Costa's Hummingbird","Couch's Kingbird","Crane Hawk","Craveri's Murrelet","Crescent-chested Warbler","Crested Auklet","Crested Caracara","Crested Myna","Crimson-collared Grosbeak","Crissal Thrasher","Cuban Martin","Curlew Sandpiper","Curve-billed Thrasher","Dark-eyed Junco","Dickcissel","Double-crested Cormorant","Double-striped Thick-knee","Dovekie","Downy Woodpecker","Dunlin","Dusky Flycatcher","Dusky Thrush","Dusky Warbler","Dusky-capped Flycatcher","Eared Grebe","Eared Trogon","Eastern Bluebird","Eastern Kingbird","Eastern Meadowlark","Eastern Phoebe","Eastern Screech-Owl","Eastern Towhee","Eastern Wood-Pewee","Elegant Tern","Elegant Trogon","Elf Owl","Emperor Goose","Eskimo Curlew","Eurasian Blackbird","Eurasian Bullfinch","Eurasian Collared-Dove","Eurasian Coot","Eurasian Curlew","Eurasian Dotterel","Eurasian Hobby","Eurasian Jackdaw","Eurasian Kestrel","Eurasian Oystercatcher","Eurasian Siskin","Eurasian Tree Sparrow","Eurasian Wigeon","Eurasian Woodcock","Eurasian Wryneck","European Golden-Plover","European Starling","European Storm-Petrel","European Turtle-Dove","Evening Grosbeak","Eyebrowed Thrush","Falcated Duck","Fan-tailed Warbler","Far Eastern Curlew","Ferruginous Hawk","Ferruginous Pygmy-Owl","Field Sparrow","Fieldfare","Fish Crow","Five-striped Sparrow","Flame-colored Tanager","Flammulated Owl","Flesh-footed Shearwater","Florida Scrub-Jay","Fork-tailed Flycatcher","Fork-tailed Storm-Petrel","Fork-tailed Swift","Forster's Tern","Fox Sparrow","Franklin's Gull","Fulvous Whistling-Duck","Gadwall","Gambel's Quail","Garganey","Gila Woodpecker","Gilded Flicker","Glaucous Gull","Glaucous-winged Gull","Glossy Ibis","Golden Eagle","Golden-cheeked Warbler","Golden-crowned Kinglet","Golden-crowned Sparrow","Golden-crowned Warbler","Golden-fronted Woodpecker","Golden-winged Warbler","Grace's Warbler","Grasshopper Sparrow","Gray Bunting","Gray Catbird","Gray Flycatcher","Gray Hawk","Gray Jay","Gray Kingbird","Gray Partridge","Gray Silky-flycatcher","Gray Vireo","Gray Wagtail","Gray-breasted Martin","Gray-cheeked Thrush","Gray-crowned Rosy-Finch","Gray-crowned Yellowthroat","Gray-headed Chickadee","Gray-spotted Flycatcher","Gray-tailed Tattler","Great Auk","Great Black-backed Gull","Great Blue Heron","Great Cormorant","Great Crested Flycatcher","Great Egret","Great Frigatebird","Great Gray Owl","Great Horned Owl","Great Kiskadee","Great Knot","Great Skua","Great Spotted Woodpecker","Great-tailed Grackle","Greater Flamingo","Greater Pewee","Greater Prairie-chicken","Greater Roadrunner","Greater Scaup","Greater Shearwater","Greater White-fronted Goose","Greater Yellowlegs","Green Heron","Green Jay","Green Kingfisher","Green Sandpiper","Green Violet-ear","Green-breasted Mango","Green-tailed Towhee","Green-winged Teal","Greenish Elaenia","Groove-billed Ani","Gull-billed Tern","Gyrfalcon","Hairy Woodpecker","Hammond's Flycatcher","Harlequin Duck","Harris's Hawk","Harris's Sparrow","Hawfinch","Heermann's Gull","Henslow's Sparrow","Hepatic Tanager","Herald Petrel","Hermit Thrush","Hermit Warbler","Herring Gull","Himalayan Snowcock","Hoary Redpoll","Hooded Merganser","Hooded Oriole","Hooded Warbler","Hook-billed Kite","Hoopoe","Horned Grebe","Horned Lark","Horned Puffin","House Finch","House Sparrow","House Wren","Hudsonian Godwit","Hutton's Vireo","Iceland Gull","Inca Dove","Indigo Bunting","Island Scrub-Jay","Ivory Gull","Ivory-billed Woodpecker","Jabiru","Jack Snipe","Jungle Nightjar","Juniper Titmouse","Kentucky Warbler","Key West Quail-Dove","Killdeer","King Eider","King Rail","Kirtland's Warbler","Kittlitz's Murrelet","La Sagra's Flycatcher","Labrador Duck","Ladder-backed Woodpecker","Lanceolated Warbler","Lapland Longspur","Large-billed Tern","Lark Bunting","Lark Sparrow","Laughing Gull","Lawrence's Goldfinch","Laysan Albatross","Lazuli Bunting","Le Conte's Sparrow","Le Conte's Thrasher","Leach's Storm-Petrel","Least Auklet","Least Bittern","Least Flycatcher","Least Grebe","Least Sandpiper","Least Storm-Petrel","Least Tern","Lesser Black-backed Gull","Lesser Frigatebird","Lesser Goldfinch","Lesser Nighthawk","Lesser Prairie-chicken","Lesser Scaup","Lesser White-fronted Goose","Lesser Yellowlegs","Lewis's Woodpecker","Limpkin","Lincoln's Sparrow","Little Blue Heron","Little Bunting","Little Curlew","Little Egret","Little Gull","Little Ringed Plover","Little Shearwater","Little Stint","Loggerhead Kingbird","Loggerhead Shrike","Long-billed Curlew","Long-billed Dowitcher","Long-billed Murrelet","Long-billed Thrasher","Long-eared Owl","Long-tailed Jaeger","Long-toed Stint","Louisiana Waterthrush","Lucifer Hummingbird","Lucy's Warbler","MacGillivray's Warbler","Magnificent Frigatebird","Magnificent Hummingbird","Magnolia Warbler","Mallard","Mangrove Cuckoo","Manx Shearwater","Marbled Godwit","Marbled Murrelet","Marsh Sandpiper","Marsh Wren","Masked Booby","Masked Duck","Masked Tityra","McCown's Longspur","McKay's Bunting","Merlin","Mew Gull","Mexican Chickadee","Mexican Jay","Middendorff's Grasshopper-Warbler","Mississippi Kite","Mongolian Plover","Monk Parakeet","Montezuma Quail","Mottled Duck","Mottled Owl","Mottled Petrel","Mountain Bluebird","Mountain Chickadee","Mountain Plover","Mountain Quail","Mourning Dove","Mourning Warbler","Mugimaki Flycatcher","Murphy's Petrel","Muscovy Duck","Mute Swan","Narcissus Flycatcher","Nashville Warbler","Nelson's Sharp-tailed Sparrow","Neotropic Cormorant","Northern Beardless-Tyrannulet","Northern Bobwhite","Northern Cardinal","Northern Flicker","Northern Fulmar","Northern Gannet","Northern Goshawk","Northern Harrier","Northern Hawk Owl","Northern Jacana","Northern Lapwing","Northern Mockingbird","Northern Parula","Northern Pintail","Northern Pygmy-Owl","Northern Rough-winged Swallow","Northern Saw-whet Owl","Northern Shoveler","Northern Shrike","Northern Waterthrush","Northern Wheatear","Northwestern Crow","Nuttall's Woodpecker","Nutting's Flycatcher","Oak Titmouse","Oldsquaw","Olive Sparrow","Olive Warbler","Olive-backed Pipit","Olive-sided Flycatcher","Orange-crowned Warbler","Orchard Oriole","Oriental Cuckoo","Oriental Greenfinch","Oriental Pratincole","Oriental Scops-Owl","Oriental Turtle-Dove","Osprey","Ovenbird","Pacific Golden-Plover","Pacific Loon","Pacific-slope Flycatcher","Paint-billed Crake","Painted Bunting","Painted Redstart","Pallas's Bunting","Palm Warbler","Parakeet Auklet","Parasitic Jaeger","Passenger Pigeon","Pechora Pipit","Pectoral Sandpiper","Pelagic Cormorant","Peregrine Falcon","Phainopepla","Philadelphia Vireo","Pied-billed Grebe","Pigeon Guillemot","Pileated Woodpecker","Pin-tailed Snipe","Pine Bunting","Pine Grosbeak","Pine Siskin","Pine Warbler","Pink-footed Goose","Pink-footed Shearwater","Pinyon Jay","Piping Plover","Plain Chachalaca","Plain-capped Starthroat","Plumbeous Vireo","Pomarine Jaeger","Prairie Falcon","Prairie Warbler","Prothonotary Warbler","Purple Finch","Purple Gallinule","Purple Martin","Purple Sandpiper","Pygmy Nuthatch","Pyrrhuloxia","Razorbill","Red Crossbill","Red Knot","Red Phalarope","Red-bellied Woodpecker","Red-billed Pigeon","Red-billed Tropicbird","Red-breasted Flycatcher","Red-breasted Merganser","Red-breasted Nuthatch","Red-breasted Sapsucker","Red-cockaded Woodpecker","Red-crowned Parrot","Red-eyed Vireo","Red-faced Cormorant","Red-faced Warbler","Red-flanked Bluetail","Red-footed Booby","Red-headed Woodpecker","Red-legged Kittiwake","Red-naped Sapsucker","Red-necked Grebe","Red-necked Phalarope","Red-necked Stint","Red-shouldered Hawk","Red-tailed Hawk","Red-tailed Tropicbird","Red-throated Loon","Red-throated Pipit","Red-whiskered Bulbul","Red-winged Blackbird","Reddish Egret","Redhead","Redwing","Reed Bunting","Rhinoceros Auklet","Ring-billed Gull","Ring-necked Duck","Ring-necked Pheasant","Ringed Kingfisher","Roadside Hawk","Rock Dove","Rock Ptarmigan","Rock Sandpiper","Rock Wren","Rose-breasted Grosbeak","Rose-throated Becard","Roseate Spoonbill","Roseate Tern","Ross's Goose","Ross's Gull","Rough-legged Hawk","Royal Tern","Ruby-crowned Kinglet","Ruby-throated Hummingbird","Ruddy Duck","Ruddy Ground-Dove","Ruddy Quail-Dove","Ruddy Turnstone","Ruff","Ruffed Grouse","Rufous Hummingbird","Rufous-backed Robin","Rufous-capped Warbler","Rufous-crowned Sparrow","Rufous-winged Sparrow","Rustic Bunting","Rusty Blackbird","Sabine's Gull","Sage Grouse","Sage Sparrow","Sage Thrasher","Saltmarsh Sharp-tailed Sparrow","Sanderling","Sandhill Crane","Sandwich Tern","Savannah Sparrow","Say's Phoebe","Scaled Quail","Scaly-naped Pigeon","Scarlet Ibis","Scarlet Tanager","Scissor-tailed Flycatcher","Scott's Oriole","Seaside Sparrow","Sedge Wren","Semipalmated Plover","Semipalmated Sandpiper","Sharp-shinned Hawk","Sharp-tailed Grouse","Sharp-tailed Sandpiper","Shiny Cowbird","Short-billed Dowitcher","Short-eared Owl","Short-tailed Albatross","Short-tailed Hawk","Short-tailed Shearwater","Shy Albatross","Siberian Accentor","Siberian Blue Robin","Siberian Flycatcher","Siberian Rubythroat","Sky Lark","Slate-throated Redstart","Slaty-backed Gull","Slender-billed Curlew","Smew","Smith's Longspur","Smooth-billed Ani","Snail Kite","Snow Bunting","Snow Goose","Snowy Egret","Snowy Owl","Snowy Plover","Solitary Sandpiper","Song Sparrow","Sooty Shearwater","Sooty Tern","Sora","South Polar Skua","Southern Martin","Spectacled Eider","Spoonbill Sandpiper","Spot-billed Duck","Spot-breasted Oriole","Spotted Dove","Spotted Owl","Spotted Rail","Spotted Redshank","Spotted Sandpiper","Spotted Towhee","Sprague's Pipit","Spruce Grouse","Stejneger's Petrel","Steller's Eider","Steller's Jay","Steller's Sea-Eagle","Stilt Sandpiper","Stonechat","Streak-backed Oriole","Streaked Shearwater","Strickland's Woodpecker","Stripe-headed Tanager","Sulphur-bellied Flycatcher","Summer Tanager","Surf Scoter","Surfbird","Swainson's Hawk","Swainson's Thrush","Swainson's Warbler","Swallow-tailed Kite","Swamp Sparrow","Tamaulipas Crow","Tawny-shouldered Blackbird","Temminck's Stint","Tennessee Warbler","Terek Sandpiper","Thayer's Gull","Thick-billed Kingbird","Thick-billed Murre","Thick-billed Parrot","Thick-billed Vireo","Three-toed Woodpecker","Townsend's Solitaire","Townsend's Warbler","Tree Pipit","Tree Swallow","Tricolored Blackbird","Tricolored Heron","Tropical Kingbird","Tropical Parula","Trumpeter Swan","Tufted Duck","Tufted Flycatcher","Tufted Puffin","Tufted Titmouse","Tundra Swan","Turkey Vulture","Upland Sandpiper","Varied Bunting","Varied Thrush","Variegated Flycatcher","Vaux's Swift","Veery","Verdin","Vermilion Flycatcher","Vesper Sparrow","Violet-crowned Hummingbird","Violet-green Swallow","Virginia Rail","Virginia's Warbler","Wandering Albatross","Wandering Tattler","Warbling Vireo","Wedge-rumped Storm-Petrel","Wedge-tailed Shearwater","Western Bluebird","Western Grebe","Western Gull","Western Kingbird","Western Meadowlark","Western Reef-Heron","Western Sandpiper","Western Screech-Owl","Western Scrub-Jay","Western Tanager","Western Wood-Pewee","Whimbrel","Whip-poor-will","Whiskered Auklet","Whiskered Screech-Owl","Whiskered Tern","White Ibis","White Wagtail","White-breasted Nuthatch","White-cheeked Pintail","White-chinned Petrel","White-collared Seedeater","White-collared Swift","White-crowned Pigeon","White-crowned Sparrow","White-eared Hummingbird","White-eyed Vireo","White-faced Ibis","White-faced Storm-Petrel","White-headed Woodpecker","White-rumped Sandpiper","White-tailed Eagle","White-tailed Hawk","White-tailed Kite","White-tailed Ptarmigan","White-tailed Tropicbird","White-throated Needletail","White-throated Robin","White-throated Sparrow","White-throated Swift","White-tipped Dove","White-winged Crossbill","White-winged Dove","White-winged Parakeet","White-winged Scoter","White-winged Tern","Whooper Swan","Whooping Crane","Wild Turkey","Willet","Williamson's Sapsucker","Willow Flycatcher","Willow Ptarmigan","Wilson's Phalarope","Wilson's Plover","Wilson's Storm-Petrel","Wilson's Warbler","Winter Wren","Wood Duck","Wood Sandpiper","Wood Stork","Wood Thrush","Wood Warbler","Worm-eating Warbler","Worthen's Sparrow","Wrentit","Xantus's Hummingbird","Xantus's Murrelet","Yellow Bittern","Yellow Grosbeak","Yellow Rail","Yellow Wagtail","Yellow Warbler","Yellow-bellied Flycatcher","Yellow-bellied Sapsucker","Yellow-billed Cuckoo","Yellow-billed Loon","Yellow-billed Magpie","Yellow-breasted Bunting","Yellow-breasted Chat","Yellow-crowned Night-Heron","Yellow-eyed Junco","Yellow-faced Grassquit","Yellow-footed Gull","Yellow-green Vireo","Yellow-headed Blackbird","Yellow-legged Gull","Yellow-nosed Albatross","Yellow-rumped Warbler","Yellow-throated Vireo","Yellow-throated Warbler","Yucatan Vireo","Zenaida Dove","Zone-tailed Hawk"],PG=["Abyssinian","American Bobtail","American Curl","American Shorthair","American Wirehair","Balinese","Bengal","Birman","Bombay","British Shorthair","Burmese","Chartreux","Chausie","Cornish Rex","Devon Rex","Donskoy","Egyptian Mau","Exotic Shorthair","Havana","Highlander","Himalayan","Japanese Bobtail","Korat","Kurilian Bobtail","LaPerm","Maine Coon","Manx","Minskin","Munchkin","Nebelung","Norwegian Forest Cat","Ocicat","Ojos Azules","Oriental","Persian","Peterbald","Pixiebob","Ragdoll","Russian Blue","Savannah","Scottish Fold","Selkirk Rex","Serengeti","Siamese","Siberian","Singapura","Snowshoe","Sokoke","Somali","Sphynx","Thai","Tonkinese","Toyger","Turkish Angora","Turkish Van"],IG=["Amazon River Dolphin","Arnoux's Beaked Whale","Atlantic Humpbacked Dolphin","Atlantic Spotted Dolphin","Atlantic White-Sided Dolphin","Australian Snubfin Dolphin","Australian humpback Dolphin","Blue Whale","Bottlenose Dolphin","Brydes whale","Burrunan Dolphin","Chilean Dolphin","Chinese River Dolphin","Chinese White Dolphin","Clymene Dolphin","Commersons Dolphin","Costero","Dusky Dolphin","False Killer Whale","Fin Whale","Frasers Dolphin","Ganges River Dolphin","Guiana Dolphin","Heavisides Dolphin","Hectors Dolphin","Hourglass Dolphin","Humpback whale","Indo-Pacific Bottlenose Dolphin","Indo-Pacific Hump-backed Dolphin","Irrawaddy Dolphin","Killer Whale (Orca)","La Plata Dolphin","Long-Beaked Common Dolphin","Long-finned Pilot Whale","Longman's Beaked Whale","Melon-headed Whale","Northern Rightwhale Dolphin","Omuras whale","Pacific White-Sided Dolphin","Pantropical Spotted Dolphin","Peales Dolphin","Pygmy Killer Whale","Rissos Dolphin","Rough-Toothed Dolphin","Sei Whale","Short-Beaked Common Dolphin","Short-finned Pilot Whale","Southern Bottlenose Whale","Southern Rightwhale Dolphin","Sperm Whale","Spinner Dolphin","Striped Dolphin","Tucuxi","White-Beaked Dolphin"],BG=["Aberdeen Angus","Abergele","Abigar","Abondance","Abyssinian Shorthorned Zebu","Aceh","Achham","Adamawa","Adaptaur","Afar","Africangus","Afrikaner","Agerolese","Alambadi","Alatau","Albanian","Albera","Alderney","Alentejana","Aleutian wild cattle","Aliad Dinka","Alistana-Sanabresa","Allmogekor","Alur","American","American Angus","American Beef Friesian","American Brown Swiss","American Milking Devon","American White Park","Amerifax","Amrit Mahal","Amsterdam Island cattle","Anatolian Black","Andalusian Black","Andalusian Blond","Andalusian Grey","Angeln","Angoni","Ankina","Ankole","Ankole-Watusi","Aracena","Arado","Argentine Criollo","Argentine Friesian","Armorican","Arouquesa","Arsi","Asturian Mountain","Asturian Valley","Aubrac","Aulie-Ata","Aure et Saint-Girons","Australian Braford","Australian Brangus","Australian Charbray","Australian Friesian Sahiwal","Australian Lowline","Australian Milking Zebu","Australian Shorthorn","Austrian Simmental","Austrian Yellow","Avilea-Negra Ibrica","Avtonou","Aweil Dinka","Ayrshire","Azaouak","Azebuado","Azerbaijan Zebu","Azores","Bachaur cattle","Baherie cattle","Bakosi cattle","Balancer","Baoule","Bargur cattle","Barros","Barzona","Bazadaise","Beef Freisian","Beefalo","Beefmaker","Beefmaster","Begayt","Belgian Blue","Belgian Red","Belgian Red Pied","Belgian White-and-Red","Belmont Red","Belted Galloway","Bernese","Berrenda cattle","Betizu","Bianca Modenese","Blaarkop","Black Angus","Black Baldy","Black Hereford","Blanca Cacerea","Blanco Orejinegro BON","Blonde d'Aquitaine","Blue Albion","Blue Grey","Bohuskulla","Bonsmara","Boran","Bokarin","Braford","Brahman","Brahmousin","Brangus","Braunvieh","Brava","Breed","British Friesian","British White","Brown Carpathian","Brown Caucasian","Brown Swiss","Bue Lingo","Burlina","Bushuyev","Butana cattle","Bua cattle","Cachena","Caldelana","Camargue","Campbell Island cattle","Canadian Speckle Park","Canadienne","Canaria","Canchim","Caracu","Carinthian Blondvieh","Carora","Charbray","Charolais","Chateaubriand","Chiangus","Chianina","Chillingham cattle","Chinese Black Pied","Cholistani","Coloursided White Back","Commercial","Corriente","Corsican cattle","Costeo con Cuernos","Crioulo Lageano","Crdena Andaluza","Dajal","Dangi cattle","Danish Black-Pied","Danish Jersey","Danish Red","Deep Red cattle","Deoni","Devon","Dexter cattle","Dhanni","Doayo cattle","Doela","Drakensberger","Droughtmaster","Dulong'","Dutch Belted","Dutch Friesian","Dwarf Lulu","Dlafe","East Anatolian Red","Eastern Finncattle","Eastern Red Polled","Enderby Island cattle","English Longhorn","Ennstaler Bergscheck","Estonian Holstein","Estonian Native","Estonian Red cattle","Finncattle","Finnish Ayrshire","Finnish Holstein-Friesian","Fjll","Fleckvieh","Florida Cracker cattle","Fogera","French Simmental","Fribourgeoise","Friesian Red and White","Fulani Sudanese","Fng Cattle","Galician Blond","Galloway cattle","Gangatiri","Gaolao","Garvonesa","Gascon cattle","Gelbvieh","Georgian Mountain cattle","German Angus","German Black Pied Dairy","German Black Pied cattle","German Red Pied","Gir","Glan cattle","Gloucester","Gobra","Greek Shorthorn","Greek Steppe","Greyman cattle","Gudali","Guernsey cattle","Guzer","Hallikar4","Hanwoo","Hariana cattle","Hartn del Valle","Harzer Rotvieh","Hays Converter","Heck cattle","Hereford","Herens","Highland cattle","Hinterwald","Holando-Argentino","Holstein Friesian cattle","Horro","Hungarian Grey","Hung Cattle","Hybridmaster","Iberian cattle","Icelandic","Illawarra cattle","Improved Red and White","Indo-Brazilian","Irish Moiled","Israeli Holstein","Israeli Red","Istoben cattle","Istrian cattle","Jamaica Black","Jamaica Hope","Jamaica Red","Japanese Brown","Jarmelista","Javari cattle","Jersey cattle","Jutland cattle","Kabin Buri cattle","Kalmyk cattle","Kamphaeng Saen cattle","Kangayam","Kankrej","Karan Swiss","Kasaragod Dwarf cattle","Kathiawadi","Kazakh Whiteheaded","Kenana cattle","Kenkatha cattle","Kerry cattle","Kherigarh","Khillari cattle","Kholomogory","Korat Wagyu","Kostroma cattle","Krishna Valley cattle","Kurgan cattle","Kuri","La Reina cattle","Lakenvelder cattle","Lampurger","Latvian Blue","Latvian Brown","Latvian Danish Red","Lebedyn","Levantina","Limia cattle","Limousin","Limpurger","Lincoln Red","Lineback","Lithuanian Black-and-White","Lithuanian Light Grey","Lithuanian Red","Lithuanian White-Backed","Lohani cattle","Lourdais","Lucerna cattle","Luing","Madagascar Zebu","Madura","Maine-Anjou","Malnad Gidda","Malvi","Mandalong Special","Mantequera Leonesa","Maramure Brown","Marchigiana","Maremmana","Marinhoa","Maronesa","Masai","Mashona","Menorquina","Mertolenga","Meuse-Rhine-Issel","Mewati","Milking Shorthorn","Minhota","Mirandesa","Mirkadim","Mocni","Mollie","Monchina","Mongolian","Montbliarde","Morucha","Murboden","Murnau-Werdenfels","Murray Grey","Muturu","N'Dama","Nagori","Negra Andaluza","Nelore","Nguni","Nimari","Normande","North Bengal Grey","Northern Finncattle","Northern Shorthorn","Norwegian Red","Ongole","Original Simmental","Pajuna","Palmera","Pantaneiro","Parda Alpina","Parthenaise","Pasiega","Pembroke","Philippine Native","Pie Rouge des Plaines","Piedmontese cattle","Pineywoods","Pinzgauer","Pirenaica","Podolac","Podolica","Polish Black-and-White","Polish Red","Poll Shorthorn","Polled Hereford","Polled Shorthorn","Ponwar","Preta","Pulikulam","Punganur","Pustertaler Sprinzen","Qinchaun","Queensland Miniature Boran","RX3","Ramo Grande","Randall","Raramuri Criollo","Rathi","Raya","Red Angus","Red Brangus","Red Chittagong","Red Fulani","Red Gorbatov","Red Holstein","Red Kandhari","Red Mingrelian","Red Poll","Red Polled stland","Red Sindhi","Retinta","Riggit Galloway","Ringamla","Rohjan","Romagnola","Romanian Blata","Romanian Steppe Gray","Romosinuano","Russian Black Pied","Rtisches Grauvieh","Sahiwal","Salers","Salorn","Sanga","Sanhe","Santa Cruz","Santa Gertrudis","Sayaguesa","Schwyz","Selembu","Senepol","Serbian Pied","Serbian Steppe","Sheko","Shetland","Shorthorn","Siboney de Cuba","Simbrah","Simford","Simmental","Siri","South Devon","Spanish Fighting Bull","Speckle Park","Square Meater","Sussex","Swedish Friesian","Swedish Polled","Swedish Red Pied","Swedish Red Polled","Swedish Red-and-White","Tabapu","Tarentaise","Tasmanian Grey","Tauros","Telemark","Texas Longhorn","Texon","Thai Black","Thai Fighting Bull","Thai Friesian","Thai Milking Zebu","Tharparkar","Tswana","Tudanca","Tuli","Tulim","Turkish Grey Steppe","Tux-Zillertal","Tyrol Grey","Ukrainian Grey","Umblachery","Valdostana Castana","Valdostana Pezzata Nera","Valdostana Pezzata Rossa","Vaynol","Vechur8","Vestland Fjord","Vestland Red Polled","Vianesa","Volinian Beef","Vorderwald","Vosgienne","Vneko","Waguli","Wagyu","Wangus","Welsh Black","Western Finncattle","White Cceres","White Fulani","White Lamphun","White Park","Whitebred Shorthorn","Xingjiang Brown","Yakutian","Yanbian","Yanhuang","Yurino","Zebu","volne cattle","ubro"],LG=["African Slender-snouted Crocodile","Alligator mississippiensis","American Crocodile","Australian Freshwater Crocodile","Black Caiman","Broad-snouted Caiman","Chinese Alligator","Cuban Crocodile","Cuviers Dwarf Caiman","Dwarf Crocodile","Gharial","Morelets Crocodile","Mugger Crocodile","New Guinea Freshwater Crocodile","Nile Crocodile","Orinoco Crocodile","Philippine Crocodile","Saltwater Crocodile","Schneiders Smooth-fronted Caiman","Siamese Crocodile","Spectacled Caiman","Tomistoma","West African Crocodile","Yacare Caiman"],NG=["Affenpinscher","Afghan Hound","Aidi","Airedale Terrier","Akbash","Akita","Alano Espaol","Alapaha Blue Blood Bulldog","Alaskan Husky","Alaskan Klee Kai","Alaskan Malamute","Alopekis","Alpine Dachsbracke","American Bulldog","American Bully","American Cocker Spaniel","American English Coonhound","American Foxhound","American Hairless Terrier","American Pit Bull Terrier","American Staffordshire Terrier","American Water Spaniel","Andalusian Hound","Anglo-Franais de Petite Vnerie","Appenzeller Sennenhund","Ariegeois","Armant","Armenian Gampr dog","Artois Hound","Australian Cattle Dog","Australian Kelpie","Australian Shepherd","Australian Stumpy Tail Cattle Dog","Australian Terrier","Austrian Black and Tan Hound","Austrian Pinscher","Azawakh","Bakharwal dog","Banjara Hound","Barbado da Terceira","Barbet","Basenji","Basque Shepherd Dog","Basset Artsien Normand","Basset Bleu de Gascogne","Basset Fauve de Bretagne","Basset Hound","Bavarian Mountain Hound","Beagle","Beagle-Harrier","Bearded Collie","Beauceron","Bedlington Terrier","Belgian Shepherd","Bergamasco Shepherd","Berger Picard","Bernese Mountain Dog","Bhotia","Bichon Fris","Billy","Black Mouth Cur","Black Norwegian Elkhound","Black Russian Terrier","Black and Tan Coonhound","Bloodhound","Blue Lacy","Blue Picardy Spaniel","Bluetick Coonhound","Boerboel","Bohemian Shepherd","Bolognese","Border Collie","Border Terrier","Borzoi","Bosnian Coarse-haired Hound","Boston Terrier","Bouvier des Ardennes","Bouvier des Flandres","Boxer","Boykin Spaniel","Bracco Italiano","Braque Francais","Braque Saint-Germain","Braque d'Auvergne","Braque de l'Arige","Braque du Bourbonnais","Briard","Briquet Griffon Venden","Brittany","Broholmer","Bruno Jura Hound","Brussels Griffon","Bucovina Shepherd Dog","Bull Arab","Bull Terrier","Bulldog","Bullmastiff","Bully Kutta","Burgos Pointer","Cairn Terrier","Campeiro Bulldog","Can de Chira","Canaan Dog","Canadian Eskimo Dog","Cane Corso","Cane Paratore","Cane di Oropa","Cantabrian Water Dog","Cardigan Welsh Corgi","Carea Castellano Manchego","Carolina Dog","Carpathian Shepherd Dog","Catahoula Leopard Dog","Catalan Sheepdog","Caucasian Shepherd Dog","Cavalier King Charles Spaniel","Central Asian Shepherd Dog","Cesky Fousek","Cesky Terrier","Chesapeake Bay Retriever","Chien Franais Blanc et Noir","Chien Franais Blanc et Orange","Chien Franais Tricolore","Chihuahua","Chilean Terrier","Chinese Chongqing Dog","Chinese Crested Dog","Chinook","Chippiparai","Chongqing dog","Chortai","Chow Chow","Cimarrn Uruguayo","Cirneco dell'Etna","Clumber Spaniel","Colombian fino hound","Coton de Tulear","Cretan Hound","Croatian Sheepdog","Curly-Coated Retriever","Cursinu","Czechoslovakian Wolfdog","Co Fila de So Miguel","Co da Serra de Aires","Co de Castro Laboreiro","Co de Gado Transmontano","Dachshund","Dalmatian","Dandie Dinmont Terrier","Danish-Swedish Farmdog","Denmark Feist","Dingo","Doberman Pinscher","Dogo Argentino","Dogo Guatemalteco","Dogo Sardesco","Dogue Brasileiro","Dogue de Bordeaux","Drentse Patrijshond","Drever","Dunker","Dutch Shepherd","Dutch Smoushond","East European Shepherd","East Siberian Laika","English Cocker Spaniel","English Foxhound","English Mastiff","English Setter","English Shepherd","English Springer Spaniel","English Toy Terrier","Entlebucher Mountain Dog","Estonian Hound","Estrela Mountain Dog","Eurasier","Field Spaniel","Fila Brasileiro","Finnish Hound","Finnish Lapphund","Finnish Spitz","Flat-Coated Retriever","French Bulldog","French Spaniel","Galgo Espaol","Galician Shepherd Dog","Garafian Shepherd","Gascon Saintongeois","Georgian Shepherd","German Hound","German Longhaired Pointer","German Pinscher","German Roughhaired Pointer","German Shepherd Dog","German Shorthaired Pointer","German Spaniel","German Spitz","German Wirehaired Pointer","Giant Schnauzer","Glen of Imaal Terrier","Golden Retriever","Gordon Setter","Goczy Polski","Grand Anglo-Franais Blanc et Noir","Grand Anglo-Franais Blanc et Orange","Grand Anglo-Franais Tricolore","Grand Basset Griffon Venden","Grand Bleu de Gascogne","Grand Griffon Venden","Great Dane","Greater Swiss Mountain Dog","Greek Harehound","Greek Shepherd","Greenland Dog","Greyhound","Griffon Bleu de Gascogne","Griffon Fauve de Bretagne","Griffon Nivernais","Gull Dong","Gull Terrier","Hamiltonstvare","Hanover Hound","Harrier","Havanese","Hierran Wolfdog","Hokkaido","Hovawart","Huntaway","Hygen Hound","Hllefors Elkhound","Ibizan Hound","Icelandic Sheepdog","Indian Spitz","Indian pariah dog","Irish Red and White Setter","Irish Setter","Irish Terrier","Irish Water Spaniel","Irish Wolfhound","Istrian Coarse-haired Hound","Istrian Shorthaired Hound","Italian Greyhound","Jack Russell Terrier","Jagdterrier","Japanese Chin","Japanese Spitz","Japanese Terrier","Jindo","Jonangi","Kai Ken","Kaikadi","Kangal Shepherd Dog","Kanni","Karakachan dog","Karelian Bear Dog","Kars","Karst Shepherd","Keeshond","Kerry Beagle","Kerry Blue Terrier","King Charles Spaniel","King Shepherd","Kintamani","Kishu","Kokoni","Kombai","Komondor","Kooikerhondje","Koolie","Koyun dog","Kromfohrlnder","Kuchi","Kuvasz","Labrador Retriever","Lagotto Romagnolo","Lakeland Terrier","Lancashire Heeler","Landseer","Lapponian Herder","Large Mnsterlnder","Leonberger","Levriero Sardo","Lhasa Apso","Lithuanian Hound","Lupo Italiano","Lwchen","Mackenzie River Husky","Magyar agr","Mahratta Greyhound","Maltese","Manchester Terrier","Maremmano-Abruzzese Sheepdog","McNab dog","Miniature American Shepherd","Miniature Bull Terrier","Miniature Fox Terrier","Miniature Pinscher","Miniature Schnauzer","Molossus of Epirus","Montenegrin Mountain Hound","Mountain Cur","Mountain Feist","Mucuchies","Mudhol Hound","Mudi","Neapolitan Mastiff","New Guinea Singing Dog","New Zealand Heading Dog","Newfoundland","Norfolk Terrier","Norrbottenspets","Northern Inuit Dog","Norwegian Buhund","Norwegian Elkhound","Norwegian Lundehund","Norwich Terrier","Nova Scotia Duck Tolling Retriever","Old Croatian Sighthound","Old Danish Pointer","Old English Sheepdog","Old English Terrier","Olde English Bulldogge","Otterhound","Pachon Navarro","Paisley Terrier","Pampas Deerhound","Papillon","Parson Russell Terrier","Pastore della Lessinia e del Lagorai","Patagonian Sheepdog","Patterdale Terrier","Pekingese","Pembroke Welsh Corgi","Perro Majorero","Perro de Pastor Mallorquin","Perro de Presa Canario","Perro de Presa Mallorquin","Peruvian Inca Orchid","Petit Basset Griffon Venden","Petit Bleu de Gascogne","Phalne","Pharaoh Hound","Phu Quoc Ridgeback","Picardy Spaniel","Plott Hound","Plummer Terrier","Podenco Canario","Podenco Valenciano","Pointer","Poitevin","Polish Greyhound","Polish Hound","Polish Lowland Sheepdog","Polish Tatra Sheepdog","Pomeranian","Pont-Audemer Spaniel","Poodle","Porcelaine","Portuguese Podengo","Portuguese Pointer","Portuguese Water Dog","Posavac Hound","Prask Krysak","Pshdar Dog","Pudelpointer","Pug","Puli","Pumi","Pungsan Dog","Pyrenean Mastiff","Pyrenean Mountain Dog","Pyrenean Sheepdog","Rafeiro do Alentejo","Rajapalayam","Rampur Greyhound","Rat Terrier","Ratonero Bodeguero Andaluz","Ratonero Mallorquin","Ratonero Murciano de Huerta","Ratonero Valenciano","Redbone Coonhound","Rhodesian Ridgeback","Romanian Mioritic Shepherd Dog","Romanian Raven Shepherd Dog","Rottweiler","Rough Collie","Russian Spaniel","Russian Toy","Russo-European Laika","Saarloos Wolfdog","Sabueso Espaol","Saint Bernard","Saint Hubert Jura Hound","Saint-Usuge Spaniel","Saluki","Samoyed","Sapsali","Sarabi dog","Sardinian Shepherd Dog","Schapendoes","Schillerstvare","Schipperke","Schweizer Laufhund","Schweizerischer Niederlaufhund","Scottish Deerhound","Scottish Terrier","Sealyham Terrier","Segugio Italiano","Segugio Maremmano","Segugio dell'Appennino","Seppala Siberian Sleddog","Serbian Hound","Serbian Tricolour Hound","Serrano Bulldog","Shar Pei","Shetland Sheepdog","Shiba Inu","Shih Tzu","Shikoku","Shiloh Shepherd","Siberian Husky","Silken Windhound","Silky Terrier","Sinhala Hound","Skye Terrier","Sloughi","Slovakian Wirehaired Pointer","Slovensk Cuvac","Slovensk Kopov","Smalandstvare","Small Greek domestic dog","Small Mnsterlnder","Smooth Collie","Smooth Fox Terrier","Soft-Coated Wheaten Terrier","South Russian Ovcharka","Spanish Mastiff","Spanish Water Dog","Spinone Italiano","Sporting Lucas Terrier","Stabyhoun","Staffordshire Bull Terrier","Standard Schnauzer","Stephens Stock","Styrian Coarse-haired Hound","Sussex Spaniel","Swedish Elkhound","Swedish Lapphund","Swedish Vallhund","Swedish White Elkhound","Taigan","Taiwan Dog","Tamaskan Dog","Teddy Roosevelt Terrier","Telomian","Tenterfield Terrier","Terrier Brasileiro","Thai Bangkaew Dog","Thai Ridgeback","Tibetan Mastiff","Tibetan Spaniel","Tibetan Terrier","Tornjak","Tosa","Toy Fox Terrier","Toy Manchester Terrier","Transylvanian Hound","Treeing Cur","Treeing Feist","Treeing Tennessee Brindle","Treeing Walker Coonhound","Trigg Hound","Tyrolean Hound","Vikhan","Villano de Las Encartaciones","Villanuco de Las Encartaciones","Vizsla","Volpino Italiano","Weimaraner","Welsh Sheepdog","Welsh Springer Spaniel","Welsh Terrier","West Highland White Terrier","West Siberian Laika","Westphalian Dachsbracke","Wetterhoun","Whippet","White Shepherd","White Swiss Shepherd Dog","Wire Fox Terrier","Wirehaired Pointing Griffon","Wirehaired Vizsla","Xiasi Dog","Xoloitzcuintli","Yakutian Laika","Yorkshire Terrier","arplaninac"],OG=["Alaska pollock","Albacore","Amur catfish","Araucanian herring","Argentine hake","Asari","Asian swamp eel","Atlantic cod","Atlantic herring","Atlantic horse mackerel","Atlantic mackerel","Atlantic menhaden","Atlantic salmon","Bigeye scad","Bigeye tuna","Bighead carp","Black carp","Blood cockle","Blue swimming crab","Blue whiting","Bombay-duck","Bonga shad","California pilchard","Cape horse mackerel","Capelin","Catla","Channel catfish","Chilean jack mackerel","Chinese perch","Chinese softshell turtle","Chub mackerel","Chum salmon","Common carp","Crucian carp","Daggertooth pike conger","European anchovy","European pilchard","European sprat","Filipino Venus","Gazami crab","Goldstripe sardinella","Grass carp","Gulf menhaden","Haddock","Hilsa shad","Indian mackerel","Indian oil sardine","Iridescent shark","Japanese anchovy","Japanese cockle","Japanese common catfish","Japanese flying squid","Japanese jack mackerel","Japanese littleneck","Japanese pilchard","Jumbo flying squid","Kawakawa","Korean bullhead","Largehead hairtail","Longtail tuna","Madeiran sardinella","Mandarin fish","Milkfish","Mrigal carp","Narrow-barred Spanish mackerel","Nile perch","Nile tilapia","North Pacific hake","Northern snakehead","Pacific anchoveta","Pacific cod","Pacific herring","Pacific sand lance","Pacific sandlance","Pacific saury","Pacific thread herring","Peruvian anchoveta","Pink salmon","Pollock","Pond loach","Rainbow trout","Rohu","Round sardinella","Short mackerel","Silver carp","Silver cyprinid","Skipjack tuna","Southern African anchovy","Southern rough shrimp","Whiteleg shrimp","Wuchang bream","Yellow croaker","Yellowfin tuna","Yellowhead catfish","Yellowstripe scad"],HG=["Abaco Barb","Abtenauer","Abyssinian","Aegidienberger","Akhal-Teke","Albanian Horse","Altai Horse","Altr Real","American Albino","American Cream Draft","American Indian Horse","American Paint Horse","American Quarter Horse","American Saddlebred","American Warmblood","Andalusian Horse","Andravida Horse","Anglo-Arabian","Anglo-Arabo-Sardo","Anglo-Kabarda","Appaloosa","AraAppaloosa","Arabian Horse","Ardennes Horse","Arenberg-Nordkirchen","Argentine Criollo","Asian wild Horse","Assateague Horse","Asturcn","Augeron","Australian Brumby","Australian Draught Horse","Australian Stock Horse","Austrian Warmblood","Auvergne Horse","Auxois","Azerbaijan Horse","Azteca Horse","Baise Horse","Bale","Balearic Horse","Balikun Horse","Baluchi Horse","Banker Horse","Barb Horse","Bardigiano","Bashkir Curly","Basque Mountain Horse","Bavarian Warmblood","Belgian Half-blood","Belgian Horse","Belgian Warmblood","Bhutia Horse","Black Forest Horse","Blazer Horse","Boerperd","Borana","Boulonnais Horse","Brabant","Brandenburger","Brazilian Sport Horse","Breton Horse","Brumby","Budyonny Horse","Burguete Horse","Burmese Horse","Byelorussian Harness Horse","Calabrese Horse","Camargue Horse","Camarillo White Horse","Campeiro","Campolina","Canadian Horse","Canadian Pacer","Carolina Marsh Tacky","Carthusian Horse","Caspian Horse","Castilian Horse","Castillonnais","Catria Horse","Cavallo Romano della Maremma Laziale","Cerbat Mustang","Chickasaw Horse","Chilean Corralero","Choctaw Horse","Cleveland Bay","Clydesdale Horse","Cob","Coldblood Trotter","Colonial Spanish Horse","Colorado Ranger","Comtois Horse","Corsican Horse","Costa Rican Saddle Horse","Cretan Horse","Criollo Horse","Croatian Coldblood","Cuban Criollo","Cumberland Island Horse","Curly Horse","Czech Warmblood","Daliboz","Danish Warmblood","Danube Delta Horse","Dole Gudbrandsdal","Don","Dongola Horse","Draft Trotter","Dutch Harness Horse","Dutch Heavy Draft","Dutch Warmblood","Dzungarian Horse","East Bulgarian","East Friesian Horse","Estonian Draft","Estonian Horse","Falabella","Faroese","Finnhorse","Fjord Horse","Fleuve","Florida Cracker Horse","Foutank","Frederiksborg Horse","Freiberger","French Trotter","Friesian Cross","Friesian Horse","Friesian Sporthorse","Furioso-North Star","Galiceo","Galician Pony","Gelderland Horse","Georgian Grande Horse","German Warmblood","Giara Horse","Gidran","Groningen Horse","Gypsy Horse","Hackney Horse","Haflinger","Hanoverian Horse","Heck Horse","Heihe Horse","Henson Horse","Hequ Horse","Hirzai","Hispano-Bretn","Holsteiner Horse","Horro","Hungarian Warmblood","Icelandic Horse","Iomud","Irish Draught","Irish Sport Horse sometimes called Irish Hunter","Italian Heavy Draft","Italian Trotter","Jaca Navarra","Jeju Horse","Jutland Horse","Kabarda Horse","Kafa","Kaimanawa Horses","Kalmyk Horse","Karabair","Karabakh Horse","Karachai Horse","Karossier","Kathiawari","Kazakh Horse","Kentucky Mountain Saddle Horse","Kiger Mustang","Kinsky Horse","Kisber Felver","Kiso Horse","Kladruber","Knabstrupper","Konik","Kundudo","Kustanair","Kyrgyz Horse","Latvian Horse","Lipizzan","Lithuanian Heavy Draught","Lokai","Losino Horse","Lusitano","Lyngshest","M'Bayar","M'Par","Mallorqun","Malopolski","Mangalarga","Mangalarga Marchador","Maremmano","Marismeo Horse","Marsh Tacky","Marwari Horse","Mecklenburger","Menorqun","Messara Horse","Metis Trotter","Mezhegyesi Sport Horse","Meimurje Horse","Miniature Horse","Misaki Horse","Missouri Fox Trotter","Monchina","Mongolian Horse","Mongolian Wild Horse","Monterufolino","Morab","Morgan Horse","Mountain Pleasure Horse","Moyle Horse","Murakoz Horse","Murgese","Mustang Horse","Mrens Horse","Namib Desert Horse","Nangchen Horse","National Show Horse","Nez Perce Horse","Nivernais Horse","Nokota Horse","Noma","Nonius Horse","Nooitgedachter","Nordlandshest","Noriker Horse","Norman Cob","North American Single-Footer Horse","North Swedish Horse","Norwegian Coldblood Trotter","Norwegian Fjord","Novokirghiz","Oberlander Horse","Ogaden","Oldenburg Horse","Orlov trotter","Ostfriesen","Paint","Pampa Horse","Paso Fino","Pentro Horse","Percheron","Persano Horse","Peruvian Paso","Pintabian","Pleven Horse","Poitevin Horse","Posavac Horse","Pottok","Pryor Mountain Mustang","Przewalski's Horse","Pura Raza Espaola","Purosangue Orientale","Qatgani","Quarab","Quarter Horse","Racking Horse","Retuerta Horse","Rhenish German Coldblood","Rhinelander Horse","Riwoche Horse","Rocky Mountain Horse","Romanian Sporthorse","Rottaler","Russian Don","Russian Heavy Draft","Russian Trotter","Saddlebred","Salerno Horse","Samolaco Horse","San Fratello Horse","Sarcidano Horse","Sardinian Anglo-Arab","Schleswig Coldblood","Schwarzwlder Kaltblut","Selale","Sella Italiano","Selle Franais","Shagya Arabian","Shan Horse","Shire Horse","Siciliano Indigeno","Silesian Horse","Sokolsky Horse","Sorraia","South German Coldblood","Soviet Heavy Draft","Spanish Anglo-Arab","Spanish Barb","Spanish Jennet Horse","Spanish Mustang","Spanish Tarpan","Spanish-Norman Horse","Spiti Horse","Spotted Saddle Horse","Standardbred Horse","Suffolk Punch","Swedish Ardennes","Swedish Warmblood","Swedish coldblood trotter","Swiss Warmblood","Taish Horse","Takhi","Tawleed","Tchernomor","Tennessee Walking Horse","Tersk Horse","Thoroughbred","Tiger Horse","Tinker Horse","Tolfetano","Tori Horse","Trait Du Nord","Trakehner","Tsushima","Tuigpaard","Ukrainian Riding Horse","Unmol Horse","Uzunyayla","Ventasso Horse","Virginia Highlander","Vlaamperd","Vladimir Heavy Draft","Vyatka","Waler","Waler Horse","Walkaloosa","Warlander","Warmblood","Welsh Cob","Westphalian Horse","Wielkopolski","Wrttemberger","Xilingol Horse","Yakutian Horse","Yili Horse","Yonaguni Horse","Zaniskari","Zhemaichu","Zweibrcker","emaitukas"],GG=["Acacia-ants","Acorn-plum gall","Aerial yellowjacket","Africanized honey bee","Allegheny mound ant","Almond stone wasp","Ant","Arboreal ant","Argentine ant","Asian paper wasp","Baldfaced hornet","Bee","Bigheaded ant","Black and yellow mud dauber","Black carpenter ant","Black imported fire ant","Blue horntail woodwasp","Blue orchard bee","Braconid wasp","Bumble bee","Carpenter ant","Carpenter wasp","Chalcid wasp","Cicada killer","Citrus blackfly parasitoid","Common paper wasp","Crazy ant","Cuckoo wasp","Cynipid gall wasp","Eastern Carpenter bee","Eastern yellowjacket","Elm sawfly","Encyrtid wasp","Erythrina gall wasp","Eulophid wasp","European hornet","European imported fire ant","False honey ant","Fire ant","Forest bachac","Forest yellowjacket","German yellowjacket","Ghost ant","Giant ichneumon wasp","Giant resin bee","Giant wood wasp","Golden northern bumble bee","Golden paper wasp","Gouty oak gall","Grass Carrying Wasp","Great black wasp","Great golden digger wasp","Hackberry nipple gall parasitoid","Honey bee","Horned oak gall","Horse guard wasp","Hunting wasp","Ichneumonid wasp","Keyhole wasp","Knopper gall","Large garden bumble bee","Large oak-apple gall","Leafcutting bee","Little fire ant","Little yellow ant","Long-horned bees","Long-legged ant","Macao paper wasp","Mallow bee","Marble gall","Mossyrose gall wasp","Mud-daubers","Multiflora rose seed chalcid","Oak apple gall wasp","Oak rough bulletgall wasp","Oak saucer gall","Oak shoot sawfly","Odorous house ant","Orange-tailed bumble bee","Orangetailed potter wasp","Oriental chestnut gall wasp","Paper wasp","Pavement ant","Pigeon tremex","Pip gall wasp","Prairie yellowjacket","Pteromalid wasp","Pyramid ant","Raspberry Horntail","Red ant","Red carpenter ant","Red harvester ant","Red imported fire ant","Red wasp","Red wood ant","Red-tailed wasp","Reddish carpenter ant","Rough harvester ant","Sawfly parasitic wasp","Scale parasitoid","Silky ant","Sirex woodwasp","Siricid woodwasp","Smaller yellow ant","Southeastern blueberry bee","Southern fire ant","Southern yellowjacket","Sphecid wasp","Stony gall","Sweat bee","Texas leafcutting ant","Tiphiid wasp","Torymid wasp","Tramp ant","Valentine ant","Velvet ant","Vespid wasp","Weevil parasitoid","Western harvester ant","Western paper wasp","Western thatching ant","Western yellowjacket","White-horned horntail","Willow shoot sawfly","Woodwasp","Wool sower gall maker","Yellow Crazy Ant","Yellow and black potter wasp","Yellow-horned horntail"],jG=["Asiatic Lion","Barbary Lion","Cape lion","Masai Lion","Northeast Congo Lion","Transvaal lion","West African Lion"],zG=["Ace","Archie","Bailey","Bandit","Bella","Bentley","Bruno","Buddy","Charlie","Coco","Cookie","Cooper","Daisy","Dixie","Finn","Ginger","Gracie","Gus","Hank","Jack","Jax","Joey","Kobe","Leo","Lola","Louie","Lucy","Maggie","Max","Mia","Milo","Molly","Murphey","Nala","Nova","Ollie","Oreo","Rosie","Scout","Stella","Teddy","Tuffy"],VG=["American","American Chinchilla","American Fuzzy Lop","American Sable","Argente Brun","Belgian Hare","Beveren","Blanc de Hotot","Britannia Petite","Californian","Champagne DArgent","Checkered Giant","Cinnamon","Crme DArgent","Dutch","Dwarf Hotot","English Angora","English Lop","English Spot","Flemish Giant","Florida White","French Angora","French Lop","Giant Angora","Giant Chinchilla","Harlequin","Havana","Himalayan","Holland Lop","Jersey Wooly","Lilac","Lionhead","Mini Lop","Mini Rex","Mini Satin","Netherland Dwarf","New Zealand","Palomino","Polish","Rex","Rhinelander","Satin","Satin Angora","Silver","Silver Fox","Silver Marten","Standard Chinchilla","Tan","Thrianta"],WG=["Abrocoma","Abrocoma schistacea","Aconaemys","Aconaemys porteri","African brush-tailed porcupine","Andean mountain cavy","Argentine tuco-tuco","Ashy chinchilla rat","Asiatic brush-tailed porcupine","Atherurus","Azara's agouti","Azara's tuco-tuco","Bahia porcupine","Bathyergus","Bathyergus janetta","Bathyergus suillus","Bennett's chinchilla rat","Bicolored-spined porcupine","Black agouti","Black dwarf porcupine","Black-rumped agouti","Black-tailed hairy dwarf porcupine","Bolivian chinchilla rat","Bolivian tuco-tuco","Bonetto's tuco-tuco","Brandt's yellow-toothed cavy","Brazilian guinea pig","Brazilian porcupine","Brazilian tuco-tuco","Bridge's degu","Brown hairy dwarf porcupine","Budin's chinchilla rat, A. budini","Cape porcupine","Catamarca tuco-tuco","Cavia","Central American agouti","Chacoan tuco-tuco","Chilean rock rat","Chinchilla","Coendou","Coiban agouti","Colburn's tuco-tuco","Collared tuco-tuco","Common degu","Common yellow-toothed cavy","Conover's tuco-tuco","Coruro","Crested agouti","Crested porcupine","Cryptomys","Cryptomys bocagei","Cryptomys damarensis","Cryptomys foxi","Cryptomys hottentotus","Cryptomys mechowi","Cryptomys ochraceocinereus","Cryptomys zechi","Ctenomys","Cuniculus","Cuscomys","Cuscomys ashanika","Dactylomys","Dactylomys boliviensis","Dactylomys dactylinus","Dactylomys peruanus","Dasyprocta","Domestic guinea pig","Emily's tuco-tuco","Erethizon","Famatina chinchilla rat","Frosted hairy dwarf porcupine","Fukomys","Fukomys amatus","Fukomys anselli","Fukomys bocagei","Fukomys damarensis","Fukomys darlingi","Fukomys foxi","Fukomys ilariae","Fukomys kafuensis","Fukomys mechowii","Fukomys micklemi","Fukomys occlusus","Fukomys ochraceocinereus","Fukomys whytei","Fukomys zechi","Furtive tuco-tuco","Galea","Georychus","Georychus capensis","Golden viscacha-rat","Goya tuco-tuco","Greater guinea pig","Green acouchi","Haig's tuco-tuco","Heliophobius","Heliophobius argenteocinereus","Heterocephalus","Heterocephalus glaber","Highland tuco-tuco","Hystrix","Indian porcupine","Isla Mocha degu","Kalinowski agouti","Kannabateomys","Kannabateomys amblyonyx","Lagidium","Lagostomus","Lewis' tuco-tuco","Long-tailed chinchilla","Long-tailed porcupine","Los Chalchaleros' viscacha-rat","Lowland paca","Magellanic tuco-tuco","Malayan porcupine","Maule tuco-tuco","Mendoza tuco-tuco","Mexican agouti","Mexican hairy dwarf porcupine","Microcavia","Montane guinea pig","Moon-toothed degu","Mottled tuco-tuco","Mountain degu","Mountain paca","Mountain viscacha-rat","Myoprocta","Natterer's tuco-tuco","North American porcupine","Northern viscacha","Octodon","Octodontomys","Octomys","Olallamys","Olallamys albicauda","Olallamys edax","Orinoco agouti","Paraguaian hairy dwarf porcupine","Pearson's tuco-tuco","Peruvian tuco-tuco","Philippine porcupine","Pipanacoctomys","Plains viscacha","Plains viscacha-rat","Porteous' tuco-tuco","Punta de Vacas chinchilla rat","Red acouchi","Red-rumped agouti","Reddish tuco-tuco","Rio Negro tuco-tuco","Robust tuco-tuco","Roosmalen's dwarf porcupine","Rothschild's porcupine","Ruatan Island agouti","Sage's rock rat","Salinoctomys","Salta tuco-tuco","San Luis tuco-tuco","Santa Catarina's guinea pig","Shiny guinea pig","Shipton's mountain cavy","Short-tailed chinchilla","Silky tuco-tuco","Social tuco-tuco","Southern mountain cavy","Southern tuco-tuco","Southern viscacha","Spalacopus","Spix's yellow-toothed cavy","Steinbach's tuco-tuco","Streaked dwarf porcupine","Strong tuco-tuco","Stump-tailed porcupine","Sumatran porcupine","Sunda porcupine","Talas tuco-tuco","Tawny tuco-tuco","Thick-spined porcupine","Tiny tuco-tuco","Trichys","Tucuman tuco-tuco","Tympanoctomys","Uspallata chinchilla rat","White-toothed tuco-tuco","Wolffsohn's viscacha"],$G=["Abaco Island boa","Aesculapian snake","African beaked snake","African puff adder","African rock python","African twig snake","African wolf snake","Amazon tree boa","Amazonian palm viper","American Vine Snake","American copperhead","Amethystine python","Anaconda","Andaman cat snake","Andaman cobra","Angolan python","Annulated sea snake","Arabian cobra","Arafura file snake","Arizona black rattlesnake","Arizona coral snake","Aruba rattlesnake","Asian Vine Snake, Whip Snake","Asian cobra","Asian keelback","Asian pipe snake","Asp","Asp viper","Assam keelback","Australian copperhead","Australian scrub python","Baird's rat snake","Baja California lyresnake","Ball Python","Ball python","Bamboo pitviper","Bamboo viper","Banded Flying Snake","Banded cat-eyed snake","Banded krait","Banded pitviper","Banded water cobra","Barbour's pit viper","Barred wolf snake","Beaked sea snake","Beauty rat snake","Beddome's cat snake","Beddome's coral snake","Bimini racer","Bird snake","Bismarck ringed python","Black headed python","Black krait","Black mamba","Black rat snake","Black snake","Black tree cobra","Black-banded trinket snake","Black-headed snake","Black-necked cobra","Black-necked spitting cobra","Black-speckled palm-pitviper","Black-striped keelback","Black-tailed horned pit viper","Blanding's tree snake","Blind snake","Blonde hognose snake","Blood python","Blue krait","Blunt-headed tree snake","Bluntnose viper","Boa","Boa constrictor","Bocourt's water snake","Boelen python","Boiga","Bolivian anaconda","Boomslang","Bornean pitviper","Borneo short-tailed python","Brahminy blind snake","Brazilian coral snake","Brazilian mud Viper","Brazilian smooth snake","Bredl's python","Brongersma's pitviper","Brown snake","Brown spotted pitviper[4]","Brown tree snake","Brown water python","Brown white-lipped python","Buff striped keelback","Bull snake","Burmese keelback","Burmese krait","Burmese python","Burrowing cobra","Burrowing viper","Bush viper","Bushmaster","Buttermilk racer","Calabar python","California kingsnake","Canebrake","Cantil","Cantor's pitviper","Cape cobra","Cape coral snake","Cape gopher snake","Carpet viper","Cascabel","Caspian cobra","Cat snake","Cat-eyed night snake","Cat-eyed snake","Central American lyre snake","Central ranges taipan","Centralian carpet python","Ceylon krait","Chappell Island tiger snake","Checkered garter snake","Checkered keelback","Chicken snake","Chihuahuan ridge-nosed rattlesnake","Children's python","Chinese tree viper","Coachwhip snake","Coastal carpet python","Coastal taipan","Cobra","Collett's snake","Colorado desert sidewinder","Common adder","Common cobra","Common garter snake","Common ground snake","Common keelback","Common lancehead","Common tiger snake","Common worm snake","Congo snake","Congo water cobra","Copperhead","Coral snake","Corn snake","Coronado Island rattlesnake","Cottonmouth","Crossed viper","Crowned snake","Cuban boa","Cuban wood snake","Cyclades blunt-nosed viper","Dauan Island water python","De Schauensee's anaconda","Death Adder","Desert death adder","Desert kingsnake","Desert woma python","Diamond python","Dog-toothed cat snake","Down's tiger snake","Dubois's sea snake","Dumeril's boa","Durango rock rattlesnake","Dusky pigmy rattlesnake","Dusty hognose snake","Dwarf beaked snake","Dwarf boa","Dwarf pipe snake","Dwarf sand adder","Eastern brown snake","Eastern coral snake","Eastern diamondback rattlesnake","Eastern green mamba","Eastern hognose snake","Eastern lyre snake","Eastern mud snake","Eastern racer","Eastern tiger snake","Eastern water cobra","Eastern yellowbelly sad racer","Egg-eater","Egyptian asp","Egyptian cobra","Elegant pitviper","Emerald tree boa","Equatorial spitting cobra","European asp","European smooth snake","Eyelash palm-pitviper","Eyelash pit viper","Eyelash viper","False cobra","False horned viper","False water cobra","Fan-Si-Pan horned pitviper","Fea's viper","Fer-de-lance","Fierce snake","Fifty pacer","Fishing snake","Flat-nosed pitviper","Flinders python","Flying snake","Forest cobra","Forest flame snake","Forsten's cat snake","Fox snake, three species of Pantherophis","Gaboon viper","Garter snake","Giant Malagasy hognose snake","Godman's pit viper","Gold tree cobra","Gold-ringed cat snake","Golden tree snake","Grand Canyon rattlesnake","Grass snake","Gray cat snake","Great Basin rattlesnake","Great Lakes bush viper","Great Plains rat snake","Green anaconda","Green cat-eyed snake","Green mamba","Green palm viper","Green rat snake","Green snake","Green tree pit viper","Green tree python","Grey Lora","Grey-banded kingsnake","Ground snake","Guatemalan palm viper","Guatemalan tree viper","Habu","Habu pit viper","Hagen's pitviper","Hairy bush viper","Halmahera python","Hardwicke's sea snake","Harlequin coral snake","High Woods coral snake","Hill keelback","Himalayan keelback","Hogg Island boa","Hognose snake","Hognosed viper","Honduran palm viper","Hook Nosed Sea Snake","Hopi rattlesnake","Horned adder","Horned desert viper","Horned viper","Horseshoe pitviper","Hundred pacer","Hutton's tree viper","Ikaheka snake","Indian cobra","Indian flying snake","Indian krait","Indian python","Indian tree viper","Indigo snake","Indochinese spitting cobra","Indonesian water python","Inland carpet python","Inland taipan","Jamaican Tree Snake","Jamaican boa","Jan's hognose snake","Japanese forest rat snake","Japanese rat snake","Japanese striped snake","Javan spitting cobra","Jerdon's pitviper","Jumping viper","Jungle carpet python","Kanburian pit viper","Kaulback's lance-headed pitviper","Kayaudi dwarf reticulated python","Kaznakov's viper","Keelback","Kham Plateau pitviper","Khasi Hills keelback","King Island tiger snake","King brown","King cobra","King rat snake","King snake","Krait","Krefft's tiger snake","Lance-headed rattlesnake","Lancehead","Large shield snake","Large-eyed pitviper","Large-scaled tree viper","Leaf viper","Leaf-nosed viper","Lesser black krait","Levant viper","Long-nosed adder","Long-nosed tree snake","Long-nosed viper","Long-nosed whip snake","Long-tailed rattlesnake","Longnosed worm snake","Lora","Lyre snake","Machete savane","Macklot's python","Madagascar ground boa","Madagascar tree boa","Malabar rock pitviper","Malayan krait","Malayan long-glanded coral snake","Malayan pit viper","Malcolm's tree viper","Mamba","Mamushi","Manchurian Black Water Snake","Mandalay cobra","Mandarin rat snake","Mangrove pit viper","Mangrove snake","Mangshan pitviper","Many-banded krait","Many-banded tree snake","Many-horned adder","Many-spotted cat snake","Massasauga rattlesnake","McMahon's viper","Mexican black kingsnake","Mexican green rattlesnake","Mexican hognose snake","Mexican palm-pitviper","Mexican parrot snake","Mexican racer","Mexican vine snake","Mexican west coast rattlesnake","Midget faded rattlesnake","Milk snake","Moccasin snake","Modest keelback","Mojave desert sidewinder","Mojave rattlesnake","Mole viper","Mollucan python","Moluccan flying snake","Montpellier snake","Motuo bamboo pitviper","Mountain adder","Mozambique spitting cobra","Mud adder","Mud snake","Mussurana","Namaqua dwarf adder","Namib dwarf sand adder","Narrowhead Garter Snake","New Guinea carpet python","Nichell snake","Nicobar Island keelback","Nicobar bamboo pitviper","Night snake","Nightingale adder","Nilgiri keelback","Nitsche's bush viper","Nitsche's tree viper","North Philippine cobra","North eastern king snake","Northeastern hill krait","Northern black-tailed rattlesnake","Northern tree snake","Northern water snake","Northern white-lipped python","Northwestern carpet python","Nose-horned viper","Nubian spitting cobra","Oaxacan small-headed rattlesnake","Oenpelli python","Olive python","Olive sea snake","Orange-collared keelback","Ornate flying snake","Palestine viper","Pallas' viper","Palm viper","Papuan python","Paradise flying snake","Parrot snake","Patchnose snake","Paupan taipan","Pelagic sea snake","Peninsula tiger snake","Peringuey's adder","Perrotet's shieldtail snake","Persian rat snake","Philippine cobra","Philippine pitviper","Pine snake","Pipe snake","Pit viper","Pointed-scaled pit viper[5]","Pope's tree viper","Portuguese viper","Prairie kingsnake","Puerto Rican boa","Puff adder","Pygmy python","Python","Queen snake","Racer","Raddysnake","Rainbow boa","Rat snake","Rattler","Rattlesnake","Red blood python","Red diamond rattlesnake","Red spitting cobra","Red-backed rat snake","Red-bellied black snake","Red-headed krait","Red-necked keelback","Red-tailed bamboo pitviper","Red-tailed boa","Red-tailed pipe snake","Reticulated python","Rhinoceros viper","Rhombic night adder","Ribbon snake","Rinkhals","Rinkhals cobra","River jack","Rosy boa","Rough green snake","Rough-scaled bush viper","Rough-scaled python","Rough-scaled tree viper","Royal python","Rubber boa","Rufous beaked snake","Rungwe tree viper","San Francisco garter snake","Sand adder","Sand boa","Savu python","Saw-scaled viper","Scarlet kingsnake","Schlegel's viper","Schultze's pitviper","Sea snake","Sedge viper","Selayer reticulated python","Sharp-nosed viper","Shield-nosed cobra","Shield-tailed snake","Siamese palm viper","Side-striped palm-pitviper","Sidewinder","Sikkim keelback","Sinai desert cobra","Sind krait","Small-eyed snake","Smooth green snake","Smooth snake","Snorkel viper","Snouted cobra","Sonoran sidewinder","South American hognose snake","South eastern corn snake","Southern Indonesian spitting cobra","Southern Pacific rattlesnake","Southern Philippine cobra","Southern black racer","Southern white-lipped python","Southwestern black spitting cobra","Southwestern blackhead snake","Southwestern carpet python","Southwestern speckled rattlesnake","Speckle-bellied keelback","Speckled kingsnake","Spectacled cobra","Spiny bush viper","Spitting cobra","Spotted python","Sri Lankan pit viper","Stejneger's bamboo pitviper","Stiletto snake","Stimson's python","Stoke's sea snake","Storm water cobra","Striped snake","Sumatran short-tailed python","Sumatran tree viper","Sunbeam snake","Taipan","Taiwan cobra","Tan racer","Tancitaran dusky rattlesnake","Tanimbar python","Tasmanian tiger snake","Tawny cat snake","Temple pit viper","Temple viper","Tentacled snake","Texas Coral Snake","Texas blind snake","Texas garter snake","Texas lyre snake","Texas night snake","Thai cobra","Three-lined ground snake","Tibetan bamboo pitviper","Tic polonga","Tiger pit viper","Tiger rattlesnake","Tiger snake","Tigre snake","Timber rattlesnake","Timor python","Titanboa","Tree boa","Tree snake","Tree viper","Trinket snake","Tropical rattlesnake","Twig snake","Twin Headed King Snake","Twin-Barred tree snake","Twin-spotted rat snake","Twin-spotted rattlesnake","Undulated pit viper","Uracoan rattlesnake","Ursini's viper","Urutu","Vine snake","Viper","Viper Adder","Vipera ammodytes","Wagler's pit viper","Wart snake","Water adder","Water moccasin","Water snake","West Indian racer","Western blind snake","Western carpet python","Western coral snake","Western diamondback rattlesnake","Western green mamba","Western ground snake","Western hog-nosed viper","Western mud snake","Western tiger snake","Western woma python","Wetar Island python","Whip snake","White-lipped keelback","White-lipped python","White-lipped tree viper","Wirot's pit viper","Wolf snake","Woma python","Worm snake","Wutu","Wynaad keelback","Yarara","Yellow anaconda","Yellow-banded sea snake","Yellow-bellied sea snake","Yellow-lined palm viper","Yellow-lipped sea snake","Yellow-striped rat snake","Yunnan keelback","Zebra snake","Zebra spitting cobra"],UG=["bat","bear","bee","bird","butterfly","cat","cow","crocodile","deer","dog","dolphin","eagle","elephant","fish","flamingo","fox","frog","gecko","giraffe","gorilla","hamster","hippopotamus","horse","kangaroo","koala","lion","monkey","ostrich","panda","parrot","peacock","penguin","polar bear","rabbit","rhinoceros","sea lion","shark","snake","squirrel","tiger","turtle","whale","wolf","zebra"],KG={bear:DG,bird:MG,cat:PG,cetacean:IG,cow:BG,crocodilia:LG,dog:NG,fish:OG,horse:HG,insect:GG,lion:jG,pet_name:zG,rabbit:VG,rodent:WG,snake:$G,type:UG},qG=KG,JG=["{{person.name}}","{{company.name}}"],YG=["Redhold","Treeflex","Trippledex","Kanlam","Bigtax","Daltfresh","Toughjoyfax","Mat Lam Tam","Otcom","Tres-Zap","Y-Solowarm","Tresom","Voltsillam","Biodex","Greenlam","Viva","Matsoft","Temp","Zoolab","Subin","Rank","Job","Stringtough","Tin","It","Home Ing","Zamit","Sonsing","Konklab","Alpha","Latlux","Voyatouch","Alphazap","Holdlamis","Zaam-Dox","Sub-Ex","Quo Lux","Bamity","Ventosanzap","Lotstring","Hatity","Tempsoft","Overhold","Fixflex","Konklux","Zontrax","Tampflex","Span","Namfix","Transcof","Stim","Fix San","Sonair","Stronghold","Fintone","Y-find","Opela","Lotlux","Ronstring","Zathin","Duobam","Keylex"],ZG=["0.#.#","0.##","#.##","#.#","#.#.#"],XG={author:JG,name:YG,version:ZG},QG=XG,ej=["A.A. Milne","Agatha Christie","Alan Moore and Dave Gibbons","Albert Camus","Aldous Huxley","Alexander Pope","Alexandre Dumas","Alice Walker","Andrew Lang","Anne Frank","Anthony Burgess","Anthony Trollope","Antoine de Saint-Exupry","Anton Chekhov","Anton Pavlovich Chekhov","Arthur Conan Doyle","Arthur Schopenhauer","Aylmer Maude","Ayn Rand","Beatrix Potter","Benjamin Disraeli","Benjamin Jowett","Bernard Shaw","Bertrand Russell","Bhagavanlal Indrajit","Boris Pasternak","Bram Stoker","Brian Evenson","C.E. Brock","C.S. Lewis","Carson McCallers","Charles Dickens","Charles E. Derbyshire","Charlotte Bront","Charlotte Perkins Gilman","Chinua Achebe","Clifford R. Adams","Constance Garnett","Cormac McCarthy","D.H. Lawrence","Dan Brown","Daniel Defoe","Dante Alighieri","Dashiell Hammett","David Widger","David Wyllie","Dean Koontz","Don DeLillo","E.M. Forster","Edgar Allan Poe","Edgar Rice Burroughs","Elizabeth Cleghorn Gaskell","Elizabeth Von Arnim","Emily Bront","Erich Remarque","Ernest Hemingway","Evelyn Waugh","F. Scott Fitzgerald","Ford Madox Ford","Frances Hodgson Burnett","Frank Herbert","Frank T. Merrill","Franz Kafka","Friedrich Wilhelm Nietzsche","Fyodor Dostoyevsky","G.K. Chesterton","Gabriel Garcia Marquez","Geoffrey Chaucer","George Eliot","George Grossmith","George Orwell","George R. R. Martin","George Saunders","Grady Ward","Graham Greene","Gustave Dor","Gustave Flaubert","Guy de Maupassant","Gnter Grass","H.G. Wells","H.P. Lovecraft","Harper Lee","Harriet Beecher Stowe","Haruki Murakami","Henrik Ibsen","Henry David Thoreau","Henry Fielding","Henry James","Henry Miller","Henry Morley","Herman Melville","Hermann Broch","Homer","Honor de Balzac","Ian McEwan","Isabel Florence Hapgood","Italo Calvino","J.D. Salinger","J.K. Rowling","J.M. Barrie","J.R.R. Tolkien","Jack Kerouac","Jack London","Jacob Grimm","Jacqueline Crooks","James Baldwin","James Dickey","James Ellroy","James Joyce","James Patterson","Jane Austen","Johann Wolfgang von Goethe","John Bunyan","John Camden Hotten","John Dos Passos","John Green","John Grisham","John Kennedy Toole","John Milton","John Ormsby","John Steinbeck","John Updike","Jonathan Franzen","Jonathan Swift","Joseph Conrad","Joseph Heller","Jos Rizal","Judy Blume","Jules Verne","Junot Diaz","Karl Marx","Kazuo Ishiguro","Ken Follett","Ken Kesey","Kenneth Grahame","Khaled Hosseini","Kingsley Amis","Kurt Vonnegut","L. Frank Baum","L.M. Montgomery","Laurence Sterne","Leo Tolstoy","Lewis Carroll","Louisa May Alcott","Louise Maude","Malcolm Lowry","Marcel Proust","Margaret Atwood","Margaret Mitchell","Marilynne Robinson","Mark Twain","Martin Amis","Mary Shelley","Michael Chabon","Miguel de Cervantes","Mikhail Bulgakov","Muriel Spark","Nancy Mitford","Nathanael West","Nathaniel Hawthorne","Neil Gaiman","Niccolo Machiavelli","Norman Mailer","Oscar Levy","Oscar Wilde","P.G. Wodehouse","Paulo Coelho","Peter Carey","Philip Pullman","Philip Roth","Plato","R.L. Stine","Rachel Kushner","Ralph Ellison","Ray Bradbury","Raymond Chandler","Richard Wagner","Richard Wright","Richard Yates","Roald Dahl","Robert Graves","Robert Louis Stevenson","Robert Penn Warren","Rudyard Kipling","Salman Rushdie","Samuel Beckett","Samuel Butler","Samuel Richardson","Saul Bellow","Shivaram Parashuram Bhide","Sir Arthur Conan Doyle","Sir Richard Francis Burton","Stendhal","Stephen Hawking","Stephen King","Sun Tzu","Suzanne Collins","T. Smollett","T.S. Eliot","Theodore Alois Buckley","Theodore Dreiser","Thomas Hardy","Thomas Love Peacock","Thomas Mann","Toni Morrison","Truman Capote","V.S. Naipaul","Vance Packard","Vatsyayana","Victor Hugo","Virgil","Virginia Woolf","Vladimir Nabokov","Voltaire","W.G. Sebald","W.K. Marriott","Walker Percy","Walt Whitman","Walter Scott","Wilhelm Grimm","Wilkie Collins","William Faulkner","William Gibson","William Golding","William Makepeace Thackeray","William Shakespeare","Zadie Smith"],tj=["Audiobook","Ebook","Hardcover","Paperback"],rj=["Adventure","Biography","Business","Children's Literature","Classic","Comedy","Comic","Detective","Drama","Fantasy","Graphic Novel","Historical Fiction","Horror","Memoir","Mystery","Mythology","Philosophy","Poetry","Psychology","Religion","Romance","Science Fiction","Thriller","Western","Young Adult"],nj=["Academic Press","Ace Books","Addison-Wesley","Adis International","Airiti Press","Allen Ltd","Andrews McMeel Publishing","Anova Books","Anvil Press Poetry","Applewood Books","Apress","Athabasca University Press","Atheneum Books","Atheneum Publishers","Atlantic Books","Atlas Press","BBC Books","Ballantine Books","Banner of Truth Trust","Bantam Books","Bantam Spectra","Barrie & Jenkins","Basic Books","Belknap Press","Bella Books","Bellevue Literary Press","Berg Publishers","Berkley Books","Bison Books","Black Dog Publishing","Black Library","Black Sparrow Books","Blackie and Son Limited","Blackstaff Press","Blackwell Publishing","Bloodaxe Books","Bloomsbury Publishing Plc","Blue Ribbon Books","Book League of America","Book Works","Booktrope","Borgo Press","Bowes & Bowes","Boydell & Brewer","Breslov Research Institute","Brill","Brimstone Press","Broadview Press","Burns & Oates","Butterworth-Heinemann","Caister Academic Press","Cambridge University Press","Candlewick Press","Canongate Books","Carcanet Press","Carlton Books","Carlton Publishing Group","Carnegie Mellon University Press","Casemate Publishers","Cengage Learning","Central European University Press","Chambers Harrap","Charles Scribner's Sons","Chatto and Windus","Chick Publications","Chronicle Books","Churchill Livingstone","Cisco Press","City Lights Publishers","Cloverdale Corporation","D. Appleton & Company","D. Reidel","DAW Books","Da Capo Press","Daedalus Publishing","Dalkey Archive Press","Darakwon Press","David & Charles","Dedalus Books","Del Rey Books","E. P. Dutton","ECW Press","Earthscan","Edupedia Publications","Eel Pie Publishing","Eerdmans Publishing","Ellora's Cave","Elsevier","Emerald Group Publishing","Etruscan Press","FabJob","Faber and Faber","Fairview Press","Farrar, Straus & Giroux","Fearless Books","Felony & Mayhem Press","Firebrand Books","Flame Tree Publishing","Focal Press","G-Unit Books","G. P. Putnam's Sons","Gaspereau Press","Gay Men's Press","Gefen Publishing House","George H. Doran Company","George Newnes","George Routledge & Sons","Godwit Press","Golden Cockerel Press","HMSO","Hachette Book Group USA","Hackett Publishing Company","Hamish Hamilton","Happy House","Harcourt Assessment","Harcourt Trade Publishers","Harlequin Enterprises Ltd","Harper & Brothers","Harper & Row","HarperCollins","HarperPrism","HarperTrophy","Harry N. Abrams, Inc.","Harvard University Press","Harvest House","Harvill Press at Random House","Hawthorne Books","Hay House","Haynes Manuals","Heyday Books","Hodder & Stoughton","Hodder Headline","Hogarth Press","Holland Park Press","Holt McDougal","Horizon Scientific Press","Ian Allan Publishing","Ignatius Press","Imperial War Museum","Indiana University Press","J. M. Dent","Jaico Publishing House","Jarrolds Publishing","John Blake Publishing","Karadi Tales","Kensington Books","Kessinger Publishing","Kodansha","Kogan Page","Koren Publishers Jerusalem","Ladybird Books","Leaf Books","Leafwood Publishers","Left Book Club","Legend Books","Lethe Press","Libertas Academica","Liberty Fund","Library of America","Lion Hudson","Macmillan Publishers","Mainstream Publishing","Manchester University Press","Mandrake Press","Mandrake of Oxford","Manning Publications","Manor House Publishing","Mapin Publishing","Marion Boyars Publishers","Mark Batty Publisher","Marshall Cavendish","Marshall Pickering","Martinus Nijhoff Publishers","Mascot Books","Matthias Media","McClelland and Stewart","McFarland & Company","McGraw Hill Financial","McGraw-Hill Education","Medknow Publications","Naiad Press","Nauka","NavPress","New Directions Publishing","New English Library","New Holland Publishers","New Village Press","Newnes","No Starch Press","Nonesuch Press","O'Reilly Media","Oberon Books","Open Court Publishing Company","Open University Press","Orchard Books","Orion Books","Packt Publishing","Palgrave Macmillan","Pan Books","Pantheon Books at Random House","Papadakis Publisher","Parachute Publishing","Parragon","Pathfinder Press","Paulist Press","Pavilion Books","Peace Hill Press","Pecan Grove Press","Pen and Sword Books","Penguin Books","Random House","Reed Elsevier","Reed Publishing","SAGE Publications","Salt Publishing","Sams Publishing","Schocken Books","Scholastic Press","Seagull Books","Secker & Warburg","Shambhala Publications","Shire Books","Shoemaker & Hoard Publishers","Shuter & Shooter Publishers","Sidgwick & Jackson","Signet Books","Simon & Schuster","St. Martin's Press","T & T Clark","Tachyon Publications","Tammi","Target Books","Tarpaulin Sky Press","Tartarus Press","Tate Publishing & Enterprises","Taunton Press","Taylor & Francis","Ten Speed Press","UCL Press","Unfinished Monument Press","United States Government Publishing Office","University of Akron Press","University of Alaska Press","University of California Press","University of Chicago Press","University of Michigan Press","University of Minnesota Press","University of Nebraska Press","Velazquez Press","Verso Books","Victor Gollancz Ltd","Viking Press","Vintage Books","Vintage Books at Random House","Virago Press","Virgin Publishing","Voyager Books","Zed Books","Ziff Davis Media","Zondervan"],ij=["A Song of Ice and Fire","Anna Karenina","Colonel Race","Discworld","Dune","Harry Potter","Hercule Poirot","His Dark Materials","Jane Austen Murder Mysteries","Little Women","Outlander","Percy Jackson","Sherlock Holmes","The Arc of a Scythe","The Bartimaeus Trilogy","The Border Trilogy","The Chronicles of Narnia","The Dark Tower","The Dresden Files","The Eighth Life","The Foundation Series","The Hitchhiker's Guide to the Galaxy","The Hunger Games","The Infinity Cycle","The Inheritance Cycle","The Lord of the Rings","The Maze Runner","The Prison Healer","The Red Rising Saga","The Southern Reach","The Wheel of Time","Thursday Next Series","Twilight","War and Peace"],oj=["1984","20,000 Leagues Under the Sea","A Bend in the River","A Brief History of Time","A Clockwork Orange","A Confederacy of Dunces","A Doll's House","A Handful of Dust","A Modest Proposal","A Passage to India","A Portrait of the Artist as a Young Man","A Room with a View","A Study in Scarlet","A Tale of Two Cities","A Wrinkle in Time","Absalom, Absalom!","Adventures of Huckleberry Finn","Alice's Adventures in Wonderland","All Quiet on the Western Front","All the King's Men","American Pastoral","An American Tragedy","And Then There Were None","Animal Farm","Anna Karenina","Anne of Green Gables","Are You There God? It's Me, Margaret","As I Lay Dying","Atlas Shrugged","Atonement","Austerlitz","Beloved","Beyond Good and Evil","Bible","Bleak House","Blood Meridian","Brave New World","Brideshead Revisited","Candide","Carmilla","Catch-22","Charlie and the Chocolate Factory","Charlotte's Web","Clarissa","Cranford","Crime and Punishment","Dao De Jing: A Minimalist Translation","David Copperfield","Deliverance","Don Quixote","Dora","Dr. Zhivago","Dracula","Dubliners","Dune","East of Eden","Emma","Fahrenheit 451","Faust","For Whom the Bell Tolls","Frankenstein","Freakonomics","Go Tell It on the Mountain","Gone with the Wind","Great Expectations","Grimms' Fairy Tales","Gulliver's Travels","Hamlet","Harry Potter and the Sorcerer's Stone","Heart of Darkness","Herzog","His Dark Materials","Hitting the line","Housekeeping","I, Claudius","If on a Winter's Night a Traveler","In Cold Blood","In Search of Lost Time","Invisible Man","It","Jane Eyre","Josefine Mutzenbacher","Jude the Obscure","L.A. Confidential","Leaves of Grass","Les Miserables","Life of Pi","Little Women","Lolita","Long Walk to Freedom","Lord Jim","Lord of the Flies","Lucky Jim","Madame Bovary","Malone Dies","Meditations","Men Without Women","Metamorphosis","Middlemarch","Midnight's Children","Moby Dick","Money","Mrs. Dalloway","My Bondage and My Freedom","My Life","Native Son","Neuromancer","Never Let Me Go","Nightmare Abbey","Nineteen Eighty Four","Nostromo","Notes from the Underground","Of Mice and Men","Oliver Twist","On the Duty of Civil Disobedience","On the Road","One Flew Over the Cuckoo's Nest","One Hundred Years of Solitude","One Thousand and One Nights","Oscar and Lucinda","Pale Fire","Paradise Lost","Peter Pan","Portnoy's Complaint","Pride and Prejudice","Rabbit, Run","Republic","Revolutionary Road","Robinson Crusoe","Romeo and Juliet","Ruth Fielding in Alaska","Scoop","Second Treatise of Government","Slaughterhouse Five","Stories of Anton Chekhov","Sybil","Tess of the d'Urbervilles","The Adventures of Augie March","The Adventures of Huckleberry Finn","The Adventures of Sherlock Holmes","The Adventures of Tom Sawyer","The Aeneid","The Alchemist","The Ambassadors","The Art of War","The Big Sleep","The Black Sheep","The Blue Castle","The Brief Wondrous Life of Oscar Wao","The Brothers Karamazov","The Call of the Wild","The Canterbury Tales","The Catcher in the Rye","The Color Purple","The Complete Works of Edgar Allen Poe","The Corrections","The Count of Monte Cristo","The Day of the Locust","The Diary of a Nobody","The Diary of a Young Girl","The Divine Comedy","The Enchanted April","The Fountainhead","The Golden Bowl","The Golden Notebook","The Good Soldier","The Grapes of Wrath","The Great Gatsby","The Handmaid's Tale","The Heart is a Lonely Hunter","The Heart of the Matter","The Hobbit","The Hound of the Baskervilles","The Idiot","The Iliad","The King in Yellow","The Kite Runner","The Lion, the Witch, and the Wardrobe","The Little Prince","The Lord of the Rings","The Magic Mountain","The Maltese Falcon","The Master and Margarita","The Moviegoer","The Naked and the Dead","The Odyssey","The Old Man and the Sea","The Pickwick Papers","The Picture of Dorian Gray","The Pilgrim's Progress","The Pillars of the Earth","The Plague","The Portrait of a Lady","The Prime of Miss Jean Brodie","The Prince","The Problems of Philosophy","The Prophet","The Pursuit of Love","The Rainbow","The Red and the Black","The Remains of the Day","The Republic","The Scarlet Letter","The Sleepwalkers","The Sound and the Fury","The Stand","The Strange Case of Dr. Jekyll and Mr. Hyde","The Stranger","The Sun Also Rises","The Thirty-Nine Steps","The Three Musketeers","The Time Machine","The Tin Drum","The Trial","The War of the Worlds","The Waste Land","The Way We Live Now","The Wind in the Willows","The Woman in White","The Wonderful Wizard of Oz","The Works of Edgar Allan Poe","The Yellow Wallpaper","Things Fall Apart","Tinker, Tailor, Soldier, Spy","To Kill a Mockingbird","To the Lighthouse","Tom Jones","Treasure Island","Tristram Shandy","Tropic of Cancer","U.S.A. Trilogy","Ulysses","Uncle Tom's Cabin","Under the Volcano","Underworld","Vanity Fair","Walden","War and Peace","Watchmen","Winnie-the-Pooh","Wuthering Heights"],sj={author:ej,format:tj,genre:rj,publisher:nj,series:ij,title:oj},aj=sj,lj=["###-###-####","(###) ###-####","1-###-###-####","###.###.####"],uj={formats:lj},cj=uj,dj=["azure","black","blue","cyan","fuchsia","gold","green","grey","indigo","ivory","lavender","lime","magenta","maroon","mint green","olive","orange","orchid","pink","plum","purple","red","salmon","silver","sky blue","tan","teal","turquoise","violet","white","yellow"],hj={human:dj},fj=hj,pj=["Automotive","Baby","Beauty","Books","Clothing","Computers","Electronics","Games","Garden","Grocery","Health","Home","Industrial","Jewelry","Kids","Movies","Music","Outdoors","Shoes","Sports","Tools","Toys"],gj=["Discover the {{animal.type}}-like agility of our {{commerce.product}}, perfect for {{word.adjective}} users","Discover the {{word.adjective}} new {{commerce.product}} with an exciting mix of {{commerce.productMaterial}} ingredients","Ergonomic {{commerce.product}} made with {{commerce.productMaterial}} for all-day {{word.adjective}} support","Experience the {{color.human}} brilliance of our {{commerce.product}}, perfect for {{word.adjective}} environments","Featuring {{science.chemical_element.name}}-enhanced technology, our {{commerce.product}} offers unparalleled {{word.adjective}} performance","Innovative {{commerce.product}} featuring {{word.adjective}} technology and {{commerce.productMaterial}} construction","Introducing the {{location.country}}-inspired {{commerce.product}}, blending {{word.adjective}} style with local craftsmanship","New {{color.human}} {{commerce.product}} with ergonomic design for {{word.adjective}} comfort",'New {{commerce.product}} model with {{number.int({"min": 1, "max": 100})}} GB RAM, {{number.int({"min": 1, "max": 1000})}} GB storage, and {{word.adjective}} features',"Our {{animal.type}}-friendly {{commerce.product}} ensures {{word.adjective}} comfort for your pets","Our {{food.adjective}}-inspired {{commerce.product}} brings a taste of luxury to your {{word.adjective}} lifestyle","Professional-grade {{commerce.product}} perfect for {{word.adjective}} training and recreational use","Savor the {{food.adjective}} essence in our {{commerce.product}}, designed for {{word.adjective}} culinary adventures","Stylish {{commerce.product}} designed to make you stand out with {{word.adjective}} looks","The sleek and {{word.adjective}} {{commerce.product}} comes with {{color.human}} LED lighting for smart functionality","The {{color.human}} {{commerce.product}} combines {{location.country}} aesthetics with {{science.chemical_element.name}}-based durability","The {{company.catchPhrase}} {{commerce.product}} offers reliable performance and {{word.adjective}} design","The {{person.firstName}} {{commerce.product}} is the latest in a series of {{word.adjective}} products from {{company.name}}","{{commerce.productAdjective}} {{commerce.product}} designed with {{commerce.productMaterial}} for {{word.adjective}} performance","{{company.name}}'s most advanced {{commerce.product}} technology increases {{word.adjective}} capabilities"],mj={adjective:["Awesome","Bespoke","Electronic","Elegant","Ergonomic","Fantastic","Fresh","Frozen","Generic","Gorgeous","Handcrafted","Handmade","Incredible","Intelligent","Licensed","Luxurious","Modern","Oriental","Practical","Recycled","Refined","Rustic","Sleek","Small","Soft","Tasty","Unbranded"],material:["Aluminum","Bamboo","Bronze","Ceramic","Concrete","Cotton","Gold","Granite","Marble","Metal","Plastic","Rubber","Silk","Steel","Wooden"],product:["Bacon","Ball","Bike","Car","Chair","Cheese","Chicken","Chips","Computer","Fish","Gloves","Hat","Keyboard","Mouse","Pants","Pizza","Salad","Sausages","Shirt","Shoes","Soap","Table","Towels","Tuna"]},bj={department:pj,product_description:gj,product_name:mj},yj=bj,vj=["AI-driven","Adaptive","Advanced","Automated","Balanced","Business-focused","Centralized","Compatible","Configurable","Cross-platform","Customer-focused","Customizable","Decentralized","Devolved","Digitized","Distributed","Diverse","Enhanced","Ergonomic","Exclusive","Expanded","Extended","Face to face","Focused","Front-line","Fully-configurable","Fundamental","Future-proofed","Grass-roots","Horizontal","Immersive","Implemented","Innovative","Integrated","Intuitive","Managed","Monitored","Multi-tiered","Networked","Open-architected","Open-source","Operative","Optimized","Optional","Organic","Organized","Persevering","Persistent","Phased","Polarised","Proactive","Profit-focused","Profound","Programmable","Progressive","Public-key","Quality-focused","Reactive","Realigned","Reduced","Reverse-engineered","Robust","Seamless","Secured","Self-enabling","Sharable","Smart","Stand-alone","Streamlined","Sustainable","Synchronised","Team-oriented","Total","Triple-buffered","Universal","Upgradable","User-centric","User-friendly","Versatile","Virtual","Visionary"],wj=["24/7","AI-driven","B2B","B2C","back-end","best-of-breed","bleeding-edge","collaborative","compelling","cross-media","cross-platform","customized","cutting-edge","decentralized","distributed","dynamic","efficient","end-to-end","enterprise","extensible","frictionless","front-end","generative","global","granular","holistic","immersive","impactful","innovative","integrated","interactive","intuitive","killer","leading-edge","magnetic","mission-critical","next-generation","one-to-one","open-source","out-of-the-box","plug-and-play","proactive","quantum","real-time","revolutionary","rich","robust","scalable","seamless","smart","sticky","strategic","sustainable","synergistic","transparent","turn-key","ubiquitous","user-centric","value-added","vertical","viral","virtual","visionary","world-class"],Cj=["AI","ROI","applications","architectures","blockchains","channels","communities","content","convergence","deliverables","e-commerce","experiences","functionalities","infrastructures","initiatives","interfaces","large language models","lifetime value","markets","methodologies","metrics","mindshare","models","networks","niches","paradigms","partnerships","platforms","relationships","schemas","smart contracts","solutions","supply-chains","synergies","systems","technologies","users","web services"],Fj=["aggregate","architect","benchmark","brand","collaborate","cultivate","deliver","deploy","disintermediate","drive","embrace","empower","enable","engage","engineer","enhance","evolve","expedite","exploit","extend","facilitate","gamify","generate","grow","harness","implement","incentivize","incubate","innovate","integrate","iterate","leverage","maximize","mesh","monetize","optimize","orchestrate","productize","redefine","reinvent","repurpose","revolutionize","scale","seize","simplify","strategize","streamline","syndicate","synthesize","target","transform","transition","unleash","utilize","visualize","whiteboard"],Sj=["24 hour","24/7","AI-powered","actuating","analyzing","asymmetric","asynchronous","attitude-oriented","bifurcated","bottom-line","clear-thinking","client-driven","client-server","cloud-native","coherent","cohesive","composite","content-based","context-sensitive","contextually-based","data-driven","dedicated","demand-driven","directional","discrete","disintermediate","dynamic","eco-centric","empowering","encompassing","executive","explicit","exuding","fault-tolerant","fresh-thinking","full-range","global","heuristic","high-level","holistic","homogeneous","human-resource","hybrid","immersive","impactful","incremental","intangible","interactive","intermediate","leading edge","local","logistical","maximized","methodical","mission-critical","mobile","modular","motivating","national","needs-based","neutral","next generation","optimal","optimizing","radical","real-time","reciprocal","regional","resilient","responsive","scalable","secondary","stable","static","sustainable","system-worthy","systematic","systemic","tangible","tertiary","transitional","uniform","user-facing","value-added","well-modulated","zero administration","zero defect","zero tolerance","zero trust"],xj=["Group","Inc","LLC","and Sons"],kj=["{{person.last_name.generic}} - {{person.last_name.generic}}","{{person.last_name.generic}} {{company.legal_entity_type}}","{{person.last_name.generic}}, {{person.last_name.generic}} and {{person.last_name.generic}}"],Ej=["ability","access","adapter","algorithm","alliance","analyzer","application","approach","architecture","archive","array","artificial intelligence","attitude","benchmark","budgetary management","capability","capacity","challenge","circuit","collaboration","complexity","concept","conglomeration","contingency","core","customer loyalty","data-warehouse","database","definition","emulation","encoding","encryption","firmware","flexibility","focus group","forecast","frame","framework","function","functionalities","generative AI","hardware","help-desk","hierarchy","hub","implementation","infrastructure","initiative","installation","instruction set","interface","internet solution","intranet","knowledge base","knowledge user","leverage","local area network","matrices","matrix","methodology","microservice","middleware","migration","model","moderator","monitoring","moratorium","neural-net","open architecture","orchestration","paradigm","parallelism","policy","portal","pricing structure","process improvement","product","productivity","project","projection","protocol","service-desk","software","solution","standardization","strategy","structure","success","support","synergy","system engine","task-force","throughput","time-frame","toolset","utilisation","website","workforce"],Rj={adjective:vj,buzz_adjective:wj,buzz_noun:Cj,buzz_verb:Fj,descriptor:Sj,legal_entity_type:xj,name_pattern:kj,noun:Ej},_j=Rj,Aj=["avatar","category","comment","createdAt","email","group","id","name","password","phone","status","title","token","updatedAt"],Tj={column:Aj},Dj=Tj,Mj={wide:["April","August","December","February","January","July","June","March","May","November","October","September"],abbr:["Apr","Aug","Dec","Feb","Jan","Jul","Jun","Mar","May","Nov","Oct","Sep"]},Pj={wide:["Friday","Monday","Saturday","Sunday","Thursday","Tuesday","Wednesday"],abbr:["Fri","Mon","Sat","Sun","Thu","Tue","Wed"]},Ij={month:Mj,weekday:Pj},Bj=Ij,Lj=["Auto Loan","Checking","Credit Card","Home Loan","Investment","Money Market","Personal Loan","Savings"],Nj=["34##-######-####L","37##-######-####L"],Oj=["30[0-5]#-######-###L","36##-######-###L"],Hj=["6011-####-####-###L","65##-####-####-###L"],Gj=["3528-####-####-###L","3529-####-####-###L","35[3-8]#-####-####-###L"],jj=["2[221-720]-####-####-###L","5[1-5]##-####-####-###L"],zj=["4###########L","4###-####-####-###L"],Vj={american_express:Nj,diners_club:Oj,discover:Hj,jcb:Gj,mastercard:jj,visa:zj},Wj=Vj,$j=[{name:"UAE Dirham",code:"AED",symbol:"",numericCode:"784"},{name:"Afghani",code:"AFN",symbol:"",numericCode:"971"},{name:"Lek",code:"ALL",symbol:"Lek",numericCode:"008"},{name:"Armenian Dram",code:"AMD",symbol:"",numericCode:"051"},{name:"Netherlands Antillian Guilder",code:"ANG",symbol:"",numericCode:"532"},{name:"Kwanza",code:"AOA",symbol:"",numericCode:"973"},{name:"Argentine Peso",code:"ARS",symbol:"$",numericCode:"032"},{name:"Australian Dollar",code:"AUD",symbol:"$",numericCode:"036"},{name:"Aruban Guilder",code:"AWG",symbol:"",numericCode:"533"},{name:"Azerbaijanian Manat",code:"AZN",symbol:"",numericCode:"944"},{name:"Convertible Marks",code:"BAM",symbol:"KM",numericCode:"977"},{name:"Barbados Dollar",code:"BBD",symbol:"$",numericCode:"052"},{name:"Taka",code:"BDT",symbol:"",numericCode:"050"},{name:"Bulgarian Lev",code:"BGN",symbol:"",numericCode:"975"},{name:"Bahraini Dinar",code:"BHD",symbol:"",numericCode:"048"},{name:"Burundi Franc",code:"BIF",symbol:"",numericCode:"108"},{name:"Bermudian Dollar (customarily known as Bermuda Dollar)",code:"BMD",symbol:"$",numericCode:"060"},{name:"Brunei Dollar",code:"BND",symbol:"$",numericCode:"096"},{name:"Boliviano boliviano",code:"BOB",symbol:"Bs",numericCode:"068"},{name:"Brazilian Real",code:"BRL",symbol:"R$",numericCode:"986"},{name:"Bahamian Dollar",code:"BSD",symbol:"$",numericCode:"044"},{name:"Pula",code:"BWP",symbol:"P",numericCode:"072"},{name:"Belarusian Ruble",code:"BYN",symbol:"Rbl",numericCode:"933"},{name:"Belize Dollar",code:"BZD",symbol:"BZ$",numericCode:"084"},{name:"Canadian Dollar",code:"CAD",symbol:"$",numericCode:"124"},{name:"Congolese Franc",code:"CDF",symbol:"",numericCode:"976"},{name:"Swiss Franc",code:"CHF",symbol:"CHF",numericCode:"756"},{name:"Chilean Peso",code:"CLP",symbol:"$",numericCode:"152"},{name:"Yuan Renminbi",code:"CNY",symbol:"",numericCode:"156"},{name:"Colombian Peso",code:"COP",symbol:"$",numericCode:"170"},{name:"Costa Rican Colon",code:"CRC",symbol:"",numericCode:"188"},{name:"Cuban Peso",code:"CUP",symbol:"",numericCode:"192"},{name:"Cape Verde Escudo",code:"CVE",symbol:"",numericCode:"132"},{name:"Czech Koruna",code:"CZK",symbol:"K",numericCode:"203"},{name:"Djibouti Franc",code:"DJF",symbol:"",numericCode:"262"},{name:"Danish Krone",code:"DKK",symbol:"kr",numericCode:"208"},{name:"Dominican Peso",code:"DOP",symbol:"RD$",numericCode:"214"},{name:"Algerian Dinar",code:"DZD",symbol:"",numericCode:"012"},{name:"Egyptian Pound",code:"EGP",symbol:"",numericCode:"818"},{name:"Nakfa",code:"ERN",symbol:"",numericCode:"232"},{name:"Ethiopian Birr",code:"ETB",symbol:"",numericCode:"230"},{name:"Euro",code:"EUR",symbol:"",numericCode:"978"},{name:"Fiji Dollar",code:"FJD",symbol:"$",numericCode:"242"},{name:"Falkland Islands Pound",code:"FKP",symbol:"",numericCode:"238"},{name:"Pound Sterling",code:"GBP",symbol:"",numericCode:"826"},{name:"Lari",code:"GEL",symbol:"",numericCode:"981"},{name:"Cedi",code:"GHS",symbol:"",numericCode:"936"},{name:"Gibraltar Pound",code:"GIP",symbol:"",numericCode:"292"},{name:"Dalasi",code:"GMD",symbol:"",numericCode:"270"},{name:"Guinea Franc",code:"GNF",symbol:"",numericCode:"324"},{name:"Quetzal",code:"GTQ",symbol:"Q",numericCode:"320"},{name:"Guyana Dollar",code:"GYD",symbol:"$",numericCode:"328"},{name:"Hong Kong Dollar",code:"HKD",symbol:"$",numericCode:"344"},{name:"Lempira",code:"HNL",symbol:"L",numericCode:"340"},{name:"Gourde",code:"HTG",symbol:"",numericCode:"332"},{name:"Forint",code:"HUF",symbol:"Ft",numericCode:"348"},{name:"Rupiah",code:"IDR",symbol:"Rp",numericCode:"360"},{name:"New Israeli Sheqel",code:"ILS",symbol:"",numericCode:"376"},{name:"Bhutanese Ngultrum",code:"BTN",symbol:"Nu",numericCode:"064"},{name:"Indian Rupee",code:"INR",symbol:"",numericCode:"356"},{name:"Iraqi Dinar",code:"IQD",symbol:"",numericCode:"368"},{name:"Iranian Rial",code:"IRR",symbol:"",numericCode:"364"},{name:"Iceland Krona",code:"ISK",symbol:"kr",numericCode:"352"},{name:"Jamaican Dollar",code:"JMD",symbol:"J$",numericCode:"388"},{name:"Jordanian Dinar",code:"JOD",symbol:"",numericCode:"400"},{name:"Yen",code:"JPY",symbol:"",numericCode:"392"},{name:"Kenyan Shilling",code:"KES",symbol:"",numericCode:"404"},{name:"Som",code:"KGS",symbol:"",numericCode:"417"},{name:"Riel",code:"KHR",symbol:"",numericCode:"116"},{name:"Comoro Franc",code:"KMF",symbol:"",numericCode:"174"},{name:"North Korean Won",code:"KPW",symbol:"",numericCode:"408"},{name:"Won",code:"KRW",symbol:"",numericCode:"410"},{name:"Kuwaiti Dinar",code:"KWD",symbol:"",numericCode:"414"},{name:"Cayman Islands Dollar",code:"KYD",symbol:"$",numericCode:"136"},{name:"Tenge",code:"KZT",symbol:"",numericCode:"398"},{name:"Kip",code:"LAK",symbol:"",numericCode:"418"},{name:"Lebanese Pound",code:"LBP",symbol:"",numericCode:"422"},{name:"Sri Lanka Rupee",code:"LKR",symbol:"",numericCode:"144"},{name:"Liberian Dollar",code:"LRD",symbol:"$",numericCode:"430"},{name:"Libyan Dinar",code:"LYD",symbol:"",numericCode:"434"},{name:"Moroccan Dirham",code:"MAD",symbol:"",numericCode:"504"},{name:"Moldovan Leu",code:"MDL",symbol:"",numericCode:"498"},{name:"Malagasy Ariary",code:"MGA",symbol:"",numericCode:"969"},{name:"Denar",code:"MKD",symbol:"",numericCode:"807"},{name:"Kyat",code:"MMK",symbol:"",numericCode:"104"},{name:"Tugrik",code:"MNT",symbol:"",numericCode:"496"},{name:"Pataca",code:"MOP",symbol:"",numericCode:"446"},{name:"Ouguiya",code:"MRU",symbol:"",numericCode:"929"},{name:"Mauritius Rupee",code:"MUR",symbol:"",numericCode:"480"},{name:"Rufiyaa",code:"MVR",symbol:"",numericCode:"462"},{name:"Kwacha",code:"MWK",symbol:"",numericCode:"454"},{name:"Mexican Peso",code:"MXN",symbol:"$",numericCode:"484"},{name:"Malaysian Ringgit",code:"MYR",symbol:"RM",numericCode:"458"},{name:"Metical",code:"MZN",symbol:"MT",numericCode:"943"},{name:"Naira",code:"NGN",symbol:"",numericCode:"566"},{name:"Cordoba Oro",code:"NIO",symbol:"C$",numericCode:"558"},{name:"Norwegian Krone",code:"NOK",symbol:"kr",numericCode:"578"},{name:"Nepalese Rupee",code:"NPR",symbol:"",numericCode:"524"},{name:"New Zealand Dollar",code:"NZD",symbol:"$",numericCode:"554"},{name:"Rial Omani",code:"OMR",symbol:"",numericCode:"512"},{name:"Balboa",code:"PAB",symbol:"B/.",numericCode:"590"},{name:"Nuevo Sol",code:"PEN",symbol:"S/.",numericCode:"604"},{name:"Kina",code:"PGK",symbol:"",numericCode:"598"},{name:"Philippine Peso",code:"PHP",symbol:"Php",numericCode:"608"},{name:"Pakistan Rupee",code:"PKR",symbol:"",numericCode:"586"},{name:"Zloty",code:"PLN",symbol:"z",numericCode:"985"},{name:"Guarani",code:"PYG",symbol:"Gs",numericCode:"600"},{name:"Qatari Rial",code:"QAR",symbol:"",numericCode:"634"},{name:"New Leu",code:"RON",symbol:"lei",numericCode:"946"},{name:"Serbian Dinar",code:"RSD",symbol:".",numericCode:"941"},{name:"Russian Ruble",code:"RUB",symbol:"",numericCode:"643"},{name:"Rwanda Franc",code:"RWF",symbol:"",numericCode:"646"},{name:"Saudi Riyal",code:"SAR",symbol:"",numericCode:"682"},{name:"Solomon Islands Dollar",code:"SBD",symbol:"$",numericCode:"090"},{name:"Seychelles Rupee",code:"SCR",symbol:"",numericCode:"690"},{name:"Sudanese Pound",code:"SDG",symbol:"",numericCode:"938"},{name:"Swedish Krona",code:"SEK",symbol:"kr",numericCode:"752"},{name:"Singapore Dollar",code:"SGD",symbol:"$",numericCode:"702"},{name:"Saint Helena Pound",code:"SHP",symbol:"",numericCode:"654"},{name:"Leone",code:"SLE",symbol:"",numericCode:"925"},{name:"Somali Shilling",code:"SOS",symbol:"S",numericCode:"706"},{name:"Surinam Dollar",code:"SRD",symbol:"$",numericCode:"968"},{name:"South Sudanese pound",code:"SSP",symbol:"",numericCode:"728"},{name:"Dobra",code:"STN",symbol:"Db",numericCode:"930"},{name:"Syrian Pound",code:"SYP",symbol:"",numericCode:"760"},{name:"Lilangeni",code:"SZL",symbol:"",numericCode:"748"},{name:"Baht",code:"THB",symbol:"",numericCode:"764"},{name:"Somoni",code:"TJS",symbol:"",numericCode:"972"},{name:"Manat",code:"TMT",symbol:"",numericCode:"934"},{name:"Tunisian Dinar",code:"TND",symbol:"",numericCode:"788"},{name:"Pa'anga",code:"TOP",symbol:"",numericCode:"776"},{name:"Turkish Lira",code:"TRY",symbol:"",numericCode:"949"},{name:"Trinidad and Tobago Dollar",code:"TTD",symbol:"TT$",numericCode:"780"},{name:"New Taiwan Dollar",code:"TWD",symbol:"NT$",numericCode:"901"},{name:"Tanzanian Shilling",code:"TZS",symbol:"",numericCode:"834"},{name:"Hryvnia",code:"UAH",symbol:"",numericCode:"980"},{name:"Uganda Shilling",code:"UGX",symbol:"",numericCode:"800"},{name:"US Dollar",code:"USD",symbol:"$",numericCode:"840"},{name:"Peso Uruguayo",code:"UYU",symbol:"$U",numericCode:"858"},{name:"Uzbekistan Sum",code:"UZS",symbol:"",numericCode:"860"},{name:"Venezuelan bolvar",code:"VES",symbol:"Bs",numericCode:"928"},{name:"Dong",code:"VND",symbol:"",numericCode:"704"},{name:"Vatu",code:"VUV",symbol:"",numericCode:"548"},{name:"Tala",code:"WST",symbol:"",numericCode:"882"},{name:"CFA Franc BEAC",code:"XAF",symbol:"",numericCode:"950"},{name:"East Caribbean Dollar",code:"XCD",symbol:"$",numericCode:"951"},{name:"CFA Franc BCEAO",code:"XOF",symbol:"",numericCode:"952"},{name:"CFP Franc",code:"XPF",symbol:"",numericCode:"953"},{name:"Yemeni Rial",code:"YER",symbol:"",numericCode:"886"},{name:"Rand",code:"ZAR",symbol:"R",numericCode:"710"},{name:"Lesotho Loti",code:"LSL",symbol:"",numericCode:"426"},{name:"Namibia Dollar",code:"NAD",symbol:"N$",numericCode:"516"},{name:"Zambian Kwacha",code:"ZMW",symbol:"K",numericCode:"967"},{name:"Zimbabwe Dollar",code:"ZWL",symbol:"",numericCode:"932"}],Uj=["A {{finance.transactionType}} for {{finance.currencyCode}} {{finance.amount}} was made at {{company.name}} via card ending ****{{string.numeric(4)}} on account ***{{string.numeric(4)}}.","A {{finance.transactionType}} of {{finance.currencyCode}} {{finance.amount}} occurred at {{company.name}} using a card ending in ****{{string.numeric(4)}} for account ***{{string.numeric(4)}}.","Payment of {{finance.currencyCode}} {{finance.amount}} for {{finance.transactionType}} at {{company.name}}, processed with card ending ****{{string.numeric(4)}} linked to account ***{{string.numeric(4)}}.","Transaction alert: {{finance.transactionType}} at {{company.name}} using card ending ****{{string.numeric(4)}} for an amount of {{finance.currencyCode}} {{finance.amount}} on account ***{{string.numeric(4)}}.","You made a {{finance.transactionType}} of {{finance.currencyCode}} {{finance.amount}} at {{company.name}} using card ending in ****{{string.numeric(4)}} from account ***{{string.numeric(4)}}.","Your {{finance.transactionType}} of {{finance.currencyCode}} {{finance.amount}} at {{company.name}} was successful. Charged via card ****{{string.numeric(4)}} to account ***{{string.numeric(4)}}.","{{finance.transactionType}} at {{company.name}} with a card ending in ****{{string.numeric(4)}} for {{finance.currencyCode}} {{finance.amount}} from account ***{{string.numeric(4)}}.","{{finance.transactionType}} confirmed at {{company.name}} for {{finance.currencyCode}} {{finance.amount}}, card ending in ****{{string.numeric(4)}} associated with account ***{{string.numeric(4)}}.","{{finance.transactionType}} of {{finance.currencyCode}} {{finance.amount}} at {{company.name}} charged to account ending in {{string.numeric(4)}} using card ending in ****{{string.numeric(4)}}.","{{finance.transactionType}} processed at {{company.name}} for {{finance.currencyCode}} {{finance.amount}}, using card ending ****{{string.numeric(4)}}. Account: ***{{string.numeric(4)}}.","{{finance.transactionType}} transaction at {{company.name}} using card ending with ****{{string.numeric(4)}} for {{finance.currencyCode}} {{finance.amount}} in account ***{{string.numeric(4)}}."],Kj=["deposit","invoice","payment","withdrawal"],qj={account_type:Lj,credit_card:Wj,currency:$j,transaction_description_pattern:Uj,transaction_type:Kj},Jj=qj,Yj=["bitter","creamy","crispy","crunchy","delicious","fluffy","fresh","golden","juicy","moist","rich","salty","savory","smoky","sour","spicy","sweet","tangy","tender","zesty"],Zj=["A classic pie filled with delicious {{food.meat}} and {{food.adjective}} {{food.ingredient}}, baked in a {{food.adjective}} pastry crust and topped with a golden-brown lattice.","A delightful tart combining {{food.adjective}} {{food.vegetable}} and sweet {{food.fruit}}, set in a buttery pastry shell and finished with a hint of {{food.spice}}.","A heartwarming {{food.ethnic_category}} soup, featuring fresh {{food.ingredient}} and an aromatic blend of traditional spices.","A robust {{food.adjective}} stew featuring {{food.ethnic_category}} flavors, loaded with {{food.adjective}} meat, {{food.adjective}} vegetables, and a {{food.adjective}}, {{food.adjective}} broth.","A simple {{food.fruit}} pie. No fancy stuff. Just pie.","A slow-roasted {{animal.bird}} with a {{food.adjective}}, {{food.adjective}} exterior. Stuffed with {{food.fruit}} and covered in {{food.fruit}} sauce. Sides with {{food.vegetable}} puree and wild {{food.vegetable}}.","A special {{color.human}} {{food.ingredient}} from {{location.country}}. To support the strong flavor it is sided with a tablespoon of {{food.spice}}.","A succulent {{food.meat}} steak, encased in a {{food.adjective}} {{food.spice}} crust, served with a side of {{food.spice}} mashed {{food.vegetable}}.","An exquisite {{food.meat}} roast, infused with the essence of {{food.fruit}}, slow-roasted to bring out its natural flavors and served with a side of creamy {{food.vegetable}}","Baked {{food.ingredient}}-stuffed {{food.meat}}, seasoned with {{food.spice}} and {{food.adjective}} herbs, accompanied by roasted {{food.vegetable}} medley.","Crispy fried {{food.meat}} bites, seasoned with {{food.spice}} and served with a tangy {{food.fruit}} dipping sauce.","Fresh mixed greens tossed with {{food.spice}}-rubbed {{food.meat}}, {{food.vegetable}}, and a light dressing.","Fresh {{food.ingredient}} with a pinch of {{food.spice}}, topped by a caramelized {{food.fruit}} with whipped cream","Grilled {{food.meat}} kebabs, marinated in {{food.ethnic_category}} spices and served with a fresh {{food.vegetable}} and {{food.fruit}} salad.","Hearty {{food.ingredient}} and {{food.meat}} stew, slow-cooked with {{food.spice}} and {{food.vegetable}} for a comforting, flavorful meal.","Juicy {{food.meat}}, grilled to your liking and drizzled with a bold {{food.spice}} sauce, served alongside roasted {{food.vegetable}}.","Our {{food.adjective}} {{food.meat}}, slow-cooked to perfection, accompanied by steamed {{food.vegetable}} and a rich, savory gravy.","Tender {{food.meat}} skewers, glazed with a sweet and tangy {{food.fruit}} sauce, served over a bed of fragrant jasmine rice.","Tenderly braised {{food.meat}} in a rich {{food.spice}} and {{food.vegetable}} sauce, served with a side of creamy {{food.vegetable}}.","Three {{food.ingredient}} with {{food.vegetable}}, {{food.vegetable}}, {{food.vegetable}}, {{food.vegetable}} and {{food.ingredient}}. With a side of baked {{food.fruit}}, and your choice of {{food.ingredient}} or {{food.ingredient}}.",'{{number.int({"min":1, "max":99})}}-day aged {{food.meat}} steak, with choice of {{number.int({"min":2, "max":4})}} sides.'],Xj=["California maki","Peking duck","Philadelphia maki","arepas","barbecue ribs","bruschette with tomato","bunny chow","caesar salad","caprese salad","cauliflower penne","cheeseburger","chicken fajitas","chicken milanese","chicken parm","chicken wings","chilli con carne","ebiten maki","fettuccine alfredo","fish and chips","french fries with sausages","french toast","hummus","katsu curry","kebab","lasagne","linguine with clams","massaman curry","meatballs with sauce","mushroom risotto","pappardelle alla bolognese","pasta and beans","pasta carbonara","pasta with tomato and basil","pho","pierogi","pizza","poke","pork belly buns","pork sausage roll","poutine","ricotta stuffed ravioli","risotto with seafood","salmon nigiri","scotch eggs","seafood paella","som tam","souvlaki","stinky tofu","sushi","tacos","teriyaki chicken donburi","tiramis","tuna sashimi","vegetable soup"],Qj=["{{food.adjective}} {{food.ethnic_category}} stew","{{food.adjective}} {{food.meat}} with {{food.vegetable}}","{{food.ethnic_category}} {{food.ingredient}} soup","{{food.fruit}} and {{food.fruit}} tart","{{food.fruit}} pie","{{food.fruit}}-glazed {{food.meat}} skewers","{{food.fruit}}-infused {{food.meat}} roast","{{food.ingredient}} and {{food.meat}} pie","{{food.ingredient}}-infused {{food.meat}}","{{food.meat}} steak","{{food.meat}} with {{food.fruit}} sauce","{{food.spice}}-crusted {{food.meat}}","{{food.spice}}-rubbed {{food.meat}} salad","{{food.vegetable}} salad","{{person.first_name.generic}}'s special {{food.ingredient}}"],ez=["Ainu","Albanian","American","Andhra","Anglo-Indian","Arab","Argentine","Armenian","Assyrian","Awadhi","Azerbaijani","Balochi","Bangladeshi","Bashkir","Belarusian","Bengali","Berber","Brazilian","British","Buddhist","Bulgarian","Cajun","Cantonese","Caribbean","Chechen","Chinese","Chinese Islamic","Circassian","Crimean Tatar","Cypriot","Czech","Danish","Egyptian","English","Eritrean","Estonian","Ethiopian","Filipino","French","Georgian","German","Goan","Goan Catholic","Greek","Gujarati","Hyderabad","Indian","Indian Chinese","Indian Singaporean","Indonesian","Inuit","Irish","Italian","Italian-American","Jamaican","Japanese","Jewish - Israeli","Karnataka","Kazakh","Keralite","Korean","Kurdish","Laotian","Latvian","Lebanese","Lithuanian","Louisiana Creole","Maharashtrian","Malay","Malaysian Chinese","Malaysian Indian","Mangalorean","Mediterranean","Mennonite","Mexican","Mordovian","Mughal","Native American","Nepalese","New Mexican","Odia","Pakistani","Parsi","Pashtun","Pennsylvania Dutch","Peranakan","Persian","Peruvian","Polish","Portuguese","Punjabi","Qubcois","Rajasthani","Romani","Romanian","Russian","Sami","Serbian","Sindhi","Slovak","Slovenian","Somali","South Indian","Soviet","Spanish","Sri Lankan","Taiwanese","Tamil","Tatar","Texan","Thai","Turkish","Udupi","Ukrainian","Vietnamese","Yamal","Zambian","Zanzibari"],tz=["apple","apricot","aubergine","avocado","banana","berry","blackberry","blood orange","blueberry","bush tomato","butternut pumpkin","cantaloupe","cavalo","cherry","corella pear","cranberry","cumquat","currant","custard apple","custard apples daikon","date","dragonfruit","dried apricot","elderberry","feijoa","fig","fingerlime","goji berry","grape","grapefruit","guava","honeydew melon","incaberry","jarrahdale pumpkin","juniper berry","kiwi fruit","kiwiberry","lemon","lime","longan","loquat","lychee","mandarin","mango","mangosteen","melon","mulberry","nashi pear","nectarine","olive","orange","papaw","papaya","passionfruit","peach","pear","pineapple","plum","pomegranate","prune","rockmelon","snowpea","sprout","starfruit","strawberry","sultana","tangelo","tomato","watermelon"],rz=["achacha","adzuki beans","agar","agave syrup","ajowan seed","albacore tuna","alfalfa","allspice","almond oil","almonds","amaranth","amchur","anchovies","aniseed","annatto seed","apple cider vinegar","apple juice","apple juice concentrate","apples","apricots","arborio rice","arrowroot","artichoke","arugula","asafoetida","asian greens","asian noodles","asparagus","aubergine","avocado","avocado oil","avocado spread","bacon","baking powder","baking soda","balsamic vinegar","bamboo shoots","banana","barberry","barley","barramundi","basil basmati rice","bay leaves","bean shoots","bean sprouts","beans","beef","beef stock","beetroot","berries","besan","black eyed beans","blackberries","blood oranges","blue cheese","blue eye trevalla","blue swimmer crab","blueberries","bocconcini","bok choy","bonito flakes","bonza","borlotti beans","bran","brazil nut","bread","brie","broccoli","broccolini","brown flour","brown mushrooms","brown rice","brown rice vinegar","brussels sprouts","buckwheat","buckwheat flour","buckwheat noodles","bulghur","bush tomato","butter","butter beans","buttermilk","butternut lettuce","butternut pumpkin","cabbage","cacao","cake","calamari","camellia tea oil","camembert","camomile","candle nut","cannellini beans","canola oil","cantaloupe","capers","capsicum","caraway seed","cardamom","carob carrot","carrot","cashews","cassia bark","cauliflower","cavalo","cayenne","celery","celery seed","cheddar","cherries","chestnut","chia seeds","chicken","chicken stock","chickory","chickpea","chilli pepper","chinese cabbage","chinese five spice","chives","choy sum","cinnamon","clams","cloves","cocoa powder","coconut","coconut oil","coconut water","coffee","common cultivated mushrooms","corella pear","coriander leaves","coriander seed","corn oil","corn syrup","corn tortilla","cornichons","cornmeal","cos lettuce","cottage cheese","cous cous","crabs","cranberry","cream","cream cheese","cucumber","cumin","cumquat","currants","curry leaves","curry powder","custard apples","dandelion","dark chocolate","dashi","dates","dill","dragonfruit","dried apricots","dried chinese broccoli","duck","edam","edamame","eggplant","eggs","elderberry","endive","english spinach","enoki mushrooms","extra virgin olive oil","farmed prawns","feijoa","fennel","fennel seeds","fenugreek","feta","figs","file powder","fingerlime","fish sauce","fish stock","flat mushrooms","flathead","flaxseed","flaxseed oil","flounder","flour","freekeh","french eschallots","fresh chillies","fromage blanc","fruit","galangal","garam masala","garlic","goat cheese","goat milk","goji berry","grape seed oil","grapefruit","grapes","green beans","green pepper","green tea","green tea noodles","greenwheat freekeh","gruyere","guava","gula melaka","haloumi","ham","haricot beans","harissa","hazelnut","hijiki","hiramasa kingfish","hokkien noodles","honey","honeydew melon","horseradish","hot smoked salmon","hummus","iceberg lettuce","incaberries","jarrahdale pumpkin","jasmine rice","jelly","jerusalem artichoke","jewfish","jicama","juniper berries","kale","kangaroo","kecap manis","kenchur","kidney beans","kidneys","kiwi berries","kiwi fruit","kohlrabi","kokam","kombu","koshihikari rice","kudzu","kumera","lamb","lavender flowers","leeks","lemon","lemongrass","lentils","lettuce","licorice","lime leaves","limes","liver","lobster","longan","loquats","lotus root","lychees","macadamia nut","macadamia oil","mace","mackerel","mahi mahi","mahlab","malt vinegar","mandarins","mango","mangosteens","maple syrup","margarine","marigold","marjoram","mastic","melon","milk","milk chocolate","mint","miso","molasses","monkfish","morwong","mountain bread","mozzarella","muesli","mulberries","mullet","mung beans","mussels","mustard","mustard seed","nashi pear","nasturtium","nectarines","nori","nutmeg","nutritional yeast","nuts","oat flour","oatmeal","oats","octopus","okra","olive oil","olives","omega spread","onion","oranges","oregano","oyster mushrooms","oyster sauce","oysters","pandanus leaves","papaw","papaya","paprik","parmesan cheese","parrotfish","parsley","parsnip","passionfruit","pasta","peaches","peanuts","pear","pear juice","pears","peas","pecan nut","pecorino","pepitas","peppercorns","peppermint","peppers","persimmon","pine nut","pineapple","pinto beans","pistachio nut","plums","polenta","pomegranate","poppy seed","porcini mushrooms","pork","potato flour","potatoes","provolone","prunes","pumpkin","pumpkin seed","purple carrot","purple rice","quark","quince","quinoa","radicchio","radish","raisin","raspberry","red cabbage","red lentils","red pepper","red wine","red wine vinegar","redfish","rhubarb","rice flour","rice noodles","rice paper","rice syrup","ricemilk","ricotta","rockmelon","rose water","rosemary","rye","rye bread","safflower oil","saffron","sage","sake","salmon","sardines","sausages","scallops","sea salt","semolina","sesame oil","sesame seeds","shark","shiitake mushrooms","silverbeet","slivered almonds","smoked trout","snapper","snowpea sprouts","snowpeas","soba","sour dough bread","soy","soy beans","soy flour","soy milk","soy sauce","soymilk","spearmint","spelt","spelt bread","spinach","spring onions","sprouts","squash","squid","star anise","star fruit","starfruit","stevia","strawberries","sugar","sultanas","sun-dried tomatoes","sunflower oil","sunflower seeds","sweet chilli sauce","sweet potato","swiss chard","swordfish","szechuan pepperberry","tabasco","tahini","taleggio cheese","tamari","tamarillo","tangelo","tapioca","tapioca flour","tarragon","tea","tea oil","tempeh","thyme","tinned","tofu","tom yum","tomatoes","trout","tuna","turkey","turmeric","turnips","unbleached flour","vanilla beans","vegetable oil","vegetable spaghetti","vegetable stock","vermicelli noodles","vinegar","wakame","walnut","warehou","wasabi","water","watercress","watermelon","wattleseed","wheat","wheatgrass juice","white bread","white flour","white rice","white wine","white wine vinegar","whiting wild rice","wholegrain bread","wholemeal","wholewheat flour","william pear","yeast","yellow papaw","yellowtail kingfish","yoghurt","yogurt","zucchini"],nz=["beef","chicken","crocodile","duck","emu","goose","kangaroo","lamb","ostrich","pigeon","pork","quail","rabbit","salmon","turkey","venison"],iz=["achiote seed","ajwain seed","ajwan seed","allspice","amchoor","anise","anise star","aniseed","annatto seed","arrowroot","asafoetida","baharat","balti masala","balti stir fry mix","basil","bay leaves","bbq","caraway seed","cardamom","cassia","cayenne pepper","celery","chamomile","chervil","chilli","chilli pepper","chillies","china star","chives","cinnamon","cloves","colombo","coriander","cumin","curly leaf parsley","curry","dhansak","dill","fennel seed","fenugreek","fines herbes","five spice","french lavender","galangal","garam masala","garlic","german chamomile","ginger","green cardamom","herbes de provence","jalfrezi","jerk","kaffir leaves","korma","lavender","lemon grass","lemon pepper","lime leaves","liquorice root","mace","mango","marjoram","methi","mint","mustard","nutmeg","onion seed","orange zest","oregano","paprika","parsley","pepper","peppercorns","pimento","piri piri","poppy seed","pot marjoram","poudre de colombo","ras-el-hanout","rice paper","rogan josh","rose baie","rosemary","saffron","sage","sesame seed","spearmint","sumac","sweet basil","sweet laurel","tagine","tandoori masala","tarragon","thyme","tikka masala","turmeric","vanilla","zahtar"],oz=["artichoke","arugula","asian greens","asparagus","bean shoots","bean sprouts","beans","beetroot","bok choy","broccoli","broccolini","brussels sprouts","butternut lettuce","cabbage","capers","carob carrot","carrot","cauliflower","celery","chilli pepper","chinese cabbage","chives","cornichons","cos lettuce","cucumber","dried chinese broccoli","eggplant","endive","english spinach","french eschallots","fresh chillies","garlic","green beans","green pepper","hijiki","iceberg lettuce","jerusalem artichoke","jicama","kale","kohlrabi","leeks","lettuce","okra","onion","parsnip","peas","peppers","potatoes","pumpkin","purple carrot","radicchio","radish","raspberry","red cabbage","red pepper","rhubarb","snowpea sprouts","spinach","squash","sun dried tomatoes","sweet potato","swiss chard","turnips","zucchini"],sz={adjective:Yj,description_pattern:Zj,dish:Xj,dish_pattern:Qj,ethnic_category:ez,fruit:tz,ingredient:rz,meat:nz,spice:iz,vegetable:oz},az=sz,lz=["1080p","auxiliary","back-end","bluetooth","cross-platform","digital","haptic","mobile","multi-byte","neural","online","open-source","optical","primary","redundant","solid state","virtual","wireless"],uz=["backing up","bypassing","calculating","compressing","connecting","copying","generating","hacking","indexing","navigating","overriding","parsing","programming","quantifying","synthesizing","transmitting"],cz=["alarm","application","array","bandwidth","bus","capacitor","card","circuit","driver","feed","firewall","hard drive","interface","matrix","microchip","monitor","panel","pixel","port","program","protocol","sensor","system","transmitter"],dz=["I'll {{verb}} the {{adjective}} {{abbreviation}} {{noun}}, that should {{noun}} the {{abbreviation}} {{noun}}!","If we {{verb}} the {{noun}}, we can get to the {{abbreviation}} {{noun}} through the {{adjective}} {{abbreviation}} {{noun}}!","The {{abbreviation}} {{noun}} is down, {{verb}} the {{adjective}} {{noun}} so we can {{verb}} the {{abbreviation}} {{noun}}!","Try to {{verb}} the {{abbreviation}} {{noun}}, maybe it will {{verb}} the {{adjective}} {{noun}}!","Use the {{adjective}} {{abbreviation}} {{noun}}, then you can {{verb}} the {{adjective}} {{noun}}!","We need to {{verb}} the {{adjective}} {{abbreviation}} {{noun}}!","You can't {{verb}} the {{noun}} without {{ingverb}} the {{adjective}} {{abbreviation}} {{noun}}!","{{ingverb}} the {{noun}} won't do anything, we need to {{verb}} the {{adjective}} {{abbreviation}} {{noun}}!"],hz=["back up","bypass","calculate","compress","connect","copy","generate","hack","index","input","navigate","override","parse","program","quantify","reboot","synthesize","transmit"],fz={adjective:lz,ingverb:uz,noun:cz,phrase:dz,verb:hz},pz=fz,gz=["biz","com","info","name","net","org"],mz=["example.com","example.net","example.org"],bz=["gmail.com","hotmail.com","yahoo.com"],yz={domain_suffix:gz,example_email:mz,free_email:bz},vz=yz,wz=["#####","####","###"],Cz=["Abilene","Akron","Alafaya","Alameda","Albany","Albuquerque","Alexandria","Alhambra","Aliso Viejo","Allen","Allentown","Aloha","Alpharetta","Altadena","Altamonte Springs","Altoona","Amarillo","Ames","Anaheim","Anchorage","Anderson","Ankeny","Ann Arbor","Annandale","Antelope","Antioch","Apex","Apopka","Apple Valley","Appleton","Arcadia","Arden-Arcade","Arecibo","Arlington","Arlington Heights","Arvada","Ashburn","Asheville","Aspen Hill","Atascocita","Athens-Clarke County","Atlanta","Attleboro","Auburn","Augusta-Richmond County","Aurora","Austin","Avondale","Azusa","Bakersfield","Baldwin Park","Baltimore","Barnstable Town","Bartlett","Baton Rouge","Battle Creek","Bayamon","Bayonne","Baytown","Beaumont","Beavercreek","Beaverton","Bedford","Bel Air South","Bell Gardens","Belleville","Bellevue","Bellflower","Bellingham","Bend","Bentonville","Berkeley","Berwyn","Bethesda","Bethlehem","Billings","Biloxi","Binghamton","Birmingham","Bismarck","Blacksburg","Blaine","Bloomington","Blue Springs","Boca Raton","Boise City","Bolingbrook","Bonita Springs","Bossier City","Boston","Bothell","Boulder","Bountiful","Bowie","Bowling Green","Boynton Beach","Bozeman","Bradenton","Brandon","Brentwood","Bridgeport","Bristol","Brockton","Broken Arrow","Brookhaven","Brookline","Brooklyn Park","Broomfield","Brownsville","Bryan","Buckeye","Buena Park","Buffalo","Buffalo Grove","Burbank","Burien","Burke","Burleson","Burlington","Burnsville","Caguas","Caldwell","Camarillo","Cambridge","Camden","Canton","Cape Coral","Carlsbad","Carmel","Carmichael","Carolina","Carrollton","Carson","Carson City","Cary","Casa Grande","Casas Adobes","Casper","Castle Rock","Castro Valley","Catalina Foothills","Cathedral City","Catonsville","Cedar Hill","Cedar Park","Cedar Rapids","Centennial","Centreville","Ceres","Cerritos","Champaign","Chandler","Chapel Hill","Charleston","Charlotte","Charlottesville","Chattanooga","Cheektowaga","Chesapeake","Chesterfield","Cheyenne","Chicago","Chico","Chicopee","Chino","Chino Hills","Chula Vista","Cicero","Cincinnati","Citrus Heights","Clarksville","Clearwater","Cleveland","Cleveland Heights","Clifton","Clovis","Coachella","Coconut Creek","Coeur d'Alene","College Station","Collierville","Colorado Springs","Colton","Columbia","Columbus","Commerce City","Compton","Concord","Conroe","Conway","Coon Rapids","Coral Gables","Coral Springs","Corona","Corpus Christi","Corvallis","Costa Mesa","Council Bluffs","Country Club","Covina","Cranston","Cupertino","Cutler Bay","Cuyahoga Falls","Cypress","Dale City","Dallas","Daly City","Danbury","Danville","Davenport","Davie","Davis","Dayton","Daytona Beach","DeKalb","DeSoto","Dearborn","Dearborn Heights","Decatur","Deerfield Beach","Delano","Delray Beach","Deltona","Denton","Denver","Des Moines","Des Plaines","Detroit","Diamond Bar","Doral","Dothan","Downers Grove","Downey","Draper","Dublin","Dubuque","Duluth","Dundalk","Dunwoody","Durham","Eagan","East Hartford","East Honolulu","East Lansing","East Los Angeles","East Orange","East Providence","Eastvale","Eau Claire","Eden Prairie","Edina","Edinburg","Edmond","El Cajon","El Centro","El Dorado Hills","El Monte","El Paso","Elgin","Elizabeth","Elk Grove","Elkhart","Ellicott City","Elmhurst","Elyria","Encinitas","Enid","Enterprise","Erie","Escondido","Euclid","Eugene","Euless","Evanston","Evansville","Everett","Fairfield","Fall River","Fargo","Farmington","Farmington Hills","Fayetteville","Federal Way","Findlay","Fishers","Flagstaff","Flint","Florence-Graham","Florin","Florissant","Flower Mound","Folsom","Fond du Lac","Fontana","Fort Collins","Fort Lauderdale","Fort Myers","Fort Pierce","Fort Smith","Fort Wayne","Fort Worth","Fountain Valley","Fountainebleau","Framingham","Franklin","Frederick","Freeport","Fremont","Fresno","Frisco","Fullerton","Gainesville","Gaithersburg","Galveston","Garden Grove","Gardena","Garland","Gary","Gastonia","Georgetown","Germantown","Gilbert","Gilroy","Glen Burnie","Glendale","Glendora","Glenview","Goodyear","Grand Forks","Grand Island","Grand Junction","Grand Prairie","Grand Rapids","Grapevine","Great Falls","Greeley","Green Bay","Greensboro","Greenville","Greenwood","Gresham","Guaynabo","Gulfport","Hacienda Heights","Hackensack","Haltom City","Hamilton","Hammond","Hampton","Hanford","Harlingen","Harrisburg","Harrisonburg","Hartford","Hattiesburg","Haverhill","Hawthorne","Hayward","Hemet","Hempstead","Henderson","Hendersonville","Hesperia","Hialeah","Hicksville","High Point","Highland","Highlands Ranch","Hillsboro","Hilo","Hoboken","Hoffman Estates","Hollywood","Homestead","Honolulu","Hoover","Houston","Huntersville","Huntington","Huntington Beach","Huntington Park","Huntsville","Hutchinson","Idaho Falls","Independence","Indianapolis","Indio","Inglewood","Iowa City","Irondequoit","Irvine","Irving","Jackson","Jacksonville","Janesville","Jefferson City","Jeffersonville","Jersey City","Johns Creek","Johnson City","Joliet","Jonesboro","Joplin","Jupiter","Jurupa Valley","Kalamazoo","Kannapolis","Kansas City","Kearny","Keller","Kendale Lakes","Kendall","Kenner","Kennewick","Kenosha","Kent","Kentwood","Kettering","Killeen","Kingsport","Kirkland","Kissimmee","Knoxville","Kokomo","La Crosse","La Habra","La Mesa","La Mirada","Lacey","Lafayette","Laguna Niguel","Lake Charles","Lake Elsinore","Lake Forest","Lake Havasu City","Lake Ridge","Lakeland","Lakeville","Lakewood","Lancaster","Lansing","Laredo","Largo","Las Cruces","Las Vegas","Lauderhill","Lawrence","Lawton","Layton","League City","Lee's Summit","Leesburg","Lehi","Lehigh Acres","Lenexa","Levittown","Lewisville","Lexington-Fayette","Lincoln","Linden","Little Rock","Littleton","Livermore","Livonia","Lodi","Logan","Lombard","Lompoc","Long Beach","Longmont","Longview","Lorain","Los Angeles","Louisville/Jefferson County","Loveland","Lowell","Lubbock","Lynchburg","Lynn","Lynwood","Macon-Bibb County","Madera","Madison","Malden","Manchester","Manhattan","Mansfield","Manteca","Maple Grove","Margate","Maricopa","Marietta","Marysville","Mayaguez","McAllen","McKinney","McLean","Medford","Melbourne","Memphis","Menifee","Mentor","Merced","Meriden","Meridian","Mesa","Mesquite","Metairie","Methuen Town","Miami","Miami Beach","Miami Gardens","Middletown","Midland","Midwest City","Milford","Millcreek","Milpitas","Milwaukee","Minneapolis","Minnetonka","Minot","Miramar","Mishawaka","Mission","Mission Viejo","Missoula","Missouri City","Mobile","Modesto","Moline","Monroe","Montebello","Monterey Park","Montgomery","Moore","Moreno Valley","Morgan Hill","Mount Pleasant","Mount Prospect","Mount Vernon","Mountain View","Muncie","Murfreesboro","Murray","Murrieta","Nampa","Napa","Naperville","Nashua","Nashville-Davidson","National City","New Bedford","New Braunfels","New Britain","New Brunswick","New Haven","New Orleans","New Rochelle","New York","Newark","Newport Beach","Newport News","Newton","Niagara Falls","Noblesville","Norfolk","Normal","Norman","North Bethesda","North Charleston","North Highlands","North Las Vegas","North Lauderdale","North Little Rock","North Miami","North Miami Beach","North Port","North Richland Hills","Norwalk","Novato","Novi","O'Fallon","Oak Lawn","Oak Park","Oakland","Oakland Park","Ocala","Oceanside","Odessa","Ogden","Oklahoma City","Olathe","Olympia","Omaha","Ontario","Orange","Orem","Orland Park","Orlando","Oro Valley","Oshkosh","Overland Park","Owensboro","Oxnard","Palatine","Palm Bay","Palm Beach Gardens","Palm Coast","Palm Desert","Palm Harbor","Palm Springs","Palmdale","Palo Alto","Paradise","Paramount","Parker","Parma","Pasadena","Pasco","Passaic","Paterson","Pawtucket","Peabody","Pearl City","Pearland","Pembroke Pines","Pensacola","Peoria","Perris","Perth Amboy","Petaluma","Pflugerville","Pharr","Philadelphia","Phoenix","Pico Rivera","Pine Bluff","Pine Hills","Pinellas Park","Pittsburg","Pittsburgh","Pittsfield","Placentia","Plainfield","Plano","Plantation","Pleasanton","Plymouth","Pocatello","Poinciana","Pomona","Pompano Beach","Ponce","Pontiac","Port Arthur","Port Charlotte","Port Orange","Port St. Lucie","Portage","Porterville","Portland","Portsmouth","Potomac","Poway","Providence","Provo","Pueblo","Quincy","Racine","Raleigh","Rancho Cordova","Rancho Cucamonga","Rancho Palos Verdes","Rancho Santa Margarita","Rapid City","Reading","Redding","Redlands","Redmond","Redondo Beach","Redwood City","Reno","Renton","Reston","Revere","Rialto","Richardson","Richland","Richmond","Rio Rancho","Riverside","Riverton","Riverview","Roanoke","Rochester","Rochester Hills","Rock Hill","Rockford","Rocklin","Rockville","Rockwall","Rocky Mount","Rogers","Rohnert Park","Rosemead","Roseville","Roswell","Round Rock","Rowland Heights","Rowlett","Royal Oak","Sacramento","Saginaw","Salem","Salina","Salinas","Salt Lake City","Sammamish","San Angelo","San Antonio","San Bernardino","San Bruno","San Buenaventura (Ventura)","San Clemente","San Diego","San Francisco","San Jacinto","San Jose","San Juan","San Leandro","San Luis Obispo","San Marcos","San Mateo","San Rafael","San Ramon","San Tan Valley","Sandy","Sandy Springs","Sanford","Santa Ana","Santa Barbara","Santa Clara","Santa Clarita","Santa Cruz","Santa Fe","Santa Maria","Santa Monica","Santa Rosa","Santee","Sarasota","Savannah","Sayreville","Schaumburg","Schenectady","Scottsdale","Scranton","Seattle","Severn","Shawnee","Sheboygan","Shoreline","Shreveport","Sierra Vista","Silver Spring","Simi Valley","Sioux City","Sioux Falls","Skokie","Smyrna","Somerville","South Bend","South Gate","South Hill","South Jordan","South San Francisco","South Valley","South Whittier","Southaven","Southfield","Sparks","Spokane","Spokane Valley","Spring","Spring Hill","Spring Valley","Springdale","Springfield","St. Charles","St. Clair Shores","St. Cloud","St. George","St. Joseph","St. Louis","St. Louis Park","St. Paul","St. Peters","St. Petersburg","Stamford","State College","Sterling Heights","Stillwater","Stockton","Stratford","Strongsville","Suffolk","Sugar Land","Summerville","Sunnyvale","Sunrise","Sunrise Manor","Surprise","Syracuse","Tacoma","Tallahassee","Tamarac","Tamiami","Tampa","Taunton","Taylor","Taylorsville","Temecula","Tempe","Temple","Terre Haute","Texas City","The Hammocks","The Villages","The Woodlands","Thornton","Thousand Oaks","Tigard","Tinley Park","Titusville","Toledo","Toms River","Tonawanda","Topeka","Torrance","Town 'n' Country","Towson","Tracy","Trenton","Troy","Trujillo Alto","Tuckahoe","Tucson","Tulare","Tulsa","Turlock","Tuscaloosa","Tustin","Twin Falls","Tyler","Union City","University","Upland","Urbana","Urbandale","Utica","Vacaville","Valdosta","Vallejo","Vancouver","Victoria","Victorville","Vineland","Virginia Beach","Visalia","Vista","Waco","Waipahu","Waldorf","Walnut Creek","Waltham","Warner Robins","Warren","Warwick","Washington","Waterbury","Waterloo","Watsonville","Waukegan","Waukesha","Wauwatosa","Wellington","Wesley Chapel","West Allis","West Babylon","West Covina","West Des Moines","West Hartford","West Haven","West Jordan","West Lafayette","West New York","West Palm Beach","West Sacramento","West Seneca","West Valley City","Westfield","Westland","Westminster","Weston","Weymouth Town","Wheaton","White Plains","Whittier","Wichita","Wichita Falls","Wilmington","Wilson","Winston-Salem","Woodbury","Woodland","Worcester","Wylie","Wyoming","Yakima","Yonkers","Yorba Linda","York","Youngstown","Yuba City","Yucaipa","Yuma"],Fz=["{{location.city_prefix}} {{person.first_name.generic}}{{location.city_suffix}}","{{location.city_prefix}} {{person.first_name.generic}}","{{person.first_name.generic}}{{location.city_suffix}}","{{person.last_name.generic}}{{location.city_suffix}}","{{location.city_name}}"],Sz=["North","East","West","South","New","Lake","Port","Fort"],xz=["town","ton","land","ville","berg","burgh","boro","borough","bury","view","port","mouth","stad","stead","furt","chester","cester","fort","field","haven","side","shire","worth"],kz=["Africa","Antarctica","Asia","Australia","Europe","North America","South America"],Ez=["Afghanistan","Aland Islands","Albania","Algeria","American Samoa","Andorra","Angola","Anguilla","Antarctica","Antigua and Barbuda","Argentina","Armenia","Aruba","Australia","Austria","Azerbaijan","Bahamas","Bahrain","Bangladesh","Barbados","Belarus","Belgium","Belize","Benin","Bermuda","Bhutan","Bolivia","Bonaire, Sint Eustatius and Saba","Bosnia and Herzegovina","Botswana","Bouvet Island","Brazil","British Indian Ocean Territory (Chagos Archipelago)","Brunei Darussalam","Bulgaria","Burkina Faso","Burundi","Cambodia","Cameroon","Canada","Cape Verde","Cayman Islands","Central African Republic","Chad","Chile","China","Christmas Island","Cocos (Keeling) Islands","Colombia","Comoros","Congo","Cook Islands","Costa Rica","Cote d'Ivoire","Croatia","Cuba","Curacao","Cyprus","Czechia","Democratic Republic of the Congo","Denmark","Djibouti","Dominica","Dominican Republic","Ecuador","Egypt","El Salvador","Equatorial Guinea","Eritrea","Estonia","Eswatini","Ethiopia","Faroe Islands","Falkland Islands (Malvinas)","Fiji","Finland","France","French Guiana","French Polynesia","French Southern Territories","Gabon","Gambia","Georgia","Germany","Ghana","Gibraltar","Greece","Greenland","Grenada","Guadeloupe","Guam","Guatemala","Guernsey","Guinea","Guinea-Bissau","Guyana","Haiti","Heard Island and McDonald Islands","Holy See (Vatican City State)","Honduras","Hong Kong","Hungary","Iceland","India","Indonesia","Iran","Iraq","Ireland","Isle of Man","Israel","Italy","Jamaica","Japan","Jersey","Jordan","Kazakhstan","Kenya","Kiribati","Democratic People's Republic of Korea","Republic of Korea","Kuwait","Kyrgyz Republic","Lao People's Democratic Republic","Latvia","Lebanon","Lesotho","Liberia","Libyan Arab Jamahiriya","Liechtenstein","Lithuania","Luxembourg","Macao","Madagascar","Malawi","Malaysia","Maldives","Mali","Malta","Marshall Islands","Martinique","Mauritania","Mauritius","Mayotte","Mexico","Micronesia","Moldova","Monaco","Mongolia","Montenegro","Montserrat","Morocco","Mozambique","Myanmar","Namibia","Nauru","Nepal","Netherlands","New Caledonia","New Zealand","Nicaragua","Niger","Nigeria","Niue","Norfolk Island","North Macedonia","Northern Mariana Islands","Norway","Oman","Pakistan","Palau","Palestine","Panama","Papua New Guinea","Paraguay","Peru","Philippines","Pitcairn Islands","Poland","Portugal","Puerto Rico","Qatar","Reunion","Romania","Russian Federation","Rwanda","Saint Barthelemy","Saint Helena","Saint Kitts and Nevis","Saint Lucia","Saint Martin","Saint Pierre and Miquelon","Saint Vincent and the Grenadines","Samoa","San Marino","Sao Tome and Principe","Saudi Arabia","Senegal","Serbia","Seychelles","Sierra Leone","Singapore","Sint Maarten","Slovakia","Slovenia","Solomon Islands","Somalia","South Africa","South Georgia and the South Sandwich Islands","South Sudan","Spain","Sri Lanka","Sudan","Suriname","Svalbard & Jan Mayen Islands","Sweden","Switzerland","Syrian Arab Republic","Taiwan","Tajikistan","Tanzania","Thailand","Timor-Leste","Togo","Tokelau","Tonga","Trinidad and Tobago","Tunisia","Turkey","Turkmenistan","Turks and Caicos Islands","Tuvalu","Uganda","Ukraine","United Arab Emirates","United Kingdom","United States of America","United States Minor Outlying Islands","Uruguay","Uzbekistan","Vanuatu","Venezuela","Vietnam","Virgin Islands, British","Virgin Islands, U.S.","Wallis and Futuna","Western Sahara","Yemen","Zambia","Zimbabwe"],Rz=["Adams County","Calhoun County","Carroll County","Clark County","Clay County","Crawford County","Douglas County","Fayette County","Franklin County","Grant County","Greene County","Hamilton County","Hancock County","Henry County","Jackson County","Jefferson County","Johnson County","Lake County","Lawrence County","Lee County","Lincoln County","Logan County","Madison County","Marion County","Marshall County","Monroe County","Montgomery County","Morgan County","Perry County","Pike County","Polk County","Scott County","Union County","Warren County","Washington County","Wayne County","Avon","Bedfordshire","Berkshire","Borders","Buckinghamshire","Cambridgeshire","Central","Cheshire","Cleveland","Clwyd","Cornwall","County Antrim","County Armagh","County Down","County Fermanagh","County Londonderry","County Tyrone","Cumbria","Derbyshire","Devon","Dorset","Dumfries and Galloway","Durham","Dyfed","East Sussex","Essex","Fife","Gloucestershire","Grampian","Greater Manchester","Gwent","Gwynedd County","Hampshire","Herefordshire","Hertfordshire","Highlands and Islands","Humberside","Isle of Wight","Kent","Lancashire","Leicestershire","Lincolnshire","Lothian","Merseyside","Mid Glamorgan","Norfolk","North Yorkshire","Northamptonshire","Northumberland","Nottinghamshire","Oxfordshire","Powys","Rutland","Shropshire","Somerset","South Glamorgan","South Yorkshire","Staffordshire","Strathclyde","Suffolk","Surrey","Tayside","Tyne and Wear","Warwickshire","West Glamorgan","West Midlands","West Sussex","West Yorkshire","Wiltshire","Worcestershire"],_z={cardinal:["North","East","South","West"],cardinal_abbr:["N","E","S","W"],ordinal:["Northeast","Northwest","Southeast","Southwest"],ordinal_abbr:["NE","NW","SE","SW"]},Az=[{name:"Afrikaans",alpha2:"af",alpha3:"afr"},{name:"Azerbaijani",alpha2:"az",alpha3:"aze"},{name:"Maldivian",alpha2:"dv",alpha3:"div"},{name:"Farsi/Persian",alpha2:"fa",alpha3:"fas"},{name:"Latvian",alpha2:"lv",alpha3:"lav"},{name:"Indonesian",alpha2:"id",alpha3:"ind"},{name:"Nepali",alpha2:"ne",alpha3:"nep"},{name:"Thai",alpha2:"th",alpha3:"tha"},{name:"Uzbek",alpha2:"uz",alpha3:"uzb"},{name:"Yoruba",alpha2:"yo",alpha3:"yor"},{name:"Pashto",alpha2:"ps",alpha3:"pus"},{name:"English",alpha2:"en",alpha3:"eng"},{name:"Urdu",alpha2:"ur",alpha3:"urd"},{name:"German",alpha2:"de",alpha3:"deu"},{name:"French",alpha2:"fr",alpha3:"fra"},{name:"Spanish",alpha2:"es",alpha3:"spa"},{name:"Italian",alpha2:"it",alpha3:"ita"},{name:"Dutch",alpha2:"nl",alpha3:"nld"},{name:"Russian",alpha2:"ru",alpha3:"rus"},{name:"Portuguese",alpha2:"pt",alpha3:"por"},{name:"Polish",alpha2:"pl",alpha3:"pol"},{name:"Arabic",alpha2:"ar",alpha3:"ara"},{name:"Japanese",alpha2:"ja",alpha3:"jpn"},{name:"Chinese",alpha2:"zh",alpha3:"zho"},{name:"Hindi",alpha2:"hi",alpha3:"hin"},{name:"Bengali",alpha2:"bn",alpha3:"ben"},{name:"Gujarati",alpha2:"gu",alpha3:"guj"},{name:"Tamil",alpha2:"ta",alpha3:"tam"},{name:"Telugu",alpha2:"te",alpha3:"tel"},{name:"Punjabi",alpha2:"pa",alpha3:"pan"},{name:"Vietnamese",alpha2:"vi",alpha3:"vie"},{name:"Korean",alpha2:"ko",alpha3:"kor"},{name:"Turkish",alpha2:"tr",alpha3:"tur"},{name:"Swedish",alpha2:"sv",alpha3:"swe"},{name:"Greek",alpha2:"el",alpha3:"ell"},{name:"Czech",alpha2:"cs",alpha3:"ces"},{name:"Hungarian",alpha2:"hu",alpha3:"hun"},{name:"Romanian",alpha2:"ro",alpha3:"ron"},{name:"Ukrainian",alpha2:"uk",alpha3:"ukr"},{name:"Norwegian",alpha2:"no",alpha3:"nor"},{name:"Serbian",alpha2:"sr",alpha3:"srp"},{name:"Croatian",alpha2:"hr",alpha3:"hrv"},{name:"Slovak",alpha2:"sk",alpha3:"slk"},{name:"Slovenian",alpha2:"sl",alpha3:"slv"},{name:"Icelandic",alpha2:"is",alpha3:"isl"},{name:"Finnish",alpha2:"fi",alpha3:"fin"},{name:"Danish",alpha2:"da",alpha3:"dan"},{name:"Swahili",alpha2:"sw",alpha3:"swa"},{name:"Bashkir",alpha2:"ba",alpha3:"bak"},{name:"Basque",alpha2:"eu",alpha3:"eus"},{name:"Catalan",alpha2:"ca",alpha3:"cat"},{name:"Galician",alpha2:"gl",alpha3:"glg"},{name:"Esperanto",alpha2:"eo",alpha3:"epo"},{name:"Fijian",alpha2:"fj",alpha3:"fij"},{name:"Malagasy",alpha2:"mg",alpha3:"mlg"},{name:"Maltese",alpha2:"mt",alpha3:"mlt"},{name:"Albanian",alpha2:"sq",alpha3:"sqi"},{name:"Armenian",alpha2:"hy",alpha3:"hye"},{name:"Georgian",alpha2:"ka",alpha3:"kat"},{name:"Macedonian",alpha2:"mk",alpha3:"mkd"},{name:"Kazakh",alpha2:"kk",alpha3:"kaz"},{name:"Haitian Creole",alpha2:"ht",alpha3:"hat"},{name:"Mongolian",alpha2:"mn",alpha3:"mon"},{name:"Kyrgyz",alpha2:"ky",alpha3:"kir"},{name:"Finnish",alpha2:"fi",alpha3:"fin"},{name:"Tagalog",alpha2:"tl",alpha3:"tgl"},{name:"Malay",alpha2:"ms",alpha3:"msa"},{name:"Tajik",alpha2:"tg",alpha3:"tgk"},{name:"Swati",alpha2:"ss",alpha3:"ssw"},{name:"Tatar",alpha2:"tt",alpha3:"tat"},{name:"Zulu",alpha2:"zu",alpha3:"zul"}],Tz=["#####","#####-####"],Dz=["Apt. ###","Suite ###"],Mz=["Alabama","Alaska","Arizona","Arkansas","California","Colorado","Connecticut","Delaware","Florida","Georgia","Hawaii","Idaho","Illinois","Indiana","Iowa","Kansas","Kentucky","Louisiana","Maine","Maryland","Massachusetts","Michigan","Minnesota","Mississippi","Missouri","Montana","Nebraska","Nevada","New Hampshire","New Jersey","New Mexico","New York","North Carolina","North Dakota","Ohio","Oklahoma","Oregon","Pennsylvania","Rhode Island","South Carolina","South Dakota","Tennessee","Texas","Utah","Vermont","Virginia","Washington","West Virginia","Wisconsin","Wyoming"],Pz=["AL","AK","AZ","AR","CA","CO","CT","DE","FL","GA","HI","ID","IL","IN","IA","KS","KY","LA","ME","MD","MA","MI","MN","MS","MO","MT","NE","NV","NH","NJ","NM","NY","NC","ND","OH","OK","OR","PA","RI","SC","SD","TN","TX","UT","VT","VA","WA","WV","WI","WY"],Iz={normal:"{{location.buildingNumber}} {{location.street}}",full:"{{location.buildingNumber}} {{location.street}} {{location.secondaryAddress}}"},Bz=["10th Street","11th Street","12th Street","13th Street","14th Street","15th Street","16th Street","1st Avenue","1st Street","2nd Avenue","2nd Street","3rd Avenue","3rd Street","4th Avenue","4th Street","5th Avenue","5th Street","6th Avenue","6th Street","7th Avenue","7th Street","8th Avenue","8th Street","9th Street","A Street","Abbey Road","Adams Avenue","Adams Street","Airport Road","Albany Road","Albert Road","Albion Street","Alexandra Road","Alfred Street","Alma Street","Ash Close","Ash Grove","Ash Road","Ash Street","Aspen Close","Atlantic Avenue","Avenue Road","Back Lane","Baker Street","Balmoral Road","Barn Close","Barton Road","Bath Road","Bath Street","Bay Street","Beach Road","Bedford Road","Beech Close","Beech Drive","Beech Grove","Beech Road","Beechwood Avenue","Bell Lane","Belmont Road","Birch Avenue","Birch Close","Birch Grove","Birch Road","Blind Lane","Bluebell Close","Boundary Road","Bramble Close","Bramley Close","Bridge Road","Bridge Street","Broad Lane","Broad Street","Broadway","Broadway Avenue","Broadway Street","Brook Lane","Brook Road","Brook Street","Brookside","Buckingham Road","Cambridge Street","Canal Street","Castle Close","Castle Lane","Castle Road","Castle Street","Cavendish Road","Cedar Avenue","Cedar Close","Cedar Grove","Cedar Road","Cedar Street","Cemetery Road","Center Avenue","Center Road","Center Street","Central Avenue","Central Street","Chapel Close","Chapel Hill","Chapel Road","Chapel Street","Charles Street","Cherry Close","Cherry Street","Cherry Tree Close","Chester Road","Chestnut Close","Chestnut Drive","Chestnut Grove","Chestnut Street","Church Avenue","Church Close","Church Hill","Church Lane","Church Path","Church Road","Church Street","Church View","Church Walk","Claremont Road","Clarence Road","Clarence Street","Clarendon Road","Clark Street","Clay Lane","Cleveland Street","Cliff Road","Clifton Road","Clinton Street","College Avenue","College Street","Columbia Avenue","Commerce Street","Commercial Road","Commercial Street","Common Lane","Coronation Avenue","Coronation Road","County Line Road","County Road","Court Street","Cow Lane","Crescent Road","Cromwell Road","Cross Lane","Cross Street","Crown Street","Cumberland Street","Dale Street","Dark Lane","Davis Street","Depot Street","Derby Road","Derwent Close","Devonshire Road","Division Street","Douglas Road","Duke Street","E 10th Street","E 11th Street","E 12th Street","E 14th Street","E 1st Street","E 2nd Street","E 3rd Street","E 4th Avenue","E 4th Street","E 5th Street","E 6th Avenue","E 6th Street","E 7th Street","E 8th Street","E 9th Street","E Bridge Street","E Broad Street","E Broadway","E Broadway Street","E Cedar Street","E Center Street","E Central Avenue","E Church Street","E Elm Street","E Franklin Street","E Front Street","E Grand Avenue","E High Street","E Jackson Street","E Jefferson Street","E Main","E Main Street","E Maple Street","E Market Street","E North Street","E Oak Street","E Park Avenue","E Pine Street","E River Road","E South Street","E State Street","E Union Street","E Walnut Street","E Washington Avenue","E Washington Street","E Water Street","East Avenue","East Road","East Street","Edward Street","Elm Close","Elm Grove","Elm Road","Elm Street","Euclid Avenue","Fairfield Road","Farm Close","Ferry Road","Field Close","Field Lane","First Avenue","First Street","Fore Street","Forest Avenue","Forest Road","Fourth Avenue","Franklin Avenue","Franklin Road","Franklin Street","Front Street","Frontage Road","Garden Close","Garden Street","George Street","Gladstone Road","Glebe Close","Gloucester Road","Gordon Road","Gordon Street","Grand Avenue","Grange Avenue","Grange Close","Grange Road","Grant Street","Green Close","Green Lane","Green Street","Greenville Road","Greenway","Greenwood Road","Grove Lane","Grove Road","Grove Street","Hall Lane","Hall Street","Harrison Avenue","Harrison Street","Hawthorn Avenue","Hawthorn Close","Hazel Close","Hazel Grove","Heath Road","Heather Close","Henry Street","Heron Close","Hickory Street","High Road","High Street","Highfield Avenue","Highfield Close","Highfield Road","Highland Avenue","Hill Road","Hill Street","Hillside","Hillside Avenue","Hillside Close","Hillside Road","Holly Close","Honeysuckle Close","Howard Road","Howard Street","Jackson Avenue","Jackson Street","James Street","Jefferson Avenue","Jefferson Street","Johnson Street","Jubilee Close","Juniper Close","Kent Road","Kestrel Close","King Street","King's Road","Kingfisher Close","Kings Highway","Kingsway","Laburnum Grove","Lafayette Street","Lake Avenue","Lake Drive","Lake Road","Lake Street","Lancaster Road","Lansdowne Road","Larch Close","Laurel Close","Lawrence Street","Lee Street","Liberty Street","Lime Grove","Lincoln Avenue","Lincoln Highway","Lincoln Road","Lincoln Street","Locust Street","Lodge Close","Lodge Lane","London Road","Long Lane","Low Road","Madison Avenue","Madison Street","Main","Main Avenue","Main Road","Main Street","Main Street E","Main Street N","Main Street S","Main Street W","Manchester Road","Manor Close","Manor Drive","Manor Gardens","Manor Road","Manor Way","Maple Avenue","Maple Close","Maple Drive","Maple Road","Maple Street","Market Place","Market Square","Market Street","Marlborough Road","Marsh Lane","Martin Luther King Boulevard","Martin Luther King Drive","Martin Luther King Jr Boulevard","Mary Street","Mayfield Road","Meadow Close","Meadow Drive","Meadow Lane","Meadow View","Meadow Way","Memorial Drive","Middle Street","Mill Close","Mill Lane","Mill Road","Mill Street","Milton Road","Milton Street","Monroe Street","Moor Lane","Moss Lane","Mount Pleasant","Mount Street","Mulberry Street","N 1st Street","N 2nd Street","N 3rd Street","N 4th Street","N 5th Street","N 6th Street","N 7th Street","N 8th Street","N 9th Street","N Bridge Street","N Broad Street","N Broadway","N Broadway Street","N Cedar Street","N Center Street","N Central Avenue","N Chestnut Street","N Church Street","N College Street","N Court Street","N Division Street","N East Street","N Elm Street","N Franklin Street","N Front Street","N Harrison Street","N High Street","N Jackson Street","N Jefferson Street","N Lincoln Street","N Locust Street","N Main","N Main Avenue","N Main Street","N Maple Street","N Market Street","N Monroe Street","N Oak Street","N Park Street","N Pearl Street","N Pine Street","N Poplar Street","N Railroad Street","N State Street","N Union Street","N Walnut Street","N Washington Avenue","N Washington Street","N Water Street","Nelson Road","Nelson Street","New Lane","New Road","New Street","Newton Road","Nightingale Close","Norfolk Road","North Avenue","North Lane","North Road","North Street","Northfield Road","Oak Avenue","Oak Drive","Oak Lane","Oak Road","Oak Street","Oakfield Road","Oaklands","Old Lane","Old Military Road","Old Road","Old State Road","Orchard Drive","Orchard Lane","Orchard Road","Orchard Street","Oxford Road","Oxford Street","Park Avenue","Park Crescent","Park Drive","Park Lane","Park Place","Park Road","Park Street","Park View","Parkside","Pearl Street","Pennsylvania Avenue","Pine Close","Pine Grove","Pine Street","Pinfold Lane","Pleasant Street","Poplar Avenue","Poplar Close","Poplar Road","Poplar Street","Post Road","Pound Lane","Princes Street","Princess Street","Priory Close","Priory Road","Prospect Avenue","Prospect Place","Prospect Road","Prospect Street","Quarry Lane","Quarry Road","Queen's Road","Railroad Avenue","Railroad Street","Railway Street","Rectory Close","Rectory Lane","Richmond Close","Richmond Road","Ridge Road","River Road","River Street","Riverside","Riverside Avenue","Riverside Drive","Roman Road","Roman Way","Rowan Close","Russell Street","S 10th Street","S 14th Street","S 1st Avenue","S 1st Street","S 2nd Street","S 3rd Street","S 4th Street","S 5th Street","S 6th Street","S 7th Street","S 8th Street","S 9th Street","S Bridge Street","S Broad Street","S Broadway","S Broadway Street","S Center Street","S Central Avenue","S Chestnut Street","S Church Street","S College Street","S Division Street","S East Street","S Elm Street","S Franklin Street","S Front Street","S Grand Avenue","S High Street","S Jackson Street","S Jefferson Street","S Lincoln Street","S Main","S Main Avenue","S Main Street","S Maple Street","S Market Street","S Mill Street","S Monroe Street","S Oak Street","S Park Street","S Pine Street","S Railroad Street","S State Street","S Union Street","S Walnut Street","S Washington Avenue","S Washington Street","S Water Street","S West Street","Salisbury Road","Sandringham Road","Sandy Lane","School Close","School Lane","School Road","School Street","Second Avenue","Silver Street","Skyline Drive","Smith Street","Somerset Road","South Avenue","South Drive","South Road","South Street","South View","Spring Gardens","Spring Street","Springfield Close","Springfield Road","Spruce Street","St Andrew's Road","St Andrews Close","St George's Road","St John's Road","St Mary's Close","St Mary's Road","Stanley Road","Stanley Street","State Avenue","State Line Road","State Road","State Street","Station Road","Station Street","Stoney Lane","Sycamore Avenue","Sycamore Close","Sycamore Drive","Sycamore Street","Talbot Road","Tennyson Road","The Avenue","The Beeches","The Causeway","The Chase","The Coppice","The Copse","The Crescent","The Croft","The Dell","The Drive","The Fairway","The Glebe","The Grange","The Green","The Grove","The Hawthorns","The Lane","The Laurels","The Limes","The Maltings","The Meadows","The Mews","The Mount","The Oaks","The Orchard","The Oval","The Paddock","The Paddocks","The Poplars","The Ridgeway","The Ridings","The Rise","The Sidings","The Spinney","The Square","The Willows","The Woodlands","Third Avenue","Third Street","Tower Road","Trinity Road","Tudor Close","Union Avenue","Union Street","University Avenue","University Drive","Valley Road","Veterans Memorial Drive","Veterans Memorial Highway","Vicarage Close","Vicarage Lane","Vicarage Road","Victoria Place","Victoria Road","Victoria Street","Vine Street","W 10th Street","W 11th Street","W 12th Street","W 14th Street","W 1st Street","W 2nd Street","W 3rd Street","W 4th Avenue","W 4th Street","W 5th Street","W 6th Avenue","W 6th Street","W 7th Street","W 8th Street","W 9th Street","W Bridge Street","W Broad Street","W Broadway","W Broadway Avenue","W Broadway Street","W Center Street","W Central Avenue","W Chestnut Street","W Church Street","W Division Street","W Elm Street","W Franklin Street","W Front Street","W Grand Avenue","W High Street","W Jackson Street","W Jefferson Street","W Lake Street","W Main","W Main Street","W Maple Street","W Market Street","W Monroe Street","W North Street","W Oak Street","W Park Street","W Pine Street","W River Road","W South Street","W State Street","W Union Street","W Walnut Street","W Washington Avenue","W Washington Street","Walnut Close","Walnut Street","Warren Close","Warren Road","Washington Avenue","Washington Boulevard","Washington Road","Washington Street","Water Lane","Water Street","Waterloo Road","Waterside","Watery Lane","Waverley Road","Well Lane","Wellington Road","Wellington Street","West Avenue","West End","West Lane","West Road","West Street","West View","Western Avenue","Western Road","Westfield Road","Westgate","William Street","Willow Close","Willow Drive","Willow Grove","Willow Road","Willow Street","Windermere Road","Windmill Close","Windmill Lane","Windsor Avenue","Windsor Close","Windsor Drive","Wood Lane","Wood Street","Woodland Close","Woodland Road","Woodlands","Woodlands Avenue","Woodlands Close","Woodlands Road","Woodside","Woodside Road","Wren Close","Yew Tree Close","York Road","York Street"],Lz=["{{person.first_name.generic}} {{location.street_suffix}}","{{person.last_name.generic}} {{location.street_suffix}}","{{location.street_name}}"],Nz=["Alley","Avenue","Branch","Bridge","Brook","Brooks","Burg","Burgs","Bypass","Camp","Canyon","Cape","Causeway","Center","Centers","Circle","Circles","Cliff","Cliffs","Club","Common","Corner","Corners","Course","Court","Courts","Cove","Coves","Creek","Crescent","Crest","Crossing","Crossroad","Curve","Dale","Dam","Divide","Drive","Drives","Estate","Estates","Expressway","Extension","Extensions","Fall","Falls","Ferry","Field","Fields","Flat","Flats","Ford","Fords","Forest","Forge","Forges","Fork","Forks","Fort","Freeway","Garden","Gardens","Gateway","Glen","Glens","Green","Greens","Grove","Groves","Harbor","Harbors","Haven","Heights","Highway","Hill","Hills","Hollow","Inlet","Island","Islands","Isle","Junction","Junctions","Key","Keys","Knoll","Knolls","Lake","Lakes","Land","Landing","Lane","Light","Lights","Loaf","Lock","Locks","Lodge","Loop","Mall","Manor","Manors","Meadow","Meadows","Mews","Mill","Mills","Mission","Motorway","Mount","Mountain","Mountains","Neck","Orchard","Oval","Overpass","Park","Parks","Parkway","Parkways","Pass","Passage","Path","Pike","Pine","Pines","Place","Plain","Plains","Plaza","Point","Points","Port","Ports","Prairie","Radial","Ramp","Ranch","Rapid","Rapids","Rest","Ridge","Ridges","River","Road","Roads","Route","Row","Rue","Run","Shoal","Shoals","Shore","Shores","Skyway","Spring","Springs","Spur","Spurs","Square","Squares","Station","Stravenue","Stream","Street","Streets","Summit","Terrace","Throughway","Trace","Track","Trafficway","Trail","Tunnel","Turnpike","Underpass","Union","Unions","Valley","Valleys","Via","Viaduct","View","Views","Village","Villages","Ville","Vista","Walk","Walks","Wall","Way","Ways","Well","Wells"],Oz={building_number:wz,city_name:Cz,city_pattern:Fz,city_prefix:Sz,city_suffix:xz,continent:kz,country:Ez,county:Rz,direction:_z,language:Az,postcode:Tz,secondary_address:Dz,state:Mz,state_abbr:Pz,street_address:Iz,street_name:Bz,street_pattern:Lz,street_suffix:Nz},Hz=Oz,Gz=["a","ab","abbas","abduco","abeo","abscido","absconditus","absens","absorbeo","absque","abstergo","absum","abundans","abutor","accedo","accendo","acceptus","accommodo","accusamus","accusantium","accusator","acer","acerbitas","acervus","acidus","acies","acquiro","acsi","ad","adamo","adaugeo","addo","adduco","ademptio","adeo","adeptio","adfectus","adfero","adficio","adflicto","adhaero","adhuc","adicio","adimpleo","adinventitias","adipisci","adipiscor","adiuvo","administratio","admiratio","admitto","admoneo","admoveo","adnuo","adopto","adsidue","adstringo","adsuesco","adsum","adulatio","adulescens","aduro","advenio","adversus","advoco","aedificium","aeger","aegre","aegrotatio","aegrus","aeneus","aequitas","aequus","aer","aestas","aestivus","aestus","aetas","aeternus","ager","aggero","aggredior","agnitio","agnosco","ago","ait","aiunt","alias","alienus","alii","alioqui","aliqua","aliquam","aliquid","alius","allatus","alo","alter","altus","alveus","amaritudo","ambitus","ambulo","amet","amicitia","amiculum","amissio","amita","amitto","amo","amor","amoveo","amplexus","amplitudo","amplus","ancilla","angelus","angulus","angustus","animadverto","animi","animus","annus","anser","ante","antea","antepono","antiquus","aperiam","aperio","aperte","apostolus","apparatus","appello","appono","appositus","approbo","apto","aptus","apud","aqua","ara","aranea","arbitro","arbor","arbustum","arca","arceo","arcesso","architecto","arcus","argentum","argumentum","arguo","arma","armarium","aro","ars","articulus","artificiose","arto","arx","ascisco","ascit","asper","asperiores","aspernatur","aspicio","asporto","assentator","assumenda","astrum","at","atavus","ater","atque","atqui","atrocitas","atrox","attero","attollo","attonbitus","auctor","auctus","audacia","audax","audentia","audeo","audio","auditor","aufero","aureus","aurum","aut","autem","autus","auxilium","avaritia","avarus","aveho","averto","baiulus","balbus","barba","bardus","basium","beatae","beatus","bellicus","bellum","bene","beneficium","benevolentia","benigne","bestia","bibo","bis","blandior","blanditiis","bonus","bos","brevis","cado","caecus","caelestis","caelum","calamitas","calcar","calco","calculus","callide","campana","candidus","canis","canonicus","canto","capillus","capio","capitulus","capto","caput","carbo","carcer","careo","caries","cariosus","caritas","carmen","carpo","carus","casso","caste","casus","catena","caterva","cattus","cauda","causa","caute","caveo","cavus","cedo","celebrer","celer","celo","cena","cenaculum","ceno","censura","centum","cerno","cernuus","certe","certus","cervus","cetera","charisma","chirographum","cibo","cibus","cicuta","cilicium","cimentarius","ciminatio","cinis","circumvenio","cito","civis","civitas","clam","clamo","claro","clarus","claudeo","claustrum","clementia","clibanus","coadunatio","coaegresco","coepi","coerceo","cogito","cognatus","cognomen","cogo","cohaero","cohibeo","cohors","colligo","collum","colo","color","coma","combibo","comburo","comedo","comes","cometes","comis","comitatus","commemoro","comminor","commodi","commodo","communis","comparo","compello","complectus","compono","comprehendo","comptus","conatus","concedo","concido","conculco","condico","conduco","confero","confido","conforto","confugo","congregatio","conicio","coniecto","conitor","coniuratio","conor","conqueror","conscendo","consectetur","consequatur","consequuntur","conservo","considero","conspergo","constans","consuasor","contabesco","contego","contigo","contra","conturbo","conventus","convoco","copia","copiose","cornu","corona","corporis","corpus","correptius","corrigo","corroboro","corrumpo","corrupti","coruscus","cotidie","crapula","cras","crastinus","creator","creber","crebro","credo","creo","creptio","crepusculum","cresco","creta","cribro","crinis","cruciamentum","crudelis","cruentus","crur","crustulum","crux","cubicularis","cubitum","cubo","cui","cuius","culpa","culpo","cultellus","cultura","cum","cumque","cunabula","cunae","cunctatio","cupiditas","cupiditate","cupio","cuppedia","cupressus","cur","cura","curatio","curia","curiositas","curis","curo","curriculum","currus","cursim","curso","cursus","curto","curtus","curvo","custodia","damnatio","damno","dapifer","debeo","debilito","debitis","decens","decerno","decet","decimus","decipio","decor","decretum","decumbo","dedecor","dedico","deduco","defaeco","defendo","defero","defessus","defetiscor","deficio","defleo","defluo","defungo","degenero","degero","degusto","deinde","delectatio","delectus","delego","deleniti","deleo","delibero","delicate","delinquo","deludo","demens","demergo","demitto","demo","demonstro","demoror","demulceo","demum","denego","denique","dens","denuncio","denuo","deorsum","depereo","depono","depopulo","deporto","depraedor","deprecator","deprimo","depromo","depulso","deputo","derelinquo","derideo","deripio","deserunt","desidero","desino","desipio","desolo","desparatus","despecto","dicta","dignissimos","distinctio","dolor","dolore","dolorem","doloremque","dolores","doloribus","dolorum","ducimus","ea","eaque","earum","eius","eligendi","enim","eos","error","esse","est","et","eum","eveniet","ex","excepturi","exercitationem","expedita","explicabo","facere","facilis","fuga","fugiat","fugit","harum","hic","id","illo","illum","impedit","in","incidunt","infit","inflammatio","inventore","ipsa","ipsam","ipsum","iste","itaque","iure","iusto","labore","laboriosam","laborum","laudantium","libero","magnam","magni","maiores","maxime","minima","minus","modi","molestiae","molestias","mollitia","nam","natus","necessitatibus","nemo","neque","nesciunt","nihil","nisi","nobis","non","nostrum","nulla","numquam","occaecati","ocer","odio","odit","officia","officiis","omnis","optio","paens","pariatur","patior","patria","patrocinor","patruus","pauci","paulatim","pauper","pax","peccatus","pecco","pecto","pectus","pecus","peior","pel","perferendis","perspiciatis","placeat","porro","possimus","praesentium","provident","quae","quaerat","quam","quas","quasi","qui","quia","quibusdam","quidem","quis","quisquam","quo","quod","quos","ratione","recusandae","reiciendis","rem","repellat","repellendus","reprehenderit","repudiandae","rerum","saepe","sapiente","sed","sequi","similique","sint","sit","socius","sodalitas","sol","soleo","solio","solitudo","solium","sollers","sollicito","solum","solus","soluta","solutio","solvo","somniculosus","somnus","sonitus","sono","sophismata","sopor","sordeo","sortitus","spargo","speciosus","spectaculum","speculum","sperno","spero","spes","spiculum","spiritus","spoliatio","sponte","stabilis","statim","statua","stella","stillicidium","stipes","stips","sto","strenuus","strues","studio","stultus","suadeo","suasoria","sub","subito","subiungo","sublime","subnecto","subseco","substantia","subvenio","succedo","succurro","sufficio","suffoco","suffragium","suggero","sui","sulum","sum","summa","summisse","summopere","sumo","sumptus","sunt","supellex","super","suppellex","supplanto","suppono","supra","surculus","surgo","sursum","suscipio","suscipit","suspendo","sustineo","suus","synagoga","tabella","tabernus","tabesco","tabgo","tabula","taceo","tactus","taedium","talio","talis","talus","tam","tamdiu","tamen","tametsi","tamisium","tamquam","tandem","tantillus","tantum","tardus","tego","temeritas","temperantia","templum","tempora","tempore","temporibus","temptatio","tempus","tenax","tendo","teneo","tener","tenetur","tenuis","tenus","tepesco","tepidus","ter","terebro","teres","terga","tergeo","tergiversatio","tergo","tergum","termes","terminatio","tero","terra","terreo","territo","terror","tersus","tertius","testimonium","texo","textilis","textor","textus","thalassinus","theatrum","theca","thema","theologus","thermae","thesaurus","thesis","thorax","thymbra","thymum","tibi","timidus","timor","titulus","tolero","tollo","tondeo","tonsor","torqueo","torrens","tot","totam","totidem","toties","totus","tracto","trado","traho","trans","tredecim","tremo","trepide","tres","tribuo","tricesimus","triduana","tripudio","tristis","triumphus","trucido","truculenter","tubineus","tui","tum","tumultus","tunc","turba","turbo","turpis","tutamen","tutis","tyrannus","uberrime","ubi","ulciscor","ullam","ullus","ulterius","ultio","ultra","umbra","umerus","umquam","una","unde","undique","universe","unus","urbanus","urbs","uredo","usitas","usque","ustilo","ustulo","usus","ut","uter","uterque","utilis","utique","utor","utpote","utrimque","utroque","utrum","uxor","vaco","vacuus","vado","vae","valde","valens","valeo","valetudo","validus","vallum","vapulus","varietas","varius","vehemens","vel","velit","velociter","velum","velut","venia","veniam","venio","ventito","ventosus","ventus","venustas","ver","verbera","verbum","vere","verecundia","vereor","vergo","veritas","veritatis","vero","versus","verto","verumtamen","verus","vesco","vesica","vesper","vespillo","vester","vestigium","vestrum","vetus","via","vicinus","vicissitudo","victoria","victus","videlicet","video","viduo","vigilo","vigor","vilicus","vilis","vilitas","villa","vinco","vinculum","vindico","vinitor","vinum","vir","virga","virgo","viridis","viriliter","virtus","vis","viscus","vita","vitae","vitiosus","vitium","vito","vivo","vix","vobis","vociferor","voco","volaticus","volo","volubilis","voluntarius","volup","voluptas","voluptate","voluptatem","voluptates","voluptatibus","voluptatum","volutabrum","volva","vomer","vomica","vomito","vorago","vorax","voro","vos","votum","voveo","vox","vulariter","vulgaris","vulgivagus","vulgo","vulgus","vulnero","vulnus","vulpes","vulticulus","xiphias"],jz={word:Gz},zz=jz,Vz={title:"English",code:"en",language:"en",endonym:"English",dir:"ltr",script:"Latn"},Wz=Vz,$z=['"Awaken, My Love!"',"(What's The Story) Morning Glory?","- Tragedy +","13 Reasons Why (Season 3)","21st Century Breakdown","30 De Febrero","432 Hz Deep Healing","5-Star","528 Hz Meditation Music","54+1","8 Mile","808s & Heartbreak","9 To 5 And Odd Jobs","A Beautiful Lie","A Day At The Races","A Day Without Rain","A Fever You Can't Sweat Out","A Gangsta's Pain","A Gift & A Curse","A Hard Day's Night","A Head Full Of Dreams","A Kind Of Magic","A Million Ways To Murder","A Moment Apart","A Song For Every Moon","A Thousand Suns","A Winter Romance","ABBA","AI YoungBoy","AJ Tracey","Act One","After Hours","Agent Provocateur","All About You","All I Know So Far: Setlist","All Or Nothing","All Out","All Over The Place","All Stand Together","All The Lost Souls","All The Things I Never Said","All Things Must Pass","Alleen","Alright, Still","Alta Suciedad","America","American Heartbreak","American Teen","And Justice For None","Animal Songs","Another Friday Night","Anything Goes","Ao Vivo Em So Paulo","Ao Vivo No Ibirapuera","Apricot Princess","Aqui E Agora (Ao Vivo)","Arcane League Of Legends","Ardipithecus","Aretha Now","Around The Fur","Arrival","Artist 2.0","As She Pleases","Ascend","Ashlyn","Astro Lounge","At Night, Alone.","At. Long. Last. ASAP","Atlas","Audioslave","Aura","Austin","Awake","Away From The Sun","Ayayay!","Baby On Baby","Back For Everything","Back From The Edge","Back In Black","Back To Black","Back To The Game","Bad","Baha Ducati","Baila","Barbie The Album","Battleground","Bayou Country","Bcos U Will Never B Free","Be","Be Here Now","Beautiful Mind","Beautiful Thugger Girls","Beautiful Trauma","Beauty And The Beast","Beggars Banquet","Being Funny In A Foreign Language","Berlin Lebt","Berry Is On Top","Best White Noise For Baby Sleep - Loopable With No Fade","Big Baby DRAM","Bigger, Better, Faster, More!","Billy Talent II","Black Star Elephant","Blackout","Blank Face LP","Bleach","Blizzard Of Ozz","Blonde","Blood Sugar Sex Magik","Bloom","Blowin' Your Mind!","Blu Celeste","Blue","Blue Banisters","Blue Hawaii","Blue Neighbourhood","Bluebird Days","Bobby Tarantino","Bobby Tarantino II","Bon Iver","Born Pink","Born To Run","Brand New Eyes","Break The Cycle","Breakfast In America","Breakthrough","Brett Young","Bridge Over Troubled Water","Bright: The Album","Brol","Buds","Buena Vista Social Club","Built On Glass","Bury Me At Makeout Creek","Busyhead","By The Way","CB6","CNCO","California Sunrise","Californication","Call Me Irresponsible","Calm","Camino Palmero","Camp","Caracal","Carbon Fiber Hits","Carnival","Carry On","Cartel De Santa","Certified Lover Boy","Chaaama","Chama Meu Nome","Chapter 1: Snake Oil","Chapter 2: Swamp Savant","Chapter One","Charlie's Angels","Cherry Bomb","Chief","Chocolate Factory","Chosen","Chris Brown","Christina Aguilera","Chromatica","Church","City Of Evil","Clandestino","Clouds","Coco","Collision Course","Colour Vision","Combat Rock","Come Around Sundown","Come Away With Me","Come Home The Kids Miss You","Come What(ever) May","Commando","Common Sense","Communion","Conditions","Confident","Confrontation","Control The Streets, Volume 2","Corinne Bailey Rae","Costello Music","Cottonwood","Covers, Vol. 2","Cozy Tapes Vol. 2: Too Cozy","Crash Talk","Crazy Love","Crazysexycool","Crowded House","Cruisin' With Junior H","Culture","Current Mood","DS2","Dale","Danger Days: The True Lives Of The Fabulous Killjoys","Dangerous Woman","Dangerous: The Double Album","Dark Horse","Day69","Daydream","De Fiesta","De Viaje","DeAnn","Death Race For Love","Delirium","Delta","Demidevil","Depression Cherry","Descendants","Desgenerados Mixtape","Destin","Destiny Fulfilled","Desvelado","Detroit 2","Dex Meets Dexter","Dharma","Die A Legend","Different World","Dig Your Roots","Digital Druglord","Dirt","Disclaimer I / II","Discovery","Disraeli Gears","Disumano","Dizzy Up The Girl","Don't Play That Song","Donda","Donde Quiero Estar","Doo-Wops & Hooligans","Down The Way","Dr. Feelgood","Dream Your Life Away","Dreaming Out Loud","Drip Harder","Drive","Drones","Dropped Outta College","Drowning","Dua Warna Cinta","Dulce Beat","Dusty In Memphis","Dutty Rock","Dying To Live","ENR","East Atlanta Love Letter","Editorial","Edna","El Abayarde","El Amor En Los Tiempos Del Perreo","El Camino","El Comienzo","El Dorado","El Karma","El Mal Querer","El Malo","El Trabajo Es La Suerte","El Viaje De Copperpot","Electric Ladyland","Emotion","En Tus Planes","Endless Summer Vacation","Enter The Wu-Tang (36 Chambers)","Equals (=)","Estrella","Euphoria","Europop","Evermore","Every Kingdom","Everyday Life","Evolve","Expectations","Face Yourself","Facelift","Fallin'","Fancy You","Fantasa","Favourite Worst Nightmare","Fear Of The Dark","Fearless","Feel Something","Feels Like Home","Femme Fatale","Ferxxocalipsis","Fifty Shades Darker","Fifty Shades Freed","Fifty Shades Of Grey","Final (Vol.1)","Finding Beauty In Negative Spaces","Fine Line","First Impressions Of Earth","First Steps","Five Seconds Flat","Folklore","For Emma, Forever Ago","Forajido EP 1","Forever","Forever Young","Formula Of Love: O+T=<3","Free 6lack","Freudian","Frozen II","Full Moon Fever","Funhouse","Funk Wav Bounces Vol.1","Future History","FutureSex/LoveSounds","Fuzzybrain","Gallery","Gangsta's Paradise","Gemini","Gemini Rights","Generationwhy","Get A Grip","Get Up","Gettin' Old","Girl","Gladiator","Glisten","Globalization","Gloria","Glory Days","God's Project","Gold Skies","Golden","Good Evening","Good Thing","Goodbye Yellow Brick Road","Gossip Columns","Got Your Six","Graceland","Graduation","Grand Champ","Grandson, Vol. 1","Green River","Guerra","Ha*Ash Primera Fila - Hecho Realidad","Haiz","Hamilton","Happy Endings","Harry Styles","Hasta La Raz","Hatful Of Hollow","Head In The Clouds","Heard It In A Past Life","Heart Shaped World","Heartbeat City","Heartbreak On A Full Moon / Cuffing Season - 12 Days Of Christmas","Heaven Or Hell","Heaven knows","Hellbilly Deluxe","Hellboy","Help!","Her Loss","Here Comes The Cowboy","Hey World","High School Musical","High Tide In The Snake's Nest","Historias De Un Capricornio","Hndrxx","Hombres G (Devulveme A Mi Chica)","Homerun","Homework","Hot Fuss","Hot Pink","Hot Sauce / Hello Future","Hot Space","Hotel Diablo","Houses Of The Holy","How Big, How Blue, How Beautiful","How I'm Feeling","How To Be Human","How To Save A Life","How To: Friend, Love, Freefall","Hozier","Human","Huncho Jack, Jack Huncho","Hunter Hayes","Hysteria","I Am...Sasha Fierce","I Can't Handle Change","I Met You When I Was 18. (The Playlist)","I Never Liked You","I Never Loved A Man The Way I Love You","I See You","I Think You Think Too Much Of Me","I Used To Know Her","I Used To Think I Could Fly","I'm Comin' Over","Ich & Keine Maske","If You Can Believe Your Eyes & Ears","Il Ballo Della Vita","Ill Communication","Imagination & The Misfit Kid","Imagine","Immortalized","In A Perfect World...","In Colour","In My Own Words","In Rainbows","In Return","In The Lonely Hour","Infest","Innuendo","Inter Shibuya - La Mafia","Interstellar","Is This It","It Was Written","It's Not Me, It's You","It's Only Me","Ivory","JackBoys","Jamie","Jazz","Jibrail & Iblis","Jordi","Jordin Sparks","Jose","Just As I Am","Just Cause Y'all Waited 2","Just Like You","Justified","K-12 / After School","K.I.D.S.","K.O.","K.O.B. Live","KG0516","KOD","Kane Brown","Kid A","Kid Krow","Kids See Ghosts","Kids in Love","Kinks (You Really Got Me)","Know-It-All","Konvicted","Kring","LANY","LM5","La Criatura","La Flaca","La Melodia De La Calle","La Revolucion","Lady Lady","Lady Wood","Langit Mong Bughaw","Las Que No Iban A Salir","Last Day Of Summer","Last Year Was Complicated","Layers","Layover","Lazarus","Led Zeppelin","Left Of The Middle","Leftoverture","Legends Never Die","Let's Skip To The Wedding","Let's Talk About Love","Licensed To Ill","Life In Cartoon Motion","Life Thru A Lens","Lifelines","Like..?","Lil Big Pac","Lil Boat","Lil Boat 2","Lil Boat 3.5","Lil Kiwi","Lil Pump","Limon Y Sal","Listen Without Prejudice","Little Voice","Live On Red Barn Radio I & II","Lo Que Andbamos Buscando","Lofi Fruits Music 2021","London Calling","Los Campeones Del Pueblo","Los Extraterrestres","Los Favoritos 2","Lost","Lost In Love","Loud","Love Sick","Love Story","Love Stuff","Love Yourself: Tear","Lover","Luca Brasi 2: Gangsta Grillz","Lust For Life","Luv Is Rage","M!ssundaztood","Ma Fleur","Made In Lagos","Mafia Bidness","Magazines Or Novels","Mainstream Sellout","Majestic","Make It Big","Make Yourself","Making Mirrors","Mamma Mia! Here We Go Again","Man Of The Woods","Manic","Me And My Gang","Meduza","Meet The Orphans","Meet The Woo","Melim","Mellon Collie And The Infinite Sadness","Melly vs. Melvin","Memories...Do Not Open","Menagerie","Midnights","Minecraft - Volume Alpha","Minutes To Midnight","Mix Pa Llorar En Tu Cuarto","Modo Avin","Monkey Business","Mono.","Montana","Montevallo","Moosetape","Morning View","Motivan2","Moving Pictures","Mr. Davis","Mr. Misunderstood","Mulan","Mura Masa","Music From The Edge Of Heaven","Music Of The Sun","My House","My Kinda Party","My Krazy Life","My Liver Will Handle What My Heart Can't","My Moment","My Own Lane","My Turn","My Worlds","Na Praia (Ao Vivo)","Nakamura","Nation Of Two","Navegando","Need You Now","Neon Future III","Neotheater","Never Trust A Happy Song","New English","News Of The World","Nicole","Night & Day","Nimmerland","Nimrod","Nine Track Mind","No Angel","No Me Pidas Perdn","No More Drama","No Protection","No Strings Attached","No Time To Die","Nobody Is Listening","Non Stop Erotic Cabaret","Non-Fiction","Northsbest","Nostalgia","Nostalgia, Ultra","Notes On A Conditional Form","Now Or Never","O Embaixador (Ao Vivo)","O My Heart","OK Computer","Ocean","Ocean Avenue","Ocean Eyes","Odisea","Oh My My","Oh, What A Life","On The 6","One In A Million","One More Light","One Of These Nights","Open Up And Say...Ahh!","Ordinary Man","Origins","Out Of The Blue","Over It","OzuTochi","PTSD","Pa Las Baby's Y Belikeada","Pa Que Hablen","Pa' Luego Es Tarde","Pa' Otro La 'O","Pablo Honey","Pain Is Love","Pain Is Temporary","Painting Pictures","Palmen Aus Plastik 2","Para Mi Ex","Para Siempre","Partners In Crime","Pawn Shop","Pegasus / Neon Shark VS Pegasus","Pet Sounds","Piece By Piece","Pier Pressure","Pineapple Sunrise","Piseiro 2020 Ao Vivo","Planet Pit","Plans","Play Deep","Playa Saturno","Por Primera Vez","Por Vida","Positions","Post Human: Survival Horror","Poster Girl","Prazer, Eu Sou Ferrugem (Ao Vivo)","Pretty Girls Like Trap Music","Pretty. Odd.","Prince Royce","Prisma","Prometo","Providence","Puberty 2","Punisher","Purgatory","Purple Rain","Que Bendicin","Queen Of The Clouds","Quiero Volver","R&G (Rhythm & Gangsta): The Masterpiece","Raise!","Ransom 2","Rapunzel","Rare","Re Mida","Ready To Die","Realer","Rebelde","Reclassified","Recovery","Recuerden Mi Estilo","Reggatta De Blanc","Regulate G Funk Era","Reik","Reise, Reise","Relapse","Relaxing Piano Lullabies And Natural Sleep Aid For Baby Sleep Music","Religiously. The Album.","Replay","Results May Vary","Revenge","Revolve","Revolver","Ricky Martin","Rien 100 Rien","Ripcord","Rise And Fall, Rage And Grace","Rise Of An Empire","Robin Hood: Prince Of Thieves","Rock N Roll Jesus","Romance","Romances","Ronan","Royal Blood","Rumours","Sad Boyz 4 Life II","San Lucas","Santana World","Saturation III","Sauce Boyz","Savage Mode","Saxobeats","Scarlet","Schwarzes Herz","Seal The Deal & Let's Boogie","Section.80","Segundo Romance","Sehnsucht","Shake The Snow Globe","Shang-Chi And The Legend Of The Ten Rings: The Album","Sheer Heart Attack","Shiesty Season","Shock Value","Shoot For The Stars, Aim For The Moon","Signed Sealed And Delivered","Signos","Silent Alarm","Simplemente Gracias","Sin Bandera","Sing Me A Lullaby, My Sweet Temptation","Sinner","Sirio","Sit Still, Look Pretty","Skin","Slowhand","Smash","Smithereens","Snow Cougar","Social Cues","Some Girls","Song Hits From Holiday Inn","Songs For Dads","Songs For The Deaf","Songs For You, Truths For Me","Songs In The Key Of Life","Souled Out","Sounds Of Silence","Soy Como Quiero Ser","Speak Now","Speak Your Mind","Speakerboxxx/The Love Below","Spider-Man: Into The Spider-Verse","Split Decision","Square Up","SremmLife","Starboy","Stay +","Stay Dangerous","Staying At Tamara's","Steppenwolf","Stick Season","Still Bill","Straight Outta Compton","Strange Trails","Stronger","Suavemente","Sublime","Suck It and See","Sucker","Sueos","Sugar","Summer Forever","Summer,","Sunset Season","Sunshine On Leith","Surfer Rosa","Sweet Talker","SweetSexySavage","System Of A Down","TA13OO","Talk That Talk","Talking Heads: 77","Tangled Up","Tango In The Night","Taxi Driver","Taylor Swift","Tell Me It's Real","Ten","Ten Summoner's Tales","Terra Sem Cep (Ao Vivo)","Terral","Testing","Tha Carter III","Thank Me Later","That's Christmas To Me","The Academy","The Adventures Of Bobby Ray","The Album","The Andy Williams Christmas Album","The Aviary","The Balcony","The Battle Of Los Angeles","The Beatles (White Album)","The Beginning","The Better Life","The Big Day","The Book","The Breakfast Club","The Cars","The Colour And The Shape","The Death Of Peace Of Mind","The Diary Of Alicia Keys","The Documentary","The Emancipation Of Mimi","The Eminem Show","The End Of Everything","The Final Countdown","The Forever Story","The Foundation","The Goat","The Golden Child","The Good Parts","The Greatest Showman: Reimagined","The Green Trip","The Hardest Love","The Head And The Heart","The Human Condition","The Infamous","The Lady Killer","The Last Don II","The Lion King","The Lockdown Sessions","The London Sessions","The Lord Of The Rings: The Fellowship Of The Ring","The Lost Boy","The Magic Of Christmas / The Christmas Song","The Marshall Mathers LP","The Martin Garrix Collection","The Melodic Blue","The Mockingbird & The Crow","The Pains Of Growing","The Papercut Chronicles","The Perfect Luv Tape","The Pinkprint","The Predator","The Queen Is Dead","The ReVe Festival: Finale","The Rise And Fall Of Ziggy Stardust And The Spiders From Mars","The Rising Tied","The River","The Stone Roses","The Story Of Us","The Stranger","The Sufferer & The Witness","The Sun's Tirade","The Temptations Sing Smokey","The Time Of Our Lives","The Way It Is","The Wonderful World Of Sam Cooke","The Writing's On The Wall","The Young And The Hopeless","Therapy","Therapy Session","There Is More (Live)","There Is Nothing Left To Lose","These Things Happen","Third Eye Blind","This Is Me...Then","This Unruly Mess I've Made","Threat to Survival","Thrill Of The Chase","Time","Timelezz","To Let A Good Thing Die","To Pimp A Butterfly","Toast To Our Differences","Todos Os Cantos, Vol. 1 (Ao Vivo)","Too Hard","Torches X","Total Xanarchy","Toto IV","Toulouse Street","Tourist History","Toxicity","Tragic Kingdom","Tranquility Base Hotel & Casino","Traumazine","Traveler","Tres Hombres","Trip At Knight","Tron: Legacy","True Blue","True Colors","Trustfall","Tu Veneno Mortal","Tudo Em Paz","Ubuntu","Ugly Is Beautiful","Ultra 2021","Una Mattina","Unbroken","Uncovered","Under Pressure","Unsponsored Content","Unstoppable","Unwritten","Urban Flora","Urban Hymns","Use Your Illusion I","Veneer","Versions Of Me","Vibes","Vice Versa","Vices & Virtues","Victory","Vida","Viejo Marihuano","Visualzate","Walk Away","Walk Me Home...","Watch The Throne","Wave","We Broke The Rules","We Love You Tecca","We Love You Tecca 2","Weezer (Green Album)","Welcome To The Madhouse","Westlife","What A Time To Be Alive","What Do You Think About The Car?","What Is Love?","What Makes You Country","What Separates Me From You","What You See Is What You Get / What You See Ain't Always What You Get","When It's Dark Out","When We All Fall Asleep, Where Do We Go?","Where The Light Is","While The World Was Burning","White Pony","Whitney","Who Really Cares","Who You Are","Who's Next","Wide Open","Wilder Mind","Wildfire","Willy And The Poor Boys","Wings / You Never Walk Alone","Wish","Wish You Were Here","Without Warning","Wonder","X&Y","XOXO","Y Que Quede Claro","YBN: The Mixtape","Yo Creo","You Will Regret","Youngblood","Younger Now","Youth"],Uz=["$NOT","$uicideboy$","(G)I-DLE","*NSYNC","2 Chainz","21 Savage","6LACK","? & The Mysterians","A Boogie Wit da Hoodie","A Taste of Honey","A Tribe Called Quest","A-Ha","ABBA","AC/DC","AJ Tracey","ATEEZ","Ace of Base","Adele","Ado","Aerosmith","Agust D","Aitana","Al Dexter & his Troopers","Al Green","Al Jolson","Al Martino","Alan Jackson","Alannah Myles","Alec Benjamin","Alejandro Sanz","Alesso","Alfredo Olivas","Ali Gatie","Alice In Chains","Alina Baraz","All Time Low","All-4-One","All-American Rejects","Alok","America","American Quartet","Amii Stewart","Amitabh Bhattacharya","Ana Castela","Anderson .Paak","Andy Grammer","Angus & Julia Stone","Anirudh Ravichander","Anita Ward","Anitta","Anton Karas","Anuel AA","Arcade Fire","Archie Bell & The Drells","Archies","Aretha Franklin","Arizona Zervas","Armin van Buuren","Arthur Conley","Artie Shaw","Asake","Asees Kaur","Association","Atif Aslam","Audioslave","Aventura","Avril Lavigne","Aya Nakamura","B J Thomas","B.o.B","BLACKPINK","BONES","BROCKHAMPTON","BTS","Baby Keem","Bachman-Turner Overdrive","Backstreet Boys","Bad Bunny","Badshah","Bailey Zimmerman","Banda El Recodo","Barbra Streisand","Barry White","Bazzi","Bebe Rexha","Becky G","Becky Hill","Bee Gees","Ben Bernie","Ben Howard","Ben Selvin","Berlin","Bessie Smith","Bethel Music","Bette Midler","Beyonce","Bibi Blocksberg","Bibi und Tina","BigXthaPlug","Bill Doggett","Bill Haley & his Comets","Bill Withers","Billy Davis Jr","Billy Joel","Billy Paul","Billy Preston","Billy Swan","Birdy","Bizarrap","Blake Shelton","Blur","Bob Marley & The Wailers","Bob Seger","Bobby Darin","Bobby Lewis","Bobby McFerrin","Bobby Vinton","Boney M.","Bonez MC","Bonnie Tyler","Booba","Boston","BoyWithUke","Boyce Avenue","Bradley Cooper","Bread","Brent Faiyaz","Brett Young","Bring Me The Horizon","Britney Spears","Brooks & Dunn","Bruce Channel","Bruno & Marrone","Bryan Adams","Bryce Vine","Buddy Holly","Burna Boy","C. Tangana","CKay","CRO","Camilo","Capital Bra","Captain & Tennille","Cardi B","Carin Leon","Carlos Vives","Carly Simon","Carpenters","Cavetown","Celine Dion","Central Cee","Chaka Khan","Champs","Charlie Rich","Chayanne","Cheat Codes","Cher","Chic","Chicago","Chris Brown","Chris Isaak","Chris Young","Christina Aguilera","Christina Perri","Christopher Cross","Chuck Berry","Ciara","Cigarettes After Sex","Cliff Edwards (Ukelele Ike)","Cody Johnson","Colbie Caillat","Colby O'Donis","Cole Swindell","Coleman Hawkins","Contours","Coolio","Count Basie","Cris Mj","Culture Club","Cyndi Lauper","D-Block Europe","DAY6","DJ Khaled","DJ Luian","DJ Nelson","DMX","DNCE","DaVido","Dadju","Daft Punk","Dan + Shay","Daniel Powter","Danny Ocean","Darius Rucker","Dave","David Bowie","David Guetta","Daya","Dean Martin","Deee-Lite","Deep Purple","Deftones","Demi Lovato","Dennis Lloyd","Denzel Curry","Dermot Kennedy","Desiigner","Devo","Dewa 19","Dexys Midnight Runners","Diddy","Dido","Die drei !!!","Diego & Victor Hugo","Diljit Dosanjh","Dimitri Vegas & Like Mike","Dinah Shore","Dionne Warwick","Dire Straits","Disclosure","Dixie Cups","Doja Cat","Dolly Parton","Don Diablo","Don Henley","Don McLean","Don Omar","Donna Summer","Donovan","Dr. Dre","Drake","Dreamville","Dua Lipa","EMF","ENHYPEN","Earth, Wind & Fire","Ed Sheeran","Eddie Cantor","Eddie Cochran","Eddy Howard","Edgar Winter Group","Edwin Hawkins Singers","Edwin Starr","El Alfa","Eladio Carrion","Electric Light Orchestra","Elevation Worship","Ella Henderson","Ellie Goulding","Elton John","Elvis Presley","Empire of the Sun","En Vogue","Enrique Iglesias","Eslabon Armado","Ethel Waters","Etta James","Evanescence","Exile","Extreme","Faith Hill","Fall Out Boy","Fanny Brice","Farruko","Fats Domino","Fats Waller","Feid","Felix Jaehn","Fergie","Fetty Wap","Fiersa Besari","Fifth Harmony","Fine Young Cannibals","Five Finger Death Punch","Fleetwood Mac","Flo-Rida","Florence + The Machine","Flume","Foo Fighters","Foreigner","Foster The People","Four Aces","Frank Ocean","Frank Sinatra","Frankie Avalon","Frankie Valli","Fred Astaire","Freda Payne","Freddie Dredd","Freddy Fender","French Montana","Fuerza Regida","Fujii Kaze","Future","G-Eazy","Garfunkel and Oates","Gary Lewis & The Playboys","Gary Numan","Gene Autry","Gene Chandler","Gene Vincent","George Michael","George Strait","Gera MX","Ghost","Ghostemane","Gigi D'Agostino","Gladys Knight & The Pips","Glass Animals","Glee Cast","Gloria Gaynor","Godsmack","Gorillaz","Gotye","Grand Funk Railroad","Green Day","Grouplove","Grupo Firme","Grupo Marca Registrada","Gryffin","Gucci Mane","Guess Who","Gunna","Gusttavo Lima","Guy Mitchell","Gwen Stefani","Gzuz","H.E.R.","HARDY","Hailee Steinfeld","Halsey","Hans Zimmer","Harris Jayaraj","Harry Chapin","Harry James","Harry Nilsson","Harry Styles","Hayley Williams","Herb Alpert","Herman's Hermits","Hillsong UNITED","Hillsong Worship","Hollywood Undead","Honey Cone","Hoobastank","Hues Corporation","I Prevail","ITZY","IVE","Ice Cube","Ice Spice","Iggy Azalea","Imagine Dragons","Incubus","Internet Money","Isaac Hayes","J Geils Band","J. Cole","JAY-Z","JJ Lin","JP Saxe","JVKE","Jack Harlow","Jack Johnson","Jackie Wilson","Jacquees","James Arthur","James Brown","James TW","James Taylor","Jamie Foxx","Janet Jackson","Janis Joplin","Jason Aldean","Jason Mraz","Jay Chou","Jay Sean","Jay Wheeler","Jaymes Young","Jean Knight","Jeezy","Jennifer Lopez","Jennifer Warnes","Jeremih","Jeremy Zucker","Jerry Lee Lewis","Jerry Murad's Harmonicats","Jess Glynne","Jessie J","Jewel","Jimi Hendrix","Jimin","Jimmie Rodgers","Jimmy Dean","Jo Stafford","Joan Jett & The Blackhearts","Joao Gilberto","Joel Corry","John Fred & The Playboy Band","John Legend","John Mayer","John Williams","Johnnie Ray","Johnnie Taylor","Johnny Cash","Johnny Horton","Johnny Mathis","Johnny Mercer","Johnny Nash","Joji","Jon Bellion","Jonas Blue","Jonas Brothers","Joni James","Jorja Smith","Juan Gabriel","Juan Luis Guerra 4.40","Juanes","Juice Newton","Julia Michaels","Justin Bieber","Justin Quiles","KALEO","KAROL G","KAYTRANADA","KK","KSI","KYLE","Kacey Musgraves","Kane Brown","Kanye West","Karan Aujla","Kate Smith","Katy Perry","Kay Kyser","Ke$ha","Kehlani","Kelly Clarkson","Kenny Chesney","Kenny Loggins","Kenny Rogers","Kenshi Yonezu","Kenya Grace","Kevin Gates","Key Glock","Khalid","Kim Carnes","Kim Petras","Kimbra","Kina","King Gnu","Kings of Leon","Kingsmen","Kitty Kallen","Kodak Black","Kodaline","Kollegah","Kool & The Gang","Kungs","Kygo","Kylie Minogue","LE SSERAFIM","LISA","LMFAO","LUDMILLA","La Adictiva Banda San Jos de Mesillas","La Oreja de Van Gogh","Labrinth","Lady Antebellum","Lady GaGa","Lainey Wilson","Lana Del Rey","Latto","Lauryn Hill","Lauv","League of Legends","Lee Brice","Leon Bridges","Leona Lewis","Lesley Gore","Leslie Odom Jr.","Liam Payne","Lifehouse","Lil Baby","Lil Dicky","Lil Durk","Lil Mosey","Lil Nas X","Lil Pump","Lil Skies","Lil Tjay","Lil Uzi Vert","Lil Yachty","Lil' Kim","Lil' Wayne","Lin-Manuel Miranda","Linkin Park","Lionel Richie","Lipps Inc","Lisa Loeb","Little Peggy March","Little Richard","Lofi Fruits Music","Lord Huron","Los Del Rio","Los Dos Carnales","Los Lobos","Los Temerarios","Los Tigres Del Norte","Los Tucanes De Tijuana","Lou Reed","Loud Luxury","Louis Jordan","Louis Tomlinson","Love Unlimited","Lovin' Spoonful","Luan Santana","Luciano","Luis Miguel","Luis R Conriquez","Lulu","Lunay","Lupe Fiasco","M","MAX","MC Hammer","MC Ryan SP","MKTO","Mabel","Machine Gun Kelly","Madison Beer","Madonna","Mahalini","Major Lazer","Mambo Kingz","Maneskin","Marco Antonio Sols","Margaret Whiting","Maria Becerra","Mario","Mario Lanza","Mark Ronson","Maroon 5","Marshmello","Martin Garrix","Mary Ford","Mary J Blige","Mary J. Blige","Mary Wells","Matoma","Mau y Ricky","Meek Mill","Megadeth","Melanie","Melanie Martinez","Melendi","Men At Work","Metro Boomin","Michael Bubl","Michael Jackson","Michael McDonald","Michael Sembello","Miguel","Mike Posner","Miley Cyrus","Milky Chance","Minnie Riperton","Miracle Tones","Miranda Lambert","Mohit Chauhan","Mon Laferte","Moneybagg Yo","Monsta X","Mora","Morad","Morat","Mother Mother","Motley Crue","Ms. Lauryn Hill","Mumford & Sons","Muse","Mya","Myke Towers","NCT 127","NCT DREAM","NEFFEX","Nadin Amizah","Nancy Sinatra","Nat King Cole","Nate Smith","Natti Natasha","Nayer","Neil Diamond","Neil Sedaka","Nekfeu","Nelly","New Vaudeville Band","Next","Nickelback","Nicki Minaj","Nicki Nicole","Nicky Jam","Nina Simone","Ninho","Nipsey Hussle","Nirvana","Niska","No Doubt","Norah Jones","Normani","OMI","ONE OK ROCK","Oasis","Official HIGE DANdism","Offset","Old Dominion","Oliver Heldens","Olivia Rodrigo","Omah Lay","One Direction","Otis Redding","OutKast","Owl City","P Diddy","P!nk","PLK","PNL","Pamungkas","Passenger","Pat Boone","Patsy Cline","Patti LaBelle","Patti Page","Paul & Paula","Paul Revere & the Raiders","Paul Robeson","Paul Russell","Paul Whiteman","Paula Abdul","Peaches & Herb","Pearl Jam","Pee Wee Hunt","Pee Wee King","Pentatonix","Percy Faith","Percy Sledge","Peso Pluma","Peter Cetera","Peter Gabriel","Peter, Paul & Mary","Pharrell Williams","Pierce The Veil","Pineapple StormTv","Pink Floyd","Pink Sweat$","Piso 21","Pitbull","Plan B","Player","Polo G","Pop Smoke","Portugal. The Man","Pouya","Prince","Prince Royce","Pusha T","Quality Control","Queen","Quinn XCII","R. Kelly","RAF Camora","RAYE","REM","REO Speedwagon","Radiohead","Rag'n'Bone Man","Rage Against The Machine","Rahat Fateh Ali Khan","Rainbow Kitten Surprise","Rammstein","Rauw Alejandro","Ray Charles","Ray Parker Jr","Ray Stevens","Red Foley","Red Hot Chili Peppers","Red Velvet","Regard","Regina Belle","Reik","Rels B","Rema","Ricardo Arjona","Rich The Kid","Rick Astley","Rick Dees & his Cast of Idiots","Rick Ross","Rick Springfield","Ricky Martin","Ricky Nelson","Rihanna","Rita Ora","Ritchie Valens","Rizky Febian","Rob Thomas","Roberta Flack","Robin Schulz","Robin Thicke","Rod Stewart","Rod Wave","Roddy Ricch","Roger Miller","Romeo Santos","Rosemary Clooney","Roxette","Roy Acuff","Roy Orbison","Rudimental","Ruel","Ruth B.","Ryan Lewis","SCH","SEVENTEEN","SWV","Sabaton","Sabrina Carpenter","Sachet Tandon","Sachin-Jigar","Sade","Sam Cooke","Sam Feldt","Sam Hunt","Sam Smith","Sam The Sham & The Pharaohs","Sammy Davis Jr","Sammy Kaye","Santana","Sasha Alex Sloan","Savage Garden","Saweetie","Scorpions","Sean Kingston","Sean Paul","Sebastian Yatra","Sech","Seeb","Sezen Aksu","Sfera Ebbasta","Shaggy","Shania Twain","Shawn Mendes","Sheena Easton","Shinedown","Shubh","Sia","Sid Sriram","Sidhu Moose Wala","Silk","Silver Convention","Simon & Garfunkel","Sinead O'Connor","Sir Mix-a-Lot","Sister Sledge","Ski Mask The Slump God","Skillet","Skrillex","Sleeping At Last","Smokey Robinson","Snoop Dogg","Snow Patrol","Soda Stereo","Sonu Nigam","Sophie Ellis-Bextor","Spencer Davis Group","Spice Girls","Stan Getz","Starland Vocal Band","Stephen Sanchez","Steve Aoki","Steve Lacy","Steve Winwood","Stevie B","Sting","Stormzy","Strawberry Alarm Clock","Stray Kids","Stromae","Sublime","Sum 41","Summer Walker","Supertramp","Survivor","Swedish House Mafia","System Of A Down","T-Pain","T.I.","TAEYEON","TKKG","TLC","TOMORROW X TOGETHER","TOTO","TWICE","Tag Team","Tainy","Tammi Terrell","Tanishk Bagchi","Tate McRae","Taylor Swift","Tears For Fears","Tems","Tennessee Ernie Ford","Terence Trent D'Arby","Teresa Brewer","Terry Jacks","The Ames Brothers","The Animals","The B52s","The Bangles","The Beatles","The Black Eyed Peas","The Black Keys","The Box Tops","The Chainsmokers","The Chiffons","The Chordettes","The Clash","The Coasters","The Commodores","The Cowsills","The Cranberries","The Crew-Cuts","The Cure","The Detroit Spinners","The Diamonds","The Doobie Brothers","The Doors","The Drifters","The Emotions","The Eurythmics","The Fireballs","The Flamingos","The Foundations","The Four Seasons","The Fray","The Game","The Go Gos","The Goo Goo Dolls","The Head And The Heart","The Hollies","The Ink Spots","The Isley Brothers","The Jackson 5","The Kid LAROI","The Killers","The Kingston Trio","The Kooks","The Lemon Pipers","The Living Tombstone","The Lumineers","The Mamas & The Papas","The Marvelettes","The McCoys","The Mills Brothers","The Miracles","The Monkees","The Moody Blues","The National","The Neighbourhood","The Notorious B.I.G.","The O'Jays","The Offspring","The Osmonds","The Partridge Family","The Penguins","The Pet Shop Boys","The Platters","The Righteous Brothers","The Rolling Stones","The Ronettes","The Score","The Script","The Seekers","The Shangri-Las","The Smashing Pumpkins","The Staple Singers","The Strokes","The Supremes","The Temptations","The Turtles","The Vamps","The Verve","The Village People","The Weavers","The White Stripes","The Young Rascals","The Zombies","Thelma Houston","Thomas Rhett","Three Days Grace","Three Dog Night","Three Man Down","Timbaland","Timmy Trumpet","Toby Keith","Tom Jones","Tom Petty and the Heartbreakers","Tommy Dorsey","Tommy Edwards","Tommy James & the Shondells","Tone Loc","Toni Braxton","Topic","Tory Lanez","Tove Lo","Trevor Daniel","Trey Songz","Trippie Redd","Trueno","Tulsi Kumar","Tulus","Twenty One Pilots","Two Feet","Ty Dolla $ign","Tyga","Tyler Hubbard","U2","UB40","UZI","Ufo361","Upchurch","V","Vampire Weekend","Van McCoy","Van Morrison","Vance Joy","Vanessa Carlton","Vanessa Williams","Vera Lynn","Vernon Dalhart","Vicente Fernandez","Vishal-Shekhar","Volbeat","WILLOW","Wale","Wallows","Weezer","Wham!","Whitney Houston","Why Don't We","Wilbert Harrison","Wilson Phillips","Wiz Khalifa","Woody Guthrie","Wyclef Jean","XXXTENTACION","Xavi","YG","YNW Melly","YOASOBI","Yandel","Years & Years","Yeat","Yo Gotti","Young Dolph","Young Miko","Young Thug","YoungBoy Never Broke Again","Yung Gravy","Yuuri","Yuvan Shankar Raja","ZAYN","ZZ Top","Zac Brown Band","Zach Bryan","Zara Larsson","aespa","benny blanco","blink-182","d4vd","deadmau5","girl in red","gnash","iann dior","will.i.am"],Kz=["Acid House","Acid Jazz","Acid Rock","Acoustic","Acoustic Blues","Afro-Pop","Afrobeat","Alt-Rock","Alternative","Ambient","American Trad Rock","Americana","Anime","Arena Rock","Art-Rock","Avant-Garde","Avant-Punk","Baladas y Boleros","Barbershop","Baroque","Bebop","Big Band","Black Metal","Blue Note","Bluegrass","Blues","Boogaloo","Bop","Bossa Nova","Bounce","Brazilian Funk","Breakbeat","Britpop","CCM","Cajun","Cantopop","Celtic","Celtic Folk","Chamber Music","Chant","Chanukah","Chicago Blues","Chicago House","Chicano","Childrens Music","Chill","Choral","Christian","Christmas","Classical","Club","College Rock","Conjunto","Cool Jazz","Country","Crunk","Dance","Dancehall","Death Metal","Deep House","Delta Blues","Detroit Techno","Dirty South","Disco","Disney","Dixieland","Doo-wop","Downtempo","Dream Pop","Drill","Drinking Songs","Drone","Drum'n'bass","Dub","Dubstep","EDM","Early Music","East Coast Rap","Easter","Easy Listening","Eclectic","Electric Blues","Electro","Electronic","Electronica","Emo","Enka","Environmental","Ethio-jazz","Experimental","Experimental Rock","Flamenco","Folk","Folk-Rock","Forro","French Pop","Funk","Fusion","Gangsta Rap","Garage","German Folk","German Pop","Glam Rock","Gospel","Goth","Grime","Grindcore","Groove","Grunge","Hair Metal","Halloween","Happy","Hard Bop","Hard Dance","Hard Rock","Hardcore","Hardcore Punk","Hardcore Rap","Hardstyle","Healing","Heavy Metal","High Classical","Hip Hop","Holiday","Honky Tonk","House","IDM","Impressionist","Indie","Industrial","Instrumental","J-Dance","J-Idol","J-Pop","J-Punk","J-Rock","J-Ska","J-Synth","Jackin House","Jam Bands","Japanese Pop","Jazz","Jungle","K-Pop","Karaoke","Kayokyoku","Kids","Kitsch","Klezmer","Krautrock","Latin","Latin Jazz","Latin Rap","Local","Lounge","Lullabies","MPB","Mainstream Jazz","Malay","Mandopop","March","Mariachi","Mawwal","Medieval","Meditation","Metal","Metalcore","Minimal Techno","Minimalism","Modern","Motown","Mugham","Musicals","Musique Concrte","Nature","Neo-Soul","Nerdcore","New Acoustic","New Age","New Mex","New Wave","No Wave","Noise","Nordic","Novelty","OPM","Oi!","Old School Rap","Opera","Orchestral","Original Score","Outlaw Country","Pagode","Party","Piano","Polka","Pop","Pop Film","Pop Latino","Post Dubstep","Power Pop","Praise & Worship","Progressive House","Progressive Rock","Proto-punk","Psych Rock","Psychedelic","Punk","Punk Rock","Qawwali","Quiet Storm","R&B","Ragtime","Rainy Day","Rap","Reggae","Reggaeton","Regional Mexicano","Relaxation","Renaissance","Retro","Rock","Rockabilly","Rocksteady","Romance","Romantic","Roots Reggae","Roots Rock","SKA","Sad","Salsa","Samba","Second Line","Sertanejo","Shaabi","Shoegaze","Sleep","Smooth Jazz","Soft Rock","Soul","Soundtrack","Southern Gospel","Southern Rock","Space Rock","Stage And Screen","Steampunk","Summer","Surf","Swamp Pop","Swing","Synth Pop","Tango","Techno","Teen Pop","Tejano","Tex-Mex","Thanksgiving","Traditional","Trance","Trip Hop","Tropical","Underground Rap","Urban","Urban Cowboy","West Coast Rap","Western Swing","World","Worldbeat","Zydeco"],qz=["(Everything I Do) I Do it For You","(Ghost) Riders in the Sky","(I Can't Get No) Satisfaction","(I've Got a Gal In) Kalamazoo","(I've Had) the Time of My Life","(It's No) Sin","(Just Like) Starting Over","(Let Me Be Your) Teddy Bear","(Put Another Nickel In) Music! Music! Music!","(Sexual) Healing","(Sittin' On) the Dock of the Bay","(They Long to Be) Close to You","(You Keep Me) Hangin' On","(You're My) Soul & Inspiration","(Your Love Keeps Lifting Me) Higher & Higher","12th Street Rag","1999","19th Nervous Breakdown","50 Ways to Leave Your Lover","9 to 5","96 Tears","A Boy Named Sue","A Hard Day's Night","A String of Pearls","A Thousand Miles","A Tree in the Meadow","A Whiter Shade of Pale","A Whole New World (Aladdin's Theme)","A Woman in Love","A-Tisket A-Tasket","ABC","Abracadabra","Ac-cent-tchu-ate the Positive","Addicted to Love","After You've Gone","Afternoon Delight","Again","Against All Odds (Take a Look At Me Now)","Ain't Misbehavin'","Ain't No Mountain High Enough","Ain't No Sunshine","Ain't That a Shame","Airplanes","All Along the Watchtower","All I Have to Do is Dream","All I Wanna Do","All My Lovin' (You're Never Gonna Get It)","All Night Long (All Night)","All Out of Love","All Shook Up","All You Need is Love","Alone","Alone Again (Naturally)","Always On My Mind","American Pie","American Woman","Angie","Another Brick in the Wall (part 2)","Another Day in Paradise","Another Night","Another One Bites the Dust","Apologize","April Showers","Aquarius/Let The Sunshine In","Are You Lonesome Tonight?","Arthur's Theme (Best That You Can Do)","As Time Goes By","At Last","At the Hop","Auf Wiederseh'n Sweetheart","Baby Baby","Baby Come Back","Baby Got Back","Baby Love","Baby One More Time","Bad Day","Bad Girls","Bad Moon Rising","Bad Romance","Bad, Bad Leroy Brown","Baker Street","Ball of Confusion (That's What the World is Today)","Ballad of the Green Berets","Ballerina","Band On the Run","Band of Gold","Battle of New Orleans","Be Bop a Lula","Be My Baby","Be My Love","Beat It","Beautiful Day","Beauty & the Beast","Because I Love You (The Postman Song)","Because You Loved Me","Because of You","Before The Next Teardrop Falls","Begin the Beguine","Behind Closed Doors","Being With You","Believe","Ben","Bennie & the Jets","Besame Mucho","Best of My Love","Bette Davis Eyes","Big Bad John","Big Girls Don't Cry","Billie Jean","Bitter Sweet Symphony","Black Or White","Black Velvet","Blaze of Glory","Bleeding Love","Blue Suede Shoes","Blue Tango","Blueberry Hill","Blurred Lines","Body & Soul","Bohemian Rhapsody","Boogie Oogie Oogie","Boogie Woogie Bugle Boy","Boom Boom Pow","Born in the USA","Born to Be Wild","Born to Run","Boulevard of Broken Dreams","Brand New Key","Brandy (You're A Fine Girl)","Breaking Up is Hard to Do","Breathe","Bridge Over Troubled Water","Brother Louie","Brother, Can You Spare a Dime?","Brown Eyed Girl","Brown Sugar","Build Me Up Buttercup","Burn","Buttons & Bows","Bye Bye Love","Bye Bye, Blackbird","Bye, Bye, Bye","Caldonia Boogie (What Makes Your Big Head So Hard)","California Dreamin'","California Girls","Call Me","Call Me Maybe","Can You Feel the Love Tonight","Can't Buy Me Love","Can't Get Enough of Your Love, Babe","Can't Help Falling in Love","Candle in the Wind '97","Candy Man","Car Wash","Careless Whisper","Cars","Cat's in the Cradle","Cathy's Clown","Celebration","Centerfold","Chain of Fools","Chances Are","Change the World","Chapel of Love","Chattanooga Choo Choo","Chattanoogie Shoe-Shine Boy","Check On It","Cheek to Cheek","Cherish","Cherry Pink & Apple Blossom White","Cold, Cold Heart","Colors of the Wind","Come On Eileen","Come On-a My House","Come Together","Coming Up","Cracklin' Rosie","Crazy","Crazy For You","Crazy Little Thing Called Love","Crazy in Love","Creep","Crimson & Clover","Crocodile Rock","Cry","Cry Like a Baby","Crying","Da Doo Ron Ron (When He Walked Me Home)","Dance to the Music","Dancing Queen","Dancing in the Dark","Dancing in the Street","Dardanella","Daydream Believer","December 1963 (Oh What a Night)","Delicado","Dilemma","Disco Duck","Disco Lady","Disturbia","Dizzy","Do That to Me One More Time","Do Wah Diddy Diddy","Do Ya Think I'm Sexy?","Do You Love Me?","Don't Be Cruel","Don't Fence Me In","Don't Go Breaking My Heart","Don't Leave Me This Way","Don't Let the Stars Get in Your Eyes","Don't Let the Sun Go Down On Me","Don't Speak","Don't Stop 'Til You Get Enough","Don't Worry Be Happy","Don't You (Forget About Me)","Don't You Want Me","Doo Wop (That Thing)","Down","Down Hearted Blues","Down Under","Downtown","Dreamlover","Dreams","Drop it Like It's Hot","Drops of Jupiter (Tell Me)","Duke of Earl","E.T.","Earth Angel","Ebony & Ivory","Eight Days a Week","Empire State Of Mind","End of the Road","Endless Love","Escape (The Pina Colada Song)","Eve of Destruction","Every Breath You Take","Every Little Thing She Does is Magic","Everybody Loves Somebody","Everybody Wants to Rule the World","Everyday People","Eye of the Tiger","Faith","Fallin'","Fame","Family Affair","Fantasy","Fast Car","Feel Good Inc","Feel Like Making Love","Fire & Rain","Firework","Flashdance. What a Feeling","Fly Robin Fly","Foolish Games","Footloose","For What It's Worth (Stop, Hey What's That Sound)","Fortunate Son","Frankenstein","Freak Me","Freebird","Frenesi","Funkytown","Gangsta's Paradise","Georgia On My Mind","Georgy Girl","Get Back","Get Down Tonight","Get Off of My Cloud","Ghostbusters","Gimme Some Lovin'","Girls Just Wanna Have Fun","Give Me Everything","Gives You Hell","Glamorous","Glory of Love","Go Your Own Way","God Bless America","God Bless the Child","Gold Digger","Gonna Make You Sweat (Everybody Dance Now)","Good Lovin'","Good Times","Good Vibrations","Goodbye Yellow Brick Road","Goodnight, Irene","Got to Give it Up","Grease","Great Balls of Fire","Greatest Love of All","Green Onions","Green River","Green Tambourine","Grenade","Groove is in the Heart","Groovin'","Gypsies, Tramps & Thieves","Hair","Hang On Sloopy","Hanging by a Moment","Hanky Panky","Happy Days Are Here Again","Happy Together","Harbour Lights","Hard to Say I'm Sorry","Harper Valley PTA","Have You Ever Really Loved a Woman?","He'll Have to Go","He's So Fine","He's a Rebel","Heart of Glass","Heart of Gold","Heartbreak Hotel","Hello Dolly","Hello, I Love You, Won't You Tell Me Your Name?","Help Me, Rhonda","Help!","Here Without You","Here in My Heart","Hero","Hey Baby","Hey Jude","Hey Paula","Hey There","Hey There Delilah","Hey Ya!","Higher Love","Hips don't lie","Hit the Road, Jack","Hold On","Hollaback Girl","Honey","Honky Tonk","Honky Tonk Woman","Horse With No Name","Hot Child In The City","Hot Stuff","Hotel California","Hound Dog","House of the Rising Sun","How Deep is Your Love?","How Do I Live?","How Do You Mend a Broken Heart","How High the Moon","How Much is That Doggy in the Window?","How Will I Know","How You Remind Me","How to Save a Life","Hungry Heart","Hurt So Good","I Believe I Can Fly","I Can Dream, Can't I?","I Can Help","I Can See Clearly Now","I Can't Get Next to You","I Can't Get Started","I Can't Go For That (No Can Do)","I Can't Help Myself (Sugar Pie, Honey Bunch)","I Can't Stop Loving You","I Don't Want to Miss a Thing","I Fall to Pieces","I Feel Fine","I Feel For You","I Feel Love","I Get Around","I Got You (I Feel Good)","I Got You Babe","I Gotta Feeling","I Heard it Through the Grapevine","I Honestly Love You","I Just Called to Say I Love You","I Just Wanna Be Your Everything","I Kissed A Girl","I Love Rock 'n' Roll","I Need You Now","I Only Have Eyes For You","I Shot the Sheriff","I Still Haven't Found What I'm Looking For","I Swear","I Think I Love You","I Walk the Line","I Wanna Dance With Somebody (Who Loves Me)","I Wanna Love You","I Want You Back","I Want to Hold Your Hand","I Want to Know What Love Is","I Went to Your Wedding","I Will Always Love You","I Will Follow Him","I Will Survive","I Write the Songs","I'll Be Missing You","I'll Be There","I'll Make Love to You","I'll Never Smile Again","I'll Take You There","I'll Walk Alone","I'll be seeing you","I'm Looking Over a Four Leaf Clover","I'm So Lonesome I Could Cry","I'm Sorry","I'm Walking Behind You","I'm Your Boogie Man","I'm Yours","I'm a Believer","I've Heard That Song Before","If (They Made Me a King)","If I Didn't Care","If You Don't Know Me By Now","If You Leave Me Now","Imagine","In Da Club","In the End","In the Ghetto","In the Mood","In the Summertime","In the Year 2525 (Exordium & Terminus)","Incense & Peppermints","Indian Reservation (The Lament Of The Cherokee Reservation Indian)","Instant Karma","Iris","Ironic","Irreplaceable","It Had to Be You","It's All in the Game","It's My Party","It's Now Or Never","It's Still Rock 'n' Roll to Me","It's Too Late","Jack & Diane","Jailhouse Rock","Jessie's Girl","Jive Talkin'","Johnny B Goode","Joy to the World","Judy in Disguise (With Glasses)","Jump","Jumpin' Jack Flash","Just Dance","Just My Imagination (Running Away With Me)","Just the Way You Are","Kansas City","Karma Chameleon","Keep On Loving You","Killing Me Softly With His Song","King of the Road","Kiss","Kiss & Say Goodbye","Kiss From a Rose","Kiss Me","Kiss On My List","Kiss You All Over","Knock On Wood","Knock Three Times","Kokomo","Kryptonite","Kung Fu Fighting","La Bamba","Lady","Lady Marmalade (Voulez-Vous Coucher Aver Moi Ce Soir?)","Last Train to Clarksville","Layla","Le Freak","Leader of the Pack","Lean On Me","Leaving, on a Jet Plane","Let Me Call You Sweetheart","Let Me Love You","Let it Be","Let it Snow! Let it Snow! Let it Snow!","Let's Dance","Let's Get it On","Let's Groove","Let's Hear it For the Boy","Let's Stay Together","Light My Fire","Lights","Like a Prayer","Like a Rolling Stone","Like a Virgin","Little Darlin'","Little Things Mean a Lot","Live & Let Die","Livin' La Vida Loca","Livin' On a Prayer","Living For the City","Locked Out Of Heaven","Lola","Lonely Boy","Long Cool Woman in a Black Dress","Long Tall Sally","Look Away","Lookin' Out My Back Door","Lose Yourself","Losing My Religion","Louie Louie","Love Child","Love Hangover","Love In This Club","Love Is Blue (L'Amour Est Bleu)","Love Letters in the Sand","Love Me Do","Love Me Tender","Love Shack","Love Theme From 'A Star is Born' (Evergreen)","Love Train","Love Will Keep Us Together","Love is a Many Splendoured Thing","Love to Love You Baby","Love's Theme","Loving You","Low","Macarena","Mack the Knife","Maggie May","Magic","Magic Carpet Ride","Make Love to Me","Make it With You","Makin' Whoopee","Mama Told Me Not to Come","Man in the Mirror","Manana (Is Soon Enough For Me)","Maneater","Maniac","Maybellene","Me & Bobby McGee","Me & Mrs Jones","Memories Are Made of This","Mercy Mercy Me (The Ecology)","Mickey","Midnight Train to Georgia","Minnie the Moocher","Miss You","Miss You Much","Mister Sandman","Mmmbop","Mona Lisa","Monday Monday","Money For Nothing","Mony Mony","Mood Indigo","Moonlight Cocktail","Moonlight Serenade","More Than Words","More Than a Feeling","Morning Train (Nine to Five)","Mr Big Stuff","Mr Brightside","Mr Tambourine Man","Mrs Brown You've Got a Lovely Daughter","Mrs Robinson","Mule Train","Music","My Blue Heaven","My Boyfriend's Back","My Eyes Adored You","My Girl","My Guy","My Heart Will Go On","My Life","My Love","My Man","My Prayer","My Sharona","My Sweet Lord","Na Na Hey Hey (Kiss Him Goodbye)","Nature Boy","Near You","Need You Now","Need You Tonight","Never Gonna Give You Up","Night & Day","Night Fever","Nights in White Satin","No One","No Scrubs","Nobody Does it Better","Nothin' on You","Nothing Compares 2 U","Nothing's Gonna Stop Us Now","Ode To Billie Joe","Oh Happy Day","Oh My Papa (O Mein Papa)","Oh, Pretty Woman","Ol' Man River","Ole Buttermilk Sky","On Bended Knee","On My Own","On the Atchison, Topeka & the Santa Fe","One","One Bad Apple","One More Try","One O'Clock Jump","One Sweet Day","One of These Nights","One of Us","Only The Lonely (Know The Way I Feel)","Only You (And You Alone)","Open Arms","Over There","Over the Rainbow","Paint it Black","Papa Don't Preach","Papa Was a Rolling Stone","Papa's Got a Brand New Bag","Paper Doll","Paper Planes","Paperback Writer","Party Rock Anthem","Peg o' My Heart","Peggy Sue","Pennies From Heaven","Penny Lane","People","People Got to Be Free","Personality","Philadelphia Freedom","Physical","Piano Man","Pick Up the Pieces","Pistol Packin' Mama","Play That Funky Music","Please Mr Postman","Poker Face","Pon De Replay","Pony Time","Pop Muzik","Prisoner of Love","Private Eyes","Promiscuous","Proud Mary","Purple Haze","Purple Rain","Puttin' on the Ritz","Que sera sera (Whatever will be will be)","Queen of Hearts","Rag Doll","Rag Mop","Rags to Riches","Raindrops Keep Falling On My Head","Rapture","Ray of Light","Reach Out (I'll Be There)","Red Red Wine","Rehab","Respect","Return to Sender","Reunited","Revolution","Rhapsody in Blue","Rhinestone Cowboy","Rich Girl","Riders On the Storm","Right Back Where We Started From","Ring My Bell","Ring of Fire","Rock Around the Clock","Rock With You","Rock Your Baby","Rock the Boat","Rock the Casbah","Roll Over Beethoven","Roll With It","Rolling In The Deep","Rosanna","Roses Are Red","Royals","Ruby Tuesday","Rudolph, the Red-Nosed Reindeer","Rum & Coca-Cola","Runaround Sue","Runaway","Running Scared","Rush Rush","Sailing","Save the Best For Last","Save the Last Dance For Me","Say It Right","Say My Name","Say Say Say","Say You, Say Me","School's Out","Seasons in the Sun","Secret Love","Sentimental Journey","Sexyback","Sh-Boom (Life Could Be a Dream)","Shadow Dancing","Shake Down","Shake You Down","She Drives Me Crazy","She Loves You","She's a Lady","Shining Star","Shop Around","Shout","Silly Love Songs","Since U Been Gone","Sing, Sing, Sing (With A Swing)","Singing The Blues","Single Ladies (Put A Ring On It)","Sir Duke","Sixteen Tons","Sledgehammer","Sleep Walk","Sleepy Lagoon","Slow Poke","Smells Like Teen Spirit","Smoke Gets in Your Eyes","Smoke On the Water","Smoke! Smoke! Smoke! (That Cigarette)","Smooth","So Much in Love","Soldier Boy","Some Enchanted Evening","Some of These Days","Somebody That I Used to Know","Somebody to Love","Someday","Somethin' Stupid","Something","Soul Man","Spanish Harlem","Spill the Wine","Spinning Wheel","Spirit in the Sky","St George & the Dragonette","St Louis Blues","Stagger Lee","Stairway to Heaven","Stand By Me","Stardust","Stars & Stripes Forever","Stay (I Missed You)","Stayin' Alive","Stop! in the Name of Love","Stormy Weather (Keeps Rainin' All the Time)","Straight Up","Strange Fruit","Stranger On the Shore","Strangers in the Night","Strawberry Fields Forever","Streets of Philadelphia","Stronger","Stuck On You","Sugar Shack","Sugar Sugar","Summer in the City","Summertime Blues","Sunday, Monday or Always","Sunshine Superman","Sunshine of Your Love","Superstar","Superstition","Surfin' USA","Suspicious Minds","Swanee","Sweet Caroline (Good Times Never Seemed So Good)","Sweet Child O' Mine","Sweet Dreams (Are Made of This)","Sweet Georgia Brown","Sweet Home Alabama","Sweet Soul Music","Swinging On a Star","T For Texas (Blue Yodel No 1)","TSOP (The Sound of Philadelphia)","Take Me Home, Country Roads","Take My Breath Away","Take On Me","Take The 'A' Train","Take a Bow","Tammy","Tangerine","Tears in Heaven","Tears of a Clown","Temperature","Tennessee Waltz","Tequila","Tha Crossroads","Thank You (Falettinme be Mice Elf Again)","That Lucky Old Sun (Just Rolls Around Heaven All Day)","That Old Black Magic","That'll Be the Day","That's Amore","That's What Friends Are For","That's the Way (I Like It)","That's the Way Love Goes","The Boy is Mine","The Boys of Summer","The Christmas Song (Chestnuts Roasting On An Open Fire)","The End of the World","The First Time Ever I Saw Your Face","The Girl From Ipanema","The Glow-Worm","The Great Pretender","The Gypsy","The Hustle","The Joker","The Last Dance","The Letter","The Loco-Motion","The Long & Winding Road","The Love You Save","The Morning After","The Power of Love","The Prisoner's Song","The Reason","The Rose","The Sign","The Song From Moulin Rouge (Where Is Your Heart)","The Sounds of Silence","The Streak","The Sweet Escape","The Thing","The Tide is High","The Tracks of My Tears","The Twist","The Wanderer","The Way We Were","The Way You Look Tonight","The Way You Move","Theme From 'A Summer Place'","Theme From 'Greatest American Hero' (Believe It Or Not)","Theme From 'Shaft'","There goes my baby","These Boots Are Made For Walking","Third Man Theme","This Diamond Ring","This Guy's in Love With You","This Land is Your Land","This Love","This Ole House","This Used to Be My Playground","Three Coins in the Fountain","Three Times a Lady","Thrift Shop","Thriller","Ticket to Ride","Tie a Yellow Ribbon 'round the Old Oak Tree","Tiger Rag","Tighten Up","Tik-Toc","Till I Waltz Again With You","Till The End of Time","Time After Time","Time of the Season","To Sir, with Love","Tom Dooley","Tonight's the Night (Gonna Be Alright)","Too Close","Too Young","Tossing & Turning","Total Eclipse of the Heart","Touch Me","Toxic","Travellin' Band","Travellin' Man","Truly Madly Deeply","Turn! Turn! Turn! (To Everything There is a Season)","Tutti Frutti","Twist & Shout","Two Hearts","U Can't Touch This","U Got it Bad","Umbrella","Un-Break My Heart","Unbelievable","Unchained Melody","Uncle Albert (Admiral Halsey)","Under the Boardwalk","Under the Bridge","Unforgettable","Up Around the Bend","Up Up & Away","Up Where We Belong","Upside Down","Use Somebody","Vaya Con Dios (may God Be With You)","Venus","Vision of Love","Viva La Vida","Vogue","Volare","Wabash Cannonball","Waiting For a Girl Like You","Wake Me Up Before You Go Go","Wake Up Little Susie","Walk Don't Run","Walk Like a Man","Walk Like an Egyptian","Walk On By","Walk On the Wild Side","Walk This Way","Wannabe","Want Ads","Wanted","War","Waterfalls","Wayward Wind","We Are Family","We Are Young","We Are the Champions","We Are the World","We Belong Together","We Built This City","We Can Work it Out","We Didn't Start the Fire","We Found Love","We Got The Beat","We Will Rock You","We've Only Just Begun","Weak","Wedding Bell Blues","West End Blues","West End Girls","What Goes Around Comes Around","What a Fool Believes","What'd I Say","What's Going On?","What's Love Got to Do With It?","Whatcha Say","Wheel of Fortune","When Doves Cry","When You Wish Upon a Star","When a Man Loves a Woman","Where Did Our Love Go","Where is the Love?","Whip It","Whispering","White Christmas","White Rabbit","Whole Lotta Love","Whole Lotta Shakin' Goin' On","Whoomp! (There it Is)","Why Do Fools Fall in Love?","Why Don't You Believe Me?","Wichita Lineman","Wicked Game","Wild Thing","Wild Wild West","Will It Go Round In Circles","Will You Love Me Tomorrow","Winchester Cathedral","Wind Beneath My Wings","Wipe Out","Wishing Well","With Or Without You","Without Me","Without You","Woman","Won't Get Fooled Again","Wooly Bully","Working My Way Back to You","YMCA","Yakety Yak","Yeah!","Yellow Rose of Texas","Yesterday","You Ain't Seen Nothin' Yet","You Always Hurt the One You Love","You Are the Sunshine of My Life","You Belong With Me","You Belong to Me","You Can't Hurry Love","You Don't Bring Me Flowers","You Don't Have to Be a Star (To Be in My Show)","You Light Up My Life","You Make Me Feel Brand New","You Make Me Feel Like Dancing","You Really Got Me","You Send Me","You Sexy Thing","You Were Meant for Me","You make Me Wanna","You'll Never Know","You're Beautiful","You're So Vain","You're Still the One","You're the One That I Want","You've Got a Friend","You've Lost That Lovin' Feelin'","Your Cheatin' Heart","Your Song"],Jz={album:$z,artist:Uz,genre:Kz,song_name:qz},Yz=Jz,Zz=["activist","artist","author","blogger","business owner","coach","creator","designer","developer","dreamer","educator","engineer","entrepreneur","environmentalist","film lover","filmmaker","foodie","founder","friend","gamer","geek","grad","inventor","leader","model","musician","nerd","parent","patriot","person","philosopher","photographer","public speaker","scientist","singer","streamer","student","teacher","traveler","veteran","writer"],Xz=["{{person.bio_part}}","{{person.bio_part}}, {{person.bio_part}}","{{person.bio_part}}, {{person.bio_part}}, {{person.bio_part}}","{{person.bio_part}}, {{person.bio_part}}, {{person.bio_part}} {{internet.emoji}}","{{word.noun}} {{person.bio_supporter}}","{{word.noun}} {{person.bio_supporter}}  {{internet.emoji}}","{{word.noun}} {{person.bio_supporter}}, {{person.bio_part}}","{{word.noun}} {{person.bio_supporter}}, {{person.bio_part}} {{internet.emoji}}"],Qz=["advocate","devotee","enthusiast","fan","junkie","lover","supporter"],eV={generic:["Aaliyah","Aaron","Abagail","Abbey","Abbie","Abbigail","Abby","Abdiel","Abdul","Abdullah","Abe","Abel","Abelardo","Abigail","Abigale","Abigayle","Abner","Abraham","Ada","Adah","Adalberto","Adaline","Adam","Adan","Addie","Addison","Adela","Adelbert","Adele","Adelia","Adeline","Adell","Adella","Adelle","Aditya","Adolf","Adolfo","Adolph","Adolphus","Adonis","Adrain","Adrian","Adriana","Adrianna","Adriel","Adrien","Adrienne","Afton","Aglae","Agnes","Agustin","Agustina","Ahmad","Ahmed","Aida","Aidan","Aiden","Aileen","Aimee","Aisha","Aiyana","Akeem","Al","Alaina","Alan","Alana","Alanis","Alanna","Alayna","Alba","Albert","Alberta","Albertha","Alberto","Albin","Albina","Alda","Alden","Alec","Aleen","Alejandra","Alejandrin","Alek","Alena","Alene","Alessandra","Alessandro","Alessia","Aletha","Alex","Alexa","Alexander","Alexandra","Alexandre","Alexandrea","Alexandria","Alexandrine","Alexandro","Alexane","Alexanne","Alexie","Alexis","Alexys","Alexzander","Alf","Alfonso","Alfonzo","Alford","Alfred","Alfreda","Alfredo","Ali","Alia","Alice","Alicia","Alisa","Alisha","Alison","Alivia","Aliya","Aliyah","Aliza","Alize","Allan","Allen","Allene","Allie","Allison","Ally","Alphonso","Alta","Althea","Alva","Alvah","Alvena","Alvera","Alverta","Alvina","Alvis","Alyce","Alycia","Alysa","Alysha","Alyson","Alysson","Amalia","Amanda","Amani","Amara","Amari","Amaya","Amber","Ambrose","Amelia","Amelie","Amely","America","Americo","Amie","Amina","Amir","Amira","Amiya","Amos","Amparo","Amy","Amya","Ana","Anabel","Anabelle","Anahi","Anais","Anastacio","Anastasia","Anderson","Andre","Andreane","Andreanne","Andres","Andrew","Andy","Angel","Angela","Angelica","Angelina","Angeline","Angelita","Angelo","Angie","Angus","Anibal","Anika","Anissa","Anita","Aniya","Aniyah","Anjali","Anna","Annabel","Annabell","Annabelle","Annalise","Annamae","Annamarie","Anne","Annetta","Annette","Annie","Ansel","Ansley","Anthony","Antoinette","Antone","Antonetta","Antonette","Antonia","Antonietta","Antonina","Antonio","Antwan","Antwon","Anya","April","Ara","Araceli","Aracely","Arch","Archibald","Ardella","Arden","Ardith","Arely","Ari","Ariane","Arianna","Aric","Ariel","Arielle","Arjun","Arlene","Arlie","Arlo","Armand","Armando","Armani","Arnaldo","Arne","Arno","Arnold","Arnoldo","Arnulfo","Aron","Art","Arthur","Arturo","Arvel","Arvid","Arvilla","Aryanna","Asa","Asha","Ashlee","Ashleigh","Ashley","Ashly","Ashlynn","Ashton","Ashtyn","Asia","Assunta","Astrid","Athena","Aubree","Aubrey","Audie","Audra","Audreanne","Audrey","August","Augusta","Augustine","Augustus","Aurelia","Aurelie","Aurelio","Aurore","Austen","Austin","Austyn","Autumn","Ava","Avery","Avis","Axel","Ayana","Ayden","Ayla","Aylin","Baby","Bailee","Bailey","Barbara","Barney","Baron","Barrett","Barry","Bart","Bartholome","Barton","Baylee","Beatrice","Beau","Beaulah","Bell","Bella","Belle","Ben","Benedict","Benjamin","Bennett","Bennie","Benny","Benton","Berenice","Bernadette","Bernadine","Bernard","Bernardo","Berneice","Bernhard","Bernice","Bernie","Berniece","Bernita","Berry","Bert","Berta","Bertha","Bertram","Bertrand","Beryl","Bessie","Beth","Bethany","Bethel","Betsy","Bette","Bettie","Betty","Bettye","Beulah","Beverly","Bianka","Bill","Billie","Billy","Birdie","Blair","Blaise","Blake","Blanca","Blanche","Blaze","Bo","Bobbie","Bobby","Bonita","Bonnie","Boris","Boyd","Brad","Braden","Bradford","Bradley","Bradly","Brady","Braeden","Brain","Brandi","Brando","Brandon","Brandt","Brandy","Brandyn","Brannon","Branson","Brant","Braulio","Braxton","Brayan","Breana","Breanna","Breanne","Brenda","Brendan","Brenden","Brendon","Brenna","Brennan","Brennon","Brent","Bret","Brett","Bria","Brian","Briana","Brianne","Brice","Bridget","Bridgette","Bridie","Brielle","Brigitte","Brionna","Brisa","Britney","Brittany","Brock","Broderick","Brody","Brook","Brooke","Brooklyn","Brooks","Brown","Bruce","Bryana","Bryce","Brycen","Bryon","Buck","Bud","Buddy","Buford","Bulah","Burdette","Burley","Burnice","Buster","Cade","Caden","Caesar","Caitlyn","Cale","Caleb","Caleigh","Cali","Calista","Callie","Camden","Cameron","Camila","Camilla","Camille","Camren","Camron","Camryn","Camylle","Candace","Candelario","Candice","Candida","Candido","Cara","Carey","Carissa","Carlee","Carleton","Carley","Carli","Carlie","Carlo","Carlos","Carlotta","Carmel","Carmela","Carmella","Carmelo","Carmen","Carmine","Carol","Carolanne","Carole","Carolina","Caroline","Carolyn","Carolyne","Carrie","Carroll","Carson","Carter","Cary","Casandra","Casey","Casimer","Casimir","Casper","Cassandra","Cassandre","Cassidy","Cassie","Catalina","Caterina","Catharine","Catherine","Cathrine","Cathryn","Cathy","Cayla","Ceasar","Cecelia","Cecil","Cecile","Cecilia","Cedrick","Celestine","Celestino","Celia","Celine","Cesar","Chad","Chadd","Chadrick","Chaim","Chance","Chandler","Chanel","Chanelle","Charity","Charlene","Charles","Charley","Charlie","Charlotte","Chase","Chasity","Chauncey","Chaya","Chaz","Chelsea","Chelsey","Chelsie","Chesley","Chester","Chet","Cheyanne","Cheyenne","Chloe","Chris","Christ","Christa","Christelle","Christian","Christiana","Christina","Christine","Christop","Christophe","Christopher","Christy","Chyna","Ciara","Cicero","Cielo","Cierra","Cindy","Citlalli","Clair","Claire","Clara","Clarabelle","Clare","Clarissa","Clark","Claud","Claude","Claudia","Claudie","Claudine","Clay","Clemens","Clement","Clementina","Clementine","Clemmie","Cleo","Cleora","Cleta","Cletus","Cleve","Cleveland","Clifford","Clifton","Clint","Clinton","Clotilde","Clovis","Cloyd","Clyde","Coby","Cody","Colby","Cole","Coleman","Colin","Colleen","Collin","Colt","Colten","Colton","Columbus","Concepcion","Conner","Connie","Connor","Conor","Conrad","Constance","Constantin","Consuelo","Cooper","Cora","Coralie","Corbin","Cordelia","Cordell","Cordia","Cordie","Corene","Corine","Cornelius","Cornell","Corrine","Cortez","Cortney","Cory","Coty","Courtney","Coy","Craig","Crawford","Creola","Cristal","Cristian","Cristina","Cristobal","Cristopher","Cruz","Crystal","Crystel","Cullen","Curt","Curtis","Cydney","Cynthia","Cyril","Cyrus","D'angelo","Dagmar","Dahlia","Daija","Daisha","Daisy","Dakota","Dale","Dallas","Dallin","Dalton","Damaris","Dameon","Damian","Damien","Damion","Damon","Dan","Dana","Dandre","Dane","Dangelo","Danial","Daniela","Daniella","Danielle","Danika","Dannie","Danny","Dante","Danyka","Daphne","Daphnee","Daphney","Darby","Daren","Darian","Dariana","Darien","Dario","Darion","Darius","Darlene","Daron","Darrel","Darrell","Darren","Darrick","Darrin","Darrion","Darron","Darryl","Darwin","Daryl","Dashawn","Dasia","Dave","David","Davin","Davion","Davon","Davonte","Dawn","Dawson","Dax","Dayana","Dayna","Dayne","Dayton","Dean","Deangelo","Deanna","Deborah","Declan","Dedric","Dedrick","Dee","Deion","Deja","Dejah","Dejon","Dejuan","Delaney","Delbert","Delfina","Delia","Delilah","Dell","Della","Delmer","Delores","Delpha","Delphia","Delphine","Delta","Demarco","Demarcus","Demario","Demetris","Demetrius","Demond","Dena","Denis","Dennis","Deon","Deondre","Deontae","Deonte","Dereck","Derek","Derick","Deron","Derrick","Deshaun","Deshawn","Desiree","Desmond","Dessie","Destany","Destin","Destinee","Destiney","Destini","Destiny","Devan","Devante","Deven","Devin","Devon","Devonte","Devyn","Dewayne","Dewitt","Dexter","Diamond","Diana","Dianna","Diego","Dillan","Dillon","Dimitri","Dina","Dino","Dion","Dixie","Dock","Dolly","Dolores","Domenic","Domenica","Domenick","Domenico","Domingo","Dominic","Dominique","Don","Donald","Donato","Donavon","Donna","Donnell","Donnie","Donny","Dora","Dorcas","Dorian","Doris","Dorothea","Dorothy","Dorris","Dortha","Dorthy","Doug","Douglas","Dovie","Doyle","Drake","Drew","Duane","Dudley","Dulce","Duncan","Durward","Dustin","Dusty","Dwight","Dylan","Earl","Earlene","Earline","Earnest","Earnestine","Easter","Easton","Ebba","Ebony","Ed","Eda","Edd","Eddie","Eden","Edgar","Edgardo","Edison","Edmond","Edmund","Edna","Eduardo","Edward","Edwardo","Edwin","Edwina","Edyth","Edythe","Effie","Efrain","Efren","Eileen","Einar","Eino","Eladio","Elaina","Elbert","Elda","Eldon","Eldora","Eldred","Eldridge","Eleanora","Eleanore","Eleazar","Electa","Elena","Elenor","Elenora","Eleonore","Elfrieda","Eli","Elian","Eliane","Elias","Eliezer","Elijah","Elinor","Elinore","Elisa","Elisabeth","Elise","Eliseo","Elisha","Elissa","Eliza","Elizabeth","Ella","Ellen","Ellie","Elliot","Elliott","Ellis","Ellsworth","Elmer","Elmira","Elmo","Elmore","Elna","Elnora","Elody","Eloisa","Eloise","Elouise","Eloy","Elroy","Elsa","Else","Elsie","Elta","Elton","Elva","Elvera","Elvie","Elvis","Elwin","Elwyn","Elyse","Elyssa","Elza","Emanuel","Emelia","Emelie","Emely","Emerald","Emerson","Emery","Emie","Emil","Emile","Emilia","Emiliano","Emilie","Emilio","Emily","Emma","Emmalee","Emmanuel","Emmanuelle","Emmet","Emmett","Emmie","Emmitt","Emmy","Emory","Ena","Enid","Enoch","Enola","Enos","Enrico","Enrique","Ephraim","Era","Eriberto","Eric","Erica","Erich","Erick","Ericka","Erik","Erika","Erin","Erling","Erna","Ernest","Ernestina","Ernestine","Ernesto","Ernie","Ervin","Erwin","Eryn","Esmeralda","Esperanza","Esta","Esteban","Estefania","Estel","Estell","Estella","Estelle","Estevan","Esther","Estrella","Etha","Ethan","Ethel","Ethelyn","Ethyl","Ettie","Eudora","Eugene","Eugenia","Eula","Eulah","Eulalia","Euna","Eunice","Eusebio","Eva","Evalyn","Evan","Evangeline","Evans","Eve","Eveline","Evelyn","Everardo","Everett","Everette","Evert","Evie","Ewald","Ewell","Ezekiel","Ezequiel","Ezra","Fabian","Fabiola","Fae","Fannie","Fanny","Fatima","Faustino","Fausto","Favian","Fay","Faye","Federico","Felicia","Felicita","Felicity","Felipa","Felipe","Felix","Felton","Fermin","Fern","Fernando","Ferne","Fidel","Filiberto","Filomena","Finn","Fiona","Flavie","Flavio","Fleta","Fletcher","Flo","Florence","Florencio","Florian","Florida","Florine","Flossie","Floy","Floyd","Ford","Forest","Forrest","Foster","Frances","Francesca","Francesco","Francis","Francisca","Francisco","Franco","Frank","Frankie","Franz","Fred","Freda","Freddie","Freddy","Frederic","Frederick","Frederik","Frederique","Fredrick","Fredy","Freeda","Freeman","Freida","Frida","Frieda","Friedrich","Fritz","Furman","Gabe","Gabriel","Gabriella","Gabrielle","Gaetano","Gage","Gail","Gardner","Garett","Garfield","Garland","Garnet","Garnett","Garret","Garrett","Garrick","Garrison","Garry","Garth","Gaston","Gavin","Gayle","Gene","General","Genesis","Genevieve","Gennaro","Genoveva","Geo","Geoffrey","George","Georgette","Georgiana","Georgianna","Geovanni","Geovanny","Geovany","Gerald","Geraldine","Gerard","Gerardo","Gerda","Gerhard","Germaine","German","Gerry","Gerson","Gertrude","Gia","Gianni","Gideon","Gilbert","Gilberto","Gilda","Giles","Gillian","Gina","Gino","Giovani","Giovanna","Giovanni","Giovanny","Gisselle","Giuseppe","Gladyce","Gladys","Glen","Glenda","Glenna","Glennie","Gloria","Godfrey","Golda","Golden","Gonzalo","Gordon","Grace","Gracie","Graciela","Grady","Graham","Grant","Granville","Grayce","Grayson","Green","Greg","Gregg","Gregoria","Gregorio","Gregory","Greta","Gretchen","Greyson","Griffin","Grover","Guadalupe","Gudrun","Guido","Guillermo","Guiseppe","Gunnar","Gunner","Gus","Gussie","Gust","Gustave","Guy","Gwen","Gwendolyn","Hadley","Hailee","Hailey","Hailie","Hal","Haleigh","Haley","Halie","Halle","Hallie","Hank","Hanna","Hannah","Hans","Hardy","Harley","Harmon","Harmony","Harold","Harrison","Harry","Harvey","Haskell","Hassan","Hassie","Hattie","Haven","Hayden","Haylee","Hayley","Haylie","Hazel","Hazle","Heath","Heather","Heaven","Heber","Hector","Heidi","Helen","Helena","Helene","Helga","Hellen","Helmer","Heloise","Henderson","Henri","Henriette","Henry","Herbert","Herman","Hermann","Hermina","Herminia","Herminio","Hershel","Herta","Hertha","Hester","Hettie","Hilario","Hilbert","Hilda","Hildegard","Hillard","Hillary","Hilma","Hilton","Hipolito","Hiram","Hobart","Holden","Hollie","Hollis","Holly","Hope","Horace","Horacio","Hortense","Hosea","Houston","Howard","Howell","Hoyt","Hubert","Hudson","Hugh","Hulda","Humberto","Hunter","Hyman","Ian","Ibrahim","Icie","Ida","Idell","Idella","Ignacio","Ignatius","Ike","Ila","Ilene","Iliana","Ima","Imani","Imelda","Immanuel","Imogene","Ines","Irma","Irving","Irwin","Isaac","Isabel","Isabell","Isabella","Isabelle","Isac","Isadore","Isai","Isaiah","Isaias","Isidro","Ismael","Isobel","Isom","Israel","Issac","Itzel","Iva","Ivah","Ivory","Ivy","Izabella","Izaiah","Jabari","Jace","Jacey","Jacinthe","Jacinto","Jack","Jackeline","Jackie","Jacklyn","Jackson","Jacky","Jaclyn","Jacquelyn","Jacques","Jacynthe","Jada","Jade","Jaden","Jadon","Jadyn","Jaeden","Jaida","Jaiden","Jailyn","Jaime","Jairo","Jakayla","Jake","Jakob","Jaleel","Jalen","Jalon","Jalyn","Jamaal","Jamal","Jamar","Jamarcus","Jamel","Jameson","Jamey","Jamie","Jamil","Jamir","Jamison","Jammie","Jan","Jana","Janae","Jane","Janelle","Janessa","Janet","Janice","Janick","Janie","Janis","Janiya","Jannie","Jany","Jaquan","Jaquelin","Jaqueline","Jared","Jaren","Jarod","Jaron","Jarred","Jarrell","Jarret","Jarrett","Jarrod","Jarvis","Jasen","Jasmin","Jason","Jasper","Jaunita","Javier","Javon","Javonte","Jay","Jayce","Jaycee","Jayda","Jayde","Jayden","Jaydon","Jaylan","Jaylen","Jaylin","Jaylon","Jayme","Jayne","Jayson","Jazlyn","Jazmin","Jazmyn","Jazmyne","Jean","Jeanette","Jeanie","Jeanne","Jed","Jedediah","Jedidiah","Jeff","Jefferey","Jeffery","Jeffrey","Jeffry","Jena","Jenifer","Jennie","Jennifer","Jennings","Jennyfer","Jensen","Jerad","Jerald","Jeramie","Jeramy","Jerel","Jeremie","Jeremy","Jermain","Jermaine","Jermey","Jerod","Jerome","Jeromy","Jerrell","Jerrod","Jerrold","Jerry","Jess","Jesse","Jessica","Jessie","Jessika","Jessy","Jessyca","Jesus","Jett","Jettie","Jevon","Jewel","Jewell","Jillian","Jimmie","Jimmy","Jo","Joan","Joana","Joanie","Joanne","Joannie","Joanny","Joany","Joaquin","Jocelyn","Jodie","Jody","Joe","Joel","Joelle","Joesph","Joey","Johan","Johann","Johanna","Johathan","John","Johnathan","Johnathon","Johnnie","Johnny","Johnpaul","Johnson","Jolie","Jon","Jonas","Jonatan","Jonathan","Jonathon","Jordan","Jordane","Jordi","Jordon","Jordy","Jordyn","Jorge","Jose","Josefa","Josefina","Joseph","Josephine","Josh","Joshua","Joshuah","Josiah","Josiane","Josianne","Josie","Josue","Jovan","Jovani","Jovanny","Jovany","Joy","Joyce","Juana","Juanita","Judah","Judd","Jude","Judge","Judson","Judy","Jules","Julia","Julian","Juliana","Julianne","Julie","Julien","Juliet","Julio","Julius","June","Junior","Junius","Justen","Justice","Justina","Justine","Juston","Justus","Justyn","Juvenal","Juwan","Kacey","Kaci","Kacie","Kade","Kaden","Kadin","Kaela","Kaelyn","Kaia","Kailee","Kailey","Kailyn","Kaitlin","Kaitlyn","Kale","Kaleb","Kaleigh","Kaley","Kali","Kallie","Kameron","Kamille","Kamren","Kamron","Kamryn","Kane","Kara","Kareem","Karelle","Karen","Kari","Kariane","Karianne","Karina","Karine","Karl","Karlee","Karley","Karli","Karlie","Karolann","Karson","Kasandra","Kasey","Kassandra","Katarina","Katelin","Katelyn","Katelynn","Katharina","Katherine","Katheryn","Kathleen","Kathlyn","Kathryn","Kathryne","Katlyn","Katlynn","Katrina","Katrine","Kattie","Kavon","Kay","Kaya","Kaycee","Kayden","Kayla","Kaylah","Kaylee","Kayleigh","Kayley","Kayli","Kaylie","Kaylin","Keagan","Keanu","Keara","Keaton","Keegan","Keeley","Keely","Keenan","Keira","Keith","Kellen","Kelley","Kelli","Kellie","Kelly","Kelsi","Kelsie","Kelton","Kelvin","Ken","Kendall","Kendra","Kendrick","Kenna","Kennedi","Kennedy","Kenneth","Kennith","Kenny","Kenton","Kenya","Kenyatta","Kenyon","Keon","Keshaun","Keshawn","Keven","Kevin","Kevon","Keyon","Keyshawn","Khalid","Khalil","Kian","Kiana","Kianna","Kiara","Kiarra","Kiel","Kiera","Kieran","Kiley","Kim","Kimberly","King","Kip","Kira","Kirk","Kirsten","Kirstin","Kitty","Kobe","Koby","Kody","Kolby","Kole","Korbin","Korey","Kory","Kraig","Kris","Krista","Kristian","Kristin","Kristina","Kristofer","Kristoffer","Kristopher","Kristy","Krystal","Krystel","Krystina","Kurt","Kurtis","Kyla","Kyle","Kylee","Kyleigh","Kyler","Kylie","Kyra","Lacey","Lacy","Ladarius","Lafayette","Laila","Laisha","Lamar","Lambert","Lamont","Lance","Landen","Lane","Laney","Larissa","Laron","Larry","Larue","Laura","Laurel","Lauren","Laurence","Lauretta","Lauriane","Laurianne","Laurie","Laurine","Laury","Lauryn","Lavada","Lavern","Laverna","Laverne","Lavina","Lavinia","Lavon","Lavonne","Lawrence","Lawson","Layla","Layne","Lazaro","Lea","Leann","Leanna","Leanne","Leatha","Leda","Lee","Leif","Leila","Leilani","Lela","Lelah","Leland","Lelia","Lempi","Lemuel","Lenna","Lennie","Lenny","Lenora","Lenore","Leo","Leola","Leon","Leonard","Leonardo","Leone","Leonel","Leonie","Leonor","Leonora","Leopold","Leopoldo","Leora","Lera","Lesley","Leslie","Lesly","Lessie","Lester","Leta","Letha","Letitia","Levi","Lew","Lewis","Lexi","Lexie","Lexus","Lia","Liam","Liana","Libbie","Libby","Lila","Lilian","Liliana","Liliane","Lilla","Lillian","Lilliana","Lillie","Lilly","Lily","Lilyan","Lina","Lincoln","Linda","Lindsay","Lindsey","Linnea","Linnie","Linwood","Lionel","Lisa","Lisandro","Lisette","Litzy","Liza","Lizeth","Lizzie","Llewellyn","Lloyd","Logan","Lois","Lola","Lolita","Loma","Lon","London","Lonie","Lonnie","Lonny","Lonzo","Lora","Loraine","Loren","Lorena","Lorenz","Lorenza","Lorenzo","Lori","Lorine","Lorna","Lottie","Lou","Louie","Louisa","Lourdes","Louvenia","Lowell","Loy","Loyal","Loyce","Lucas","Luciano","Lucie","Lucienne","Lucile","Lucinda","Lucio","Lucious","Lucius","Lucy","Ludie","Ludwig","Lue","Luella","Luigi","Luis","Luisa","Lukas","Lula","Lulu","Luna","Lupe","Lura","Lurline","Luther","Luz","Lyda","Lydia","Lyla","Lynn","Lyric","Lysanne","Mabel","Mabelle","Mable","Mac","Macey","Maci","Macie","Mack","Mackenzie","Macy","Madaline","Madalyn","Maddison","Madeline","Madelyn","Madelynn","Madge","Madie","Madilyn","Madisen","Madison","Madisyn","Madonna","Madyson","Mae","Maegan","Maeve","Mafalda","Magali","Magdalen","Magdalena","Maggie","Magnolia","Magnus","Maia","Maida","Maiya","Major","Makayla","Makenna","Makenzie","Malachi","Malcolm","Malika","Malinda","Mallie","Mallory","Malvina","Mandy","Manley","Manuel","Manuela","Mara","Marc","Marcel","Marcelina","Marcelino","Marcella","Marcelle","Marcellus","Marcelo","Marcia","Marco","Marcos","Marcus","Margaret","Margarete","Margarett","Margaretta","Margarette","Margarita","Marge","Margie","Margot","Margret","Marguerite","Maria","Mariah","Mariam","Marian","Mariana","Mariane","Marianna","Marianne","Mariano","Maribel","Marie","Mariela","Marielle","Marietta","Marilie","Marilou","Marilyne","Marina","Mario","Marion","Marisa","Marisol","Maritza","Marjolaine","Marjorie","Marjory","Mark","Markus","Marlee","Marlen","Marlene","Marley","Marlin","Marlon","Marques","Marquis","Marquise","Marshall","Marta","Martin","Martina","Martine","Marty","Marvin","Mary","Maryam","Maryjane","Maryse","Mason","Mateo","Mathew","Mathias","Mathilde","Matilda","Matilde","Matt","Matteo","Mattie","Maud","Maude","Maudie","Maureen","Maurice","Mauricio","Maurine","Maverick","Mavis","Max","Maxie","Maxime","Maximilian","Maximillia","Maximillian","Maximo","Maximus","Maxine","Maxwell","May","Maya","Maybell","Maybelle","Maye","Maymie","Maynard","Mayra","Mazie","Mckayla","Mckenna","Mckenzie","Meagan","Meaghan","Meda","Megane","Meggie","Meghan","Mekhi","Melany","Melba","Melisa","Melissa","Mellie","Melody","Melvin","Melvina","Melyna","Melyssa","Mercedes","Meredith","Merl","Merle","Merlin","Merritt","Mertie","Mervin","Meta","Mia","Micaela","Micah","Michael","Michaela","Michale","Micheal","Michel","Michele","Michelle","Miguel","Mikayla","Mike","Mikel","Milan","Miles","Milford","Miller","Millie","Milo","Milton","Mina","Minerva","Minnie","Miracle","Mireille","Mireya","Misael","Missouri","Misty","Mitchel","Mitchell","Mittie","Modesta","Modesto","Mohamed","Mohammad","Mohammed","Moises","Mollie","Molly","Mona","Monica","Monique","Monroe","Monserrat","Monserrate","Montana","Monte","Monty","Morgan","Moriah","Morris","Mortimer","Morton","Mose","Moses","Moshe","Mossie","Mozell","Mozelle","Muhammad","Muriel","Murl","Murphy","Murray","Mustafa","Mya","Myah","Mylene","Myles","Myra","Myriam","Myrl","Myrna","Myron","Myrtice","Myrtie","Myrtis","Myrtle","Nadia","Nakia","Name","Nannie","Naomi","Naomie","Napoleon","Narciso","Nash","Nasir","Nat","Natalia","Natalie","Natasha","Nathan","Nathanael","Nathanial","Nathaniel","Nathen","Nayeli","Neal","Ned","Nedra","Neha","Neil","Nelda","Nella","Nelle","Nellie","Nels","Nelson","Neoma","Nestor","Nettie","Neva","Newell","Newton","Nia","Nicholas","Nicholaus","Nichole","Nick","Nicklaus","Nickolas","Nico","Nicola","Nicolas","Nicole","Nicolette","Nigel","Nikita","Nikki","Nikko","Niko","Nikolas","Nils","Nina","Noah","Noble","Noe","Noel","Noelia","Noemi","Noemie","Noemy","Nola","Nolan","Nona","Nora","Norbert","Norberto","Norene","Norma","Norris","Norval","Norwood","Nova","Novella","Nya","Nyah","Nyasia","Obie","Oceane","Ocie","Octavia","Oda","Odell","Odessa","Odie","Ofelia","Okey","Ola","Olaf","Ole","Olen","Oleta","Olga","Olin","Oliver","Ollie","Oma","Omari","Omer","Ona","Onie","Opal","Ophelia","Ora","Oral","Oran","Oren","Orie","Orin","Orion","Orland","Orlando","Orlo","Orpha","Orrin","Orval","Orville","Osbaldo","Osborne","Oscar","Osvaldo","Oswald","Oswaldo","Otha","Otho","Otilia","Otis","Ottilie","Ottis","Otto","Ova","Owen","Ozella","Pablo","Paige","Palma","Pamela","Pansy","Paolo","Paris","Parker","Pascale","Pasquale","Pat","Patience","Patricia","Patrick","Patsy","Pattie","Paul","Paula","Pauline","Paxton","Payton","Pearl","Pearlie","Pearline","Pedro","Peggie","Penelope","Percival","Percy","Perry","Pete","Peter","Petra","Peyton","Philip","Phoebe","Phyllis","Pierce","Pierre","Pietro","Pink","Pinkie","Piper","Polly","Porter","Precious","Presley","Preston","Price","Prince","Princess","Priscilla","Providenci","Prudence","Queen","Queenie","Quentin","Quincy","Quinn","Quinten","Quinton","Rachael","Rachel","Rachelle","Rae","Raegan","Rafael","Rafaela","Raheem","Rahsaan","Rahul","Raina","Raleigh","Ralph","Ramiro","Ramon","Ramona","Randal","Randall","Randi","Randy","Ransom","Raoul","Raphael","Raphaelle","Raquel","Rashad","Rashawn","Rasheed","Raul","Raven","Ray","Raymond","Raymundo","Reagan","Reanna","Reba","Rebeca","Rebecca","Rebeka","Rebekah","Reece","Reed","Reese","Regan","Reggie","Reginald","Reid","Reilly","Reina","Reinhold","Remington","Rene","Renee","Ressie","Reta","Retha","Retta","Reuben","Reva","Rex","Rey","Reyes","Reymundo","Reyna","Reynold","Rhea","Rhett","Rhianna","Rhiannon","Rhoda","Ricardo","Richard","Richie","Richmond","Rick","Rickey","Rickie","Ricky","Rico","Rigoberto","Riley","Rita","River","Robb","Robbie","Robert","Roberta","Roberto","Robin","Robyn","Rocio","Rocky","Rod","Roderick","Rodger","Rodolfo","Rodrick","Rodrigo","Roel","Rogelio","Roger","Rogers","Rolando","Rollin","Roma","Romaine","Roman","Ron","Ronaldo","Ronny","Roosevelt","Rory","Rosa","Rosalee","Rosalia","Rosalind","Rosalinda","Rosalyn","Rosamond","Rosanna","Rosario","Roscoe","Rose","Rosella","Roselyn","Rosemarie","Rosemary","Rosendo","Rosetta","Rosie","Rosina","Roslyn","Ross","Rossie","Rowan","Rowena","Rowland","Roxane","Roxanne","Roy","Royal","Royce","Rozella","Ruben","Rubie","Ruby","Rubye","Rudolph","Rudy","Rupert","Russ","Russel","Russell","Rusty","Ruth","Ruthe","Ruthie","Ryan","Ryann","Ryder","Rylan","Rylee","Ryleigh","Ryley","Sabina","Sabrina","Sabryna","Sadie","Sadye","Sage","Saige","Sallie","Sally","Salma","Salvador","Salvatore","Sam","Samanta","Samantha","Samara","Samir","Sammie","Sammy","Samson","Sandra","Sandrine","Sandy","Sanford","Santa","Santiago","Santina","Santino","Santos","Sarah","Sarai","Sarina","Sasha","Saul","Savanah","Savanna","Savannah","Savion","Scarlett","Schuyler","Scot","Scottie","Scotty","Seamus","Sean","Sebastian","Sedrick","Selena","Selina","Selmer","Serena","Serenity","Seth","Shad","Shaina","Shakira","Shana","Shane","Shanel","Shanelle","Shania","Shanie","Shaniya","Shanna","Shannon","Shanny","Shanon","Shany","Sharon","Shaun","Shawn","Shawna","Shaylee","Shayna","Shayne","Shea","Sheila","Sheldon","Shemar","Sheridan","Sherman","Sherwood","Shirley","Shyann","Shyanne","Sibyl","Sid","Sidney","Sienna","Sierra","Sigmund","Sigrid","Sigurd","Silas","Sim","Simeon","Simone","Sincere","Sister","Skye","Skyla","Skylar","Sofia","Soledad","Solon","Sonia","Sonny","Sonya","Sophia","Sophie","Spencer","Stacey","Stacy","Stan","Stanford","Stanley","Stanton","Stefan","Stefanie","Stella","Stephan","Stephania","Stephanie","Stephany","Stephen","Stephon","Sterling","Steve","Stevie","Stewart","Stone","Stuart","Summer","Sunny","Susan","Susana","Susanna","Susie","Suzanne","Sven","Syble","Sydnee","Sydney","Sydni","Sydnie","Sylvan","Sylvester","Sylvia","Tabitha","Tad","Talia","Talon","Tamara","Tamia","Tania","Tanner","Tanya","Tara","Taryn","Tate","Tatum","Tatyana","Taurean","Tavares","Taya","Taylor","Teagan","Ted","Telly","Terence","Teresa","Terrance","Terrell","Terrence","Terrill","Terry","Tess","Tessie","Tevin","Thad","Thaddeus","Thalia","Thea","Thelma","Theo","Theodora","Theodore","Theresa","Therese","Theresia","Theron","Thomas","Thora","Thurman","Tia","Tiana","Tianna","Tiara","Tierra","Tiffany","Tillman","Timmothy","Timmy","Timothy","Tina","Tito","Titus","Tobin","Toby","Tod","Tom","Tomas","Tomasa","Tommie","Toney","Toni","Tony","Torey","Torrance","Torrey","Toy","Trace","Tracey","Tracy","Travis","Travon","Tre","Tremaine","Tremayne","Trent","Trenton","Tressa","Tressie","Treva","Trever","Trevion","Trevor","Trey","Trinity","Trisha","Tristian","Tristin","Triston","Troy","Trudie","Trycia","Trystan","Turner","Twila","Tyler","Tyra","Tyree","Tyreek","Tyrel","Tyrell","Tyrese","Tyrique","Tyshawn","Tyson","Ubaldo","Ulices","Ulises","Una","Unique","Urban","Uriah","Uriel","Ursula","Vada","Valentin","Valentina","Valentine","Valerie","Vallie","Van","Vance","Vanessa","Vaughn","Veda","Velda","Vella","Velma","Velva","Vena","Verda","Verdie","Vergie","Verla","Verlie","Vern","Verna","Verner","Vernice","Vernie","Vernon","Verona","Veronica","Vesta","Vicenta","Vicente","Vickie","Vicky","Victor","Victoria","Vida","Vidal","Vilma","Vince","Vincent","Vincenza","Vincenzo","Vinnie","Viola","Violet","Violette","Virgie","Virgil","Virginia","Virginie","Vita","Vito","Viva","Vivian","Viviane","Vivianne","Vivien","Vivienne","Vladimir","Wade","Waino","Waldo","Walker","Wallace","Walter","Walton","Wanda","Ward","Warren","Watson","Wava","Waylon","Wayne","Webster","Weldon","Wellington","Wendell","Wendy","Werner","Westley","Weston","Whitney","Wilber","Wilbert","Wilburn","Wiley","Wilford","Wilfred","Wilfredo","Wilfrid","Wilhelm","Wilhelmine","Will","Willa","Willard","William","Willie","Willis","Willow","Willy","Wilma","Wilmer","Wilson","Wilton","Winfield","Winifred","Winnifred","Winona","Winston","Woodrow","Wyatt","Wyman","Xander","Xavier","Xzavier","Yadira","Yasmeen","Yasmin","Yasmine","Yazmin","Yesenia","Yessenia","Yolanda","Yoshiko","Yvette","Yvonne","Zachariah","Zachary","Zachery","Zack","Zackary","Zackery","Zakary","Zander","Zane","Zaria","Zechariah","Zelda","Zella","Zelma","Zena","Zetta","Zion","Zita","Zoe","Zoey","Zoie","Zoila","Zola","Zora","Zula"],female:["Ada","Adrienne","Agnes","Alberta","Alexandra","Alexis","Alice","Alicia","Alison","Allison","Alma","Alyssa","Amanda","Amber","Amelia","Amy","Ana","Andrea","Angel","Angela","Angelica","Angelina","Angie","Anita","Ann","Anna","Anne","Annette","Annie","Antoinette","Antonia","April","Arlene","Ashley","Audrey","Barbara","Beatrice","Becky","Belinda","Bernadette","Bernice","Bertha","Bessie","Beth","Bethany","Betsy","Betty","Beulah","Beverly","Billie","Blanca","Blanche","Bobbie","Bonnie","Brandi","Brandy","Brenda","Bridget","Brittany","Brooke","Camille","Candace","Candice","Carla","Carmen","Carol","Carole","Caroline","Carolyn","Carrie","Casey","Cassandra","Catherine","Cathy","Cecelia","Cecilia","Celia","Charlene","Charlotte","Chelsea","Cheryl","Christie","Christina","Christine","Christy","Cindy","Claire","Clara","Claudia","Colleen","Connie","Constance","Cora","Courtney","Cristina","Crystal","Cynthia","Daisy","Dana","Danielle","Darla","Darlene","Dawn","Deanna","Debbie","Deborah","Debra","Delia","Della","Delores","Denise","Desiree","Diana","Diane","Dianna","Dianne","Dixie","Dolores","Donna","Dora","Doreen","Doris","Dorothy","Ebony","Edith","Edna","Eileen","Elaine","Eleanor","Elena","Elisa","Elizabeth","Ella","Ellen","Eloise","Elsa","Elsie","Elvira","Emily","Emma","Erica","Erika","Erin","Erma","Ernestine","Essie","Estelle","Esther","Ethel","Eula","Eunice","Eva","Evelyn","Faith","Fannie","Faye","Felicia","Flora","Florence","Frances","Francis","Freda","Gail","Gayle","Geneva","Genevieve","Georgia","Geraldine","Gertrude","Gina","Ginger","Gladys","Glenda","Gloria","Grace","Gretchen","Guadalupe","Gwen","Gwendolyn","Hannah","Harriet","Hattie","Hazel","Heather","Heidi","Helen","Henrietta","Hilda","Holly","Hope","Ida","Inez","Irene","Iris","Irma","Isabel","Jackie","Jacqueline","Jacquelyn","Jaime","Jamie","Jan","Jana","Jane","Janet","Janice","Janie","Janis","Jasmine","Jean","Jeanette","Jeanne","Jeannette","Jeannie","Jenna","Jennie","Jennifer","Jenny","Jessica","Jessie","Jill","Jo","Joan","Joann","Joanna","Joanne","Jodi","Jody","Johanna","Johnnie","Josefina","Josephine","Joy","Joyce","Juana","Juanita","Judith","Judy","Julia","Julie","June","Kara","Karen","Kari","Karla","Kate","Katherine","Kathleen","Kathryn","Kathy","Katie","Katrina","Kay","Kayla","Kelley","Kelli","Kellie","Kelly","Kendra","Kerry","Kim","Kimberly","Krista","Kristen","Kristi","Kristie","Kristin","Kristina","Kristine","Kristy","Krystal","Lana","Latoya","Laura","Lauren","Laurie","Laverne","Leah","Lee","Leigh","Lela","Lena","Leona","Leslie","Leticia","Lila","Lillian","Lillie","Linda","Lindsay","Lindsey","Lisa","Lois","Lola","Lora","Lorena","Lorene","Loretta","Lori","Lorraine","Louise","Lucia","Lucille","Lucy","Lula","Luz","Lydia","Lynda","Lynette","Lynn","Lynne","Mabel","Mable","Madeline","Mae","Maggie","Mamie","Mandy","Marcella","Marcia","Margaret","Margarita","Margie","Marguerite","Maria","Marian","Marianne","Marie","Marilyn","Marion","Marjorie","Marlene","Marsha","Marta","Martha","Mary","Maryann","Mattie","Maureen","Maxine","May","Megan","Meghan","Melanie","Melba","Melinda","Melissa","Melody","Mercedes","Meredith","Michele","Michelle","Mildred","Mindy","Minnie","Miranda","Miriam","Misty","Molly","Mona","Monica","Monique","Muriel","Myra","Myrtle","Nadine","Nancy","Naomi","Natalie","Natasha","Nellie","Nettie","Nichole","Nicole","Nina","Nora","Norma","Olga","Olive","Olivia","Ollie","Opal","Ora","Pam","Pamela","Pat","Patricia","Patsy","Patti","Patty","Paula","Paulette","Pauline","Pearl","Peggy","Penny","Phyllis","Priscilla","Rachael","Rachel","Ramona","Raquel","Rebecca","Regina","Renee","Rhonda","Rita","Roberta","Robin","Robyn","Rochelle","Rosa","Rosalie","Rose","Rosemarie","Rosemary","Rosie","Roxanne","Ruby","Ruth","Sabrina","Sadie","Sally","Samantha","Sandra","Sandy","Sara","Sarah","Shannon","Shari","Sharon","Shawna","Sheila","Shelia","Shelley","Shelly","Sheri","Sherri","Sherry","Sheryl","Shirley","Silvia","Sonia","Sonja","Sonya","Sophia","Sophie","Stacey","Stacy","Stella","Stephanie","Sue","Susan","Susie","Suzanne","Sylvia","Tabitha","Tamara","Tami","Tammy","Tanya","Tara","Tasha","Teresa","Teri","Terri","Terry","Thelma","Theresa","Tiffany","Tina","Toni","Tonya","Tracey","Traci","Tracy","Tricia","Valerie","Vanessa","Velma","Vera","Verna","Veronica","Vicki","Vickie","Vicky","Victoria","Viola","Violet","Virginia","Vivian","Wanda","Wendy","Whitney","Willie","Wilma","Winifred","Yolanda","Yvette","Yvonne"],male:["Aaron","Abel","Abraham","Adam","Adrian","Al","Alan","Albert","Alberto","Alejandro","Alex","Alexander","Alfonso","Alfred","Alfredo","Allan","Allen","Alonzo","Alton","Alvin","Amos","Andre","Andres","Andrew","Andy","Angel","Angelo","Anthony","Antonio","Archie","Armando","Arnold","Arthur","Arturo","Aubrey","Austin","Barry","Ben","Benjamin","Bennie","Benny","Bernard","Bert","Bill","Billy","Blake","Bob","Bobby","Boyd","Brad","Bradford","Bradley","Brandon","Brendan","Brent","Brett","Brian","Bruce","Bryan","Bryant","Byron","Caleb","Calvin","Cameron","Carl","Carlos","Carlton","Carroll","Cary","Casey","Cecil","Cedric","Cesar","Chad","Charles","Charlie","Chester","Chris","Christian","Christopher","Clarence","Clark","Claude","Clay","Clayton","Clifford","Clifton","Clint","Clinton","Clyde","Cody","Colin","Conrad","Corey","Cornelius","Cory","Courtney","Craig","Curtis","Dale","Dallas","Damon","Dan","Dana","Daniel","Danny","Darin","Darnell","Darrel","Darrell","Darren","Darrin","Darryl","Daryl","Dave","David","Dean","Delbert","Dennis","Derek","Derrick","Devin","Dewey","Dexter","Domingo","Dominic","Dominick","Don","Donald","Donnie","Doug","Douglas","Doyle","Drew","Duane","Dustin","Dwayne","Dwight","Earl","Earnest","Ed","Eddie","Edgar","Edmond","Edmund","Eduardo","Edward","Edwin","Elbert","Elias","Elijah","Ellis","Elmer","Emanuel","Emilio","Emmett","Enrique","Eric","Erick","Erik","Ernest","Ernesto","Ervin","Eugene","Evan","Everett","Felipe","Felix","Fernando","Floyd","Forrest","Francis","Francisco","Frank","Frankie","Franklin","Fred","Freddie","Frederick","Fredrick","Gabriel","Garrett","Garry","Gary","Gene","Geoffrey","George","Gerald","Gerard","Gerardo","Gilbert","Gilberto","Glen","Glenn","Gordon","Grady","Grant","Greg","Gregg","Gregory","Guadalupe","Guillermo","Gustavo","Guy","Harold","Harry","Harvey","Hector","Henry","Herbert","Herman","Homer","Horace","Howard","Hubert","Hugh","Hugo","Ian","Ignacio","Ira","Irvin","Irving","Isaac","Ismael","Israel","Ivan","Jack","Jackie","Jacob","Jaime","Jake","James","Jamie","Jan","Jared","Jason","Javier","Jay","Jean","Jeff","Jeffery","Jeffrey","Jerald","Jeremiah","Jeremy","Jermaine","Jerome","Jerry","Jesse","Jessie","Jesus","Jim","Jimmie","Jimmy","Jody","Joe","Joel","Joey","John","Johnathan","Johnnie","Johnny","Jon","Jonathan","Jonathon","Jordan","Jorge","Jose","Joseph","Josh","Joshua","Juan","Julian","Julio","Julius","Justin","Karl","Keith","Kelly","Kelvin","Ken","Kenneth","Kenny","Kent","Kerry","Kevin","Kim","Kirk","Kristopher","Kurt","Kyle","Lamar","Lance","Larry","Laurence","Lawrence","Lee","Leland","Leo","Leon","Leonard","Leroy","Leslie","Lester","Levi","Lewis","Lionel","Lloyd","Lonnie","Loren","Lorenzo","Louis","Lowell","Lucas","Luis","Luke","Luther","Lyle","Lynn","Mack","Malcolm","Manuel","Marc","Marco","Marcos","Marcus","Mario","Marion","Mark","Marlon","Marshall","Martin","Marty","Marvin","Mathew","Matt","Matthew","Maurice","Max","Melvin","Merle","Michael","Micheal","Miguel","Mike","Milton","Mitchell","Morris","Moses","Myron","Nathan","Nathaniel","Neal","Neil","Nelson","Nicholas","Nick","Nicolas","Noah","Noel","Norman","Oliver","Omar","Orlando","Orville","Oscar","Otis","Owen","Pablo","Pat","Patrick","Paul","Pedro","Percy","Perry","Pete","Peter","Phil","Philip","Phillip","Preston","Rafael","Ralph","Ramiro","Ramon","Randal","Randall","Randolph","Randy","Raul","Ray","Raymond","Reginald","Rene","Rex","Ricardo","Richard","Rick","Rickey","Ricky","Robert","Roberto","Robin","Roderick","Rodney","Rodolfo","Rogelio","Roger","Roland","Rolando","Roman","Ron","Ronald","Ronnie","Roosevelt","Ross","Roy","Ruben","Rudolph","Rudy","Rufus","Russell","Ryan","Salvador","Salvatore","Sam","Sammy","Samuel","Santiago","Santos","Saul","Scott","Sean","Sergio","Seth","Shane","Shannon","Shaun","Shawn","Sheldon","Sherman","Sidney","Simon","Spencer","Stanley","Stephen","Steve","Steven","Stewart","Stuart","Sylvester","Taylor","Ted","Terence","Terrance","Terrell","Terrence","Terry","Theodore","Thomas","Tim","Timmy","Timothy","Toby","Todd","Tom","Tomas","Tommie","Tommy","Tony","Tracy","Travis","Trevor","Troy","Tyler","Tyrone","Van","Vernon","Victor","Vincent","Virgil","Wade","Wallace","Walter","Warren","Wayne","Wendell","Wesley","Wilbert","Wilbur","Wilfred","Willard","William","Willie","Willis","Wilson","Winston","Wm","Woodrow","Zachary"]},tV=["Agender","Androgyne","Androgynous","Bigender","Cis female","Cis male","Cis man","Cis woman","Cis","Cisgender female","Cisgender male","Cisgender man","Cisgender woman","Cisgender","Demi-boy","Demi-girl","Demi-man","Demi-woman","Demiflux","Demigender","F2M","FTM","Female to male trans man","Female to male transgender man","Female to male transsexual man","Female to male","Gender fluid","Gender neutral","Gender nonconforming","Gender questioning","Gender variant","Genderflux","Genderqueer","Hermaphrodite","Intersex man","Intersex person","Intersex woman","Intersex","M2F","MTF","Male to female trans woman","Male to female transgender woman","Male to female transsexual woman","Male to female","Man","Multigender","Neither","Neutrois","Non-binary","Omnigender","Other","Pangender","Polygender","T* man","T* woman","Trans female","Trans male","Trans man","Trans person","Trans woman","Trans","Transsexual female","Transsexual male","Transsexual man","Transsexual person","Transsexual woman","Transsexual","Transgender female","Transgender person","Transmasculine","Trigender","Two* person","Two-spirit person","Two-spirit","Woman","Xenogender"],rV=["Solutions","Program","Brand","Security","Research","Marketing","Directives","Implementation","Integration","Functionality","Response","Paradigm","Tactics","Identity","Markets","Group","Division","Applications","Optimization","Operations","Infrastructure","Intranet","Communications","Web","Branding","Quality","Assurance","Mobility","Accounts","Data","Creative","Configuration","Accountability","Interactions","Factors","Usability","Metrics"],nV=["Lead","Senior","Direct","Corporate","Dynamic","Future","Product","National","Regional","District","Central","Global","Customer","Investor","International","Legacy","Forward","Internal","Human","Chief","Principal"],iV=["{{person.jobDescriptor}} {{person.jobArea}} {{person.jobType}}"],oV=["Supervisor","Associate","Executive","Liaison","Officer","Manager","Engineer","Specialist","Director","Coordinator","Administrator","Architect","Analyst","Designer","Planner","Orchestrator","Technician","Developer","Producer","Consultant","Assistant","Facilitator","Agent","Representative","Strategist"],sV={generic:["Abbott","Abernathy","Abshire","Adams","Altenwerth","Anderson","Ankunding","Armstrong","Auer","Aufderhar","Bahringer","Bailey","Balistreri","Barrows","Bartell","Bartoletti","Barton","Bashirian","Batz","Bauch","Baumbach","Bayer","Beahan","Beatty","Bechtelar","Becker","Bednar","Beer","Beier","Berge","Bergnaum","Bergstrom","Bernhard","Bernier","Bins","Blanda","Blick","Block","Bode","Boehm","Bogan","Bogisich","Borer","Bosco","Botsford","Boyer","Boyle","Bradtke","Brakus","Braun","Breitenberg","Brekke","Brown","Bruen","Buckridge","Carroll","Carter","Cartwright","Casper","Cassin","Champlin","Christiansen","Cole","Collier","Collins","Conn","Connelly","Conroy","Considine","Corkery","Cormier","Corwin","Cremin","Crist","Crona","Cronin","Crooks","Cruickshank","Cummerata","Cummings","D'Amore","Dach","Daniel","Dare","Daugherty","Davis","Deckow","Denesik","Dibbert","Dickens","Dicki","Dickinson","Dietrich","Donnelly","Dooley","Douglas","Doyle","DuBuque","Durgan","Ebert","Effertz","Emard","Emmerich","Erdman","Ernser","Fadel","Fahey","Farrell","Fay","Feeney","Feest","Feil","Ferry","Fisher","Flatley","Frami","Franecki","Franey","Friesen","Fritsch","Funk","Gerhold","Gerlach","Gibson","Gislason","Gleason","Gleichner","Glover","Goldner","Goodwin","Gorczany","Gottlieb","Goyette","Grady","Graham","Grant","Green","Greenfelder","Greenholt","Grimes","Gulgowski","Gusikowski","Gutkowski","Gutmann","Haag","Hackett","Hagenes","Hahn","Haley","Halvorson","Hamill","Hammes","Hand","Hane","Hansen","Harber","Harris","Hartmann","Harvey","Hauck","Hayes","Heaney","Heathcote","Hegmann","Heidenreich","Heller","Herman","Hermann","Hermiston","Herzog","Hessel","Hettinger","Hickle","Hilll","Hills","Hilpert","Hintz","Hirthe","Hodkiewicz","Hoeger","Homenick","Hoppe","Howe","Howell","Hudson","Huel","Huels","Hyatt","Jacobi","Jacobs","Jacobson","Jakubowski","Jaskolski","Jast","Jenkins","Jerde","Johns","Johnson","Johnston","Jones","Kassulke","Kautzer","Keebler","Keeling","Kemmer","Kerluke","Kertzmann","Kessler","Kiehn","Kihn","Kilback","King","Kirlin","Klein","Kling","Klocko","Koch","Koelpin","Koepp","Kohler","Konopelski","Koss","Kovacek","Kozey","Krajcik","Kreiger","Kris","Kshlerin","Kub","Kuhic","Kuhlman","Kuhn","Kulas","Kunde","Kunze","Kuphal","Kutch","Kuvalis","Labadie","Lakin","Lang","Langosh","Langworth","Larkin","Larson","Leannon","Lebsack","Ledner","Leffler","Legros","Lehner","Lemke","Lesch","Leuschke","Lind","Lindgren","Littel","Little","Lockman","Lowe","Lubowitz","Lueilwitz","Luettgen","Lynch","MacGyver","Macejkovic","Maggio","Mann","Mante","Marks","Marquardt","Marvin","Mayer","Mayert","McClure","McCullough","McDermott","McGlynn","McKenzie","McLaughlin","Medhurst","Mertz","Metz","Miller","Mills","Mitchell","Moen","Mohr","Monahan","Moore","Morar","Morissette","Mosciski","Mraz","Mueller","Muller","Murazik","Murphy","Murray","Nader","Nicolas","Nienow","Nikolaus","Nitzsche","Nolan","O'Connell","O'Conner","O'Hara","O'Keefe","O'Kon","O'Reilly","Oberbrunner","Okuneva","Olson","Ondricka","Orn","Ortiz","Osinski","Pacocha","Padberg","Pagac","Parisian","Parker","Paucek","Pfannerstill","Pfeffer","Pollich","Pouros","Powlowski","Predovic","Price","Prohaska","Prosacco","Purdy","Quigley","Quitzon","Rath","Ratke","Rau","Raynor","Reichel","Reichert","Reilly","Reinger","Rempel","Renner","Reynolds","Rice","Rippin","Ritchie","Robel","Roberts","Rodriguez","Rogahn","Rohan","Rolfson","Romaguera","Roob","Rosenbaum","Rowe","Ruecker","Runolfsdottir","Runolfsson","Runte","Russel","Rutherford","Ryan","Sanford","Satterfield","Sauer","Sawayn","Schaden","Schaefer","Schamberger","Schiller","Schimmel","Schinner","Schmeler","Schmidt","Schmitt","Schneider","Schoen","Schowalter","Schroeder","Schulist","Schultz","Schumm","Schuppe","Schuster","Senger","Shanahan","Shields","Simonis","Sipes","Skiles","Smith","Smitham","Spencer","Spinka","Sporer","Stamm","Stanton","Stark","Stehr","Steuber","Stiedemann","Stokes","Stoltenberg","Stracke","Streich","Stroman","Strosin","Swaniawski","Swift","Terry","Thiel","Thompson","Tillman","Torp","Torphy","Towne","Toy","Trantow","Tremblay","Treutel","Tromp","Turcotte","Turner","Ullrich","Upton","Vandervort","Veum","Volkman","Von","VonRueden","Waelchi","Walker","Walsh","Walter","Ward","Waters","Watsica","Weber","Wehner","Weimann","Weissnat","Welch","West","White","Wiegand","Wilderman","Wilkinson","Will","Williamson","Willms","Windler","Wintheiser","Wisoky","Wisozk","Witting","Wiza","Wolf","Wolff","Wuckert","Wunsch","Wyman","Yost","Yundt","Zboncak","Zemlak","Ziemann","Zieme","Zulauf"]},aV={generic:[{value:"{{person.last_name.generic}}",weight:95},{value:"{{person.last_name.generic}}-{{person.last_name.generic}}",weight:5}]},lV={generic:["Addison","Alex","Anderson","Angel","Arden","August","Austin","Avery","Bailey","Billie","Blake","Bowie","Brooklyn","Cameron","Charlie","Corey","Dakota","Drew","Elliott","Ellis","Emerson","Finley","Gray","Greer","Harper","Hayden","Jaden","James","Jamie","Jordan","Jules","Kai","Kendall","Kennedy","Kyle","Leslie","Logan","London","Marlowe","Micah","Nico","Noah","North","Parker","Phoenix","Quinn","Reagan","Reese","Reign","Riley","River","Robin","Rory","Rowan","Ryan","Sage","Sasha","Sawyer","Shawn","Shiloh","Skyler","Taylor"],female:["Abigail","Adele","Alex","Alice","Alisha","Amber","Amelia","Amora","Anas","Angelou","Anika","Anise","Annabel","Anne","Aphrodite","Aretha","Arya","Ashton","Aster","Audrey","Avery","Bailee","Bay","Belle","Beth","Billie","Blair","Blaise","Blake","Blanche","Blue","Bree","Brielle","Brienne","Brooke","Caleen","Candice","Caprice","Carelyn","Caylen","Celine","Cerise","Cia","Claire","Claudia","Clementine","Coral","Coraline","Dahlia","Dakota","Dawn","Della","Demi","Denise","Denver","Devine","Devon","Diana","Dylan","Ebony","Eden","Eleanor","Elein","Elizabeth","Ellen","Elodie","Eloise","Ember","Emma","Erin","Eyre","Faith","Farrah","Fawn","Fayre","Fern","France","Francis","Frida","Genisis","Georgia","Grace","Gwen","Harley","Harper","Hazel","Helen","Hippolyta","Holly","Hope","Imani","Iowa","Ireland","Irene","Iris","Isa","Isla","Ivy","Jade","Jane","Jazz","Jean","Jess","Jett","Jo","Joan","Jolie","Jordan","Josie","Journey","Joy","Jules","Julien","Juliet","Juniper","Justice","Kali","Karma","Kat","Kate","Kennedy","Keva","Kylie","Lake","Lane","Lark","Layla","Lee","Leigh","Leona","Lexi","London","Lou","Louise","Love","Luna","Lux","Lynn","Lyric","Maddie","Mae","Marie","Matilda","Maude","Maybel","Meadow","Medusa","Mercy","Michelle","Mirabel","Monroe","Morgan","Nalia","Naomi","Nova","Olive","Paige","Parker","Pax","Pearl","Penelope","Phoenix","Quinn","Rae","Rain","Raven","Ray","Raye","Rebel","Reese","Reeve","Regan","Riley","River","Robin","Rory","Rose","Royal","Ruth","Rylie","Sage","Sam","Saturn","Scout","Serena","Sky","Skylar","Sofia","Sophia","Storm","Sue","Suzanne","Sydney","Taylen","Taylor","Teagan","Tempest","Tenley","Thea","Trinity","Valerie","Venus","Vera","Violet","Willow","Winter","Xena","Zaylee","Zion","Zoe"],male:["Ace","Aiden","Alexander","Ander","Anthony","Asher","August","Aziel","Bear","Beckham","Benjamin","Buddy","Calvin","Carter","Charles","Christopher","Clyde","Cooper","Daniel","David","Dior","Dylan","Elijah","Ellis","Emerson","Ethan","Ezra","Fletcher","Flynn","Gabriel","Grayson","Gus","Hank","Harrison","Hendrix","Henry","Houston","Hudson","Hugh","Isaac","Jack","Jackson","Jacob","Jakobe","James","Jaxon","Jaxtyn","Jayden","John","Joseph","Josiah","Jude","Julian","Karsyn","Kenji","Kobe","Kylo","Lennon","Leo","Levi","Liam","Lincoln","Logan","Louis","Lucas","Lucky","Luke","Mason","Mateo","Matthew","Maverick","Michael","Monroe","Nixon","Ocean","Oliver","Otis","Otto","Owen","Ozzy","Parker","Rocky","Samuel","Sebastian","Sonny","Teddy","Theo","Theodore","Thomas","Truett","Walter","Warren","Watson","William","Wison","Wyatt","Ziggy","Zyair"]},uV=[{value:"{{person.firstName}} {{person.lastName}}",weight:49},{value:"{{person.prefix}} {{person.firstName}} {{person.lastName}}",weight:7},{value:"{{person.firstName}} {{person.lastName}} {{person.suffix}}",weight:7},{value:"{{person.prefix}} {{person.firstName}} {{person.lastName}} {{person.suffix}}",weight:1}],cV={generic:["Dr.","Miss","Mr.","Mrs.","Ms."],female:["Dr.","Miss","Mrs.","Ms."],male:["Dr.","Mr."]},dV=["female","male"],hV=["Jr.","Sr.","I","II","III","IV","V","MD","DDS","PhD","DVM"],fV=["Aquarius","Pisces","Aries","Taurus","Gemini","Cancer","Leo","Virgo","Libra","Scorpio","Sagittarius","Capricorn"],pV={bio_part:Zz,bio_pattern:Xz,bio_supporter:Qz,first_name:eV,gender:tV,job_area:rV,job_descriptor:nV,job_title_pattern:iV,job_type:oV,last_name:sV,last_name_pattern:aV,middle_name:lV,name:uV,prefix:cV,sex:dV,suffix:hV,western_zodiac_sign:fV},gV=pV,mV=["!##-!##-####","(!##) !##-####","1-!##-!##-####","!##.!##.####","!##-!##-#### x###","(!##) !##-#### x###","1-!##-!##-#### x###","!##.!##.#### x###","!##-!##-#### x####","(!##) !##-#### x####","1-!##-!##-#### x####","!##.!##.#### x####","!##-!##-#### x#####","(!##) !##-#### x#####","1-!##-!##-#### x#####","!##.!##.#### x#####"],bV=["+1!##!######"],yV=["(!##) !##-####"],vV={human:mV,international:bV,national:yV},wV=vV,CV={format:wV},FV=CV,SV=[{symbol:"H",name:"Hydrogen",atomicNumber:1},{symbol:"He",name:"Helium",atomicNumber:2},{symbol:"Li",name:"Lithium",atomicNumber:3},{symbol:"Be",name:"Beryllium",atomicNumber:4},{symbol:"B",name:"Boron",atomicNumber:5},{symbol:"C",name:"Carbon",atomicNumber:6},{symbol:"N",name:"Nitrogen",atomicNumber:7},{symbol:"O",name:"Oxygen",atomicNumber:8},{symbol:"F",name:"Fluorine",atomicNumber:9},{symbol:"Ne",name:"Neon",atomicNumber:10},{symbol:"Na",name:"Sodium",atomicNumber:11},{symbol:"Mg",name:"Magnesium",atomicNumber:12},{symbol:"Al",name:"Aluminium",atomicNumber:13},{symbol:"Si",name:"Silicon",atomicNumber:14},{symbol:"P",name:"Phosphorus",atomicNumber:15},{symbol:"S",name:"Sulfur",atomicNumber:16},{symbol:"Cl",name:"Chlorine",atomicNumber:17},{symbol:"Ar",name:"Argon",atomicNumber:18},{symbol:"K",name:"Potassium",atomicNumber:19},{symbol:"Ca",name:"Calcium",atomicNumber:20},{symbol:"Sc",name:"Scandium",atomicNumber:21},{symbol:"Ti",name:"Titanium",atomicNumber:22},{symbol:"V",name:"Vanadium",atomicNumber:23},{symbol:"Cr",name:"Chromium",atomicNumber:24},{symbol:"Mn",name:"Manganese",atomicNumber:25},{symbol:"Fe",name:"Iron",atomicNumber:26},{symbol:"Co",name:"Cobalt",atomicNumber:27},{symbol:"Ni",name:"Nickel",atomicNumber:28},{symbol:"Cu",name:"Copper",atomicNumber:29},{symbol:"Zn",name:"Zinc",atomicNumber:30},{symbol:"Ga",name:"Gallium",atomicNumber:31},{symbol:"Ge",name:"Germanium",atomicNumber:32},{symbol:"As",name:"Arsenic",atomicNumber:33},{symbol:"Se",name:"Selenium",atomicNumber:34},{symbol:"Br",name:"Bromine",atomicNumber:35},{symbol:"Kr",name:"Krypton",atomicNumber:36},{symbol:"Rb",name:"Rubidium",atomicNumber:37},{symbol:"Sr",name:"Strontium",atomicNumber:38},{symbol:"Y",name:"Yttrium",atomicNumber:39},{symbol:"Zr",name:"Zirconium",atomicNumber:40},{symbol:"Nb",name:"Niobium",atomicNumber:41},{symbol:"Mo",name:"Molybdenum",atomicNumber:42},{symbol:"Tc",name:"Technetium",atomicNumber:43},{symbol:"Ru",name:"Ruthenium",atomicNumber:44},{symbol:"Rh",name:"Rhodium",atomicNumber:45},{symbol:"Pd",name:"Palladium",atomicNumber:46},{symbol:"Ag",name:"Silver",atomicNumber:47},{symbol:"Cd",name:"Cadmium",atomicNumber:48},{symbol:"In",name:"Indium",atomicNumber:49},{symbol:"Sn",name:"Tin",atomicNumber:50},{symbol:"Sb",name:"Antimony",atomicNumber:51},{symbol:"Te",name:"Tellurium",atomicNumber:52},{symbol:"I",name:"Iodine",atomicNumber:53},{symbol:"Xe",name:"Xenon",atomicNumber:54},{symbol:"Cs",name:"Caesium",atomicNumber:55},{symbol:"Ba",name:"Barium",atomicNumber:56},{symbol:"La",name:"Lanthanum",atomicNumber:57},{symbol:"Ce",name:"Cerium",atomicNumber:58},{symbol:"Pr",name:"Praseodymium",atomicNumber:59},{symbol:"Nd",name:"Neodymium",atomicNumber:60},{symbol:"Pm",name:"Promethium",atomicNumber:61},{symbol:"Sm",name:"Samarium",atomicNumber:62},{symbol:"Eu",name:"Europium",atomicNumber:63},{symbol:"Gd",name:"Gadolinium",atomicNumber:64},{symbol:"Tb",name:"Terbium",atomicNumber:65},{symbol:"Dy",name:"Dysprosium",atomicNumber:66},{symbol:"Ho",name:"Holmium",atomicNumber:67},{symbol:"Er",name:"Erbium",atomicNumber:68},{symbol:"Tm",name:"Thulium",atomicNumber:69},{symbol:"Yb",name:"Ytterbium",atomicNumber:70},{symbol:"Lu",name:"Lutetium",atomicNumber:71},{symbol:"Hf",name:"Hafnium",atomicNumber:72},{symbol:"Ta",name:"Tantalum",atomicNumber:73},{symbol:"W",name:"Tungsten",atomicNumber:74},{symbol:"Re",name:"Rhenium",atomicNumber:75},{symbol:"Os",name:"Osmium",atomicNumber:76},{symbol:"Ir",name:"Iridium",atomicNumber:77},{symbol:"Pt",name:"Platinum",atomicNumber:78},{symbol:"Au",name:"Gold",atomicNumber:79},{symbol:"Hg",name:"Mercury",atomicNumber:80},{symbol:"Tl",name:"Thallium",atomicNumber:81},{symbol:"Pb",name:"Lead",atomicNumber:82},{symbol:"Bi",name:"Bismuth",atomicNumber:83},{symbol:"Po",name:"Polonium",atomicNumber:84},{symbol:"At",name:"Astatine",atomicNumber:85},{symbol:"Rn",name:"Radon",atomicNumber:86},{symbol:"Fr",name:"Francium",atomicNumber:87},{symbol:"Ra",name:"Radium",atomicNumber:88},{symbol:"Ac",name:"Actinium",atomicNumber:89},{symbol:"Th",name:"Thorium",atomicNumber:90},{symbol:"Pa",name:"Protactinium",atomicNumber:91},{symbol:"U",name:"Uranium",atomicNumber:92},{symbol:"Np",name:"Neptunium",atomicNumber:93},{symbol:"Pu",name:"Plutonium",atomicNumber:94},{symbol:"Am",name:"Americium",atomicNumber:95},{symbol:"Cm",name:"Curium",atomicNumber:96},{symbol:"Bk",name:"Berkelium",atomicNumber:97},{symbol:"Cf",name:"Californium",atomicNumber:98},{symbol:"Es",name:"Einsteinium",atomicNumber:99},{symbol:"Fm",name:"Fermium",atomicNumber:100},{symbol:"Md",name:"Mendelevium",atomicNumber:101},{symbol:"No",name:"Nobelium",atomicNumber:102},{symbol:"Lr",name:"Lawrencium",atomicNumber:103},{symbol:"Rf",name:"Rutherfordium",atomicNumber:104},{symbol:"Db",name:"Dubnium",atomicNumber:105},{symbol:"Sg",name:"Seaborgium",atomicNumber:106},{symbol:"Bh",name:"Bohrium",atomicNumber:107},{symbol:"Hs",name:"Hassium",atomicNumber:108},{symbol:"Mt",name:"Meitnerium",atomicNumber:109},{symbol:"Ds",name:"Darmstadtium",atomicNumber:110},{symbol:"Rg",name:"Roentgenium",atomicNumber:111},{symbol:"Cn",name:"Copernicium",atomicNumber:112},{symbol:"Nh",name:"Nihonium",atomicNumber:113},{symbol:"Fl",name:"Flerovium",atomicNumber:114},{symbol:"Mc",name:"Moscovium",atomicNumber:115},{symbol:"Lv",name:"Livermorium",atomicNumber:116},{symbol:"Ts",name:"Tennessine",atomicNumber:117},{symbol:"Og",name:"Oganesson",atomicNumber:118}],xV=[{name:"meter",symbol:"m"},{name:"second",symbol:"s"},{name:"mole",symbol:"mol"},{name:"ampere",symbol:"A"},{name:"kelvin",symbol:"K"},{name:"candela",symbol:"cd"},{name:"kilogram",symbol:"kg"},{name:"radian",symbol:"rad"},{name:"hertz",symbol:"Hz"},{name:"newton",symbol:"N"},{name:"pascal",symbol:"Pa"},{name:"joule",symbol:"J"},{name:"watt",symbol:"W"},{name:"coulomb",symbol:"C"},{name:"volt",symbol:"V"},{name:"ohm",symbol:""},{name:"tesla",symbol:"T"},{name:"degree Celsius",symbol:"C"},{name:"lumen",symbol:"lm"},{name:"becquerel",symbol:"Bq"},{name:"gray",symbol:"Gy"},{name:"sievert",symbol:"Sv"},{name:"steradian",symbol:"sr"},{name:"farad",symbol:"F"},{name:"siemens",symbol:"S"},{name:"weber",symbol:"Wb"},{name:"henry",symbol:"H"},{name:"lux",symbol:"lx"},{name:"katal",symbol:"kat"}],kV={chemical_element:SV,unit:xV},EV=kV,RV=["ants","bats","bears","bees","birds","buffalo","cats","chickens","cattle","dogs","dolphins","ducks","elephants","fishes","foxes","frogs","geese","goats","horses","kangaroos","lions","monkeys","owls","oxen","penguins","people","pigs","rabbits","sheep","tigers","whales","wolves","zebras","banshees","crows","black cats","chimeras","ghosts","conspirators","dragons","dwarves","elves","enchanters","exorcists","sons","foes","giants","gnomes","goblins","gooses","griffins","lycanthropes","nemesis","ogres","oracles","prophets","sorcerors","spiders","spirits","vampires","warlocks","vixens","werewolves","witches","worshipers","zombies","druids"],_V=["{{location.state}} {{team.creature}}"],AV={creature:RV,name:_V},TV=AV,DV=["Adventure Road Bicycle","BMX Bicycle","City Bicycle","Cruiser Bicycle","Cyclocross Bicycle","Dual-Sport Bicycle","Fitness Bicycle","Flat-Foot Comfort Bicycle","Folding Bicycle","Hybrid Bicycle","Mountain Bicycle","Recumbent Bicycle","Road Bicycle","Tandem Bicycle","Touring Bicycle","Track/Fixed-Gear Bicycle","Triathlon/Time Trial Bicycle","Tricycle"],MV=["Diesel","Electric","Gasoline","Hybrid"],PV=["Aston Martin","Audi","BMW","BYD","Bentley","Bugatti","Cadillac","Chevrolet","Chrysler","Citron","Dodge","Ferrari","Fiat","Ford","Honda","Hyundai","Jaguar","Jeep","Kia","Lamborghini","Land Rover","MG","Mahindra & Mahindra","Maruti","Maserati","Mazda","Mercedes Benz","Mini","Mitsubishi","NIO","Nissan","Peugeot","Polestar","Porsche","Renault","Rivian","Rolls Royce","Skoda","Smart","Subaru","Suzuki","Tata","Tesla","Toyota","Vauxhall","Volkswagen","Volvo"],IV=["1","2","911","A4","A8","ATS","Accord","Alpine","Altima","Aventador","Beetle","CTS","CX-9","Camaro","Camry","Challenger","Charger","Civic","Colorado","Corvette","Countach","Cruze","Durango","El Camino","Element","Escalade","Expedition","Explorer","F-150","Fiesta","Focus","Fortwo","Golf","Grand Caravan","Grand Cherokee","Impala","Jetta","Land Cruiser","LeBaron","Malibu","Mercielago","Model 3","Model S","Model T","Model X","Model Y","Mustang","PT Cruiser","Prius","Ranchero","Roadster","Sentra","Silverado","Spyder","Taurus","V90","Volt","Wrangler","XC90","XTS"],BV=["Cargo Van","Convertible","Coupe","Crew Cab Pickup","Extended Cab Pickup","Hatchback","Minivan","Passenger Van","SUV","Sedan","Wagon"],LV={bicycle_type:DV,fuel:MV,manufacturer:PV,model:IV,type:BV},NV=LV,OV=["abandoned","able","acceptable","acclaimed","accomplished","accurate","aching","acidic","actual","admired","adolescent","advanced","affectionate","afraid","aged","aggravating","aggressive","agile","agitated","agreeable","ajar","alarmed","alert","alienated","alive","all","altruistic","amazing","ambitious","ample","amused","angelic","anguished","animated","annual","another","antique","any","apprehensive","appropriate","apt","arid","artistic","ashamed","assured","astonishing","athletic","austere","authentic","authorized","avaricious","average","aware","awesome","awful","babyish","back","bad","baggy","bare","basic","beloved","beneficial","best","better","big","biodegradable","bitter","black","black-and-white","blank","blaring","bleak","blind","blond","blue","blushing","bogus","boiling","bony","boring","bossy","both","bouncy","bowed","brave","breakable","bright","brilliant","brisk","broken","brown","bruised","bulky","burdensome","burly","bustling","busy","buttery","buzzing","calculating","candid","carefree","careless","caring","cautious","cavernous","celebrated","charming","cheap","cheerful","chilly","chubby","circular","classic","clean","clear","clear-cut","close","closed","cloudy","clueless","clumsy","cluttered","coarse","colorful","colorless","colossal","comfortable","common","compassionate","competent","complete","complicated","concerned","concrete","confused","considerate","content","cool","cooperative","coordinated","corny","corrupt","courageous","courteous","crafty","crazy","creamy","creative","criminal","critical","crooked","crowded","cruel","crushing","cuddly","cultivated","cumbersome","curly","cute","damaged","damp","dapper","dark","darling","dazzling","dead","deadly","deafening","dearest","decent","decisive","deep","defenseless","defensive","deficient","definite","definitive","delectable","delicious","delirious","dense","dental","dependable","dependent","descriptive","deserted","determined","devoted","different","difficult","digital","diligent","dim","direct","dirty","discrete","disloyal","dismal","distant","distinct","distorted","doting","downright","drab","dramatic","dreary","dual","dull","dutiful","each","early","earnest","easy","ecstatic","edible","educated","elastic","elderly","electric","elegant","elementary","elliptical","eminent","emotional","empty","enchanted","enchanting","energetic","enlightened","enraged","entire","equatorial","essential","esteemed","ethical","everlasting","every","evil","exalted","excellent","excitable","excited","exhausted","exotic","expensive","experienced","expert","extra-large","extroverted","failing","faint","fair","fake","familiar","fantastic","far","far-flung","far-off","faraway","fat","fatal","fatherly","favorable","favorite","fearless","feline","filthy","fine","finished","firm","first","firsthand","fixed","flashy","flawed","flawless","flickering","flimsy","flowery","fluffy","flustered","focused","fond","foolhardy","foolish","forceful","formal","forsaken","fortunate","fragrant","frail","frank","free","french","frequent","friendly","frightened","frilly","frivolous","frizzy","front","frozen","frugal","fruitful","functional","funny","fussy","fuzzy","gaseous","general","gentle","genuine","gifted","gigantic","giving","glaring","glass","gleaming","glittering","gloomy","glorious","glossy","glum","golden","good","good-natured","gorgeous","graceful","gracious","grandiose","granular","grave","gray","great","greedy","grim","grimy","gripping","grizzled","grouchy","grounded","growing","grown","grubby","gruesome","grumpy","guilty","gullible","gummy","hairy","handsome","handy","happy","happy-go-lucky","hard-to-find","harmful","hasty","hateful","haunting","heartfelt","heavenly","heavy","hefty","helpful","helpless","hidden","hoarse","hollow","homely","honorable","honored","hopeful","hospitable","hot","huge","humble","humiliating","hungry","hurtful","husky","icy","ideal","idealistic","idolized","ignorant","ill","ill-fated","illiterate","illustrious","imaginary","imaginative","immaculate","immediate","immense","impartial","impassioned","impeccable","impish","impolite","important","impossible","impractical","impressionable","impressive","improbable","impure","inborn","incomparable","incomplete","inconsequential","indelible","indolent","inexperienced","infamous","infatuated","inferior","infinite","informal","innocent","insecure","insidious","insignificant","insistent","instructive","intelligent","intent","interesting","internal","international","intrepid","ironclad","irresponsible","jagged","jam-packed","jaunty","jealous","jittery","joyful","joyous","jubilant","judicious","juicy","jumbo","junior","juvenile","kaleidoscopic","key","knotty","knowledgeable","known","kooky","kosher","lanky","last","lasting","late","lavish","lawful","lazy","leading","lean","left","legal","light","lighthearted","likable","likely","limited","limp","limping","linear","lined","liquid","little","live","lively","livid","lone","lonely","long","long-term","lost","lovable","lovely","low","lucky","lumbering","lumpy","lustrous","mad","made-up","magnificent","majestic","major","male","mammoth","married","marvelous","massive","mature","meager","mealy","mean","measly","meaty","mediocre","medium","memorable","menacing","merry","messy","metallic","mild","milky","mindless","minor","minty","miserable","miserly","misguided","mixed","moist","monstrous","monthly","monumental","moral","motionless","muddy","muffled","multicolored","mundane","murky","mushy","musty","muted","mysterious","narrow","natural","naughty","nautical","near","neat","necessary","needy","negative","neglected","negligible","neighboring","nervous","new","next","nice","nifty","nimble","nippy","nocturnal","normal","noted","noteworthy","noxious","numb","nutritious","obedient","oblong","obvious","odd","oddball","official","oily","old","old-fashioned","only","optimal","optimistic","orange","orderly","ordinary","ornate","ornery","other","our","outgoing","outlandish","outlying","outrageous","outstanding","oval","overcooked","overdue","palatable","pale","paltry","parallel","parched","partial","passionate","pastel","peaceful","peppery","perfumed","perky","personal","pertinent","pessimistic","petty","phony","physical","pink","pitiful","plain","pleasant","pleased","pleasing","plump","pointed","pointless","polished","polite","political","poor","portly","posh","possible","potable","powerful","powerless","practical","precious","present","prestigious","pretty","pricey","prickly","primary","prime","private","probable","productive","profitable","profuse","proper","proud","prudent","punctual","puny","pure","purple","pushy","putrid","puzzled","qualified","quarrelsome","quarterly","queasy","querulous","questionable","quick","quick-witted","quiet","quintessential","quixotic","radiant","ragged","rapid","rare","raw","realistic","reasonable","recent","reckless","rectangular","red","reflecting","regal","regular","remarkable","remorseful","repentant","respectful","responsible","rewarding","rich","right","rigid","ripe","roasted","robust","rosy","rotating","rotten","rough","round","rowdy","royal","rubbery","ruddy","rundown","runny","rural","rusty","sad","salty","same","sandy","sarcastic","sardonic","scaly","scared","scary","scented","scientific","scornful","scratchy","second","second-hand","secondary","secret","self-assured","self-reliant","selfish","sentimental","separate","serene","serpentine","severe","shabby","shadowy","shady","shallow","shameful","shameless","shimmering","shiny","shocked","shoddy","short","short-term","showy","shrill","shy","sick","silent","silky","silver","similar","simple","simplistic","sinful","sizzling","skeletal","sleepy","slight","slimy","slow","slushy","small","smart","smoggy","smooth","smug","snappy","snarling","sneaky","sniveling","snoopy","sociable","soft","soggy","somber","some","sophisticated","sore","sorrowful","soulful","soupy","sour","spanish","sparkling","sparse","specific","speedy","spherical","spiffy","spirited","spiteful","splendid","spotless","square","squeaky","squiggly","stable","staid","stained","stale","standard","stark","steel","steep","sticky","stiff","stingy","stormy","straight","strange","strict","strident","striking","strong","stunning","stupendous","sturdy","stylish","subdued","submissive","substantial","subtle","suburban","sudden","sugary","sunny","super","superb","superficial","superior","supportive","sure-footed","surprised","svelte","sweet","swift","talkative","tall","tame","tangible","tasty","tattered","taut","tedious","teeming","tempting","tender","tense","tepid","terrible","that","these","thick","thin","thorny","thorough","those","thrifty","tidy","tight","timely","tinted","tiny","tired","torn","total","tough","tragic","trained","triangular","tricky","trim","trivial","troubled","true","trusting","trustworthy","trusty","turbulent","twin","ugly","ultimate","unaware","uncomfortable","uncommon","unconscious","understated","uneven","unfinished","unfit","unfortunate","unhappy","unhealthy","uniform","unimportant","unique","unkempt","unknown","unlawful","unlined","unlucky","unpleasant","unrealistic","unripe","unruly","unselfish","unsightly","unsteady","unsung","untidy","untimely","untried","untrue","unused","unusual","unwelcome","unwieldy","unwilling","unwritten","upbeat","upright","upset","urban","usable","useless","utilized","utter","vague","vain","valuable","variable","vast","velvety","vengeful","vibrant","victorious","violent","vivacious","vivid","voluminous","warlike","warm","warmhearted","warped","wasteful","waterlogged","watery","wavy","wealthy","weary","webbed","wee","weekly","weighty","weird","well-documented","well-groomed","well-lit","well-made","well-off","well-to-do","well-worn","which","whimsical","whirlwind","whispered","white","whole","whopping","wicked","wide","wide-eyed","wiggly","willing","wilted","winding","windy","winged","wise","witty","wobbly","woeful","wonderful","wordy","worldly","worse","worst","worthless","worthwhile","worthy","wrathful","wretched","writhing","wrong","wry","yearly","yellow","yellowish","young","youthful","yummy","zany","zealous","zesty"],HV=["abnormally","absentmindedly","accidentally","acidly","actually","adventurously","afterwards","almost","always","angrily","annually","anxiously","arrogantly","awkwardly","badly","bashfully","beautifully","bitterly","bleakly","blindly","blissfully","boastfully","boldly","bravely","briefly","brightly","briskly","broadly","busily","calmly","carefully","carelessly","cautiously","certainly","cheerfully","clearly","cleverly","closely","coaxingly","colorfully","commonly","continually","coolly","correctly","courageously","crossly","cruelly","curiously","daily","daintily","dearly","deceivingly","deeply","defiantly","deliberately","delightfully","diligently","dimly","doubtfully","dreamily","easily","elegantly","energetically","enormously","enthusiastically","equally","especially","even","evenly","eventually","exactly","excitedly","extremely","fairly","faithfully","famously","far","fast","fatally","ferociously","fervently","fiercely","fondly","foolishly","fortunately","frankly","frantically","freely","frenetically","frightfully","fully","furiously","generally","generously","gently","gladly","gleefully","gracefully","gratefully","greatly","greedily","happily","hastily","healthily","heavily","helpfully","helplessly","highly","honestly","hopelessly","hourly","hungrily","immediately","innocently","inquisitively","instantly","intensely","intently","interestingly","inwardly","irritably","jaggedly","jealously","joshingly","jovially","joyfully","joyously","jubilantly","judgementally","justly","keenly","kiddingly","kindheartedly","kindly","kissingly","knavishly","knottily","knowingly","knowledgeably","kookily","lazily","less","lightly","likely","limply","lively","loftily","longingly","loosely","loudly","lovingly","loyally","madly","majestically","meaningfully","mechanically","merrily","miserably","mockingly","monthly","more","mortally","mostly","mysteriously","naturally","nearly","neatly","needily","nervously","never","nicely","noisily","not","obediently","obnoxiously","oddly","offensively","officially","often","only","openly","optimistically","overconfidently","owlishly","painfully","partially","patiently","perfectly","physically","playfully","politely","poorly","positively","potentially","powerfully","promptly","properly","punctually","quaintly","quarrelsomely","queasily","questionably","questioningly","quicker","quickly","quietly","quirkily","quizzically","rapidly","rarely","readily","really","reassuringly","recklessly","regularly","reluctantly","repeatedly","reproachfully","restfully","righteously","rightfully","rigidly","roughly","rudely","sadly","safely","scarcely","scarily","searchingly","sedately","seemingly","seldom","selfishly","separately","seriously","shakily","sharply","sheepishly","shrilly","shyly","silently","sleepily","slowly","smoothly","softly","solemnly","solidly","sometimes","soon","speedily","stealthily","sternly","strictly","successfully","suddenly","surprisingly","suspiciously","sweetly","swiftly","sympathetically","tenderly","tensely","terribly","thankfully","thoroughly","thoughtfully","tightly","tomorrow","too","tremendously","triumphantly","truly","truthfully","ultimately","unabashedly","unaccountably","unbearably","unethically","unexpectedly","unfortunately","unimpressively","unnaturally","unnecessarily","upbeat","upliftingly","upright","upside-down","upward","upwardly","urgently","usefully","uselessly","usually","utterly","vacantly","vaguely","vainly","valiantly","vastly","verbally","very","viciously","victoriously","violently","vivaciously","voluntarily","warmly","weakly","wearily","well","wetly","wholly","wildly","willfully","wisely","woefully","wonderfully","worriedly","wrongly","yawningly","yearly","yearningly","yesterday","yieldingly","youthfully"],GV=["after","although","and","as","because","before","but","consequently","even","finally","for","furthermore","hence","how","however","if","inasmuch","incidentally","indeed","instead","lest","likewise","meanwhile","nor","now","once","or","provided","since","so","supposing","than","that","though","till","unless","until","what","when","whenever","where","whereas","wherever","whether","which","while","who","whoever","whose","why","yet"],jV=["yuck","oh","phooey","blah","boo","whoa","yowza","huzzah","boohoo","fooey","geez","pfft","ew","ah","yum","brr","hm","yahoo","aha","woot","drat","gah","meh","psst","aw","ugh","yippee","eek","gee","bah","gadzooks","duh","ha","mmm","ouch","phew","ack","uh-huh","gosh","hmph","pish","zowie","er","ick","oof","um"],zV=["CD","SUV","abacus","academics","accelerator","accompanist","account","accountability","acquaintance","ad","adaptation","address","adrenalin","adult","advancement","advertisement","adviser","affect","affiliate","aftermath","agreement","airbus","aircraft","airline","airmail","airman","airport","alb","alert","allegation","alliance","alligator","allocation","almighty","amendment","amnesty","analogy","angle","annual","antelope","anticodon","apparatus","appliance","approach","apricot","arcade","archaeology","armchair","armoire","asset","assist","atrium","attraction","availability","avalanche","awareness","babushka","backbone","backburn","bakeware","bandwidth","bar","barge","baritone","barracks","baseboard","basket","bathhouse","bathrobe","battle","begonia","behest","bell","bench","bend","beret","best-seller","bid","bidet","bin","birdbath","birdcage","birth","blight","blossom","blowgun","bob","bog","bonfire","bonnet","bookcase","bookend","boulevard","bourgeoisie","bowler","bowling","boyfriend","brace","bracelet","bran","breastplate","brief","brochure","brook","brush","bug","bump","bungalow","cafe","cake","calculus","cannon","cantaloupe","cap","cappelletti","captain","caption","carboxyl","cardboard","carnival","case","casement","cash","casket","cassava","castanet","catalyst","cauliflower","cellar","celsius","cemetery","ceramic","ceramics","certification","chainstay","chairperson","challenge","championship","chap","chapel","character","characterization","charlatan","charm","chasuble","cheese","cheetah","chiffonier","chops","chow","cinder","cinema","circumference","citizen","clamp","clavicle","cleaner","climb","co-producer","coal","coast","cod","coil","coin","coliseum","collaboration","collectivization","colon","colonialism","comestible","commercial","commodity","community","comparison","completion","complication","compromise","concentration","configuration","confusion","conservation","conservative","consistency","contractor","contrail","convection","conversation","cook","coordination","cop-out","cope","cork","cornet","corporation","corral","cosset","costume","couch","council","councilman","countess","courtroom","cow","creator","creature","crest","cricket","crocodile","cross-contamination","cruelty","cuckoo","curl","custody","custom","cutlet","cutover","cycle","daddy","dandelion","dash","daughter","dead","decision","deck","declaration","decongestant","decryption","deduction","deed","deer","defendant","density","department","dependency","deployment","depot","derby","descendant","descent","design","designation","desk","detective","devastation","developing","developmental","devil","diagram","digestive","digit","dime","director","disadvantage","disappointment","disclosure","disconnection","discourse","dish","disk","disposer","distinction","diver","diversity","dividend","divine","doing","doorpost","doubter","draft","draw","dream","dredger","dress","drive","drug","duffel","dulcimer","dusk","duster","dwell","e-mail","earth","ecliptic","ectoderm","edge","editor","effector","eggplant","electronics","elevation","elevator","elver","embarrassment","embossing","emergent","encouragement","entry","epic","equal","essence","eternity","ethyl","euphonium","event","exasperation","excess","executor","exhaust","expansion","expense","experience","exploration","extension","extent","exterior","eyebrow","eyeliner","farm","farmer","fat","fax","feather","fedora","fellow","fen","fencing","ferret","festival","fibre","filter","final","finding","finer","finger","fireplace","fisherman","fishery","fit","flame","flat","fledgling","flight","flint","flood","flu","fog","fold","folklore","follower","following","foodstuffs","footrest","forage","forager","forgery","fork","formamide","formation","formula","fort","fowl","fraudster","freckle","freezing","freight","fuel","fun","fund","fundraising","futon","gallery","galoshes","gastropod","gazebo","gerbil","ghost","giant","gift","giggle","glider","gloom","goat","godfather","godparent","going","goodwill","governance","government","gown","gradient","graffiti","grandpa","grandson","granny","grass","gray","gripper","grouper","guacamole","guard","guidance","guide","gym","gymnast","habit","haircut","halt","hamburger","hammock","handful","handle","handover","harp","haversack","hawk","heartache","heartbeat","heating","hello","help","hepatitis","heroine","hexagon","hierarchy","hippodrome","honesty","hoof","hope","horde","hornet","horst","hose","hospitalization","hovel","hovercraft","hubris","humidity","humor","hundred","hunger","hunt","husband","hutch","hydrant","hydrocarbon","hydrolyse","hydrolyze","hyena","hygienic","hyphenation","ice-cream","icebreaker","igloo","ignorance","illusion","impact","import","importance","impostor","in-joke","incandescence","independence","individual","information","injunction","innovation","insolence","inspection","instance","institute","instruction","instructor","integer","intellect","intent","interchange","interior","intervention","interviewer","invite","iridescence","issue","jacket","jazz","jellyfish","jet","jogging","joy","juggernaut","jump","jungle","junior","jury","kettledrum","kick","kielbasa","kinase","king","kiss","kit","knickers","knight","knitting","knuckle","label","labourer","lace","lady","lamp","language","larva","lashes","laughter","lava","lawmaker","lay","leading","league","legend","legging","legislature","lender","license","lid","lieu","lifestyle","lift","linseed","litter","loaf","lobster","longboat","lotion","lounge","louse","lox","loyalty","luck","lyre","maestro","mainstream","maintainer","majority","makeover","making","mallard","management","manner","mantua","marathon","march","marimba","marketplace","marksman","markup","marten","massage","masterpiece","mathematics","meadow","meal","meander","meatloaf","mechanic","median","membership","mentor","merit","metabolite","metal","middle","midwife","milestone","millet","minion","minister","minor","minority","mixture","mobility","molasses","mom","moment","monasticism","monocle","monster","morbidity","morning","mortise","mountain","mouser","mousse","mozzarella","muscat","mythology","napkin","necklace","nectarine","negotiation","nephew","nerve","netsuke","newsletter","newsprint","newsstand","nightlife","noon","nougat","nucleotidase","nudge","numeracy","numeric","nun","obedience","obesity","object","obligation","ocelot","octave","offset","oil","omelet","onset","opera","operating","optimal","orchid","order","ostrich","other","outlaw","outrun","outset","overcoat","overheard","overload","ownership","pacemaker","packaging","paintwork","palate","pants","pantyhose","papa","parade","parsnip","partridge","passport","pasta","patroller","pear","pearl","pecan","pendant","peninsula","pension","peony","pepper","perfection","permafrost","perp","petal","petticoat","pharmacopoeia","phrase","pick","piglet","pigpen","pigsty","pile","pillbox","pillow","pilot","pine","pinstripe","place","plain","planula","plastic","platter","platypus","pleasure","pliers","plugin","plumber","pneumonia","pocket-watch","poetry","polarisation","polyester","pomelo","pop","poppy","popularity","populist","porter","possession","postbox","precedent","premeditation","premier","premise","premium","pressure","presume","priesthood","printer","privilege","procurement","produce","programme","prohibition","promise","pronoun","providence","provider","provision","publication","publicity","pulse","punctuation","pupil","puppet","puritan","quart","quinoa","quit","railway","range","rationale","ravioli","rawhide","reach","reasoning","reboot","receptor","recommendation","reconsideration","recovery","redesign","relative","release","remark","reorganisation","repeat","replacement","reporter","representation","republican","request","requirement","reservation","resolve","resource","responsibility","restaurant","retention","retrospectivity","reward","ribbon","rim","riser","roadway","role","rosemary","roundabout","rubric","ruin","rule","runway","rust","safe","sailor","saloon","sand","sandbar","sanity","sarong","sauerkraut","saw","scaffold","scale","scarification","scenario","schedule","schnitzel","scholarship","scorn","scorpion","scout","scrap","scratch","seafood","seagull","seal","season","secrecy","secret","section","sediment","self-confidence","sermon","sesame","settler","shadowbox","shark","shipper","shore","shoulder","sideboard","siege","sightseeing","signature","silk","simple","singing","skean","skeleton","skyline","skyscraper","slide","slime","slipper","smog","smoke","sock","soliloquy","solution","solvency","someplace","sonar","sonata","sonnet","soup","soybean","space","spear","spirit","spork","sport","spring","sprinkles","squid","stall","starboard","statue","status","stay","steak","steeple","step","step-mother","sticker","stir-fry","stitcher","stock","stool","story","strait","stranger","strategy","straw","stump","subexpression","submitter","subsidy","substitution","suitcase","summary","summer","sunbeam","sundae","supplier","surface","sushi","suspension","sustenance","swanling","swath","sweatshop","swim","swine","swing","switch","switchboard","swordfish","synergy","t-shirt","tabletop","tackle","tail","tapioca","taro","tarragon","taxicab","teammate","technician","technologist","tectonics","tenant","tenement","tennis","tentacle","teriyaki","term","testimonial","testing","thigh","thongs","thorn","thread","thunderbolt","thyme","tinderbox","toaster","tomatillo","tomb","tomography","tool","tooth","toothbrush","toothpick","topsail","traditionalism","traffic","translation","transom","transparency","trash","travel","tray","trench","tribe","tributary","trick","trolley","tuba","tuber","tune-up","turret","tusk","tuxedo","typeface","typewriter","unblinking","underneath","underpants","understanding","unibody","unique","unit","utilization","valentine","validity","valley","valuable","vanadyl","vein","velocity","venom","version","verve","vestment","veto","viability","vibraphone","vibration","vicinity","video","violin","vision","vista","vol","volleyball","wafer","waist","wallaby","warming","wasabi","waterspout","wear","wedding","whack","whale","wheel","widow","wilderness","willow","window","wombat","word","worth","wriggler","yak","yarmulke","yeast","yin","yogurt","zebra","zen"],VV=["a","abaft","aboard","about","above","absent","across","afore","after","against","along","alongside","amid","amidst","among","amongst","an","anenst","anti","apropos","apud","around","as","aside","astride","at","athwart","atop","barring","before","behind","below","beneath","beside","besides","between","beyond","but","by","circa","concerning","considering","despite","down","during","except","excepting","excluding","failing","following","for","forenenst","from","given","in","including","inside","into","lest","like","mid","midst","minus","modulo","near","next","notwithstanding","of","off","on","onto","opposite","out","outside","over","pace","past","per","plus","pro","qua","regarding","round","sans","save","since","than","the","through","throughout","till","times","to","toward","towards","under","underneath","unlike","until","unto","up","upon","versus","via","vice","with","within","without","worth"],WV=["abnegate","abscond","abseil","absolve","accentuate","accept","access","accessorise","accompany","account","accredit","achieve","acknowledge","acquire","adjourn","adjudge","admonish","adumbrate","advocate","afford","airbrush","ameliorate","amend","amount","anaesthetise","analyse","anesthetize","anneal","annex","antagonize","ape","apologise","apostrophize","appertain","appreciate","appropriate","approximate","arbitrate","archive","arraign","arrange","ascertain","ascribe","assail","atomize","attend","attest","attribute","augment","avow","axe","baa","banish","bank","baptise","battle","beard","beep","behold","belabor","bemuse","besmirch","bestride","better","bewail","bicycle","bide","bind","biodegrade","blacken","blaspheme","bleach","blend","blink","bliss","bloom","bludgeon","bobble","boggle","bolster","book","boom","bootleg","border","bore","boss","braid","brand","brandish","break","breed","broadcast","broadside","brood","browse","buck","burgeon","bus","butter","buzzing","camouflage","cannibalise","canter","cap","capitalise","capitalize","capsize","card","carouse","carp","carpool","catalog","catalyze","catch","categorise","cease","celebrate","censor","certify","char","charter","chase","chatter","chime","chip","christen","chromakey","chunder","chunter","cinch","circle","circulate","circumnavigate","clamor","clamour","claw","cleave","clinch","clinking","clone","clonk","coagulate","coexist","coincide","collaborate","colligate","colorize","colour","comb","come","commandeer","commemorate","communicate","compete","conceal","conceptualize","conclude","concrete","condense","cone","confide","confirm","confiscate","confound","confute","congregate","conjecture","connect","consign","construe","contradict","contrast","contravene","controvert","convalesce","converse","convince","convoke","coop","cop","corner","covenant","cow","crackle","cram","crank","creak","creaking","cripple","croon","cross","crumble","crystallize","culminate","culture","curry","curse","customise","cycle","dally","dampen","darn","debit","debut","decide","decode","decouple","decriminalize","deduce","deduct","deflate","deflect","deform","defrag","degenerate","degrease","delete","delight","deliquesce","demob","demobilise","democratize","demonstrate","denitrify","deny","depart","depend","deplore","deploy","deprave","depute","dereference","describe","desecrate","deselect","destock","detain","develop","devise","dial","dicker","digitize","dilate","disapprove","disarm","disbar","discontinue","disgorge","dishearten","dishonor","disinherit","dislocate","dispense","display","dispose","disrespect","dissemble","ditch","divert","dock","doodle","downchange","downshift","dowse","draft","drag","drain","dramatize","drowse","drum","dwell","economise","edge","efface","egg","eke","electrify","embalm","embed","embody","emboss","emerge","emphasise","emphasize","emulsify","encode","endow","enfold","engage","engender","enhance","enlist","enrage","enrich","enroll","entice","entomb","entrench","entwine","equate","essay","etch","eulogise","even","evince","exacerbate","exaggerate","exalt","exempt","exonerate","expatiate","explode","expostulate","extract","extricate","eyeglasses","fabricate","facilitate","factorise","factorize","fail","fall","familiarize","fashion","father","fathom","fax","federate","feminize","fence","fess","fictionalize","fiddle","fidget","fill","flash","fleck","flight","floodlight","floss","fluctuate","fluff","fly","focalise","foot","forearm","forecast","foretell","forgather","forgo","fork","form","forswear","founder","fraternise","fray","frizz","fumigate","function","furlough","fuss","gad","gallivant","galvanize","gape","garage","garrote","gasp","gestate","give","glimmer","glisten","gloat","gloss","glow","gnash","gnaw","goose","govern","grade","graduate","graft","grok","guest","guilt","gulp","gum","gurn","gust","gut","guzzle","ham","harangue","harvest","hassle","haul","haze","headline","hearten","heighten","highlight","hoick","hold","hole","hollow","holster","home","homeschool","hoot","horn","horse","hotfoot","house","hover","howl","huddle","huff","hunger","hunt","husk","hype","hypothesise","hypothesize","idle","ignite","imagineer","impact","impanel","implode","incinerate","incline","inculcate","industrialize","ingratiate","inhibit","inject","innovate","inscribe","insert","insist","inspect","institute","institutionalize","intend","intermarry","intermesh","intermix","internalise","internalize","internationalize","intrigue","inure","inveigle","inventory","investigate","irk","iterate","jaywalk","jell","jeopardise","jiggle","jive","joint","jot","jut","keel","knife","knit","know","kowtow","lack","lampoon","large","leap","lecture","legitimize","lend","libel","liberalize","license","ligate","list","lobotomise","lock","log","loose","low","lowball","machine","magnetize","major","make","malfunction","manage","manipulate","maroon","masculinize","mash","mask","masquerade","massage","masticate","materialise","matter","maul","memorise","merge","mesh","metabolise","microblog","microchip","micromanage","militate","mill","minister","minor","misappropriate","miscalculate","misfire","misjudge","miskey","mismatch","mispronounce","misread","misreport","misspend","mob","mobilise","mobilize","moisten","mooch","moor","moralise","mortar","mosh","mothball","motivate","motor","mould","mount","muddy","mummify","mutate","mystify","nab","narrate","narrowcast","nasalise","nauseate","navigate","neaten","neck","neglect","norm","notarize","object","obscure","observe","obsess","obstruct","obtrude","offend","offset","option","orchestrate","orient","orientate","outbid","outdo","outfit","outflank","outfox","outnumber","outrank","outrun","outsource","overburden","overcharge","overcook","overdub","overfeed","overload","overplay","overproduce","overreact","override","overspend","overstay","overtrain","overvalue","overwork","own","oxidise","oxidize","oxygenate","pace","pack","pale","pant","paralyse","parody","part","pause","pave","penalise","persecute","personalise","perspire","pertain","peter","pike","pillory","pinion","pip","pity","pivot","pixellate","plagiarise","plait","plan","please","pluck","ponder","popularize","portray","prance","preclude","preheat","prejudge","preregister","presell","preside","pretend","print","prioritize","probate","probe","proceed","procrastinate","profane","progress","proliferate","proofread","propound","proselytise","provision","pry","publicize","puff","pull","pulp","pulverize","purse","put","putrefy","quadruple","quaff","quantify","quarrel","quash","quaver","question","quiet","quintuple","quip","quit","rag","rally","ramp","randomize","rationalise","rationalize","ravage","ravel","react","readies","readjust","readmit","ready","reapply","rear","reassemble","rebel","reboot","reborn","rebound","rebuff","rebuild","rebuke","recede","reckon","reclassify","recompense","reconstitute","record","recount","redact","redevelop","redound","redraw","redress","reel","refer","reference","refine","reflate","refute","regulate","reiterate","rejigger","rejoin","rekindle","relaunch","relieve","remand","remark","reopen","reorient","replicate","repossess","represent","reprimand","reproach","reprove","repurpose","requite","reschedule","resort","respray","restructure","retool","retract","revere","revitalise","revoke","reword","rewrite","ride","ridge","rim","ring","rise","rival","roger","rosin","rot","rout","row","rue","rule","safeguard","sashay","sate","satirise","satirize","satisfy","saturate","savour","scale","scamper","scar","scare","scarper","scent","schematise","scheme","schlep","scoff","scoop","scope","scotch","scowl","scrabble","scram","scramble","scrape","screw","scruple","scrutinise","scuffle","scuttle","search","secularize","see","segregate","sell","sense","sensitize","sequester","serenade","serialize","serve","service","settle","sew","shaft","sham","shampoo","shanghai","shear","sheathe","shell","shinny","shirk","shoot","shoulder","shout","shovel","showboat","shred","shrill","shudder","shush","sidetrack","sign","silt","sin","singe","sit","sizzle","skateboard","ski","slake","slap","slather","sleet","slink","slip","slope","slump","smarten","smuggle","snack","sneak","sniff","snoop","snow","snowplow","snuggle","soap","solace","solder","solicit","source","spark","spattering","spectacles","spectate","spellcheck","spew","spice","spirit","splash","splay","split","splosh","splurge","spook","square","squirm","stabilise","stable","stack","stage","stake","starch","state","statement","stiffen","stigmatize","sting","stint","stoop","store","storyboard","stratify","structure","stuff","stunt","substantiate","subtract","suckle","suffice","suffocate","summarise","sun","sunbathe","sunder","sup","surge","surprise","swat","swathe","sway","swear","swelter","swerve","swill","swing","symbolise","synthesise","syringe","table","tabulate","tag","tame","tank","tankful","tarry","task","taxicab","team","telescope","tenant","terraform","terrorise","testify","think","throbbing","thump","tighten","toady","toe","tough","tousle","traduce","train","transcend","transplant","trash","treasure","treble","trek","trial","tromp","trouser","trust","tune","tut","twine","twist","typify","unbalance","uncork","uncover","underachieve","undergo","underplay","unearth","unfreeze","unfurl","unlearn","unscramble","unzip","uproot","upsell","usher","vacation","vamoose","vanish","vary","veg","venture","verify","vet","veto","volunteer","vulgarise","waft","wallop","waltz","warp","wash","waver","weary","weatherize","wedge","weep","weight","welcome","westernise","westernize","while","whine","whisper","whistle","whitewash","whup","wilt","wing","wire","wisecrack","wolf","wound","wring","writ","yak","yawn","yearn","yuppify"],$V={adjective:OV,adverb:HV,conjunction:GV,interjection:jV,noun:zV,preposition:VV,verb:WV},UV=$V,KV={airline:TG,animal:qG,app:QG,book:aj,cell_phone:cj,color:fj,commerce:yj,company:_j,database:Dj,date:Bj,finance:Jj,food:az,hacker:pz,internet:vz,location:Hz,lorem:zz,metadata:Wz,music:Yz,person:gV,phone_number:FV,science:EV,team:TV,vehicle:NV,word:UV},qV=KV,it=class extends Error{};function JV(e){let t=Object.getPrototypeOf(e);do{for(let r of Object.getOwnPropertyNames(t))typeof e[r]=="function"&&r!=="constructor"&&(e[r]=e[r].bind(e));t=Object.getPrototypeOf(t)}while(t!==Object.prototype)}var To=class{constructor(e){this.faker=e,JV(this)}},ir=class extends To{constructor(e){super(e),this.faker=e}},TF=(e=>(e.Narrowbody="narrowbody",e.Regional="regional",e.Widebody="widebody",e))(TF||{}),YV=["0","1","2","3","4","5","6","7","8","9"],ZV=["0","O","1","I","L"],XV={regional:20,narrowbody:35,widebody:60},QV={regional:["A","B","C","D"],narrowbody:["A","B","C","D","E","F"],widebody:["A","B","C","D","E","F","G","H","J","K"]},eW=class extends ir{airport(){return this.faker.helpers.arrayElement(this.faker.definitions.airline.airport)}airline(){return this.faker.helpers.arrayElement(this.faker.definitions.airline.airline)}airplane(){return this.faker.helpers.arrayElement(this.faker.definitions.airline.airplane)}recordLocator(e={}){let{allowNumerics:t=!1,allowVisuallySimilarCharacters:r=!1}=e,n=[];return t||n.push(...YV),r||n.push(...ZV),this.faker.string.alphanumeric({length:6,casing:"upper",exclude:n})}seat(e={}){let{aircraftType:t="narrowbody"}=e,r=XV[t],n=QV[t],i=this.faker.number.int({min:1,max:r}),o=this.faker.helpers.arrayElement(n);return`${i}${o}`}aircraftType(){return this.faker.helpers.enumValue(TF)}flightNumber(e={}){let{length:t={min:1,max:4},addLeadingZeros:r=!1}=e,n=this.faker.string.numeric({length:t,allowLeadingZeros:!1});return r?n.padStart(4,"0"):n}},DF=(e=>(e.SRGB="sRGB",e.DisplayP3="display-p3",e.REC2020="rec2020",e.A98RGB="a98-rgb",e.ProphotoRGB="prophoto-rgb",e))(DF||{}),MF=(e=>(e.RGB="rgb",e.RGBA="rgba",e.HSL="hsl",e.HSLA="hsla",e.HWB="hwb",e.CMYK="cmyk",e.LAB="lab",e.LCH="lch",e.COLOR="color",e))(MF||{});function tW(e,t){let{prefix:r,casing:n}=t;switch(n){case"upper":{e=e.toUpperCase();break}case"lower":{e=e.toLowerCase();break}}return r&&(e=r+e),e}function PF(e){return e.map(t=>{if(t%1!==0){let r=new ArrayBuffer(4);new DataView(r).setFloat32(0,t);let n=new Uint8Array(r);return PF([...n]).replaceAll(" ","")}return(t>>>0).toString(2).padStart(8,"0")}).join(" ")}function $r(e){return Math.round(e*100)}function rW(e,t="rgb",r="sRGB"){switch(t){case"rgba":return`rgba(${e[0]}, ${e[1]}, ${e[2]}, ${e[3]})`;case"color":return`color(${r} ${e[0]} ${e[1]} ${e[2]})`;case"cmyk":return`cmyk(${$r(e[0])}%, ${$r(e[1])}%, ${$r(e[2])}%, ${$r(e[3])}%)`;case"hsl":return`hsl(${e[0]}deg ${$r(e[1])}% ${$r(e[2])}%)`;case"hsla":return`hsl(${e[0]}deg ${$r(e[1])}% ${$r(e[2])}% / ${$r(e[3])})`;case"hwb":return`hwb(${e[0]} ${$r(e[1])}% ${$r(e[2])}%)`;case"lab":return`lab(${$r(e[0])}% ${e[1]} ${e[2]})`;case"lch":return`lch(${$r(e[0])}% ${e[1]} ${e[2]})`;case"rgb":return`rgb(${e[0]}, ${e[1]}, ${e[2]})`}}function Wi(e,t,r="rgb",n="sRGB"){switch(t){case"css":return rW(e,r,n);case"binary":return PF(e);case"decimal":return e}}var nW=class extends ir{human(){return this.faker.helpers.arrayElement(this.faker.definitions.color.human)}space(){return this.faker.helpers.arrayElement(this.faker.definitions.color.space)}cssSupportedFunction(){return this.faker.helpers.enumValue(MF)}cssSupportedSpace(){return this.faker.helpers.enumValue(DF)}rgb(e={}){let{format:t="hex",includeAlpha:r=!1,prefix:n="#",casing:i="lower"}=e,o,s="rgb";return t==="hex"?(o=this.faker.string.hexadecimal({length:r?8:6,prefix:""}),o=tW(o,{prefix:n,casing:i}),o):(o=Array.from({length:3},()=>this.faker.number.int(255)),r&&(o.push(this.faker.number.float({multipleOf:.01})),s="rgba"),Wi(o,t,s))}cmyk(e={}){let{format:t="decimal"}=e,r=Array.from({length:4},()=>this.faker.number.float({multipleOf:.01}));return Wi(r,t,"cmyk")}hsl(e={}){let{format:t="decimal",includeAlpha:r=!1}=e,n=[this.faker.number.int(360)];for(let i=0;i<(e?.includeAlpha?3:2);i++)n.push(this.faker.number.float({multipleOf:.01}));return Wi(n,t,r?"hsla":"hsl")}hwb(e={}){let{format:t="decimal"}=e,r=[this.faker.number.int(360)];for(let n=0;n<2;n++)r.push(this.faker.number.float({multipleOf:.01}));return Wi(r,t,"hwb")}lab(e={}){let{format:t="decimal"}=e,r=[this.faker.number.float({multipleOf:1e-6})];for(let n=0;n<2;n++)r.push(this.faker.number.float({min:-100,max:100,multipleOf:1e-4}));return Wi(r,t,"lab")}lch(e={}){let{format:t="decimal"}=e,r=[this.faker.number.float({multipleOf:1e-6})];for(let n=0;n<2;n++)r.push(this.faker.number.float({max:230,multipleOf:.1}));return Wi(r,t,"lch")}colorByCSSColorSpace(e={}){let{format:t="decimal",space:r="sRGB"}=e,n=Array.from({length:3},()=>this.faker.number.float({multipleOf:1e-4}));return Wi(n,t,"color",r)}},IF=(e=>(e.Legacy="legacy",e.Segwit="segwit",e.Bech32="bech32",e.Taproot="taproot",e))(IF||{}),iW=(e=>(e.Mainnet="mainnet",e.Testnet="testnet",e))(iW||{}),oW={legacy:{prefix:{mainnet:"1",testnet:"m"},length:{min:26,max:34},casing:"mixed",exclude:"0OIl"},segwit:{prefix:{mainnet:"3",testnet:"2"},length:{min:26,max:34},casing:"mixed",exclude:"0OIl"},bech32:{prefix:{mainnet:"bc1",testnet:"tb1"},length:{min:42,max:42},casing:"lower",exclude:"1bBiIoO"},taproot:{prefix:{mainnet:"bc1p",testnet:"tb1p"},length:{min:62,max:62},casing:"lower",exclude:"1bBiIoO"}},BF=typeof Buffer>"u"||!LF("base64")?e=>{let t=new TextEncoder().encode(e),r=Array.from(t,n=>String.fromCodePoint(n)).join("");return btoa(r)}:e=>Buffer.from(e).toString("base64"),R0=typeof Buffer>"u"||!LF("base64url")?e=>BF(e).replaceAll("+","-").replaceAll("/","_").replaceAll(/=+$/g,""):e=>Buffer.from(e).toString("base64url");function LF(e){try{return typeof Buffer.from("test").toString(e)=="string"}catch{return!1}}var sW=Object.fromEntries([["","A"],["","a"],["","B"],["","b"],["","V"],["","v"],["","G"],["","g"],["","D"],["","d"],["","ye"],["","Ye"],["","yE"],["","YE"],["","E"],["","e"],["","Yo"],["","yo"],["","Zh"],["","zh"],["","Z"],["","z"],["","I"],["","i"],["","iy"],["","Iy"],["","IY"],["","iY"],["","Y"],["","y"],["","K"],["","k"],["","L"],["","l"],["","M"],["","m"],["","N"],["","n"],["","O"],["","o"],["","P"],["","p"],["","R"],["","r"],["","S"],["","s"],["","T"],["","t"],["","U"],["","u"],["","F"],["","f"],["","Kh"],["","kh"],["","Ts"],["","ts"],["","Ch"],["","ch"],["","Sh"],["","sh"],["","Sch"],["","sch"],["",""],["",""],["","Y"],["","y"],["",""],["",""],["","E"],["","e"],["","Yu"],["","yu"],["","Ya"],["","ya"]]),aW=Object.fromEntries([["","a"],["","v"],["","g"],["","d"],["","e"],["","z"],["","i"],["","th"],["","i"],["","k"],["","l"],["","m"],["","n"],["","ks"],["","o"],["","p"],["","r"],["","s"],["","t"],["","y"],["","f"],["","x"],["","ps"],["","o"],["","a"],["","e"],["","i"],["","o"],["","y"],["","i"],["","o"],["","s"],["","i"],["","y"],["","y"],["","i"],["","A"],["","B"],["","G"],["","D"],["","E"],["","Z"],["","I"],["","TH"],["","I"],["","K"],["","L"],["","M"],["","N"],["","KS"],["","O"],["","P"],["","R"],["","S"],["","T"],["","Y"],["","F"],["","X"],["","PS"],["","O"],["","A"],["","E"],["","I"],["","O"],["","Y"],["","I"],["","O"],["","I"],["","Y"]]),lW=Object.fromEntries([["","e"],["","a"],["","a"],["","w"],["","i"],["","y"],["","a"],["","b"],["","t"],["","t"],["","th"],["","j"],["","h"],["","kh"],["","d"],["","dh"],["","r"],["","z"],["","s"],["","sh"],["","s"],["","d"],["","t"],["","z"],["","e"],["","gh"],["","_"],["","f"],["","q"],["","k"],["","l"],["","m"],["","n"],["","h"],["","w"],["","a"],["","y"],["","a"],["","u"],["","i"]]),uW=Object.fromEntries([["","a"],["","A"],["","b"],["","B"],["","g"],["","G"],["","d"],["","D"],["","ye"],["","Ye"],["","z"],["","Z"],["","e"],["","E"],["","y"],["","Y"],["","t"],["","T"],["","zh"],["","Zh"],["","i"],["","I"],["","l"],["","L"],["","kh"],["","Kh"],["","ts"],["","Ts"],["","k"],["","K"],["","h"],["","H"],["","dz"],["","Dz"],["","gh"],["","Gh"],["","tch"],["","Tch"],["","m"],["","M"],["","y"],["","Y"],["","n"],["","N"],["","sh"],["","Sh"],["","vo"],["","Vo"],["","ch"],["","Ch"],["","p"],["","P"],["","j"],["","J"],["","r"],["","R"],["","s"],["","S"],["","v"],["","V"],["","t"],["","T"],["","r"],["","R"],["","c"],["","C"],["","u"],["","U"],["","U"],["","p"],["","P"],["","q"],["","Q"],["","o"],["","O"],["","f"],["","F"],["","yev"]]),cW=Object.fromEntries([["","ch"],["","k"],["","g"],["","p"],["","zh"],["","y"]]),dW=Object.fromEntries([["","a"],["","b"],["","g"],["","d"],["","h"],["","v"],["","z"],["","ch"],["","t"],["","y"],["","k"],["","kh"],["","l"],["","m"],["","m"],["","n"],["","n"],["","s"],["","a"],["","f"],["","ph"],["","ts"],["","ts"],["","k"],["","r"],["","sh"],["","t"],["","v"]]),_0={...sW,...aW,...lW,...cW,...uW,...dW},hW=(e=>(e.Any="any",e.Loopback="loopback",e.PrivateA="private-a",e.PrivateB="private-b",e.PrivateC="private-c",e.TestNet1="test-net-1",e.TestNet2="test-net-2",e.TestNet3="test-net-3",e.LinkLocal="link-local",e.Multicast="multicast",e))(hW||{}),fW={any:"0.0.0.0/0",loopback:"127.0.0.0/8","private-a":"10.0.0.0/8","private-b":"172.16.0.0/12","private-c":"192.168.0.0/16","test-net-1":"192.0.2.0/24","test-net-2":"198.51.100.0/24","test-net-3":"203.0.113.0/24","link-local":"169.254.0.0/16",multicast:"224.0.0.0/4"};function A0(e){return/^[a-z][a-z-]*[a-z]$/i.exec(e)!==null}function T0(e,t){let r=e.helpers.slugify(t);if(A0(r))return r;let n=e.helpers.slugify(e.lorem.word());return A0(n)?n:e.string.alpha({casing:"lower",length:e.number.int({min:4,max:8})})}var pW=class extends ir{email(e={}){let{firstName:t,lastName:r,provider:n=this.faker.helpers.arrayElement(this.faker.definitions.internet.free_email),allowSpecialCharacters:i=!1}=e,o=this.username({firstName:t,lastName:r});if(o=o.replaceAll(/[^A-Za-z0-9._+-]+/g,""),o=o.substring(0,50),i){let s=[..."._-"],a=[...".!#$%&'*+-/=?^_`{|}~"];o=o.replace(this.faker.helpers.arrayElement(s),this.faker.helpers.arrayElement(a))}return o=o.replaceAll(/\.{2,}/g,"."),o=o.replace(/^\./,""),o=o.replace(/\.$/,""),`${o}@${n}`}exampleEmail(e={}){let{firstName:t,lastName:r,allowSpecialCharacters:n=!1}=e,i=this.faker.helpers.arrayElement(this.faker.definitions.internet.example_email);return this.email({firstName:t,lastName:r,provider:i,allowSpecialCharacters:n})}username(e={}){let{firstName:t=this.faker.person.firstName(),lastName:r=this.faker.person.lastName(),lastName:n}=e,i=this.faker.helpers.arrayElement([".","_"]),o=this.faker.number.int(99),s=[()=>`${t}${i}${r}${o}`,()=>`${t}${i}${r}`];n||s.push(()=>`${t}${o}`);let a=this.faker.helpers.arrayElement(s)();return a=a.normalize("NFKD").replaceAll(/[\u0300-\u036F]/g,""),a=[...a].map(l=>{if(_0[l])return _0[l];let u=l.codePointAt(0)??Number.NaN;return u<128?l:u.toString(36)}).join(""),a=a.replaceAll("'",""),a=a.replaceAll(" ",""),a}displayName(e={}){let{firstName:t=this.faker.person.firstName(),lastName:r=this.faker.person.lastName()}=e,n=this.faker.helpers.arrayElement([".","_"]),i=this.faker.number.int(99),o=[()=>`${t}${i}`,()=>`${t}${n}${r}`,()=>`${t}${n}${r}${i}`],s=this.faker.helpers.arrayElement(o)();return s=s.replaceAll("'",""),s=s.replaceAll(" ",""),s}protocol(){let e=["http","https"];return this.faker.helpers.arrayElement(e)}httpMethod(){let e=["GET","POST","PUT","DELETE","PATCH"];return this.faker.helpers.arrayElement(e)}httpStatusCode(e={}){let{types:t=Object.keys(this.faker.definitions.internet.http_status_code)}=e,r=this.faker.helpers.arrayElement(t);return this.faker.helpers.arrayElement(this.faker.definitions.internet.http_status_code[r])}url(e={}){let{appendSlash:t=this.faker.datatype.boolean(),protocol:r="https"}=e;return`${r}://${this.domainName()}${t?"/":""}`}domainName(){return`${this.domainWord()}.${this.domainSuffix()}`}domainSuffix(){return this.faker.helpers.arrayElement(this.faker.definitions.internet.domain_suffix)}domainWord(){let e=T0(this.faker,this.faker.word.adjective()),t=T0(this.faker,this.faker.word.noun());return`${e}-${t}`.toLowerCase()}ip(){return this.faker.datatype.boolean()?this.ipv4():this.ipv6()}ipv4(e={}){let{network:t="any",cidrBlock:r=fW[t]}=e;if(!/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}\/\d{1,2}$/.test(r))throw new it(`Invalid CIDR block provided: ${r}. Must be in the format x.x.x.x/y.`);let[n,i]=r.split("/"),o=4294967295>>>Number.parseInt(i),[s,a,l,u]=n.split(".").map(Number),c=(s<<24|a<<16|l<<8|u)&~o,f=this.faker.number.int(o),d=c|f;return[d>>>24&255,d>>>16&255,d>>>8&255,d&255].join(".")}ipv6(){return Array.from({length:8},()=>this.faker.string.hexadecimal({length:4,casing:"lower",prefix:""})).join(":")}port(){return this.faker.number.int(65535)}userAgent(){return this.faker.helpers.fake(this.faker.definitions.internet.user_agent_pattern)}mac(e={}){typeof e=="string"&&(e={separator:e});let{separator:t=":"}=e,r,n="";for([":","-",""].includes(t)||(t=":"),r=0;r<12;r++)n+=this.faker.number.hex(15),r%2===1&&r!==11&&(n+=t);return n}password(e={}){let t=/[aeiouAEIOU]$/,r=/[bcdfghjklmnpqrstvwxyzBCDFGHJKLMNPQRSTVWXYZ]$/,n=(l,u,c,f)=>{if(f.length>=l)return f;u&&(c=r.test(f)?t:r);let d=this.faker.number.int(94)+33,h=String.fromCodePoint(d);return u&&(h=h.toLowerCase()),c.test(h)?n(l,u,c,f+h):n(l,u,c,f)},{length:i=15,memorable:o=!1,pattern:s=/\w/,prefix:a=""}=e;return n(i,o,s,a)}emoji(e={}){let{types:t=Object.keys(this.faker.definitions.internet.emoji)}=e,r=this.faker.helpers.arrayElement(t);return this.faker.helpers.arrayElement(this.faker.definitions.internet.emoji[r])}jwtAlgorithm(){return this.faker.helpers.arrayElement(this.faker.definitions.internet.jwt_algorithm)}jwt(e={}){let{refDate:t=this.faker.defaultRefDate()}=e,r=this.faker.date.recent({refDate:t}),{header:n={alg:this.jwtAlgorithm(),typ:"JWT"},payload:i={iat:Math.round(r.valueOf()/1e3),exp:Math.round(this.faker.date.soon({refDate:r}).valueOf()/1e3),nbf:Math.round(this.faker.date.anytime({refDate:t}).valueOf()/1e3),iss:this.faker.company.name(),sub:this.faker.string.uuid(),aud:this.faker.string.uuid(),jti:this.faker.string.uuid()}}=e,o=R0(JSON.stringify(n)),s=R0(JSON.stringify(i)),a=this.faker.string.alphanumeric(64);return`${o}.${s}.${a}`}},NF=(e=>(e.Female="female",e.Male="male",e))(NF||{});function Gs(e,t,r){let{generic:n,female:i,male:o}=r;switch(t){case"female":return i??n;case"male":return o??n;default:return n??e.helpers.arrayElement([i,o])??[]}}var gW=class extends ir{firstName(e){return this.faker.helpers.arrayElement(Gs(this.faker,e,this.faker.definitions.person.first_name))}lastName(e){if(this.faker.rawDefinitions.person?.last_name_pattern!=null){let t=this.faker.helpers.weightedArrayElement(Gs(this.faker,e,this.faker.rawDefinitions.person.last_name_pattern));return this.faker.helpers.fake(t)}return this.faker.helpers.arrayElement(Gs(this.faker,e,this.faker.definitions.person.last_name))}middleName(e){return this.faker.helpers.arrayElement(Gs(this.faker,e,this.faker.definitions.person.middle_name))}fullName(e={}){let{sex:t=this.faker.helpers.arrayElement(["female","male"]),firstName:r=this.firstName(t),lastName:n=this.lastName(t)}=e,i=this.faker.helpers.weightedArrayElement(this.faker.definitions.person.name);return this.faker.helpers.mustache(i,{"person.prefix":()=>this.prefix(t),"person.firstName":()=>r,"person.middleName":()=>this.middleName(t),"person.lastName":()=>n,"person.suffix":()=>this.suffix()})}gender(){return this.faker.helpers.arrayElement(this.faker.definitions.person.gender)}sex(){return this.faker.helpers.arrayElement(this.faker.definitions.person.sex)}sexType(){return this.faker.helpers.enumValue(NF)}bio(){let{bio_pattern:e}=this.faker.definitions.person;return this.faker.helpers.fake(e)}prefix(e){return this.faker.helpers.arrayElement(Gs(this.faker,e,this.faker.definitions.person.prefix))}suffix(){return this.faker.helpers.arrayElement(this.faker.definitions.person.suffix)}jobTitle(){return this.faker.helpers.fake(this.faker.definitions.person.job_title_pattern)}jobDescriptor(){return this.faker.helpers.arrayElement(this.faker.definitions.person.job_descriptor)}jobArea(){return this.faker.helpers.arrayElement(this.faker.definitions.person.job_area)}jobType(){return this.faker.helpers.arrayElement(this.faker.definitions.person.job_type)}zodiacSign(){return this.faker.helpers.arrayElement(this.faker.definitions.person.western_zodiac_sign)}},mW=23283064365386963e-26,bW=1/9007199254740992,{imul:pf,trunc:gf}=Math;function D0(e){return typeof e=="number"?OF(e):yW(e)}function OF(e){let t=Array.from({length:624});t[0]=e;for(let r=1;r!==624;++r){let n=t[r-1]^t[r-1]>>>30;t[r]=gf(pf(1812433253,n)+r)}return t}function yW(e){let t=OF(19650218),r=1,n=0;for(let i=Math.max(624,e.length);i!==0;--i){let o=t[r-1]^t[r-1]>>>30;t[r]=gf((t[r]^pf(o,1664525))+e[n]+n),r++,n++,r>=624&&(t[0]=t[623],r=1),n>=e.length&&(n=0)}for(let i=623;i!==0;i--)t[r]=gf((t[r]^pf(t[r-1]^t[r-1]>>>30,1566083941))-r),r++,r>=624&&(t[0]=t[623],r=1);return t[0]=2147483648,t}function Jd(e){for(let r=0;r!==227;++r){let n=(e[r]&2147483648)+(e[r+1]&2147483647);e[r]=e[r+397]^n>>>1^-(n&1)&2567483615}for(let r=227;r!==623;++r){let n=(e[r]&2147483648)+(e[r+1]&2147483647);e[r]=e[r+397-624]^n>>>1^-(n&1)&2567483615}let t=(e[623]&2147483648)+(e[0]&2147483647);return e[623]=e[396]^t>>>1^-(t&1)&2567483615,e}var vW=class{constructor(e=Math.random()*Number.MAX_SAFE_INTEGER,t=Jd(D0(e)),r=0){this.states=t,this.index=r}nextU32(){let e=this.states[this.index];return e^=this.states[this.index]>>>11,e^=e<<7&2636928640,e^=e<<15&4022730752,e^=e>>>18,++this.index>=624&&(this.states=Jd(this.states),this.index=0),e>>>0}nextF32(){return this.nextU32()*mW}nextU53(){let e=this.nextU32()>>>5,t=this.nextU32()>>>6;return e*67108864+t}nextF53(){return this.nextU53()*bW}seed(e){this.states=Jd(D0(e)),this.index=0}};function HF(){return Math.ceil(Math.random()*Number.MAX_SAFE_INTEGER)}function wW(e=HF()){let t=new vW(e);return{next(){return t.nextF53()},seed(r){t.seed(r)}}}var CW=class extends To{boolean(e={}){typeof e=="number"&&(e={probability:e});let{probability:t=.5}=e;return t<=0?!1:t>=1?!0:this.faker.number.float()<t}};function Vn(e,t="refDate"){let r=new Date(e);if(Number.isNaN(r.valueOf()))throw new it(`Invalid ${t} date: ${e.toString()}`);return r}var mc=()=>{throw new it("You cannot edit the locale data on the faker instance")};function FW(e){let t={};return new Proxy(e,{has(){return!0},get(r,n){return typeof n=="symbol"||n==="nodeType"?r[n]:n in t?t[n]:t[n]=SW(n,r[n])},set:mc,deleteProperty:mc})}function mf(e,...t){if(e===null)throw new it(`The locale data for '${t.join(".")}' aren't applicable to this locale.
  If you think this is a bug, please report it at: https://github.com/faker-js/faker`);if(e===void 0)throw new it(`The locale data for '${t.join(".")}' are missing in this locale.
  If this is a custom Faker instance, please make sure all required locales are used e.g. '[de_AT, de, en, base]'.
  Please contribute the missing data to the project or use a locale/Faker instance that has these data.
  For more information see https://fakerjs.dev/guide/localization.html`)}function SW(e,t={}){return new Proxy(t,{has(r,n){return r[n]!=null},get(r,n){let i=r[n];return typeof n=="symbol"||n==="nodeType"||mf(i,e,n.toString()),i},set:mc,deleteProperty:mc})}var GF=class extends To{anytime(e={}){let{refDate:t=this.faker.defaultRefDate()}=e,r=Vn(t).getTime();return this.between({from:r-1e3*60*60*24*365,to:r+1e3*60*60*24*365})}past(e={}){let{years:t=1,refDate:r=this.faker.defaultRefDate()}=e;if(t<=0)throw new it("Years must be greater than 0.");let n=Vn(r).getTime();return this.between({from:n-t*365*24*3600*1e3,to:n-1e3})}future(e={}){let{years:t=1,refDate:r=this.faker.defaultRefDate()}=e;if(t<=0)throw new it("Years must be greater than 0.");let n=Vn(r).getTime();return this.between({from:n+1e3,to:n+t*365*24*3600*1e3})}between(e){let{from:t,to:r}=e,n=Vn(t,"from").getTime(),i=Vn(r,"to").getTime();if(n>i)throw new it("`from` date must be before `to` date.");return new Date(this.faker.number.int({min:n,max:i}))}betweens(e){let{from:t,to:r,count:n=3}=e;return this.faker.helpers.multiple(()=>this.between({from:t,to:r}),{count:n}).sort((i,o)=>i.getTime()-o.getTime())}recent(e={}){let{days:t=1,refDate:r=this.faker.defaultRefDate()}=e;if(t<=0)throw new it("Days must be greater than 0.");let n=Vn(r).getTime();return this.between({from:n-t*24*3600*1e3,to:n-1e3})}soon(e={}){let{days:t=1,refDate:r=this.faker.defaultRefDate()}=e;if(t<=0)throw new it("Days must be greater than 0.");let n=Vn(r).getTime();return this.between({from:n+1e3,to:n+t*24*3600*1e3})}birthdate(e={}){let{mode:t="age",min:r=18,max:n=80,refDate:i=this.faker.defaultRefDate()}=e,o=Vn(i),s=o.getUTCFullYear();switch(t){case"age":{let a=new Date(o).setUTCFullYear(s-n-1)+864e5,l=new Date(o).setUTCFullYear(s-r);if(a>l)throw new it(`Max age ${n} should be greater than or equal to min age ${r}.`);return this.between({from:a,to:l})}case"year":{let a=new Date(Date.UTC(0,0,2)).setUTCFullYear(r),l=new Date(Date.UTC(0,11,30)).setUTCFullYear(n);if(a>l)throw new it(`Max year ${n} should be greater than or equal to min year ${r}.`);return this.between({from:a,to:l})}}}},xW=class extends GF{constructor(e){super(e),this.faker=e}month(e={}){let{abbreviated:t=!1,context:r=!1}=e,n=this.faker.definitions.date.month,i;t?i=r&&n.abbr_context!=null?"abbr_context":"abbr":i=r&&n.wide_context!=null?"wide_context":"wide";let o=n[i];return mf(o,"date.month",i),this.faker.helpers.arrayElement(o)}weekday(e={}){let{abbreviated:t=!1,context:r=!1}=e,n=this.faker.definitions.date.weekday,i;t?i=r&&n.abbr_context!=null?"abbr_context":"abbr":i=r&&n.wide_context!=null?"wide_context":"wide";let o=n[i];return mf(o,"date.weekday",i),this.faker.helpers.arrayElement(o)}timeZone(){return this.faker.helpers.arrayElement(this.faker.definitions.date.time_zone)}},kW=/\.|\(/;function EW(e,t,r=[t,t.rawDefinitions]){if(e.length===0)throw new it("Eval expression cannot be empty.");if(r.length===0)throw new it("Eval entrypoints cannot be empty.");let n=r,i=e;do{let s;i.startsWith("(")?[s,n]=RW(i,n):[s,n]=AW(i,n),i=i.substring(s),n=n.filter(a=>a!=null).map(a=>Array.isArray(a)?t.helpers.arrayElement(a):a)}while(i.length>0&&n.length>0);if(n.length===0)throw new it(`Cannot resolve expression '${e}'`);let o=n[0];return typeof o=="function"?o():o}function RW(e,t){let[r,n]=_W(e),i=e[r+1];switch(i){case".":case"(":case void 0:break;default:throw new it(`Expected dot ('.'), open parenthesis ('('), or nothing after function call but got '${i}'`)}return[r+(i==="."?2:1),t.map(o=>typeof o=="function"?o(...n):void 0)]}function _W(e){let t=e.indexOf(")",1);if(t===-1)throw new it(`Missing closing parenthesis in '${e}'`);for(;t!==-1;){let n=e.substring(1,t);try{return[t,JSON.parse(`[${n}]`)]}catch{if(!n.includes("'")&&!n.includes('"'))try{return[t,JSON.parse(`["${n}"]`)]}catch{}}t=e.indexOf(")",t+1)}t=e.lastIndexOf(")");let r=e.substring(1,t);return[t,[r]]}function AW(e,t){let r=kW.exec(e),n=(r?.[0]??"")===".",i=r?.index??e.length,o=e.substring(0,i);if(o.length===0)throw new it(`Expression parts cannot be empty in '${e}'`);let s=e[i+1];if(n&&(s==null||s==="."||s==="("))throw new it(`Found dot without property name in '${e}'`);return[i+(n?1:0),t.map(a=>TW(a,o))]}function TW(e,t){switch(typeof e){case"function":{try{e=e()}catch{return}return e?.[t]}case"object":return e?.[t];default:return}}function DW(e){let t=MW(e.replace(/L?$/,"0"));return t===0?0:10-t}function MW(e){e=e.replaceAll(/[\s-]/g,"");let t=0,r=!1;for(let n=e.length-1;n>=0;n--){let i=Number.parseInt(e[n]);r&&(i*=2,i>9&&(i=i%10+1)),t+=i,r=!r}return t%10}function M0(e,t,r,n){let i=1;if(t)switch(t){case"?":{i=e.datatype.boolean()?0:1;break}case"*":{let o=1;for(;e.datatype.boolean();)o*=2;i=e.number.int({min:0,max:o});break}case"+":{let o=1;for(;e.datatype.boolean();)o*=2;i=e.number.int({min:1,max:o});break}default:throw new it("Unknown quantifier symbol provided.")}else r!=null&&n!=null?i=e.number.int({min:Number.parseInt(r),max:Number.parseInt(n)}):r!=null&&n==null&&(i=Number.parseInt(r));return i}function PW(e,t=""){let r=/(.)\{(\d+),(\d+)\}/,n=/(.)\{(\d+)\}/,i=/\[(\d+)-(\d+)\]/,o,s,a,l,u=r.exec(t);for(;u!=null;)o=Number.parseInt(u[2]),s=Number.parseInt(u[3]),o>s&&(a=s,s=o,o=a),l=e.number.int({min:o,max:s}),t=t.slice(0,u.index)+u[1].repeat(l)+t.slice(u.index+u[0].length),u=r.exec(t);for(u=n.exec(t);u!=null;)l=Number.parseInt(u[2]),t=t.slice(0,u.index)+u[1].repeat(l)+t.slice(u.index+u[0].length),u=n.exec(t);for(u=i.exec(t);u!=null;)o=Number.parseInt(u[1]),s=Number.parseInt(u[2]),o>s&&(a=s,s=o,o=a),t=t.slice(0,u.index)+e.number.int({min:o,max:s}).toString()+t.slice(u.index+u[0].length),u=i.exec(t);return t}function jF(e,t="",r="#"){let n="";for(let i=0;i<t.length;i++)t.charAt(i)===r?n+=e.number.int(9):t.charAt(i)==="!"?n+=e.number.int({min:2,max:9}):n+=t.charAt(i);return n}var zF=class extends To{slugify(e=""){return e.normalize("NFKD").replaceAll(/[\u0300-\u036F]/g,"").replaceAll(" ","-").replaceAll(/[^\w.-]+/g,"")}replaceSymbols(e=""){let t=["A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"],r="";for(let n=0;n<e.length;n++)e.charAt(n)==="#"?r+=this.faker.number.int(9):e.charAt(n)==="?"?r+=this.arrayElement(t):e.charAt(n)==="*"?r+=this.faker.datatype.boolean()?this.arrayElement(t):this.faker.number.int(9):r+=e.charAt(n);return r}replaceCreditCardSymbols(e="6453-####-####-####-###L",t="#"){e=PW(this.faker,e),e=jF(this.faker,e,t);let r=DW(e);return e.replace("L",String(r))}fromRegExp(e){let t=!1;e instanceof RegExp&&(t=e.flags.includes("i"),e=e.toString(),e=/\/(.+?)\//.exec(e)?.[1]??"");let r,n,i,o=/([.A-Za-z0-9])(?:\{(\d+)(?:,(\d+)|)\}|(\?|\*|\+))(?![^[]*]|[^{]*})/,s=o.exec(e);for(;s!=null;){let f=s[2],d=s[3],h=s[4];i=M0(this.faker,h,f,d);let g;s[1]==="."?g=this.faker.string.alphanumeric(i):t?g=this.faker.string.fromCharacters([s[1].toLowerCase(),s[1].toUpperCase()],i):g=s[1].repeat(i),e=e.slice(0,s.index)+g+e.slice(s.index+s[0].length),s=o.exec(e)}let a=/(\d-\d|\w-\w|\d|\w|[-!@#$&()`.+,/"])/,l=/\[(\^|)(-|)(.+?)\](?:\{(\d+)(?:,(\d+)|)\}|(\?|\*|\+)|)/;for(s=l.exec(e);s!=null;){let f=s[1]==="^",d=s[2]==="-",h=s[4],g=s[5],m=s[6],p=[],y=s[3],b=a.exec(y);for(d&&p.push(45);b!=null;){if(b[0].includes("-")){let F=b[0].split("-").map(E=>E.codePointAt(0)??Number.NaN);if(r=F[0],n=F[1],r>n)throw new it("Character range provided is out of order.");for(let E=r;E<=n;E++)if(t&&Number.isNaN(Number(String.fromCodePoint(E)))){let T=String.fromCodePoint(E);p.push(T.toUpperCase().codePointAt(0)??Number.NaN,T.toLowerCase().codePointAt(0)??Number.NaN)}else p.push(E)}else t&&Number.isNaN(Number(b[0]))?p.push(b[0].toUpperCase().codePointAt(0)??Number.NaN,b[0].toLowerCase().codePointAt(0)??Number.NaN):p.push(b[0].codePointAt(0)??Number.NaN);y=y.substring(b[0].length),b=a.exec(y)}if(i=M0(this.faker,m,h,g),f){let F=-1;for(let E=48;E<=57;E++){if(F=p.indexOf(E),F>-1){p.splice(F,1);continue}p.push(E)}for(let E=65;E<=90;E++){if(F=p.indexOf(E),F>-1){p.splice(F,1);continue}p.push(E)}for(let E=97;E<=122;E++){if(F=p.indexOf(E),F>-1){p.splice(F,1);continue}p.push(E)}}let v=this.multiple(()=>String.fromCodePoint(this.arrayElement(p)),{count:i}).join("");e=e.slice(0,s.index)+v+e.slice(s.index+s[0].length),s=l.exec(e)}let u=/(.)\{(\d+),(\d+)\}/;for(s=u.exec(e);s!=null;){if(r=Number.parseInt(s[2]),n=Number.parseInt(s[3]),r>n)throw new it("Numbers out of order in {} quantifier.");i=this.faker.number.int({min:r,max:n}),e=e.slice(0,s.index)+s[1].repeat(i)+e.slice(s.index+s[0].length),s=u.exec(e)}let c=/(.)\{(\d+)\}/;for(s=c.exec(e);s!=null;)i=Number.parseInt(s[2]),e=e.slice(0,s.index)+s[1].repeat(i)+e.slice(s.index+s[0].length),s=c.exec(e);return e}shuffle(e,t={}){let{inplace:r=!1}=t;r||(e=[...e]);for(let n=e.length-1;n>0;--n){let i=this.faker.number.int(n);[e[n],e[i]]=[e[i],e[n]]}return e}uniqueArray(e,t){if(Array.isArray(e)){let n=[...new Set(e)];return this.shuffle(n).splice(0,t)}let r=new Set;try{if(typeof e=="function"){let n=1e3*t,i=0;for(;r.size<t&&i<n;)r.add(e()),i++}}catch{}return[...r]}mustache(e,t){if(e==null)return"";for(let r in t){let n=new RegExp(`{{${r}}}`,"g"),i=t[r];typeof i=="string"&&(i=i.replaceAll("$","$$$$")),e=e.replace(n,i)}return e}maybe(e,t={}){if(this.faker.datatype.boolean(t))return e()}objectKey(e){let t=Object.keys(e);return this.arrayElement(t)}objectValue(e){let t=this.faker.helpers.objectKey(e);return e[t]}objectEntry(e){let t=this.faker.helpers.objectKey(e);return[t,e[t]]}arrayElement(e){if(e.length===0)throw new it("Cannot get value from empty dataset.");let t=e.length>1?this.faker.number.int({max:e.length-1}):0;return e[t]}weightedArrayElement(e){if(e.length===0)throw new it("weightedArrayElement expects an array with at least one element");if(!e.every(i=>i.weight>0))throw new it("weightedArrayElement expects an array of { weight, value } objects where weight is a positive number");let t=e.reduce((i,{weight:o})=>i+o,0),r=this.faker.number.float({min:0,max:t}),n=0;for(let{weight:i,value:o}of e)if(n+=i,r<n)return o;return e.at(-1).value}arrayElements(e,t){if(e.length===0)return[];let r=this.rangeToNumber(t??{min:1,max:e.length});if(r>=e.length)return this.shuffle(e);if(r<=0)return[];let n=[...e],i=e.length,o=i-r,s,a;for(;i-- >o;)a=this.faker.number.int(i),s=n[a],n[a]=n[i],n[i]=s;return n.slice(o)}enumValue(e){let t=Object.keys(e).filter(n=>Number.isNaN(Number(n))),r=this.arrayElement(t);return e[r]}rangeToNumber(e){return typeof e=="number"?e:this.faker.number.int(e)}multiple(e,t={}){let r=this.rangeToNumber(t.count??3);return r<=0?[]:Array.from({length:r},e)}},IW=class extends zF{constructor(e){super(e),this.faker=e}fake(e){e=typeof e=="string"?e:this.arrayElement(e);let t=e.search(/{{[a-z]/),r=e.indexOf("}}",t);if(t===-1||r===-1)return e;let n=e.substring(t+2,r+2).replace("}}","").replace("{{",""),i=EW(n,this.faker),o=String(i),s=e.substring(0,t)+o+e.substring(r+2);return this.fake(s)}},VF=class extends To{latitude(e={}){let{max:t=90,min:r=-90,precision:n=4}=e;return this.faker.number.float({min:r,max:t,fractionDigits:n})}longitude(e={}){let{max:t=180,min:r=-180,precision:n=4}=e;return this.faker.number.float({max:t,min:r,fractionDigits:n})}nearbyGPSCoordinate(e={}){let{origin:t,radius:r=10,isMetric:n=!1}=e;if(t==null)return[this.latitude(),this.longitude()];let i=this.faker.number.float({max:2*Math.PI,fractionDigits:5}),o=n?r:r*1.60934,s=this.faker.number.float({max:o,fractionDigits:3})*.995,a=4e4/360,l=s/a,u=[t[0]+Math.sin(i)*l,t[1]+Math.cos(i)*l];return u[0]=u[0]%180,(u[0]<-90||u[0]>90)&&(u[0]=Math.sign(u[0])*180-u[0],u[1]+=180),u[1]=(u[1]%360+540)%360-180,[u[0],u[1]]}},BW=class extends VF{constructor(e){super(e),this.faker=e}zipCode(e={}){typeof e=="string"&&(e={format:e});let{state:t}=e;if(t!=null){let n=this.faker.definitions.location.postcode_by_state[t];if(n==null)throw new it(`No zip code definition found for state "${t}"`);return this.faker.helpers.fake(n)}let{format:r=this.faker.definitions.location.postcode}=e;return typeof r=="string"&&(r=[r]),r=this.faker.helpers.arrayElement(r),this.faker.helpers.replaceSymbols(r)}city(){return this.faker.helpers.fake(this.faker.definitions.location.city_pattern)}buildingNumber(){return this.faker.helpers.arrayElement(this.faker.definitions.location.building_number).replaceAll(/#+/g,e=>this.faker.string.numeric({length:e.length,allowLeadingZeros:!1}))}street(){return this.faker.helpers.fake(this.faker.definitions.location.street_pattern)}streetAddress(e={}){typeof e=="boolean"&&(e={useFullAddress:e});let{useFullAddress:t}=e,r=this.faker.definitions.location.street_address[t?"full":"normal"];return this.faker.helpers.fake(r)}secondaryAddress(){return this.faker.helpers.fake(this.faker.definitions.location.secondary_address).replaceAll(/#+/g,e=>this.faker.string.numeric({length:e.length,allowLeadingZeros:!1}))}county(){return this.faker.helpers.arrayElement(this.faker.definitions.location.county)}country(){return this.faker.helpers.arrayElement(this.faker.definitions.location.country)}continent(){return this.faker.helpers.arrayElement(this.faker.definitions.location.continent)}countryCode(e={}){typeof e=="string"&&(e={variant:e});let{variant:t="alpha-2"}=e,r=(()=>{switch(t){case"numeric":return"numeric";case"alpha-3":return"alpha3";case"alpha-2":return"alpha2"}})();return this.faker.helpers.arrayElement(this.faker.definitions.location.country_code)[r]}state(e={}){let{abbreviated:t=!1}=e,r=t?this.faker.definitions.location.state_abbr:this.faker.definitions.location.state;return this.faker.helpers.arrayElement(r)}direction(e={}){let{abbreviated:t=!1}=e;return t?this.faker.helpers.arrayElement([...this.faker.definitions.location.direction.cardinal_abbr,...this.faker.definitions.location.direction.ordinal_abbr]):this.faker.helpers.arrayElement([...this.faker.definitions.location.direction.cardinal,...this.faker.definitions.location.direction.ordinal])}cardinalDirection(e={}){let{abbreviated:t=!1}=e;return t?this.faker.helpers.arrayElement(this.faker.definitions.location.direction.cardinal_abbr):this.faker.helpers.arrayElement(this.faker.definitions.location.direction.cardinal)}ordinalDirection(e={}){let{abbreviated:t=!1}=e;return t?this.faker.helpers.arrayElement(this.faker.definitions.location.direction.ordinal_abbr):this.faker.helpers.arrayElement(this.faker.definitions.location.direction.ordinal)}timeZone(){return this.faker.helpers.arrayElement(this.faker.definitions.location.time_zone)}language(){return this.faker.helpers.arrayElement(this.faker.definitions.location.language)}},LW=class extends To{int(e={}){typeof e=="number"&&(e={max:e});let{min:t=0,max:r=Number.MAX_SAFE_INTEGER,multipleOf:n=1}=e;if(!Number.isInteger(n))throw new it("multipleOf should be an integer.");if(n<=0)throw new it("multipleOf should be greater than 0.");let i=Math.ceil(t/n),o=Math.floor(r/n);if(i===o)return i*n;if(o<i)throw r>=t?new it(`No suitable integer value between ${t} and ${r} found.`):new it(`Max ${r} should be greater than min ${t}.`);let s=this.faker._randomizer.next(),a=o-i+1;return Math.floor(s*a+i)*n}float(e={}){typeof e=="number"&&(e={max:e});let{min:t=0,max:r=1,fractionDigits:n,multipleOf:i,multipleOf:o=n==null?void 0:10**-n}=e;if(r<t)throw new it(`Max ${r} should be greater than min ${t}.`);if(n!=null){if(i!=null)throw new it("multipleOf and fractionDigits cannot be set at the same time.");if(!Number.isInteger(n))throw new it("fractionDigits should be an integer.");if(n<0)throw new it("fractionDigits should be greater than or equal to 0.")}if(o!=null){if(o<=0)throw new it("multipleOf should be greater than 0.");let s=Math.log10(o),a=o<1&&Number.isInteger(s)?10**-s:1/o;return this.int({min:t*a,max:r*a})/a}return this.faker._randomizer.next()*(r-t)+t}binary(e={}){typeof e=="number"&&(e={max:e});let{min:t=0,max:r=1}=e;return this.int({max:r,min:t}).toString(2)}octal(e={}){typeof e=="number"&&(e={max:e});let{min:t=0,max:r=7}=e;return this.int({max:r,min:t}).toString(8)}hex(e={}){typeof e=="number"&&(e={max:e});let{min:t=0,max:r=15}=e;return this.int({max:r,min:t}).toString(16)}bigInt(e={}){(typeof e=="bigint"||typeof e=="number"||typeof e=="string"||typeof e=="boolean")&&(e={max:e});let t=BigInt(e.min??0),r=BigInt(e.max??t+BigInt(999999999999999)),n=BigInt(e.multipleOf??1);if(r<t)throw new it(`Max ${r} should be larger than min ${t}.`);if(n<=BigInt(0))throw new it("multipleOf should be greater than 0.");let i=t/n+(t%n>0n?1n:0n),o=r/n-(r%n<0n?1n:0n);if(i===o)return i*n;if(o<i)throw new it(`No suitable bigint value between ${t} and ${r} found.`);let s=o-i+1n,a=BigInt(this.faker.string.numeric({length:s.toString(10).length,allowLeadingZeros:!0}))%s;return(i+a)*n}romanNumeral(e={}){typeof e=="number"&&(e={max:e});let{min:t=1,max:r=3999}=e;if(t<1)throw new it(`Min value ${t} should be 1 or greater.`);if(r>3999)throw new it(`Max value ${r} should be 3999 or less.`);let n=this.int({min:t,max:r}),i=[["M",1e3],["CM",900],["D",500],["CD",400],["C",100],["XC",90],["L",50],["XL",40],["X",10],["IX",9],["V",5],["IV",4],["I",1]],o="";for(let[s,a]of i)o+=s.repeat(Math.floor(n/a)),n%=a;return o}},WF="0123456789ABCDEFGHJKMNPQRSTVWXYZ";function NW(e){let t=e.valueOf(),r="";for(let n=10;n>0;n--){let i=t%32;r=WF[i]+r,t=(t-i)/32}return r}var yl=[..."ABCDEFGHIJKLMNOPQRSTUVWXYZ"],vl=[..."abcdefghijklmnopqrstuvwxyz"],P0=[..."0123456789"],OW=class extends To{fromCharacters(e,t=1){if(t=this.faker.helpers.rangeToNumber(t),t<=0)return"";if(typeof e=="string"&&(e=[...e]),e.length===0)throw new it("Unable to generate string: No characters to select from.");return this.faker.helpers.multiple(()=>this.faker.helpers.arrayElement(e),{count:t}).join("")}alpha(e={}){typeof e=="number"&&(e={length:e});let t=this.faker.helpers.rangeToNumber(e.length??1);if(t<=0)return"";let{casing:r="mixed"}=e,{exclude:n=[]}=e;typeof n=="string"&&(n=[...n]);let i;switch(r){case"upper":{i=[...yl];break}case"lower":{i=[...vl];break}case"mixed":{i=[...vl,...yl];break}}return i=i.filter(o=>!n.includes(o)),this.fromCharacters(i,t)}alphanumeric(e={}){typeof e=="number"&&(e={length:e});let t=this.faker.helpers.rangeToNumber(e.length??1);if(t<=0)return"";let{casing:r="mixed"}=e,{exclude:n=[]}=e;typeof n=="string"&&(n=[...n]);let i=[...P0];switch(r){case"upper":{i.push(...yl);break}case"lower":{i.push(...vl);break}case"mixed":{i.push(...vl,...yl);break}}return i=i.filter(o=>!n.includes(o)),this.fromCharacters(i,t)}binary(e={}){let{prefix:t="0b"}=e,r=t;return r+=this.fromCharacters(["0","1"],e.length??1),r}octal(e={}){let{prefix:t="0o"}=e,r=t;return r+=this.fromCharacters(["0","1","2","3","4","5","6","7"],e.length??1),r}hexadecimal(e={}){let{casing:t="mixed",prefix:r="0x"}=e,n=this.faker.helpers.rangeToNumber(e.length??1);if(n<=0)return r;let i=this.fromCharacters(["0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f","A","B","C","D","E","F"],n);return t==="upper"?i=i.toUpperCase():t==="lower"&&(i=i.toLowerCase()),`${r}${i}`}numeric(e={}){typeof e=="number"&&(e={length:e});let t=this.faker.helpers.rangeToNumber(e.length??1);if(t<=0)return"";let{allowLeadingZeros:r=!0}=e,{exclude:n=[]}=e;typeof n=="string"&&(n=[...n]);let i=P0.filter(s=>!n.includes(s));if(i.length===0||i.length===1&&!r&&i[0]==="0")throw new it("Unable to generate numeric string, because all possible digits are excluded.");let o="";return!r&&!n.includes("0")&&(o+=this.faker.helpers.arrayElement(i.filter(s=>s!=="0"))),o+=this.fromCharacters(i,t-o.length),o}sample(e=10){e=this.faker.helpers.rangeToNumber(e);let t={min:33,max:125},r="";for(;r.length<e;)r+=String.fromCodePoint(this.faker.number.int(t));return r}uuid(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replaceAll("x",()=>this.faker.number.hex({min:0,max:15})).replaceAll("y",()=>this.faker.number.hex({min:8,max:11}))}ulid(e={}){let{refDate:t=this.faker.defaultRefDate()}=e,r=Vn(t);return NW(r)+this.fromCharacters(WF,16)}nanoid(e=21){if(e=this.faker.helpers.rangeToNumber(e),e<=0)return"";let t=[{value:()=>this.alphanumeric(1),weight:62},{value:()=>this.faker.helpers.arrayElement(["_","-"]),weight:2}],r="";for(;r.length<e;){let n=this.faker.helpers.weightedArrayElement(t);r+=n()}return r}symbol(e=1){return this.fromCharacters(["!",'"',"#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","@","[","\\","]","^","_","`","{","|","}","~"],e)}},$F=class{_defaultRefDate=()=>new Date;get defaultRefDate(){return this._defaultRefDate}setDefaultRefDate(e=()=>new Date){typeof e=="function"?this._defaultRefDate=e:this._defaultRefDate=()=>new Date(e)}_randomizer;datatype=new CW(this);date=new GF(this);helpers=new zF(this);location=new VF(this);number=new LW(this);string=new OW(this);constructor(e={}){let{randomizer:t,seed:r}=e;t!=null&&r!=null&&t.seed(r),this._randomizer=t??wW(r)}seed(e=HF()){return this._randomizer.seed(e),e}};new $F;function HW(e){let t={};for(let r of e)for(let n in r){let i=r[n];t[n]===void 0?t[n]={...i}:t[n]={...i,...t[n]}}return t}var GW=class extends ir{dog(){return this.faker.helpers.arrayElement(this.faker.definitions.animal.dog)}cat(){return this.faker.helpers.arrayElement(this.faker.definitions.animal.cat)}snake(){return this.faker.helpers.arrayElement(this.faker.definitions.animal.snake)}bear(){return this.faker.helpers.arrayElement(this.faker.definitions.animal.bear)}lion(){return this.faker.helpers.arrayElement(this.faker.definitions.animal.lion)}cetacean(){return this.faker.helpers.arrayElement(this.faker.definitions.animal.cetacean)}horse(){return this.faker.helpers.arrayElement(this.faker.definitions.animal.horse)}bird(){return this.faker.helpers.arrayElement(this.faker.definitions.animal.bird)}cow(){return this.faker.helpers.arrayElement(this.faker.definitions.animal.cow)}fish(){return this.faker.helpers.arrayElement(this.faker.definitions.animal.fish)}crocodilia(){return this.faker.helpers.arrayElement(this.faker.definitions.animal.crocodilia)}insect(){return this.faker.helpers.arrayElement(this.faker.definitions.animal.insect)}rabbit(){return this.faker.helpers.arrayElement(this.faker.definitions.animal.rabbit)}rodent(){return this.faker.helpers.arrayElement(this.faker.definitions.animal.rodent)}type(){return this.faker.helpers.arrayElement(this.faker.definitions.animal.type)}petName(){return this.faker.helpers.arrayElement(this.faker.definitions.animal.pet_name)}},jW=class extends ir{author(){return this.faker.helpers.arrayElement(this.faker.definitions.book.author)}format(){return this.faker.helpers.arrayElement(this.faker.definitions.book.format)}genre(){return this.faker.helpers.arrayElement(this.faker.definitions.book.genre)}publisher(){return this.faker.helpers.arrayElement(this.faker.definitions.book.publisher)}series(){return this.faker.helpers.arrayElement(this.faker.definitions.book.series)}title(){return this.faker.helpers.arrayElement(this.faker.definitions.book.title)}},zW={0:[[1999999,2],[2279999,3],[2289999,4],[3689999,3],[3699999,4],[6389999,3],[6397999,4],[6399999,7],[6449999,3],[6459999,7],[6479999,3],[6489999,7],[6549999,3],[6559999,4],[6999999,3],[8499999,4],[8999999,5],[9499999,6],[9999999,7]],1:[[99999,3],[299999,2],[349999,3],[399999,4],[499999,3],[699999,2],[999999,4],[3979999,3],[5499999,4],[6499999,5],[6799999,4],[6859999,5],[7139999,4],[7169999,3],[7319999,4],[7399999,7],[7749999,5],[7753999,7],[7763999,5],[7764999,7],[7769999,5],[7782999,7],[7899999,5],[7999999,4],[8004999,5],[8049999,5],[8379999,5],[8384999,7],[8671999,5],[8675999,4],[8697999,5],[9159999,6],[9165059,7],[9168699,6],[9169079,7],[9195999,6],[9196549,7],[9729999,6],[9877999,4],[9911499,6],[9911999,7],[9989899,6],[9999999,7]]},VW=class extends ir{department(){return this.faker.helpers.arrayElement(this.faker.definitions.commerce.department)}productName(){return`${this.productAdjective()} ${this.productMaterial()} ${this.product()}`}price(e={}){let{dec:t=2,max:r=1e3,min:n=1,symbol:i=""}=e;if(n<0||r<0)return`${i}0`;if(n===r)return`${i}${n.toFixed(t)}`;let o=this.faker.number.float({min:n,max:r,fractionDigits:t});if(t===0)return`${i}${o.toFixed(t)}`;let s=o*10**t%10,a=this.faker.helpers.weightedArrayElement([{weight:5,value:9},{weight:3,value:5},{weight:1,value:0},{weight:1,value:this.faker.number.int({min:0,max:9})}]),l=(1/10)**t,u=s*l,c=a*l,f=o-u+c;return n<=f&&f<=r?`${i}${f.toFixed(t)}`:`${i}${o.toFixed(t)}`}productAdjective(){return this.faker.helpers.arrayElement(this.faker.definitions.commerce.product_name.adjective)}productMaterial(){return this.faker.helpers.arrayElement(this.faker.definitions.commerce.product_name.material)}product(){return this.faker.helpers.arrayElement(this.faker.definitions.commerce.product_name.product)}productDescription(){return this.faker.helpers.fake(this.faker.definitions.commerce.product_description)}isbn(e={}){typeof e=="number"&&(e={variant:e});let{variant:t=13,separator:r="-"}=e,n="978",[i,o]=this.faker.helpers.objectEntry(zW),s=this.faker.string.numeric(8),a=Number.parseInt(s.slice(0,-1)),l=o.find(([g])=>a<=g)?.[1];if(!l)throw new it(`Unable to find a registrant length for the group ${i}`);let u=s.slice(0,l),c=s.slice(l),f=[n,i,u,c];t===10&&f.shift();let d=f.join(""),h=0;for(let g=0;g<t-1;g++){let m=t===10?g+1:g%2?3:1;h+=m*Number.parseInt(d[g])}return h=t===10?h%11:(10-h%10)%10,f.push(h===10?"X":h.toString()),f.join(r)}},WW=class extends ir{name(){return this.faker.helpers.fake(this.faker.definitions.company.name_pattern)}catchPhrase(){return[this.catchPhraseAdjective(),this.catchPhraseDescriptor(),this.catchPhraseNoun()].join(" ")}buzzPhrase(){return[this.buzzVerb(),this.buzzAdjective(),this.buzzNoun()].join(" ")}catchPhraseAdjective(){return this.faker.helpers.arrayElement(this.faker.definitions.company.adjective)}catchPhraseDescriptor(){return this.faker.helpers.arrayElement(this.faker.definitions.company.descriptor)}catchPhraseNoun(){return this.faker.helpers.arrayElement(this.faker.definitions.company.noun)}buzzAdjective(){return this.faker.helpers.arrayElement(this.faker.definitions.company.buzz_adjective)}buzzVerb(){return this.faker.helpers.arrayElement(this.faker.definitions.company.buzz_verb)}buzzNoun(){return this.faker.helpers.arrayElement(this.faker.definitions.company.buzz_noun)}},$W=class extends ir{column(){return this.faker.helpers.arrayElement(this.faker.definitions.database.column)}type(){return this.faker.helpers.arrayElement(this.faker.definitions.database.type)}collation(){return this.faker.helpers.arrayElement(this.faker.definitions.database.collation)}engine(){return this.faker.helpers.arrayElement(this.faker.definitions.database.engine)}mongodbObjectId(){return this.faker.string.hexadecimal({length:24,casing:"lower",prefix:""})}},UW={alpha:["A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"],formats:[{country:"AL",total:28,bban:[{type:"n",count:8},{type:"c",count:16}],format:"ALkk bbbs sssx cccc cccc cccc cccc"},{country:"AD",total:24,bban:[{type:"n",count:8},{type:"c",count:12}],format:"ADkk bbbb ssss cccc cccc cccc"},{country:"AT",total:20,bban:[{type:"n",count:5},{type:"n",count:11}],format:"ATkk bbbb bccc cccc cccc"},{country:"AZ",total:28,bban:[{type:"a",count:4},{type:"n",count:20}],format:"AZkk bbbb cccc cccc cccc cccc cccc"},{country:"BH",total:22,bban:[{type:"a",count:4},{type:"c",count:14}],format:"BHkk bbbb cccc cccc cccc cc"},{country:"BE",total:16,bban:[{type:"n",count:3},{type:"n",count:9}],format:"BEkk bbbc cccc ccxx"},{country:"BA",total:20,bban:[{type:"n",count:6},{type:"n",count:10}],format:"BAkk bbbs sscc cccc ccxx"},{country:"BR",total:29,bban:[{type:"n",count:13},{type:"n",count:10},{type:"a",count:1},{type:"c",count:1}],format:"BRkk bbbb bbbb ssss sccc cccc ccct n"},{country:"BG",total:22,bban:[{type:"a",count:4},{type:"n",count:6},{type:"c",count:8}],format:"BGkk bbbb ssss ddcc cccc cc"},{country:"CR",total:22,bban:[{type:"n",count:1},{type:"n",count:3},{type:"n",count:14}],format:"CRkk xbbb cccc cccc cccc cc"},{country:"HR",total:21,bban:[{type:"n",count:7},{type:"n",count:10}],format:"HRkk bbbb bbbc cccc cccc c"},{country:"CY",total:28,bban:[{type:"n",count:8},{type:"c",count:16}],format:"CYkk bbbs ssss cccc cccc cccc cccc"},{country:"CZ",total:24,bban:[{type:"n",count:10},{type:"n",count:10}],format:"CZkk bbbb ssss sscc cccc cccc"},{country:"DK",total:18,bban:[{type:"n",count:4},{type:"n",count:10}],format:"DKkk bbbb cccc cccc cc"},{country:"DO",total:28,bban:[{type:"a",count:4},{type:"n",count:20}],format:"DOkk bbbb cccc cccc cccc cccc cccc"},{country:"TL",total:23,bban:[{type:"n",count:3},{type:"n",count:16}],format:"TLkk bbbc cccc cccc cccc cxx"},{country:"EE",total:20,bban:[{type:"n",count:4},{type:"n",count:12}],format:"EEkk bbss cccc cccc cccx"},{country:"FO",total:18,bban:[{type:"n",count:4},{type:"n",count:10}],format:"FOkk bbbb cccc cccc cx"},{country:"FI",total:18,bban:[{type:"n",count:6},{type:"n",count:8}],format:"FIkk bbbb bbcc cccc cx"},{country:"FR",total:27,bban:[{type:"n",count:10},{type:"c",count:11},{type:"n",count:2}],format:"FRkk bbbb bggg ggcc cccc cccc cxx"},{country:"GE",total:22,bban:[{type:"a",count:2},{type:"n",count:16}],format:"GEkk bbcc cccc cccc cccc cc"},{country:"DE",total:22,bban:[{type:"n",count:8},{type:"n",count:10}],format:"DEkk bbbb bbbb cccc cccc cc"},{country:"GI",total:23,bban:[{type:"a",count:4},{type:"c",count:15}],format:"GIkk bbbb cccc cccc cccc ccc"},{country:"GR",total:27,bban:[{type:"n",count:7},{type:"c",count:16}],format:"GRkk bbbs sssc cccc cccc cccc ccc"},{country:"GL",total:18,bban:[{type:"n",count:4},{type:"n",count:10}],format:"GLkk bbbb cccc cccc cc"},{country:"GT",total:28,bban:[{type:"c",count:4},{type:"c",count:4},{type:"c",count:16}],format:"GTkk bbbb mmtt cccc cccc cccc cccc"},{country:"HU",total:28,bban:[{type:"n",count:8},{type:"n",count:16}],format:"HUkk bbbs sssk cccc cccc cccc cccx"},{country:"IS",total:26,bban:[{type:"n",count:6},{type:"n",count:16}],format:"ISkk bbbb sscc cccc iiii iiii ii"},{country:"IE",total:22,bban:[{type:"a",count:4},{type:"n",count:6},{type:"n",count:8}],format:"IEkk aaaa bbbb bbcc cccc cc"},{country:"IL",total:23,bban:[{type:"n",count:6},{type:"n",count:13}],format:"ILkk bbbn nncc cccc cccc ccc"},{country:"IT",total:27,bban:[{type:"a",count:1},{type:"n",count:10},{type:"c",count:12}],format:"ITkk xaaa aabb bbbc cccc cccc ccc"},{country:"JO",total:30,bban:[{type:"a",count:4},{type:"n",count:4},{type:"n",count:18}],format:"JOkk bbbb nnnn cccc cccc cccc cccc cc"},{country:"KZ",total:20,bban:[{type:"n",count:3},{type:"c",count:13}],format:"KZkk bbbc cccc cccc cccc"},{country:"XK",total:20,bban:[{type:"n",count:4},{type:"n",count:12}],format:"XKkk bbbb cccc cccc cccc"},{country:"KW",total:30,bban:[{type:"a",count:4},{type:"c",count:22}],format:"KWkk bbbb cccc cccc cccc cccc cccc cc"},{country:"LV",total:21,bban:[{type:"a",count:4},{type:"c",count:13}],format:"LVkk bbbb cccc cccc cccc c"},{country:"LB",total:28,bban:[{type:"n",count:4},{type:"c",count:20}],format:"LBkk bbbb cccc cccc cccc cccc cccc"},{country:"LI",total:21,bban:[{type:"n",count:5},{type:"c",count:12}],format:"LIkk bbbb bccc cccc cccc c"},{country:"LT",total:20,bban:[{type:"n",count:5},{type:"n",count:11}],format:"LTkk bbbb bccc cccc cccc"},{country:"LU",total:20,bban:[{type:"n",count:3},{type:"c",count:13}],format:"LUkk bbbc cccc cccc cccc"},{country:"MK",total:19,bban:[{type:"n",count:3},{type:"c",count:10},{type:"n",count:2}],format:"MKkk bbbc cccc cccc cxx"},{country:"MT",total:31,bban:[{type:"a",count:4},{type:"n",count:5},{type:"c",count:18}],format:"MTkk bbbb ssss sccc cccc cccc cccc ccc"},{country:"MR",total:27,bban:[{type:"n",count:10},{type:"n",count:13}],format:"MRkk bbbb bsss sscc cccc cccc cxx"},{country:"MU",total:30,bban:[{type:"a",count:4},{type:"n",count:4},{type:"n",count:15},{type:"a",count:3}],format:"MUkk bbbb bbss cccc cccc cccc 000d dd"},{country:"MC",total:27,bban:[{type:"n",count:10},{type:"c",count:11},{type:"n",count:2}],format:"MCkk bbbb bsss sscc cccc cccc cxx"},{country:"MD",total:24,bban:[{type:"c",count:2},{type:"c",count:18}],format:"MDkk bbcc cccc cccc cccc cccc"},{country:"ME",total:22,bban:[{type:"n",count:3},{type:"n",count:15}],format:"MEkk bbbc cccc cccc cccc xx"},{country:"NL",total:18,bban:[{type:"a",count:4},{type:"n",count:10}],format:"NLkk bbbb cccc cccc cc"},{country:"NO",total:15,bban:[{type:"n",count:4},{type:"n",count:7}],format:"NOkk bbbb cccc ccx"},{country:"PK",total:24,bban:[{type:"a",count:4},{type:"n",count:16}],format:"PKkk bbbb cccc cccc cccc cccc"},{country:"PS",total:29,bban:[{type:"a",count:4},{type:"n",count:9},{type:"n",count:12}],format:"PSkk bbbb xxxx xxxx xccc cccc cccc c"},{country:"PL",total:28,bban:[{type:"n",count:8},{type:"n",count:16}],format:"PLkk bbbs sssx cccc cccc cccc cccc"},{country:"PT",total:25,bban:[{type:"n",count:8},{type:"n",count:13}],format:"PTkk bbbb ssss cccc cccc cccx x"},{country:"QA",total:29,bban:[{type:"a",count:4},{type:"c",count:21}],format:"QAkk bbbb cccc cccc cccc cccc cccc c"},{country:"RO",total:24,bban:[{type:"a",count:4},{type:"c",count:16}],format:"ROkk bbbb cccc cccc cccc cccc"},{country:"SM",total:27,bban:[{type:"a",count:1},{type:"n",count:10},{type:"c",count:12}],format:"SMkk xaaa aabb bbbc cccc cccc ccc"},{country:"SA",total:24,bban:[{type:"n",count:2},{type:"c",count:18}],format:"SAkk bbcc cccc cccc cccc cccc"},{country:"RS",total:22,bban:[{type:"n",count:3},{type:"n",count:15}],format:"RSkk bbbc cccc cccc cccc xx"},{country:"SK",total:24,bban:[{type:"n",count:10},{type:"n",count:10}],format:"SKkk bbbb ssss sscc cccc cccc"},{country:"SI",total:19,bban:[{type:"n",count:5},{type:"n",count:10}],format:"SIkk bbss sccc cccc cxx"},{country:"ES",total:24,bban:[{type:"n",count:10},{type:"n",count:10}],format:"ESkk bbbb gggg xxcc cccc cccc"},{country:"SE",total:24,bban:[{type:"n",count:3},{type:"n",count:17}],format:"SEkk bbbc cccc cccc cccc cccc"},{country:"CH",total:21,bban:[{type:"n",count:5},{type:"c",count:12}],format:"CHkk bbbb bccc cccc cccc c"},{country:"TN",total:24,bban:[{type:"n",count:5},{type:"n",count:15}],format:"TNkk bbss sccc cccc cccc cccc"},{country:"TR",total:26,bban:[{type:"n",count:5},{type:"n",count:1},{type:"n",count:16}],format:"TRkk bbbb bxcc cccc cccc cccc cc"},{country:"AE",total:23,bban:[{type:"n",count:3},{type:"n",count:16}],format:"AEkk bbbc cccc cccc cccc ccc"},{country:"GB",total:22,bban:[{type:"a",count:4},{type:"n",count:6},{type:"n",count:8}],format:"GBkk bbbb ssss sscc cccc cc"},{country:"VG",total:24,bban:[{type:"a",count:4},{type:"n",count:16}],format:"VGkk bbbb cccc cccc cccc cccc"}],iso3166:["AD","AE","AF","AG","AI","AL","AM","AO","AQ","AR","AS","AT","AU","AW","AX","AZ","BA","BB","BD","BE","BF","BG","BH","BI","BJ","BL","BM","BN","BO","BQ","BR","BS","BT","BV","BW","BY","BZ","CA","CC","CD","CF","CG","CH","CI","CK","CL","CM","CN","CO","CR","CU","CV","CW","CX","CY","CZ","DE","DJ","DK","DM","DO","DZ","EC","EE","EG","EH","ER","ES","ET","FI","FJ","FK","FM","FO","FR","GA","GB","GD","GE","GF","GG","GH","GI","GL","GM","GN","GP","GQ","GR","GS","GT","GU","GW","GY","HK","HM","HN","HR","HT","HU","ID","IE","IL","IM","IN","IO","IQ","IR","IS","IT","JE","JM","JO","JP","KE","KG","KH","KI","KM","KN","KP","KR","KW","KY","KZ","LA","LB","LC","LI","LK","LR","LS","LT","LU","LV","LY","MA","MC","MD","ME","MF","MG","MH","MK","ML","MM","MN","MO","MP","MQ","MR","MS","MT","MU","MV","MW","MX","MY","MZ","NA","NC","NE","NF","NG","NI","NL","NO","NP","NR","NU","NZ","OM","PA","PE","PF","PG","PH","PK","PL","PM","PN","PR","PS","PT","PW","PY","QA","RE","RO","RS","RU","RW","SA","SB","SC","SD","SE","SG","SH","SI","SJ","SK","SL","SM","SN","SO","SR","SS","ST","SV","SX","SY","SZ","TC","TD","TF","TG","TH","TJ","TK","TL","TM","TN","TO","TR","TT","TV","TW","TZ","UA","UG","UM","US","UY","UZ","VA","VC","VE","VG","VI","VN","VU","WF","WS","XK","YE","YT","ZA","ZM","ZW"],mod97:e=>{let t=0;for(let r of e)t=(t*10+ +r)%97;return t},pattern10:["01","02","03","04","05","06","07","08","09"],pattern100:["001","002","003","004","005","006","007","008","009"],toDigitString:e=>e.replaceAll(/[A-Z]/gi,t=>String((t.toUpperCase().codePointAt(0)??Number.NaN)-55))},Nn=UW;function KW(e){let t="";for(let r=0;r<e.length;r+=4)t+=`${e.substring(r,r+4)} `;return t.trimEnd()}var qW=class extends ir{accountNumber(e={}){typeof e=="number"&&(e={length:e});let{length:t=8}=e;return this.faker.string.numeric({length:t,allowLeadingZeros:!0})}accountName(){return[this.faker.helpers.arrayElement(this.faker.definitions.finance.account_type),"Account"].join(" ")}routingNumber(){let e=this.faker.string.numeric({length:8,allowLeadingZeros:!0}),t=0;for(let r=0;r<e.length;r+=3)t+=Number(e[r])*3,t+=Number(e[r+1])*7,t+=Number(e[r+2])||0;return`${e}${Math.ceil(t/10)*10-t}`}amount(e={}){let{autoFormat:t=!1,dec:r=2,max:n=1e3,min:i=0,symbol:o=""}=e,s=this.faker.number.float({max:n,min:i,fractionDigits:r}),a=t?s.toLocaleString(void 0,{minimumFractionDigits:r}):s.toFixed(r);return o+a}transactionType(){return this.faker.helpers.arrayElement(this.faker.definitions.finance.transaction_type)}currency(){return this.faker.helpers.arrayElement(this.faker.definitions.finance.currency)}currencyCode(){return this.currency().code}currencyName(){return this.currency().name}currencySymbol(){let e;do e=this.currency().symbol;while(e.length===0);return e}currencyNumericCode(){return this.currency().numericCode}bitcoinAddress(e={}){let{type:t=this.faker.helpers.enumValue(IF),network:r="mainnet"}=e,n=oW[t],i=n.prefix[r],o=this.faker.number.int(n.length),s=this.faker.string.alphanumeric({length:o-i.length,casing:n.casing,exclude:n.exclude});return i+s}litecoinAddress(){let e=this.faker.number.int({min:26,max:33});return this.faker.string.fromCharacters("LM3")+this.faker.string.fromCharacters("123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ",e-1)}creditCardNumber(e={}){typeof e=="string"&&(e={issuer:e});let{issuer:t=""}=e,r,n=this.faker.definitions.finance.credit_card,i=t.toLowerCase();if(i in n)r=this.faker.helpers.arrayElement(n[i]);else if(t.includes("#"))r=t;else{let o=this.faker.helpers.objectValue(n);r=this.faker.helpers.arrayElement(o)}return r=r.replaceAll("/",""),this.faker.helpers.replaceCreditCardSymbols(r)}creditCardCVV(){return this.faker.string.numeric({length:3,allowLeadingZeros:!0})}creditCardIssuer(){return this.faker.helpers.objectKey(this.faker.definitions.finance.credit_card)}pin(e={}){typeof e=="number"&&(e={length:e});let{length:t=4}=e;if(t<1)throw new it("minimum length is 1");return this.faker.string.numeric({length:t,allowLeadingZeros:!0})}ethereumAddress(){return this.faker.string.hexadecimal({length:40,casing:"lower"})}iban(e={}){let{countryCode:t,formatted:r=!1}=e,n=t?Nn.formats.find(l=>l.country===t):this.faker.helpers.arrayElement(Nn.formats);if(!n)throw new it(`Country code ${t} not supported.`);let i="",o=0;for(let l of n.bban){let u=l.count;for(o+=l.count;u>0;)l.type==="a"?i+=this.faker.helpers.arrayElement(Nn.alpha):l.type==="c"?this.faker.datatype.boolean(.8)?i+=this.faker.number.int(9):i+=this.faker.helpers.arrayElement(Nn.alpha):u>=3&&this.faker.datatype.boolean(.3)?this.faker.datatype.boolean()?(i+=this.faker.helpers.arrayElement(Nn.pattern100),u-=2):(i+=this.faker.helpers.arrayElement(Nn.pattern10),u--):i+=this.faker.number.int(9),u--;i=i.substring(0,o)}let s=98-Nn.mod97(Nn.toDigitString(`${i}${n.country}00`));s<10&&(s=`0${s}`);let a=`${n.country}${s}${i}`;return r?KW(a):a}bic(e={}){let{includeBranchCode:t=this.faker.datatype.boolean()}=e,r=this.faker.string.alpha({length:4,casing:"upper"}),n=this.faker.helpers.arrayElement(Nn.iso3166),i=this.faker.string.alphanumeric({length:2,casing:"upper"}),o=t?this.faker.datatype.boolean()?this.faker.string.alphanumeric({length:3,casing:"upper"}):"XXX":"";return`${r}${n}${i}${o}`}transactionDescription(){return this.faker.helpers.fake(this.faker.definitions.finance.transaction_description_pattern)}};function I0(e){return e.split(" ").map(t=>t.charAt(0).toUpperCase()+t.slice(1)).join(" ")}var JW=class extends ir{adjective(){return this.faker.helpers.arrayElement(this.faker.definitions.food.adjective)}description(){return this.faker.helpers.fake(this.faker.definitions.food.description_pattern)}dish(){return this.faker.datatype.boolean()?I0(this.faker.helpers.fake(this.faker.definitions.food.dish_pattern)):I0(this.faker.helpers.arrayElement(this.faker.definitions.food.dish))}ethnicCategory(){return this.faker.helpers.arrayElement(this.faker.definitions.food.ethnic_category)}fruit(){return this.faker.helpers.arrayElement(this.faker.definitions.food.fruit)}ingredient(){return this.faker.helpers.arrayElement(this.faker.definitions.food.ingredient)}meat(){return this.faker.helpers.arrayElement(this.faker.definitions.food.meat)}spice(){return this.faker.helpers.arrayElement(this.faker.definitions.food.spice)}vegetable(){return this.faker.helpers.arrayElement(this.faker.definitions.food.vegetable)}},YW="",ZW=class extends ir{branch(){let e=this.faker.hacker.noun().replace(" ","-"),t=this.faker.hacker.verb().replace(" ","-");return`${e}-${t}`}commitEntry(e={}){let{merge:t=this.faker.datatype.boolean({probability:.2}),eol:r="CRLF",refDate:n}=e,i=[`commit ${this.faker.git.commitSha()}`];t&&i.push(`Merge: ${this.commitSha({length:7})} ${this.commitSha({length:7})}`);let o=this.faker.person.firstName(),s=this.faker.person.lastName(),a=this.faker.person.fullName({firstName:o,lastName:s}),l=this.faker.internet.username({firstName:o,lastName:s}),u=this.faker.helpers.arrayElement([a,l]),c=this.faker.internet.email({firstName:o,lastName:s});u=u.replaceAll(/^[.,:;"\\']|[<>\n]|[.,:;"\\']$/g,""),i.push(`Author: ${u} <${c}>`,`Date: ${this.commitDate({refDate:n})}`,"",`${YW.repeat(4)}${this.commitMessage()}`,"");let f=r==="CRLF"?`\r
`:`
`;return i.join(f)}commitMessage(){return`${this.faker.hacker.verb()} ${this.faker.hacker.adjective()} ${this.faker.hacker.noun()}`}commitDate(e={}){let{refDate:t=this.faker.defaultRefDate()}=e,r=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],n=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],i=this.faker.date.recent({days:1,refDate:t}),o=r[i.getUTCDay()],s=n[i.getUTCMonth()],a=i.getUTCDate(),l=i.getUTCHours().toString().padStart(2,"0"),u=i.getUTCMinutes().toString().padStart(2,"0"),c=i.getUTCSeconds().toString().padStart(2,"0"),f=i.getUTCFullYear(),d=this.faker.number.int({min:-11,max:12}),h=Math.abs(d).toString().padStart(2,"0"),g="00",m=d>=0?"+":"-";return`${o} ${s} ${a} ${l}:${u}:${c} ${f} ${m}${h}${g}`}commitSha(e={}){let{length:t=40}=e;return this.faker.string.hexadecimal({length:t,casing:"lower",prefix:""})}},XW=class extends ir{abbreviation(){return this.faker.helpers.arrayElement(this.faker.definitions.hacker.abbreviation)}adjective(){return this.faker.helpers.arrayElement(this.faker.definitions.hacker.adjective)}noun(){return this.faker.helpers.arrayElement(this.faker.definitions.hacker.noun)}verb(){return this.faker.helpers.arrayElement(this.faker.definitions.hacker.verb)}ingverb(){return this.faker.helpers.arrayElement(this.faker.definitions.hacker.ingverb)}phrase(){let e={abbreviation:this.abbreviation,adjective:this.adjective,ingverb:this.ingverb,noun:this.noun,verb:this.verb},t=this.faker.helpers.arrayElement(this.faker.definitions.hacker.phrase);return this.faker.helpers.mustache(t,e)}};function QW(e){let{deprecated:t,since:r,until:n,proposed:i}=e,o=`[@faker-js/faker]: ${t} is deprecated`;r&&(o+=` since v${r}`),n&&(o+=` and will be removed in v${n}`),i&&(o+=`. Please use ${i} instead`),console.warn(`${o}.`)}var e$=class extends ir{avatar(){return this.faker.helpers.arrayElement([this.personPortrait,this.avatarGitHub])()}avatarGitHub(){return`https://avatars.githubusercontent.com/u/${this.faker.number.int(1e8)}`}personPortrait(e={}){let{sex:t=this.faker.person.sexType(),size:r=512}=e;return`https://cdn.jsdelivr.net/gh/faker-js/assets-person-portrait/${t}/${r}/${this.faker.number.int({min:0,max:99})}.jpg`}url(e={}){let{width:t=this.faker.number.int({min:1,max:3999}),height:r=this.faker.number.int({min:1,max:3999})}=e;return this.faker.helpers.arrayElement([({width:n,height:i})=>this.urlPicsumPhotos({width:n,height:i,grayscale:!1,blur:0})])({width:t,height:r})}urlLoremFlickr(e={}){QW({deprecated:"faker.image.urlLoremFlickr()",proposed:"faker.image.url()",since:"10.1.0",until:"11.0.0"});let{width:t=this.faker.number.int({min:1,max:3999}),height:r=this.faker.number.int({min:1,max:3999}),category:n}=e;return`https://loremflickr.com/${t}/${r}${n==null?"":`/${n}`}?lock=${this.faker.number.int()}`}urlPicsumPhotos(e={}){let{width:t=this.faker.number.int({min:1,max:3999}),height:r=this.faker.number.int({min:1,max:3999}),grayscale:n=this.faker.datatype.boolean(),blur:i=this.faker.number.int({max:10})}=e,o=`https://picsum.photos/seed/${this.faker.string.alphanumeric({length:{min:5,max:10}})}/${t}/${r}`,s=typeof i=="number"&&i>=1&&i<=10;return(n||s)&&(o+="?",n&&(o+="grayscale"),n&&s&&(o+="&"),s&&(o+=`blur=${i}`)),o}dataUri(e={}){let{width:t=this.faker.number.int({min:1,max:3999}),height:r=this.faker.number.int({min:1,max:3999}),color:n=this.faker.color.rgb(),type:i=this.faker.helpers.arrayElement(["svg-uri","svg-base64"])}=e,o=`<svg xmlns="http://www.w3.org/2000/svg" version="1.1" baseProfile="full" width="${t}" height="${r}"><rect width="100%" height="100%" fill="${n}"/><text x="${t/2}" y="${r/2}" font-size="20" alignment-baseline="middle" text-anchor="middle" fill="white">${t}x${r}</text></svg>`;return i==="svg-uri"?`data:image/svg+xml;charset=UTF-8,${encodeURIComponent(o)}`:`data:image/svg+xml;base64,${BF(o)}`}};function t$(e,t,r=n=>n){let n={};for(let i of e){let o=t(i);n[o]===void 0&&(n[o]=[]),n[o].push(r(i))}return n}var Yd={fail:()=>{throw new it("No words found that match the given length.")},closest:(e,t)=>{let r=t$(e,a=>a.length),n=Object.keys(r).map(Number),i=Math.min(...n),o=Math.max(...n),s=Math.min(t.min-i,o-t.max);return e.filter(a=>a.length===t.min-s||a.length===t.max+s)},shortest:e=>{let t=Math.min(...e.map(r=>r.length));return e.filter(r=>r.length===t)},longest:e=>{let t=Math.max(...e.map(r=>r.length));return e.filter(r=>r.length===t)},"any-length":e=>[...e]};function gi(e){let{wordList:t,length:r,strategy:n="fail"}=e;if(r!=null){let i=typeof r=="number"?s=>s.length===r:s=>s.length>=r.min&&s.length<=r.max,o=t.filter(i);return o.length>0?o:typeof r=="number"?Yd[n](t,{min:r,max:r}):Yd[n](t,r)}else if(n==="shortest"||n==="longest")return Yd[n](t);return[...t]}var r$=class extends ir{word(e={}){return typeof e=="number"&&(e={length:e}),this.faker.helpers.arrayElement(gi({...e,wordList:this.faker.definitions.lorem.word}))}words(e=3){return this.faker.helpers.multiple(()=>this.word(),{count:e}).join(" ")}sentence(e={min:3,max:10}){let t=this.words(e);return`${t.charAt(0).toUpperCase()+t.substring(1)}.`}slug(e=3){let t=this.words(e);return this.faker.helpers.slugify(t)}sentences(e={min:2,max:6},t=" "){return this.faker.helpers.multiple(()=>this.sentence(),{count:e}).join(t)}paragraph(e=3){return this.sentences(e)}paragraphs(e=3,t=`
`){return this.faker.helpers.multiple(()=>this.paragraph(),{count:e}).join(t)}text(){let e=["sentence","sentences","paragraph","paragraphs","lines"],t=this.faker.helpers.arrayElement(e);return this[t]()}lines(e={min:1,max:5}){return this.sentences(e,`
`)}},n$=class extends ir{album(){return this.faker.helpers.arrayElement(this.faker.definitions.music.album)}artist(){return this.faker.helpers.arrayElement(this.faker.definitions.music.artist)}genre(){return this.faker.helpers.arrayElement(this.faker.definitions.music.genre)}songName(){return this.faker.helpers.arrayElement(this.faker.definitions.music.song_name)}},i$=class extends ir{number(e={}){let{style:t="human"}=e,r=this.faker.definitions.phone_number.format[t];if(!r)throw new Error(`No definitions for ${t} in this locale`);let n=this.faker.helpers.arrayElement(r);return jF(this.faker,n)}imei(){return this.faker.helpers.replaceCreditCardSymbols("##-######-######-L","#")}},o$=class extends ir{chemicalElement(){return this.faker.helpers.arrayElement(this.faker.definitions.science.chemical_element)}unit(){return this.faker.helpers.arrayElement(this.faker.definitions.science.unit)}},s$=["video","audio","image","text","application"],a$=["application/pdf","audio/mpeg","audio/wav","image/png","image/jpeg","image/gif","video/mp4","video/mpeg","text/html"],l$=["en","wl","ww"],B0={index:"o",slot:"s",mac:"x",pci:"p"},u$=["SUN","MON","TUE","WED","THU","FRI","SAT"],c$=class extends ir{fileName(e={}){let{extensionCount:t=1}=e,r=this.faker.word.words().toLowerCase().replaceAll(/\W/g,"_"),n=this.faker.helpers.multiple(()=>this.fileExt(),{count:t}).join(".");return n.length===0?r:`${r}.${n}`}commonFileName(e){return`${this.fileName({extensionCount:0})}.${e||this.commonFileExt()}`}mimeType(){let e=Object.keys(this.faker.definitions.system.mime_type);return this.faker.helpers.arrayElement(e)}commonFileType(){return this.faker.helpers.arrayElement(s$)}commonFileExt(){return this.fileExt(this.faker.helpers.arrayElement(a$))}fileType(){let e=this.faker.definitions.system.mime_type,t=new Set(Object.keys(e).map(r=>r.split("/")[0]));return this.faker.helpers.arrayElement([...t])}fileExt(e){let t=this.faker.definitions.system.mime_type;if(typeof e=="string")return this.faker.helpers.arrayElement(t[e].extensions);let r=new Set(Object.values(t).flatMap(({extensions:n})=>n));return this.faker.helpers.arrayElement([...r])}directoryPath(){let e=this.faker.definitions.system.directory_path;return this.faker.helpers.arrayElement(e)}filePath(){return`${this.directoryPath()}/${this.fileName()}`}semver(){return[this.faker.number.int(9),this.faker.number.int(20),this.faker.number.int(20)].join(".")}networkInterface(e={}){let{interfaceType:t=this.faker.helpers.arrayElement(l$),interfaceSchema:r=this.faker.helpers.objectKey(B0)}=e,n,i="";switch(r){case"index":{n=this.faker.string.numeric();break}case"slot":{n=`${this.faker.string.numeric()}${this.faker.helpers.maybe(()=>`f${this.faker.string.numeric()}`)??""}${this.faker.helpers.maybe(()=>`d${this.faker.string.numeric()}`)??""}`;break}case"mac":{n=this.faker.internet.mac("");break}case"pci":{i=this.faker.helpers.maybe(()=>`P${this.faker.string.numeric()}`)??"",n=`${this.faker.string.numeric()}s${this.faker.string.numeric()}${this.faker.helpers.maybe(()=>`f${this.faker.string.numeric()}`)??""}${this.faker.helpers.maybe(()=>`d${this.faker.string.numeric()}`)??""}`;break}}return`${i}${t}${B0[r]}${n}`}cron(e={}){let{includeYear:t=!1,includeNonStandard:r=!1}=e,n=[this.faker.number.int(59),"*"],i=[this.faker.number.int(23),"*"],o=[this.faker.number.int({min:1,max:31}),"*","?"],s=[this.faker.number.int({min:1,max:12}),"*"],a=[this.faker.number.int(6),this.faker.helpers.arrayElement(u$),"*","?"],l=[this.faker.number.int({min:1970,max:2099}),"*"],u=this.faker.helpers.arrayElement(n),c=this.faker.helpers.arrayElement(i),f=this.faker.helpers.arrayElement(o),d=this.faker.helpers.arrayElement(s),h=this.faker.helpers.arrayElement(a),g=this.faker.helpers.arrayElement(l),m=`${u} ${c} ${f} ${d} ${h}`;t&&(m+=` ${g}`);let p=["@annually","@daily","@hourly","@monthly","@reboot","@weekly","@yearly"];return!r||this.faker.datatype.boolean()?m:this.faker.helpers.arrayElement(p)}},d$=class extends ir{vehicle(){return`${this.manufacturer()} ${this.model()}`}manufacturer(){return this.faker.helpers.arrayElement(this.faker.definitions.vehicle.manufacturer)}model(){return this.faker.helpers.arrayElement(this.faker.definitions.vehicle.model)}type(){return this.faker.helpers.arrayElement(this.faker.definitions.vehicle.type)}fuel(){return this.faker.helpers.arrayElement(this.faker.definitions.vehicle.fuel)}vin(){let e=["o","i","q","O","I","Q"];return`${this.faker.string.alphanumeric({length:10,casing:"upper",exclude:e})}${this.faker.string.alpha({length:1,casing:"upper",exclude:e})}${this.faker.string.alphanumeric({length:1,casing:"upper",exclude:e})}${this.faker.string.numeric({length:5,allowLeadingZeros:!0})}`}color(){return this.faker.color.human()}vrm(){return`${this.faker.string.alpha({length:2,casing:"upper"})}${this.faker.string.numeric({length:2,allowLeadingZeros:!0})}${this.faker.string.alpha({length:3,casing:"upper"})}`}bicycle(){return this.faker.helpers.arrayElement(this.faker.definitions.vehicle.bicycle_type)}},h$=class extends ir{adjective(e={}){return typeof e=="number"&&(e={length:e}),this.faker.helpers.arrayElement(gi({...e,wordList:this.faker.definitions.word.adjective}))}adverb(e={}){return typeof e=="number"&&(e={length:e}),this.faker.helpers.arrayElement(gi({...e,wordList:this.faker.definitions.word.adverb}))}conjunction(e={}){return typeof e=="number"&&(e={length:e}),this.faker.helpers.arrayElement(gi({...e,wordList:this.faker.definitions.word.conjunction}))}interjection(e={}){return typeof e=="number"&&(e={length:e}),this.faker.helpers.arrayElement(gi({...e,wordList:this.faker.definitions.word.interjection}))}noun(e={}){return typeof e=="number"&&(e={length:e}),this.faker.helpers.arrayElement(gi({...e,wordList:this.faker.definitions.word.noun}))}preposition(e={}){return typeof e=="number"&&(e={length:e}),this.faker.helpers.arrayElement(gi({...e,wordList:this.faker.definitions.word.preposition}))}verb(e={}){return typeof e=="number"&&(e={length:e}),this.faker.helpers.arrayElement(gi({...e,wordList:this.faker.definitions.word.verb}))}sample(e={}){let t=this.faker.helpers.shuffle([this.adjective,this.adverb,this.conjunction,this.interjection,this.noun,this.preposition,this.verb]);for(let r of t)try{return r(e)}catch{continue}throw new it("No matching word data available for the current locale")}words(e={}){typeof e=="number"&&(e={count:e});let{count:t={min:1,max:3}}=e;return this.faker.helpers.multiple(()=>this.sample(),{count:t}).join(" ")}},f$=class extends $F{rawDefinitions;definitions;airline=new eW(this);animal=new GW(this);book=new jW(this);color=new nW(this);commerce=new VW(this);company=new WW(this);database=new $W(this);date=new xW(this);finance=new qW(this);food=new JW(this);git=new ZW(this);hacker=new XW(this);helpers=new IW(this);image=new e$(this);internet=new pW(this);location=new BW(this);lorem=new r$(this);music=new n$(this);person=new gW(this);phone=new i$(this);science=new o$(this);system=new c$(this);vehicle=new d$(this);word=new h$(this);constructor(e){super({randomizer:e.randomizer,seed:e.seed});let{locale:t}=e;if(Array.isArray(t)){if(t.length===0)throw new it("The locale option must contain at least one locale definition.");t=HW(t)}this.rawDefinitions=t,this.definitions=FW(this.rawDefinitions)}getMetadata(){return this.rawDefinitions.metadata??{}}},p$=["Academy Color Encoding System (ACES)","Adobe RGB","Adobe Wide Gamut RGB","British Standard Colour (BS)","CIE 1931 XYZ","CIELAB","CIELUV","CIEUVW","CMY","CMYK","DCI-P3","Display-P3","Federal Standard 595C","HKS","HSL","HSLA","HSLuv","HSV","HWB","LCh","LMS","Munsell Color System","Natural Color System (NSC)","Pantone Matching System (PMS)","ProPhoto RGB Color Space","RAL","RG","RGBA","RGK","Rec. 2020","Rec. 2100","Rec. 601","Rec. 709","Uniform Color Spaces (UCSs)","YDbDr","YIQ","YPbPr","sRGB","sYCC","scRGB","xvYCC"],g$={space:p$},m$=g$,b$=["ascii_bin","ascii_general_ci","cp1250_bin","cp1250_general_ci","utf8_bin","utf8_general_ci","utf8_unicode_ci"],y$=["ARCHIVE","BLACKHOLE","CSV","InnoDB","MEMORY","MyISAM"],v$=["bigint","binary","bit","blob","boolean","date","datetime","decimal","double","enum","float","geometry","int","mediumint","point","real","serial","set","smallint","text","time","timestamp","tinyint","varchar"],w$={collation:b$,engine:y$,type:v$},C$=w$,UF=["Africa/Abidjan","Africa/Accra","Africa/Addis_Ababa","Africa/Algiers","Africa/Asmara","Africa/Bamako","Africa/Bangui","Africa/Banjul","Africa/Bissau","Africa/Blantyre","Africa/Brazzaville","Africa/Bujumbura","Africa/Cairo","Africa/Casablanca","Africa/Ceuta","Africa/Conakry","Africa/Dakar","Africa/Dar_es_Salaam","Africa/Djibouti","Africa/Douala","Africa/El_Aaiun","Africa/Freetown","Africa/Gaborone","Africa/Harare","Africa/Johannesburg","Africa/Juba","Africa/Kampala","Africa/Khartoum","Africa/Kigali","Africa/Kinshasa","Africa/Lagos","Africa/Libreville","Africa/Lome","Africa/Luanda","Africa/Lubumbashi","Africa/Lusaka","Africa/Malabo","Africa/Maputo","Africa/Maseru","Africa/Mbabane","Africa/Mogadishu","Africa/Monrovia","Africa/Nairobi","Africa/Ndjamena","Africa/Niamey","Africa/Nouakchott","Africa/Ouagadougou","Africa/Porto-Novo","Africa/Sao_Tome","Africa/Tripoli","Africa/Tunis","Africa/Windhoek","America/Adak","America/Anchorage","America/Anguilla","America/Antigua","America/Araguaina","America/Argentina/Buenos_Aires","America/Argentina/Catamarca","America/Argentina/Cordoba","America/Argentina/Jujuy","America/Argentina/La_Rioja","America/Argentina/Mendoza","America/Argentina/Rio_Gallegos","America/Argentina/Salta","America/Argentina/San_Juan","America/Argentina/San_Luis","America/Argentina/Tucuman","America/Argentina/Ushuaia","America/Aruba","America/Asuncion","America/Atikokan","America/Bahia","America/Bahia_Banderas","America/Barbados","America/Belem","America/Belize","America/Blanc-Sablon","America/Boa_Vista","America/Bogota","America/Boise","America/Cambridge_Bay","America/Campo_Grande","America/Cancun","America/Caracas","America/Cayenne","America/Cayman","America/Chicago","America/Chihuahua","America/Ciudad_Juarez","America/Costa_Rica","America/Creston","America/Cuiaba","America/Curacao","America/Danmarkshavn","America/Dawson","America/Dawson_Creek","America/Denver","America/Detroit","America/Dominica","America/Edmonton","America/Eirunepe","America/El_Salvador","America/Fort_Nelson","America/Fortaleza","America/Glace_Bay","America/Goose_Bay","America/Grand_Turk","America/Grenada","America/Guadeloupe","America/Guatemala","America/Guayaquil","America/Guyana","America/Halifax","America/Havana","America/Hermosillo","America/Indiana/Indianapolis","America/Indiana/Knox","America/Indiana/Marengo","America/Indiana/Petersburg","America/Indiana/Tell_City","America/Indiana/Vevay","America/Indiana/Vincennes","America/Indiana/Winamac","America/Inuvik","America/Iqaluit","America/Jamaica","America/Juneau","America/Kentucky/Louisville","America/Kentucky/Monticello","America/Kralendijk","America/La_Paz","America/Lima","America/Los_Angeles","America/Lower_Princes","America/Maceio","America/Managua","America/Manaus","America/Marigot","America/Martinique","America/Matamoros","America/Mazatlan","America/Menominee","America/Merida","America/Metlakatla","America/Mexico_City","America/Miquelon","America/Moncton","America/Monterrey","America/Montevideo","America/Montserrat","America/Nassau","America/New_York","America/Nome","America/Noronha","America/North_Dakota/Beulah","America/North_Dakota/Center","America/North_Dakota/New_Salem","America/Nuuk","America/Ojinaga","America/Panama","America/Paramaribo","America/Phoenix","America/Port-au-Prince","America/Port_of_Spain","America/Porto_Velho","America/Puerto_Rico","America/Punta_Arenas","America/Rankin_Inlet","America/Recife","America/Regina","America/Resolute","America/Rio_Branco","America/Santarem","America/Santiago","America/Santo_Domingo","America/Sao_Paulo","America/Scoresbysund","America/Sitka","America/St_Barthelemy","America/St_Johns","America/St_Kitts","America/St_Lucia","America/St_Thomas","America/St_Vincent","America/Swift_Current","America/Tegucigalpa","America/Thule","America/Tijuana","America/Toronto","America/Tortola","America/Vancouver","America/Whitehorse","America/Winnipeg","America/Yakutat","America/Yellowknife","Antarctica/Casey","Antarctica/Davis","Antarctica/DumontDUrville","Antarctica/Macquarie","Antarctica/Mawson","Antarctica/McMurdo","Antarctica/Palmer","Antarctica/Rothera","Antarctica/Syowa","Antarctica/Troll","Antarctica/Vostok","Arctic/Longyearbyen","Asia/Aden","Asia/Almaty","Asia/Amman","Asia/Anadyr","Asia/Aqtau","Asia/Aqtobe","Asia/Ashgabat","Asia/Atyrau","Asia/Baghdad","Asia/Bahrain","Asia/Baku","Asia/Bangkok","Asia/Barnaul","Asia/Beirut","Asia/Bishkek","Asia/Brunei","Asia/Chita","Asia/Choibalsan","Asia/Colombo","Asia/Damascus","Asia/Dhaka","Asia/Dili","Asia/Dubai","Asia/Dushanbe","Asia/Famagusta","Asia/Gaza","Asia/Hebron","Asia/Ho_Chi_Minh","Asia/Hong_Kong","Asia/Hovd","Asia/Irkutsk","Asia/Jakarta","Asia/Jayapura","Asia/Jerusalem","Asia/Kabul","Asia/Kamchatka","Asia/Karachi","Asia/Kathmandu","Asia/Khandyga","Asia/Kolkata","Asia/Krasnoyarsk","Asia/Kuala_Lumpur","Asia/Kuching","Asia/Kuwait","Asia/Macau","Asia/Magadan","Asia/Makassar","Asia/Manila","Asia/Muscat","Asia/Nicosia","Asia/Novokuznetsk","Asia/Novosibirsk","Asia/Omsk","Asia/Oral","Asia/Phnom_Penh","Asia/Pontianak","Asia/Pyongyang","Asia/Qatar","Asia/Qostanay","Asia/Qyzylorda","Asia/Riyadh","Asia/Sakhalin","Asia/Samarkand","Asia/Seoul","Asia/Shanghai","Asia/Singapore","Asia/Srednekolymsk","Asia/Taipei","Asia/Tashkent","Asia/Tbilisi","Asia/Tehran","Asia/Thimphu","Asia/Tokyo","Asia/Tomsk","Asia/Ulaanbaatar","Asia/Urumqi","Asia/Ust-Nera","Asia/Vientiane","Asia/Vladivostok","Asia/Yakutsk","Asia/Yangon","Asia/Yekaterinburg","Asia/Yerevan","Atlantic/Azores","Atlantic/Bermuda","Atlantic/Canary","Atlantic/Cape_Verde","Atlantic/Faroe","Atlantic/Madeira","Atlantic/Reykjavik","Atlantic/South_Georgia","Atlantic/St_Helena","Atlantic/Stanley","Australia/Adelaide","Australia/Brisbane","Australia/Broken_Hill","Australia/Darwin","Australia/Eucla","Australia/Hobart","Australia/Lindeman","Australia/Lord_Howe","Australia/Melbourne","Australia/Perth","Australia/Sydney","Europe/Amsterdam","Europe/Andorra","Europe/Astrakhan","Europe/Athens","Europe/Belgrade","Europe/Berlin","Europe/Bratislava","Europe/Brussels","Europe/Bucharest","Europe/Budapest","Europe/Busingen","Europe/Chisinau","Europe/Copenhagen","Europe/Dublin","Europe/Gibraltar","Europe/Guernsey","Europe/Helsinki","Europe/Isle_of_Man","Europe/Istanbul","Europe/Jersey","Europe/Kaliningrad","Europe/Kirov","Europe/Kyiv","Europe/Lisbon","Europe/Ljubljana","Europe/London","Europe/Luxembourg","Europe/Madrid","Europe/Malta","Europe/Mariehamn","Europe/Minsk","Europe/Monaco","Europe/Moscow","Europe/Oslo","Europe/Paris","Europe/Podgorica","Europe/Prague","Europe/Riga","Europe/Rome","Europe/Samara","Europe/San_Marino","Europe/Sarajevo","Europe/Saratov","Europe/Simferopol","Europe/Skopje","Europe/Sofia","Europe/Stockholm","Europe/Tallinn","Europe/Tirane","Europe/Ulyanovsk","Europe/Vaduz","Europe/Vatican","Europe/Vienna","Europe/Vilnius","Europe/Volgograd","Europe/Warsaw","Europe/Zagreb","Europe/Zurich","Indian/Antananarivo","Indian/Chagos","Indian/Christmas","Indian/Cocos","Indian/Comoro","Indian/Kerguelen","Indian/Mahe","Indian/Maldives","Indian/Mauritius","Indian/Mayotte","Indian/Reunion","Pacific/Apia","Pacific/Auckland","Pacific/Bougainville","Pacific/Chatham","Pacific/Chuuk","Pacific/Easter","Pacific/Efate","Pacific/Fakaofo","Pacific/Fiji","Pacific/Funafuti","Pacific/Galapagos","Pacific/Gambier","Pacific/Guadalcanal","Pacific/Guam","Pacific/Honolulu","Pacific/Kanton","Pacific/Kiritimati","Pacific/Kosrae","Pacific/Kwajalein","Pacific/Majuro","Pacific/Marquesas","Pacific/Midway","Pacific/Nauru","Pacific/Niue","Pacific/Norfolk","Pacific/Noumea","Pacific/Pago_Pago","Pacific/Palau","Pacific/Pitcairn","Pacific/Pohnpei","Pacific/Port_Moresby","Pacific/Rarotonga","Pacific/Saipan","Pacific/Tahiti","Pacific/Tarawa","Pacific/Tongatapu","Pacific/Wake","Pacific/Wallis"],F$={time_zone:UF},S$=F$,x$=["ADP","AGP","AI","API","ASCII","CLI","COM","CSS","DNS","DRAM","EXE","FTP","GB","HDD","HEX","HTTP","IB","IP","JBOD","JSON","OCR","PCI","PNG","RAM","RSS","SAS","SCSI","SDD","SMS","SMTP","SQL","SSD","SSL","TCP","THX","TLS","UDP","USB","UTF8","VGA","XML","XSS"],k$={abbreviation:x$},E$=k$,R$={smiley:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],body:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],person:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],nature:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],food:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],travel:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],activity:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],object:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],symbol:["#","*","0","1","2","3","4","5","6","7","8","9","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],flag:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""]},_$={informational:[100,101,102,103],success:[200,201,202,203,204,205,206,207,208,226],redirection:[300,301,302,303,304,305,306,307,308],clientError:[400,401,402,403,404,405,406,407,408,409,410,411,412,413,414,415,416,417,418,421,422,423,424,425,426,428,429,431,451],serverError:[500,501,502,503,504,505,506,507,508,510,511]},A$=["ES256","ES384","ES512","HS256","HS384","HS512","PS256","PS384","PS512","RS256","RS384","RS512","none"],T$=["FakerBot/{{system.semver}}","Googlebot/2.1 (+http://www.google.com/bot.html)",'Mozilla/5.0 (Linux; Android {{number.int({"min":5,"max":13})}}; {{helpers.arrayElement(["SM-G998U","SM-G998B","SM-G998N","SM-G998P","SM-T800"])}}) AppleWebKit/{{number.int({"min":536,"max":605})}}.{{number.int({"min":0,"max":99})}} (KHTML, like Gecko) Chrome/{{number.int({"min":55,"max":131})}}.{{system.semver}} Mobile Safari/{{number.int({"min":536,"max":605})}}.{{number.int({"min":0,"max":99})}}','Mozilla/5.0 (Macintosh; Intel Mac OS X 10.15; rv:{{number.int({"min":75, "max":133})}}.0) Gecko/20100101 Firefox/{{number.int({"min":75, "max":133})}}.0','Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/{{number.int({"min":536,"max":605})}}.{{number.int({"min":0,"max":99})}}.{{number.int({"min":0,"max":99})}} (KHTML, like Gecko) Version/16.1 Safari/{{number.int({"min":536,"max":605})}}.{{number.int({"min":0,"max":99})}}.{{number.int({"min":0,"max":99})}}','Mozilla/5.0 (Macintosh; U; Intel Mac OS X 10_15_7) AppleWebKit/{{number.int({"min":536,"max":605})}}.{{number.int({"min":0,"max":99})}}.{{number.int({"min":0,"max":99})}} (KHTML, like Gecko) Chrome/{{number.int({"min":55,"max":131})}}.{{system.semver}} Safari/{{number.int({"min":536,"max":605})}}.{{number.int({"min":0,"max":99})}}.{{number.int({"min":0,"max":99})}}','Mozilla/5.0 (Windows NT {{helpers.arrayElement(["5.1","5.2","6.0","6.1","6.2","6.3","10.0"])}}; Win64; x64) AppleWebKit/{{number.int({"min":536,"max":605})}}.{{number.int({"min":0,"max":99})}} (KHTML, like Gecko) Chrome/{{number.int({"min":55,"max":131})}}.{{system.semver}} Safari/{{number.int({"min":536,"max":605})}}.{{number.int({"min":0,"max":99})}} Edg/{{number.int({"min":110,"max":131})}}.{{system.semver}}','Mozilla/5.0 (X11; Linux x86_64; rv:{{number.int({"min":75,"max":133})}}.0) Gecko/20100101 Firefox/{{number.int({"min":75,"max":133})}}.0','Mozilla/5.0 (compatible; MSIE {{number.int({"min":6,"max":10})}}.0; Windows NT {{helpers.arrayElement(["5.1","5.2","6.0","6.1","6.2","6.3","10.0"])}}; Trident/{{number.int({"min":4,"max":7})}}.0)','Mozilla/5.0 (iPhone; CPU iPhone OS {{number.int({"min":10,"max":18})}}_{{number.int({"min":0,"max":4})}} like Mac OS X) AppleWebKit/{{number.int({"min":536,"max":605})}}.{{number.int({"min":0,"max":99})}}.{{number.int({"min":0,"max":99})}} (KHTML, like Gecko) Version/{{number.int({"min":10,"max":18})}}_{{number.int({"min":0,"max":4})}} Mobile/15E148 Safari/{{number.int({"min":536,"max":605})}}.{{number.int({"min":0,"max":99})}}'],D$={emoji:R$,http_status_code:_$,jwt_algorithm:A$,user_agent_pattern:T$},M$=D$,P$=[{alpha2:"AD",alpha3:"AND",numeric:"020"},{alpha2:"AE",alpha3:"ARE",numeric:"784"},{alpha2:"AF",alpha3:"AFG",numeric:"004"},{alpha2:"AG",alpha3:"ATG",numeric:"028"},{alpha2:"AI",alpha3:"AIA",numeric:"660"},{alpha2:"AL",alpha3:"ALB",numeric:"008"},{alpha2:"AM",alpha3:"ARM",numeric:"051"},{alpha2:"AO",alpha3:"AGO",numeric:"024"},{alpha2:"AQ",alpha3:"ATA",numeric:"010"},{alpha2:"AR",alpha3:"ARG",numeric:"032"},{alpha2:"AS",alpha3:"ASM",numeric:"016"},{alpha2:"AT",alpha3:"AUT",numeric:"040"},{alpha2:"AU",alpha3:"AUS",numeric:"036"},{alpha2:"AW",alpha3:"ABW",numeric:"533"},{alpha2:"AX",alpha3:"ALA",numeric:"248"},{alpha2:"AZ",alpha3:"AZE",numeric:"031"},{alpha2:"BA",alpha3:"BIH",numeric:"070"},{alpha2:"BB",alpha3:"BRB",numeric:"052"},{alpha2:"BD",alpha3:"BGD",numeric:"050"},{alpha2:"BE",alpha3:"BEL",numeric:"056"},{alpha2:"BF",alpha3:"BFA",numeric:"854"},{alpha2:"BG",alpha3:"BGR",numeric:"100"},{alpha2:"BH",alpha3:"BHR",numeric:"048"},{alpha2:"BI",alpha3:"BDI",numeric:"108"},{alpha2:"BJ",alpha3:"BEN",numeric:"204"},{alpha2:"BL",alpha3:"BLM",numeric:"652"},{alpha2:"BM",alpha3:"BMU",numeric:"060"},{alpha2:"BN",alpha3:"BRN",numeric:"096"},{alpha2:"BO",alpha3:"BOL",numeric:"068"},{alpha2:"BQ",alpha3:"BES",numeric:"535"},{alpha2:"BR",alpha3:"BRA",numeric:"076"},{alpha2:"BS",alpha3:"BHS",numeric:"044"},{alpha2:"BT",alpha3:"BTN",numeric:"064"},{alpha2:"BV",alpha3:"BVT",numeric:"074"},{alpha2:"BW",alpha3:"BWA",numeric:"072"},{alpha2:"BY",alpha3:"BLR",numeric:"112"},{alpha2:"BZ",alpha3:"BLZ",numeric:"084"},{alpha2:"CA",alpha3:"CAN",numeric:"124"},{alpha2:"CC",alpha3:"CCK",numeric:"166"},{alpha2:"CD",alpha3:"COD",numeric:"180"},{alpha2:"CF",alpha3:"CAF",numeric:"140"},{alpha2:"CG",alpha3:"COG",numeric:"178"},{alpha2:"CH",alpha3:"CHE",numeric:"756"},{alpha2:"CI",alpha3:"CIV",numeric:"384"},{alpha2:"CK",alpha3:"COK",numeric:"184"},{alpha2:"CL",alpha3:"CHL",numeric:"152"},{alpha2:"CM",alpha3:"CMR",numeric:"120"},{alpha2:"CN",alpha3:"CHN",numeric:"156"},{alpha2:"CO",alpha3:"COL",numeric:"170"},{alpha2:"CR",alpha3:"CRI",numeric:"188"},{alpha2:"CU",alpha3:"CUB",numeric:"192"},{alpha2:"CV",alpha3:"CPV",numeric:"132"},{alpha2:"CW",alpha3:"CUW",numeric:"531"},{alpha2:"CX",alpha3:"CXR",numeric:"162"},{alpha2:"CY",alpha3:"CYP",numeric:"196"},{alpha2:"CZ",alpha3:"CZE",numeric:"203"},{alpha2:"DE",alpha3:"DEU",numeric:"276"},{alpha2:"DJ",alpha3:"DJI",numeric:"262"},{alpha2:"DK",alpha3:"DNK",numeric:"208"},{alpha2:"DM",alpha3:"DMA",numeric:"212"},{alpha2:"DO",alpha3:"DOM",numeric:"214"},{alpha2:"DZ",alpha3:"DZA",numeric:"012"},{alpha2:"EC",alpha3:"ECU",numeric:"218"},{alpha2:"EE",alpha3:"EST",numeric:"233"},{alpha2:"EG",alpha3:"EGY",numeric:"818"},{alpha2:"EH",alpha3:"ESH",numeric:"732"},{alpha2:"ER",alpha3:"ERI",numeric:"232"},{alpha2:"ES",alpha3:"ESP",numeric:"724"},{alpha2:"ET",alpha3:"ETH",numeric:"231"},{alpha2:"FI",alpha3:"FIN",numeric:"246"},{alpha2:"FJ",alpha3:"FJI",numeric:"242"},{alpha2:"FK",alpha3:"FLK",numeric:"238"},{alpha2:"FM",alpha3:"FSM",numeric:"583"},{alpha2:"FO",alpha3:"FRO",numeric:"234"},{alpha2:"FR",alpha3:"FRA",numeric:"250"},{alpha2:"GA",alpha3:"GAB",numeric:"266"},{alpha2:"GB",alpha3:"GBR",numeric:"826"},{alpha2:"GD",alpha3:"GRD",numeric:"308"},{alpha2:"GE",alpha3:"GEO",numeric:"268"},{alpha2:"GF",alpha3:"GUF",numeric:"254"},{alpha2:"GG",alpha3:"GGY",numeric:"831"},{alpha2:"GH",alpha3:"GHA",numeric:"288"},{alpha2:"GI",alpha3:"GIB",numeric:"292"},{alpha2:"GL",alpha3:"GRL",numeric:"304"},{alpha2:"GM",alpha3:"GMB",numeric:"270"},{alpha2:"GN",alpha3:"GIN",numeric:"324"},{alpha2:"GP",alpha3:"GLP",numeric:"312"},{alpha2:"GQ",alpha3:"GNQ",numeric:"226"},{alpha2:"GR",alpha3:"GRC",numeric:"300"},{alpha2:"GS",alpha3:"SGS",numeric:"239"},{alpha2:"GT",alpha3:"GTM",numeric:"320"},{alpha2:"GU",alpha3:"GUM",numeric:"316"},{alpha2:"GW",alpha3:"GNB",numeric:"624"},{alpha2:"GY",alpha3:"GUY",numeric:"328"},{alpha2:"HK",alpha3:"HKG",numeric:"344"},{alpha2:"HM",alpha3:"HMD",numeric:"334"},{alpha2:"HN",alpha3:"HND",numeric:"340"},{alpha2:"HR",alpha3:"HRV",numeric:"191"},{alpha2:"HT",alpha3:"HTI",numeric:"332"},{alpha2:"HU",alpha3:"HUN",numeric:"348"},{alpha2:"ID",alpha3:"IDN",numeric:"360"},{alpha2:"IE",alpha3:"IRL",numeric:"372"},{alpha2:"IL",alpha3:"ISR",numeric:"376"},{alpha2:"IM",alpha3:"IMN",numeric:"833"},{alpha2:"IN",alpha3:"IND",numeric:"356"},{alpha2:"IO",alpha3:"IOT",numeric:"086"},{alpha2:"IQ",alpha3:"IRQ",numeric:"368"},{alpha2:"IR",alpha3:"IRN",numeric:"364"},{alpha2:"IS",alpha3:"ISL",numeric:"352"},{alpha2:"IT",alpha3:"ITA",numeric:"380"},{alpha2:"JE",alpha3:"JEY",numeric:"832"},{alpha2:"JM",alpha3:"JAM",numeric:"388"},{alpha2:"JO",alpha3:"JOR",numeric:"400"},{alpha2:"JP",alpha3:"JPN",numeric:"392"},{alpha2:"KE",alpha3:"KEN",numeric:"404"},{alpha2:"KG",alpha3:"KGZ",numeric:"417"},{alpha2:"KH",alpha3:"KHM",numeric:"116"},{alpha2:"KI",alpha3:"KIR",numeric:"296"},{alpha2:"KM",alpha3:"COM",numeric:"174"},{alpha2:"KN",alpha3:"KNA",numeric:"659"},{alpha2:"KP",alpha3:"PRK",numeric:"408"},{alpha2:"KR",alpha3:"KOR",numeric:"410"},{alpha2:"KW",alpha3:"KWT",numeric:"414"},{alpha2:"KY",alpha3:"CYM",numeric:"136"},{alpha2:"KZ",alpha3:"KAZ",numeric:"398"},{alpha2:"LA",alpha3:"LAO",numeric:"418"},{alpha2:"LB",alpha3:"LBN",numeric:"422"},{alpha2:"LC",alpha3:"LCA",numeric:"662"},{alpha2:"LI",alpha3:"LIE",numeric:"438"},{alpha2:"LK",alpha3:"LKA",numeric:"144"},{alpha2:"LR",alpha3:"LBR",numeric:"430"},{alpha2:"LS",alpha3:"LSO",numeric:"426"},{alpha2:"LT",alpha3:"LTU",numeric:"440"},{alpha2:"LU",alpha3:"LUX",numeric:"442"},{alpha2:"LV",alpha3:"LVA",numeric:"428"},{alpha2:"LY",alpha3:"LBY",numeric:"434"},{alpha2:"MA",alpha3:"MAR",numeric:"504"},{alpha2:"MC",alpha3:"MCO",numeric:"492"},{alpha2:"MD",alpha3:"MDA",numeric:"498"},{alpha2:"ME",alpha3:"MNE",numeric:"499"},{alpha2:"MF",alpha3:"MAF",numeric:"663"},{alpha2:"MG",alpha3:"MDG",numeric:"450"},{alpha2:"MH",alpha3:"MHL",numeric:"584"},{alpha2:"MK",alpha3:"MKD",numeric:"807"},{alpha2:"ML",alpha3:"MLI",numeric:"466"},{alpha2:"MM",alpha3:"MMR",numeric:"104"},{alpha2:"MN",alpha3:"MNG",numeric:"496"},{alpha2:"MO",alpha3:"MAC",numeric:"446"},{alpha2:"MP",alpha3:"MNP",numeric:"580"},{alpha2:"MQ",alpha3:"MTQ",numeric:"474"},{alpha2:"MR",alpha3:"MRT",numeric:"478"},{alpha2:"MS",alpha3:"MSR",numeric:"500"},{alpha2:"MT",alpha3:"MLT",numeric:"470"},{alpha2:"MU",alpha3:"MUS",numeric:"480"},{alpha2:"MV",alpha3:"MDV",numeric:"462"},{alpha2:"MW",alpha3:"MWI",numeric:"454"},{alpha2:"MX",alpha3:"MEX",numeric:"484"},{alpha2:"MY",alpha3:"MYS",numeric:"458"},{alpha2:"MZ",alpha3:"MOZ",numeric:"508"},{alpha2:"NA",alpha3:"NAM",numeric:"516"},{alpha2:"NC",alpha3:"NCL",numeric:"540"},{alpha2:"NE",alpha3:"NER",numeric:"562"},{alpha2:"NF",alpha3:"NFK",numeric:"574"},{alpha2:"NG",alpha3:"NGA",numeric:"566"},{alpha2:"NI",alpha3:"NIC",numeric:"558"},{alpha2:"NL",alpha3:"NLD",numeric:"528"},{alpha2:"NO",alpha3:"NOR",numeric:"578"},{alpha2:"NP",alpha3:"NPL",numeric:"524"},{alpha2:"NR",alpha3:"NRU",numeric:"520"},{alpha2:"NU",alpha3:"NIU",numeric:"570"},{alpha2:"NZ",alpha3:"NZL",numeric:"554"},{alpha2:"OM",alpha3:"OMN",numeric:"512"},{alpha2:"PA",alpha3:"PAN",numeric:"591"},{alpha2:"PE",alpha3:"PER",numeric:"604"},{alpha2:"PF",alpha3:"PYF",numeric:"258"},{alpha2:"PG",alpha3:"PNG",numeric:"598"},{alpha2:"PH",alpha3:"PHL",numeric:"608"},{alpha2:"PK",alpha3:"PAK",numeric:"586"},{alpha2:"PL",alpha3:"POL",numeric:"616"},{alpha2:"PM",alpha3:"SPM",numeric:"666"},{alpha2:"PN",alpha3:"PCN",numeric:"612"},{alpha2:"PR",alpha3:"PRI",numeric:"630"},{alpha2:"PS",alpha3:"PSE",numeric:"275"},{alpha2:"PT",alpha3:"PRT",numeric:"620"},{alpha2:"PW",alpha3:"PLW",numeric:"585"},{alpha2:"PY",alpha3:"PRY",numeric:"600"},{alpha2:"QA",alpha3:"QAT",numeric:"634"},{alpha2:"RE",alpha3:"REU",numeric:"638"},{alpha2:"RO",alpha3:"ROU",numeric:"642"},{alpha2:"RS",alpha3:"SRB",numeric:"688"},{alpha2:"RU",alpha3:"RUS",numeric:"643"},{alpha2:"RW",alpha3:"RWA",numeric:"646"},{alpha2:"SA",alpha3:"SAU",numeric:"682"},{alpha2:"SB",alpha3:"SLB",numeric:"090"},{alpha2:"SC",alpha3:"SYC",numeric:"690"},{alpha2:"SD",alpha3:"SDN",numeric:"729"},{alpha2:"SE",alpha3:"SWE",numeric:"752"},{alpha2:"SG",alpha3:"SGP",numeric:"702"},{alpha2:"SH",alpha3:"SHN",numeric:"654"},{alpha2:"SI",alpha3:"SVN",numeric:"705"},{alpha2:"SJ",alpha3:"SJM",numeric:"744"},{alpha2:"SK",alpha3:"SVK",numeric:"703"},{alpha2:"SL",alpha3:"SLE",numeric:"694"},{alpha2:"SM",alpha3:"SMR",numeric:"674"},{alpha2:"SN",alpha3:"SEN",numeric:"686"},{alpha2:"SO",alpha3:"SOM",numeric:"706"},{alpha2:"SR",alpha3:"SUR",numeric:"740"},{alpha2:"SS",alpha3:"SSD",numeric:"728"},{alpha2:"ST",alpha3:"STP",numeric:"678"},{alpha2:"SV",alpha3:"SLV",numeric:"222"},{alpha2:"SX",alpha3:"SXM",numeric:"534"},{alpha2:"SY",alpha3:"SYR",numeric:"760"},{alpha2:"SZ",alpha3:"SWZ",numeric:"748"},{alpha2:"TC",alpha3:"TCA",numeric:"796"},{alpha2:"TD",alpha3:"TCD",numeric:"148"},{alpha2:"TF",alpha3:"ATF",numeric:"260"},{alpha2:"TG",alpha3:"TGO",numeric:"768"},{alpha2:"TH",alpha3:"THA",numeric:"764"},{alpha2:"TJ",alpha3:"TJK",numeric:"762"},{alpha2:"TK",alpha3:"TKL",numeric:"772"},{alpha2:"TL",alpha3:"TLS",numeric:"626"},{alpha2:"TM",alpha3:"TKM",numeric:"795"},{alpha2:"TN",alpha3:"TUN",numeric:"788"},{alpha2:"TO",alpha3:"TON",numeric:"776"},{alpha2:"TR",alpha3:"TUR",numeric:"792"},{alpha2:"TT",alpha3:"TTO",numeric:"780"},{alpha2:"TV",alpha3:"TUV",numeric:"798"},{alpha2:"TW",alpha3:"TWN",numeric:"158"},{alpha2:"TZ",alpha3:"TZA",numeric:"834"},{alpha2:"UA",alpha3:"UKR",numeric:"804"},{alpha2:"UG",alpha3:"UGA",numeric:"800"},{alpha2:"UM",alpha3:"UMI",numeric:"581"},{alpha2:"US",alpha3:"USA",numeric:"840"},{alpha2:"UY",alpha3:"URY",numeric:"858"},{alpha2:"UZ",alpha3:"UZB",numeric:"860"},{alpha2:"VA",alpha3:"VAT",numeric:"336"},{alpha2:"VC",alpha3:"VCT",numeric:"670"},{alpha2:"VE",alpha3:"VEN",numeric:"862"},{alpha2:"VG",alpha3:"VGB",numeric:"092"},{alpha2:"VI",alpha3:"VIR",numeric:"850"},{alpha2:"VN",alpha3:"VNM",numeric:"704"},{alpha2:"VU",alpha3:"VUT",numeric:"548"},{alpha2:"WF",alpha3:"WLF",numeric:"876"},{alpha2:"WS",alpha3:"WSM",numeric:"882"},{alpha2:"YE",alpha3:"YEM",numeric:"887"},{alpha2:"YT",alpha3:"MYT",numeric:"175"},{alpha2:"ZA",alpha3:"ZAF",numeric:"710"},{alpha2:"ZM",alpha3:"ZMB",numeric:"894"},{alpha2:"ZW",alpha3:"ZWE",numeric:"716"}],I$={country_code:P$,time_zone:UF},B$=I$,L$={title:"Base",code:"base"},N$=L$,O$=["/Applications","/bin","/boot","/boot/defaults","/dev","/etc","/etc/defaults","/etc/mail","/etc/namedb","/etc/periodic","/etc/ppp","/home","/home/user","/home/user/dir","/lib","/Library","/lost+found","/media","/mnt","/net","/Network","/opt","/opt/bin","/opt/include","/opt/lib","/opt/sbin","/opt/share","/private","/private/tmp","/private/var","/proc","/rescue","/root","/sbin","/selinux","/srv","/sys","/System","/tmp","/Users","/usr","/usr/X11R6","/usr/bin","/usr/include","/usr/lib","/usr/libdata","/usr/libexec","/usr/local/bin","/usr/local/src","/usr/obj","/usr/ports","/usr/sbin","/usr/share","/usr/src","/var","/var/log","/var/mail","/var/spool","/var/tmp","/var/yp"],H$={"application/epub+zip":{extensions:["epub"]},"application/gzip":{extensions:["gz"]},"application/java-archive":{extensions:["jar","war","ear"]},"application/json":{extensions:["json","map"]},"application/ld+json":{extensions:["jsonld"]},"application/msword":{extensions:["doc","dot"]},"application/octet-stream":{extensions:["bin","dms","lrf","mar","so","dist","distz","pkg","bpk","dump","elc","deploy","exe","dll","deb","dmg","iso","img","msi","msp","msm","buffer"]},"application/ogg":{extensions:["ogx"]},"application/pdf":{extensions:["pdf"]},"application/rtf":{extensions:["rtf"]},"application/vnd.amazon.ebook":{extensions:["azw"]},"application/vnd.apple.installer+xml":{extensions:["mpkg"]},"application/vnd.mozilla.xul+xml":{extensions:["xul"]},"application/vnd.ms-excel":{extensions:["xls","xlm","xla","xlc","xlt","xlw"]},"application/vnd.ms-fontobject":{extensions:["eot"]},"application/vnd.ms-powerpoint":{extensions:["ppt","pps","pot"]},"application/vnd.oasis.opendocument.presentation":{extensions:["odp"]},"application/vnd.oasis.opendocument.spreadsheet":{extensions:["ods"]},"application/vnd.oasis.opendocument.text":{extensions:["odt"]},"application/vnd.openxmlformats-officedocument.presentationml.presentation":{extensions:["pptx"]},"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet":{extensions:["xlsx"]},"application/vnd.openxmlformats-officedocument.wordprocessingml.document":{extensions:["docx"]},"application/vnd.rar":{extensions:["rar"]},"application/vnd.visio":{extensions:["vsd","vst","vss","vsw"]},"application/x-7z-compressed":{extensions:["7z"]},"application/x-abiword":{extensions:["abw"]},"application/x-bzip":{extensions:["bz"]},"application/x-bzip2":{extensions:["bz2","boz"]},"application/x-csh":{extensions:["csh"]},"application/x-freearc":{extensions:["arc"]},"application/x-httpd-php":{extensions:["php"]},"application/x-sh":{extensions:["sh"]},"application/x-tar":{extensions:["tar"]},"application/xhtml+xml":{extensions:["xhtml","xht"]},"application/xml":{extensions:["xml","xsl","xsd","rng"]},"application/zip":{extensions:["zip"]},"audio/3gpp":{extensions:["3gpp"]},"audio/3gpp2":{extensions:["3g2"]},"audio/aac":{extensions:["aac"]},"audio/midi":{extensions:["mid","midi","kar","rmi"]},"audio/mpeg":{extensions:["mpga","mp2","mp2a","mp3","m2a","m3a"]},"audio/ogg":{extensions:["oga","ogg","spx","opus"]},"audio/opus":{extensions:["opus"]},"audio/wav":{extensions:["wav"]},"audio/webm":{extensions:["weba"]},"font/otf":{extensions:["otf"]},"font/ttf":{extensions:["ttf"]},"font/woff":{extensions:["woff"]},"font/woff2":{extensions:["woff2"]},"image/avif":{extensions:["avif"]},"image/bmp":{extensions:["bmp"]},"image/gif":{extensions:["gif"]},"image/jpeg":{extensions:["jpeg","jpg","jpe"]},"image/png":{extensions:["png"]},"image/svg+xml":{extensions:["svg","svgz"]},"image/tiff":{extensions:["tif","tiff"]},"image/vnd.microsoft.icon":{extensions:["ico"]},"image/webp":{extensions:["webp"]},"text/calendar":{extensions:["ics","ifb"]},"text/css":{extensions:["css"]},"text/csv":{extensions:["csv"]},"text/html":{extensions:["html","htm","shtml"]},"text/javascript":{extensions:["js","mjs"]},"text/plain":{extensions:["txt","text","conf","def","list","log","in","ini"]},"video/3gpp":{extensions:["3gp","3gpp"]},"video/3gpp2":{extensions:["3g2"]},"video/mp2t":{extensions:["ts"]},"video/mp4":{extensions:["mp4","mp4v","mpg4"]},"video/mpeg":{extensions:["mpeg","mpg","mpe","m1v","m2v"]},"video/ogg":{extensions:["ogv"]},"video/webm":{extensions:["webm"]},"video/x-msvideo":{extensions:["avi"]}},G$={directory_path:O$,mime_type:H$},j$=G$,z$={color:m$,database:C$,date:S$,hacker:E$,internet:M$,location:B$,metadata:N$,system:j$},V$=z$,dn=new f$({locale:[qV,V$]});function Zd(e,t){let r=0,n=0;for(;r===0;)r=Math.random();for(;n===0;)n=Math.random();const i=Math.sqrt(-2*Math.log(r))*Math.cos(2*Math.PI*n);return e+i*t}const Xd=e=>{if(typeof e=="boolean")return e;const t=String(e).toLowerCase().trim();return t==="true"||t==="1"||t==="yes"||t==="si"},js=(e,t=!1)=>{if(!e||isNaN(e.getTime()))return null;try{const r=e.toISOString();return t?r.replace("T"," ").substring(0,19):r.split("T")[0]}catch{return null}},kn={Integer:[{key:"random_default",label:{es:"Aleatorio (Automtico)",en:"Random (Automatic)"},params:[]},{key:"sequence",label:{es:"Secuencial (Autonumrico)",en:"Sequential (Auto-numeric)"},params:["start"]},{key:"catalog_link",label:{es:"Vincular a Catlogo (Misma Fila)",en:"Link to Catalog (Same Row)"},params:["ref_variable"]},{key:"uniform",label:{es:"Uniforme (Min, Max)",en:"Uniform (Min, Max)"},params:["min","max"]},{key:"normal",label:{es:"Normal (Media, Desviacin)",en:"Normal (Mean, Std Dev)"},params:["mean","stdDev"]},{key:"constant",label:{es:"Constante",en:"Constant"},params:["value"]},{key:"categorical_weighted",label:{es:"Valores con Pesos",en:"Weighted Values"},params:["options_weights"]}],Float:[{key:"random_default",label:{es:"Aleatorio (Automtico)",en:"Random (Automatic)"},params:[]},{key:"catalog_link",label:{es:"Vincular a Catlogo (Misma Fila)",en:"Link to Catalog (Same Row)"},params:["ref_variable"]},{key:"uniform",label:{es:"Uniforme (Min, Max)",en:"Uniform (Min, Max)"},params:["min","max"]},{key:"normal",label:{es:"Normal (Media, Desviacin)",en:"Normal (Mean, Std Dev)"},params:["mean","stdDev"]}],Double:[{key:"random_default",label:{es:"Aleatorio (Automtico)",en:"Random (Automatic)"},params:[]},{key:"catalog_link",label:{es:"Vincular a Catlogo (Misma Fila)",en:"Link to Catalog (Same Row)"},params:["ref_variable"]},{key:"uniform",label:{es:"Uniforme (Min, Max)",en:"Uniform (Min, Max)"},params:["min","max"]},{key:"normal",label:{es:"Normal (Media, Desviacin)",en:"Normal (Mean, Std Dev)"},params:["mean","stdDev"]}],String:[{key:"random_default",label:{es:"Aleatorio (Automtico)",en:"Random (Automatic)"},params:[]},{key:"sequence",label:{es:"Secuencial (Autonumrico)",en:"Sequential (Auto-numeric)"},params:["start"]},{key:"foreign_key",label:{es:"Copiar de otra Entidad (FK)",en:"Copy from Entity (FK)"},params:["target_entity","target_variable"]},{key:"catalog_link",label:{es:"Vincular a Catlogo (Misma Fila)",en:"Link to Catalog (Same Row)"},params:["ref_variable"]},{key:"categorical",label:{es:"Categrica (Lista simple)",en:"Categorical (Simple List)"},params:["options"]},{key:"categorical_weighted",label:{es:"Categrica (Con % Pesos)",en:"Categorical (Weighted %)"},params:["options_weights"]},{key:"faker_name",label:{es:"Nombre Persona",en:"Person Name"},params:[]},{key:"faker_email",label:{es:"Email",en:"Email"},params:[]},{key:"faker_city",label:{es:"Ciudad",en:"City"},params:[]},{key:"regex",label:{es:"Patrn Regex",en:"Regex Pattern"},params:["pattern"]}],Date:[{key:"random_default",label:{es:"Aleatorio (Cualquier fecha)",en:"Random (Any Date)"},params:[]},{key:"date_range",label:{es:"Rango Fechas",en:"Date Range"},params:["start","end"]},{key:"date_normal",label:{es:"Normal (Pico en fecha)",en:"Normal (Date Peak)"},params:["mean_date","std_dev_days"]},{key:"relative_date",label:{es:"Relativa (Suma a otra col.)",en:"Relative (Add to col.)"},params:["ref_variable","unit","mean","stdDev"]}],Datetime:[{key:"random_default",label:{es:"Aleatorio (Cualquier fecha)",en:"Random (Any Date)"},params:[]},{key:"datetime_range",label:{es:"Rango Fecha y Hora",en:"Date & Time Range"},params:["start","end"]},{key:"datetime_normal",label:{es:"Normal (Pico en fecha)",en:"Normal (Date Peak)"},params:["mean_date","std_dev_days"]},{key:"relative_date",label:{es:"Relativa (Suma a otra col.)",en:"Relative (Add to col.)"},params:["ref_variable","unit","mean","stdDev"]}],Boolean:[{key:"random_default",label:{es:"Aleatorio (50/50)",en:"Random (50/50)"},params:[]},{key:"bernoulli",label:{es:"Probabilidad True/False",en:"Probability True/False"},params:["p_true"]},{key:"constant",label:{es:"Constante (Siempre True/False)",en:"Constant (Always True/False)"},params:["value"]},{key:"categorical_weighted",label:{es:"Pesos (ej: True:80, False:20)",en:"Weighted (e.g. True:80, False:20)"},params:["options_weights"]}]},KF=(e,t,r,n={},i=0,o=[],s=0,a=null)=>{const l=r||{};if(s>0&&Math.random()*100<s)return null;try{switch(t){case"catalog_link":const u=l.ref_variable,c=n[u];if(!a||!a.entityConfig||!c)return null;const{entityConfig:f,currentVariable:d}=a,h=f.variables.find(w=>w.label===u);if(h?.catalog?.rows&&d?.catalog?.rows){const w=h.catalog.rows.findIndex(C=>String(C[h.catalog.column_name])===String(c));if(w!==-1){const C=d.catalog.rows[w];if(C)return C[d.catalog.column_name]}}return null;case"foreign_key":if(Array.isArray(o)&&o.length>0){const w=Math.floor(Math.random()*o.length),C=o[w];if(C==null)return"";if(e==="Integer"){const x=parseInt(C);return isNaN(x)?0:x}return String(C)}return"ERROR_NO_PARENT_DATA";case"random_default":return e==="Integer"?dn.number.int({min:0,max:1e3}):e==="Float"||e==="Double"?dn.number.float({min:0,max:1e3,precision:.01}):e==="Boolean"?dn.datatype.boolean():e==="Date"?js(dn.date.past({years:10}),!1):e==="Datetime"?js(dn.date.past({years:10}),!0):dn.lorem.word();case"sequence":return(parseInt(l.start)||1)+i;case"uniform":const m=parseFloat(l.min||0),p=parseFloat(l.max||100),y=Math.random()*(p-m)+m;return e==="Integer"?Math.round(y):parseFloat(y.toFixed(2));case"normal":const b=parseFloat(l.mean||0),v=parseFloat(l.stdDev||1),F=Zd(b,v);return e==="Integer"?Math.round(F):parseFloat(F.toFixed(2));case"constant":return e==="Boolean"?Xd(l.value):e==="Integer"?parseInt(l.value):parseFloat(l.value);case"categorical":const E=l.options?l.options.split(",").map(w=>w.trim()):[];if(E.length===0)return e==="Boolean"?!1:"N/A";const T=E[Math.floor(Math.random()*E.length)];return e==="Integer"?parseInt(T)||0:e==="Boolean"?Xd(T):T;case"categorical_weighted":const M=(l.options_weights||"").split(",").map(w=>w.trim());let P=0;const O=[];for(let w of M){const C=w.lastIndexOf(":");if(C!==-1){const x=w.substring(0,C).trim(),A=parseFloat(w.substring(C+1));!isNaN(A)&&A>0&&(P+=A,O.push({val:x,weight:A}))}}if(O.length===0)return e==="Boolean"?!1:"Config Error";let z=Math.random()*P,L=O[0].val;for(let w of O){if(z<w.weight){L=w.val;break}z-=w.weight}return e==="Integer"?parseInt(L)||0:e==="Boolean"?Xd(L):L;case"regex":try{return dn.helpers.fromRegExp(l.pattern||"[A-Z]{5}")}catch{return"Regex Error"}case"faker_name":return dn.person.fullName();case"faker_email":return dn.internet.email();case"faker_city":return dn.location.city();case"date_range":case"datetime_range":let _=new Date(l.start||"2020-01-01"),R=new Date(l.end||"2025-01-01");if(isNaN(_.getTime())&&(_=new Date),isNaN(R.getTime())&&(R=new Date),_>R){const w=_;_=R,R=w}const k=dn.date.between({from:_,to:R});return js(k,t==="datetime_range");case"date_normal":case"datetime_normal":try{const w=l.mean_date||"2023-06-15",C=new Date(w).getTime();if(isNaN(C))return l.mean_date||"Invalid Date";const A=parseFloat(l.std_dev_days||5)*864e5,D=Zd(C,A),B=new Date(D);return js(B,e!=="Date")}catch{return"Error Date Normal"}case"relative_date":try{const w=n[l.ref_variable];if(w==null||w==="")return null;const C=new Date(w);if(isNaN(C.getTime()))return"Invalid Ref";const x=parseFloat(l.mean)||0,A=parseFloat(l.stdDev)||0,D=Zd(x,A);let B=0;const V=l.unit||"days";V==="months"?B=D*30*24*60*60*1e3:V==="hours"?B=D*60*60*1e3:V==="minutes"?B=D*60*1e3:B=D*24*60*60*1e3;const j=C.getTime()+B,K=new Date(j);return js(K,e!=="Date")}catch{return"Calc Error"}case"bernoulli":const S=parseFloat(l.p_true||.5);return Math.random()<S;default:return null}}catch(u){return console.error("Error generando valor sinttico:",u),"ERROR"}},Qd=(e,t,r)=>{switch(t){case"options":return e("synthetic.placeholders.options");case"options_weights":return e("synthetic.placeholders.options_weights");case"pattern":return"[A-Z]{2}-[0-9]{4}";case"min":return"0";case"max":return"100";case"mean":return"0";case"stdDev":return"1";case"start":return r==="date_range"||r==="datetime_range"?"2020-01-01":"1";case"end":return"2025-12-31";case"mean_date":return"2023-12-25";case"std_dev_days":return"7";case"percentage_true":return"50";default:return""}},W$=(e,t)=>{switch(t){case"options":return e("synthetic.params.options");case"options_weights":return e("synthetic.params.options_weights");case"pattern":return e("synthetic.params.pattern");case"mean_date":return e("synthetic.params.mean_date");case"std_dev_days":return e("synthetic.params.std_dev_days");case"ref_variable":return e("synthetic.params.ref_variable");case"unit":return e("synthetic.params.unit");case"target_entity":return e("synthetic.params.target_entity");case"target_variable":return e("synthetic.params.target_variable");case"start":return e("synthetic.params.start");default:return t}},$$=Z.memo(({variable:e,config:t,index:r,entity:n,allEntities:i,currentEntityIndex:o,onConfigChange:s,onParamChange:a,onImportWeights:l,onNullToggle:u,t:c,i18n:f,errors:d={}})=>{const h=e.format||e.type||"String",g=kn[h]||kn.String,m=e.catalog?.fileloaded?e.catalog.filename:null,p=Z.useMemo(()=>m?n.variables.filter((T,I)=>I<r&&T.catalog?.fileloaded&&T.catalog.filename===m):[],[n.variables,r,m]);Z.useMemo(()=>{let T=[...g];return p.length>0&&T.unshift({label:{es:" Vincular a Catlogo (Misma Fila)",en:" Link to Catalog (Same Row)"},key:"catalog_link",params:["ref_variable"]}),T},[g,p]);const y=g.find(T=>T.key===t.dist),b=e.catalog_bl&&e.catalog?.fileloaded&&e.catalog?.column_name,v=(t.null_percentage||0)>0,F=T=>{const I=`${e.label}-${T}`,M=!!d[I];if(T==="ref_variable")return t.dist==="catalog_link"?U.jsxs(lr,{sizing:"sm",value:t.params?.[T]||"",onChange:P=>a(e.label,T,P.target.value),className:"text-gray-900 bg-white",color:M?"failure":"gray",helperText:M?U.jsx("span",{className:"font-medium",children:"Requerido"}):null,children:[U.jsx("option",{value:"",children:c("synthetic.select_default")}),p.map(P=>U.jsxs("option",{value:P.label,children:[P.label," (",P.catalog.column_name,")"]},P.label))]}):U.jsxs(lr,{sizing:"sm",value:t.params?.[T]||"",onChange:P=>a(e.label,T,P.target.value),className:"text-gray-900 bg-white",color:M?"failure":"gray",helperText:M?U.jsx("span",{className:"font-medium",children:"Requerido"}):null,children:[U.jsx("option",{value:"",children:c("synthetic.select_default")}),n.variables.filter((P,O)=>{if(O>=r)return!1;const z=e.format||e.type||"String",L=P.format||P.type||"String",_=["Date","Datetime"];return _.includes(z)&&_.includes(L)?!0:z===L}).map(P=>U.jsx("option",{value:P.label,children:P.label},P.label))]});if(T==="pattern")return U.jsxs(U.Fragment,{children:[U.jsx(br,{sizing:"sm",placeholder:Qd(c,T,t.dist),value:t.params?.[T]||"",onChange:P=>a(e.label,T,P.target.value),className:"bg-white font-mono text-xs",color:M?"failure":"gray"}),U.jsx("div",{className:"mt-1.5 flex justify-end",children:U.jsxs("a",{href:"https://www.w3schools.com/jsref/jsref_obj_regexp.asp",target:"_blank",rel:"noopener noreferrer",className:"text-[11px] text-blue-600 hover:text-blue-800 hover:underline flex items-center gap-1 transition-colors",children:[c("synthetic.regex_help")||"JS Regex Docs",U.jsx(vG,{className:"w-3 h-3"})]})})]});if(T==="target_entity")return U.jsxs(lr,{sizing:"sm",value:t.params?.[T]||"",onChange:P=>{a(e.label,T,P.target.value),a(e.label,"target_variable","")},className:"text-gray-900 bg-white",color:M?"failure":"gray",helperText:M?U.jsx("span",{className:"font-medium",children:"Requerido"}):null,children:[U.jsx("option",{value:"",children:c("synthetic.select_entity")}),Array.isArray(i)&&i.filter((P,O)=>O<o).map(P=>U.jsx("option",{value:P.name,children:P.name},P.name))]});if(T==="target_variable"){const P=t.params?.target_entity,O=Array.isArray(i)?i.find(L=>L.name===P):null,z=O?O.variables:[];return U.jsxs(lr,{sizing:"sm",value:t.params?.[T]||"",onChange:L=>a(e.label,T,L.target.value),className:"text-gray-900 bg-white",disabled:!P,color:M?"failure":"gray",helperText:M?U.jsx("span",{className:"font-medium",children:"Requerido"}):null,children:[U.jsx("option",{value:"",children:c("synthetic.select_column")}),z.map(L=>U.jsx("option",{value:L.label,children:L.label},L.label))]})}else return T==="ref_variable"?U.jsxs(lr,{sizing:"sm",value:t.params?.[T]||"",onChange:P=>a(e.label,T,P.target.value),className:"text-gray-900 bg-white",color:M?"failure":"gray",helperText:M?U.jsx("span",{className:"font-medium",children:"Requerido"}):null,children:[U.jsx("option",{value:"",children:c("synthetic.select_default")}),n.variables.filter((P,O)=>{if(O>=r)return!1;const z=e.format||e.type||"String",L=P.format||P.type||"String",_=["Date","Datetime"];return _.includes(z)&&_.includes(L)?!0:z===L}).map(P=>U.jsx("option",{value:P.label,children:P.label},P.label))]}):T==="unit"?U.jsxs(lr,{sizing:"sm",value:t.params?.[T]||"days",onChange:P=>a(e.label,T,P.target.value),className:"text-gray-900 bg-white",children:[U.jsx("option",{value:"days",children:c("synthetic.units.days")}),U.jsx("option",{value:"months",children:c("synthetic.units.months")}),U.jsx("option",{value:"hours",children:c("synthetic.units.hours")}),U.jsx("option",{value:"minutes",children:c("synthetic.units.minutes")})]}):T==="options_weights"?U.jsxs(U.Fragment,{children:[U.jsx(_c,{rows:3,className:"text-xs bg-white resize-none",placeholder:Qd(c,T,t.dist),value:t.params?.[T]||"",onChange:P=>a(e.label,T,P.target.value),color:M?"failure":"gray",helperText:M?U.jsx("span",{className:"font-medium",children:"Requerido"}):null}),U.jsxs("p",{className:"text-[12px] text-green-600 mt-1 font-medium",children:[" ",c("synthetic.catalog_tip_weight")," "]}),U.jsx("p",{className:"text-[11px] text-green-600 mt-1 font-medium",children:c("synthetic.catalog_tip")})]}):U.jsx(br,{sizing:"xs",placeholder:Qd(c,T,t.dist),value:t.params?.[T]||"",onChange:P=>a(e.label,T,P.target.value),className:"bg-white",color:M?"failure":"gray",helperText:M?U.jsx("span",{className:"font-medium",children:"Requerido"}):null})},E=f.language.startsWith("es")?"es":"en";return U.jsxs("div",{className:`p-4 border rounded-lg shadow-sm relative group ${Object.keys(d).some(T=>T.startsWith(e.label))?"bg-red-50 border-red-200":"bg-gray-50"}`,children:[U.jsxs("div",{className:"flex justify-between items-center mb-2",children:[U.jsx("h4",{className:"font-bold text-sm text-gray-800 break-words w-2/3",children:e.label}),U.jsxs("div",{className:"flex gap-1",children:[b&&U.jsx(Yi,{content:c("synthetic.catalog_tooltip"),children:U.jsx("button",{onClick:()=>l(e),className:"p-1 text-blue-600 bg-blue-100 hover:bg-blue-200 rounded border border-blue-200 transition-colors",children:U.jsx(bG,{className:"w-4 h-4"})})}),U.jsx("span",{className:"px-2 py-1 text-xs font-semibold text-gray-800 bg-gray-100 border border-gray-200 rounded-lg",children:h})]})]}),U.jsxs("div",{className:"mb-3",children:[U.jsx(mt,{className:"text-xs text-gray-700 font-semibold",children:c("synthetic.distribution")}),U.jsx(lr,{sizing:"sm",value:t.dist||"",onChange:T=>s(e.label,"dist",T.target.value),className:"text-gray-900 bg-white mt-1",children:g.map(T=>U.jsx("option",{value:T.key,children:T.label[E]||T.label.en},T.key))})]}),y&&y.params.length>0&&U.jsx("div",{className:"grid grid-cols-2 gap-3 bg-white/50 p-3 rounded border border-gray-200 mb-3",children:y.params.map(T=>{const I=["options","options_weights","pattern","ref_variable","target_entity","target_variable"].includes(T);return U.jsxs("div",{className:I?"col-span-2":"col-span-1",children:[U.jsx(mt,{className:`text-xs capitalize mb-1 block ${d[`${e.label}-${T}`]?"text-red-600":"text-gray-700"}`,children:W$(c,T)}),F(T)]},T)})}),U.jsxs("div",{className:"mt-3 pt-3 border-t border-gray-200 flex items-center justify-between",children:[U.jsxs("div",{className:"flex items-center gap-2",children:[U.jsx(By,{id:`nulls-${e.label}`,checked:v,onChange:T=>u(e.label,T.target.checked)}),U.jsx(mt,{htmlFor:`nulls-${e.label}`,className:"text-xs cursor-pointer text-gray-700",children:c("synthetic.allow_nulls")})]}),v&&U.jsxs("div",{className:"flex items-center gap-1 w-24",children:[U.jsx(br,{type:"text",sizing:"xs",placeholder:"0",value:t.null_percentage??"",onChange:T=>{const I=T.target.value;if(I===""){s(e.label,"null_percentage","");return}/^\d*$/.test(I)&&(parseFloat(I.replace(",","."))<=100||I==="100.")&&s(e.label,"null_percentage",I)}}),U.jsx("span",{className:"text-xs text-gray-500",children:"%"})]})]})]})});function U$({show:e,onClose:t,entity:r,allEntities:n=[],onSave:i}){const{t:o,i18n:s}=kr(),[a,l]=Z.useState("es");Z.useEffect(()=>{const _=s.language?.startsWith("es")?"es":"en";l(_)},[s.language]);const u=n.findIndex(_=>_.name===r?.name),c={root:{base:"fixed inset-x-0 top-0 z-50 h-screen overflow-y-auto overflow-x-hidden md:inset-0 md:h-full",show:{on:"flex bg-gray-900/5 backdrop-blur-none",off:"hidden"}},content:{base:"relative h-full w-full p-4 md:h-auto",inner:"relative flex max-h-[90dvh] flex-col rounded-lg bg-white text-gray-900 shadow-2xl"},header:{base:"flex items-start justify-between rounded-t border-b p-5",popup:"p-2 border-b-0",title:"text-xl font-medium text-black dark:text-black",close:{base:"ml-auto inline-flex items-center rounded-lg bg-transparent p-1.5 text-sm text-gray-400 hover:bg-gray-200 hover:text-gray-900",icon:"h-5 w-5"}}},[f,d]=Z.useState({}),[h,g]=Z.useState({}),[m,p]=Z.useState([]),[y,b]=Z.useState(1e3),[v,F]=Z.useState({}),E=(_,R={})=>{const k=_.format||_.type||"String",S=kn[k]||kn.String;let C={dist:S?.[0]?.key||"random_default",params:{},null_percentage:0};const x=R[_.label];return x&&x.dist&&S.find(D=>D.key===x.dist)&&(C={...x,null_percentage:x.null_percentage||0}),C};Z.useEffect(()=>{if(r&&r.variables){const _={};r.variables.forEach(R=>{_[R.label]=E(R,r.synthetic_configuration)}),d(_),g(_),r.synthetic_configuration&&r.synthetic_configuration.row_count?b(r.synthetic_configuration.row_count):b(1e3)}},[r]),Z.useEffect(()=>{const _=setTimeout(()=>{g(f)},800);return()=>clearTimeout(_)},[f]);const T=Z.useCallback((_,R,k)=>{d(S=>({...S,[_]:{...S[_],[R]:k,params:R==="dist"?{}:S[_].params}})),R==="dist"&&F(S=>{const w={...S};return Object.keys(w).forEach(C=>{C.startsWith(`${_}-`)&&delete w[C]}),w})},[]),I=Z.useCallback((_,R,k)=>{d(S=>({...S,[_]:{...S[_],params:{...S[_].params,[R]:k}}})),F(S=>{const w={...S};return delete w[`${_}-${R}`],w})},[]),M=Z.useCallback((_,R)=>{d(k=>({...k,[_]:{...k[_],null_percentage:R?10:0}}))},[]),P=Z.useCallback(_=>{const R=_.catalog;if(!R||!R.rows||!R.column_name)return;const k={};R.rows.forEach(w=>{const C=w[R.column_name];C!=null&&C!==""&&(k[C]=(k[C]||0)+1)});const S=Object.entries(k).map(([w,C])=>`${w}:${C}`).join(", ");d(w=>({...w,[_.label]:{...w[_.label],dist:"categorical_weighted",params:{options_weights:S}}})),F(w=>{const C={...w};return delete C[`${_.label}-options_weights`],C})},[]),O=()=>{const _={...f},R={};let k=!0;if(r&&r.variables&&r.variables.forEach(w=>{let C=_[w.label];C||(C=E(w,r.synthetic_configuration),_[w.label]=C),C.params||(C.params={});const x=w.format||w.type||"String",D=(kn[x]||kn.String).find(B=>B.key===C.dist);if(D&&D.params&&D.params.forEach(B=>{let V=C.params?.[B];(V==null||V==="")&&(B==="unit"?(V="days",C.params[B]=V):B==="start"&&C.dist==="sequence"&&(V="1",C.params[B]=V)),(V==null||V==="")&&(R[`${w.label}-${B}`]=!0,k=!1)}),C){let B=C.null_percentage;typeof B=="string"&&(B=parseFloat(B.replace(",","."))),(isNaN(B)||B<0)&&(B=0),B>100&&(B=100),C.null_percentage=B}}),!k){F(R),Pt.fire({icon:"error",title:"Error",text:o("synthetic.errors.empty_fields"),toast:!0,position:"top-end",timer:3e3,showConfirmButton:!1});return}let S=parseInt(y)||0;S>1e5&&(S=1e5),S<1&&(S=1),_.row_count=S,i(r.id,_)},z=(_,R,k,S=0)=>{if(S>5)return{dist:"random_default",params:{},null_percentage:0};if(_.dist==="foreign_key"){const w=_.params?.target_entity,C=_.params?.target_variable;if(w===r.name)return{dist:"random_default",params:{},null_percentage:0};const x=n.find(D=>D.name===w);if(!x)return{dist:"random_default",params:{},null_percentage:0};const A=x.synthetic_configuration?.[C];return A?z(A,w,C,S+1):{dist:"random_default",params:{},null_percentage:0}}return _};Z.useEffect(()=>{if(!r||!r.variables)return;const _=[],R=30;for(let k=0;k<R;k++){const S={};r.variables.forEach(w=>{let C=h[w.label]||f[w.label];if(C||(C=E(w,r.synthetic_configuration)),C)try{let x=C.dist,A=C.params,D=C.null_percentage||0;if(typeof D=="string"&&(D=parseFloat(D.replace(",","."))||0),C.dist==="foreign_key"){const B=z(C,r.name,w.label);x=B.dist,A=B.params}S[w.label]=KF(w.format||w.type,x,A,S,k,[],D,{entityConfig:r,currentVariable:w})}catch{S[w.label]="Error"}else S[w.label]="-"}),_.push(S)}p(_)},[h,r,n]);const L=_=>{if(_==null)return U.jsx("span",{className:"text-gray-300 italic text-[10px]",children:o("synthetic.null_val")});if(typeof _=="boolean")return _?U.jsx("span",{className:"text-green-600 font-bold text-[10px] bg-green-100 px-1.5 py-0.5 rounded border border-green-200",children:"TRUE"}):U.jsx("span",{className:"text-red-600 font-bold text-[10px] bg-red-100 px-1.5 py-0.5 rounded border border-red-200",children:"FALSE"});if(typeof _=="string"&&/^\d{4}-\d{2}-\d{2}T\d{2}:\d{2}:\d{2}/.test(_)){const k=_.replace("T"," ").substring(0,19);return U.jsx("span",{className:"font-mono text-purple-700 bg-purple-50 px-1 rounded text-xs whitespace-nowrap",children:k})}return _ instanceof Date?_.toISOString().replace("T"," ").substring(0,19):typeof _=="string"&&_.length>30?U.jsxs("span",{title:_,children:[_.substring(0,30),"..."]}):String(_)};return U.jsxs(Qi,{show:e,onClose:t,size:"8xl",theme:c,children:[U.jsxs($o,{className:"bg-white dark:bg-white text-black dark:text-black border-b border-gray-200",children:[o("synthetic.title"),": ",U.jsx("span",{className:"text-blue-600 font-mono",children:r.name})]}),U.jsxs(Wo,{className:"bg-white dark:bg-white",children:[U.jsxs("div",{className:"mb-6 p-4 bg-gray-50 border border-gray-200 rounded-lg flex items-center justify-between",children:[U.jsxs("div",{children:[U.jsx("h5",{className:"text-sm font-bold text-gray-900",children:o("synthetic.volume_title")}),U.jsx("p",{className:"text-xs text-gray-600",children:o("synthetic.volume_desc")})]}),U.jsxs("div",{className:"flex items-center gap-2",children:[U.jsx(mt,{htmlFor:"rowCount",className:"text-sm font-medium",children:o("synthetic.rows_label")}),U.jsx(br,{id:"rowCount",type:"number",min:1,max:1e5,value:y,onChange:_=>{const R=_.target.value;if(R===""){b("");return}const k=parseInt(R,10);isNaN(k)||(k>1e5?b(1e5):k<1?b(1):b(k))},onBlur:()=>{(y===""||y===void 0)&&b(1e3)},className:"w-32",color:y>1e5||y<1?"failure":"gray"}),U.jsx("span",{className:"text-xs text-gray-500",children:o("synthetic.max_rows")})]})]}),U.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-4 gap-6",children:[U.jsx("div",{className:"lg:col-span-1 space-y-4 max-h-[70vh] overflow-y-auto pr-2",children:r.variables.map((_,R)=>U.jsx($$,{index:R,variable:_,entity:r,allEntities:n,currentEntityIndex:u,config:f[_.label]||E(_,r.synthetic_configuration),onConfigChange:T,onParamChange:I,onImportWeights:P,onNullToggle:M,t:o,i18n:s,errors:v},_.label))}),U.jsxs("div",{className:"lg:col-span-3 flex flex-col h-full",children:[U.jsxs("div",{className:"flex justify-between items-center mb-3",children:[U.jsx("h3",{className:"font-semibold text-gray-700",children:o("synthetic.preview_title")}),JSON.stringify(f)!==JSON.stringify(h)&&U.jsxs("span",{className:"text-xs text-amber-600 font-medium animate-pulse flex items-center gap-1",children:[U.jsx("span",{className:"w-2 h-2 rounded-full bg-amber-500"})," ",o("synthetic.processing")]})]}),U.jsx("div",{className:"overflow-x-auto overflow-y-auto max-h-[60vh] border rounded-lg shadow-sm border-gray-200",children:U.jsxs("table",{className:"w-full text-left text-sm bg-white! dark:bg-white!",children:[U.jsx("thead",{className:"bg-gray-50! dark:bg-gray-50! sticky top-0 z-10 text-xs lowercase text-gray-700",children:U.jsx("tr",{children:r.variables.map(_=>U.jsx("th",{className:"whitespace-nowrap bg-gray-50! dark:bg-gray-50! text-gray-900! dark:text-gray-900! font-bold px-4 py-3",children:_.label},_.label))})}),U.jsx("tbody",{className:"divide-y divide-gray-200 bg-white! dark:bg-white!",children:m.map((_,R)=>U.jsx("tr",{className:"bg-white! dark:bg-white! border-gray-200! dark:border-gray-200! text-gray-900! dark:text-gray-900! hover:bg-gray-50! dark:hover:bg-gray-50!",children:r.variables.map(k=>U.jsx("td",{className:"whitespace-nowrap font-mono text-xs text-gray-900! dark:text-gray-900! px-4 py-2",children:L(_[k.label])},k.label))},R))})]})}),U.jsxs("div",{className:"mt-4 p-4 bg-blue-50 text-blue-800 rounded-lg text-sm border border-blue-100 flex items-start gap-2",children:[U.jsx("span",{className:"text-xl",children:""}),U.jsxs("div",{children:[U.jsxs("p",{children:[U.jsx("strong",{children:o("synthetic.note_title")})," ",o("synthetic.note_desc_1")]}),U.jsxs("p",{className:"text-xs mt-1 text-blue-700",children:[o("synthetic.note_desc_2")," ",U.jsx("strong",{children:y.toLocaleString()})," ",o("synthetic.note_desc_3")]})]})]})]})]})]}),U.jsxs(Iu,{className:"bg-white dark:bg-white border-t border-gray-200",children:[U.jsx(pt,{onClick:O,className:"bg-blue-700 hover:bg-blue-800 text-white",children:o("synthetic.save")}),U.jsx(pt,{color:"light",onClick:t,className:"border-gray-300 text-gray-700 hover:bg-gray-100",children:o("synthetic.cancel")})]})]})}CA.registerModules([aH,mC,dF]);const zs=()=>"_"+Math.random().toString(36).substr(2,9),qF=["ALL","ANALYSE","ANALYZE","AND","ANY","ARRAY","AS","ASC","ASYMMETRIC","AUTHORIZATION","BETWEEN","BIGINT","BINARY","BIT","BOOLEAN","BOTH","CASE","CAST","CHAR","CHARACTER","CHECK","COALESCE","COLLATE","COLLATION","COLUMN","CONSTRAINT","CREATE","CROSS","CURRENT_CATALOG","CURRENT_DATE","CURRENT_ROLE","CURRENT_SCHEMA","CURRENT_TIME","CURRENT_TIMESTAMP","CURRENT_USER","DATE","DEC","DECIMAL","DEFAULT","DEFERRABLE","DELETE","DESC","DESCRIBE","DISTINCT","DO","DOUBLE","DROP","ELSE","END","ESCAPE","EXCEPT","EXCLUDE","EXISTS","EXTRACT","FALSE","FETCH","FLOAT","FOR","FOREIGN","FREEZE","FROM","FULL","FUNCTION","GRANT","GROUP","GROUPING","HAVING","HUGEINT","ILIKE","IN","INITIALLY","INNER","INSERT","INT","INTEGER","INTERSECT","INTERVAL","INTO","IS","ISNULL","JOIN","LATERAL","LEADING","LEFT","LIKE","LIMIT","LOCALTIME","LOCALTIMESTAMP","MACRO","MAP","MATCH","MATERIALIZED","MERGE","MINUTE","MODULE","MONTH","NATURAL","NOT","NOTNULL","NULL","NUMERIC","OFFSET","ON","ONLY","OR","ORDER","OUTER","OVER","OVERLAPS","PARTITION","PIVOT","PLACING","POSITION","PRAGMA","PRECISION","PRIMARY","QUALIFY","REAL","REFERENCES","RETURNING","RIGHT","ROW","ROWID","SAMPLE","SELECT","SESSION_USER","SET","SHOW","SIMILAR","SMALLINT","SOME","SORT","STRUCT","SUMMARIZE","SYMMETRIC","TABLE","TABLESAMPLE","THEN","TIME","TIMESTAMP","TIMEZONE_HOUR","TIMEZONE_MINUTE","TINYINT","TO","TRAILING","TRANSACTION","TRUE","TRY_CAST","UBIGINT","UINTEGER","UNION","UNIQUE","UNNEST","UNPIVOT","UPDATE","USER","USING","USMALLINT","UTINYINT","VALUES","VARCHAR","VARIADIC","VIEW","WHEN","WHERE","WINDOW","WITH","YEAR","ZONE"],K$=(e,t)=>e?/\s/.test(e)?t("entities.validation.no_spaces"):qF.includes(e.toUpperCase())?`${t("entities.validation.reserved")}: ${e}`:null:t("entities.validation.required"),q$=({label:e,value:t,onSave:r,maxLength:n,placeholder:i,error:o,helperText:s,...a})=>{t=t.toLowerCase().replace(/\s/g,"");const[l,u]=Z.useState(t||"");return Z.useEffect(()=>{u(t||"")},[t]),U.jsxs("div",{className:"w-full",children:[e&&U.jsx(mt,{className:`mb-2 block ${o?"text-red-700":""}`,children:e}),U.jsx(br,{...a,placeholder:i,value:l,maxLength:n,color:o?"failure":"gray",onChange:c=>u(c.target.value),onBlur:()=>{l!==t&&r(l)}}),U.jsxs("div",{className:"mt-2 flex justify-between text-xs",children:[U.jsx("span",{className:`${o?"text-red-600 font-medium":"text-gray-500"}`,children:o||s}),n&&U.jsxs("span",{className:`${l.length>=n?"text-red-600 font-bold":"text-gray-500"}`,children:[l.length,"/",n]})]})]})},J$=e=>{const{color:t,value:r}=e,n=e.colDef.tooltipComponentParams?.validator,i=n?n(e):null;return i?U.jsxs("div",{className:"rounded-lg bg-red-600 text-white px-3 py-2 text-sm shadow-lg border border-red-700 max-w-xs z-50",children:[U.jsx("strong",{children:"Error:"})," ",i]}):r?U.jsx("div",{className:"rounded-lg bg-gray-800 text-white px-3 py-2 text-sm shadow-lg max-w-sm z-50",children:r}):null},Y$=({index:e,variables:t,isFullscreen:r,onGridReady:n,onCellValueChanged:i,onRowDragEnd:o,onConfigCatalogClick:s,onPasteRow:a,t:l,currentLang:u})=>{const c=Z.useRef(null),f=Z.useRef(null),d=Z.useCallback(T=>T.data.id,[]),h=Z.useMemo(()=>({customTooltip:J$}),[]),g=Z.useMemo(()=>({noRowsToShow:l("entities.grid.no_rows"),loadingOoo:l("entities.grid.loading")}),[l]);Z.useEffect(()=>{const T=I=>{I.target.closest(".ignore-click-outside")||c.current&&!c.current.contains(I.target)&&f.current&&f.current.deselectAll()};return document.addEventListener("mousedown",T),()=>{document.removeEventListener("mousedown",T)}},[]);const m=T=>{f.current=T.api,n(e,T)},p=Z.useMemo(()=>{const T=new Set,I=new Set;return(t||[]).forEach(M=>{const P=M.label?String(M.label).trim():"";P&&(T.has(P)?I.add(P):T.add(P))}),I},[t]),y=T=>{const I=T.value;return I?/\s/.test(I)?l("entities.validation.no_spaces"):qF.includes(I.toUpperCase())?l("entities.validation.reserved"):T.context?.duplicatesSet?.has(I)?l("entities.validation.duplicate"):null:l("entities.validation.required")},b=T=>T.value?null:l("entities.validation.required"),v=Z.useMemo(()=>{const T={String:l("options.formats.string")||"String",Boolean:l("options.formats.boolean")||"Boolean",Date:l("options.formats.date")||"Date",Datetime:l("options.formats.datetime")||"Datetime",Integer:l("options.formats.integer")||"Integer",Double:l("options.formats.double")||"Double"},I={Categorical:l("options.types.categorical")||"Categorical",Numerical:l("options.types.numerical")||"Numerical",Date:l("options.types.date")||"Date"},M={Required:l("options.req.required")||"Required",Recommended:l("options.req.recommended")||"Recommended",Optional:l("options.req.optional")||"Optional"},P={Observed:l("options.char.observed")||"Observed",Calculated:l("options.char.calculated")||"Calculated"};return[{headerName:"",editable:!1,rowDrag:!0,width:50,pinned:"left",cellClass:"cursor-move text-gray-400"},{headerName:l("entities.grid.label"),field:"label",editable:!0,pinned:"left",width:200,cellEditorParams:{maxLength:50},cellClassRules:{"bg-red-50 border-l-4 border-red-500 text-red-900 font-medium":O=>y(O)!==null},tooltipField:"label",tooltipComponent:"customTooltip",tooltipComponentParams:{validator:y},valueParser:O=>O.newValue?O.newValue.toLowerCase().replace(/\s/g,""):O.newValue},{headerName:l("entities.grid.group_core"),children:[{headerName:l("entities.grid.desc"),field:"description",cellEditor:"agLargeTextCellEditor",cellEditorPopup:!0,width:300,cellEditorParams:{maxLength:500},wrapText:!0,cellClassRules:{"bg-red-50 border-l-4 border-red-500 text-red-900 font-medium":O=>b(O)!==null},tooltipField:"description",tooltipComponent:"customTooltip",tooltipComponentParams:{validator:b}},{headerName:l("entities.grid.class"),field:"standard_classification",width:150},{headerName:l("entities.grid.format"),field:"format",width:120,cellEditor:"agSelectCellEditor",cellEditorParams:{values:Object.keys(T)},refData:T},{headerName:l("entities.grid.type"),field:"type",width:120,cellEditor:"agSelectCellEditor",cellEditorParams:{values:Object.keys(I)},refData:I},{headerName:l("entities.grid.units"),field:"units",width:100},{headerName:l("entities.grid.req"),field:"requirement_level",width:130,cellEditor:"agSelectCellEditor",cellEditorParams:{values:Object.keys(M)},refData:M},{headerName:l("entities.grid.char"),field:"characteristic",width:130,editable:!0,cellEditor:"agSelectCellEditor",cellEditorParams:{values:Object.keys(P)},refData:P}]},{headerName:l("entities.grid.group_catalog"),children:[{headerName:l("entities.grid.cat_bl"),field:"catalog_bl",width:100,cellEditor:"agSelectCellEditor",cellEditorParams:{values:[!0,!1]},valueFormatter:O=>O.value?l("common.yes"):l("common.no")},{headerName:l("entities.grid.cat_conf"),field:"catalog_edit",editable:!1,width:140,cellRenderer:O=>U.jsx("div",{className:"flex items-center justify-center h-full w-full",children:U.jsx(pt,{size:"xs",disabled:!O.data.catalog_bl,color:O.data.catalog_bl?"info":"light",onClick:()=>s(e,O),children:l("entities.btn_config")})})},{headerName:l("entities.grid.fileloaded"),field:"catalog.fileloaded",editable:!1,width:100,cellEditor:"agSelectCellEditor",valueFormatter:O=>O.value?l("common.yes"):l("common.no")},{headerName:l("entities.grid.file"),field:"catalog.filename",editable:!1,width:120,tooltipField:"catalog.filename",tooltipComponent:"customTooltip",wrapText:!0},{headerName:l("entities.grid.col"),field:"catalog.column_name",editable:!1,width:120,wrapText:!0}]},{headerName:l("entities.grid.group_add"),children:[{headerName:l("entities.grid.trans"),field:"transformations_from_origin",editable:!0,cellEditor:"agLargeTextCellEditor",cellEditorPopup:!0,wrapText:!0,autoHeight:!0,width:200,cellEditorParams:{maxLength:500}},{headerName:l("entities.grid.source"),field:"possible_data_source",editable:!0,cellEditor:"agLargeTextCellEditor",cellEditorPopup:!0,wrapText:!0,autoHeight:!0,width:200,cellEditorParams:{maxLength:500}},{headerName:l("entities.grid.obs"),field:"observations_comments",editable:!0,cellEditor:"agLargeTextCellEditor",cellEditorPopup:!0,wrapText:!0,autoHeight:!0,width:300,cellEditorParams:{maxLength:500}},{headerName:l("entities.grid.ex"),field:"examples",editable:!0,cellEditor:"agLargeTextCellEditor",cellEditorPopup:!0,wrapText:!0,autoHeight:!0,width:200,cellEditorParams:{maxLength:500}}]}]},[e,s,l,u]),F=Z.useMemo(()=>({sortable:!1,resizable:!0,editable:!0,cellStyle:{whiteSpace:"normal",lineHeight:"1.5",paddingTop:"8px",paddingBottom:"8px",display:"flex",alignItems:"center"}}),[]),E=Z.useCallback(T=>{const I=T.event,M=I.key.toLowerCase(),P=I.ctrlKey||I.metaKey;if(I.altKey&&M==="c"){if(I.preventDefault(),I.stopPropagation(),navigator.clipboard&&navigator.clipboard.writeText){const z=JSON.stringify(T.data);navigator.clipboard.writeText(z).then(()=>{Pt.fire({toast:!0,icon:"success",title:l("entities.alerts.row_copied"),position:"top-end",timer:1500,showConfirmButton:!1})}).catch(console.error)}return}if(P&&M==="v"){if(!navigator.clipboard||!navigator.clipboard.readText)return;navigator.clipboard.readText().then(z=>{if(!z)return;let L=!1;try{if(z.trim().startsWith("{")){const _=JSON.parse(z);if(_&&typeof _=="object"&&"label"in _){const{id:R,...k}=_;a(e,k),L=!0}}}catch{}!L&&T.colDef&&T.colDef.editable&&T.node.setDataValue(T.column.colId,z)}).catch(console.error)}},[e,a,l]);return U.jsxs("div",{ref:c,className:"ag-theme-alpine overflow-hidden transition-all duration-200",style:{width:"100%",height:r?"90%":450},children:[U.jsx("style",{children:`
                .ag-theme-alpine .ag-row-selected {
                    background-color: transparent !important;
                    border: 2px solid #3b82f6 !important;
                    z-index: 10 !important;
                }
                .ag-theme-alpine .ag-row-selected::before {
                    display: none !important;
                }
                .ag-theme-alpine .ag-cell-focus {
                    border: none !important;
                }
                .ag-theme-alpine .ag-cell {
                    border-right: 1px solid #dde2eb !important;
                }
                .bg-red-50 {
                    background-color: #fef2f2 !important;
                }
                .ag-theme-alpine .ag-popup {
                    z-index: 100 !important; 
                    overflow: visible;
                }
                .ag-large-text-input-wrapper {
                    z-index: 101 !important;
                }
            `}),U.jsx(ff,{theme:"legacy",localeText:g,onGridReady:m,rowData:t,columnDefs:v,defaultColDef:F,components:h,context:{duplicatesSet:p},rowBuffer:25,debounceVerticalScrollbar:!0,rowSelection:{mode:"singleRow",checkboxes:!1,enableClickSelection:!0},animateRows:!0,getRowId:d,onCellKeyDown:E,suppressClipboardPaste:!0,enableCellTextSelection:!0,rowHeight:r?60:48,onCellValueChanged:T=>{T.colDef.field==="label"&&T.api.refreshCells({columns:["label"]}),T.colDef.field==="description"&&T.api.refreshCells({columns:["description"]}),i(e,T)},onRowDragEnd:T=>o(e,T)})]})},L0=Z.memo(Y$,(e,t)=>e.variables===t.variables&&e.isFullscreen===t.isFullscreen&&e.currentLang===t.currentLang);function Z$(){const{formData:e,updateForm:t}=Di(),{t:r,i18n:n}=kr(),[i,o]=Z.useState([]),[s,a]=Z.useState(null),[l,u]=Z.useState(null),[c,f]=Z.useState({open:!1,rowIndex:null,params:null}),[d,h]=Z.useState(null),g=Z.useRef({}),m=Z.useRef(!1);Z.useEffect(()=>{if(m.current){m.current=!1;return}const C=(Array.isArray(e?.entities)?e.entities:Object.values(e?.entities||[])).map(x=>({...x,id:x.id||zs(),time_varying:x.time_varying??!1,variables:x.variables?x.variables.map(A=>({...A,id:A.id||zs()})):[]}));o(C)},[e.entities]);const p=w=>{m.current=!0,o(w),t("entities",structuredClone(w))},y=Z.useCallback((w,C)=>{g.current[w]=C},[]),b=Z.useCallback((w,C)=>{o(x=>{const A=[...x];let D={...A[w]};const B=[...D.variables];let V={...D.synthetic_configuration||{}},j={...C.data};const K=C.colDef.field;if(K==="label"){const G=C.oldValue,Y=C.newValue;G&&V[G]&&delete V[G],Y&&(V[Y]={dist:"random_default",params:{},null_percentage:0})}if(K==="type"||K==="format"){const G=j.label;G&&(V[G]={dist:"random_default",params:{},null_percentage:0})}return K==="catalog_bl"&&C.newValue===!1&&(j.catalog=null),B[C.node.rowIndex]=j,D.variables=B,D.synthetic_configuration=V,A[w]=D,m.current=!0,t("entities",structuredClone(A)),K==="catalog_bl"&&C.newValue===!1&&(C.node.setData(j),C.api.refreshCells({rowNodes:[C.node],force:!0})),A})},[t]),v=(w,C)=>{o(x=>{const A=x.map(D=>D.id===w?{...D,time_varying:C}:D);return m.current=!0,t("entities",structuredClone(A)),A})},F=Z.useCallback((w,C)=>{o(x=>{const A=[...x],D=[...A[w].variables],B=C.node.data;return D.splice(C.node.rowIndex,1),D.splice(C.overIndex,0,B),A[w]={...A[w],variables:D},m.current=!0,t("entities",structuredClone(A)),A})},[t]),E=async w=>{const C=i.find(A=>A.id===w)?.name||"Sin nombre";(await Pt.fire({title:`${r("entities.alerts.delete_entity")} "${C}"?`,text:r("entities.alerts.delete_entity_text"),icon:"warning",showCancelButton:!0,confirmButtonColor:"#d33",cancelButtonColor:"#3085d6",confirmButtonText:r("entities.alerts.confirm_btn"),cancelButtonText:r("entities.alerts.cancel_btn")})).isConfirmed&&(o(A=>{const D=A.filter(B=>B.id!==w);return m.current=!0,t("entities",structuredClone(D)),D}),l!==null&&i[l]?.id===w&&u(null),await Pt.fire(r("entities.alerts.deleted"),r("entities.alerts.delete_success"),"success"))},T=(w,C)=>{o(x=>{const A=x.map(D=>D.id===w?{...D,name:C}:D);return m.current=!0,t("entities",structuredClone(A)),A})},I=async(w,C)=>{o(x=>{const A=x.map(D=>D.id===w?{...D,synthetic_configuration:C}:D);return m.current=!0,t("entities",structuredClone(A)),A}),h(null),await Pt.fire({icon:"success",title:r("entities.alerts.synthetic_saved")||"Configuracin guardada",toast:!0,position:"top-end",showConfirmButton:!1,timer:2e3})},M=()=>{const w={id:zs(),name:"",time_varying:!1,variables:[],rules:[]},C=[...i,w];p(C)},P=w=>{const C={id:zs(),label:"",description:"",standard_classification:"",format:"String",type:"Categorical",units:"",requirement_level:"Required",characteristic:"Observed",catalog_bl:!1,transformations_from_origin:"",possible_data_source:"",observations_comments:"",examples:"",catalog:null};o(x=>{const A=[...x],D={...A[w]};return D.variables=[...D.variables,C],A[w]=D,m.current=!0,t("entities",structuredClone(A)),A})},O=w=>{const C=g.current[w]?.api;if(!C)return;const x=C.getSelectedNodes();if(!x.length)return Pt.fire(r("entities.alerts.select_row"));Pt.fire({title:r("entities.alerts.delete_var_title"),showCancelButton:!0,confirmButtonColor:"#d33",confirmButtonText:r("entities.alerts.delete_btn"),cancelButtonText:r("entities.alerts.cancel_btn")}).then(A=>{if(A.isConfirmed){const D=x[0].rowIndex;o(B=>{const V=[...B],j={...V[w]},K=[...j.variables],G=K[D].label;let Y={...j.synthetic_configuration||{}};return G&&Y[G]&&(delete Y[G],j.synthetic_configuration=Y),K.splice(D,1),j.variables=K,V[w]=j,m.current=!0,t("entities",structuredClone(V)),V})}})},z=Z.useCallback((w,C)=>{o(x=>{const A=[...x],D={...A[w]},B={...C,id:zs()};return D.variables=[...D.variables,B],A[w]=D,t("entities",structuredClone(A)),A}),setTimeout(()=>{const x=g.current[w]?.api;if(x){const A=i[w]?.variables.length||0;x.ensureIndexVisible(A)}},100)},[i,t]),L=()=>f({open:!1,rowIndex:null,params:null}),_=w=>{const C=w.target.files[0];C&&Ba.parse(C,{header:!0,skipEmptyLines:!0,complete:x=>{const A=x.meta.fields||[],D=x.data||[],B=l!==null?l:s,V=c.rowIndex,j=[...i],K={...j[B]},G=[...K.variables],Y={...G[V]};Y.catalog={filename:C.name,fileloaded:!0,header:A,rows:D,column_name:""},Y.csvColumns&&delete Y.csvColumns,G[V]=Y,K.variables=G,j[B]=K,p(j),c.params?.api&&c.params.api.refreshCells(),Pt.fire({toast:!0,icon:"success",title:r("cohort.file_loaded")||"Fichero cargado",position:"top-end",showConfirmButton:!1,timer:2e3})},error:x=>{console.error(x),Pt.fire({icon:"error",title:"Error",text:"Error al leer CSV"})}})},R=w=>{const C=w.target.value,x=l!==null?l:s,A=c.rowIndex,D=[...i];D[x].variables[A].catalog||(D[x].variables[A].catalog={header:[]}),D[x].variables[A].catalog.column_name=C,p(D),c.params?.api&&c.params.api.refreshCells()},k=Z.useCallback(w=>{const C=g.current[w]?.api;if(!C)return;const x=C.getSelectedNodes();if(!x||x.length===0)return Pt.fire({icon:"warning",title:r("entities.alerts.select_row")||"Selecciona una fila primero",toast:!0,position:"top-end",showConfirmButton:!1,timer:2e3});const A=x[0].data;navigator.clipboard&&navigator.clipboard.writeText&&navigator.clipboard.writeText(JSON.stringify(A)).then(()=>{Pt.fire({toast:!0,icon:"success",title:r("entities.alerts.row_copied"),position:"top-end",timer:1500,showConfirmButton:!1})}).catch(console.error)},[r]),S=Z.useCallback(async w=>{if(!(!navigator.clipboard||!navigator.clipboard.readText))try{const C=await navigator.clipboard.readText();if(!C)return;if(C.trim().startsWith("{")){const x=JSON.parse(C);if(x&&typeof x=="object"&&"label"in x){const{id:A,...D}=x;z(w,D),Pt.fire({toast:!0,icon:"success",title:"Fila pegada correctamente",position:"top-end",timer:1500,showConfirmButton:!1})}else throw new Error("Formato invlido")}}catch{Pt.fire({toast:!0,icon:"error",title:"El portapapeles no contiene una fila vlida",position:"top-end",timer:2e3,showConfirmButton:!1})}},[z]);return U.jsxs("div",{className:"w-full min-h-screen p-10",children:[U.jsxs(Cf,{color:"#F5C75D",icon:Rh,className:"mb-6 border-l-4 border-vpm-blue bg-[#FED56D] hover:bg-[#F5C75D] focus:ring-0 dark:bg-[#FED56D] dark:text-black dark:hover:bg-[#F5C75D] text-vpm-black",children:[U.jsx("span",{className:"font-medium",children:r("entities.alert.title")}),U.jsxs("ul",{className:"mt-1.5 ml-4 list-disc list-inside text-sm text-vpm-gray",children:[U.jsx("li",{children:r("entities.alert.p1")}),U.jsx("li",{children:r("entities.alert.p2")}),U.jsx("li",{children:r("entities.alert.p3")})]})]}),U.jsx("h1",{className:"text-4xl font-bold mb-10 border-b pb-4",children:r("entities.title")}),U.jsx("div",{className:"mb-6",children:U.jsx(pt,{className:"bg-[#4D76B2]! hover:bg-[#3C64A3]!",onClick:M,children:r("entities.btn_add_entity")})}),U.jsx("div",{className:"flex flex-col gap-12",children:i.map((w,C)=>{const x=K$(w.name,r);return U.jsxs("div",{id:w.id,className:"border-b pb-8 border-gray-200",children:[U.jsxs("div",{className:"flex flex-row items-start gap-6 mb-9 w-full",children:[U.jsx("div",{className:"w-1/3 min-w-[300px]",children:U.jsx(q$,{label:r("entities.entity_name_label"),value:w.name,placeholder:r("entities.entity_name_ph"),maxLength:50,error:x,onSave:A=>T(w.id,A)})}),U.jsxs("div",{className:"p-3 bg-gray-50w-fit",children:[U.jsx(mt,{className:"mb-2 block font-semibold text-gray-700 text-sm",children:r("entities.grid.is_time_varying")||"Time-varying?"}),U.jsxs("div",{className:"flex items-center gap-4",children:[U.jsxs("div",{className:"flex items-center gap-2",children:[U.jsx(da,{id:`tv-no-${w.id}`,name:`time_varying_${w.id}`,value:"false",checked:!w.time_varying,onChange:()=>v(w.id,!1),className:"text-blue-600 focus:ring-blue-500 cursor-pointer"}),U.jsx(mt,{htmlFor:`tv-no-${w.id}`,className:"cursor-pointer text-sm font-medium text-gray-700",children:r("common.no")})]}),U.jsxs("div",{className:"flex items-center gap-2",children:[U.jsx(da,{id:`tv-yes-${w.id}`,name:`time_varying_${w.id}`,value:"true",checked:w.time_varying,onChange:()=>v(w.id,!0),className:"text-blue-600 focus:ring-blue-500 cursor-pointer"}),U.jsx(mt,{htmlFor:`tv-yes-${w.id}`,className:"cursor-pointer text-sm font-medium text-gray-700",children:r("common.yes")})]})]}),w.time_varying&&U.jsxs("div",{className:"mt-2 text-xs text-blue-800 bg-blue-50 border border-blue-200 p-2 rounded flex items-start gap-2 max-w-md animate-fadeIn",children:[U.jsx(Rh,{className:"w-4 h-4 flex-shrink-0 mt-0.5 text-blue-600"}),U.jsx("span",{className:"leading-tight",children:r("entities.grid.time_varying_msg")||"Las entidades temporales pueden cambiar con el tiempo. Recuerde aadir una variable 'periodo'."})]})]}),U.jsx("div",{className:"ml-auto mt-8",children:U.jsx(pt,{size:"sm",className:"bg-[#D64545]! hover:bg-[#b03939]!",onClick:()=>E(w.id),children:r("entities.btn_del_entity")})})]}),U.jsxs("div",{className:"flex justify-between mb-5 items-center",children:[U.jsxs("div",{className:"flex gap-2 items-center",children:[U.jsx(CG,{className:"w-8 h-8 text-[#3C64A3] cursor-pointer hover:scale-110 transition-transform",onClick:()=>u(C),title:r("entities.fullscreen")}),U.jsx(pt,{size:"sm",className:"bg-[#FED56D]! hover:bg-[#F5C75D]! text-[#1D1D1B] ignore-click-outside",onClick:()=>P(C),children:r("entities.btn_add_var")}),U.jsx(pt,{size:"sm",className:"bg-[#D64545]! hover:bg-[#b03939]! ignore-click-outside",onClick:()=>O(C),children:r("entities.btn_del_row")})]}),U.jsx("div",{children:U.jsxs(pt,{size:"xs",color:"light",onClick:()=>h(w),title:r("entities.btn_synthetic_tooltip")||"Configurar datos sintticos",children:[U.jsx(kG,{className:"w-5 h-5 text-white"})," ",r("synthetic.button")]})})]}),l===null&&U.jsx(L0,{index:C,variables:w.variables,isFullscreen:!1,onGridReady:y,onCellValueChanged:b,onRowDragEnd:F,onConfigCatalogClick:(A,D)=>{f({open:!0,rowIndex:D.node.rowIndex,params:D}),a(A)},onPasteRow:z,t:r,currentLang:n.language}),U.jsxs("div",{className:"mt-2 flex justify-between items-start gap-4",children:[U.jsxs(jr,{className:"flex-1",children:[r("entities.helper_warn")," ",U.jsx("br",{}),r("entities.helper_tip")]}),U.jsxs("div",{className:"flex gap-2",children:[U.jsxs(pt,{size:"xs",className:"ignore-click-outside",color:"light",onClick:()=>k(C),title:"Copiar fila seleccionada (Ctrl+Alt+C)",children:[U.jsx(E0,{className:"mr-2 h-4 w-4"}),r("common.copy_row")||"Copiar Fila"]}),U.jsxs(pt,{size:"xs",className:"ignore-click-outside",color:"light",onClick:()=>S(C),title:"Pegar fila del portapapeles (Ctrl+V)",children:[U.jsx(k0,{className:"mr-2 h-4 w-4"}),r("common.paste_row")||"Pegar Fila"]})]})]})]},w.id)})}),U.jsx("div",{className:"mt-10 mb-20",children:U.jsx("div",{className:"mb-6",children:U.jsx(pt,{className:"bg-[#4D76B2]! hover:bg-[#3C64A3]!",onClick:M,children:r("entities.btn_add_entity")})})}),l!==null&&U.jsxs("div",{className:"fixed top-0 left-0 w-full h-full bg-white z-50 p-5 flex flex-col",children:[U.jsxs("div",{className:"flex justify-between items-center mb-4 border-b pb-2",children:[U.jsxs("h2",{className:"text-2xl font-semibold text-[#4D76B2]",children:[r("entities.editing"),": ",i[l]?.name||r("common.unknown_entity")]}),U.jsxs("div",{className:"flex gap-2",children:[U.jsxs(pt,{size:"sm",color:"light",className:"ignore-click-outside",onClick:()=>k(l),title:r("common.copy_row"),children:[U.jsx(E0,{className:"mr-2 h-4 w-4"}),r("common.copy_row")]}),U.jsxs(pt,{size:"sm",className:"ignore-click-outside",color:"light",onClick:()=>S(l),title:r("common.paste_row"),children:[U.jsx(k0,{className:"mr-2 h-4 w-4"}),r("common.paste_row")]}),U.jsx(pt,{size:"sm",className:"bg-[#FED56D]! hover:bg-[#F5C75D]! text-[#1D1D1B] ignore-click-outside",onClick:()=>P(l),children:r("entities.btn_add_var")}),U.jsx(pt,{size:"sm",className:"bg-[#D64545]! hover:bg-[#b03939]! ignore-click-outside",onClick:()=>O(l),children:r("entities.btn_del_row")}),U.jsx(pt,{color:"gray",onClick:()=>u(null),children:r("entities.btn_close")})]})]}),U.jsx("div",{className:"flex-1",children:i[l]&&U.jsx(L0,{index:l,variables:i[l].variables,isFullscreen:!0,onGridReady:y,onCellValueChanged:b,onRowDragEnd:F,onConfigCatalogClick:(w,C)=>{f({open:!0,rowIndex:C.node.rowIndex,params:C}),a(w)},onPasteRow:z,t:r,currentLang:n.language})})]}),c.open&&U.jsx("div",{className:"fixed inset-0 bg-black/40 backdrop-blur-sm flex items-center justify-center z-[60]",onClick:L,children:U.jsxs("div",{className:"bg-white p-8 rounded-lg shadow-2xl w-[500px] space-y-6",onClick:w=>w.stopPropagation(),children:[U.jsx("h2",{className:"text-xl font-bold border-b pb-2",children:r("entities.csv.title")}),U.jsxs("div",{children:[U.jsx(mt,{value:r("entities.csv.step1"),className:"mb-2 block font-semibold"}),U.jsx(ca,{onChange:_,accept:".csv"})]}),U.jsxs("div",{children:[U.jsx(mt,{value:r("entities.csv.step2"),className:"mb-2 block font-semibold"}),(()=>{const C=i[l!==null?l:s]?.variables[c.rowIndex],x=C?.catalog?.header||[],A=C?.catalog?.column_name;return U.jsxs(lr,{size:"md",value:A||"",onChange:R,disabled:x.length===0,children:[U.jsx("option",{value:"",children:r("entities.csv.select_default")}),x.map((D,B)=>U.jsx("option",{value:D,children:D},B))]},`catalog-sel-${x.length}`)})()]}),U.jsx("div",{className:"flex justify-end gap-2 pt-4 border-t",children:U.jsx(pt,{color:"gray",onClick:L,children:r("entities.csv.btn_finish")})})]})}),d&&U.jsx(U$,{show:!0,entity:d,allEntities:Object.values(e.entities||{}),onClose:()=>h(null),onSave:I})]})}const On={getRandomOperator:()=>{const e=["=","!=",">","<",">=","<="];return e[Math.floor(Math.random()*e.length)]},getRandomInt:(e=80)=>Math.floor(Math.random()*(e+1)),getRandomFloat:(e=1e3)=>(Math.random()*e).toFixed(2),getRandomString:()=>Math.random().toString(36).substring(2,12),getCurrentDate:()=>new Date().toISOString().split("T")[0],getCurrentDateTime:()=>{const e=new Date,t=e.toISOString().split("T")[0],r=e.toTimeString().split(" ")[0];return`${t} ${r}`}},X$=e=>{const t=`The expressions of the different rules follow the syntax of the SQL OLAP database 
      management system called DuckDB. For more information, visit https://duckdb.org/docs/sql/introduction. 
      Keep in mind that you only have to declare as a rule the statement that would follow a WHERE clause. 
      e.g.,  Select * from people WHERE {expression}
      expression = age >= 18
      `,r=[];return!e||e.length===0?r.push({name:"example_rule",description:"Generic rule (no variables defined)",expression:"column_name IS NOT NULL"}):e.forEach(n=>{let i={name:n.label,description:`Rule for column '${n.label}'`,expression:""};switch(n.format){case"Integer":i.expression=`${n.label} ${On.getRandomOperator()} ${On.getRandomInt(80)}`,r.push(i);break;case"Double":i.expression=`${n.label} ${On.getRandomOperator()} ${On.getRandomFloat(1e3)}`,r.push(i);break;case"String":i.expression=`${n.label} = '${On.getRandomString()}'`,r.push(i);break;case"Date":i.expression=`${n.label} ${On.getRandomOperator()} '${On.getCurrentDate()}'`,r.push(i);break;case"Datetime":i.expression=`${n.label} ${On.getRandomOperator()} '${On.getCurrentDateTime()}'`,r.push(i);break;default:i.expression=`${n.label} IS NOT NULL`,r.push(i);break}}),{description:t,rules:r}},JF=(e,t)=>{if(!e||e.length===0)return"";const r=i=>{if(!i)return"unknown";let o=i.toString().replace(/[^a-zA-Z0-9_]/g,"_");return/^[0-9]/.test(o)&&(o="v"+o),o};let n=`erDiagram
`;if(e.forEach(i=>{const o=r(i.name);n+=`  ${o} {
`,i.variables&&i.variables.length>0?i.variables.forEach(s=>{const a=r(s.format||"string"),l=r(s.label);n+=`    ${a} ${l}
`}):n+=`    string no_vars
`,n+=`  }
`}),t&&t.length>0){const i={};t.forEach(o=>{if(!o.left_entity||!o.right_entity)return;const s=r(o.left_entity),a=r(o.right_entity),l=`${s}-${a}`;if(!i[l]){let c="||--o{";const f=(o.join_type||"").toLowerCase();f.includes("inner")?c="||--||":f.includes("left")?c="||--o{":f.includes("right")?c="}o--||":f.includes("full")&&(c="}o--o{"),i[l]={left:s,right:a,arrow:c,labels:[]}}const u=`${r(o.left_column)}_FK_${r(o.right_column)}`;i[l].labels.push(u)}),Object.values(i).forEach(o=>{const s=o.labels.join(", ");n+=`  ${o.left} ${o.arrow} ${o.right} : "${s}"
`})}return n},Q$=({entities:e,relationships:t})=>{const{t:r}=kr(),[n,i]=Z.useState(""),[o,s]=Z.useState(!1);Z.useEffect(()=>{const l=JF(e,t);i(l)},[e,t]);const a=()=>{navigator.clipboard.writeText(n),s(!0),setTimeout(()=>s(!1),2e3)};return n?U.jsx("div",{className:"mt-4",children:U.jsxs(Yo,{className:"bg-white dark:bg-white shadow-sm dark:border-gray-200",children:[U.jsxs("div",{className:"flex justify-between items-center border-b pb-3 mb-2",children:[U.jsx("h5",{className:"text-sm font-bold text-gray-700",children:r("mermaid.title")||"Mermaid Code (ER Model)"}),U.jsxs("div",{className:"flex gap-2",children:[U.jsxs("a",{href:"https://mermaid.live/",target:"_blank",rel:"noopener noreferrer",className:"text-xs flex items-center text-blue-600 hover:underline mr-4",children:[U.jsx(bE,{className:"mr-1"}),r("mermaid.online_editor")||"Online editor"]}),U.jsx(pt,{size:"xs",color:o?"success":"light",onClick:a,children:o?U.jsxs(U.Fragment,{children:[U.jsx(dE,{className:"mr-2 h-4 w-4"}),r("mermaid.copied")||"Copied"]}):U.jsxs(U.Fragment,{children:[U.jsx(hE,{className:"mr-2 h-4 w-4"}),r("mermaid.copy")||"Copy"]})})]})]}),U.jsx("div",{className:"relative",children:U.jsx("pre",{className:"p-4 bg-gray-900 text-white text-xs font-mono rounded-lg overflow-auto max-h-60 whitespace-pre",children:n})})]})}):null},YF=()=>Math.random().toString(36).substr(2,9),N0=e=>(Array.isArray(e)?e:Object.values(e||[])).map(r=>({...r,_uiId:YF()})),ZF=e=>e.map(({_uiId:t,...r})=>r),eU=(e,t)=>{const r=ZF(t);return JSON.stringify(e)===JSON.stringify(r)},tU=e=>{const t=X$(e.variables||[]),r="data:text/json;charset=utf-8,"+encodeURIComponent(JSON.stringify(t,null,2)),n=document.createElement("a");n.setAttribute("href",r),n.setAttribute("download",`plantilla_${e?.name||"reglas"}.json`),document.body.appendChild(n),n.click(),n.remove()};function rU(){const{formData:e,updateForm:t}=Di(),{t:r}=kr(),n=Z.useMemo(()=>{const F=e?.entities;return F?Array.isArray(F)?F:Object.values(F):[]},[e.entities]),[i,o]=Z.useState(!1),[s,a]=Z.useState(null),[l,u]=Z.useState(""),c=Z.useRef(!1),[f,d]=Z.useState(()=>N0(e?.relationships));Z.useEffect(()=>{const F=Array.isArray(e?.relationships)?e.relationships:Object.values(e?.relationships||[]);if(c.current){c.current=!1;return}eU(F,f)||d(N0(F))},[e.relationships]),Z.useEffect(()=>{if(f.length===0&&(!e?.relationships||e.relationships.length===0))return;const F=ZF(f),E=Array.isArray(e?.relationships)?e.relationships:[];JSON.stringify(F)!==JSON.stringify(E)&&t("relationships",F)},[f]);const h=()=>{c.current=!0,d(F=>[...F,{_uiId:YF(),left_entity:"",right_entity:"",join_type:"LEFT JOIN",left_column:"",right_column:""}])},g=F=>{c.current=!0,d(E=>E.filter(T=>T._uiId!==F))},m=(F,E,T)=>{c.current=!0,d(I=>I.map(M=>{if(M._uiId!==F)return M;const P={...M,[E]:T};return E==="left_entity"&&(P.left_column=""),E==="right_entity"&&(P.right_column=""),P}))},p=(F,E)=>{const T=F.target.files[0];if(!T)return;const I=new FileReader;I.onload=M=>{try{const P=JSON.parse(M.target.result);let O=[];if(P&&Array.isArray(P.rules))O=P.rules;else if(Array.isArray(P))O=P;else throw new Error("Formato no reconocido");const z=structuredClone(n);z[E].rules=O,t("entities",z),Pt.fire({toast:!0,icon:"success",title:r("relations.alerts.rules_imported_count",{count:O.length}),position:"top-end",showConfirmButton:!1,timer:2e3})}catch{Pt.fire({icon:"error",title:r("relations.alerts.invalid_json"),text:r("relations.alerts.json_format_error")})}},I.readAsText(T),F.target.value=null},y=F=>{if(!window.confirm(r("relations.alerts.delete_confirm")))return;const E=structuredClone(n);E[F].rules=[],t("entities",E)},b=F=>{u(F.name),a(F.rules||[]),o(!0)},v=["LEFT JOIN","INNER JOIN","RIGHT JOIN","FULL JOIN"];return U.jsxs("div",{className:"w-full min-h-screen p-10",children:[U.jsx("h1",{className:"text-4xl font-bold mb-10 border-b pb-4",children:r("relations.title_relations")}),U.jsx(pt,{onClick:h,size:"sm",className:"mt-6 mb-10 bg-[#4D76B2]! hover:bg-[#3C64A3]!",children:r("relations.btn_add_rel")}),U.jsx("div",{className:"flex flex-col gap-4",children:f.map(F=>{const T=n.find(P=>P.name===F.left_entity)?.variables||[],M=n.find(P=>P.name===F.right_entity)?.variables||[];return U.jsx(Yo,{className:"mb-2 bg-white dark:bg-white shadow-sm dark:border-gray-200",children:U.jsxs("div",{className:"flex flex-row items-end gap-4 w-full",children:[U.jsxs("div",{className:"flex-1 min-w-[120px]",children:[U.jsx(mt,{className:"mb-2 block font-medium truncate",children:r("relations.left_ent")}),U.jsxs(lr,{size:"sm",value:F.left_entity||"",onChange:P=>m(F._uiId,"left_entity",P.target.value),children:[U.jsx("option",{value:"",children:r("relations.select_opt")}),n.map(P=>U.jsx("option",{value:P.name,children:P.name},P.id||P.name))]})]}),U.jsxs("div",{className:"flex-1 min-w-[120px]",children:[U.jsx(mt,{className:"mb-2 block font-medium truncate",children:r("relations.left_col")}),U.jsxs(lr,{size:"sm",value:F.left_column||"",onChange:P=>m(F._uiId,"left_column",P.target.value),disabled:!F.left_entity,children:[U.jsx("option",{value:"",children:r("relations.select_opt")}),T.map((P,O)=>U.jsx("option",{value:P.label,children:P.label},O))]})]}),U.jsxs("div",{className:"w-32 min-w-[100px]",children:[U.jsx(mt,{className:"mb-2 block font-medium truncate",children:r("relations.join_type")}),U.jsx(lr,{size:"sm",value:F.join_type,onChange:P=>m(F._uiId,"join_type",P.target.value),children:v.map(P=>U.jsx("option",{value:P,children:P},P))})]}),U.jsxs("div",{className:"flex-1 min-w-[120px]",children:[U.jsx(mt,{className:"mb-2 block font-medium truncate",children:r("relations.right_ent")}),U.jsxs(lr,{size:"sm",value:F.right_entity||"",onChange:P=>m(F._uiId,"right_entity",P.target.value),children:[U.jsx("option",{value:"",children:r("relations.select_opt")}),n.map(P=>U.jsx("option",{value:P.name,children:P.name},P.id||P.name))]})]}),U.jsxs("div",{className:"flex-1 min-w-[120px]",children:[U.jsx(mt,{className:"mb-2 block font-medium truncate",children:r("relations.right_col")}),U.jsxs(lr,{size:"sm",value:F.right_column||"",onChange:P=>m(F._uiId,"right_column",P.target.value),disabled:!F.right_entity,children:[U.jsx("option",{value:"",children:r("relations.select_opt")}),M.map((P,O)=>U.jsx("option",{value:P.label,children:P.label},O))]})]}),U.jsx("div",{children:U.jsx(pt,{className:"bg-[#D64545]! hover:bg-[#b03939]!",size:"sm",onClick:()=>g(F._uiId),children:r("relations.btn_delete")})})]})},F._uiId)})}),U.jsx(pt,{onClick:h,size:"sm",className:"mt-6 mb-10 bg-[#4D76B2]! hover:bg-[#3C64A3]!",children:r("relations.btn_add_rel")}),n.length>0&&U.jsx(Q$,{entities:n,relationships:f}),U.jsxs("div",{className:"mt-20",children:[U.jsx("h1",{className:"text-4xl font-bold mb-10 border-b pb-4",children:r("relations.title_validation")}),U.jsxs("div",{className:"mb-8 text-vpm-black",children:[U.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[U.jsx(Rh,{className:"w-6 h-6 text-gray-600"}),U.jsx("h3",{className:"font-bold text-lg",children:r("relations.help.title")})]}),U.jsxs("div",{className:"text-sm space-y-3 text-gray-700",children:[U.jsxs("p",{children:[r("relations.help.intro")," ",U.jsx("a",{href:"https://duckdb.org",target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 hover:underline font-semibold",children:"DuckDB"}),"."]}),U.jsx("p",{className:"italic text-gray-600",children:r("relations.help.disclaimer")}),U.jsxs("div",{className:"mt-8",children:[U.jsx("span",{className:"font-semibold block mb-3",children:r("relations.help.examples_title")}),U.jsxs("ul",{className:"list-disc list-inside space-y-6 ml-2",children:[U.jsxs("li",{children:[r("relations.help.ex_null")," ",U.jsx("a",{href:"https://duckdb.org/docs/stable/sql/expressions/comparison_operators",target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 hover:underline font-semibold",children:"(Comparisons)"}),": ",U.jsx(hr,{className:"px-1 font-mono text-xs",style:{backgroundColor:"#d1d5db",color:"black"},children:"age IS NULL"})]}),U.jsxs("li",{children:[r("relations.help.ex_interval")," ",U.jsx("a",{href:"https://duckdb.org/docs/stable/sql/expressions/comparison_operators",target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 hover:underline font-semibold",children:"(Comparisons)"}),": ",U.jsx(hr,{className:"px-1 font-mono text-xs",style:{backgroundColor:"#d1d5db",color:"black"},children:"age BETWEEN 18 AND 115"})]}),U.jsxs("li",{children:[r("relations.help.ex_compare")," ",U.jsx("a",{href:"https://duckdb.org/docs/stable/sql/expressions/comparison_operators",target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 hover:underline font-semibold",children:"(Comparisons)"}),": ",U.jsx(hr,{className:"px-1 font-mono text-xs",style:{backgroundColor:"#d1d5db",color:"black"},children:"discharge_dt >= admission_dt"})]}),U.jsxs("li",{children:[r("relations.help.ex_in")," ",U.jsx("a",{href:"https://duckdb.org/docs/stable/sql/expressions/in",target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 hover:underline font-semibold",children:"(IN Operator)"}),": ",U.jsx(hr,{className:"px-1 font-mono text-xs",style:{backgroundColor:"#d1d5db",color:"black"},children:"country_cd IN ('ES', 'BE', 'DE', NULL)"})]}),U.jsxs("li",{children:[r("relations.help.ex_complex")," ",U.jsx("a",{href:"https://duckdb.org/docs/stable/sql/expressions/overview",target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 hover:underline font-semibold",children:"(Expressions)"}),": ",U.jsx(hr,{className:"px-1 font-mono text-xs",style:{backgroundColor:"#d1d5db",color:"black"},children:"((sex_cd = '2') AND (age BETWEEN 16 AND 65))"})]})]})]}),U.jsxs("div",{className:"bg-blue-100/50 p-3 rounded-md border border-blue-200 mt-8",children:[U.jsx("p",{className:"font-medium mb-1",children:r("relations.help.instructions")}),U.jsx("p",{children:r("relations.help.upload_note")}),U.jsx("p",{className:"mt-1 text-xs text-gray-500",children:r("relations.help.optional_note")})]}),U.jsxs("div",{className:"text-xs bg-gray-100 p-2 rounded border border-gray-300 font-mono",children:[U.jsxs("p",{className:"font-bold text-gray-500 mb-1",children:[r("relations.help.paths_title"),":"]}),U.jsx("p",{children:"use_case/docs/CDM/entities/entityX/validation-rules/your_validation_file.json"}),U.jsx("p",{children:"use_case/docs/CDM/cdmb_config.json"})]})]})]}),U.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[n.map((F,E)=>{const T=F.rules&&F.rules.length>0;return U.jsxs("div",{className:"w-full bg-white border border-gray-200 rounded-lg shadow-md p-6 flex flex-col justify-between",children:[U.jsxs("div",{children:[U.jsxs("div",{className:"flex flex-col gap-2 mb-4",children:[U.jsx("h5",{className:"text-2xl font-bold tracking-tight text-gray-900 truncate",children:F.name||r("relations.unnamed")}),U.jsx("p",{className:"font-normal text-sm text-gray-500",children:T?U.jsxs("span",{className:"text-green-600 font-semibold",children:[" ",F.rules.length," ",r("relations.rules_loaded")]}):U.jsxs("span",{className:"text-gray-400",children:[" ",r("relations.no_rules")]})})]}),U.jsxs("div",{className:"mb-4",children:[U.jsxs("div",{className:"flex justify-between items-end mb-2",children:[U.jsx(mt,{htmlFor:`file-${F.id}`,value:r("relations.upload_json"),className:"text-xs uppercase text-gray-500 font-bold"}),U.jsxs("button",{onClick:()=>tU(F),className:"text-xs text-[#4D76B2] hover:underline font-medium cursor-pointer border-none bg-transparent",children:[" ",r("relations.download_template")]})]}),U.jsx(ca,{id:`file-${F.id}`,accept:".json",sizing:"sm",onChange:I=>p(I,E)})]})]}),U.jsxs("div",{className:"flex gap-2 mt-2 pt-2 border-t border-gray-100",children:[U.jsx(pt,{color:"gray",onClick:()=>b(F),disabled:!T,className:"flex-1",size:"sm",children:r("relations.btn_view_rules")}),U.jsx(pt,{onClick:()=>y(E),disabled:!T,className:"flex-1 bg-[#D64545]! hover:bg-[#b03939]!",size:"sm",children:r("relations.btn_delete")})]})]},F.id||E)}),n.length===0&&U.jsxs("p",{className:"text-gray-500 italic col-span-3 text-center py-10 text-4xl",children:[" ",r("relations.no_entities_warning")]})]})]}),U.jsx(Qi,{show:i,onClose:()=>o(!1),size:"4xl",children:U.jsxs("div",{className:"flex flex-col max-h-[90vh]",children:[U.jsxs("div",{className:"flex items-center justify-between p-4 border-b rounded-t bg-gray-50",children:[U.jsxs("h3",{className:"text-lg font-semibold text-gray-900",children:[r("relations.modal_title"),": ",U.jsx("span",{className:"text-blue-600 font-mono",children:l})]}),U.jsx("button",{onClick:()=>o(!1),className:"text-gray-400 bg-transparent hover:bg-gray-200 hover:text-gray-900 rounded-lg text-sm p-1.5 ml-auto inline-flex items-center",children:""})]}),U.jsx("div",{className:"p-6 space-y-6 overflow-y-auto bg-white",children:U.jsx("div",{className:"bg-gray-900 p-4 rounded-lg shadow-inner",children:U.jsx("pre",{className:"text-xs font-mono text-white whitespace-pre-wrap",children:s?JSON.stringify(s,null,2):"[]"})})}),U.jsx("div",{className:"flex items-center p-6 space-x-2 border-t border-gray-200 rounded-b bg-gray-50",children:U.jsx(pt,{color:"gray",onClick:()=>o(!1),children:r("relations.btn_close")})})]})})]})}function xi(e){throw new Error('Could not dynamically require "'+e+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var eh={exports:{}};/*!

JSZip v3.10.1 - A JavaScript class for generating and reading zip files
<http://stuartk.com/jszip>

(c) 2009-2016 Stuart Knightley <stuart [at] stuartk.com>
Dual licenced under the MIT license or GPLv3. See https://raw.github.com/Stuk/jszip/main/LICENSE.markdown.

JSZip uses the library pako released under the MIT license :
https://github.com/nodeca/pako/blob/main/LICENSE
*/var O0;function nU(){return O0||(O0=1,(function(e,t){(function(r){e.exports=r()})(function(){return(function r(n,i,o){function s(u,c){if(!i[u]){if(!n[u]){var f=typeof xi=="function"&&xi;if(!c&&f)return f(u,!0);if(a)return a(u,!0);var d=new Error("Cannot find module '"+u+"'");throw d.code="MODULE_NOT_FOUND",d}var h=i[u]={exports:{}};n[u][0].call(h.exports,function(g){var m=n[u][1][g];return s(m||g)},h,h.exports,r,n,i,o)}return i[u].exports}for(var a=typeof xi=="function"&&xi,l=0;l<o.length;l++)s(o[l]);return s})({1:[function(r,n,i){var o=r("./utils"),s=r("./support"),a="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";i.encode=function(l){for(var u,c,f,d,h,g,m,p=[],y=0,b=l.length,v=b,F=o.getTypeOf(l)!=="string";y<l.length;)v=b-y,f=F?(u=l[y++],c=y<b?l[y++]:0,y<b?l[y++]:0):(u=l.charCodeAt(y++),c=y<b?l.charCodeAt(y++):0,y<b?l.charCodeAt(y++):0),d=u>>2,h=(3&u)<<4|c>>4,g=1<v?(15&c)<<2|f>>6:64,m=2<v?63&f:64,p.push(a.charAt(d)+a.charAt(h)+a.charAt(g)+a.charAt(m));return p.join("")},i.decode=function(l){var u,c,f,d,h,g,m=0,p=0,y="data:";if(l.substr(0,y.length)===y)throw new Error("Invalid base64 input, it looks like a data url.");var b,v=3*(l=l.replace(/[^A-Za-z0-9+/=]/g,"")).length/4;if(l.charAt(l.length-1)===a.charAt(64)&&v--,l.charAt(l.length-2)===a.charAt(64)&&v--,v%1!=0)throw new Error("Invalid base64 input, bad content length.");for(b=s.uint8array?new Uint8Array(0|v):new Array(0|v);m<l.length;)u=a.indexOf(l.charAt(m++))<<2|(d=a.indexOf(l.charAt(m++)))>>4,c=(15&d)<<4|(h=a.indexOf(l.charAt(m++)))>>2,f=(3&h)<<6|(g=a.indexOf(l.charAt(m++))),b[p++]=u,h!==64&&(b[p++]=c),g!==64&&(b[p++]=f);return b}},{"./support":30,"./utils":32}],2:[function(r,n,i){var o=r("./external"),s=r("./stream/DataWorker"),a=r("./stream/Crc32Probe"),l=r("./stream/DataLengthProbe");function u(c,f,d,h,g){this.compressedSize=c,this.uncompressedSize=f,this.crc32=d,this.compression=h,this.compressedContent=g}u.prototype={getContentWorker:function(){var c=new s(o.Promise.resolve(this.compressedContent)).pipe(this.compression.uncompressWorker()).pipe(new l("data_length")),f=this;return c.on("end",function(){if(this.streamInfo.data_length!==f.uncompressedSize)throw new Error("Bug : uncompressed data size mismatch")}),c},getCompressedWorker:function(){return new s(o.Promise.resolve(this.compressedContent)).withStreamInfo("compressedSize",this.compressedSize).withStreamInfo("uncompressedSize",this.uncompressedSize).withStreamInfo("crc32",this.crc32).withStreamInfo("compression",this.compression)}},u.createWorkerFrom=function(c,f,d){return c.pipe(new a).pipe(new l("uncompressedSize")).pipe(f.compressWorker(d)).pipe(new l("compressedSize")).withStreamInfo("compression",f)},n.exports=u},{"./external":6,"./stream/Crc32Probe":25,"./stream/DataLengthProbe":26,"./stream/DataWorker":27}],3:[function(r,n,i){var o=r("./stream/GenericWorker");i.STORE={magic:"\0\0",compressWorker:function(){return new o("STORE compression")},uncompressWorker:function(){return new o("STORE decompression")}},i.DEFLATE=r("./flate")},{"./flate":7,"./stream/GenericWorker":28}],4:[function(r,n,i){var o=r("./utils"),s=(function(){for(var a,l=[],u=0;u<256;u++){a=u;for(var c=0;c<8;c++)a=1&a?3988292384^a>>>1:a>>>1;l[u]=a}return l})();n.exports=function(a,l){return a!==void 0&&a.length?o.getTypeOf(a)!=="string"?(function(u,c,f,d){var h=s,g=d+f;u^=-1;for(var m=d;m<g;m++)u=u>>>8^h[255&(u^c[m])];return-1^u})(0|l,a,a.length,0):(function(u,c,f,d){var h=s,g=d+f;u^=-1;for(var m=d;m<g;m++)u=u>>>8^h[255&(u^c.charCodeAt(m))];return-1^u})(0|l,a,a.length,0):0}},{"./utils":32}],5:[function(r,n,i){i.base64=!1,i.binary=!1,i.dir=!1,i.createFolders=!0,i.date=null,i.compression=null,i.compressionOptions=null,i.comment=null,i.unixPermissions=null,i.dosPermissions=null},{}],6:[function(r,n,i){var o=null;o=typeof Promise<"u"?Promise:r("lie"),n.exports={Promise:o}},{lie:37}],7:[function(r,n,i){var o=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Uint32Array<"u",s=r("pako"),a=r("./utils"),l=r("./stream/GenericWorker"),u=o?"uint8array":"array";function c(f,d){l.call(this,"FlateWorker/"+f),this._pako=null,this._pakoAction=f,this._pakoOptions=d,this.meta={}}i.magic="\b\0",a.inherits(c,l),c.prototype.processChunk=function(f){this.meta=f.meta,this._pako===null&&this._createPako(),this._pako.push(a.transformTo(u,f.data),!1)},c.prototype.flush=function(){l.prototype.flush.call(this),this._pako===null&&this._createPako(),this._pako.push([],!0)},c.prototype.cleanUp=function(){l.prototype.cleanUp.call(this),this._pako=null},c.prototype._createPako=function(){this._pako=new s[this._pakoAction]({raw:!0,level:this._pakoOptions.level||-1});var f=this;this._pako.onData=function(d){f.push({data:d,meta:f.meta})}},i.compressWorker=function(f){return new c("Deflate",f)},i.uncompressWorker=function(){return new c("Inflate",{})}},{"./stream/GenericWorker":28,"./utils":32,pako:38}],8:[function(r,n,i){function o(h,g){var m,p="";for(m=0;m<g;m++)p+=String.fromCharCode(255&h),h>>>=8;return p}function s(h,g,m,p,y,b){var v,F,E=h.file,T=h.compression,I=b!==u.utf8encode,M=a.transformTo("string",b(E.name)),P=a.transformTo("string",u.utf8encode(E.name)),O=E.comment,z=a.transformTo("string",b(O)),L=a.transformTo("string",u.utf8encode(O)),_=P.length!==E.name.length,R=L.length!==O.length,k="",S="",w="",C=E.dir,x=E.date,A={crc32:0,compressedSize:0,uncompressedSize:0};g&&!m||(A.crc32=h.crc32,A.compressedSize=h.compressedSize,A.uncompressedSize=h.uncompressedSize);var D=0;g&&(D|=8),I||!_&&!R||(D|=2048);var B=0,V=0;C&&(B|=16),y==="UNIX"?(V=798,B|=(function(K,G){var Y=K;return K||(Y=G?16893:33204),(65535&Y)<<16})(E.unixPermissions,C)):(V=20,B|=(function(K){return 63&(K||0)})(E.dosPermissions)),v=x.getUTCHours(),v<<=6,v|=x.getUTCMinutes(),v<<=5,v|=x.getUTCSeconds()/2,F=x.getUTCFullYear()-1980,F<<=4,F|=x.getUTCMonth()+1,F<<=5,F|=x.getUTCDate(),_&&(S=o(1,1)+o(c(M),4)+P,k+="up"+o(S.length,2)+S),R&&(w=o(1,1)+o(c(z),4)+L,k+="uc"+o(w.length,2)+w);var j="";return j+=`
\0`,j+=o(D,2),j+=T.magic,j+=o(v,2),j+=o(F,2),j+=o(A.crc32,4),j+=o(A.compressedSize,4),j+=o(A.uncompressedSize,4),j+=o(M.length,2),j+=o(k.length,2),{fileRecord:f.LOCAL_FILE_HEADER+j+M+k,dirRecord:f.CENTRAL_FILE_HEADER+o(V,2)+j+o(z.length,2)+"\0\0\0\0"+o(B,4)+o(p,4)+M+k+z}}var a=r("../utils"),l=r("../stream/GenericWorker"),u=r("../utf8"),c=r("../crc32"),f=r("../signature");function d(h,g,m,p){l.call(this,"ZipFileWorker"),this.bytesWritten=0,this.zipComment=g,this.zipPlatform=m,this.encodeFileName=p,this.streamFiles=h,this.accumulate=!1,this.contentBuffer=[],this.dirRecords=[],this.currentSourceOffset=0,this.entriesCount=0,this.currentFile=null,this._sources=[]}a.inherits(d,l),d.prototype.push=function(h){var g=h.meta.percent||0,m=this.entriesCount,p=this._sources.length;this.accumulate?this.contentBuffer.push(h):(this.bytesWritten+=h.data.length,l.prototype.push.call(this,{data:h.data,meta:{currentFile:this.currentFile,percent:m?(g+100*(m-p-1))/m:100}}))},d.prototype.openedSource=function(h){this.currentSourceOffset=this.bytesWritten,this.currentFile=h.file.name;var g=this.streamFiles&&!h.file.dir;if(g){var m=s(h,g,!1,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);this.push({data:m.fileRecord,meta:{percent:0}})}else this.accumulate=!0},d.prototype.closedSource=function(h){this.accumulate=!1;var g=this.streamFiles&&!h.file.dir,m=s(h,g,!0,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);if(this.dirRecords.push(m.dirRecord),g)this.push({data:(function(p){return f.DATA_DESCRIPTOR+o(p.crc32,4)+o(p.compressedSize,4)+o(p.uncompressedSize,4)})(h),meta:{percent:100}});else for(this.push({data:m.fileRecord,meta:{percent:0}});this.contentBuffer.length;)this.push(this.contentBuffer.shift());this.currentFile=null},d.prototype.flush=function(){for(var h=this.bytesWritten,g=0;g<this.dirRecords.length;g++)this.push({data:this.dirRecords[g],meta:{percent:100}});var m=this.bytesWritten-h,p=(function(y,b,v,F,E){var T=a.transformTo("string",E(F));return f.CENTRAL_DIRECTORY_END+"\0\0\0\0"+o(y,2)+o(y,2)+o(b,4)+o(v,4)+o(T.length,2)+T})(this.dirRecords.length,m,h,this.zipComment,this.encodeFileName);this.push({data:p,meta:{percent:100}})},d.prototype.prepareNextSource=function(){this.previous=this._sources.shift(),this.openedSource(this.previous.streamInfo),this.isPaused?this.previous.pause():this.previous.resume()},d.prototype.registerPrevious=function(h){this._sources.push(h);var g=this;return h.on("data",function(m){g.processChunk(m)}),h.on("end",function(){g.closedSource(g.previous.streamInfo),g._sources.length?g.prepareNextSource():g.end()}),h.on("error",function(m){g.error(m)}),this},d.prototype.resume=function(){return!!l.prototype.resume.call(this)&&(!this.previous&&this._sources.length?(this.prepareNextSource(),!0):this.previous||this._sources.length||this.generatedError?void 0:(this.end(),!0))},d.prototype.error=function(h){var g=this._sources;if(!l.prototype.error.call(this,h))return!1;for(var m=0;m<g.length;m++)try{g[m].error(h)}catch{}return!0},d.prototype.lock=function(){l.prototype.lock.call(this);for(var h=this._sources,g=0;g<h.length;g++)h[g].lock()},n.exports=d},{"../crc32":4,"../signature":23,"../stream/GenericWorker":28,"../utf8":31,"../utils":32}],9:[function(r,n,i){var o=r("../compressions"),s=r("./ZipFileWorker");i.generateWorker=function(a,l,u){var c=new s(l.streamFiles,u,l.platform,l.encodeFileName),f=0;try{a.forEach(function(d,h){f++;var g=(function(b,v){var F=b||v,E=o[F];if(!E)throw new Error(F+" is not a valid compression method !");return E})(h.options.compression,l.compression),m=h.options.compressionOptions||l.compressionOptions||{},p=h.dir,y=h.date;h._compressWorker(g,m).withStreamInfo("file",{name:d,dir:p,date:y,comment:h.comment||"",unixPermissions:h.unixPermissions,dosPermissions:h.dosPermissions}).pipe(c)}),c.entriesCount=f}catch(d){c.error(d)}return c}},{"../compressions":3,"./ZipFileWorker":8}],10:[function(r,n,i){function o(){if(!(this instanceof o))return new o;if(arguments.length)throw new Error("The constructor with parameters has been removed in JSZip 3.0, please check the upgrade guide.");this.files=Object.create(null),this.comment=null,this.root="",this.clone=function(){var s=new o;for(var a in this)typeof this[a]!="function"&&(s[a]=this[a]);return s}}(o.prototype=r("./object")).loadAsync=r("./load"),o.support=r("./support"),o.defaults=r("./defaults"),o.version="3.10.1",o.loadAsync=function(s,a){return new o().loadAsync(s,a)},o.external=r("./external"),n.exports=o},{"./defaults":5,"./external":6,"./load":11,"./object":15,"./support":30}],11:[function(r,n,i){var o=r("./utils"),s=r("./external"),a=r("./utf8"),l=r("./zipEntries"),u=r("./stream/Crc32Probe"),c=r("./nodejsUtils");function f(d){return new s.Promise(function(h,g){var m=d.decompressed.getContentWorker().pipe(new u);m.on("error",function(p){g(p)}).on("end",function(){m.streamInfo.crc32!==d.decompressed.crc32?g(new Error("Corrupted zip : CRC32 mismatch")):h()}).resume()})}n.exports=function(d,h){var g=this;return h=o.extend(h||{},{base64:!1,checkCRC32:!1,optimizedBinaryString:!1,createFolders:!1,decodeFileName:a.utf8decode}),c.isNode&&c.isStream(d)?s.Promise.reject(new Error("JSZip can't accept a stream when loading a zip file.")):o.prepareContent("the loaded zip file",d,!0,h.optimizedBinaryString,h.base64).then(function(m){var p=new l(h);return p.load(m),p}).then(function(m){var p=[s.Promise.resolve(m)],y=m.files;if(h.checkCRC32)for(var b=0;b<y.length;b++)p.push(f(y[b]));return s.Promise.all(p)}).then(function(m){for(var p=m.shift(),y=p.files,b=0;b<y.length;b++){var v=y[b],F=v.fileNameStr,E=o.resolve(v.fileNameStr);g.file(E,v.decompressed,{binary:!0,optimizedBinaryString:!0,date:v.date,dir:v.dir,comment:v.fileCommentStr.length?v.fileCommentStr:null,unixPermissions:v.unixPermissions,dosPermissions:v.dosPermissions,createFolders:h.createFolders}),v.dir||(g.file(E).unsafeOriginalName=F)}return p.zipComment.length&&(g.comment=p.zipComment),g})}},{"./external":6,"./nodejsUtils":14,"./stream/Crc32Probe":25,"./utf8":31,"./utils":32,"./zipEntries":33}],12:[function(r,n,i){var o=r("../utils"),s=r("../stream/GenericWorker");function a(l,u){s.call(this,"Nodejs stream input adapter for "+l),this._upstreamEnded=!1,this._bindStream(u)}o.inherits(a,s),a.prototype._bindStream=function(l){var u=this;(this._stream=l).pause(),l.on("data",function(c){u.push({data:c,meta:{percent:0}})}).on("error",function(c){u.isPaused?this.generatedError=c:u.error(c)}).on("end",function(){u.isPaused?u._upstreamEnded=!0:u.end()})},a.prototype.pause=function(){return!!s.prototype.pause.call(this)&&(this._stream.pause(),!0)},a.prototype.resume=function(){return!!s.prototype.resume.call(this)&&(this._upstreamEnded?this.end():this._stream.resume(),!0)},n.exports=a},{"../stream/GenericWorker":28,"../utils":32}],13:[function(r,n,i){var o=r("readable-stream").Readable;function s(a,l,u){o.call(this,l),this._helper=a;var c=this;a.on("data",function(f,d){c.push(f)||c._helper.pause(),u&&u(d)}).on("error",function(f){c.emit("error",f)}).on("end",function(){c.push(null)})}r("../utils").inherits(s,o),s.prototype._read=function(){this._helper.resume()},n.exports=s},{"../utils":32,"readable-stream":16}],14:[function(r,n,i){n.exports={isNode:typeof Buffer<"u",newBufferFrom:function(o,s){if(Buffer.from&&Buffer.from!==Uint8Array.from)return Buffer.from(o,s);if(typeof o=="number")throw new Error('The "data" argument must not be a number');return new Buffer(o,s)},allocBuffer:function(o){if(Buffer.alloc)return Buffer.alloc(o);var s=new Buffer(o);return s.fill(0),s},isBuffer:function(o){return Buffer.isBuffer(o)},isStream:function(o){return o&&typeof o.on=="function"&&typeof o.pause=="function"&&typeof o.resume=="function"}}},{}],15:[function(r,n,i){function o(E,T,I){var M,P=a.getTypeOf(T),O=a.extend(I||{},c);O.date=O.date||new Date,O.compression!==null&&(O.compression=O.compression.toUpperCase()),typeof O.unixPermissions=="string"&&(O.unixPermissions=parseInt(O.unixPermissions,8)),O.unixPermissions&&16384&O.unixPermissions&&(O.dir=!0),O.dosPermissions&&16&O.dosPermissions&&(O.dir=!0),O.dir&&(E=y(E)),O.createFolders&&(M=p(E))&&b.call(this,M,!0);var z=P==="string"&&O.binary===!1&&O.base64===!1;I&&I.binary!==void 0||(O.binary=!z),(T instanceof f&&T.uncompressedSize===0||O.dir||!T||T.length===0)&&(O.base64=!1,O.binary=!0,T="",O.compression="STORE",P="string");var L=null;L=T instanceof f||T instanceof l?T:g.isNode&&g.isStream(T)?new m(E,T):a.prepareContent(E,T,O.binary,O.optimizedBinaryString,O.base64);var _=new d(E,L,O);this.files[E]=_}var s=r("./utf8"),a=r("./utils"),l=r("./stream/GenericWorker"),u=r("./stream/StreamHelper"),c=r("./defaults"),f=r("./compressedObject"),d=r("./zipObject"),h=r("./generate"),g=r("./nodejsUtils"),m=r("./nodejs/NodejsStreamInputAdapter"),p=function(E){E.slice(-1)==="/"&&(E=E.substring(0,E.length-1));var T=E.lastIndexOf("/");return 0<T?E.substring(0,T):""},y=function(E){return E.slice(-1)!=="/"&&(E+="/"),E},b=function(E,T){return T=T!==void 0?T:c.createFolders,E=y(E),this.files[E]||o.call(this,E,null,{dir:!0,createFolders:T}),this.files[E]};function v(E){return Object.prototype.toString.call(E)==="[object RegExp]"}var F={load:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},forEach:function(E){var T,I,M;for(T in this.files)M=this.files[T],(I=T.slice(this.root.length,T.length))&&T.slice(0,this.root.length)===this.root&&E(I,M)},filter:function(E){var T=[];return this.forEach(function(I,M){E(I,M)&&T.push(M)}),T},file:function(E,T,I){if(arguments.length!==1)return E=this.root+E,o.call(this,E,T,I),this;if(v(E)){var M=E;return this.filter(function(O,z){return!z.dir&&M.test(O)})}var P=this.files[this.root+E];return P&&!P.dir?P:null},folder:function(E){if(!E)return this;if(v(E))return this.filter(function(P,O){return O.dir&&E.test(P)});var T=this.root+E,I=b.call(this,T),M=this.clone();return M.root=I.name,M},remove:function(E){E=this.root+E;var T=this.files[E];if(T||(E.slice(-1)!=="/"&&(E+="/"),T=this.files[E]),T&&!T.dir)delete this.files[E];else for(var I=this.filter(function(P,O){return O.name.slice(0,E.length)===E}),M=0;M<I.length;M++)delete this.files[I[M].name];return this},generate:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},generateInternalStream:function(E){var T,I={};try{if((I=a.extend(E||{},{streamFiles:!1,compression:"STORE",compressionOptions:null,type:"",platform:"DOS",comment:null,mimeType:"application/zip",encodeFileName:s.utf8encode})).type=I.type.toLowerCase(),I.compression=I.compression.toUpperCase(),I.type==="binarystring"&&(I.type="string"),!I.type)throw new Error("No output type specified.");a.checkSupport(I.type),I.platform!=="darwin"&&I.platform!=="freebsd"&&I.platform!=="linux"&&I.platform!=="sunos"||(I.platform="UNIX"),I.platform==="win32"&&(I.platform="DOS");var M=I.comment||this.comment||"";T=h.generateWorker(this,I,M)}catch(P){(T=new l("error")).error(P)}return new u(T,I.type||"string",I.mimeType)},generateAsync:function(E,T){return this.generateInternalStream(E).accumulate(T)},generateNodeStream:function(E,T){return(E=E||{}).type||(E.type="nodebuffer"),this.generateInternalStream(E).toNodejsStream(T)}};n.exports=F},{"./compressedObject":2,"./defaults":5,"./generate":9,"./nodejs/NodejsStreamInputAdapter":12,"./nodejsUtils":14,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31,"./utils":32,"./zipObject":35}],16:[function(r,n,i){n.exports=r("stream")},{stream:void 0}],17:[function(r,n,i){var o=r("./DataReader");function s(a){o.call(this,a);for(var l=0;l<this.data.length;l++)a[l]=255&a[l]}r("../utils").inherits(s,o),s.prototype.byteAt=function(a){return this.data[this.zero+a]},s.prototype.lastIndexOfSignature=function(a){for(var l=a.charCodeAt(0),u=a.charCodeAt(1),c=a.charCodeAt(2),f=a.charCodeAt(3),d=this.length-4;0<=d;--d)if(this.data[d]===l&&this.data[d+1]===u&&this.data[d+2]===c&&this.data[d+3]===f)return d-this.zero;return-1},s.prototype.readAndCheckSignature=function(a){var l=a.charCodeAt(0),u=a.charCodeAt(1),c=a.charCodeAt(2),f=a.charCodeAt(3),d=this.readData(4);return l===d[0]&&u===d[1]&&c===d[2]&&f===d[3]},s.prototype.readData=function(a){if(this.checkOffset(a),a===0)return[];var l=this.data.slice(this.zero+this.index,this.zero+this.index+a);return this.index+=a,l},n.exports=s},{"../utils":32,"./DataReader":18}],18:[function(r,n,i){var o=r("../utils");function s(a){this.data=a,this.length=a.length,this.index=0,this.zero=0}s.prototype={checkOffset:function(a){this.checkIndex(this.index+a)},checkIndex:function(a){if(this.length<this.zero+a||a<0)throw new Error("End of data reached (data length = "+this.length+", asked index = "+a+"). Corrupted zip ?")},setIndex:function(a){this.checkIndex(a),this.index=a},skip:function(a){this.setIndex(this.index+a)},byteAt:function(){},readInt:function(a){var l,u=0;for(this.checkOffset(a),l=this.index+a-1;l>=this.index;l--)u=(u<<8)+this.byteAt(l);return this.index+=a,u},readString:function(a){return o.transformTo("string",this.readData(a))},readData:function(){},lastIndexOfSignature:function(){},readAndCheckSignature:function(){},readDate:function(){var a=this.readInt(4);return new Date(Date.UTC(1980+(a>>25&127),(a>>21&15)-1,a>>16&31,a>>11&31,a>>5&63,(31&a)<<1))}},n.exports=s},{"../utils":32}],19:[function(r,n,i){var o=r("./Uint8ArrayReader");function s(a){o.call(this,a)}r("../utils").inherits(s,o),s.prototype.readData=function(a){this.checkOffset(a);var l=this.data.slice(this.zero+this.index,this.zero+this.index+a);return this.index+=a,l},n.exports=s},{"../utils":32,"./Uint8ArrayReader":21}],20:[function(r,n,i){var o=r("./DataReader");function s(a){o.call(this,a)}r("../utils").inherits(s,o),s.prototype.byteAt=function(a){return this.data.charCodeAt(this.zero+a)},s.prototype.lastIndexOfSignature=function(a){return this.data.lastIndexOf(a)-this.zero},s.prototype.readAndCheckSignature=function(a){return a===this.readData(4)},s.prototype.readData=function(a){this.checkOffset(a);var l=this.data.slice(this.zero+this.index,this.zero+this.index+a);return this.index+=a,l},n.exports=s},{"../utils":32,"./DataReader":18}],21:[function(r,n,i){var o=r("./ArrayReader");function s(a){o.call(this,a)}r("../utils").inherits(s,o),s.prototype.readData=function(a){if(this.checkOffset(a),a===0)return new Uint8Array(0);var l=this.data.subarray(this.zero+this.index,this.zero+this.index+a);return this.index+=a,l},n.exports=s},{"../utils":32,"./ArrayReader":17}],22:[function(r,n,i){var o=r("../utils"),s=r("../support"),a=r("./ArrayReader"),l=r("./StringReader"),u=r("./NodeBufferReader"),c=r("./Uint8ArrayReader");n.exports=function(f){var d=o.getTypeOf(f);return o.checkSupport(d),d!=="string"||s.uint8array?d==="nodebuffer"?new u(f):s.uint8array?new c(o.transformTo("uint8array",f)):new a(o.transformTo("array",f)):new l(f)}},{"../support":30,"../utils":32,"./ArrayReader":17,"./NodeBufferReader":19,"./StringReader":20,"./Uint8ArrayReader":21}],23:[function(r,n,i){i.LOCAL_FILE_HEADER="PK",i.CENTRAL_FILE_HEADER="PK",i.CENTRAL_DIRECTORY_END="PK",i.ZIP64_CENTRAL_DIRECTORY_LOCATOR="PK\x07",i.ZIP64_CENTRAL_DIRECTORY_END="PK",i.DATA_DESCRIPTOR="PK\x07\b"},{}],24:[function(r,n,i){var o=r("./GenericWorker"),s=r("../utils");function a(l){o.call(this,"ConvertWorker to "+l),this.destType=l}s.inherits(a,o),a.prototype.processChunk=function(l){this.push({data:s.transformTo(this.destType,l.data),meta:l.meta})},n.exports=a},{"../utils":32,"./GenericWorker":28}],25:[function(r,n,i){var o=r("./GenericWorker"),s=r("../crc32");function a(){o.call(this,"Crc32Probe"),this.withStreamInfo("crc32",0)}r("../utils").inherits(a,o),a.prototype.processChunk=function(l){this.streamInfo.crc32=s(l.data,this.streamInfo.crc32||0),this.push(l)},n.exports=a},{"../crc32":4,"../utils":32,"./GenericWorker":28}],26:[function(r,n,i){var o=r("../utils"),s=r("./GenericWorker");function a(l){s.call(this,"DataLengthProbe for "+l),this.propName=l,this.withStreamInfo(l,0)}o.inherits(a,s),a.prototype.processChunk=function(l){if(l){var u=this.streamInfo[this.propName]||0;this.streamInfo[this.propName]=u+l.data.length}s.prototype.processChunk.call(this,l)},n.exports=a},{"../utils":32,"./GenericWorker":28}],27:[function(r,n,i){var o=r("../utils"),s=r("./GenericWorker");function a(l){s.call(this,"DataWorker");var u=this;this.dataIsReady=!1,this.index=0,this.max=0,this.data=null,this.type="",this._tickScheduled=!1,l.then(function(c){u.dataIsReady=!0,u.data=c,u.max=c&&c.length||0,u.type=o.getTypeOf(c),u.isPaused||u._tickAndRepeat()},function(c){u.error(c)})}o.inherits(a,s),a.prototype.cleanUp=function(){s.prototype.cleanUp.call(this),this.data=null},a.prototype.resume=function(){return!!s.prototype.resume.call(this)&&(!this._tickScheduled&&this.dataIsReady&&(this._tickScheduled=!0,o.delay(this._tickAndRepeat,[],this)),!0)},a.prototype._tickAndRepeat=function(){this._tickScheduled=!1,this.isPaused||this.isFinished||(this._tick(),this.isFinished||(o.delay(this._tickAndRepeat,[],this),this._tickScheduled=!0))},a.prototype._tick=function(){if(this.isPaused||this.isFinished)return!1;var l=null,u=Math.min(this.max,this.index+16384);if(this.index>=this.max)return this.end();switch(this.type){case"string":l=this.data.substring(this.index,u);break;case"uint8array":l=this.data.subarray(this.index,u);break;case"array":case"nodebuffer":l=this.data.slice(this.index,u)}return this.index=u,this.push({data:l,meta:{percent:this.max?this.index/this.max*100:0}})},n.exports=a},{"../utils":32,"./GenericWorker":28}],28:[function(r,n,i){function o(s){this.name=s||"default",this.streamInfo={},this.generatedError=null,this.extraStreamInfo={},this.isPaused=!0,this.isFinished=!1,this.isLocked=!1,this._listeners={data:[],end:[],error:[]},this.previous=null}o.prototype={push:function(s){this.emit("data",s)},end:function(){if(this.isFinished)return!1;this.flush();try{this.emit("end"),this.cleanUp(),this.isFinished=!0}catch(s){this.emit("error",s)}return!0},error:function(s){return!this.isFinished&&(this.isPaused?this.generatedError=s:(this.isFinished=!0,this.emit("error",s),this.previous&&this.previous.error(s),this.cleanUp()),!0)},on:function(s,a){return this._listeners[s].push(a),this},cleanUp:function(){this.streamInfo=this.generatedError=this.extraStreamInfo=null,this._listeners=[]},emit:function(s,a){if(this._listeners[s])for(var l=0;l<this._listeners[s].length;l++)this._listeners[s][l].call(this,a)},pipe:function(s){return s.registerPrevious(this)},registerPrevious:function(s){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.streamInfo=s.streamInfo,this.mergeStreamInfo(),this.previous=s;var a=this;return s.on("data",function(l){a.processChunk(l)}),s.on("end",function(){a.end()}),s.on("error",function(l){a.error(l)}),this},pause:function(){return!this.isPaused&&!this.isFinished&&(this.isPaused=!0,this.previous&&this.previous.pause(),!0)},resume:function(){if(!this.isPaused||this.isFinished)return!1;var s=this.isPaused=!1;return this.generatedError&&(this.error(this.generatedError),s=!0),this.previous&&this.previous.resume(),!s},flush:function(){},processChunk:function(s){this.push(s)},withStreamInfo:function(s,a){return this.extraStreamInfo[s]=a,this.mergeStreamInfo(),this},mergeStreamInfo:function(){for(var s in this.extraStreamInfo)Object.prototype.hasOwnProperty.call(this.extraStreamInfo,s)&&(this.streamInfo[s]=this.extraStreamInfo[s])},lock:function(){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.isLocked=!0,this.previous&&this.previous.lock()},toString:function(){var s="Worker "+this.name;return this.previous?this.previous+" -> "+s:s}},n.exports=o},{}],29:[function(r,n,i){var o=r("../utils"),s=r("./ConvertWorker"),a=r("./GenericWorker"),l=r("../base64"),u=r("../support"),c=r("../external"),f=null;if(u.nodestream)try{f=r("../nodejs/NodejsStreamOutputAdapter")}catch{}function d(g,m){return new c.Promise(function(p,y){var b=[],v=g._internalType,F=g._outputType,E=g._mimeType;g.on("data",function(T,I){b.push(T),m&&m(I)}).on("error",function(T){b=[],y(T)}).on("end",function(){try{var T=(function(I,M,P){switch(I){case"blob":return o.newBlob(o.transformTo("arraybuffer",M),P);case"base64":return l.encode(M);default:return o.transformTo(I,M)}})(F,(function(I,M){var P,O=0,z=null,L=0;for(P=0;P<M.length;P++)L+=M[P].length;switch(I){case"string":return M.join("");case"array":return Array.prototype.concat.apply([],M);case"uint8array":for(z=new Uint8Array(L),P=0;P<M.length;P++)z.set(M[P],O),O+=M[P].length;return z;case"nodebuffer":return Buffer.concat(M);default:throw new Error("concat : unsupported type '"+I+"'")}})(v,b),E);p(T)}catch(I){y(I)}b=[]}).resume()})}function h(g,m,p){var y=m;switch(m){case"blob":case"arraybuffer":y="uint8array";break;case"base64":y="string"}try{this._internalType=y,this._outputType=m,this._mimeType=p,o.checkSupport(y),this._worker=g.pipe(new s(y)),g.lock()}catch(b){this._worker=new a("error"),this._worker.error(b)}}h.prototype={accumulate:function(g){return d(this,g)},on:function(g,m){var p=this;return g==="data"?this._worker.on(g,function(y){m.call(p,y.data,y.meta)}):this._worker.on(g,function(){o.delay(m,arguments,p)}),this},resume:function(){return o.delay(this._worker.resume,[],this._worker),this},pause:function(){return this._worker.pause(),this},toNodejsStream:function(g){if(o.checkSupport("nodestream"),this._outputType!=="nodebuffer")throw new Error(this._outputType+" is not supported by this method");return new f(this,{objectMode:this._outputType!=="nodebuffer"},g)}},n.exports=h},{"../base64":1,"../external":6,"../nodejs/NodejsStreamOutputAdapter":13,"../support":30,"../utils":32,"./ConvertWorker":24,"./GenericWorker":28}],30:[function(r,n,i){if(i.base64=!0,i.array=!0,i.string=!0,i.arraybuffer=typeof ArrayBuffer<"u"&&typeof Uint8Array<"u",i.nodebuffer=typeof Buffer<"u",i.uint8array=typeof Uint8Array<"u",typeof ArrayBuffer>"u")i.blob=!1;else{var o=new ArrayBuffer(0);try{i.blob=new Blob([o],{type:"application/zip"}).size===0}catch{try{var s=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);s.append(o),i.blob=s.getBlob("application/zip").size===0}catch{i.blob=!1}}}try{i.nodestream=!!r("readable-stream").Readable}catch{i.nodestream=!1}},{"readable-stream":16}],31:[function(r,n,i){for(var o=r("./utils"),s=r("./support"),a=r("./nodejsUtils"),l=r("./stream/GenericWorker"),u=new Array(256),c=0;c<256;c++)u[c]=252<=c?6:248<=c?5:240<=c?4:224<=c?3:192<=c?2:1;u[254]=u[254]=1;function f(){l.call(this,"utf-8 decode"),this.leftOver=null}function d(){l.call(this,"utf-8 encode")}i.utf8encode=function(h){return s.nodebuffer?a.newBufferFrom(h,"utf-8"):(function(g){var m,p,y,b,v,F=g.length,E=0;for(b=0;b<F;b++)(64512&(p=g.charCodeAt(b)))==55296&&b+1<F&&(64512&(y=g.charCodeAt(b+1)))==56320&&(p=65536+(p-55296<<10)+(y-56320),b++),E+=p<128?1:p<2048?2:p<65536?3:4;for(m=s.uint8array?new Uint8Array(E):new Array(E),b=v=0;v<E;b++)(64512&(p=g.charCodeAt(b)))==55296&&b+1<F&&(64512&(y=g.charCodeAt(b+1)))==56320&&(p=65536+(p-55296<<10)+(y-56320),b++),p<128?m[v++]=p:(p<2048?m[v++]=192|p>>>6:(p<65536?m[v++]=224|p>>>12:(m[v++]=240|p>>>18,m[v++]=128|p>>>12&63),m[v++]=128|p>>>6&63),m[v++]=128|63&p);return m})(h)},i.utf8decode=function(h){return s.nodebuffer?o.transformTo("nodebuffer",h).toString("utf-8"):(function(g){var m,p,y,b,v=g.length,F=new Array(2*v);for(m=p=0;m<v;)if((y=g[m++])<128)F[p++]=y;else if(4<(b=u[y]))F[p++]=65533,m+=b-1;else{for(y&=b===2?31:b===3?15:7;1<b&&m<v;)y=y<<6|63&g[m++],b--;1<b?F[p++]=65533:y<65536?F[p++]=y:(y-=65536,F[p++]=55296|y>>10&1023,F[p++]=56320|1023&y)}return F.length!==p&&(F.subarray?F=F.subarray(0,p):F.length=p),o.applyFromCharCode(F)})(h=o.transformTo(s.uint8array?"uint8array":"array",h))},o.inherits(f,l),f.prototype.processChunk=function(h){var g=o.transformTo(s.uint8array?"uint8array":"array",h.data);if(this.leftOver&&this.leftOver.length){if(s.uint8array){var m=g;(g=new Uint8Array(m.length+this.leftOver.length)).set(this.leftOver,0),g.set(m,this.leftOver.length)}else g=this.leftOver.concat(g);this.leftOver=null}var p=(function(b,v){var F;for((v=v||b.length)>b.length&&(v=b.length),F=v-1;0<=F&&(192&b[F])==128;)F--;return F<0||F===0?v:F+u[b[F]]>v?F:v})(g),y=g;p!==g.length&&(s.uint8array?(y=g.subarray(0,p),this.leftOver=g.subarray(p,g.length)):(y=g.slice(0,p),this.leftOver=g.slice(p,g.length))),this.push({data:i.utf8decode(y),meta:h.meta})},f.prototype.flush=function(){this.leftOver&&this.leftOver.length&&(this.push({data:i.utf8decode(this.leftOver),meta:{}}),this.leftOver=null)},i.Utf8DecodeWorker=f,o.inherits(d,l),d.prototype.processChunk=function(h){this.push({data:i.utf8encode(h.data),meta:h.meta})},i.Utf8EncodeWorker=d},{"./nodejsUtils":14,"./stream/GenericWorker":28,"./support":30,"./utils":32}],32:[function(r,n,i){var o=r("./support"),s=r("./base64"),a=r("./nodejsUtils"),l=r("./external");function u(m){return m}function c(m,p){for(var y=0;y<m.length;++y)p[y]=255&m.charCodeAt(y);return p}r("setimmediate"),i.newBlob=function(m,p){i.checkSupport("blob");try{return new Blob([m],{type:p})}catch{try{var y=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);return y.append(m),y.getBlob(p)}catch{throw new Error("Bug : can't construct the Blob.")}}};var f={stringifyByChunk:function(m,p,y){var b=[],v=0,F=m.length;if(F<=y)return String.fromCharCode.apply(null,m);for(;v<F;)p==="array"||p==="nodebuffer"?b.push(String.fromCharCode.apply(null,m.slice(v,Math.min(v+y,F)))):b.push(String.fromCharCode.apply(null,m.subarray(v,Math.min(v+y,F)))),v+=y;return b.join("")},stringifyByChar:function(m){for(var p="",y=0;y<m.length;y++)p+=String.fromCharCode(m[y]);return p},applyCanBeUsed:{uint8array:(function(){try{return o.uint8array&&String.fromCharCode.apply(null,new Uint8Array(1)).length===1}catch{return!1}})(),nodebuffer:(function(){try{return o.nodebuffer&&String.fromCharCode.apply(null,a.allocBuffer(1)).length===1}catch{return!1}})()}};function d(m){var p=65536,y=i.getTypeOf(m),b=!0;if(y==="uint8array"?b=f.applyCanBeUsed.uint8array:y==="nodebuffer"&&(b=f.applyCanBeUsed.nodebuffer),b)for(;1<p;)try{return f.stringifyByChunk(m,y,p)}catch{p=Math.floor(p/2)}return f.stringifyByChar(m)}function h(m,p){for(var y=0;y<m.length;y++)p[y]=m[y];return p}i.applyFromCharCode=d;var g={};g.string={string:u,array:function(m){return c(m,new Array(m.length))},arraybuffer:function(m){return g.string.uint8array(m).buffer},uint8array:function(m){return c(m,new Uint8Array(m.length))},nodebuffer:function(m){return c(m,a.allocBuffer(m.length))}},g.array={string:d,array:u,arraybuffer:function(m){return new Uint8Array(m).buffer},uint8array:function(m){return new Uint8Array(m)},nodebuffer:function(m){return a.newBufferFrom(m)}},g.arraybuffer={string:function(m){return d(new Uint8Array(m))},array:function(m){return h(new Uint8Array(m),new Array(m.byteLength))},arraybuffer:u,uint8array:function(m){return new Uint8Array(m)},nodebuffer:function(m){return a.newBufferFrom(new Uint8Array(m))}},g.uint8array={string:d,array:function(m){return h(m,new Array(m.length))},arraybuffer:function(m){return m.buffer},uint8array:u,nodebuffer:function(m){return a.newBufferFrom(m)}},g.nodebuffer={string:d,array:function(m){return h(m,new Array(m.length))},arraybuffer:function(m){return g.nodebuffer.uint8array(m).buffer},uint8array:function(m){return h(m,new Uint8Array(m.length))},nodebuffer:u},i.transformTo=function(m,p){if(p=p||"",!m)return p;i.checkSupport(m);var y=i.getTypeOf(p);return g[y][m](p)},i.resolve=function(m){for(var p=m.split("/"),y=[],b=0;b<p.length;b++){var v=p[b];v==="."||v===""&&b!==0&&b!==p.length-1||(v===".."?y.pop():y.push(v))}return y.join("/")},i.getTypeOf=function(m){return typeof m=="string"?"string":Object.prototype.toString.call(m)==="[object Array]"?"array":o.nodebuffer&&a.isBuffer(m)?"nodebuffer":o.uint8array&&m instanceof Uint8Array?"uint8array":o.arraybuffer&&m instanceof ArrayBuffer?"arraybuffer":void 0},i.checkSupport=function(m){if(!o[m.toLowerCase()])throw new Error(m+" is not supported by this platform")},i.MAX_VALUE_16BITS=65535,i.MAX_VALUE_32BITS=-1,i.pretty=function(m){var p,y,b="";for(y=0;y<(m||"").length;y++)b+="\\x"+((p=m.charCodeAt(y))<16?"0":"")+p.toString(16).toUpperCase();return b},i.delay=function(m,p,y){setImmediate(function(){m.apply(y||null,p||[])})},i.inherits=function(m,p){function y(){}y.prototype=p.prototype,m.prototype=new y},i.extend=function(){var m,p,y={};for(m=0;m<arguments.length;m++)for(p in arguments[m])Object.prototype.hasOwnProperty.call(arguments[m],p)&&y[p]===void 0&&(y[p]=arguments[m][p]);return y},i.prepareContent=function(m,p,y,b,v){return l.Promise.resolve(p).then(function(F){return o.blob&&(F instanceof Blob||["[object File]","[object Blob]"].indexOf(Object.prototype.toString.call(F))!==-1)&&typeof FileReader<"u"?new l.Promise(function(E,T){var I=new FileReader;I.onload=function(M){E(M.target.result)},I.onerror=function(M){T(M.target.error)},I.readAsArrayBuffer(F)}):F}).then(function(F){var E=i.getTypeOf(F);return E?(E==="arraybuffer"?F=i.transformTo("uint8array",F):E==="string"&&(v?F=s.decode(F):y&&b!==!0&&(F=(function(T){return c(T,o.uint8array?new Uint8Array(T.length):new Array(T.length))})(F))),F):l.Promise.reject(new Error("Can't read the data of '"+m+"'. Is it in a supported JavaScript type (String, Blob, ArrayBuffer, etc) ?"))})}},{"./base64":1,"./external":6,"./nodejsUtils":14,"./support":30,setimmediate:54}],33:[function(r,n,i){var o=r("./reader/readerFor"),s=r("./utils"),a=r("./signature"),l=r("./zipEntry"),u=r("./support");function c(f){this.files=[],this.loadOptions=f}c.prototype={checkSignature:function(f){if(!this.reader.readAndCheckSignature(f)){this.reader.index-=4;var d=this.reader.readString(4);throw new Error("Corrupted zip or bug: unexpected signature ("+s.pretty(d)+", expected "+s.pretty(f)+")")}},isSignature:function(f,d){var h=this.reader.index;this.reader.setIndex(f);var g=this.reader.readString(4)===d;return this.reader.setIndex(h),g},readBlockEndOfCentral:function(){this.diskNumber=this.reader.readInt(2),this.diskWithCentralDirStart=this.reader.readInt(2),this.centralDirRecordsOnThisDisk=this.reader.readInt(2),this.centralDirRecords=this.reader.readInt(2),this.centralDirSize=this.reader.readInt(4),this.centralDirOffset=this.reader.readInt(4),this.zipCommentLength=this.reader.readInt(2);var f=this.reader.readData(this.zipCommentLength),d=u.uint8array?"uint8array":"array",h=s.transformTo(d,f);this.zipComment=this.loadOptions.decodeFileName(h)},readBlockZip64EndOfCentral:function(){this.zip64EndOfCentralSize=this.reader.readInt(8),this.reader.skip(4),this.diskNumber=this.reader.readInt(4),this.diskWithCentralDirStart=this.reader.readInt(4),this.centralDirRecordsOnThisDisk=this.reader.readInt(8),this.centralDirRecords=this.reader.readInt(8),this.centralDirSize=this.reader.readInt(8),this.centralDirOffset=this.reader.readInt(8),this.zip64ExtensibleData={};for(var f,d,h,g=this.zip64EndOfCentralSize-44;0<g;)f=this.reader.readInt(2),d=this.reader.readInt(4),h=this.reader.readData(d),this.zip64ExtensibleData[f]={id:f,length:d,value:h}},readBlockZip64EndOfCentralLocator:function(){if(this.diskWithZip64CentralDirStart=this.reader.readInt(4),this.relativeOffsetEndOfZip64CentralDir=this.reader.readInt(8),this.disksCount=this.reader.readInt(4),1<this.disksCount)throw new Error("Multi-volumes zip are not supported")},readLocalFiles:function(){var f,d;for(f=0;f<this.files.length;f++)d=this.files[f],this.reader.setIndex(d.localHeaderOffset),this.checkSignature(a.LOCAL_FILE_HEADER),d.readLocalPart(this.reader),d.handleUTF8(),d.processAttributes()},readCentralDir:function(){var f;for(this.reader.setIndex(this.centralDirOffset);this.reader.readAndCheckSignature(a.CENTRAL_FILE_HEADER);)(f=new l({zip64:this.zip64},this.loadOptions)).readCentralPart(this.reader),this.files.push(f);if(this.centralDirRecords!==this.files.length&&this.centralDirRecords!==0&&this.files.length===0)throw new Error("Corrupted zip or bug: expected "+this.centralDirRecords+" records in central dir, got "+this.files.length)},readEndOfCentral:function(){var f=this.reader.lastIndexOfSignature(a.CENTRAL_DIRECTORY_END);if(f<0)throw this.isSignature(0,a.LOCAL_FILE_HEADER)?new Error("Corrupted zip: can't find end of central directory"):new Error("Can't find end of central directory : is this a zip file ? If it is, see https://stuk.github.io/jszip/documentation/howto/read_zip.html");this.reader.setIndex(f);var d=f;if(this.checkSignature(a.CENTRAL_DIRECTORY_END),this.readBlockEndOfCentral(),this.diskNumber===s.MAX_VALUE_16BITS||this.diskWithCentralDirStart===s.MAX_VALUE_16BITS||this.centralDirRecordsOnThisDisk===s.MAX_VALUE_16BITS||this.centralDirRecords===s.MAX_VALUE_16BITS||this.centralDirSize===s.MAX_VALUE_32BITS||this.centralDirOffset===s.MAX_VALUE_32BITS){if(this.zip64=!0,(f=this.reader.lastIndexOfSignature(a.ZIP64_CENTRAL_DIRECTORY_LOCATOR))<0)throw new Error("Corrupted zip: can't find the ZIP64 end of central directory locator");if(this.reader.setIndex(f),this.checkSignature(a.ZIP64_CENTRAL_DIRECTORY_LOCATOR),this.readBlockZip64EndOfCentralLocator(),!this.isSignature(this.relativeOffsetEndOfZip64CentralDir,a.ZIP64_CENTRAL_DIRECTORY_END)&&(this.relativeOffsetEndOfZip64CentralDir=this.reader.lastIndexOfSignature(a.ZIP64_CENTRAL_DIRECTORY_END),this.relativeOffsetEndOfZip64CentralDir<0))throw new Error("Corrupted zip: can't find the ZIP64 end of central directory");this.reader.setIndex(this.relativeOffsetEndOfZip64CentralDir),this.checkSignature(a.ZIP64_CENTRAL_DIRECTORY_END),this.readBlockZip64EndOfCentral()}var h=this.centralDirOffset+this.centralDirSize;this.zip64&&(h+=20,h+=12+this.zip64EndOfCentralSize);var g=d-h;if(0<g)this.isSignature(d,a.CENTRAL_FILE_HEADER)||(this.reader.zero=g);else if(g<0)throw new Error("Corrupted zip: missing "+Math.abs(g)+" bytes.")},prepareReader:function(f){this.reader=o(f)},load:function(f){this.prepareReader(f),this.readEndOfCentral(),this.readCentralDir(),this.readLocalFiles()}},n.exports=c},{"./reader/readerFor":22,"./signature":23,"./support":30,"./utils":32,"./zipEntry":34}],34:[function(r,n,i){var o=r("./reader/readerFor"),s=r("./utils"),a=r("./compressedObject"),l=r("./crc32"),u=r("./utf8"),c=r("./compressions"),f=r("./support");function d(h,g){this.options=h,this.loadOptions=g}d.prototype={isEncrypted:function(){return(1&this.bitFlag)==1},useUTF8:function(){return(2048&this.bitFlag)==2048},readLocalPart:function(h){var g,m;if(h.skip(22),this.fileNameLength=h.readInt(2),m=h.readInt(2),this.fileName=h.readData(this.fileNameLength),h.skip(m),this.compressedSize===-1||this.uncompressedSize===-1)throw new Error("Bug or corrupted zip : didn't get enough information from the central directory (compressedSize === -1 || uncompressedSize === -1)");if((g=(function(p){for(var y in c)if(Object.prototype.hasOwnProperty.call(c,y)&&c[y].magic===p)return c[y];return null})(this.compressionMethod))===null)throw new Error("Corrupted zip : compression "+s.pretty(this.compressionMethod)+" unknown (inner file : "+s.transformTo("string",this.fileName)+")");this.decompressed=new a(this.compressedSize,this.uncompressedSize,this.crc32,g,h.readData(this.compressedSize))},readCentralPart:function(h){this.versionMadeBy=h.readInt(2),h.skip(2),this.bitFlag=h.readInt(2),this.compressionMethod=h.readString(2),this.date=h.readDate(),this.crc32=h.readInt(4),this.compressedSize=h.readInt(4),this.uncompressedSize=h.readInt(4);var g=h.readInt(2);if(this.extraFieldsLength=h.readInt(2),this.fileCommentLength=h.readInt(2),this.diskNumberStart=h.readInt(2),this.internalFileAttributes=h.readInt(2),this.externalFileAttributes=h.readInt(4),this.localHeaderOffset=h.readInt(4),this.isEncrypted())throw new Error("Encrypted zip are not supported");h.skip(g),this.readExtraFields(h),this.parseZIP64ExtraField(h),this.fileComment=h.readData(this.fileCommentLength)},processAttributes:function(){this.unixPermissions=null,this.dosPermissions=null;var h=this.versionMadeBy>>8;this.dir=!!(16&this.externalFileAttributes),h==0&&(this.dosPermissions=63&this.externalFileAttributes),h==3&&(this.unixPermissions=this.externalFileAttributes>>16&65535),this.dir||this.fileNameStr.slice(-1)!=="/"||(this.dir=!0)},parseZIP64ExtraField:function(){if(this.extraFields[1]){var h=o(this.extraFields[1].value);this.uncompressedSize===s.MAX_VALUE_32BITS&&(this.uncompressedSize=h.readInt(8)),this.compressedSize===s.MAX_VALUE_32BITS&&(this.compressedSize=h.readInt(8)),this.localHeaderOffset===s.MAX_VALUE_32BITS&&(this.localHeaderOffset=h.readInt(8)),this.diskNumberStart===s.MAX_VALUE_32BITS&&(this.diskNumberStart=h.readInt(4))}},readExtraFields:function(h){var g,m,p,y=h.index+this.extraFieldsLength;for(this.extraFields||(this.extraFields={});h.index+4<y;)g=h.readInt(2),m=h.readInt(2),p=h.readData(m),this.extraFields[g]={id:g,length:m,value:p};h.setIndex(y)},handleUTF8:function(){var h=f.uint8array?"uint8array":"array";if(this.useUTF8())this.fileNameStr=u.utf8decode(this.fileName),this.fileCommentStr=u.utf8decode(this.fileComment);else{var g=this.findExtraFieldUnicodePath();if(g!==null)this.fileNameStr=g;else{var m=s.transformTo(h,this.fileName);this.fileNameStr=this.loadOptions.decodeFileName(m)}var p=this.findExtraFieldUnicodeComment();if(p!==null)this.fileCommentStr=p;else{var y=s.transformTo(h,this.fileComment);this.fileCommentStr=this.loadOptions.decodeFileName(y)}}},findExtraFieldUnicodePath:function(){var h=this.extraFields[28789];if(h){var g=o(h.value);return g.readInt(1)!==1||l(this.fileName)!==g.readInt(4)?null:u.utf8decode(g.readData(h.length-5))}return null},findExtraFieldUnicodeComment:function(){var h=this.extraFields[25461];if(h){var g=o(h.value);return g.readInt(1)!==1||l(this.fileComment)!==g.readInt(4)?null:u.utf8decode(g.readData(h.length-5))}return null}},n.exports=d},{"./compressedObject":2,"./compressions":3,"./crc32":4,"./reader/readerFor":22,"./support":30,"./utf8":31,"./utils":32}],35:[function(r,n,i){function o(g,m,p){this.name=g,this.dir=p.dir,this.date=p.date,this.comment=p.comment,this.unixPermissions=p.unixPermissions,this.dosPermissions=p.dosPermissions,this._data=m,this._dataBinary=p.binary,this.options={compression:p.compression,compressionOptions:p.compressionOptions}}var s=r("./stream/StreamHelper"),a=r("./stream/DataWorker"),l=r("./utf8"),u=r("./compressedObject"),c=r("./stream/GenericWorker");o.prototype={internalStream:function(g){var m=null,p="string";try{if(!g)throw new Error("No output type specified.");var y=(p=g.toLowerCase())==="string"||p==="text";p!=="binarystring"&&p!=="text"||(p="string"),m=this._decompressWorker();var b=!this._dataBinary;b&&!y&&(m=m.pipe(new l.Utf8EncodeWorker)),!b&&y&&(m=m.pipe(new l.Utf8DecodeWorker))}catch(v){(m=new c("error")).error(v)}return new s(m,p,"")},async:function(g,m){return this.internalStream(g).accumulate(m)},nodeStream:function(g,m){return this.internalStream(g||"nodebuffer").toNodejsStream(m)},_compressWorker:function(g,m){if(this._data instanceof u&&this._data.compression.magic===g.magic)return this._data.getCompressedWorker();var p=this._decompressWorker();return this._dataBinary||(p=p.pipe(new l.Utf8EncodeWorker)),u.createWorkerFrom(p,g,m)},_decompressWorker:function(){return this._data instanceof u?this._data.getContentWorker():this._data instanceof c?this._data:new a(this._data)}};for(var f=["asText","asBinary","asNodeBuffer","asUint8Array","asArrayBuffer"],d=function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},h=0;h<f.length;h++)o.prototype[f[h]]=d;n.exports=o},{"./compressedObject":2,"./stream/DataWorker":27,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31}],36:[function(r,n,i){(function(o){var s,a,l=o.MutationObserver||o.WebKitMutationObserver;if(l){var u=0,c=new l(g),f=o.document.createTextNode("");c.observe(f,{characterData:!0}),s=function(){f.data=u=++u%2}}else if(o.setImmediate||o.MessageChannel===void 0)s="document"in o&&"onreadystatechange"in o.document.createElement("script")?function(){var m=o.document.createElement("script");m.onreadystatechange=function(){g(),m.onreadystatechange=null,m.parentNode.removeChild(m),m=null},o.document.documentElement.appendChild(m)}:function(){setTimeout(g,0)};else{var d=new o.MessageChannel;d.port1.onmessage=g,s=function(){d.port2.postMessage(0)}}var h=[];function g(){var m,p;a=!0;for(var y=h.length;y;){for(p=h,h=[],m=-1;++m<y;)p[m]();y=h.length}a=!1}n.exports=function(m){h.push(m)!==1||a||s()}}).call(this,typeof lt<"u"?lt:typeof self<"u"?self:typeof window<"u"?window:{})},{}],37:[function(r,n,i){var o=r("immediate");function s(){}var a={},l=["REJECTED"],u=["FULFILLED"],c=["PENDING"];function f(y){if(typeof y!="function")throw new TypeError("resolver must be a function");this.state=c,this.queue=[],this.outcome=void 0,y!==s&&m(this,y)}function d(y,b,v){this.promise=y,typeof b=="function"&&(this.onFulfilled=b,this.callFulfilled=this.otherCallFulfilled),typeof v=="function"&&(this.onRejected=v,this.callRejected=this.otherCallRejected)}function h(y,b,v){o(function(){var F;try{F=b(v)}catch(E){return a.reject(y,E)}F===y?a.reject(y,new TypeError("Cannot resolve promise with itself")):a.resolve(y,F)})}function g(y){var b=y&&y.then;if(y&&(typeof y=="object"||typeof y=="function")&&typeof b=="function")return function(){b.apply(y,arguments)}}function m(y,b){var v=!1;function F(I){v||(v=!0,a.reject(y,I))}function E(I){v||(v=!0,a.resolve(y,I))}var T=p(function(){b(E,F)});T.status==="error"&&F(T.value)}function p(y,b){var v={};try{v.value=y(b),v.status="success"}catch(F){v.status="error",v.value=F}return v}(n.exports=f).prototype.finally=function(y){if(typeof y!="function")return this;var b=this.constructor;return this.then(function(v){return b.resolve(y()).then(function(){return v})},function(v){return b.resolve(y()).then(function(){throw v})})},f.prototype.catch=function(y){return this.then(null,y)},f.prototype.then=function(y,b){if(typeof y!="function"&&this.state===u||typeof b!="function"&&this.state===l)return this;var v=new this.constructor(s);return this.state!==c?h(v,this.state===u?y:b,this.outcome):this.queue.push(new d(v,y,b)),v},d.prototype.callFulfilled=function(y){a.resolve(this.promise,y)},d.prototype.otherCallFulfilled=function(y){h(this.promise,this.onFulfilled,y)},d.prototype.callRejected=function(y){a.reject(this.promise,y)},d.prototype.otherCallRejected=function(y){h(this.promise,this.onRejected,y)},a.resolve=function(y,b){var v=p(g,b);if(v.status==="error")return a.reject(y,v.value);var F=v.value;if(F)m(y,F);else{y.state=u,y.outcome=b;for(var E=-1,T=y.queue.length;++E<T;)y.queue[E].callFulfilled(b)}return y},a.reject=function(y,b){y.state=l,y.outcome=b;for(var v=-1,F=y.queue.length;++v<F;)y.queue[v].callRejected(b);return y},f.resolve=function(y){return y instanceof this?y:a.resolve(new this(s),y)},f.reject=function(y){var b=new this(s);return a.reject(b,y)},f.all=function(y){var b=this;if(Object.prototype.toString.call(y)!=="[object Array]")return this.reject(new TypeError("must be an array"));var v=y.length,F=!1;if(!v)return this.resolve([]);for(var E=new Array(v),T=0,I=-1,M=new this(s);++I<v;)P(y[I],I);return M;function P(O,z){b.resolve(O).then(function(L){E[z]=L,++T!==v||F||(F=!0,a.resolve(M,E))},function(L){F||(F=!0,a.reject(M,L))})}},f.race=function(y){var b=this;if(Object.prototype.toString.call(y)!=="[object Array]")return this.reject(new TypeError("must be an array"));var v=y.length,F=!1;if(!v)return this.resolve([]);for(var E=-1,T=new this(s);++E<v;)I=y[E],b.resolve(I).then(function(M){F||(F=!0,a.resolve(T,M))},function(M){F||(F=!0,a.reject(T,M))});var I;return T}},{immediate:36}],38:[function(r,n,i){var o={};(0,r("./lib/utils/common").assign)(o,r("./lib/deflate"),r("./lib/inflate"),r("./lib/zlib/constants")),n.exports=o},{"./lib/deflate":39,"./lib/inflate":40,"./lib/utils/common":41,"./lib/zlib/constants":44}],39:[function(r,n,i){var o=r("./zlib/deflate"),s=r("./utils/common"),a=r("./utils/strings"),l=r("./zlib/messages"),u=r("./zlib/zstream"),c=Object.prototype.toString,f=0,d=-1,h=0,g=8;function m(y){if(!(this instanceof m))return new m(y);this.options=s.assign({level:d,method:g,chunkSize:16384,windowBits:15,memLevel:8,strategy:h,to:""},y||{});var b=this.options;b.raw&&0<b.windowBits?b.windowBits=-b.windowBits:b.gzip&&0<b.windowBits&&b.windowBits<16&&(b.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new u,this.strm.avail_out=0;var v=o.deflateInit2(this.strm,b.level,b.method,b.windowBits,b.memLevel,b.strategy);if(v!==f)throw new Error(l[v]);if(b.header&&o.deflateSetHeader(this.strm,b.header),b.dictionary){var F;if(F=typeof b.dictionary=="string"?a.string2buf(b.dictionary):c.call(b.dictionary)==="[object ArrayBuffer]"?new Uint8Array(b.dictionary):b.dictionary,(v=o.deflateSetDictionary(this.strm,F))!==f)throw new Error(l[v]);this._dict_set=!0}}function p(y,b){var v=new m(b);if(v.push(y,!0),v.err)throw v.msg||l[v.err];return v.result}m.prototype.push=function(y,b){var v,F,E=this.strm,T=this.options.chunkSize;if(this.ended)return!1;F=b===~~b?b:b===!0?4:0,typeof y=="string"?E.input=a.string2buf(y):c.call(y)==="[object ArrayBuffer]"?E.input=new Uint8Array(y):E.input=y,E.next_in=0,E.avail_in=E.input.length;do{if(E.avail_out===0&&(E.output=new s.Buf8(T),E.next_out=0,E.avail_out=T),(v=o.deflate(E,F))!==1&&v!==f)return this.onEnd(v),!(this.ended=!0);E.avail_out!==0&&(E.avail_in!==0||F!==4&&F!==2)||(this.options.to==="string"?this.onData(a.buf2binstring(s.shrinkBuf(E.output,E.next_out))):this.onData(s.shrinkBuf(E.output,E.next_out)))}while((0<E.avail_in||E.avail_out===0)&&v!==1);return F===4?(v=o.deflateEnd(this.strm),this.onEnd(v),this.ended=!0,v===f):F!==2||(this.onEnd(f),!(E.avail_out=0))},m.prototype.onData=function(y){this.chunks.push(y)},m.prototype.onEnd=function(y){y===f&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=s.flattenChunks(this.chunks)),this.chunks=[],this.err=y,this.msg=this.strm.msg},i.Deflate=m,i.deflate=p,i.deflateRaw=function(y,b){return(b=b||{}).raw=!0,p(y,b)},i.gzip=function(y,b){return(b=b||{}).gzip=!0,p(y,b)}},{"./utils/common":41,"./utils/strings":42,"./zlib/deflate":46,"./zlib/messages":51,"./zlib/zstream":53}],40:[function(r,n,i){var o=r("./zlib/inflate"),s=r("./utils/common"),a=r("./utils/strings"),l=r("./zlib/constants"),u=r("./zlib/messages"),c=r("./zlib/zstream"),f=r("./zlib/gzheader"),d=Object.prototype.toString;function h(m){if(!(this instanceof h))return new h(m);this.options=s.assign({chunkSize:16384,windowBits:0,to:""},m||{});var p=this.options;p.raw&&0<=p.windowBits&&p.windowBits<16&&(p.windowBits=-p.windowBits,p.windowBits===0&&(p.windowBits=-15)),!(0<=p.windowBits&&p.windowBits<16)||m&&m.windowBits||(p.windowBits+=32),15<p.windowBits&&p.windowBits<48&&(15&p.windowBits)==0&&(p.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new c,this.strm.avail_out=0;var y=o.inflateInit2(this.strm,p.windowBits);if(y!==l.Z_OK)throw new Error(u[y]);this.header=new f,o.inflateGetHeader(this.strm,this.header)}function g(m,p){var y=new h(p);if(y.push(m,!0),y.err)throw y.msg||u[y.err];return y.result}h.prototype.push=function(m,p){var y,b,v,F,E,T,I=this.strm,M=this.options.chunkSize,P=this.options.dictionary,O=!1;if(this.ended)return!1;b=p===~~p?p:p===!0?l.Z_FINISH:l.Z_NO_FLUSH,typeof m=="string"?I.input=a.binstring2buf(m):d.call(m)==="[object ArrayBuffer]"?I.input=new Uint8Array(m):I.input=m,I.next_in=0,I.avail_in=I.input.length;do{if(I.avail_out===0&&(I.output=new s.Buf8(M),I.next_out=0,I.avail_out=M),(y=o.inflate(I,l.Z_NO_FLUSH))===l.Z_NEED_DICT&&P&&(T=typeof P=="string"?a.string2buf(P):d.call(P)==="[object ArrayBuffer]"?new Uint8Array(P):P,y=o.inflateSetDictionary(this.strm,T)),y===l.Z_BUF_ERROR&&O===!0&&(y=l.Z_OK,O=!1),y!==l.Z_STREAM_END&&y!==l.Z_OK)return this.onEnd(y),!(this.ended=!0);I.next_out&&(I.avail_out!==0&&y!==l.Z_STREAM_END&&(I.avail_in!==0||b!==l.Z_FINISH&&b!==l.Z_SYNC_FLUSH)||(this.options.to==="string"?(v=a.utf8border(I.output,I.next_out),F=I.next_out-v,E=a.buf2string(I.output,v),I.next_out=F,I.avail_out=M-F,F&&s.arraySet(I.output,I.output,v,F,0),this.onData(E)):this.onData(s.shrinkBuf(I.output,I.next_out)))),I.avail_in===0&&I.avail_out===0&&(O=!0)}while((0<I.avail_in||I.avail_out===0)&&y!==l.Z_STREAM_END);return y===l.Z_STREAM_END&&(b=l.Z_FINISH),b===l.Z_FINISH?(y=o.inflateEnd(this.strm),this.onEnd(y),this.ended=!0,y===l.Z_OK):b!==l.Z_SYNC_FLUSH||(this.onEnd(l.Z_OK),!(I.avail_out=0))},h.prototype.onData=function(m){this.chunks.push(m)},h.prototype.onEnd=function(m){m===l.Z_OK&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=s.flattenChunks(this.chunks)),this.chunks=[],this.err=m,this.msg=this.strm.msg},i.Inflate=h,i.inflate=g,i.inflateRaw=function(m,p){return(p=p||{}).raw=!0,g(m,p)},i.ungzip=g},{"./utils/common":41,"./utils/strings":42,"./zlib/constants":44,"./zlib/gzheader":47,"./zlib/inflate":49,"./zlib/messages":51,"./zlib/zstream":53}],41:[function(r,n,i){var o=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Int32Array<"u";i.assign=function(l){for(var u=Array.prototype.slice.call(arguments,1);u.length;){var c=u.shift();if(c){if(typeof c!="object")throw new TypeError(c+"must be non-object");for(var f in c)c.hasOwnProperty(f)&&(l[f]=c[f])}}return l},i.shrinkBuf=function(l,u){return l.length===u?l:l.subarray?l.subarray(0,u):(l.length=u,l)};var s={arraySet:function(l,u,c,f,d){if(u.subarray&&l.subarray)l.set(u.subarray(c,c+f),d);else for(var h=0;h<f;h++)l[d+h]=u[c+h]},flattenChunks:function(l){var u,c,f,d,h,g;for(u=f=0,c=l.length;u<c;u++)f+=l[u].length;for(g=new Uint8Array(f),u=d=0,c=l.length;u<c;u++)h=l[u],g.set(h,d),d+=h.length;return g}},a={arraySet:function(l,u,c,f,d){for(var h=0;h<f;h++)l[d+h]=u[c+h]},flattenChunks:function(l){return[].concat.apply([],l)}};i.setTyped=function(l){l?(i.Buf8=Uint8Array,i.Buf16=Uint16Array,i.Buf32=Int32Array,i.assign(i,s)):(i.Buf8=Array,i.Buf16=Array,i.Buf32=Array,i.assign(i,a))},i.setTyped(o)},{}],42:[function(r,n,i){var o=r("./common"),s=!0,a=!0;try{String.fromCharCode.apply(null,[0])}catch{s=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{a=!1}for(var l=new o.Buf8(256),u=0;u<256;u++)l[u]=252<=u?6:248<=u?5:240<=u?4:224<=u?3:192<=u?2:1;function c(f,d){if(d<65537&&(f.subarray&&a||!f.subarray&&s))return String.fromCharCode.apply(null,o.shrinkBuf(f,d));for(var h="",g=0;g<d;g++)h+=String.fromCharCode(f[g]);return h}l[254]=l[254]=1,i.string2buf=function(f){var d,h,g,m,p,y=f.length,b=0;for(m=0;m<y;m++)(64512&(h=f.charCodeAt(m)))==55296&&m+1<y&&(64512&(g=f.charCodeAt(m+1)))==56320&&(h=65536+(h-55296<<10)+(g-56320),m++),b+=h<128?1:h<2048?2:h<65536?3:4;for(d=new o.Buf8(b),m=p=0;p<b;m++)(64512&(h=f.charCodeAt(m)))==55296&&m+1<y&&(64512&(g=f.charCodeAt(m+1)))==56320&&(h=65536+(h-55296<<10)+(g-56320),m++),h<128?d[p++]=h:(h<2048?d[p++]=192|h>>>6:(h<65536?d[p++]=224|h>>>12:(d[p++]=240|h>>>18,d[p++]=128|h>>>12&63),d[p++]=128|h>>>6&63),d[p++]=128|63&h);return d},i.buf2binstring=function(f){return c(f,f.length)},i.binstring2buf=function(f){for(var d=new o.Buf8(f.length),h=0,g=d.length;h<g;h++)d[h]=f.charCodeAt(h);return d},i.buf2string=function(f,d){var h,g,m,p,y=d||f.length,b=new Array(2*y);for(h=g=0;h<y;)if((m=f[h++])<128)b[g++]=m;else if(4<(p=l[m]))b[g++]=65533,h+=p-1;else{for(m&=p===2?31:p===3?15:7;1<p&&h<y;)m=m<<6|63&f[h++],p--;1<p?b[g++]=65533:m<65536?b[g++]=m:(m-=65536,b[g++]=55296|m>>10&1023,b[g++]=56320|1023&m)}return c(b,g)},i.utf8border=function(f,d){var h;for((d=d||f.length)>f.length&&(d=f.length),h=d-1;0<=h&&(192&f[h])==128;)h--;return h<0||h===0?d:h+l[f[h]]>d?h:d}},{"./common":41}],43:[function(r,n,i){n.exports=function(o,s,a,l){for(var u=65535&o|0,c=o>>>16&65535|0,f=0;a!==0;){for(a-=f=2e3<a?2e3:a;c=c+(u=u+s[l++]|0)|0,--f;);u%=65521,c%=65521}return u|c<<16|0}},{}],44:[function(r,n,i){n.exports={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}},{}],45:[function(r,n,i){var o=(function(){for(var s,a=[],l=0;l<256;l++){s=l;for(var u=0;u<8;u++)s=1&s?3988292384^s>>>1:s>>>1;a[l]=s}return a})();n.exports=function(s,a,l,u){var c=o,f=u+l;s^=-1;for(var d=u;d<f;d++)s=s>>>8^c[255&(s^a[d])];return-1^s}},{}],46:[function(r,n,i){var o,s=r("../utils/common"),a=r("./trees"),l=r("./adler32"),u=r("./crc32"),c=r("./messages"),f=0,d=4,h=0,g=-2,m=-1,p=4,y=2,b=8,v=9,F=286,E=30,T=19,I=2*F+1,M=15,P=3,O=258,z=O+P+1,L=42,_=113,R=1,k=2,S=3,w=4;function C(W,ne){return W.msg=c[ne],ne}function x(W){return(W<<1)-(4<W?9:0)}function A(W){for(var ne=W.length;0<=--ne;)W[ne]=0}function D(W){var ne=W.state,re=ne.pending;re>W.avail_out&&(re=W.avail_out),re!==0&&(s.arraySet(W.output,ne.pending_buf,ne.pending_out,re,W.next_out),W.next_out+=re,ne.pending_out+=re,W.total_out+=re,W.avail_out-=re,ne.pending-=re,ne.pending===0&&(ne.pending_out=0))}function B(W,ne){a._tr_flush_block(W,0<=W.block_start?W.block_start:-1,W.strstart-W.block_start,ne),W.block_start=W.strstart,D(W.strm)}function V(W,ne){W.pending_buf[W.pending++]=ne}function j(W,ne){W.pending_buf[W.pending++]=ne>>>8&255,W.pending_buf[W.pending++]=255&ne}function K(W,ne){var re,q,X=W.max_chain_length,te=W.strstart,se=W.prev_length,oe=W.nice_match,ie=W.strstart>W.w_size-z?W.strstart-(W.w_size-z):0,ae=W.window,ue=W.w_mask,ce=W.prev,pe=W.strstart+O,ye=ae[te+se-1],ge=ae[te+se];W.prev_length>=W.good_match&&(X>>=2),oe>W.lookahead&&(oe=W.lookahead);do if(ae[(re=ne)+se]===ge&&ae[re+se-1]===ye&&ae[re]===ae[te]&&ae[++re]===ae[te+1]){te+=2,re++;do;while(ae[++te]===ae[++re]&&ae[++te]===ae[++re]&&ae[++te]===ae[++re]&&ae[++te]===ae[++re]&&ae[++te]===ae[++re]&&ae[++te]===ae[++re]&&ae[++te]===ae[++re]&&ae[++te]===ae[++re]&&te<pe);if(q=O-(pe-te),te=pe-O,se<q){if(W.match_start=ne,oe<=(se=q))break;ye=ae[te+se-1],ge=ae[te+se]}}while((ne=ce[ne&ue])>ie&&--X!=0);return se<=W.lookahead?se:W.lookahead}function G(W){var ne,re,q,X,te,se,oe,ie,ae,ue,ce=W.w_size;do{if(X=W.window_size-W.lookahead-W.strstart,W.strstart>=ce+(ce-z)){for(s.arraySet(W.window,W.window,ce,ce,0),W.match_start-=ce,W.strstart-=ce,W.block_start-=ce,ne=re=W.hash_size;q=W.head[--ne],W.head[ne]=ce<=q?q-ce:0,--re;);for(ne=re=ce;q=W.prev[--ne],W.prev[ne]=ce<=q?q-ce:0,--re;);X+=ce}if(W.strm.avail_in===0)break;if(se=W.strm,oe=W.window,ie=W.strstart+W.lookahead,ae=X,ue=void 0,ue=se.avail_in,ae<ue&&(ue=ae),re=ue===0?0:(se.avail_in-=ue,s.arraySet(oe,se.input,se.next_in,ue,ie),se.state.wrap===1?se.adler=l(se.adler,oe,ue,ie):se.state.wrap===2&&(se.adler=u(se.adler,oe,ue,ie)),se.next_in+=ue,se.total_in+=ue,ue),W.lookahead+=re,W.lookahead+W.insert>=P)for(te=W.strstart-W.insert,W.ins_h=W.window[te],W.ins_h=(W.ins_h<<W.hash_shift^W.window[te+1])&W.hash_mask;W.insert&&(W.ins_h=(W.ins_h<<W.hash_shift^W.window[te+P-1])&W.hash_mask,W.prev[te&W.w_mask]=W.head[W.ins_h],W.head[W.ins_h]=te,te++,W.insert--,!(W.lookahead+W.insert<P)););}while(W.lookahead<z&&W.strm.avail_in!==0)}function Y(W,ne){for(var re,q;;){if(W.lookahead<z){if(G(W),W.lookahead<z&&ne===f)return R;if(W.lookahead===0)break}if(re=0,W.lookahead>=P&&(W.ins_h=(W.ins_h<<W.hash_shift^W.window[W.strstart+P-1])&W.hash_mask,re=W.prev[W.strstart&W.w_mask]=W.head[W.ins_h],W.head[W.ins_h]=W.strstart),re!==0&&W.strstart-re<=W.w_size-z&&(W.match_length=K(W,re)),W.match_length>=P)if(q=a._tr_tally(W,W.strstart-W.match_start,W.match_length-P),W.lookahead-=W.match_length,W.match_length<=W.max_lazy_match&&W.lookahead>=P){for(W.match_length--;W.strstart++,W.ins_h=(W.ins_h<<W.hash_shift^W.window[W.strstart+P-1])&W.hash_mask,re=W.prev[W.strstart&W.w_mask]=W.head[W.ins_h],W.head[W.ins_h]=W.strstart,--W.match_length!=0;);W.strstart++}else W.strstart+=W.match_length,W.match_length=0,W.ins_h=W.window[W.strstart],W.ins_h=(W.ins_h<<W.hash_shift^W.window[W.strstart+1])&W.hash_mask;else q=a._tr_tally(W,0,W.window[W.strstart]),W.lookahead--,W.strstart++;if(q&&(B(W,!1),W.strm.avail_out===0))return R}return W.insert=W.strstart<P-1?W.strstart:P-1,ne===d?(B(W,!0),W.strm.avail_out===0?S:w):W.last_lit&&(B(W,!1),W.strm.avail_out===0)?R:k}function H(W,ne){for(var re,q,X;;){if(W.lookahead<z){if(G(W),W.lookahead<z&&ne===f)return R;if(W.lookahead===0)break}if(re=0,W.lookahead>=P&&(W.ins_h=(W.ins_h<<W.hash_shift^W.window[W.strstart+P-1])&W.hash_mask,re=W.prev[W.strstart&W.w_mask]=W.head[W.ins_h],W.head[W.ins_h]=W.strstart),W.prev_length=W.match_length,W.prev_match=W.match_start,W.match_length=P-1,re!==0&&W.prev_length<W.max_lazy_match&&W.strstart-re<=W.w_size-z&&(W.match_length=K(W,re),W.match_length<=5&&(W.strategy===1||W.match_length===P&&4096<W.strstart-W.match_start)&&(W.match_length=P-1)),W.prev_length>=P&&W.match_length<=W.prev_length){for(X=W.strstart+W.lookahead-P,q=a._tr_tally(W,W.strstart-1-W.prev_match,W.prev_length-P),W.lookahead-=W.prev_length-1,W.prev_length-=2;++W.strstart<=X&&(W.ins_h=(W.ins_h<<W.hash_shift^W.window[W.strstart+P-1])&W.hash_mask,re=W.prev[W.strstart&W.w_mask]=W.head[W.ins_h],W.head[W.ins_h]=W.strstart),--W.prev_length!=0;);if(W.match_available=0,W.match_length=P-1,W.strstart++,q&&(B(W,!1),W.strm.avail_out===0))return R}else if(W.match_available){if((q=a._tr_tally(W,0,W.window[W.strstart-1]))&&B(W,!1),W.strstart++,W.lookahead--,W.strm.avail_out===0)return R}else W.match_available=1,W.strstart++,W.lookahead--}return W.match_available&&(q=a._tr_tally(W,0,W.window[W.strstart-1]),W.match_available=0),W.insert=W.strstart<P-1?W.strstart:P-1,ne===d?(B(W,!0),W.strm.avail_out===0?S:w):W.last_lit&&(B(W,!1),W.strm.avail_out===0)?R:k}function N(W,ne,re,q,X){this.good_length=W,this.max_lazy=ne,this.nice_length=re,this.max_chain=q,this.func=X}function $(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=b,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new s.Buf16(2*I),this.dyn_dtree=new s.Buf16(2*(2*E+1)),this.bl_tree=new s.Buf16(2*(2*T+1)),A(this.dyn_ltree),A(this.dyn_dtree),A(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new s.Buf16(M+1),this.heap=new s.Buf16(2*F+1),A(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new s.Buf16(2*F+1),A(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}function J(W){var ne;return W&&W.state?(W.total_in=W.total_out=0,W.data_type=y,(ne=W.state).pending=0,ne.pending_out=0,ne.wrap<0&&(ne.wrap=-ne.wrap),ne.status=ne.wrap?L:_,W.adler=ne.wrap===2?0:1,ne.last_flush=f,a._tr_init(ne),h):C(W,g)}function Q(W){var ne=J(W);return ne===h&&(function(re){re.window_size=2*re.w_size,A(re.head),re.max_lazy_match=o[re.level].max_lazy,re.good_match=o[re.level].good_length,re.nice_match=o[re.level].nice_length,re.max_chain_length=o[re.level].max_chain,re.strstart=0,re.block_start=0,re.lookahead=0,re.insert=0,re.match_length=re.prev_length=P-1,re.match_available=0,re.ins_h=0})(W.state),ne}function ee(W,ne,re,q,X,te){if(!W)return g;var se=1;if(ne===m&&(ne=6),q<0?(se=0,q=-q):15<q&&(se=2,q-=16),X<1||v<X||re!==b||q<8||15<q||ne<0||9<ne||te<0||p<te)return C(W,g);q===8&&(q=9);var oe=new $;return(W.state=oe).strm=W,oe.wrap=se,oe.gzhead=null,oe.w_bits=q,oe.w_size=1<<oe.w_bits,oe.w_mask=oe.w_size-1,oe.hash_bits=X+7,oe.hash_size=1<<oe.hash_bits,oe.hash_mask=oe.hash_size-1,oe.hash_shift=~~((oe.hash_bits+P-1)/P),oe.window=new s.Buf8(2*oe.w_size),oe.head=new s.Buf16(oe.hash_size),oe.prev=new s.Buf16(oe.w_size),oe.lit_bufsize=1<<X+6,oe.pending_buf_size=4*oe.lit_bufsize,oe.pending_buf=new s.Buf8(oe.pending_buf_size),oe.d_buf=1*oe.lit_bufsize,oe.l_buf=3*oe.lit_bufsize,oe.level=ne,oe.strategy=te,oe.method=re,Q(W)}o=[new N(0,0,0,0,function(W,ne){var re=65535;for(re>W.pending_buf_size-5&&(re=W.pending_buf_size-5);;){if(W.lookahead<=1){if(G(W),W.lookahead===0&&ne===f)return R;if(W.lookahead===0)break}W.strstart+=W.lookahead,W.lookahead=0;var q=W.block_start+re;if((W.strstart===0||W.strstart>=q)&&(W.lookahead=W.strstart-q,W.strstart=q,B(W,!1),W.strm.avail_out===0)||W.strstart-W.block_start>=W.w_size-z&&(B(W,!1),W.strm.avail_out===0))return R}return W.insert=0,ne===d?(B(W,!0),W.strm.avail_out===0?S:w):(W.strstart>W.block_start&&(B(W,!1),W.strm.avail_out),R)}),new N(4,4,8,4,Y),new N(4,5,16,8,Y),new N(4,6,32,32,Y),new N(4,4,16,16,H),new N(8,16,32,32,H),new N(8,16,128,128,H),new N(8,32,128,256,H),new N(32,128,258,1024,H),new N(32,258,258,4096,H)],i.deflateInit=function(W,ne){return ee(W,ne,b,15,8,0)},i.deflateInit2=ee,i.deflateReset=Q,i.deflateResetKeep=J,i.deflateSetHeader=function(W,ne){return W&&W.state?W.state.wrap!==2?g:(W.state.gzhead=ne,h):g},i.deflate=function(W,ne){var re,q,X,te;if(!W||!W.state||5<ne||ne<0)return W?C(W,g):g;if(q=W.state,!W.output||!W.input&&W.avail_in!==0||q.status===666&&ne!==d)return C(W,W.avail_out===0?-5:g);if(q.strm=W,re=q.last_flush,q.last_flush=ne,q.status===L)if(q.wrap===2)W.adler=0,V(q,31),V(q,139),V(q,8),q.gzhead?(V(q,(q.gzhead.text?1:0)+(q.gzhead.hcrc?2:0)+(q.gzhead.extra?4:0)+(q.gzhead.name?8:0)+(q.gzhead.comment?16:0)),V(q,255&q.gzhead.time),V(q,q.gzhead.time>>8&255),V(q,q.gzhead.time>>16&255),V(q,q.gzhead.time>>24&255),V(q,q.level===9?2:2<=q.strategy||q.level<2?4:0),V(q,255&q.gzhead.os),q.gzhead.extra&&q.gzhead.extra.length&&(V(q,255&q.gzhead.extra.length),V(q,q.gzhead.extra.length>>8&255)),q.gzhead.hcrc&&(W.adler=u(W.adler,q.pending_buf,q.pending,0)),q.gzindex=0,q.status=69):(V(q,0),V(q,0),V(q,0),V(q,0),V(q,0),V(q,q.level===9?2:2<=q.strategy||q.level<2?4:0),V(q,3),q.status=_);else{var se=b+(q.w_bits-8<<4)<<8;se|=(2<=q.strategy||q.level<2?0:q.level<6?1:q.level===6?2:3)<<6,q.strstart!==0&&(se|=32),se+=31-se%31,q.status=_,j(q,se),q.strstart!==0&&(j(q,W.adler>>>16),j(q,65535&W.adler)),W.adler=1}if(q.status===69)if(q.gzhead.extra){for(X=q.pending;q.gzindex<(65535&q.gzhead.extra.length)&&(q.pending!==q.pending_buf_size||(q.gzhead.hcrc&&q.pending>X&&(W.adler=u(W.adler,q.pending_buf,q.pending-X,X)),D(W),X=q.pending,q.pending!==q.pending_buf_size));)V(q,255&q.gzhead.extra[q.gzindex]),q.gzindex++;q.gzhead.hcrc&&q.pending>X&&(W.adler=u(W.adler,q.pending_buf,q.pending-X,X)),q.gzindex===q.gzhead.extra.length&&(q.gzindex=0,q.status=73)}else q.status=73;if(q.status===73)if(q.gzhead.name){X=q.pending;do{if(q.pending===q.pending_buf_size&&(q.gzhead.hcrc&&q.pending>X&&(W.adler=u(W.adler,q.pending_buf,q.pending-X,X)),D(W),X=q.pending,q.pending===q.pending_buf_size)){te=1;break}te=q.gzindex<q.gzhead.name.length?255&q.gzhead.name.charCodeAt(q.gzindex++):0,V(q,te)}while(te!==0);q.gzhead.hcrc&&q.pending>X&&(W.adler=u(W.adler,q.pending_buf,q.pending-X,X)),te===0&&(q.gzindex=0,q.status=91)}else q.status=91;if(q.status===91)if(q.gzhead.comment){X=q.pending;do{if(q.pending===q.pending_buf_size&&(q.gzhead.hcrc&&q.pending>X&&(W.adler=u(W.adler,q.pending_buf,q.pending-X,X)),D(W),X=q.pending,q.pending===q.pending_buf_size)){te=1;break}te=q.gzindex<q.gzhead.comment.length?255&q.gzhead.comment.charCodeAt(q.gzindex++):0,V(q,te)}while(te!==0);q.gzhead.hcrc&&q.pending>X&&(W.adler=u(W.adler,q.pending_buf,q.pending-X,X)),te===0&&(q.status=103)}else q.status=103;if(q.status===103&&(q.gzhead.hcrc?(q.pending+2>q.pending_buf_size&&D(W),q.pending+2<=q.pending_buf_size&&(V(q,255&W.adler),V(q,W.adler>>8&255),W.adler=0,q.status=_)):q.status=_),q.pending!==0){if(D(W),W.avail_out===0)return q.last_flush=-1,h}else if(W.avail_in===0&&x(ne)<=x(re)&&ne!==d)return C(W,-5);if(q.status===666&&W.avail_in!==0)return C(W,-5);if(W.avail_in!==0||q.lookahead!==0||ne!==f&&q.status!==666){var oe=q.strategy===2?(function(ie,ae){for(var ue;;){if(ie.lookahead===0&&(G(ie),ie.lookahead===0)){if(ae===f)return R;break}if(ie.match_length=0,ue=a._tr_tally(ie,0,ie.window[ie.strstart]),ie.lookahead--,ie.strstart++,ue&&(B(ie,!1),ie.strm.avail_out===0))return R}return ie.insert=0,ae===d?(B(ie,!0),ie.strm.avail_out===0?S:w):ie.last_lit&&(B(ie,!1),ie.strm.avail_out===0)?R:k})(q,ne):q.strategy===3?(function(ie,ae){for(var ue,ce,pe,ye,ge=ie.window;;){if(ie.lookahead<=O){if(G(ie),ie.lookahead<=O&&ae===f)return R;if(ie.lookahead===0)break}if(ie.match_length=0,ie.lookahead>=P&&0<ie.strstart&&(ce=ge[pe=ie.strstart-1])===ge[++pe]&&ce===ge[++pe]&&ce===ge[++pe]){ye=ie.strstart+O;do;while(ce===ge[++pe]&&ce===ge[++pe]&&ce===ge[++pe]&&ce===ge[++pe]&&ce===ge[++pe]&&ce===ge[++pe]&&ce===ge[++pe]&&ce===ge[++pe]&&pe<ye);ie.match_length=O-(ye-pe),ie.match_length>ie.lookahead&&(ie.match_length=ie.lookahead)}if(ie.match_length>=P?(ue=a._tr_tally(ie,1,ie.match_length-P),ie.lookahead-=ie.match_length,ie.strstart+=ie.match_length,ie.match_length=0):(ue=a._tr_tally(ie,0,ie.window[ie.strstart]),ie.lookahead--,ie.strstart++),ue&&(B(ie,!1),ie.strm.avail_out===0))return R}return ie.insert=0,ae===d?(B(ie,!0),ie.strm.avail_out===0?S:w):ie.last_lit&&(B(ie,!1),ie.strm.avail_out===0)?R:k})(q,ne):o[q.level].func(q,ne);if(oe!==S&&oe!==w||(q.status=666),oe===R||oe===S)return W.avail_out===0&&(q.last_flush=-1),h;if(oe===k&&(ne===1?a._tr_align(q):ne!==5&&(a._tr_stored_block(q,0,0,!1),ne===3&&(A(q.head),q.lookahead===0&&(q.strstart=0,q.block_start=0,q.insert=0))),D(W),W.avail_out===0))return q.last_flush=-1,h}return ne!==d?h:q.wrap<=0?1:(q.wrap===2?(V(q,255&W.adler),V(q,W.adler>>8&255),V(q,W.adler>>16&255),V(q,W.adler>>24&255),V(q,255&W.total_in),V(q,W.total_in>>8&255),V(q,W.total_in>>16&255),V(q,W.total_in>>24&255)):(j(q,W.adler>>>16),j(q,65535&W.adler)),D(W),0<q.wrap&&(q.wrap=-q.wrap),q.pending!==0?h:1)},i.deflateEnd=function(W){var ne;return W&&W.state?(ne=W.state.status)!==L&&ne!==69&&ne!==73&&ne!==91&&ne!==103&&ne!==_&&ne!==666?C(W,g):(W.state=null,ne===_?C(W,-3):h):g},i.deflateSetDictionary=function(W,ne){var re,q,X,te,se,oe,ie,ae,ue=ne.length;if(!W||!W.state||(te=(re=W.state).wrap)===2||te===1&&re.status!==L||re.lookahead)return g;for(te===1&&(W.adler=l(W.adler,ne,ue,0)),re.wrap=0,ue>=re.w_size&&(te===0&&(A(re.head),re.strstart=0,re.block_start=0,re.insert=0),ae=new s.Buf8(re.w_size),s.arraySet(ae,ne,ue-re.w_size,re.w_size,0),ne=ae,ue=re.w_size),se=W.avail_in,oe=W.next_in,ie=W.input,W.avail_in=ue,W.next_in=0,W.input=ne,G(re);re.lookahead>=P;){for(q=re.strstart,X=re.lookahead-(P-1);re.ins_h=(re.ins_h<<re.hash_shift^re.window[q+P-1])&re.hash_mask,re.prev[q&re.w_mask]=re.head[re.ins_h],re.head[re.ins_h]=q,q++,--X;);re.strstart=q,re.lookahead=P-1,G(re)}return re.strstart+=re.lookahead,re.block_start=re.strstart,re.insert=re.lookahead,re.lookahead=0,re.match_length=re.prev_length=P-1,re.match_available=0,W.next_in=oe,W.input=ie,W.avail_in=se,re.wrap=te,h},i.deflateInfo="pako deflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./messages":51,"./trees":52}],47:[function(r,n,i){n.exports=function(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}},{}],48:[function(r,n,i){n.exports=function(o,s){var a,l,u,c,f,d,h,g,m,p,y,b,v,F,E,T,I,M,P,O,z,L,_,R,k;a=o.state,l=o.next_in,R=o.input,u=l+(o.avail_in-5),c=o.next_out,k=o.output,f=c-(s-o.avail_out),d=c+(o.avail_out-257),h=a.dmax,g=a.wsize,m=a.whave,p=a.wnext,y=a.window,b=a.hold,v=a.bits,F=a.lencode,E=a.distcode,T=(1<<a.lenbits)-1,I=(1<<a.distbits)-1;e:do{v<15&&(b+=R[l++]<<v,v+=8,b+=R[l++]<<v,v+=8),M=F[b&T];t:for(;;){if(b>>>=P=M>>>24,v-=P,(P=M>>>16&255)===0)k[c++]=65535&M;else{if(!(16&P)){if((64&P)==0){M=F[(65535&M)+(b&(1<<P)-1)];continue t}if(32&P){a.mode=12;break e}o.msg="invalid literal/length code",a.mode=30;break e}O=65535&M,(P&=15)&&(v<P&&(b+=R[l++]<<v,v+=8),O+=b&(1<<P)-1,b>>>=P,v-=P),v<15&&(b+=R[l++]<<v,v+=8,b+=R[l++]<<v,v+=8),M=E[b&I];r:for(;;){if(b>>>=P=M>>>24,v-=P,!(16&(P=M>>>16&255))){if((64&P)==0){M=E[(65535&M)+(b&(1<<P)-1)];continue r}o.msg="invalid distance code",a.mode=30;break e}if(z=65535&M,v<(P&=15)&&(b+=R[l++]<<v,(v+=8)<P&&(b+=R[l++]<<v,v+=8)),h<(z+=b&(1<<P)-1)){o.msg="invalid distance too far back",a.mode=30;break e}if(b>>>=P,v-=P,(P=c-f)<z){if(m<(P=z-P)&&a.sane){o.msg="invalid distance too far back",a.mode=30;break e}if(_=y,(L=0)===p){if(L+=g-P,P<O){for(O-=P;k[c++]=y[L++],--P;);L=c-z,_=k}}else if(p<P){if(L+=g+p-P,(P-=p)<O){for(O-=P;k[c++]=y[L++],--P;);if(L=0,p<O){for(O-=P=p;k[c++]=y[L++],--P;);L=c-z,_=k}}}else if(L+=p-P,P<O){for(O-=P;k[c++]=y[L++],--P;);L=c-z,_=k}for(;2<O;)k[c++]=_[L++],k[c++]=_[L++],k[c++]=_[L++],O-=3;O&&(k[c++]=_[L++],1<O&&(k[c++]=_[L++]))}else{for(L=c-z;k[c++]=k[L++],k[c++]=k[L++],k[c++]=k[L++],2<(O-=3););O&&(k[c++]=k[L++],1<O&&(k[c++]=k[L++]))}break}}break}}while(l<u&&c<d);l-=O=v>>3,b&=(1<<(v-=O<<3))-1,o.next_in=l,o.next_out=c,o.avail_in=l<u?u-l+5:5-(l-u),o.avail_out=c<d?d-c+257:257-(c-d),a.hold=b,a.bits=v}},{}],49:[function(r,n,i){var o=r("../utils/common"),s=r("./adler32"),a=r("./crc32"),l=r("./inffast"),u=r("./inftrees"),c=1,f=2,d=0,h=-2,g=1,m=852,p=592;function y(L){return(L>>>24&255)+(L>>>8&65280)+((65280&L)<<8)+((255&L)<<24)}function b(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new o.Buf16(320),this.work=new o.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function v(L){var _;return L&&L.state?(_=L.state,L.total_in=L.total_out=_.total=0,L.msg="",_.wrap&&(L.adler=1&_.wrap),_.mode=g,_.last=0,_.havedict=0,_.dmax=32768,_.head=null,_.hold=0,_.bits=0,_.lencode=_.lendyn=new o.Buf32(m),_.distcode=_.distdyn=new o.Buf32(p),_.sane=1,_.back=-1,d):h}function F(L){var _;return L&&L.state?((_=L.state).wsize=0,_.whave=0,_.wnext=0,v(L)):h}function E(L,_){var R,k;return L&&L.state?(k=L.state,_<0?(R=0,_=-_):(R=1+(_>>4),_<48&&(_&=15)),_&&(_<8||15<_)?h:(k.window!==null&&k.wbits!==_&&(k.window=null),k.wrap=R,k.wbits=_,F(L))):h}function T(L,_){var R,k;return L?(k=new b,(L.state=k).window=null,(R=E(L,_))!==d&&(L.state=null),R):h}var I,M,P=!0;function O(L){if(P){var _;for(I=new o.Buf32(512),M=new o.Buf32(32),_=0;_<144;)L.lens[_++]=8;for(;_<256;)L.lens[_++]=9;for(;_<280;)L.lens[_++]=7;for(;_<288;)L.lens[_++]=8;for(u(c,L.lens,0,288,I,0,L.work,{bits:9}),_=0;_<32;)L.lens[_++]=5;u(f,L.lens,0,32,M,0,L.work,{bits:5}),P=!1}L.lencode=I,L.lenbits=9,L.distcode=M,L.distbits=5}function z(L,_,R,k){var S,w=L.state;return w.window===null&&(w.wsize=1<<w.wbits,w.wnext=0,w.whave=0,w.window=new o.Buf8(w.wsize)),k>=w.wsize?(o.arraySet(w.window,_,R-w.wsize,w.wsize,0),w.wnext=0,w.whave=w.wsize):(k<(S=w.wsize-w.wnext)&&(S=k),o.arraySet(w.window,_,R-k,S,w.wnext),(k-=S)?(o.arraySet(w.window,_,R-k,k,0),w.wnext=k,w.whave=w.wsize):(w.wnext+=S,w.wnext===w.wsize&&(w.wnext=0),w.whave<w.wsize&&(w.whave+=S))),0}i.inflateReset=F,i.inflateReset2=E,i.inflateResetKeep=v,i.inflateInit=function(L){return T(L,15)},i.inflateInit2=T,i.inflate=function(L,_){var R,k,S,w,C,x,A,D,B,V,j,K,G,Y,H,N,$,J,Q,ee,W,ne,re,q,X=0,te=new o.Buf8(4),se=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!L||!L.state||!L.output||!L.input&&L.avail_in!==0)return h;(R=L.state).mode===12&&(R.mode=13),C=L.next_out,S=L.output,A=L.avail_out,w=L.next_in,k=L.input,x=L.avail_in,D=R.hold,B=R.bits,V=x,j=A,ne=d;e:for(;;)switch(R.mode){case g:if(R.wrap===0){R.mode=13;break}for(;B<16;){if(x===0)break e;x--,D+=k[w++]<<B,B+=8}if(2&R.wrap&&D===35615){te[R.check=0]=255&D,te[1]=D>>>8&255,R.check=a(R.check,te,2,0),B=D=0,R.mode=2;break}if(R.flags=0,R.head&&(R.head.done=!1),!(1&R.wrap)||(((255&D)<<8)+(D>>8))%31){L.msg="incorrect header check",R.mode=30;break}if((15&D)!=8){L.msg="unknown compression method",R.mode=30;break}if(B-=4,W=8+(15&(D>>>=4)),R.wbits===0)R.wbits=W;else if(W>R.wbits){L.msg="invalid window size",R.mode=30;break}R.dmax=1<<W,L.adler=R.check=1,R.mode=512&D?10:12,B=D=0;break;case 2:for(;B<16;){if(x===0)break e;x--,D+=k[w++]<<B,B+=8}if(R.flags=D,(255&R.flags)!=8){L.msg="unknown compression method",R.mode=30;break}if(57344&R.flags){L.msg="unknown header flags set",R.mode=30;break}R.head&&(R.head.text=D>>8&1),512&R.flags&&(te[0]=255&D,te[1]=D>>>8&255,R.check=a(R.check,te,2,0)),B=D=0,R.mode=3;case 3:for(;B<32;){if(x===0)break e;x--,D+=k[w++]<<B,B+=8}R.head&&(R.head.time=D),512&R.flags&&(te[0]=255&D,te[1]=D>>>8&255,te[2]=D>>>16&255,te[3]=D>>>24&255,R.check=a(R.check,te,4,0)),B=D=0,R.mode=4;case 4:for(;B<16;){if(x===0)break e;x--,D+=k[w++]<<B,B+=8}R.head&&(R.head.xflags=255&D,R.head.os=D>>8),512&R.flags&&(te[0]=255&D,te[1]=D>>>8&255,R.check=a(R.check,te,2,0)),B=D=0,R.mode=5;case 5:if(1024&R.flags){for(;B<16;){if(x===0)break e;x--,D+=k[w++]<<B,B+=8}R.length=D,R.head&&(R.head.extra_len=D),512&R.flags&&(te[0]=255&D,te[1]=D>>>8&255,R.check=a(R.check,te,2,0)),B=D=0}else R.head&&(R.head.extra=null);R.mode=6;case 6:if(1024&R.flags&&(x<(K=R.length)&&(K=x),K&&(R.head&&(W=R.head.extra_len-R.length,R.head.extra||(R.head.extra=new Array(R.head.extra_len)),o.arraySet(R.head.extra,k,w,K,W)),512&R.flags&&(R.check=a(R.check,k,K,w)),x-=K,w+=K,R.length-=K),R.length))break e;R.length=0,R.mode=7;case 7:if(2048&R.flags){if(x===0)break e;for(K=0;W=k[w+K++],R.head&&W&&R.length<65536&&(R.head.name+=String.fromCharCode(W)),W&&K<x;);if(512&R.flags&&(R.check=a(R.check,k,K,w)),x-=K,w+=K,W)break e}else R.head&&(R.head.name=null);R.length=0,R.mode=8;case 8:if(4096&R.flags){if(x===0)break e;for(K=0;W=k[w+K++],R.head&&W&&R.length<65536&&(R.head.comment+=String.fromCharCode(W)),W&&K<x;);if(512&R.flags&&(R.check=a(R.check,k,K,w)),x-=K,w+=K,W)break e}else R.head&&(R.head.comment=null);R.mode=9;case 9:if(512&R.flags){for(;B<16;){if(x===0)break e;x--,D+=k[w++]<<B,B+=8}if(D!==(65535&R.check)){L.msg="header crc mismatch",R.mode=30;break}B=D=0}R.head&&(R.head.hcrc=R.flags>>9&1,R.head.done=!0),L.adler=R.check=0,R.mode=12;break;case 10:for(;B<32;){if(x===0)break e;x--,D+=k[w++]<<B,B+=8}L.adler=R.check=y(D),B=D=0,R.mode=11;case 11:if(R.havedict===0)return L.next_out=C,L.avail_out=A,L.next_in=w,L.avail_in=x,R.hold=D,R.bits=B,2;L.adler=R.check=1,R.mode=12;case 12:if(_===5||_===6)break e;case 13:if(R.last){D>>>=7&B,B-=7&B,R.mode=27;break}for(;B<3;){if(x===0)break e;x--,D+=k[w++]<<B,B+=8}switch(R.last=1&D,B-=1,3&(D>>>=1)){case 0:R.mode=14;break;case 1:if(O(R),R.mode=20,_!==6)break;D>>>=2,B-=2;break e;case 2:R.mode=17;break;case 3:L.msg="invalid block type",R.mode=30}D>>>=2,B-=2;break;case 14:for(D>>>=7&B,B-=7&B;B<32;){if(x===0)break e;x--,D+=k[w++]<<B,B+=8}if((65535&D)!=(D>>>16^65535)){L.msg="invalid stored block lengths",R.mode=30;break}if(R.length=65535&D,B=D=0,R.mode=15,_===6)break e;case 15:R.mode=16;case 16:if(K=R.length){if(x<K&&(K=x),A<K&&(K=A),K===0)break e;o.arraySet(S,k,w,K,C),x-=K,w+=K,A-=K,C+=K,R.length-=K;break}R.mode=12;break;case 17:for(;B<14;){if(x===0)break e;x--,D+=k[w++]<<B,B+=8}if(R.nlen=257+(31&D),D>>>=5,B-=5,R.ndist=1+(31&D),D>>>=5,B-=5,R.ncode=4+(15&D),D>>>=4,B-=4,286<R.nlen||30<R.ndist){L.msg="too many length or distance symbols",R.mode=30;break}R.have=0,R.mode=18;case 18:for(;R.have<R.ncode;){for(;B<3;){if(x===0)break e;x--,D+=k[w++]<<B,B+=8}R.lens[se[R.have++]]=7&D,D>>>=3,B-=3}for(;R.have<19;)R.lens[se[R.have++]]=0;if(R.lencode=R.lendyn,R.lenbits=7,re={bits:R.lenbits},ne=u(0,R.lens,0,19,R.lencode,0,R.work,re),R.lenbits=re.bits,ne){L.msg="invalid code lengths set",R.mode=30;break}R.have=0,R.mode=19;case 19:for(;R.have<R.nlen+R.ndist;){for(;N=(X=R.lencode[D&(1<<R.lenbits)-1])>>>16&255,$=65535&X,!((H=X>>>24)<=B);){if(x===0)break e;x--,D+=k[w++]<<B,B+=8}if($<16)D>>>=H,B-=H,R.lens[R.have++]=$;else{if($===16){for(q=H+2;B<q;){if(x===0)break e;x--,D+=k[w++]<<B,B+=8}if(D>>>=H,B-=H,R.have===0){L.msg="invalid bit length repeat",R.mode=30;break}W=R.lens[R.have-1],K=3+(3&D),D>>>=2,B-=2}else if($===17){for(q=H+3;B<q;){if(x===0)break e;x--,D+=k[w++]<<B,B+=8}B-=H,W=0,K=3+(7&(D>>>=H)),D>>>=3,B-=3}else{for(q=H+7;B<q;){if(x===0)break e;x--,D+=k[w++]<<B,B+=8}B-=H,W=0,K=11+(127&(D>>>=H)),D>>>=7,B-=7}if(R.have+K>R.nlen+R.ndist){L.msg="invalid bit length repeat",R.mode=30;break}for(;K--;)R.lens[R.have++]=W}}if(R.mode===30)break;if(R.lens[256]===0){L.msg="invalid code -- missing end-of-block",R.mode=30;break}if(R.lenbits=9,re={bits:R.lenbits},ne=u(c,R.lens,0,R.nlen,R.lencode,0,R.work,re),R.lenbits=re.bits,ne){L.msg="invalid literal/lengths set",R.mode=30;break}if(R.distbits=6,R.distcode=R.distdyn,re={bits:R.distbits},ne=u(f,R.lens,R.nlen,R.ndist,R.distcode,0,R.work,re),R.distbits=re.bits,ne){L.msg="invalid distances set",R.mode=30;break}if(R.mode=20,_===6)break e;case 20:R.mode=21;case 21:if(6<=x&&258<=A){L.next_out=C,L.avail_out=A,L.next_in=w,L.avail_in=x,R.hold=D,R.bits=B,l(L,j),C=L.next_out,S=L.output,A=L.avail_out,w=L.next_in,k=L.input,x=L.avail_in,D=R.hold,B=R.bits,R.mode===12&&(R.back=-1);break}for(R.back=0;N=(X=R.lencode[D&(1<<R.lenbits)-1])>>>16&255,$=65535&X,!((H=X>>>24)<=B);){if(x===0)break e;x--,D+=k[w++]<<B,B+=8}if(N&&(240&N)==0){for(J=H,Q=N,ee=$;N=(X=R.lencode[ee+((D&(1<<J+Q)-1)>>J)])>>>16&255,$=65535&X,!(J+(H=X>>>24)<=B);){if(x===0)break e;x--,D+=k[w++]<<B,B+=8}D>>>=J,B-=J,R.back+=J}if(D>>>=H,B-=H,R.back+=H,R.length=$,N===0){R.mode=26;break}if(32&N){R.back=-1,R.mode=12;break}if(64&N){L.msg="invalid literal/length code",R.mode=30;break}R.extra=15&N,R.mode=22;case 22:if(R.extra){for(q=R.extra;B<q;){if(x===0)break e;x--,D+=k[w++]<<B,B+=8}R.length+=D&(1<<R.extra)-1,D>>>=R.extra,B-=R.extra,R.back+=R.extra}R.was=R.length,R.mode=23;case 23:for(;N=(X=R.distcode[D&(1<<R.distbits)-1])>>>16&255,$=65535&X,!((H=X>>>24)<=B);){if(x===0)break e;x--,D+=k[w++]<<B,B+=8}if((240&N)==0){for(J=H,Q=N,ee=$;N=(X=R.distcode[ee+((D&(1<<J+Q)-1)>>J)])>>>16&255,$=65535&X,!(J+(H=X>>>24)<=B);){if(x===0)break e;x--,D+=k[w++]<<B,B+=8}D>>>=J,B-=J,R.back+=J}if(D>>>=H,B-=H,R.back+=H,64&N){L.msg="invalid distance code",R.mode=30;break}R.offset=$,R.extra=15&N,R.mode=24;case 24:if(R.extra){for(q=R.extra;B<q;){if(x===0)break e;x--,D+=k[w++]<<B,B+=8}R.offset+=D&(1<<R.extra)-1,D>>>=R.extra,B-=R.extra,R.back+=R.extra}if(R.offset>R.dmax){L.msg="invalid distance too far back",R.mode=30;break}R.mode=25;case 25:if(A===0)break e;if(K=j-A,R.offset>K){if((K=R.offset-K)>R.whave&&R.sane){L.msg="invalid distance too far back",R.mode=30;break}G=K>R.wnext?(K-=R.wnext,R.wsize-K):R.wnext-K,K>R.length&&(K=R.length),Y=R.window}else Y=S,G=C-R.offset,K=R.length;for(A<K&&(K=A),A-=K,R.length-=K;S[C++]=Y[G++],--K;);R.length===0&&(R.mode=21);break;case 26:if(A===0)break e;S[C++]=R.length,A--,R.mode=21;break;case 27:if(R.wrap){for(;B<32;){if(x===0)break e;x--,D|=k[w++]<<B,B+=8}if(j-=A,L.total_out+=j,R.total+=j,j&&(L.adler=R.check=R.flags?a(R.check,S,j,C-j):s(R.check,S,j,C-j)),j=A,(R.flags?D:y(D))!==R.check){L.msg="incorrect data check",R.mode=30;break}B=D=0}R.mode=28;case 28:if(R.wrap&&R.flags){for(;B<32;){if(x===0)break e;x--,D+=k[w++]<<B,B+=8}if(D!==(4294967295&R.total)){L.msg="incorrect length check",R.mode=30;break}B=D=0}R.mode=29;case 29:ne=1;break e;case 30:ne=-3;break e;case 31:return-4;case 32:default:return h}return L.next_out=C,L.avail_out=A,L.next_in=w,L.avail_in=x,R.hold=D,R.bits=B,(R.wsize||j!==L.avail_out&&R.mode<30&&(R.mode<27||_!==4))&&z(L,L.output,L.next_out,j-L.avail_out)?(R.mode=31,-4):(V-=L.avail_in,j-=L.avail_out,L.total_in+=V,L.total_out+=j,R.total+=j,R.wrap&&j&&(L.adler=R.check=R.flags?a(R.check,S,j,L.next_out-j):s(R.check,S,j,L.next_out-j)),L.data_type=R.bits+(R.last?64:0)+(R.mode===12?128:0)+(R.mode===20||R.mode===15?256:0),(V==0&&j===0||_===4)&&ne===d&&(ne=-5),ne)},i.inflateEnd=function(L){if(!L||!L.state)return h;var _=L.state;return _.window&&(_.window=null),L.state=null,d},i.inflateGetHeader=function(L,_){var R;return L&&L.state?(2&(R=L.state).wrap)==0?h:((R.head=_).done=!1,d):h},i.inflateSetDictionary=function(L,_){var R,k=_.length;return L&&L.state?(R=L.state).wrap!==0&&R.mode!==11?h:R.mode===11&&s(1,_,k,0)!==R.check?-3:z(L,_,k,k)?(R.mode=31,-4):(R.havedict=1,d):h},i.inflateInfo="pako inflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./inffast":48,"./inftrees":50}],50:[function(r,n,i){var o=r("../utils/common"),s=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],a=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],l=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],u=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];n.exports=function(c,f,d,h,g,m,p,y){var b,v,F,E,T,I,M,P,O,z=y.bits,L=0,_=0,R=0,k=0,S=0,w=0,C=0,x=0,A=0,D=0,B=null,V=0,j=new o.Buf16(16),K=new o.Buf16(16),G=null,Y=0;for(L=0;L<=15;L++)j[L]=0;for(_=0;_<h;_++)j[f[d+_]]++;for(S=z,k=15;1<=k&&j[k]===0;k--);if(k<S&&(S=k),k===0)return g[m++]=20971520,g[m++]=20971520,y.bits=1,0;for(R=1;R<k&&j[R]===0;R++);for(S<R&&(S=R),L=x=1;L<=15;L++)if(x<<=1,(x-=j[L])<0)return-1;if(0<x&&(c===0||k!==1))return-1;for(K[1]=0,L=1;L<15;L++)K[L+1]=K[L]+j[L];for(_=0;_<h;_++)f[d+_]!==0&&(p[K[f[d+_]]++]=_);if(I=c===0?(B=G=p,19):c===1?(B=s,V-=257,G=a,Y-=257,256):(B=l,G=u,-1),L=R,T=m,C=_=D=0,F=-1,E=(A=1<<(w=S))-1,c===1&&852<A||c===2&&592<A)return 1;for(;;){for(M=L-C,O=p[_]<I?(P=0,p[_]):p[_]>I?(P=G[Y+p[_]],B[V+p[_]]):(P=96,0),b=1<<L-C,R=v=1<<w;g[T+(D>>C)+(v-=b)]=M<<24|P<<16|O|0,v!==0;);for(b=1<<L-1;D&b;)b>>=1;if(b!==0?(D&=b-1,D+=b):D=0,_++,--j[L]==0){if(L===k)break;L=f[d+p[_]]}if(S<L&&(D&E)!==F){for(C===0&&(C=S),T+=R,x=1<<(w=L-C);w+C<k&&!((x-=j[w+C])<=0);)w++,x<<=1;if(A+=1<<w,c===1&&852<A||c===2&&592<A)return 1;g[F=D&E]=S<<24|w<<16|T-m|0}}return D!==0&&(g[T+D]=L-C<<24|64<<16|0),y.bits=S,0}},{"../utils/common":41}],51:[function(r,n,i){n.exports={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}},{}],52:[function(r,n,i){var o=r("../utils/common"),s=0,a=1;function l(X){for(var te=X.length;0<=--te;)X[te]=0}var u=0,c=29,f=256,d=f+1+c,h=30,g=19,m=2*d+1,p=15,y=16,b=7,v=256,F=16,E=17,T=18,I=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],M=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],P=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],O=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],z=new Array(2*(d+2));l(z);var L=new Array(2*h);l(L);var _=new Array(512);l(_);var R=new Array(256);l(R);var k=new Array(c);l(k);var S,w,C,x=new Array(h);function A(X,te,se,oe,ie){this.static_tree=X,this.extra_bits=te,this.extra_base=se,this.elems=oe,this.max_length=ie,this.has_stree=X&&X.length}function D(X,te){this.dyn_tree=X,this.max_code=0,this.stat_desc=te}function B(X){return X<256?_[X]:_[256+(X>>>7)]}function V(X,te){X.pending_buf[X.pending++]=255&te,X.pending_buf[X.pending++]=te>>>8&255}function j(X,te,se){X.bi_valid>y-se?(X.bi_buf|=te<<X.bi_valid&65535,V(X,X.bi_buf),X.bi_buf=te>>y-X.bi_valid,X.bi_valid+=se-y):(X.bi_buf|=te<<X.bi_valid&65535,X.bi_valid+=se)}function K(X,te,se){j(X,se[2*te],se[2*te+1])}function G(X,te){for(var se=0;se|=1&X,X>>>=1,se<<=1,0<--te;);return se>>>1}function Y(X,te,se){var oe,ie,ae=new Array(p+1),ue=0;for(oe=1;oe<=p;oe++)ae[oe]=ue=ue+se[oe-1]<<1;for(ie=0;ie<=te;ie++){var ce=X[2*ie+1];ce!==0&&(X[2*ie]=G(ae[ce]++,ce))}}function H(X){var te;for(te=0;te<d;te++)X.dyn_ltree[2*te]=0;for(te=0;te<h;te++)X.dyn_dtree[2*te]=0;for(te=0;te<g;te++)X.bl_tree[2*te]=0;X.dyn_ltree[2*v]=1,X.opt_len=X.static_len=0,X.last_lit=X.matches=0}function N(X){8<X.bi_valid?V(X,X.bi_buf):0<X.bi_valid&&(X.pending_buf[X.pending++]=X.bi_buf),X.bi_buf=0,X.bi_valid=0}function $(X,te,se,oe){var ie=2*te,ae=2*se;return X[ie]<X[ae]||X[ie]===X[ae]&&oe[te]<=oe[se]}function J(X,te,se){for(var oe=X.heap[se],ie=se<<1;ie<=X.heap_len&&(ie<X.heap_len&&$(te,X.heap[ie+1],X.heap[ie],X.depth)&&ie++,!$(te,oe,X.heap[ie],X.depth));)X.heap[se]=X.heap[ie],se=ie,ie<<=1;X.heap[se]=oe}function Q(X,te,se){var oe,ie,ae,ue,ce=0;if(X.last_lit!==0)for(;oe=X.pending_buf[X.d_buf+2*ce]<<8|X.pending_buf[X.d_buf+2*ce+1],ie=X.pending_buf[X.l_buf+ce],ce++,oe===0?K(X,ie,te):(K(X,(ae=R[ie])+f+1,te),(ue=I[ae])!==0&&j(X,ie-=k[ae],ue),K(X,ae=B(--oe),se),(ue=M[ae])!==0&&j(X,oe-=x[ae],ue)),ce<X.last_lit;);K(X,v,te)}function ee(X,te){var se,oe,ie,ae=te.dyn_tree,ue=te.stat_desc.static_tree,ce=te.stat_desc.has_stree,pe=te.stat_desc.elems,ye=-1;for(X.heap_len=0,X.heap_max=m,se=0;se<pe;se++)ae[2*se]!==0?(X.heap[++X.heap_len]=ye=se,X.depth[se]=0):ae[2*se+1]=0;for(;X.heap_len<2;)ae[2*(ie=X.heap[++X.heap_len]=ye<2?++ye:0)]=1,X.depth[ie]=0,X.opt_len--,ce&&(X.static_len-=ue[2*ie+1]);for(te.max_code=ye,se=X.heap_len>>1;1<=se;se--)J(X,ae,se);for(ie=pe;se=X.heap[1],X.heap[1]=X.heap[X.heap_len--],J(X,ae,1),oe=X.heap[1],X.heap[--X.heap_max]=se,X.heap[--X.heap_max]=oe,ae[2*ie]=ae[2*se]+ae[2*oe],X.depth[ie]=(X.depth[se]>=X.depth[oe]?X.depth[se]:X.depth[oe])+1,ae[2*se+1]=ae[2*oe+1]=ie,X.heap[1]=ie++,J(X,ae,1),2<=X.heap_len;);X.heap[--X.heap_max]=X.heap[1],(function(ge,Re){var _e,Ae,De,Fe,ke,Pe,Oe=Re.dyn_tree,He=Re.max_code,ht=Re.stat_desc.static_tree,St=Re.stat_desc.has_stree,We=Re.stat_desc.extra_bits,bt=Re.stat_desc.extra_base,at=Re.stat_desc.max_length,Ze=0;for(Fe=0;Fe<=p;Fe++)ge.bl_count[Fe]=0;for(Oe[2*ge.heap[ge.heap_max]+1]=0,_e=ge.heap_max+1;_e<m;_e++)at<(Fe=Oe[2*Oe[2*(Ae=ge.heap[_e])+1]+1]+1)&&(Fe=at,Ze++),Oe[2*Ae+1]=Fe,He<Ae||(ge.bl_count[Fe]++,ke=0,bt<=Ae&&(ke=We[Ae-bt]),Pe=Oe[2*Ae],ge.opt_len+=Pe*(Fe+ke),St&&(ge.static_len+=Pe*(ht[2*Ae+1]+ke)));if(Ze!==0){do{for(Fe=at-1;ge.bl_count[Fe]===0;)Fe--;ge.bl_count[Fe]--,ge.bl_count[Fe+1]+=2,ge.bl_count[at]--,Ze-=2}while(0<Ze);for(Fe=at;Fe!==0;Fe--)for(Ae=ge.bl_count[Fe];Ae!==0;)He<(De=ge.heap[--_e])||(Oe[2*De+1]!==Fe&&(ge.opt_len+=(Fe-Oe[2*De+1])*Oe[2*De],Oe[2*De+1]=Fe),Ae--)}})(X,te),Y(ae,ye,X.bl_count)}function W(X,te,se){var oe,ie,ae=-1,ue=te[1],ce=0,pe=7,ye=4;for(ue===0&&(pe=138,ye=3),te[2*(se+1)+1]=65535,oe=0;oe<=se;oe++)ie=ue,ue=te[2*(oe+1)+1],++ce<pe&&ie===ue||(ce<ye?X.bl_tree[2*ie]+=ce:ie!==0?(ie!==ae&&X.bl_tree[2*ie]++,X.bl_tree[2*F]++):ce<=10?X.bl_tree[2*E]++:X.bl_tree[2*T]++,ae=ie,ye=(ce=0)===ue?(pe=138,3):ie===ue?(pe=6,3):(pe=7,4))}function ne(X,te,se){var oe,ie,ae=-1,ue=te[1],ce=0,pe=7,ye=4;for(ue===0&&(pe=138,ye=3),oe=0;oe<=se;oe++)if(ie=ue,ue=te[2*(oe+1)+1],!(++ce<pe&&ie===ue)){if(ce<ye)for(;K(X,ie,X.bl_tree),--ce!=0;);else ie!==0?(ie!==ae&&(K(X,ie,X.bl_tree),ce--),K(X,F,X.bl_tree),j(X,ce-3,2)):ce<=10?(K(X,E,X.bl_tree),j(X,ce-3,3)):(K(X,T,X.bl_tree),j(X,ce-11,7));ae=ie,ye=(ce=0)===ue?(pe=138,3):ie===ue?(pe=6,3):(pe=7,4)}}l(x);var re=!1;function q(X,te,se,oe){j(X,(u<<1)+(oe?1:0),3),(function(ie,ae,ue,ce){N(ie),V(ie,ue),V(ie,~ue),o.arraySet(ie.pending_buf,ie.window,ae,ue,ie.pending),ie.pending+=ue})(X,te,se)}i._tr_init=function(X){re||((function(){var te,se,oe,ie,ae,ue=new Array(p+1);for(ie=oe=0;ie<c-1;ie++)for(k[ie]=oe,te=0;te<1<<I[ie];te++)R[oe++]=ie;for(R[oe-1]=ie,ie=ae=0;ie<16;ie++)for(x[ie]=ae,te=0;te<1<<M[ie];te++)_[ae++]=ie;for(ae>>=7;ie<h;ie++)for(x[ie]=ae<<7,te=0;te<1<<M[ie]-7;te++)_[256+ae++]=ie;for(se=0;se<=p;se++)ue[se]=0;for(te=0;te<=143;)z[2*te+1]=8,te++,ue[8]++;for(;te<=255;)z[2*te+1]=9,te++,ue[9]++;for(;te<=279;)z[2*te+1]=7,te++,ue[7]++;for(;te<=287;)z[2*te+1]=8,te++,ue[8]++;for(Y(z,d+1,ue),te=0;te<h;te++)L[2*te+1]=5,L[2*te]=G(te,5);S=new A(z,I,f+1,d,p),w=new A(L,M,0,h,p),C=new A(new Array(0),P,0,g,b)})(),re=!0),X.l_desc=new D(X.dyn_ltree,S),X.d_desc=new D(X.dyn_dtree,w),X.bl_desc=new D(X.bl_tree,C),X.bi_buf=0,X.bi_valid=0,H(X)},i._tr_stored_block=q,i._tr_flush_block=function(X,te,se,oe){var ie,ae,ue=0;0<X.level?(X.strm.data_type===2&&(X.strm.data_type=(function(ce){var pe,ye=4093624447;for(pe=0;pe<=31;pe++,ye>>>=1)if(1&ye&&ce.dyn_ltree[2*pe]!==0)return s;if(ce.dyn_ltree[18]!==0||ce.dyn_ltree[20]!==0||ce.dyn_ltree[26]!==0)return a;for(pe=32;pe<f;pe++)if(ce.dyn_ltree[2*pe]!==0)return a;return s})(X)),ee(X,X.l_desc),ee(X,X.d_desc),ue=(function(ce){var pe;for(W(ce,ce.dyn_ltree,ce.l_desc.max_code),W(ce,ce.dyn_dtree,ce.d_desc.max_code),ee(ce,ce.bl_desc),pe=g-1;3<=pe&&ce.bl_tree[2*O[pe]+1]===0;pe--);return ce.opt_len+=3*(pe+1)+5+5+4,pe})(X),ie=X.opt_len+3+7>>>3,(ae=X.static_len+3+7>>>3)<=ie&&(ie=ae)):ie=ae=se+5,se+4<=ie&&te!==-1?q(X,te,se,oe):X.strategy===4||ae===ie?(j(X,2+(oe?1:0),3),Q(X,z,L)):(j(X,4+(oe?1:0),3),(function(ce,pe,ye,ge){var Re;for(j(ce,pe-257,5),j(ce,ye-1,5),j(ce,ge-4,4),Re=0;Re<ge;Re++)j(ce,ce.bl_tree[2*O[Re]+1],3);ne(ce,ce.dyn_ltree,pe-1),ne(ce,ce.dyn_dtree,ye-1)})(X,X.l_desc.max_code+1,X.d_desc.max_code+1,ue+1),Q(X,X.dyn_ltree,X.dyn_dtree)),H(X),oe&&N(X)},i._tr_tally=function(X,te,se){return X.pending_buf[X.d_buf+2*X.last_lit]=te>>>8&255,X.pending_buf[X.d_buf+2*X.last_lit+1]=255&te,X.pending_buf[X.l_buf+X.last_lit]=255&se,X.last_lit++,te===0?X.dyn_ltree[2*se]++:(X.matches++,te--,X.dyn_ltree[2*(R[se]+f+1)]++,X.dyn_dtree[2*B(te)]++),X.last_lit===X.lit_bufsize-1},i._tr_align=function(X){j(X,2,3),K(X,v,z),(function(te){te.bi_valid===16?(V(te,te.bi_buf),te.bi_buf=0,te.bi_valid=0):8<=te.bi_valid&&(te.pending_buf[te.pending++]=255&te.bi_buf,te.bi_buf>>=8,te.bi_valid-=8)})(X)}},{"../utils/common":41}],53:[function(r,n,i){n.exports=function(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}},{}],54:[function(r,n,i){(function(o){(function(s,a){if(!s.setImmediate){var l,u,c,f,d=1,h={},g=!1,m=s.document,p=Object.getPrototypeOf&&Object.getPrototypeOf(s);p=p&&p.setTimeout?p:s,l={}.toString.call(s.process)==="[object process]"?function(F){process.nextTick(function(){b(F)})}:(function(){if(s.postMessage&&!s.importScripts){var F=!0,E=s.onmessage;return s.onmessage=function(){F=!1},s.postMessage("","*"),s.onmessage=E,F}})()?(f="setImmediate$"+Math.random()+"$",s.addEventListener?s.addEventListener("message",v,!1):s.attachEvent("onmessage",v),function(F){s.postMessage(f+F,"*")}):s.MessageChannel?((c=new MessageChannel).port1.onmessage=function(F){b(F.data)},function(F){c.port2.postMessage(F)}):m&&"onreadystatechange"in m.createElement("script")?(u=m.documentElement,function(F){var E=m.createElement("script");E.onreadystatechange=function(){b(F),E.onreadystatechange=null,u.removeChild(E),E=null},u.appendChild(E)}):function(F){setTimeout(b,0,F)},p.setImmediate=function(F){typeof F!="function"&&(F=new Function(""+F));for(var E=new Array(arguments.length-1),T=0;T<E.length;T++)E[T]=arguments[T+1];var I={callback:F,args:E};return h[d]=I,l(d),d++},p.clearImmediate=y}function y(F){delete h[F]}function b(F){if(g)setTimeout(b,0,F);else{var E=h[F];if(E){g=!0;try{(function(T){var I=T.callback,M=T.args;switch(M.length){case 0:I();break;case 1:I(M[0]);break;case 2:I(M[0],M[1]);break;case 3:I(M[0],M[1],M[2]);break;default:I.apply(a,M)}})(E)}finally{y(F),g=!1}}}}function v(F){F.source===s&&typeof F.data=="string"&&F.data.indexOf(f)===0&&b(+F.data.slice(f.length))}})(typeof self>"u"?o===void 0?this:o:self)}).call(this,typeof lt<"u"?lt:typeof self<"u"?self:typeof window<"u"?window:{})},{}]},{},[10])(10)})})(eh)),eh.exports}var iU=nU();const oU=Fo(iU);var Su={exports:{}},sU=Su.exports,H0;function aU(){return H0||(H0=1,(function(e,t){(function(r,n){n()})(sU,function(){function r(u,c){return typeof c>"u"?c={autoBom:!1}:typeof c!="object"&&(console.warn("Deprecated: Expected third argument to be a object"),c={autoBom:!c}),c.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(u.type)?new Blob(["\uFEFF",u],{type:u.type}):u}function n(u,c,f){var d=new XMLHttpRequest;d.open("GET",u),d.responseType="blob",d.onload=function(){l(d.response,c,f)},d.onerror=function(){console.error("could not download file")},d.send()}function i(u){var c=new XMLHttpRequest;c.open("HEAD",u,!1);try{c.send()}catch{}return 200<=c.status&&299>=c.status}function o(u){try{u.dispatchEvent(new MouseEvent("click"))}catch{var c=document.createEvent("MouseEvents");c.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),u.dispatchEvent(c)}}var s=typeof window=="object"&&window.window===window?window:typeof self=="object"&&self.self===self?self:typeof lt=="object"&&lt.global===lt?lt:void 0,a=s.navigator&&/Macintosh/.test(navigator.userAgent)&&/AppleWebKit/.test(navigator.userAgent)&&!/Safari/.test(navigator.userAgent),l=s.saveAs||(typeof window!="object"||window!==s?function(){}:"download"in HTMLAnchorElement.prototype&&!a?function(u,c,f){var d=s.URL||s.webkitURL,h=document.createElement("a");c=c||u.name||"download",h.download=c,h.rel="noopener",typeof u=="string"?(h.href=u,h.origin===location.origin?o(h):i(h.href)?n(u,c,f):o(h,h.target="_blank")):(h.href=d.createObjectURL(u),setTimeout(function(){d.revokeObjectURL(h.href)},4e4),setTimeout(function(){o(h)},0))}:"msSaveOrOpenBlob"in navigator?function(u,c,f){if(c=c||u.name||"download",typeof u!="string")navigator.msSaveOrOpenBlob(r(u,f),c);else if(i(u))n(u,c,f);else{var d=document.createElement("a");d.href=u,d.target="_blank",setTimeout(function(){o(d)})}}:function(u,c,f,d){if(d=d||open("","_blank"),d&&(d.document.title=d.document.body.innerText="downloading..."),typeof u=="string")return n(u,c,f);var h=u.type==="application/octet-stream",g=/constructor/i.test(s.HTMLElement)||s.safari,m=/CriOS\/[\d]+/.test(navigator.userAgent);if((m||h&&g||a)&&typeof FileReader<"u"){var p=new FileReader;p.onloadend=function(){var v=p.result;v=m?v:v.replace(/^data:[^;]*;/,"data:attachment/file;"),d?d.location.href=v:location=v,d=null},p.readAsDataURL(u)}else{var y=s.URL||s.webkitURL,b=y.createObjectURL(u);d?d.location=b:location.href=b,d=null,setTimeout(function(){y.revokeObjectURL(b)},4e4)}});s.saveAs=l.saveAs=l,e.exports=l})})(Su)),Su.exports}var lU=aU();const uU=Fo(lU);var th={exports:{}};/*! ExcelJS 19-10-2023 */var G0;function cU(){return G0||(G0=1,(function(e,t){(function(r){e.exports=r()})((function(){return(function r(n,i,o){function s(u,c){if(!i[u]){if(!n[u]){var f=typeof xi=="function"&&xi;if(!c&&f)return f(u,!0);if(a)return a(u,!0);var d=new Error("Cannot find module '"+u+"'");throw d.code="MODULE_NOT_FOUND",d}var h=i[u]={exports:{}};n[u][0].call(h.exports,(function(g){return s(n[u][1][g]||g)}),h,h.exports,r,n,i,o)}return i[u].exports}for(var a=typeof xi=="function"&&xi,l=0;l<o.length;l++)s(o[l]);return s})({1:[function(r,n,i){const o=r("fs"),s=r("fast-csv"),a=r("dayjs/plugin/customParseFormat"),l=r("dayjs/plugin/utc"),u=r("dayjs").extend(a).extend(l),c=r("../utils/stream-buf"),{fs:{exists:f}}=r("../utils/utils"),d={true:!0,false:!1,"#N/A":{error:"#N/A"},"#REF!":{error:"#REF!"},"#NAME?":{error:"#NAME?"},"#DIV/0!":{error:"#DIV/0!"},"#NULL!":{error:"#NULL!"},"#VALUE!":{error:"#VALUE!"},"#NUM!":{error:"#NUM!"}};n.exports=class{constructor(h){this.workbook=h,this.worksheet=null}async readFile(h,g){if(g=g||{},!await f(h))throw new Error("File not found: "+h);const m=o.createReadStream(h),p=await this.read(m,g);return m.close(),p}read(h,g){return g=g||{},new Promise((m,p)=>{const y=this.workbook.addWorksheet(g.sheetName),b=g.dateFormats||["YYYY-MM-DD[T]HH:mm:ssZ","YYYY-MM-DD[T]HH:mm:ss","MM-DD-YYYY","YYYY-MM-DD"],v=g.map||function(E){if(E==="")return null;const T=Number(E);if(!Number.isNaN(T)&&T!==1/0)return T;const I=b.reduce((P,O)=>{if(P)return P;const z=u(E,O,!0);return z.isValid()?z:null},null);if(I)return new Date(I.valueOf());const M=d[E];return M!==void 0?M:E},F=s.parse(g.parserOptions).on("data",E=>{y.addRow(E.map(v))}).on("end",()=>{F.emit("worksheet",y)});F.on("worksheet",m).on("error",p),h.pipe(F)})}createInputStream(){throw new Error("`CSV#createInputStream` is deprecated. You should use `CSV#read` instead. This method will be removed in version 5.0. Please follow upgrade instruction: https://github.com/exceljs/exceljs/blob/master/UPGRADE-4.0.md")}write(h,g){return new Promise((m,p)=>{g=g||{};const y=this.workbook.getWorksheet(g.sheetName||g.sheetId),b=s.format(g.formatterOptions);h.on("finish",()=>{m()}),b.on("error",p),b.pipe(h);const{dateFormat:v,dateUTC:F}=g,E=g.map||(M=>{if(M){if(M.text||M.hyperlink)return M.hyperlink||M.text||"";if(M.formula||M.result)return M.result||"";if(M instanceof Date)return v?F?u.utc(M).format(v):u(M).format(v):F?u.utc(M).format():u(M).format();if(M.error)return M.error;if(typeof M=="object")return JSON.stringify(M)}return M}),T=g.includeEmptyRows===void 0||g.includeEmptyRows;let I=1;y&&y.eachRow((M,P)=>{if(T)for(;I++<P-1;)b.write([]);const{values:O}=M;O.shift(),b.write(O.map(E)),I=P}),b.end()})}writeFile(h,g){const m={encoding:(g=g||{}).encoding||"utf8"},p=o.createWriteStream(h,m);return this.write(p,g)}async writeBuffer(h){const g=new c;return await this.write(g,h),g.read()}}},{"../utils/stream-buf":24,"../utils/utils":27,dayjs:391,"dayjs/plugin/customParseFormat":392,"dayjs/plugin/utc":393,"fast-csv":424,fs:216}],2:[function(r,n,i){const o=r("../utils/col-cache");class s{constructor(l,u){let c=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0;if(this.worksheet=l,u)if(typeof u=="string"){const f=o.decodeAddress(u);this.nativeCol=f.col+c,this.nativeColOff=0,this.nativeRow=f.row+c,this.nativeRowOff=0}else u.nativeCol!==void 0?(this.nativeCol=u.nativeCol||0,this.nativeColOff=u.nativeColOff||0,this.nativeRow=u.nativeRow||0,this.nativeRowOff=u.nativeRowOff||0):u.col!==void 0?(this.col=u.col+c,this.row=u.row+c):(this.nativeCol=0,this.nativeColOff=0,this.nativeRow=0,this.nativeRowOff=0);else this.nativeCol=0,this.nativeColOff=0,this.nativeRow=0,this.nativeRowOff=0}static asInstance(l){return l instanceof s||l==null?l:new s(l)}get col(){return this.nativeCol+Math.min(this.colWidth-1,this.nativeColOff)/this.colWidth}set col(l){this.nativeCol=Math.floor(l),this.nativeColOff=Math.floor((l-this.nativeCol)*this.colWidth)}get row(){return this.nativeRow+Math.min(this.rowHeight-1,this.nativeRowOff)/this.rowHeight}set row(l){this.nativeRow=Math.floor(l),this.nativeRowOff=Math.floor((l-this.nativeRow)*this.rowHeight)}get colWidth(){return this.worksheet&&this.worksheet.getColumn(this.nativeCol+1)&&this.worksheet.getColumn(this.nativeCol+1).isCustomWidth?Math.floor(1e4*this.worksheet.getColumn(this.nativeCol+1).width):64e4}get rowHeight(){return this.worksheet&&this.worksheet.getRow(this.nativeRow+1)&&this.worksheet.getRow(this.nativeRow+1).height?Math.floor(1e4*this.worksheet.getRow(this.nativeRow+1).height):18e4}get model(){return{nativeCol:this.nativeCol,nativeColOff:this.nativeColOff,nativeRow:this.nativeRow,nativeRowOff:this.nativeRowOff}}set model(l){this.nativeCol=l.nativeCol,this.nativeColOff=l.nativeColOff,this.nativeRow=l.nativeRow,this.nativeRowOff=l.nativeRowOff}}n.exports=s},{"../utils/col-cache":19}],3:[function(r,n,i){const o=r("../utils/col-cache"),s=r("../utils/under-dash"),a=r("./enums"),{slideFormula:l}=r("../utils/shared-formula"),u=r("./note");class c{constructor(h,g,m){if(!h||!g)throw new Error("A Cell needs a Row");this._row=h,this._column=g,o.validateAddress(m),this._address=m,this._value=f.create(c.Types.Null,this),this.style=this._mergeStyle(h.style,g.style,{}),this._mergeCount=0}get worksheet(){return this._row.worksheet}get workbook(){return this._row.worksheet.workbook}destroy(){delete this.style,delete this._value,delete this._row,delete this._column,delete this._address}get numFmt(){return this.style.numFmt}set numFmt(h){this.style.numFmt=h}get font(){return this.style.font}set font(h){this.style.font=h}get alignment(){return this.style.alignment}set alignment(h){this.style.alignment=h}get border(){return this.style.border}set border(h){this.style.border=h}get fill(){return this.style.fill}set fill(h){this.style.fill=h}get protection(){return this.style.protection}set protection(h){this.style.protection=h}_mergeStyle(h,g,m){const p=h&&h.numFmt||g&&g.numFmt;p&&(m.numFmt=p);const y=h&&h.font||g&&g.font;y&&(m.font=y);const b=h&&h.alignment||g&&g.alignment;b&&(m.alignment=b);const v=h&&h.border||g&&g.border;v&&(m.border=v);const F=h&&h.fill||g&&g.fill;F&&(m.fill=F);const E=h&&h.protection||g&&g.protection;return E&&(m.protection=E),m}get address(){return this._address}get row(){return this._row.number}get col(){return this._column.number}get $col$row(){return`$${this._column.letter}$${this.row}`}get type(){return this._value.type}get effectiveType(){return this._value.effectiveType}toCsvString(){return this._value.toCsvString()}addMergeRef(){this._mergeCount++}releaseMergeRef(){this._mergeCount--}get isMerged(){return this._mergeCount>0||this.type===c.Types.Merge}merge(h,g){this._value.release(),this._value=f.create(c.Types.Merge,this,h),g||(this.style=h.style)}unmerge(){this.type===c.Types.Merge&&(this._value.release(),this._value=f.create(c.Types.Null,this),this.style=this._mergeStyle(this._row.style,this._column.style,{}))}isMergedTo(h){return this._value.type===c.Types.Merge&&this._value.isMergedTo(h)}get master(){return this.type===c.Types.Merge?this._value.master:this}get isHyperlink(){return this._value.type===c.Types.Hyperlink}get hyperlink(){return this._value.hyperlink}get value(){return this._value.value}set value(h){this.type!==c.Types.Merge?(this._value.release(),this._value=f.create(f.getType(h),this,h)):this._value.master.value=h}get note(){return this._comment&&this._comment.note}set note(h){this._comment=new u(h)}get text(){return this._value.toString()}get html(){return s.escapeHtml(this.text)}toString(){return this.text}_upgradeToHyperlink(h){this.type===c.Types.String&&(this._value=f.create(c.Types.Hyperlink,this,{text:this._value.value,hyperlink:h}))}get formula(){return this._value.formula}get result(){return this._value.result}get formulaType(){return this._value.formulaType}get fullAddress(){const{worksheet:h}=this._row;return{sheetName:h.name,address:this.address,row:this.row,col:this.col}}get name(){return this.names[0]}set name(h){this.names=[h]}get names(){return this.workbook.definedNames.getNamesEx(this.fullAddress)}set names(h){const{definedNames:g}=this.workbook;g.removeAllNames(this.fullAddress),h.forEach(m=>{g.addEx(this.fullAddress,m)})}addName(h){this.workbook.definedNames.addEx(this.fullAddress,h)}removeName(h){this.workbook.definedNames.removeEx(this.fullAddress,h)}removeAllNames(){this.workbook.definedNames.removeAllNames(this.fullAddress)}get _dataValidations(){return this.worksheet.dataValidations}get dataValidation(){return this._dataValidations.find(this.address)}set dataValidation(h){this._dataValidations.add(this.address,h)}get model(){const{model:h}=this._value;return h.style=this.style,this._comment&&(h.comment=this._comment.model),h}set model(h){if(this._value.release(),this._value=f.create(h.type,this),this._value.model=h,h.comment)switch(h.comment.type){case"note":this._comment=u.fromModel(h.comment)}h.style?this.style=h.style:this.style={}}}c.Types=a.ValueType;const f={getType:d=>d==null?c.Types.Null:d instanceof String||typeof d=="string"?c.Types.String:typeof d=="number"?c.Types.Number:typeof d=="boolean"?c.Types.Boolean:d instanceof Date?c.Types.Date:d.text&&d.hyperlink?c.Types.Hyperlink:d.formula||d.sharedFormula?c.Types.Formula:d.richText?c.Types.RichText:d.sharedString?c.Types.SharedString:d.error?c.Types.Error:c.Types.JSON,types:[{t:c.Types.Null,f:class{constructor(d){this.model={address:d.address,type:c.Types.Null}}get value(){return null}set value(d){}get type(){return c.Types.Null}get effectiveType(){return c.Types.Null}get address(){return this.model.address}set address(d){this.model.address=d}toCsvString(){return""}release(){}toString(){return""}}},{t:c.Types.Number,f:class{constructor(d,h){this.model={address:d.address,type:c.Types.Number,value:h}}get value(){return this.model.value}set value(d){this.model.value=d}get type(){return c.Types.Number}get effectiveType(){return c.Types.Number}get address(){return this.model.address}set address(d){this.model.address=d}toCsvString(){return this.model.value.toString()}release(){}toString(){return this.model.value.toString()}}},{t:c.Types.String,f:class{constructor(d,h){this.model={address:d.address,type:c.Types.String,value:h}}get value(){return this.model.value}set value(d){this.model.value=d}get type(){return c.Types.String}get effectiveType(){return c.Types.String}get address(){return this.model.address}set address(d){this.model.address=d}toCsvString(){return`"${this.model.value.replace(/"/g,'""')}"`}release(){}toString(){return this.model.value}}},{t:c.Types.Date,f:class{constructor(d,h){this.model={address:d.address,type:c.Types.Date,value:h}}get value(){return this.model.value}set value(d){this.model.value=d}get type(){return c.Types.Date}get effectiveType(){return c.Types.Date}get address(){return this.model.address}set address(d){this.model.address=d}toCsvString(){return this.model.value.toISOString()}release(){}toString(){return this.model.value.toString()}}},{t:c.Types.Hyperlink,f:class{constructor(d,h){this.model={address:d.address,type:c.Types.Hyperlink,text:h?h.text:void 0,hyperlink:h?h.hyperlink:void 0},h&&h.tooltip&&(this.model.tooltip=h.tooltip)}get value(){const d={text:this.model.text,hyperlink:this.model.hyperlink};return this.model.tooltip&&(d.tooltip=this.model.tooltip),d}set value(d){this.model={text:d.text,hyperlink:d.hyperlink},d.tooltip&&(this.model.tooltip=d.tooltip)}get text(){return this.model.text}set text(d){this.model.text=d}get hyperlink(){return this.model.hyperlink}set hyperlink(d){this.model.hyperlink=d}get type(){return c.Types.Hyperlink}get effectiveType(){return c.Types.Hyperlink}get address(){return this.model.address}set address(d){this.model.address=d}toCsvString(){return this.model.hyperlink}release(){}toString(){return this.model.text}}},{t:c.Types.Formula,f:class{constructor(d,h){this.cell=d,this.model={address:d.address,type:c.Types.Formula,shareType:h?h.shareType:void 0,ref:h?h.ref:void 0,formula:h?h.formula:void 0,sharedFormula:h?h.sharedFormula:void 0,result:h?h.result:void 0}}_copyModel(d){const h={},g=m=>{const p=d[m];p&&(h[m]=p)};return g("formula"),g("result"),g("ref"),g("shareType"),g("sharedFormula"),h}get value(){return this._copyModel(this.model)}set value(d){this.model=this._copyModel(d)}validate(d){switch(f.getType(d)){case c.Types.Null:case c.Types.String:case c.Types.Number:case c.Types.Date:break;case c.Types.Hyperlink:case c.Types.Formula:default:throw new Error("Cannot process that type of result value")}}get dependencies(){return{ranges:this.formula.match(/([a-zA-Z0-9]+!)?[A-Z]{1,3}\d{1,4}:[A-Z]{1,3}\d{1,4}/g),cells:this.formula.replace(/([a-zA-Z0-9]+!)?[A-Z]{1,3}\d{1,4}:[A-Z]{1,3}\d{1,4}/g,"").match(/([a-zA-Z0-9]+!)?[A-Z]{1,3}\d{1,4}/g)}}get formula(){return this.model.formula||this._getTranslatedFormula()}set formula(d){this.model.formula=d}get formulaType(){return this.model.formula?a.FormulaType.Master:this.model.sharedFormula?a.FormulaType.Shared:a.FormulaType.None}get result(){return this.model.result}set result(d){this.model.result=d}get type(){return c.Types.Formula}get effectiveType(){const d=this.model.result;return d==null?a.ValueType.Null:d instanceof String||typeof d=="string"?a.ValueType.String:typeof d=="number"?a.ValueType.Number:d instanceof Date?a.ValueType.Date:d.text&&d.hyperlink?a.ValueType.Hyperlink:d.formula?a.ValueType.Formula:a.ValueType.Null}get address(){return this.model.address}set address(d){this.model.address=d}_getTranslatedFormula(){if(!this._translatedFormula&&this.model.sharedFormula){const{worksheet:d}=this.cell,h=d.findCell(this.model.sharedFormula);this._translatedFormula=h&&l(h.formula,h.address,this.model.address)}return this._translatedFormula}toCsvString(){return""+(this.model.result||"")}release(){}toString(){return this.model.result?this.model.result.toString():""}}},{t:c.Types.Merge,f:class{constructor(d,h){this.model={address:d.address,type:c.Types.Merge,master:h?h.address:void 0},this._master=h,h&&h.addMergeRef()}get value(){return this._master.value}set value(d){d instanceof c?(this._master&&this._master.releaseMergeRef(),d.addMergeRef(),this._master=d):this._master.value=d}isMergedTo(d){return d===this._master}get master(){return this._master}get type(){return c.Types.Merge}get effectiveType(){return this._master.effectiveType}get address(){return this.model.address}set address(d){this.model.address=d}toCsvString(){return""}release(){this._master.releaseMergeRef()}toString(){return this.value.toString()}}},{t:c.Types.JSON,f:class{constructor(d,h){this.model={address:d.address,type:c.Types.String,value:JSON.stringify(h),rawValue:h}}get value(){return this.model.rawValue}set value(d){this.model.rawValue=d,this.model.value=JSON.stringify(d)}get type(){return c.Types.String}get effectiveType(){return c.Types.String}get address(){return this.model.address}set address(d){this.model.address=d}toCsvString(){return this.model.value}release(){}toString(){return this.model.value}}},{t:c.Types.SharedString,f:class{constructor(d,h){this.model={address:d.address,type:c.Types.SharedString,value:h}}get value(){return this.model.value}set value(d){this.model.value=d}get type(){return c.Types.SharedString}get effectiveType(){return c.Types.SharedString}get address(){return this.model.address}set address(d){this.model.address=d}toCsvString(){return this.model.value.toString()}release(){}toString(){return this.model.value.toString()}}},{t:c.Types.RichText,f:class{constructor(d,h){this.model={address:d.address,type:c.Types.String,value:h}}get value(){return this.model.value}set value(d){this.model.value=d}toString(){return this.model.value.richText.map(d=>d.text).join("")}get type(){return c.Types.RichText}get effectiveType(){return c.Types.RichText}get address(){return this.model.address}set address(d){this.model.address=d}toCsvString(){return`"${this.text.replace(/"/g,'""')}"`}release(){}}},{t:c.Types.Boolean,f:class{constructor(d,h){this.model={address:d.address,type:c.Types.Boolean,value:h}}get value(){return this.model.value}set value(d){this.model.value=d}get type(){return c.Types.Boolean}get effectiveType(){return c.Types.Boolean}get address(){return this.model.address}set address(d){this.model.address=d}toCsvString(){return this.model.value?1:0}release(){}toString(){return this.model.value.toString()}}},{t:c.Types.Error,f:class{constructor(d,h){this.model={address:d.address,type:c.Types.Error,value:h}}get value(){return this.model.value}set value(d){this.model.value=d}get type(){return c.Types.Error}get effectiveType(){return c.Types.Error}get address(){return this.model.address}set address(d){this.model.address=d}toCsvString(){return this.toString()}release(){}toString(){return this.model.value.error.toString()}}}].reduce((d,h)=>(d[h.t]=h.f,d),[]),create(d,h,g){const m=this.types[d];if(!m)throw new Error("Could not create Value of type "+d);return new m(h,g)}};n.exports=c},{"../utils/col-cache":19,"../utils/shared-formula":23,"../utils/under-dash":26,"./enums":7,"./note":9}],4:[function(r,n,i){const o=r("../utils/under-dash"),s=r("./enums"),a=r("../utils/col-cache");class l{constructor(c,f,d){this._worksheet=c,this._number=f,d!==!1&&(this.defn=d)}get number(){return this._number}get worksheet(){return this._worksheet}get letter(){return a.n2l(this._number)}get isCustomWidth(){return this.width!==void 0&&this.width!==9}get defn(){return{header:this._header,key:this.key,width:this.width,style:this.style,hidden:this.hidden,outlineLevel:this.outlineLevel}}set defn(c){c?(this.key=c.key,this.width=c.width!==void 0?c.width:9,this.outlineLevel=c.outlineLevel,c.style?this.style=c.style:this.style={},this.header=c.header,this._hidden=!!c.hidden):(delete this._header,delete this._key,delete this.width,this.style={},this.outlineLevel=0)}get headers(){return this._header&&this._header instanceof Array?this._header:[this._header]}get header(){return this._header}set header(c){c!==void 0?(this._header=c,this.headers.forEach((f,d)=>{this._worksheet.getCell(d+1,this.number).value=f})):this._header=void 0}get key(){return this._key}set key(c){(this._key&&this._worksheet.getColumnKey(this._key))===this&&this._worksheet.deleteColumnKey(this._key),this._key=c,c&&this._worksheet.setColumnKey(this._key,this)}get hidden(){return!!this._hidden}set hidden(c){this._hidden=c}get outlineLevel(){return this._outlineLevel||0}set outlineLevel(c){this._outlineLevel=c}get collapsed(){return!!(this._outlineLevel&&this._outlineLevel>=this._worksheet.properties.outlineLevelCol)}toString(){return JSON.stringify({key:this.key,width:this.width,headers:this.headers.length?this.headers:void 0})}equivalentTo(c){return this.width===c.width&&this.hidden===c.hidden&&this.outlineLevel===c.outlineLevel&&o.isEqual(this.style,c.style)}get isDefault(){if(this.isCustomWidth||this.hidden||this.outlineLevel)return!1;const c=this.style;return!c||!(c.font||c.numFmt||c.alignment||c.border||c.fill||c.protection)}get headerCount(){return this.headers.length}eachCell(c,f){const d=this.number;f||(f=c,c=null),this._worksheet.eachRow(c,(h,g)=>{f(h.getCell(d),g)})}get values(){const c=[];return this.eachCell((f,d)=>{f&&f.type!==s.ValueType.Null&&(c[d]=f.value)}),c}set values(c){if(!c)return;const f=this.number;let d=0;c.hasOwnProperty("0")&&(d=1),c.forEach((h,g)=>{this._worksheet.getCell(g+d,f).value=h})}_applyStyle(c,f){return this.style[c]=f,this.eachCell(d=>{d[c]=f}),f}get numFmt(){return this.style.numFmt}set numFmt(c){this._applyStyle("numFmt",c)}get font(){return this.style.font}set font(c){this._applyStyle("font",c)}get alignment(){return this.style.alignment}set alignment(c){this._applyStyle("alignment",c)}get protection(){return this.style.protection}set protection(c){this._applyStyle("protection",c)}get border(){return this.style.border}set border(c){this._applyStyle("border",c)}get fill(){return this.style.fill}set fill(c){this._applyStyle("fill",c)}static toModel(c){const f=[];let d=null;return c&&c.forEach((h,g)=>{h.isDefault?d&&(d=null):d&&h.equivalentTo(d)?d.max=g+1:(d={min:g+1,max:g+1,width:h.width!==void 0?h.width:9,style:h.style,isCustomWidth:h.isCustomWidth,hidden:h.hidden,outlineLevel:h.outlineLevel,collapsed:h.collapsed},f.push(d))}),f.length?f:void 0}static fromModel(c,f){const d=[];let h=1,g=0;for(f=(f=f||[]).sort((function(m,p){return m.min-p.min}));g<f.length;){const m=f[g++];for(;h<m.min;)d.push(new l(c,h++));for(;h<=m.max;)d.push(new l(c,h++,m))}return d.length?d:null}}n.exports=l},{"../utils/col-cache":19,"../utils/under-dash":26,"./enums":7}],5:[function(r,n,i){n.exports=class{constructor(o){this.model=o||{}}add(o,s){return this.model[o]=s}find(o){return this.model[o]}remove(o){this.model[o]=void 0}}},{}],6:[function(r,n,i){const o=r("../utils/under-dash"),s=r("../utils/col-cache"),a=r("../utils/cell-matrix"),l=r("./range"),u=/[$](\w+)[$](\d+)(:[$](\w+)[$](\d+))?/;n.exports=class{constructor(){this.matrixMap={}}getMatrix(c){return this.matrixMap[c]||(this.matrixMap[c]=new a)}add(c,f){const d=s.decodeEx(c);this.addEx(d,f)}addEx(c,f){const d=this.getMatrix(f);if(c.top)for(let h=c.left;h<=c.right;h++)for(let g=c.top;g<=c.bottom;g++){const m={sheetName:c.sheetName,address:s.n2l(h)+g,row:g,col:h};d.addCellEx(m)}else d.addCellEx(c)}remove(c,f){const d=s.decodeEx(c);this.removeEx(d,f)}removeEx(c,f){this.getMatrix(f).removeCellEx(c)}removeAllNames(c){o.each(this.matrixMap,f=>{f.removeCellEx(c)})}forEach(c){o.each(this.matrixMap,(f,d)=>{f.forEach(h=>{c(d,h)})})}getNames(c){return this.getNamesEx(s.decodeEx(c))}getNamesEx(c){return o.map(this.matrixMap,(f,d)=>f.findCellEx(c)&&d).filter(Boolean)}_explore(c,f){f.mark=!1;const{sheetName:d}=f,h=new l(f.row,f.col,f.row,f.col,d);let g,m;function p(b,v){const F=c.findCellAt(d,b,f.col);return!(!F||!F.mark)&&(h[v]=b,F.mark=!1,!0)}for(m=f.row-1;p(m,"top");m--);for(m=f.row+1;p(m,"bottom");m++);function y(b,v){const F=[];for(m=h.top;m<=h.bottom;m++){const E=c.findCellAt(d,m,b);if(!E||!E.mark)return!1;F.push(E)}h[v]=b;for(let E=0;E<F.length;E++)F[E].mark=!1;return!0}for(g=f.col-1;y(g,"left");g--);for(g=f.col+1;y(g,"right");g++);return h}getRanges(c,f){return(f=f||this.matrixMap[c])?(f.forEach(d=>{d.mark=!0}),{name:c,ranges:f.map(d=>d.mark&&this._explore(f,d)).filter(Boolean).map(d=>d.$shortRange)}):{name:c,ranges:[]}}normaliseMatrix(c,f){c.forEachInSheet(f,(d,h,g)=>{d&&(d.row===h&&d.col===g||(d.row=h,d.col=g,d.address=s.n2l(g)+h))})}spliceRows(c,f,d,h){o.each(this.matrixMap,g=>{g.spliceRows(c,f,d,h),this.normaliseMatrix(g,c)})}spliceColumns(c,f,d,h){o.each(this.matrixMap,g=>{g.spliceColumns(c,f,d,h),this.normaliseMatrix(g,c)})}get model(){return o.map(this.matrixMap,(c,f)=>this.getRanges(f,c)).filter(c=>c.ranges.length)}set model(c){const f=this.matrixMap={};c.forEach(d=>{const h=f[d.name]=new a;d.ranges.forEach(g=>{u.test(g.split("!").pop()||"")&&h.addCell(g)})})}}},{"../utils/cell-matrix":18,"../utils/col-cache":19,"../utils/under-dash":26,"./range":10}],7:[function(r,n,i){n.exports={ValueType:{Null:0,Merge:1,Number:2,String:3,Date:4,Hyperlink:5,Formula:6,SharedString:7,RichText:8,Boolean:9,Error:10},FormulaType:{None:0,Master:1,Shared:2},RelationshipType:{None:0,OfficeDocument:1,Worksheet:2,CalcChain:3,SharedStrings:4,Styles:5,Theme:6,Hyperlink:7},DocumentType:{Xlsx:1},ReadingOrder:{LeftToRight:1,RightToLeft:2},ErrorValue:{NotApplicable:"#N/A",Ref:"#REF!",Name:"#NAME?",DivZero:"#DIV/0!",Null:"#NULL!",Value:"#VALUE!",Num:"#NUM!"}}},{}],8:[function(r,n,i){const o=r("../utils/col-cache"),s=r("./anchor");n.exports=class{constructor(a,l){this.worksheet=a,this.model=l}get model(){switch(this.type){case"background":return{type:this.type,imageId:this.imageId};case"image":return{type:this.type,imageId:this.imageId,hyperlinks:this.range.hyperlinks,range:{tl:this.range.tl.model,br:this.range.br&&this.range.br.model,ext:this.range.ext,editAs:this.range.editAs}};default:throw new Error("Invalid Image Type")}}set model(a){let{type:l,imageId:u,range:c,hyperlinks:f}=a;if(this.type=l,this.imageId=u,l==="image")if(typeof c=="string"){const d=o.decode(c);this.range={tl:new s(this.worksheet,{col:d.left,row:d.top},-1),br:new s(this.worksheet,{col:d.right,row:d.bottom},0),editAs:"oneCell"}}else this.range={tl:new s(this.worksheet,c.tl,0),br:c.br&&new s(this.worksheet,c.br,0),ext:c.ext,editAs:c.editAs,hyperlinks:f||c.hyperlinks}}}},{"../utils/col-cache":19,"./anchor":2}],9:[function(r,n,i){const o=r("../utils/under-dash");class s{constructor(l){this.note=l}get model(){let l=null;switch(typeof this.note){case"string":l={type:"note",note:{texts:[{text:this.note}]}};break;default:l={type:"note",note:this.note}}return o.deepMerge({},s.DEFAULT_CONFIGS,l)}set model(l){const{note:u}=l,{texts:c}=u;c.length===1&&Object.keys(c[0]).length===1?this.note=c[0].text:this.note=u}static fromModel(l){const u=new s;return u.model=l,u}}s.DEFAULT_CONFIGS={note:{margins:{insetmode:"auto",inset:[.13,.13,.25,.25]},protection:{locked:"True",lockText:"True"},editAs:"absolute"}},n.exports=s},{"../utils/under-dash":26}],10:[function(r,n,i){const o=r("../utils/col-cache");class s{constructor(){this.decode(arguments)}setTLBR(l,u,c,f,d){if(arguments.length<4){const h=o.decodeAddress(l),g=o.decodeAddress(u);this.model={top:Math.min(h.row,g.row),left:Math.min(h.col,g.col),bottom:Math.max(h.row,g.row),right:Math.max(h.col,g.col),sheetName:c},this.setTLBR(h.row,h.col,g.row,g.col,d)}else this.model={top:Math.min(l,c),left:Math.min(u,f),bottom:Math.max(l,c),right:Math.max(u,f),sheetName:d}}decode(l){switch(l.length){case 5:this.setTLBR(l[0],l[1],l[2],l[3],l[4]);break;case 4:this.setTLBR(l[0],l[1],l[2],l[3]);break;case 3:this.setTLBR(l[0],l[1],l[2]);break;case 2:this.setTLBR(l[0],l[1]);break;case 1:{const u=l[0];if(u instanceof s)this.model={top:u.model.top,left:u.model.left,bottom:u.model.bottom,right:u.model.right,sheetName:u.sheetName};else if(u instanceof Array)this.decode(u);else if(u.top&&u.left&&u.bottom&&u.right)this.model={top:u.top,left:u.left,bottom:u.bottom,right:u.right,sheetName:u.sheetName};else{const c=o.decodeEx(u);c.top?this.model={top:c.top,left:c.left,bottom:c.bottom,right:c.right,sheetName:c.sheetName}:this.model={top:c.row,left:c.col,bottom:c.row,right:c.col,sheetName:c.sheetName}}break}case 0:this.model={top:0,left:0,bottom:0,right:0};break;default:throw new Error("Invalid number of arguments to _getDimensions() - "+l.length)}}get top(){return this.model.top||1}set top(l){this.model.top=l}get left(){return this.model.left||1}set left(l){this.model.left=l}get bottom(){return this.model.bottom||1}set bottom(l){this.model.bottom=l}get right(){return this.model.right||1}set right(l){this.model.right=l}get sheetName(){return this.model.sheetName}set sheetName(l){this.model.sheetName=l}get _serialisedSheetName(){const{sheetName:l}=this.model;return l?/^[a-zA-Z0-9]*$/.test(l)?l+"!":`'${l}'!`:""}expand(l,u,c,f){(!this.model.top||l<this.top)&&(this.top=l),(!this.model.left||u<this.left)&&(this.left=u),(!this.model.bottom||c>this.bottom)&&(this.bottom=c),(!this.model.right||f>this.right)&&(this.right=f)}expandRow(l){if(l){const{dimensions:u,number:c}=l;u&&this.expand(c,u.min,c,u.max)}}expandToAddress(l){const u=o.decodeEx(l);this.expand(u.row,u.col,u.row,u.col)}get tl(){return o.n2l(this.left)+this.top}get $t$l(){return`$${o.n2l(this.left)}$${this.top}`}get br(){return o.n2l(this.right)+this.bottom}get $b$r(){return`$${o.n2l(this.right)}$${this.bottom}`}get range(){return`${this._serialisedSheetName+this.tl}:${this.br}`}get $range(){return`${this._serialisedSheetName+this.$t$l}:${this.$b$r}`}get shortRange(){return this.count>1?this.range:this._serialisedSheetName+this.tl}get $shortRange(){return this.count>1?this.$range:this._serialisedSheetName+this.$t$l}get count(){return(1+this.bottom-this.top)*(1+this.right-this.left)}toString(){return this.range}intersects(l){return(!l.sheetName||!this.sheetName||l.sheetName===this.sheetName)&&!(l.bottom<this.top)&&!(l.top>this.bottom)&&!(l.right<this.left)&&!(l.left>this.right)}contains(l){const u=o.decodeEx(l);return this.containsEx(u)}containsEx(l){return(!l.sheetName||!this.sheetName||l.sheetName===this.sheetName)&&l.row>=this.top&&l.row<=this.bottom&&l.col>=this.left&&l.col<=this.right}forEachAddress(l){for(let u=this.left;u<=this.right;u++)for(let c=this.top;c<=this.bottom;c++)l(o.encodeAddress(c,u),c,u)}}n.exports=s},{"../utils/col-cache":19}],11:[function(r,n,i){const o=r("../utils/under-dash"),s=r("./enums"),a=r("../utils/col-cache"),l=r("./cell");n.exports=class{constructor(u,c){this._worksheet=u,this._number=c,this._cells=[],this.style={},this.outlineLevel=0}get number(){return this._number}get worksheet(){return this._worksheet}commit(){this._worksheet._commitRow(this)}destroy(){delete this._worksheet,delete this._cells,delete this.style}findCell(u){return this._cells[u-1]}getCellEx(u){let c=this._cells[u.col-1];if(!c){const f=this._worksheet.getColumn(u.col);c=new l(this,f,u.address),this._cells[u.col-1]=c}return c}getCell(u){if(typeof u=="string"){const c=this._worksheet.getColumnKey(u);u=c?c.number:a.l2n(u)}return this._cells[u-1]||this.getCellEx({address:a.encodeAddress(this._number,u),row:this._number,col:u})}splice(u,c){const f=u+c;for(var d=arguments.length,h=new Array(d>2?d-2:0),g=2;g<d;g++)h[g-2]=arguments[g];const m=h.length-c,p=this._cells.length;let y,b,v;if(m<0)for(y=u+h.length;y<=p;y++)v=this._cells[y-1],b=this._cells[y-m-1],b?(v=this.getCell(y),v.value=b.value,v.style=b.style,v._comment=b._comment):v&&(v.value=null,v.style={},v._comment=void 0);else if(m>0)for(y=p;y>=f;y--)b=this._cells[y-1],b?(v=this.getCell(y+m),v.value=b.value,v.style=b.style,v._comment=b._comment):this._cells[y+m-1]=void 0;for(y=0;y<h.length;y++)v=this.getCell(u+y),v.value=h[y],v.style={},v._comment=void 0}eachCell(u,c){if(c||(c=u,u=null),u&&u.includeEmpty){const f=this._cells.length;for(let d=1;d<=f;d++)c(this.getCell(d),d)}else this._cells.forEach((f,d)=>{f&&f.type!==s.ValueType.Null&&c(f,d+1)})}addPageBreak(u,c){const f=this._worksheet,d=Math.max(0,u-1)||0,h=Math.max(0,c-1)||16838,g={id:this._number,max:h,man:1};d&&(g.min=d),f.rowBreaks.push(g)}get values(){const u=[];return this._cells.forEach(c=>{c&&c.type!==s.ValueType.Null&&(u[c.col]=c.value)}),u}set values(u){if(this._cells=[],u)if(u instanceof Array){let c=0;u.hasOwnProperty("0")&&(c=1),u.forEach((f,d)=>{f!==void 0&&(this.getCellEx({address:a.encodeAddress(this._number,d+c),row:this._number,col:d+c}).value=f)})}else this._worksheet.eachColumnKey((c,f)=>{u[f]!==void 0&&(this.getCellEx({address:a.encodeAddress(this._number,c.number),row:this._number,col:c.number}).value=u[f])})}get hasValues(){return o.some(this._cells,u=>u&&u.type!==s.ValueType.Null)}get cellCount(){return this._cells.length}get actualCellCount(){let u=0;return this.eachCell(()=>{u++}),u}get dimensions(){let u=0,c=0;return this._cells.forEach(f=>{f&&f.type!==s.ValueType.Null&&((!u||u>f.col)&&(u=f.col),c<f.col&&(c=f.col))}),u>0?{min:u,max:c}:null}_applyStyle(u,c){return this.style[u]=c,this._cells.forEach(f=>{f&&(f[u]=c)}),c}get numFmt(){return this.style.numFmt}set numFmt(u){this._applyStyle("numFmt",u)}get font(){return this.style.font}set font(u){this._applyStyle("font",u)}get alignment(){return this.style.alignment}set alignment(u){this._applyStyle("alignment",u)}get protection(){return this.style.protection}set protection(u){this._applyStyle("protection",u)}get border(){return this.style.border}set border(u){this._applyStyle("border",u)}get fill(){return this.style.fill}set fill(u){this._applyStyle("fill",u)}get hidden(){return!!this._hidden}set hidden(u){this._hidden=u}get outlineLevel(){return this._outlineLevel||0}set outlineLevel(u){this._outlineLevel=u}get collapsed(){return!!(this._outlineLevel&&this._outlineLevel>=this._worksheet.properties.outlineLevelRow)}get model(){const u=[];let c=0,f=0;return this._cells.forEach(d=>{if(d){const h=d.model;h&&((!c||c>d.col)&&(c=d.col),f<d.col&&(f=d.col),u.push(h))}}),this.height||u.length?{cells:u,number:this.number,min:c,max:f,height:this.height,style:this.style,hidden:this.hidden,outlineLevel:this.outlineLevel,collapsed:this.collapsed}:null}set model(u){if(u.number!==this._number)throw new Error("Invalid row number in model");let c;this._cells=[],u.cells.forEach(f=>{switch(f.type){case l.Types.Merge:break;default:{let d;if(f.address)d=a.decodeAddress(f.address);else if(c){const{row:h}=c,g=c.col+1;d={row:h,col:g,address:a.encodeAddress(h,g),$col$row:`$${a.n2l(g)}$${h}`}}c=d,this.getCellEx(d).model=f;break}}}),u.height?this.height=u.height:delete this.height,this.hidden=u.hidden,this.outlineLevel=u.outlineLevel||0,this.style=u.style&&JSON.parse(JSON.stringify(u.style))||{}}}},{"../utils/col-cache":19,"../utils/under-dash":26,"./cell":3,"./enums":7}],12:[function(r,n,i){const o=r("../utils/col-cache");class s{constructor(l,u,c){this.table=l,this.column=u,this.index=c}_set(l,u){this.table.cacheState(),this.column[l]=u}get name(){return this.column.name}set name(l){this._set("name",l)}get filterButton(){return this.column.filterButton}set filterButton(l){this.column.filterButton=l}get style(){return this.column.style}set style(l){this.column.style=l}get totalsRowLabel(){return this.column.totalsRowLabel}set totalsRowLabel(l){this._set("totalsRowLabel",l)}get totalsRowFunction(){return this.column.totalsRowFunction}set totalsRowFunction(l){this._set("totalsRowFunction",l)}get totalsRowResult(){return this.column.totalsRowResult}set totalsRowResult(l){this._set("totalsRowResult",l)}get totalsRowFormula(){return this.column.totalsRowFormula}set totalsRowFormula(l){this._set("totalsRowFormula",l)}}n.exports=class{constructor(a,l){this.worksheet=a,l&&(this.table=l,this.validate(),this.store())}getFormula(a){switch(a.totalsRowFunction){case"none":return null;case"average":return`SUBTOTAL(101,${this.table.name}[${a.name}])`;case"countNums":return`SUBTOTAL(102,${this.table.name}[${a.name}])`;case"count":return`SUBTOTAL(103,${this.table.name}[${a.name}])`;case"max":return`SUBTOTAL(104,${this.table.name}[${a.name}])`;case"min":return`SUBTOTAL(105,${this.table.name}[${a.name}])`;case"stdDev":return`SUBTOTAL(106,${this.table.name}[${a.name}])`;case"var":return`SUBTOTAL(107,${this.table.name}[${a.name}])`;case"sum":return`SUBTOTAL(109,${this.table.name}[${a.name}])`;case"custom":return a.totalsRowFormula;default:throw new Error("Invalid Totals Row Function: "+a.totalsRowFunction)}}get width(){return this.table.columns.length}get height(){return this.table.rows.length}get filterHeight(){return this.height+(this.table.headerRow?1:0)}get tableHeight(){return this.filterHeight+(this.table.totalsRow?1:0)}validate(){const{table:a}=this,l=(m,p,y)=>{m[p]===void 0&&(m[p]=y)};l(a,"headerRow",!0),l(a,"totalsRow",!1),l(a,"style",{}),l(a.style,"theme","TableStyleMedium2"),l(a.style,"showFirstColumn",!1),l(a.style,"showLastColumn",!1),l(a.style,"showRowStripes",!1),l(a.style,"showColumnStripes",!1);const u=(m,p)=>{if(!m)throw new Error(p)};u(a.ref,"Table must have ref"),u(a.columns,"Table must have column definitions"),u(a.rows,"Table must have row definitions"),a.tl=o.decodeAddress(a.ref);const{row:c,col:f}=a.tl;u(c>0,"Table must be on valid row"),u(f>0,"Table must be on valid col");const{width:d,filterHeight:h,tableHeight:g}=this;a.autoFilterRef=o.encode(c,f,c+h-1,f+d-1),a.tableRef=o.encode(c,f,c+g-1,f+d-1),a.columns.forEach((m,p)=>{u(m.name,`Column ${p} must have a name`),p===0?l(m,"totalsRowLabel","Total"):(l(m,"totalsRowFunction","none"),m.totalsRowFormula=this.getFormula(m))})}store(){const a=(h,g)=>{g&&Object.keys(g).forEach(m=>{h[m]=g[m]})},{worksheet:l,table:u}=this,{row:c,col:f}=u.tl;let d=0;if(u.headerRow){const h=l.getRow(c+d++);u.columns.forEach((g,m)=>{const{style:p,name:y}=g,b=h.getCell(f+m);b.value=y,a(b,p)})}if(u.rows.forEach(h=>{const g=l.getRow(c+d++);h.forEach((m,p)=>{const y=g.getCell(f+p);y.value=m,a(y,u.columns[p].style)})}),u.totalsRow){const h=l.getRow(c+d++);u.columns.forEach((g,m)=>{const p=h.getCell(f+m);if(m===0)p.value=g.totalsRowLabel;else{const y=this.getFormula(g);p.value=y?{formula:g.totalsRowFormula,result:g.totalsRowResult}:null}a(p,g.style)})}}load(a){const{table:l}=this,{row:u,col:c}=l.tl;let f=0;if(l.headerRow){const d=a.getRow(u+f++);l.columns.forEach((h,g)=>{d.getCell(c+g).value=h.name})}if(l.rows.forEach(d=>{const h=a.getRow(u+f++);d.forEach((g,m)=>{h.getCell(c+m).value=g})}),l.totalsRow){const d=a.getRow(u+f++);l.columns.forEach((h,g)=>{const m=d.getCell(c+g);g===0?m.value=h.totalsRowLabel:this.getFormula(h)&&(m.value={formula:h.totalsRowFormula,result:h.totalsRowResult})})}}get model(){return this.table}set model(a){this.table=a}cacheState(){this._cache||(this._cache={ref:this.ref,width:this.width,tableHeight:this.tableHeight})}commit(){if(!this._cache)return;this.validate();const a=o.decodeAddress(this._cache.ref);if(this.ref!==this._cache.ref)for(let l=0;l<this._cache.tableHeight;l++){const u=this.worksheet.getRow(a.row+l);for(let c=0;c<this._cache.width;c++)u.getCell(a.col+c).value=null}else{for(let l=this.tableHeight;l<this._cache.tableHeight;l++){const u=this.worksheet.getRow(a.row+l);for(let c=0;c<this._cache.width;c++)u.getCell(a.col+c).value=null}for(let l=0;l<this.tableHeight;l++){const u=this.worksheet.getRow(a.row+l);for(let c=this.width;c<this._cache.width;c++)u.getCell(a.col+c).value=null}}this.store()}addRow(a,l){this.cacheState(),l===void 0?this.table.rows.push(a):this.table.rows.splice(l,0,a)}removeRows(a){let l=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1;this.cacheState(),this.table.rows.splice(a,l)}getColumn(a){const l=this.table.columns[a];return new s(this,l,a)}addColumn(a,l,u){this.cacheState(),u===void 0?(this.table.columns.push(a),this.table.rows.forEach((c,f)=>{c.push(l[f])})):(this.table.columns.splice(u,0,a),this.table.rows.forEach((c,f)=>{c.splice(u,0,l[f])}))}removeColumns(a){let l=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1;this.cacheState(),this.table.columns.splice(a,l),this.table.rows.forEach(u=>{u.splice(a,l)})}_assign(a,l,u){this.cacheState(),a[l]=u}get ref(){return this.table.ref}set ref(a){this._assign(this.table,"ref",a)}get name(){return this.table.name}set name(a){this.table.name=a}get displayName(){return this.table.displyName||this.table.name}set displayNamename(a){this.table.displayName=a}get headerRow(){return this.table.headerRow}set headerRow(a){this._assign(this.table,"headerRow",a)}get totalsRow(){return this.table.totalsRow}set totalsRow(a){this._assign(this.table,"totalsRow",a)}get theme(){return this.table.style.name}set theme(a){this.table.style.name=a}get showFirstColumn(){return this.table.style.showFirstColumn}set showFirstColumn(a){this.table.style.showFirstColumn=a}get showLastColumn(){return this.table.style.showLastColumn}set showLastColumn(a){this.table.style.showLastColumn=a}get showRowStripes(){return this.table.style.showRowStripes}set showRowStripes(a){this.table.style.showRowStripes=a}get showColumnStripes(){return this.table.style.showColumnStripes}set showColumnStripes(a){this.table.style.showColumnStripes=a}}},{"../utils/col-cache":19}],13:[function(r,n,i){const o=r("./worksheet"),s=r("./defined-names"),a=r("../xlsx/xlsx"),l=r("../csv/csv");n.exports=class{constructor(){this.category="",this.company="",this.created=new Date,this.description="",this.keywords="",this.manager="",this.modified=this.created,this.properties={},this.calcProperties={},this._worksheets=[],this.subject="",this.title="",this.views=[],this.media=[],this._definedNames=new s}get xlsx(){return this._xlsx||(this._xlsx=new a(this)),this._xlsx}get csv(){return this._csv||(this._csv=new l(this)),this._csv}get nextId(){for(let u=1;u<this._worksheets.length;u++)if(!this._worksheets[u])return u;return this._worksheets.length||1}addWorksheet(u,c){const f=this.nextId;c&&(typeof c=="string"?(console.trace('tabColor argument is now deprecated. Please use workbook.addWorksheet(name, {properties: { tabColor: { argb: "rbg value" } }'),c={properties:{tabColor:{argb:c}}}):(c.argb||c.theme||c.indexed)&&(console.trace("tabColor argument is now deprecated. Please use workbook.addWorksheet(name, {properties: { tabColor: { ... } }"),c={properties:{tabColor:c}}));const d=this._worksheets.reduce((m,p)=>(p&&p.orderNo)>m?p.orderNo:m,0),h=Object.assign({},c,{id:f,name:u,orderNo:d+1,workbook:this}),g=new o(h);return this._worksheets[f]=g,g}removeWorksheetEx(u){delete this._worksheets[u.id]}removeWorksheet(u){const c=this.getWorksheet(u);c&&c.destroy()}getWorksheet(u){return u===void 0?this._worksheets.find(Boolean):typeof u=="number"?this._worksheets[u]:typeof u=="string"?this._worksheets.find(c=>c&&c.name===u):void 0}get worksheets(){return this._worksheets.slice(1).sort((u,c)=>u.orderNo-c.orderNo).filter(Boolean)}eachSheet(u){this.worksheets.forEach(c=>{u(c,c.id)})}get definedNames(){return this._definedNames}clearThemes(){this._themes=void 0}addImage(u){const c=this.media.length;return this.media.push(Object.assign({},u,{type:"image"})),c}getImage(u){return this.media[u]}get model(){return{creator:this.creator||"Unknown",lastModifiedBy:this.lastModifiedBy||"Unknown",lastPrinted:this.lastPrinted,created:this.created,modified:this.modified,properties:this.properties,worksheets:this.worksheets.map(u=>u.model),sheets:this.worksheets.map(u=>u.model).filter(Boolean),definedNames:this._definedNames.model,views:this.views,company:this.company,manager:this.manager,title:this.title,subject:this.subject,keywords:this.keywords,category:this.category,description:this.description,language:this.language,revision:this.revision,contentStatus:this.contentStatus,themes:this._themes,media:this.media,calcProperties:this.calcProperties}}set model(u){this.creator=u.creator,this.lastModifiedBy=u.lastModifiedBy,this.lastPrinted=u.lastPrinted,this.created=u.created,this.modified=u.modified,this.company=u.company,this.manager=u.manager,this.title=u.title,this.subject=u.subject,this.keywords=u.keywords,this.category=u.category,this.description=u.description,this.language=u.language,this.revision=u.revision,this.contentStatus=u.contentStatus,this.properties=u.properties,this.calcProperties=u.calcProperties,this._worksheets=[],u.worksheets.forEach(c=>{const{id:f,name:d,state:h}=c,g=u.sheets&&u.sheets.findIndex(m=>m.id===f);(this._worksheets[f]=new o({id:f,name:d,orderNo:g,state:h,workbook:this})).model=c}),this._definedNames.model=u.definedNames,this.views=u.views,this._themes=u.themes,this.media=u.media||[]}}},{"../csv/csv":1,"../xlsx/xlsx":144,"./defined-names":6,"./worksheet":14}],14:[function(r,n,i){const o=r("../utils/under-dash"),s=r("../utils/col-cache"),a=r("./range"),l=r("./row"),u=r("./column"),c=r("./enums"),f=r("./image"),d=r("./table"),h=r("./data-validations"),g=r("../utils/encryptor"),{copyStyle:m}=r("../utils/copy-style");n.exports=class{constructor(p){p=p||{},this._workbook=p.workbook,this.id=p.id,this.orderNo=p.orderNo,this.name=p.name,this.state=p.state||"visible",this._rows=[],this._columns=null,this._keys={},this._merges={},this.rowBreaks=[],this.properties=Object.assign({},{defaultRowHeight:15,dyDescent:55,outlineLevelCol:0,outlineLevelRow:0},p.properties),this.pageSetup=Object.assign({},{margins:{left:.7,right:.7,top:.75,bottom:.75,header:.3,footer:.3},orientation:"portrait",horizontalDpi:4294967295,verticalDpi:4294967295,fitToPage:!(!p.pageSetup||!p.pageSetup.fitToWidth&&!p.pageSetup.fitToHeight||p.pageSetup.scale),pageOrder:"downThenOver",blackAndWhite:!1,draft:!1,cellComments:"None",errors:"displayed",scale:100,fitToWidth:1,fitToHeight:1,paperSize:void 0,showRowColHeaders:!1,showGridLines:!1,firstPageNumber:void 0,horizontalCentered:!1,verticalCentered:!1,rowBreaks:null,colBreaks:null},p.pageSetup),this.headerFooter=Object.assign({},{differentFirst:!1,differentOddEven:!1,oddHeader:null,oddFooter:null,evenHeader:null,evenFooter:null,firstHeader:null,firstFooter:null},p.headerFooter),this.dataValidations=new h,this.views=p.views||[],this.autoFilter=p.autoFilter||null,this._media=[],this.sheetProtection=null,this.tables={},this.conditionalFormattings=[]}get name(){return this._name}set name(p){if(p===void 0&&(p="sheet"+this.id),this._name!==p){if(typeof p!="string")throw new Error("The name has to be a string.");if(p==="")throw new Error("The name can't be empty.");if(p==="History")throw new Error('The name "History" is protected. Please use a different name.');if(/[*?:/\\[\]]/.test(p))throw new Error(`Worksheet name ${p} cannot include any of the following characters: * ? : \\ / [ ]`);if(/(^')|('$)/.test(p))throw new Error("The first or last character of worksheet name cannot be a single quotation mark: "+p);if(p&&p.length>31&&(console.warn(`Worksheet name ${p} exceeds 31 chars. This will be truncated`),p=p.substring(0,31)),this._workbook._worksheets.find(y=>y&&y.name.toLowerCase()===p.toLowerCase()))throw new Error("Worksheet name already exists: "+p);this._name=p}}get workbook(){return this._workbook}destroy(){this._workbook.removeWorksheetEx(this)}get dimensions(){const p=new a;return this._rows.forEach(y=>{if(y){const b=y.dimensions;b&&p.expand(y.number,b.min,y.number,b.max)}}),p}get columns(){return this._columns}set columns(p){this._headerRowCount=p.reduce((v,F)=>{const E=(F.header?1:F.headers&&F.headers.length)||0;return Math.max(v,E)},0);let y=1;const b=this._columns=[];p.forEach(v=>{const F=new u(this,y++,!1);b.push(F),F.defn=v})}getColumnKey(p){return this._keys[p]}setColumnKey(p,y){this._keys[p]=y}deleteColumnKey(p){delete this._keys[p]}eachColumnKey(p){o.each(this._keys,p)}getColumn(p){if(typeof p=="string"){const y=this._keys[p];if(y)return y;p=s.l2n(p)}if(this._columns||(this._columns=[]),p>this._columns.length){let y=this._columns.length+1;for(;y<=p;)this._columns.push(new u(this,y++))}return this._columns[p-1]}spliceColumns(p,y){const b=this._rows.length;for(var v=arguments.length,F=new Array(v>2?v-2:0),E=2;E<v;E++)F[E-2]=arguments[E];if(F.length>0)for(let P=0;P<b;P++){const O=[p,y];F.forEach(L=>{O.push(L[P]||null)});const z=this.getRow(P+1);z.splice.apply(z,O)}else this._rows.forEach(P=>{P&&P.splice(p,y)});const T=F.length-y,I=p+y,M=this._columns.length;if(T<0)for(let P=p+F.length;P<=M;P++)this.getColumn(P).defn=this.getColumn(P-T).defn;else if(T>0)for(let P=M;P>=I;P--)this.getColumn(P+T).defn=this.getColumn(P).defn;for(let P=p;P<p+F.length;P++)this.getColumn(P).defn=null;this.workbook.definedNames.spliceColumns(this.name,p,y,F.length)}get lastColumn(){return this.getColumn(this.columnCount)}get columnCount(){let p=0;return this.eachRow(y=>{p=Math.max(p,y.cellCount)}),p}get actualColumnCount(){const p=[];let y=0;return this.eachRow(b=>{b.eachCell(v=>{let{col:F}=v;p[F]||(p[F]=!0,y++)})}),y}_commitRow(){}get _lastRowNumber(){const p=this._rows;let y=p.length;for(;y>0&&p[y-1]===void 0;)y--;return y}get _nextRow(){return this._lastRowNumber+1}get lastRow(){if(this._rows.length)return this._rows[this._rows.length-1]}findRow(p){return this._rows[p-1]}findRows(p,y){return this._rows.slice(p-1,p-1+y)}get rowCount(){return this._lastRowNumber}get actualRowCount(){let p=0;return this.eachRow(()=>{p++}),p}getRow(p){let y=this._rows[p-1];return y||(y=this._rows[p-1]=new l(this,p)),y}getRows(p,y){if(y<1)return;const b=[];for(let v=p;v<p+y;v++)b.push(this.getRow(v));return b}addRow(p){let y=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"n";const b=this._nextRow,v=this.getRow(b);return v.values=p,this._setStyleOption(b,y[0]==="i"?y:"n"),v}addRows(p){let y=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"n";const b=[];return p.forEach(v=>{b.push(this.addRow(v,y))}),b}insertRow(p,y){let b=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"n";return this.spliceRows(p,0,y),this._setStyleOption(p,b),this.getRow(p)}insertRows(p,y){let b=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"n";if(this.spliceRows(p,0,...y),b!=="n")for(let v=0;v<y.length;v++)b[0]==="o"&&this.findRow(y.length+p+v)!==void 0?this._copyStyle(y.length+p+v,p+v,b[1]==="+"):b[0]==="i"&&this.findRow(p-1)!==void 0&&this._copyStyle(p-1,p+v,b[1]==="+");return this.getRows(p,y.length)}_setStyleOption(p){let y=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"n";y[0]==="o"&&this.findRow(p+1)!==void 0?this._copyStyle(p+1,p,y[1]==="+"):y[0]==="i"&&this.findRow(p-1)!==void 0&&this._copyStyle(p-1,p,y[1]==="+")}_copyStyle(p,y){let b=arguments.length>2&&arguments[2]!==void 0&&arguments[2];const v=this.getRow(p),F=this.getRow(y);F.style=m(v.style),v.eachCell({includeEmpty:b},(E,T)=>{F.getCell(T).style=m(E.style)}),F.height=v.height}duplicateRow(p,y){let b=arguments.length>2&&arguments[2]!==void 0&&arguments[2];const v=this._rows[p-1],F=new Array(y).fill(v.values);this.spliceRows(p+1,b?0:y,...F);for(let E=0;E<y;E++){const T=this._rows[p+E];T.style=v.style,T.height=v.height,v.eachCell({includeEmpty:!0},(I,M)=>{T.getCell(M).style=I.style})}}spliceRows(p,y){const b=p+y;for(var v=arguments.length,F=new Array(v>2?v-2:0),E=2;E<v;E++)F[E-2]=arguments[E];const T=F.length,I=T-y,M=this._rows.length;let P,O;if(I<0)for(p===M&&(this._rows[M-1]=void 0),P=b;P<=M;P++)if(O=this._rows[P-1],O){const z=this.getRow(P+I);z.values=O.values,z.style=O.style,z.height=O.height,O.eachCell({includeEmpty:!0},(L,_)=>{z.getCell(_).style=L.style}),this._rows[P-1]=void 0}else this._rows[P+I-1]=void 0;else if(I>0)for(P=M;P>=b;P--)if(O=this._rows[P-1],O){const z=this.getRow(P+I);z.values=O.values,z.style=O.style,z.height=O.height,O.eachCell({includeEmpty:!0},(L,_)=>{if(z.getCell(_).style=L.style,L._value.constructor.name==="MergeValue"){const R=this.getRow(L._row._number+T).getCell(_),k=L._value._master,S=this.getRow(k._row._number+T).getCell(k._column._number);R.merge(S)}})}else this._rows[P+I-1]=void 0;for(P=0;P<T;P++){const z=this.getRow(p+P);z.style={},z.values=F[P]}this.workbook.definedNames.spliceRows(this.name,p,y,T)}eachRow(p,y){if(y||(y=p,p=void 0),p&&p.includeEmpty){const b=this._rows.length;for(let v=1;v<=b;v++)y(this.getRow(v),v)}else this._rows.forEach(b=>{b&&b.hasValues&&y(b,b.number)})}getSheetValues(){const p=[];return this._rows.forEach(y=>{y&&(p[y.number]=y.values)}),p}findCell(p,y){const b=s.getAddress(p,y),v=this._rows[b.row-1];return v?v.findCell(b.col):void 0}getCell(p,y){const b=s.getAddress(p,y);return this.getRow(b.row).getCellEx(b)}mergeCells(){for(var p=arguments.length,y=new Array(p),b=0;b<p;b++)y[b]=arguments[b];const v=new a(y);this._mergeCellsInternal(v)}mergeCellsWithoutStyle(){for(var p=arguments.length,y=new Array(p),b=0;b<p;b++)y[b]=arguments[b];const v=new a(y);this._mergeCellsInternal(v,!0)}_mergeCellsInternal(p,y){o.each(this._merges,v=>{if(v.intersects(p))throw new Error("Cannot merge already merged cells")});const b=this.getCell(p.top,p.left);for(let v=p.top;v<=p.bottom;v++)for(let F=p.left;F<=p.right;F++)(v>p.top||F>p.left)&&this.getCell(v,F).merge(b,y);this._merges[b.address]=p}_unMergeMaster(p){const y=this._merges[p.address];if(y){for(let b=y.top;b<=y.bottom;b++)for(let v=y.left;v<=y.right;v++)this.getCell(b,v).unmerge();delete this._merges[p.address]}}get hasMerges(){return o.some(this._merges,Boolean)}unMergeCells(){for(var p=arguments.length,y=new Array(p),b=0;b<p;b++)y[b]=arguments[b];const v=new a(y);for(let F=v.top;F<=v.bottom;F++)for(let E=v.left;E<=v.right;E++){const T=this.findCell(F,E);T&&(T.type===c.ValueType.Merge?this._unMergeMaster(T.master):this._merges[T.address]&&this._unMergeMaster(T))}}fillFormula(p,y,b){let v=arguments.length>3&&arguments[3]!==void 0?arguments[3]:"shared";const F=s.decode(p),{top:E,left:T,bottom:I,right:M}=F,P=M-T+1,O=s.encodeAddress(E,T),z=v==="shared";let L;L=typeof b=="function"?b:Array.isArray(b)?Array.isArray(b[0])?(R,k)=>b[R-E][k-T]:(R,k)=>b[(R-E)*P+(k-T)]:()=>{};let _=!0;for(let R=E;R<=I;R++)for(let k=T;k<=M;k++)_?(this.getCell(R,k).value={shareType:v,formula:y,ref:p,result:L(R,k)},_=!1):this.getCell(R,k).value=z?{sharedFormula:O,result:L(R,k)}:L(R,k)}addImage(p,y){const b={type:"image",imageId:p,range:y};this._media.push(new f(this,b))}getImages(){return this._media.filter(p=>p.type==="image")}addBackgroundImage(p){const y={type:"background",imageId:p};this._media.push(new f(this,y))}getBackgroundImageId(){const p=this._media.find(y=>y.type==="background");return p&&p.imageId}protect(p,y){return new Promise(b=>{this.sheetProtection={sheet:!0},y&&"spinCount"in y&&(y.spinCount=Number.isFinite(y.spinCount)?Math.round(Math.max(0,y.spinCount)):1e5),p&&(this.sheetProtection.algorithmName="SHA-512",this.sheetProtection.saltValue=g.randomBytes(16).toString("base64"),this.sheetProtection.spinCount=y&&"spinCount"in y?y.spinCount:1e5,this.sheetProtection.hashValue=g.convertPasswordToHash(p,"SHA512",this.sheetProtection.saltValue,this.sheetProtection.spinCount)),y&&(this.sheetProtection=Object.assign(this.sheetProtection,y),!p&&"spinCount"in y&&delete this.sheetProtection.spinCount),b()})}unprotect(){this.sheetProtection=null}addTable(p){const y=new d(this,p);return this.tables[p.name]=y,y}getTable(p){return this.tables[p]}removeTable(p){delete this.tables[p]}getTables(){return Object.values(this.tables)}addConditionalFormatting(p){this.conditionalFormattings.push(p)}removeConditionalFormatting(p){typeof p=="number"?this.conditionalFormattings.splice(p,1):this.conditionalFormattings=p instanceof Function?this.conditionalFormattings.filter(p):[]}get tabColor(){return console.trace("worksheet.tabColor property is now deprecated. Please use worksheet.properties.tabColor"),this.properties.tabColor}set tabColor(p){console.trace("worksheet.tabColor property is now deprecated. Please use worksheet.properties.tabColor"),this.properties.tabColor=p}get model(){const p={id:this.id,name:this.name,dataValidations:this.dataValidations.model,properties:this.properties,state:this.state,pageSetup:this.pageSetup,headerFooter:this.headerFooter,rowBreaks:this.rowBreaks,views:this.views,autoFilter:this.autoFilter,media:this._media.map(v=>v.model),sheetProtection:this.sheetProtection,tables:Object.values(this.tables).map(v=>v.model),conditionalFormattings:this.conditionalFormattings};p.cols=u.toModel(this.columns);const y=p.rows=[],b=p.dimensions=new a;return this._rows.forEach(v=>{const F=v&&v.model;F&&(b.expand(F.number,F.min,F.number,F.max),y.push(F))}),p.merges=[],o.each(this._merges,v=>{p.merges.push(v.range)}),p}_parseRows(p){this._rows=[],p.rows.forEach(y=>{const b=new l(this,y.number);this._rows[b.number-1]=b,b.model=y})}_parseMergeCells(p){o.each(p.mergeCells,y=>{this.mergeCellsWithoutStyle(y)})}set model(p){this.name=p.name,this._columns=u.fromModel(this,p.cols),this._parseRows(p),this._parseMergeCells(p),this.dataValidations=new h(p.dataValidations),this.properties=p.properties,this.pageSetup=p.pageSetup,this.headerFooter=p.headerFooter,this.views=p.views,this.autoFilter=p.autoFilter,this._media=p.media.map(y=>new f(this,y)),this.sheetProtection=p.sheetProtection,this.tables=p.tables.reduce((y,b)=>{const v=new d;return v.model=b,y[b.name]=v,y},{}),this.conditionalFormattings=p.conditionalFormattings}}},{"../utils/col-cache":19,"../utils/copy-style":20,"../utils/encryptor":21,"../utils/under-dash":26,"./column":4,"./data-validations":5,"./enums":7,"./image":8,"./range":10,"./row":11,"./table":12}],15:[function(r,n,i){r("core-js/modules/es.promise"),r("core-js/modules/es.promise.finally"),r("core-js/modules/es.object.assign"),r("core-js/modules/es.object.keys"),r("core-js/modules/es.object.values"),r("core-js/modules/es.symbol"),r("core-js/modules/es.symbol.async-iterator"),r("core-js/modules/es.array.iterator"),r("core-js/modules/es.array.includes"),r("core-js/modules/es.array.find-index"),r("core-js/modules/es.array.find"),r("core-js/modules/es.string.from-code-point"),r("core-js/modules/es.string.includes"),r("core-js/modules/es.number.is-nan"),r("regenerator-runtime/runtime");const o={Workbook:r("./doc/workbook")},s=r("./doc/enums");Object.keys(s).forEach(a=>{o[a]=s[a]}),n.exports=o},{"./doc/enums":7,"./doc/workbook":13,"core-js/modules/es.array.find":359,"core-js/modules/es.array.find-index":358,"core-js/modules/es.array.includes":360,"core-js/modules/es.array.iterator":361,"core-js/modules/es.number.is-nan":363,"core-js/modules/es.object.assign":364,"core-js/modules/es.object.keys":366,"core-js/modules/es.object.values":367,"core-js/modules/es.promise":372,"core-js/modules/es.promise.finally":371,"core-js/modules/es.string.from-code-point":376,"core-js/modules/es.string.includes":377,"core-js/modules/es.symbol":381,"core-js/modules/es.symbol.async-iterator":378,"regenerator-runtime/runtime":492}],16:[function(r,n,i){const o=typeof TextDecoder>"u"?null:new TextDecoder("utf-8");i.bufferToString=function(s){return typeof s=="string"?s:o?o.decode(s):s.toString()}},{}],17:[function(r,n,i){const o=typeof TextEncoder>"u"?null:new TextEncoder("utf-8"),{Buffer:s}=r("buffer");i.stringToBuffer=function(a){return typeof a!="string"?a:o?s.from(o.encode(a).buffer):s.from(a)}},{buffer:220}],18:[function(r,n,i){const o=r("./under-dash"),s=r("./col-cache");n.exports=class{constructor(a){this.template=a,this.sheets={}}addCell(a){this.addCellEx(s.decodeEx(a))}getCell(a){return this.findCellEx(s.decodeEx(a),!0)}findCell(a){return this.findCellEx(s.decodeEx(a),!1)}findCellAt(a,l,u){const c=this.sheets[a],f=c&&c[l];return f&&f[u]}addCellEx(a){if(a.top)for(let l=a.top;l<=a.bottom;l++)for(let u=a.left;u<=a.right;u++)this.getCellAt(a.sheetName,l,u);else this.findCellEx(a,!0)}getCellEx(a){return this.findCellEx(a,!0)}findCellEx(a,l){const u=this.findSheet(a,l),c=this.findSheetRow(u,a,l);return this.findRowCell(c,a,l)}getCellAt(a,l,u){const c=this.sheets[a]||(this.sheets[a]=[]),f=c[l]||(c[l]=[]);return f[u]||(f[u]={sheetName:a,address:s.n2l(u)+l,row:l,col:u})}removeCellEx(a){const l=this.findSheet(a);if(!l)return;const u=this.findSheetRow(l,a);u&&delete u[a.col]}forEachInSheet(a,l){const u=this.sheets[a];u&&u.forEach((c,f)=>{c&&c.forEach((d,h)=>{d&&l(d,f,h)})})}forEach(a){o.each(this.sheets,(l,u)=>{this.forEachInSheet(u,a)})}map(a){const l=[];return this.forEach(u=>{l.push(a(u))}),l}findSheet(a,l){const u=a.sheetName;return this.sheets[u]?this.sheets[u]:l?this.sheets[u]=[]:void 0}findSheetRow(a,l,u){const{row:c}=l;return a&&a[c]?a[c]:u?a[c]=[]:void 0}findRowCell(a,l,u){const{col:c}=l;return a&&a[c]?a[c]:u?a[c]=this.template?Object.assign(l,JSON.parse(JSON.stringify(this.template))):l:void 0}spliceRows(a,l,u,c){const f=this.sheets[a];if(f){const d=[];for(let h=0;h<c;h++)d.push([]);f.splice(l,u,...d)}}spliceColumns(a,l,u,c){const f=this.sheets[a];if(f){const d=[];for(let h=0;h<c;h++)d.push(null);o.each(f,h=>{h.splice(l,u,...d)})}}}},{"./col-cache":19,"./under-dash":26}],19:[function(r,n,i){const o=/^[A-Z]+\d+$/,s={_dictionary:["A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"],_l2nFill:0,_l2n:{},_n2l:[],_level:a=>a<=26?1:a<=676?2:3,_fill(a){let l,u,c,f,d,h=1;if(a>=4)throw new Error("Out of bounds. Excel supports columns from 1 to 16384");if(this._l2nFill<1&&a>=1){for(;h<=26;)l=this._dictionary[h-1],this._n2l[h]=l,this._l2n[l]=h,h++;this._l2nFill=1}if(this._l2nFill<2&&a>=2){for(h=27;h<=702;)u=h-27,c=u%26,f=Math.floor(u/26),l=this._dictionary[f]+this._dictionary[c],this._n2l[h]=l,this._l2n[l]=h,h++;this._l2nFill=2}if(this._l2nFill<3&&a>=3){for(h=703;h<=16384;)u=h-703,c=u%26,f=Math.floor(u/26)%26,d=Math.floor(u/676),l=this._dictionary[d]+this._dictionary[f]+this._dictionary[c],this._n2l[h]=l,this._l2n[l]=h,h++;this._l2nFill=3}},l2n(a){if(this._l2n[a]||this._fill(a.length),!this._l2n[a])throw new Error("Out of bounds. Invalid column letter: "+a);return this._l2n[a]},n2l(a){if(a<1||a>16384)throw new Error(a+" is out of bounds. Excel supports columns from 1 to 16384");return this._n2l[a]||this._fill(this._level(a)),this._n2l[a]},_hash:{},validateAddress(a){if(!o.test(a))throw new Error("Invalid Address: "+a);return!0},decodeAddress(a){const l=a.length<5&&this._hash[a];if(l)return l;let u=!1,c="",f=0,d=!1,h="",g=0;for(let p,y=0;y<a.length;y++)if(p=a.charCodeAt(y),!d&&p>=65&&p<=90)u=!0,c+=a[y],f=26*f+p-64;else if(p>=48&&p<=57)d=!0,h+=a[y],g=10*g+p-48;else if(d&&u&&p!==36)break;if(u){if(f>16384)throw new Error("Out of bounds. Invalid column letter: "+c)}else f=void 0;d||(g=void 0);const m={address:a=c+h,col:f,row:g,$col$row:`$${c}$${h}`};return f<=100&&g<=100&&(this._hash[a]=m,this._hash[m.$col$row]=m),m},getAddress(a,l){if(l){const u=this.n2l(l)+a;return this.decodeAddress(u)}return this.decodeAddress(a)},decode(a){const l=a.split(":");if(l.length===2){const u=this.decodeAddress(l[0]),c=this.decodeAddress(l[1]),f={top:Math.min(u.row,c.row),left:Math.min(u.col,c.col),bottom:Math.max(u.row,c.row),right:Math.max(u.col,c.col)};return f.tl=this.n2l(f.left)+f.top,f.br=this.n2l(f.right)+f.bottom,f.dimensions=`${f.tl}:${f.br}`,f}return this.decodeAddress(a)},decodeEx(a){const l=a.match(/(?:(?:(?:'((?:[^']|'')*)')|([^'^ !]*))!)?(.*)/),u=l[1]||l[2],c=l[3],f=c.split(":");if(f.length>1){let h=this.decodeAddress(f[0]),g=this.decodeAddress(f[1]);const m=Math.min(h.row,g.row),p=Math.min(h.col,g.col),y=Math.max(h.row,g.row),b=Math.max(h.col,g.col);return h=this.n2l(p)+m,g=this.n2l(b)+y,{top:m,left:p,bottom:y,right:b,sheetName:u,tl:{address:h,col:p,row:m,$col$row:`$${this.n2l(p)}$${m}`,sheetName:u},br:{address:g,col:b,row:y,$col$row:`$${this.n2l(b)}$${y}`,sheetName:u},dimensions:`${h}:${g}`}}if(c.startsWith("#"))return u?{sheetName:u,error:c}:{error:c};const d=this.decodeAddress(c);return u?{sheetName:u,...d}:d},encodeAddress:(a,l)=>s.n2l(l)+a,encode(){switch(arguments.length){case 2:return s.encodeAddress(arguments[0],arguments[1]);case 4:return`${s.encodeAddress(arguments[0],arguments[1])}:${s.encodeAddress(arguments[2],arguments[3])}`;default:throw new Error("Can only encode with 2 or 4 arguments")}},inRange(a,l){const[u,c,,f,d]=a,[h,g]=l;return h>=u&&h<=f&&g>=c&&g<=d}};n.exports=s},{}],20:[function(r,n,i){const o=(a,l)=>({...a,...l.reduce((u,c)=>(a[c]&&(u[c]={...a[c]}),u),{})}),s=function(a,l,u){let c=arguments.length>3&&arguments[3]!==void 0?arguments[3]:[];a[u]&&(l[u]=o(a[u],c))};i.copyStyle=a=>{if(!a)return a;if(l=a,Object.keys(l).length===0)return{};var l;const u={...a};return s(a,u,"font",["color"]),s(a,u,"alignment"),s(a,u,"protection"),a.border&&(s(a,u,"border"),s(a.border,u.border,"top",["color"]),s(a.border,u.border,"left",["color"]),s(a.border,u.border,"bottom",["color"]),s(a.border,u.border,"right",["color"]),s(a.border,u.border,"diagonal",["color"])),a.fill&&(s(a,u,"fill",["fgColor","bgColor","center"]),a.fill.stops&&(u.fill.stops=a.fill.stops.map(c=>o(c,["color"])))),u}},{}],21:[function(r,n,i){(function(o){(function(){const s=r("crypto"),a={hash(l){const u=s.createHash(l);for(var c=arguments.length,f=new Array(c>1?c-1:0),d=1;d<c;d++)f[d-1]=arguments[d];return u.update(o.concat(f)),u.digest()},convertPasswordToHash(l,u,c,f){if(u=u.toLowerCase(),s.getHashes().indexOf(u)<0)throw new Error(`Hash algorithm '${u}' not supported!`);const d=o.from(l,"utf16le");let h=this.hash(u,o.from(c,"base64"),d);for(let g=0;g<f;g++){const m=o.alloc(4);m.writeUInt32LE(g,0),h=this.hash(u,h,m)}return h.toString("base64")},randomBytes:l=>s.randomBytes(l)};n.exports=a}).call(this)}).call(this,r("buffer").Buffer)},{buffer:220,crypto:390}],22:[function(r,n,i){const{SaxesParser:o}=r("saxes"),{PassThrough:s}=r("readable-stream"),{bufferToString:a}=r("./browser-buffer-decode");n.exports=async function*(l){l.pipe&&!l[Symbol.asyncIterator]&&(l=l.pipe(new s));const u=new o;let c;u.on("error",d=>{c=d});let f=[];u.on("opentag",d=>f.push({eventType:"opentag",value:d})),u.on("text",d=>f.push({eventType:"text",value:d})),u.on("closetag",d=>f.push({eventType:"closetag",value:d}));for await(const d of l){if(u.write(a(d)),c)throw c;yield f,f=[]}}},{"./browser-buffer-decode":16,"readable-stream":491,saxes:496}],23:[function(r,n,i){const o=r("./col-cache"),s=/(([a-z_\-0-9]*)!)?([a-z0-9_$]{2,})([(])?/gi,a=/^([$])?([a-z]+)([$])?([1-9][0-9]*)$/i;n.exports={slideFormula:function(l,u,c){const f=o.decode(u),d=o.decode(c);return l.replace(s,(h,g,m,p,y)=>{if(y)return h;const b=a.exec(p);if(b){const v=b[1],F=b[2].toUpperCase(),E=b[3],T=b[4];if(F.length>3||F.length===3&&F>"XFD")return h;let I=o.l2n(F),M=parseInt(T,10);return v||(I+=d.col-f.col),E||(M+=d.row-f.row),(g||"")+(v||"")+o.n2l(I)+(E||"")+M}return h})}}},{"./col-cache":19}],24:[function(r,n,i){(function(o,s){(function(){const a=r("readable-stream"),l=r("./utils"),u=r("./string-buf");class c{constructor(p,y){this._data=p,this._encoding=y}get length(){return this.toBuffer().length}copy(p,y,b,v){return this.toBuffer().copy(p,y,b,v)}toBuffer(){return this._buffer||(this._buffer=s.from(this._data,this._encoding)),this._buffer}}class f{constructor(p){this._data=p}get length(){return this._data.length}copy(p,y,b,v){return this._data._buf.copy(p,y,b,v)}toBuffer(){return this._data.toBuffer()}}class d{constructor(p){this._data=p}get length(){return this._data.length}copy(p,y,b,v){this._data.copy(p,y,b,v)}toBuffer(){return this._data}}class h{constructor(p){this.size=p,this.buffer=s.alloc(p),this.iRead=0,this.iWrite=0}toBuffer(){if(this.iRead===0&&this.iWrite===this.size)return this.buffer;const p=s.alloc(this.iWrite-this.iRead);return this.buffer.copy(p,0,this.iRead,this.iWrite),p}get length(){return this.iWrite-this.iRead}get eod(){return this.iRead===this.iWrite}get full(){return this.iWrite===this.size}read(p){let y;return p===0?null:p===void 0||p>=this.length?(y=this.toBuffer(),this.iRead=this.iWrite,y):(y=s.alloc(p),this.buffer.copy(y,0,this.iRead,p),this.iRead+=p,y)}write(p,y,b){const v=Math.min(b,this.size-this.iWrite);return p.copy(this.buffer,this.iWrite,y,y+v),this.iWrite+=v,v}}const g=function(m){m=m||{},this.bufSize=m.bufSize||1048576,this.buffers=[],this.batch=m.batch||!1,this.corked=!1,this.inPos=0,this.outPos=0,this.pipes=[],this.paused=!1,this.encoding=null};l.inherits(g,a.Duplex,{toBuffer(){switch(this.buffers.length){case 0:return null;case 1:return this.buffers[0].toBuffer();default:return s.concat(this.buffers.map(m=>m.toBuffer()))}},_getWritableBuffer(){if(this.buffers.length){const p=this.buffers[this.buffers.length-1];if(!p.full)return p}const m=new h(this.bufSize);return this.buffers.push(m),m},async _pipe(m){await Promise.all(this.pipes.map((function(p){return new Promise(y=>{p.write(m.toBuffer(),()=>{y()})})})))},_writeToBuffers(m){let p=0;const y=m.length;for(;p<y;)p+=this._getWritableBuffer().write(m,p,y-p)},async write(m,p,y){let b;if(p instanceof Function&&(y=p,p="utf8"),y=y||l.nop,m instanceof u)b=new f(m);else if(m instanceof s)b=new d(m);else{if(!(typeof m=="string"||m instanceof String||m instanceof ArrayBuffer))throw new Error("Chunk must be one of type String, Buffer or StringBuf.");b=new c(m,p)}if(this.pipes.length)if(this.batch)for(this._writeToBuffers(b);!this.corked&&this.buffers.length>1;)this._pipe(this.buffers.shift());else this.corked?(this._writeToBuffers(b),o.nextTick(y)):(await this._pipe(b),y());else this.paused||this.emit("data",b.toBuffer()),this._writeToBuffers(b),this.emit("readable");return!0},cork(){this.corked=!0},_flush(){if(this.pipes.length)for(;this.buffers.length;)this._pipe(this.buffers.shift())},uncork(){this.corked=!1,this._flush()},end(m,p,y){const b=v=>{v?y(v):(this._flush(),this.pipes.forEach(F=>{F.end()}),this.emit("finish"))};m?this.write(m,p,b):b()},read(m){let p;if(m){for(p=[];m&&this.buffers.length&&!this.buffers[0].eod;){const y=this.buffers[0],b=y.read(m);m-=b.length,p.push(b),y.eod&&y.full&&this.buffers.shift()}return s.concat(p)}return p=this.buffers.map(y=>y.toBuffer()).filter(Boolean),this.buffers=[],s.concat(p)},setEncoding(m){this.encoding=m},pause(){this.paused=!0},resume(){this.paused=!1},isPaused(){return!!this.paused},pipe(m){this.pipes.push(m),!this.paused&&this.buffers.length&&this.end()},unpipe(m){this.pipes=this.pipes.filter(p=>p!==m)},unshift(){throw new Error("Not Implemented")},wrap(){throw new Error("Not Implemented")}}),n.exports=g}).call(this)}).call(this,r("_process"),r("buffer").Buffer)},{"./string-buf":25,"./utils":27,_process:467,buffer:220,"readable-stream":491}],25:[function(r,n,i){(function(o){(function(){n.exports=class{constructor(s){this._buf=o.alloc(s&&s.size||16384),this._encoding=s&&s.encoding||"utf8",this._inPos=0,this._buffer=void 0}get length(){return this._inPos}get capacity(){return this._buf.length}get buffer(){return this._buf}toBuffer(){return this._buffer||(this._buffer=o.alloc(this.length),this._buf.copy(this._buffer,0,0,this.length)),this._buffer}reset(s){s=s||0,this._buffer=void 0,this._inPos=s}_grow(s){let a=2*this._buf.length;for(;a<s;)a*=2;const l=o.alloc(a);this._buf.copy(l,0),this._buf=l}addText(s){this._buffer=void 0;let a=this._inPos+this._buf.write(s,this._inPos,this._encoding);for(;a>=this._buf.length-4;)this._grow(this._inPos+s.length),a=this._inPos+this._buf.write(s,this._inPos,this._encoding);this._inPos=a}addStringBuf(s){s.length&&(this._buffer=void 0,this.length+s.length>this.capacity&&this._grow(this.length+s.length),s._buf.copy(this._buf,this._inPos,0,s.length),this._inPos+=s.length)}}}).call(this)}).call(this,r("buffer").Buffer)},{buffer:220}],26:[function(r,n,i){const{toString:o}=Object.prototype,s=/["&<>]/,a={each:function(l,u){l&&(Array.isArray(l)?l.forEach(u):Object.keys(l).forEach(c=>{u(l[c],c)}))},some:function(l,u){return!!l&&(Array.isArray(l)?l.some(u):Object.keys(l).some(c=>u(l[c],c)))},every:function(l,u){return!l||(Array.isArray(l)?l.every(u):Object.keys(l).every(c=>u(l[c],c)))},map:function(l,u){return l?Array.isArray(l)?l.map(u):Object.keys(l).map(c=>u(l[c],c)):[]},keyBy:(l,u)=>l.reduce((c,f)=>(c[f[u]]=f,c),{}),isEqual:function(l,u){const c=typeof l,f=typeof u,d=Array.isArray(l),h=Array.isArray(u);let g;if(c!==f)return!1;switch(typeof l){case"object":if(d||h)return!(!d||!h)&&l.length===u.length&&l.every((m,p)=>{const y=u[p];return a.isEqual(m,y)});if(l===null||u===null)return l===u;if(g=Object.keys(l),Object.keys(u).length!==g.length)return!1;for(const m of g)if(!u.hasOwnProperty(m))return!1;return a.every(l,(m,p)=>{const y=u[p];return a.isEqual(m,y)});default:return l===u}},escapeHtml(l){const u=s.exec(l);if(!u)return l;let c="",f="",d=0,h=u.index;for(;h<l.length;h++){switch(l.charAt(h)){case'"':f="&quot;";break;case"&":f="&amp;";break;case"'":f="&apos;";break;case"<":f="&lt;";break;case">":f="&gt;";break;default:continue}d!==h&&(c+=l.substring(d,h)),d=h+1,c+=f}return d!==h?c+l.substring(d,h):c},strcmp:(l,u)=>l<u?-1:l>u?1:0,isUndefined:l=>o.call(l)==="[object Undefined]",isObject:l=>o.call(l)==="[object Object]",deepMerge(){const l=arguments[0]||{},{length:u}=arguments;let c,f,d;function h(g,m){c=l[m],d=Array.isArray(g),a.isObject(g)||d?(d?(d=!1,f=c&&Array.isArray(c)?c:[]):f=c&&a.isObject(c)?c:{},l[m]=a.deepMerge(f,g)):a.isUndefined(g)||(l[m]=g)}for(let g=0;g<u;g++)a.each(arguments[g],h);return l}};n.exports=a},{}],27:[function(r,n,i){(function(o,s){(function(){const a=r("fs"),l=/[<>&'"\x7F\x00-\x08\x0B-\x0C\x0E-\x1F]/,u={nop(){},promiseImmediate:c=>new Promise(f=>{o.setImmediate?s(()=>{f(c)}):setTimeout(()=>{f(c)},1)}),inherits:function(c,f,d,h){c.super_=f,h||(h=d,d=null),d&&Object.keys(d).forEach(m=>{Object.defineProperty(c,m,Object.getOwnPropertyDescriptor(d,m))});const g={constructor:{value:c,enumerable:!1,writable:!1,configurable:!0}};h&&Object.keys(h).forEach(m=>{g[m]=Object.getOwnPropertyDescriptor(h,m)}),c.prototype=Object.create(f.prototype,g)},dateToExcel:(c,f)=>25569+c.getTime()/864e5-(f?1462:0),excelToDate(c,f){const d=Math.round(24*(c-25569+(f?1462:0))*3600*1e3);return new Date(d)},parsePath(c){const f=c.lastIndexOf("/");return{path:c.substring(0,f),name:c.substring(f+1)}},getRelsPath(c){const f=u.parsePath(c);return`${f.path}/_rels/${f.name}.rels`},xmlEncode(c){const f=l.exec(c);if(!f)return c;let d="",h="",g=0,m=f.index;for(;m<c.length;m++){const p=c.charCodeAt(m);switch(p){case 34:h="&quot;";break;case 38:h="&amp;";break;case 39:h="&apos;";break;case 60:h="&lt;";break;case 62:h="&gt;";break;case 127:h="";break;default:if(p<=31&&(p<=8||p>=11&&p!==13)){h="";break}continue}g!==m&&(d+=c.substring(g,m)),g=m+1,h&&(d+=h)}return g!==m?d+c.substring(g,m):d},xmlDecode:c=>c.replace(/&([a-z]*);/g,f=>{switch(f){case"&lt;":return"<";case"&gt;":return">";case"&amp;":return"&";case"&apos;":return"'";case"&quot;":return'"';default:return f}}),validInt(c){const f=parseInt(c,10);return Number.isNaN(f)?0:f},isDateFmt(c){return c?(c=(c=c.replace(/\[[^\]]*]/g,"")).replace(/"[^"]*"/g,"")).match(/[ymdhMsb]+/)!==null:!1},fs:{exists:c=>new Promise(f=>{a.access(c,a.constants.F_OK,d=>{f(!d)})})},toIsoDateString:c=>c.toIsoString().subsstr(0,10),parseBoolean:c=>c===!0||c==="true"||c===1||c==="1"};n.exports=u}).call(this)}).call(this,typeof lt<"u"?lt:typeof self<"u"?self:typeof window<"u"?window:{},r("timers").setImmediate)},{fs:216,timers:523}],28:[function(r,n,i){const o=r("./under-dash"),s=r("./utils");function a(c,f,d){c.push(` ${f}="${s.xmlEncode(d.toString())}"`)}function l(c,f){if(f){const d=[];o.each(f,(h,g)=>{h!==void 0&&a(d,g,h)}),c.push(d.join(""))}}class u{constructor(){this._xml=[],this._stack=[],this._rollbacks=[]}get tos(){return this._stack.length?this._stack[this._stack.length-1]:void 0}get cursor(){return this._xml.length}openXml(f){const d=this._xml;d.push("<?xml"),l(d,f),d.push(`?>
`)}openNode(f,d){const h=this.tos,g=this._xml;h&&this.open&&g.push(">"),this._stack.push(f),g.push("<"),g.push(f),l(g,d),this.leaf=!0,this.open=!0}addAttribute(f,d){if(!this.open)throw new Error("Cannot write attributes to node if it is not open");d!==void 0&&a(this._xml,f,d)}addAttributes(f){if(!this.open)throw new Error("Cannot write attributes to node if it is not open");l(this._xml,f)}writeText(f){const d=this._xml;this.open&&(d.push(">"),this.open=!1),this.leaf=!1,d.push(s.xmlEncode(f.toString()))}writeXml(f){this.open&&(this._xml.push(">"),this.open=!1),this.leaf=!1,this._xml.push(f)}closeNode(){const f=this._stack.pop(),d=this._xml;this.leaf?d.push("/>"):(d.push("</"),d.push(f),d.push(">")),this.open=!1,this.leaf=!1}leafNode(f,d,h){this.openNode(f,d),h!==void 0&&this.writeText(h),this.closeNode()}closeAll(){for(;this._stack.length;)this.closeNode()}addRollback(){return this._rollbacks.push({xml:this._xml.length,stack:this._stack.length,leaf:this.leaf,open:this.open}),this.cursor}commit(){this._rollbacks.pop()}rollback(){const f=this._rollbacks.pop();this._xml.length>f.xml&&this._xml.splice(f.xml,this._xml.length-f.xml),this._stack.length>f.stack&&this._stack.splice(f.stack,this._stack.length-f.stack),this.leaf=f.leaf,this.open=f.open}get xml(){return this.closeAll(),this._xml.join("")}}u.StdDocAttributes={version:"1.0",encoding:"UTF-8",standalone:"yes"},n.exports=u},{"./under-dash":26,"./utils":27}],29:[function(r,n,i){(function(o){(function(){const s=r("events"),a=r("jszip"),l=r("./stream-buf"),{stringToBuffer:u}=r("./browser-buffer-encode");class c extends s.EventEmitter{constructor(d){super(),this.options=Object.assign({type:"nodebuffer",compression:"DEFLATE"},d),this.zip=new a,this.stream=new l}append(d,h){h.hasOwnProperty("base64")&&h.base64?this.zip.file(h.name,d,{base64:!0}):(o.browser&&typeof d=="string"&&(d=u(d)),this.zip.file(h.name,d))}async finalize(){const d=await this.zip.generateAsync(this.options);this.stream.end(d),this.emit("finish")}read(d){return this.stream.read(d)}setEncoding(d){return this.stream.setEncoding(d)}pause(){return this.stream.pause()}resume(){return this.stream.resume()}isPaused(){return this.stream.isPaused()}pipe(d,h){return this.stream.pipe(d,h)}unpipe(d){return this.stream.unpipe(d)}unshift(d){return this.stream.unshift(d)}wrap(d){return this.stream.wrap(d)}}n.exports={ZipWriter:c}}).call(this)}).call(this,r("_process"))},{"./browser-buffer-encode":17,"./stream-buf":24,_process:467,events:422,jszip:441}],30:[function(r,n,i){n.exports={0:{f:"General"},1:{f:"0"},2:{f:"0.00"},3:{f:"#,##0"},4:{f:"#,##0.00"},9:{f:"0%"},10:{f:"0.00%"},11:{f:"0.00E+00"},12:{f:"# ?/?"},13:{f:"# ??/??"},14:{f:"mm-dd-yy"},15:{f:"d-mmm-yy"},16:{f:"d-mmm"},17:{f:"mmm-yy"},18:{f:"h:mm AM/PM"},19:{f:"h:mm:ss AM/PM"},20:{f:"h:mm"},21:{f:"h:mm:ss"},22:{f:'m/d/yy "h":mm'},27:{"zh-tw":"[$-404]e/m/d","zh-cn":'yyyy""m""',"ja-jp":"[$-411]ge.m.d","ko-kr":'yyyy"" mm"" dd""'},28:{"zh-tw":'[$-404]e""m""d""',"zh-cn":'m""d""',"ja-jp":'[$-411]ggge""m""d""',"ko-kr":"mm-dd"},29:{"zh-tw":'[$-404]e""m""d""',"zh-cn":'m""d""',"ja-jp":'[$-411]ggge""m""d""',"ko-kr":"mm-dd"},30:{"zh-tw":"m/d/yy ","zh-cn":"m-d-yy","ja-jp":"m/d/yy","ko-kr":"mm-dd-yy"},31:{"zh-tw":'yyyy""m""d""',"zh-cn":'yyyy""m""d""',"ja-jp":'yyyy""m""d""',"ko-kr":'yyyy"" mm"" dd""'},32:{"zh-tw":'hh""mm""',"zh-cn":'h""mm""',"ja-jp":'h""mm""',"ko-kr":'h"" mm""'},33:{"zh-tw":'hh""mm""ss""',"zh-cn":'h""mm""ss""',"ja-jp":'h""mm""ss""',"ko-kr":'h"" mm"" ss""'},34:{"zh-tw":'/ hh""mm""',"zh-cn":'/ h""mm""',"ja-jp":'yyyy""m""',"ko-kr":"yyyy-mm-dd"},35:{"zh-tw":'/ hh""mm""ss""',"zh-cn":'/ h""mm""ss""',"ja-jp":'m""d""',"ko-kr":"yyyy-mm-dd"},36:{"zh-tw":"[$-404]e/m/d","zh-cn":'yyyy""m""',"ja-jp":"[$-411]ge.m.d","ko-kr":'yyyy"" mm"" dd""'},37:{f:"#,##0 ;(#,##0)"},38:{f:"#,##0 ;[Red](#,##0)"},39:{f:"#,##0.00 ;(#,##0.00)"},40:{f:"#,##0.00 ;[Red](#,##0.00)"},45:{f:"mm:ss"},46:{f:"[h]:mm:ss"},47:{f:"mmss.0"},48:{f:"##0.0E+0"},49:{f:"@"},50:{"zh-tw":"[$-404]e/m/d","zh-cn":'yyyy""m""',"ja-jp":"[$-411]ge.m.d","ko-kr":'yyyy"" mm"" dd""'},51:{"zh-tw":'[$-404]e""m""d""',"zh-cn":'m""d""',"ja-jp":'[$-411]ggge""m""d""',"ko-kr":"mm-dd"},52:{"zh-tw":'/ hh""mm""',"zh-cn":'yyyy""m""',"ja-jp":'yyyy""m""',"ko-kr":"yyyy-mm-dd"},53:{"zh-tw":'/ hh""mm""ss""',"zh-cn":'m""d""',"ja-jp":'m""d""',"ko-kr":"yyyy-mm-dd"},54:{"zh-tw":'[$-404]e""m""d""',"zh-cn":'m""d""',"ja-jp":'[$-411]ggge""m""d""',"ko-kr":"mm-dd"},55:{"zh-tw":'/ hh""mm""',"zh-cn":'/ h""mm""',"ja-jp":'yyyy""m""',"ko-kr":"yyyy-mm-dd"},56:{"zh-tw":'/ hh""mm""ss""',"zh-cn":'/ h""mm""ss""',"ja-jp":'m""d""',"ko-kr":"yyyy-mm-dd"},57:{"zh-tw":"[$-404]e/m/d","zh-cn":'yyyy""m""',"ja-jp":"[$-411]ge.m.d","ko-kr":'yyyy"" mm"" dd""'},58:{"zh-tw":'[$-404]e""m""d""',"zh-cn":'m""d""',"ja-jp":'[$-411]ggge""m""d""',"ko-kr":"mm-dd"},59:{"th-th":"t0"},60:{"th-th":"t0.00"},61:{"th-th":"t#,##0"},62:{"th-th":"t#,##0.00"},67:{"th-th":"t0%"},68:{"th-th":"t0.00%"},69:{"th-th":"t# ?/?"},70:{"th-th":"t# ??/??"},81:{"th-th":"d/m/bb"}}},{}],31:[function(r,n,i){n.exports={OfficeDocument:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/officeDocument",Worksheet:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/worksheet",CalcChain:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/calcChain",SharedStrings:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/sharedStrings",Styles:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/styles",Theme:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/theme",Hyperlink:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/hyperlink",Image:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/image",CoreProperties:"http://schemas.openxmlformats.org/package/2006/relationships/metadata/core-properties",ExtenderProperties:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/extended-properties",Comments:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/comments",VmlDrawing:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/vmlDrawing",Table:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/table"}},{}],32:[function(r,n,i){const o=r("../../utils/parse-sax"),s=r("../../utils/xml-stream");class a{prepare(){}render(){}parseOpen(u){}parseText(u){}parseClose(u){}reconcile(u,c){}reset(){this.model=null,this.map&&Object.values(this.map).forEach(u=>{u instanceof a?u.reset():u.xform&&u.xform.reset()})}mergeModel(u){this.model=Object.assign(this.model||{},u)}async parse(u){for await(const c of u)for(const{eventType:f,value:d}of c)if(f==="opentag")this.parseOpen(d);else if(f==="text")this.parseText(d);else if(f==="closetag"&&!this.parseClose(d.name))return this.model;return this.model}async parseStream(u){return this.parse(o(u))}get xml(){return this.toXml(this.model)}toXml(u){const c=new s;return this.render(c,u),c.xml}static toAttribute(u,c){let f=arguments.length>2&&arguments[2]!==void 0&&arguments[2];if(u===void 0){if(f)return c}else if(f||u!==c)return u.toString()}static toStringAttribute(u,c){let f=arguments.length>2&&arguments[2]!==void 0&&arguments[2];return a.toAttribute(u,c,f)}static toStringValue(u,c){return u===void 0?c:u}static toBoolAttribute(u,c){let f=arguments.length>2&&arguments[2]!==void 0&&arguments[2];if(u===void 0){if(f)return c}else if(f||u!==c)return u?"1":"0"}static toBoolValue(u,c){return u===void 0?c:u==="1"}static toIntAttribute(u,c){let f=arguments.length>2&&arguments[2]!==void 0&&arguments[2];return a.toAttribute(u,c,f)}static toIntValue(u,c){return u===void 0?c:parseInt(u,10)}static toFloatAttribute(u,c){let f=arguments.length>2&&arguments[2]!==void 0&&arguments[2];return a.toAttribute(u,c,f)}static toFloatValue(u,c){return u===void 0?c:parseFloat(u)}}n.exports=a},{"../../utils/parse-sax":22,"../../utils/xml-stream":28}],33:[function(r,n,i){const o=r("../base-xform"),s=r("../../../utils/col-cache");function a(u){try{return s.decodeEx(u),!0}catch{return!1}}function l(u){const c=[];let f=!1,d="";return u.split(",").forEach(h=>{if(!h)return;const g=(h.match(/'/g)||[]).length;if(!g)return void(f?d+=h+",":a(h)&&c.push(h));const m=g%2==0;!f&&m&&a(h)?c.push(h):f&&!m?(f=!1,a(d+h)&&c.push(d+h),d=""):(f=!0,d+=h+",")}),c}n.exports=class extends o{render(u,c){u.openNode("definedName",{name:c.name,localSheetId:c.localSheetId}),u.writeText(c.ranges.join(",")),u.closeNode()}parseOpen(u){switch(u.name){case"definedName":return this._parsedName=u.attributes.name,this._parsedLocalSheetId=u.attributes.localSheetId,this._parsedText=[],!0;default:return!1}}parseText(u){this._parsedText.push(u)}parseClose(){return this.model={name:this._parsedName,ranges:l(this._parsedText.join(""))},this._parsedLocalSheetId!==void 0&&(this.model.localSheetId=parseInt(this._parsedLocalSheetId,10)),!1}}},{"../../../utils/col-cache":19,"../base-xform":32}],34:[function(r,n,i){const o=r("../../../utils/utils"),s=r("../base-xform");n.exports=class extends s{render(a,l){a.leafNode("sheet",{sheetId:l.id,name:l.name,state:l.state,"r:id":l.rId})}parseOpen(a){return a.name==="sheet"&&(this.model={name:o.xmlDecode(a.attributes.name),id:parseInt(a.attributes.sheetId,10),state:a.attributes.state,rId:a.attributes["r:id"]},!0)}parseText(){}parseClose(){return!1}}},{"../../../utils/utils":27,"../base-xform":32}],35:[function(r,n,i){const o=r("../base-xform");n.exports=class extends o{render(s,a){s.leafNode("calcPr",{calcId:171027,fullCalcOnLoad:a.fullCalcOnLoad?1:void 0})}parseOpen(s){return s.name==="calcPr"&&(this.model={},!0)}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],36:[function(r,n,i){const o=r("../base-xform");n.exports=class extends o{render(s,a){s.leafNode("workbookPr",{date1904:a.date1904?1:void 0,defaultThemeVersion:164011,filterPrivacy:1})}parseOpen(s){return s.name==="workbookPr"&&(this.model={date1904:s.attributes.date1904==="1"},!0)}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],37:[function(r,n,i){const o=r("../base-xform");n.exports=class extends o{render(s,a){const l={xWindow:a.x||0,yWindow:a.y||0,windowWidth:a.width||12e3,windowHeight:a.height||24e3,firstSheet:a.firstSheet,activeTab:a.activeTab};a.visibility&&a.visibility!=="visible"&&(l.visibility=a.visibility),s.leafNode("workbookView",l)}parseOpen(s){if(s.name==="workbookView"){const a=this.model={},l=function(c,f,d){const h=f!==void 0?a[c]=f:d;h!==void 0&&(a[c]=h)},u=function(c,f,d){const h=f!==void 0?a[c]=parseInt(f,10):d;h!==void 0&&(a[c]=h)};return u("x",s.attributes.xWindow,0),u("y",s.attributes.yWindow,0),u("width",s.attributes.windowWidth,25e3),u("height",s.attributes.windowHeight,1e4),l("visibility",s.attributes.visibility,"visible"),u("activeTab",s.attributes.activeTab,void 0),u("firstSheet",s.attributes.firstSheet,void 0),!0}return!1}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],38:[function(r,n,i){const o=r("../../../utils/under-dash"),s=r("../../../utils/col-cache"),a=r("../../../utils/xml-stream"),l=r("../base-xform"),u=r("../static-xform"),c=r("../list-xform"),f=r("./defined-name-xform"),d=r("./sheet-xform"),h=r("./workbook-view-xform"),g=r("./workbook-properties-xform"),m=r("./workbook-calc-properties-xform");class p extends l{constructor(){super(),this.map={fileVersion:p.STATIC_XFORMS.fileVersion,workbookPr:new g,bookViews:new c({tag:"bookViews",count:!1,childXform:new h}),sheets:new c({tag:"sheets",count:!1,childXform:new d}),definedNames:new c({tag:"definedNames",count:!1,childXform:new f}),calcPr:new m}}prepare(b){b.sheets=b.worksheets;const v=[];let F=0;b.sheets.forEach(E=>{if(E.pageSetup&&E.pageSetup.printArea&&E.pageSetup.printArea.split("&&").forEach(T=>{const I=T.split(":"),M={name:"_xlnm.Print_Area",ranges:[`'${E.name}'!$${I[0]}:$${I[1]}`],localSheetId:F};v.push(M)}),E.pageSetup&&(E.pageSetup.printTitlesRow||E.pageSetup.printTitlesColumn)){const T=[];if(E.pageSetup.printTitlesColumn){const M=E.pageSetup.printTitlesColumn.split(":");T.push(`'${E.name}'!$${M[0]}:$${M[1]}`)}if(E.pageSetup.printTitlesRow){const M=E.pageSetup.printTitlesRow.split(":");T.push(`'${E.name}'!$${M[0]}:$${M[1]}`)}const I={name:"_xlnm.Print_Titles",ranges:T,localSheetId:F};v.push(I)}F++}),v.length&&(b.definedNames=b.definedNames.concat(v)),(b.media||[]).forEach((E,T)=>{E.name=E.type+(T+1)})}render(b,v){b.openXml(a.StdDocAttributes),b.openNode("workbook",p.WORKBOOK_ATTRIBUTES),this.map.fileVersion.render(b),this.map.workbookPr.render(b,v.properties),this.map.bookViews.render(b,v.views),this.map.sheets.render(b,v.sheets),this.map.definedNames.render(b,v.definedNames),this.map.calcPr.render(b,v.calcProperties),b.closeNode()}parseOpen(b){if(this.parser)return this.parser.parseOpen(b),!0;switch(b.name){case"workbook":return!0;default:return this.parser=this.map[b.name],this.parser&&this.parser.parseOpen(b),!0}}parseText(b){this.parser&&this.parser.parseText(b)}parseClose(b){if(this.parser)return this.parser.parseClose(b)||(this.parser=void 0),!0;switch(b){case"workbook":return this.model={sheets:this.map.sheets.model,properties:this.map.workbookPr.model||{},views:this.map.bookViews.model,calcProperties:{}},this.map.definedNames.model&&(this.model.definedNames=this.map.definedNames.model),!1;default:return!0}}reconcile(b){const v=(b.workbookRels||[]).reduce((M,P)=>(M[P.Id]=P,M),{}),F=[];let E,T=0;(b.sheets||[]).forEach(M=>{const P=v[M.rId];P&&(E=b.worksheetHash["xl/"+P.Target.replace(/^(\s|\/xl\/)+/,"")],E&&(E.name=M.name,E.id=M.id,E.state=M.state,F[T++]=E))});const I=[];o.each(b.definedNames,M=>{if(M.name==="_xlnm.Print_Area"){if(E=F[M.localSheetId],E){E.pageSetup||(E.pageSetup={});const P=s.decodeEx(M.ranges[0]);E.pageSetup.printArea=E.pageSetup.printArea?`${E.pageSetup.printArea}&&${P.dimensions}`:P.dimensions}}else if(M.name==="_xlnm.Print_Titles"){if(E=F[M.localSheetId],E){E.pageSetup||(E.pageSetup={});const P=M.ranges.join(","),O=/\$/g,z=/\$\d+:\$\d+/,L=P.match(z);if(L&&L.length){const k=L[0];E.pageSetup.printTitlesRow=k.replace(O,"")}const _=/\$[A-Z]+:\$[A-Z]+/,R=P.match(_);if(R&&R.length){const k=R[0];E.pageSetup.printTitlesColumn=k.replace(O,"")}}}else I.push(M)}),b.definedNames=I,b.media.forEach((M,P)=>{M.index=P})}}p.WORKBOOK_ATTRIBUTES={xmlns:"http://schemas.openxmlformats.org/spreadsheetml/2006/main","xmlns:r":"http://schemas.openxmlformats.org/officeDocument/2006/relationships","xmlns:mc":"http://schemas.openxmlformats.org/markup-compatibility/2006","mc:Ignorable":"x15","xmlns:x15":"http://schemas.microsoft.com/office/spreadsheetml/2010/11/main"},p.STATIC_XFORMS={fileVersion:new u({tag:"fileVersion",$:{appName:"xl",lastEdited:5,lowestEdited:5,rupBuild:9303}})},n.exports=p},{"../../../utils/col-cache":19,"../../../utils/under-dash":26,"../../../utils/xml-stream":28,"../base-xform":32,"../list-xform":71,"../static-xform":120,"./defined-name-xform":33,"./sheet-xform":34,"./workbook-calc-properties-xform":35,"./workbook-properties-xform":36,"./workbook-view-xform":37}],39:[function(r,n,i){const o=r("../strings/rich-text-xform"),s=r("../../../utils/utils"),a=r("../base-xform"),l=n.exports=function(u){this.model=u};s.inherits(l,a,{get tag(){return"r"},get richTextXform(){return this._richTextXform||(this._richTextXform=new o),this._richTextXform},render(u,c){c=c||this.model,u.openNode("comment",{ref:c.ref,authorId:0}),u.openNode("text"),c&&c.note&&c.note.texts&&c.note.texts.forEach(f=>{this.richTextXform.render(u,f)}),u.closeNode(),u.closeNode()},parseOpen(u){if(this.parser)return this.parser.parseOpen(u),!0;switch(u.name){case"comment":return this.model={type:"note",note:{texts:[]},...u.attributes},!0;case"r":return this.parser=this.richTextXform,this.parser.parseOpen(u),!0;default:return!1}},parseText(u){this.parser&&this.parser.parseText(u)},parseClose(u){switch(u){case"comment":return!1;case"r":return this.model.note.texts.push(this.parser.model),this.parser=void 0,!0;default:return this.parser&&this.parser.parseClose(u),!0}}})},{"../../../utils/utils":27,"../base-xform":32,"../strings/rich-text-xform":122}],40:[function(r,n,i){const o=r("../../../utils/xml-stream"),s=r("../../../utils/utils"),a=r("../base-xform"),l=r("./comment-xform"),u=n.exports=function(){this.map={comment:new l}};s.inherits(u,a,{COMMENTS_ATTRIBUTES:{xmlns:"http://schemas.openxmlformats.org/spreadsheetml/2006/main"}},{render(c,f){f=f||this.model,c.openXml(o.StdDocAttributes),c.openNode("comments",u.COMMENTS_ATTRIBUTES),c.openNode("authors"),c.leafNode("author",null,"Author"),c.closeNode(),c.openNode("commentList"),f.comments.forEach(d=>{this.map.comment.render(c,d)}),c.closeNode(),c.closeNode()},parseOpen(c){if(this.parser)return this.parser.parseOpen(c),!0;switch(c.name){case"commentList":return this.model={comments:[]},!0;case"comment":return this.parser=this.map.comment,this.parser.parseOpen(c),!0;default:return!1}},parseText(c){this.parser&&this.parser.parseText(c)},parseClose(c){switch(c){case"commentList":return!1;case"comment":return this.model.comments.push(this.parser.model),this.parser=void 0,!0;default:return this.parser&&this.parser.parseClose(c),!0}}})},{"../../../utils/utils":27,"../../../utils/xml-stream":28,"../base-xform":32,"./comment-xform":39}],41:[function(r,n,i){const o=r("../../base-xform");n.exports=class extends o{constructor(s){super(),this._model=s}get tag(){return this._model&&this._model.tag}render(s,a,l){(a===l[2]||this.tag==="x:SizeWithCells"&&a===l[1])&&s.leafNode(this.tag)}parseOpen(s){switch(s.name){case this.tag:return this.model={},this.model[this.tag]=!0,!0;default:return!1}}parseText(){}parseClose(){return!1}}},{"../../base-xform":32}],42:[function(r,n,i){const o=r("../../base-xform");n.exports=class extends o{constructor(s){super(),this._model=s}get tag(){return this._model&&this._model.tag}render(s,a){s.leafNode(this.tag,null,a)}parseOpen(s){switch(s.name){case this.tag:return this.text="",!0;default:return!1}}parseText(s){this.text=s}parseClose(){return!1}}},{"../../base-xform":32}],43:[function(r,n,i){const o=r("../base-xform");n.exports=class extends o{get tag(){return"x:Anchor"}getAnchorRect(s){const a=Math.floor(s.left),l=Math.floor(68*(s.left-a)),u=Math.floor(s.top),c=Math.floor(18*(s.top-u)),f=Math.floor(s.right),d=Math.floor(68*(s.right-f)),h=Math.floor(s.bottom);return[a,l,u,c,f,d,h,Math.floor(18*(s.bottom-h))]}getDefaultRect(s){const a=s.col,l=Math.max(s.row-2,0);return[a,6,l,14,a+2,2,l+4,16]}render(s,a){const l=a.anchor?this.getAnchorRect(a.anchor):this.getDefaultRect(a.refAddress);s.leafNode("x:Anchor",null,l.join(", "))}parseOpen(s){switch(s.name){case this.tag:return this.text="",!0;default:return!1}}parseText(s){this.text=s}parseClose(){return!1}}},{"../base-xform":32}],44:[function(r,n,i){const o=r("../base-xform"),s=r("./vml-anchor-xform"),a=r("./style/vml-protection-xform"),l=r("./style/vml-position-xform"),u=["twoCells","oneCells","absolute"];n.exports=class extends o{constructor(){super(),this.map={"x:Anchor":new s,"x:Locked":new a({tag:"x:Locked"}),"x:LockText":new a({tag:"x:LockText"}),"x:SizeWithCells":new l({tag:"x:SizeWithCells"}),"x:MoveWithCells":new l({tag:"x:MoveWithCells"})}}get tag(){return"x:ClientData"}render(c,f){const{protection:d,editAs:h}=f.note;c.openNode(this.tag,{ObjectType:"Note"}),this.map["x:MoveWithCells"].render(c,h,u),this.map["x:SizeWithCells"].render(c,h,u),this.map["x:Anchor"].render(c,f),this.map["x:Locked"].render(c,d.locked),c.leafNode("x:AutoFill",null,"False"),this.map["x:LockText"].render(c,d.lockText),c.leafNode("x:Row",null,f.refAddress.row-1),c.leafNode("x:Column",null,f.refAddress.col-1),c.closeNode()}parseOpen(c){switch(c.name){case this.tag:this.reset(),this.model={anchor:[],protection:{},editAs:""};break;default:this.parser=this.map[c.name],this.parser&&this.parser.parseOpen(c)}return!0}parseText(c){this.parser&&this.parser.parseText(c)}parseClose(c){if(this.parser)return this.parser.parseClose(c)||(this.parser=void 0),!0;switch(c){case this.tag:return this.normalizeModel(),!1;default:return!0}}normalizeModel(){const c=Object.assign({},this.map["x:MoveWithCells"].model,this.map["x:SizeWithCells"].model),f=Object.keys(c).length;this.model.editAs=u[f],this.model.anchor=this.map["x:Anchor"].text,this.model.protection.locked=this.map["x:Locked"].text,this.model.protection.lockText=this.map["x:LockText"].text}}},{"../base-xform":32,"./style/vml-position-xform":41,"./style/vml-protection-xform":42,"./vml-anchor-xform":43}],45:[function(r,n,i){const o=r("../../../utils/xml-stream"),s=r("../base-xform"),a=r("./vml-shape-xform");class l extends s{constructor(){super(),this.map={"v:shape":new a}}get tag(){return"xml"}render(c,f){c.openXml(o.StdDocAttributes),c.openNode(this.tag,l.DRAWING_ATTRIBUTES),c.openNode("o:shapelayout",{"v:ext":"edit"}),c.leafNode("o:idmap",{"v:ext":"edit",data:1}),c.closeNode(),c.openNode("v:shapetype",{id:"_x0000_t202",coordsize:"21600,21600","o:spt":202,path:"m,l,21600r21600,l21600,xe"}),c.leafNode("v:stroke",{joinstyle:"miter"}),c.leafNode("v:path",{gradientshapeok:"t","o:connecttype":"rect"}),c.closeNode(),f.comments.forEach((d,h)=>{this.map["v:shape"].render(c,d,h)}),c.closeNode()}parseOpen(c){if(this.parser)return this.parser.parseOpen(c),!0;switch(c.name){case this.tag:this.reset(),this.model={comments:[]};break;default:this.parser=this.map[c.name],this.parser&&this.parser.parseOpen(c)}return!0}parseText(c){this.parser&&this.parser.parseText(c)}parseClose(c){if(this.parser)return this.parser.parseClose(c)||(this.model.comments.push(this.parser.model),this.parser=void 0),!0;switch(c){case this.tag:return!1;default:return!0}}reconcile(c,f){c.anchors.forEach(d=>{d.br?this.map["xdr:twoCellAnchor"].reconcile(d,f):this.map["xdr:oneCellAnchor"].reconcile(d,f)})}}l.DRAWING_ATTRIBUTES={"xmlns:v":"urn:schemas-microsoft-com:vml","xmlns:o":"urn:schemas-microsoft-com:office:office","xmlns:x":"urn:schemas-microsoft-com:office:excel"},n.exports=l},{"../../../utils/xml-stream":28,"../base-xform":32,"./vml-shape-xform":46}],46:[function(r,n,i){const o=r("../base-xform"),s=r("./vml-textbox-xform"),a=r("./vml-client-data-xform");class l extends o{constructor(){super(),this.map={"v:textbox":new s,"x:ClientData":new a}}get tag(){return"v:shape"}render(c,f,d){c.openNode("v:shape",l.V_SHAPE_ATTRIBUTES(f,d)),c.leafNode("v:fill",{color2:"infoBackground [80]"}),c.leafNode("v:shadow",{color:"none [81]",obscured:"t"}),c.leafNode("v:path",{"o:connecttype":"none"}),this.map["v:textbox"].render(c,f),this.map["x:ClientData"].render(c,f),c.closeNode()}parseOpen(c){if(this.parser)return this.parser.parseOpen(c),!0;switch(c.name){case this.tag:this.reset(),this.model={margins:{insetmode:c.attributes["o:insetmode"]},anchor:"",editAs:"",protection:{}};break;default:this.parser=this.map[c.name],this.parser&&this.parser.parseOpen(c)}return!0}parseText(c){this.parser&&this.parser.parseText(c)}parseClose(c){if(this.parser)return this.parser.parseClose(c)||(this.parser=void 0),!0;switch(c){case this.tag:return this.model.margins.inset=this.map["v:textbox"].model&&this.map["v:textbox"].model.inset,this.model.protection=this.map["x:ClientData"].model&&this.map["x:ClientData"].model.protection,this.model.anchor=this.map["x:ClientData"].model&&this.map["x:ClientData"].model.anchor,this.model.editAs=this.map["x:ClientData"].model&&this.map["x:ClientData"].model.editAs,!1;default:return!0}}}l.V_SHAPE_ATTRIBUTES=(u,c)=>({id:"_x0000_s"+(1025+c),type:"#_x0000_t202",style:"position:absolute; margin-left:105.3pt;margin-top:10.5pt;width:97.8pt;height:59.1pt;z-index:1;visibility:hidden",fillcolor:"infoBackground [80]",strokecolor:"none [81]","o:insetmode":u.note.margins&&u.note.margins.insetmode}),n.exports=l},{"../base-xform":32,"./vml-client-data-xform":44,"./vml-textbox-xform":47}],47:[function(r,n,i){const o=r("../base-xform");n.exports=class extends o{get tag(){return"v:textbox"}conversionUnit(s,a,l){return`${parseFloat(s)*a.toFixed(2)}${l}`}reverseConversionUnit(s){return(s||"").split(",").map(a=>Number(parseFloat(this.conversionUnit(parseFloat(a),.1,"")).toFixed(2)))}render(s,a){const l={style:"mso-direction-alt:auto"};if(a&&a.note){let{inset:u}=a.note&&a.note.margins;Array.isArray(u)&&(u=u.map(c=>this.conversionUnit(c,10,"mm")).join(",")),u&&(l.inset=u)}s.openNode("v:textbox",l),s.leafNode("div",{style:"text-align:left"}),s.closeNode()}parseOpen(s){switch(s.name){case this.tag:return this.model={inset:this.reverseConversionUnit(s.attributes.inset)},!0;default:return!0}}parseText(){}parseClose(s){switch(s){case this.tag:return!1;default:return!0}}}},{"../base-xform":32}],48:[function(r,n,i){const o=r("./base-xform");n.exports=class extends o{createNewModel(s){return{}}parseOpen(s){return this.parser=this.parser||this.map[s.name],this.parser?(this.parser.parseOpen(s),!0):s.name===this.tag&&(this.model=this.createNewModel(s),!0)}parseText(s){this.parser&&this.parser.parseText(s)}onParserClose(s,a){this.model[s]=a.model}parseClose(s){return this.parser?(this.parser.parseClose(s)||(this.onParserClose(s,this.parser),this.parser=void 0),!0):s!==this.tag}}},{"./base-xform":32}],49:[function(r,n,i){const o=r("../base-xform");n.exports=class extends o{render(s,a){s.openNode("HeadingPairs"),s.openNode("vt:vector",{size:2,baseType:"variant"}),s.openNode("vt:variant"),s.leafNode("vt:lpstr",void 0,"Worksheets"),s.closeNode(),s.openNode("vt:variant"),s.leafNode("vt:i4",void 0,a.length),s.closeNode(),s.closeNode(),s.closeNode()}parseOpen(s){return s.name==="HeadingPairs"}parseText(){}parseClose(s){return s!=="HeadingPairs"}}},{"../base-xform":32}],50:[function(r,n,i){const o=r("../base-xform");n.exports=class extends o{render(s,a){s.openNode("TitlesOfParts"),s.openNode("vt:vector",{size:a.length,baseType:"lpstr"}),a.forEach(l=>{s.leafNode("vt:lpstr",void 0,l.name)}),s.closeNode(),s.closeNode()}parseOpen(s){return s.name==="TitlesOfParts"}parseText(){}parseClose(s){return s!=="TitlesOfParts"}}},{"../base-xform":32}],51:[function(r,n,i){const o=r("../../../utils/xml-stream"),s=r("../base-xform"),a=r("../simple/string-xform"),l=r("./app-heading-pairs-xform"),u=r("./app-titles-of-parts-xform");class c extends s{constructor(){super(),this.map={Company:new a({tag:"Company"}),Manager:new a({tag:"Manager"}),HeadingPairs:new l,TitleOfParts:new u}}render(d,h){d.openXml(o.StdDocAttributes),d.openNode("Properties",c.PROPERTY_ATTRIBUTES),d.leafNode("Application",void 0,"Microsoft Excel"),d.leafNode("DocSecurity",void 0,"0"),d.leafNode("ScaleCrop",void 0,"false"),this.map.HeadingPairs.render(d,h.worksheets),this.map.TitleOfParts.render(d,h.worksheets),this.map.Company.render(d,h.company||""),this.map.Manager.render(d,h.manager),d.leafNode("LinksUpToDate",void 0,"false"),d.leafNode("SharedDoc",void 0,"false"),d.leafNode("HyperlinksChanged",void 0,"false"),d.leafNode("AppVersion",void 0,"16.0300"),d.closeNode()}parseOpen(d){if(this.parser)return this.parser.parseOpen(d),!0;switch(d.name){case"Properties":return!0;default:return this.parser=this.map[d.name],!!this.parser&&(this.parser.parseOpen(d),!0)}}parseText(d){this.parser&&this.parser.parseText(d)}parseClose(d){if(this.parser)return this.parser.parseClose(d)||(this.parser=void 0),!0;switch(d){case"Properties":return this.model={worksheets:this.map.TitleOfParts.model,company:this.map.Company.model,manager:this.map.Manager.model},!1;default:return!0}}}c.DateFormat=function(f){return f.toISOString().replace(/[.]\d{3,6}/,"")},c.DateAttrs={"xsi:type":"dcterms:W3CDTF"},c.PROPERTY_ATTRIBUTES={xmlns:"http://schemas.openxmlformats.org/officeDocument/2006/extended-properties","xmlns:vt":"http://schemas.openxmlformats.org/officeDocument/2006/docPropsVTypes"},n.exports=c},{"../../../utils/xml-stream":28,"../base-xform":32,"../simple/string-xform":119,"./app-heading-pairs-xform":49,"./app-titles-of-parts-xform":50}],52:[function(r,n,i){const o=r("../../../utils/xml-stream"),s=r("../base-xform");class a extends s{render(u,c){u.openXml(o.StdDocAttributes),u.openNode("Types",a.PROPERTY_ATTRIBUTES);const f={};(c.media||[]).forEach(d=>{if(d.type==="image"){const h=d.extension;f[h]||(f[h]=!0,u.leafNode("Default",{Extension:h,ContentType:"image/"+h}))}}),u.leafNode("Default",{Extension:"rels",ContentType:"application/vnd.openxmlformats-package.relationships+xml"}),u.leafNode("Default",{Extension:"xml",ContentType:"application/xml"}),u.leafNode("Override",{PartName:"/xl/workbook.xml",ContentType:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet.main+xml"}),c.worksheets.forEach(d=>{const h=`/xl/worksheets/sheet${d.id}.xml`;u.leafNode("Override",{PartName:h,ContentType:"application/vnd.openxmlformats-officedocument.spreadsheetml.worksheet+xml"})}),u.leafNode("Override",{PartName:"/xl/theme/theme1.xml",ContentType:"application/vnd.openxmlformats-officedocument.theme+xml"}),u.leafNode("Override",{PartName:"/xl/styles.xml",ContentType:"application/vnd.openxmlformats-officedocument.spreadsheetml.styles+xml"}),c.sharedStrings&&c.sharedStrings.count&&u.leafNode("Override",{PartName:"/xl/sharedStrings.xml",ContentType:"application/vnd.openxmlformats-officedocument.spreadsheetml.sharedStrings+xml"}),c.tables&&c.tables.forEach(d=>{u.leafNode("Override",{PartName:"/xl/tables/"+d.target,ContentType:"application/vnd.openxmlformats-officedocument.spreadsheetml.table+xml"})}),c.drawings&&c.drawings.forEach(d=>{u.leafNode("Override",{PartName:`/xl/drawings/${d.name}.xml`,ContentType:"application/vnd.openxmlformats-officedocument.drawing+xml"})}),c.commentRefs&&(u.leafNode("Default",{Extension:"vml",ContentType:"application/vnd.openxmlformats-officedocument.vmlDrawing"}),c.commentRefs.forEach(d=>{let{commentName:h}=d;u.leafNode("Override",{PartName:`/xl/${h}.xml`,ContentType:"application/vnd.openxmlformats-officedocument.spreadsheetml.comments+xml"})})),u.leafNode("Override",{PartName:"/docProps/core.xml",ContentType:"application/vnd.openxmlformats-package.core-properties+xml"}),u.leafNode("Override",{PartName:"/docProps/app.xml",ContentType:"application/vnd.openxmlformats-officedocument.extended-properties+xml"}),u.closeNode()}parseOpen(){return!1}parseText(){}parseClose(){return!1}}a.PROPERTY_ATTRIBUTES={xmlns:"http://schemas.openxmlformats.org/package/2006/content-types"},n.exports=a},{"../../../utils/xml-stream":28,"../base-xform":32}],53:[function(r,n,i){const o=r("../../../utils/xml-stream"),s=r("../base-xform"),a=r("../simple/date-xform"),l=r("../simple/string-xform"),u=r("../simple/integer-xform");class c extends s{constructor(){super(),this.map={"dc:creator":new l({tag:"dc:creator"}),"dc:title":new l({tag:"dc:title"}),"dc:subject":new l({tag:"dc:subject"}),"dc:description":new l({tag:"dc:description"}),"dc:identifier":new l({tag:"dc:identifier"}),"dc:language":new l({tag:"dc:language"}),"cp:keywords":new l({tag:"cp:keywords"}),"cp:category":new l({tag:"cp:category"}),"cp:lastModifiedBy":new l({tag:"cp:lastModifiedBy"}),"cp:lastPrinted":new a({tag:"cp:lastPrinted",format:c.DateFormat}),"cp:revision":new u({tag:"cp:revision"}),"cp:version":new l({tag:"cp:version"}),"cp:contentStatus":new l({tag:"cp:contentStatus"}),"cp:contentType":new l({tag:"cp:contentType"}),"dcterms:created":new a({tag:"dcterms:created",attrs:c.DateAttrs,format:c.DateFormat}),"dcterms:modified":new a({tag:"dcterms:modified",attrs:c.DateAttrs,format:c.DateFormat})}}render(d,h){d.openXml(o.StdDocAttributes),d.openNode("cp:coreProperties",c.CORE_PROPERTY_ATTRIBUTES),this.map["dc:creator"].render(d,h.creator),this.map["dc:title"].render(d,h.title),this.map["dc:subject"].render(d,h.subject),this.map["dc:description"].render(d,h.description),this.map["dc:identifier"].render(d,h.identifier),this.map["dc:language"].render(d,h.language),this.map["cp:keywords"].render(d,h.keywords),this.map["cp:category"].render(d,h.category),this.map["cp:lastModifiedBy"].render(d,h.lastModifiedBy),this.map["cp:lastPrinted"].render(d,h.lastPrinted),this.map["cp:revision"].render(d,h.revision),this.map["cp:version"].render(d,h.version),this.map["cp:contentStatus"].render(d,h.contentStatus),this.map["cp:contentType"].render(d,h.contentType),this.map["dcterms:created"].render(d,h.created),this.map["dcterms:modified"].render(d,h.modified),d.closeNode()}parseOpen(d){if(this.parser)return this.parser.parseOpen(d),!0;switch(d.name){case"cp:coreProperties":case"coreProperties":return!0;default:if(this.parser=this.map[d.name],this.parser)return this.parser.parseOpen(d),!0;throw new Error("Unexpected xml node in parseOpen: "+JSON.stringify(d))}}parseText(d){this.parser&&this.parser.parseText(d)}parseClose(d){if(this.parser)return this.parser.parseClose(d)||(this.parser=void 0),!0;switch(d){case"cp:coreProperties":case"coreProperties":return this.model={creator:this.map["dc:creator"].model,title:this.map["dc:title"].model,subject:this.map["dc:subject"].model,description:this.map["dc:description"].model,identifier:this.map["dc:identifier"].model,language:this.map["dc:language"].model,keywords:this.map["cp:keywords"].model,category:this.map["cp:category"].model,lastModifiedBy:this.map["cp:lastModifiedBy"].model,lastPrinted:this.map["cp:lastPrinted"].model,revision:this.map["cp:revision"].model,contentStatus:this.map["cp:contentStatus"].model,contentType:this.map["cp:contentType"].model,created:this.map["dcterms:created"].model,modified:this.map["dcterms:modified"].model},!1;default:throw new Error("Unexpected xml node in parseClose: "+d)}}}c.DateFormat=function(f){return f.toISOString().replace(/[.]\d{3}/,"")},c.DateAttrs={"xsi:type":"dcterms:W3CDTF"},c.CORE_PROPERTY_ATTRIBUTES={"xmlns:cp":"http://schemas.openxmlformats.org/package/2006/metadata/core-properties","xmlns:dc":"http://purl.org/dc/elements/1.1/","xmlns:dcterms":"http://purl.org/dc/terms/","xmlns:dcmitype":"http://purl.org/dc/dcmitype/","xmlns:xsi":"http://www.w3.org/2001/XMLSchema-instance"},n.exports=c},{"../../../utils/xml-stream":28,"../base-xform":32,"../simple/date-xform":117,"../simple/integer-xform":118,"../simple/string-xform":119}],54:[function(r,n,i){const o=r("../base-xform");n.exports=class extends o{render(s,a){s.leafNode("Relationship",a)}parseOpen(s){switch(s.name){case"Relationship":return this.model=s.attributes,!0;default:return!1}}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],55:[function(r,n,i){const o=r("../../../utils/xml-stream"),s=r("../base-xform"),a=r("./relationship-xform");class l extends s{constructor(){super(),this.map={Relationship:new a}}render(c,f){f=f||this._values,c.openXml(o.StdDocAttributes),c.openNode("Relationships",l.RELATIONSHIPS_ATTRIBUTES),f.forEach(d=>{this.map.Relationship.render(c,d)}),c.closeNode()}parseOpen(c){if(this.parser)return this.parser.parseOpen(c),!0;switch(c.name){case"Relationships":return this.model=[],!0;default:if(this.parser=this.map[c.name],this.parser)return this.parser.parseOpen(c),!0;throw new Error("Unexpected xml node in parseOpen: "+JSON.stringify(c))}}parseText(c){this.parser&&this.parser.parseText(c)}parseClose(c){if(this.parser)return this.parser.parseClose(c)||(this.model.push(this.parser.model),this.parser=void 0),!0;switch(c){case"Relationships":return!1;default:throw new Error("Unexpected xml node in parseClose: "+c)}}}l.RELATIONSHIPS_ATTRIBUTES={xmlns:"http://schemas.openxmlformats.org/package/2006/relationships"},n.exports=l},{"../../../utils/xml-stream":28,"../base-xform":32,"./relationship-xform":54}],56:[function(r,n,i){const o=r("../base-xform");n.exports=class extends o{parseOpen(s){if(this.parser)return this.parser.parseOpen(s),!0;switch(s.name){case this.tag:this.reset(),this.model={range:{editAs:s.attributes.editAs||"oneCell"}};break;default:this.parser=this.map[s.name],this.parser&&this.parser.parseOpen(s)}return!0}parseText(s){this.parser&&this.parser.parseText(s)}reconcilePicture(s,a){if(s&&s.rId){const l=a.rels[s.rId].Target.match(/.*\/media\/(.+[.][a-zA-Z]{3,4})/);if(l){const u=l[1],c=a.mediaIndex[u];return a.media[c]}}}}},{"../base-xform":32}],57:[function(r,n,i){const o=r("../base-xform"),s=r("./blip-xform");n.exports=class extends o{constructor(){super(),this.map={"a:blip":new s}}get tag(){return"xdr:blipFill"}render(a,l){a.openNode(this.tag),this.map["a:blip"].render(a,l),a.openNode("a:stretch"),a.leafNode("a:fillRect"),a.closeNode(),a.closeNode()}parseOpen(a){if(this.parser)return this.parser.parseOpen(a),!0;switch(a.name){case this.tag:this.reset();break;default:this.parser=this.map[a.name],this.parser&&this.parser.parseOpen(a)}return!0}parseText(){}parseClose(a){if(this.parser)return this.parser.parseClose(a)||(this.parser=void 0),!0;switch(a){case this.tag:return this.model=this.map["a:blip"].model,!1;default:return!0}}}},{"../base-xform":32,"./blip-xform":58}],58:[function(r,n,i){const o=r("../base-xform");n.exports=class extends o{get tag(){return"a:blip"}render(s,a){s.leafNode(this.tag,{"xmlns:r":"http://schemas.openxmlformats.org/officeDocument/2006/relationships","r:embed":a.rId,cstate:"print"})}parseOpen(s){switch(s.name){case this.tag:return this.model={rId:s.attributes["r:embed"]},!0;default:return!0}}parseText(){}parseClose(s){switch(s){case this.tag:return!1;default:return!0}}}},{"../base-xform":32}],59:[function(r,n,i){const o=r("../base-xform");n.exports=class extends o{get tag(){return"xdr:cNvPicPr"}render(s){s.openNode(this.tag),s.leafNode("a:picLocks",{noChangeAspect:"1"}),s.closeNode()}parseOpen(s){switch(s.name){case this.tag:default:return!0}}parseText(){}parseClose(s){switch(s){case this.tag:return!1;default:return!0}}}},{"../base-xform":32}],60:[function(r,n,i){const o=r("../base-xform"),s=r("./hlink-click-xform"),a=r("./ext-lst-xform");n.exports=class extends o{constructor(){super(),this.map={"a:hlinkClick":new s,"a:extLst":new a}}get tag(){return"xdr:cNvPr"}render(l,u){l.openNode(this.tag,{id:u.index,name:"Picture "+u.index}),this.map["a:hlinkClick"].render(l,u),this.map["a:extLst"].render(l,u),l.closeNode()}parseOpen(l){if(this.parser)return this.parser.parseOpen(l),!0;switch(l.name){case this.tag:this.reset();break;default:this.parser=this.map[l.name],this.parser&&this.parser.parseOpen(l)}return!0}parseText(){}parseClose(l){if(this.parser)return this.parser.parseClose(l)||(this.parser=void 0),!0;switch(l){case this.tag:return this.model=this.map["a:hlinkClick"].model,!1;default:return!0}}}},{"../base-xform":32,"./ext-lst-xform":63,"./hlink-click-xform":65}],61:[function(r,n,i){const o=r("../base-xform"),s=r("../simple/integer-xform");n.exports=class extends o{constructor(a){super(),this.tag=a.tag,this.map={"xdr:col":new s({tag:"xdr:col",zero:!0}),"xdr:colOff":new s({tag:"xdr:colOff",zero:!0}),"xdr:row":new s({tag:"xdr:row",zero:!0}),"xdr:rowOff":new s({tag:"xdr:rowOff",zero:!0})}}render(a,l){a.openNode(this.tag),this.map["xdr:col"].render(a,l.nativeCol),this.map["xdr:colOff"].render(a,l.nativeColOff),this.map["xdr:row"].render(a,l.nativeRow),this.map["xdr:rowOff"].render(a,l.nativeRowOff),a.closeNode()}parseOpen(a){if(this.parser)return this.parser.parseOpen(a),!0;switch(a.name){case this.tag:this.reset();break;default:this.parser=this.map[a.name],this.parser&&this.parser.parseOpen(a)}return!0}parseText(a){this.parser&&this.parser.parseText(a)}parseClose(a){if(this.parser)return this.parser.parseClose(a)||(this.parser=void 0),!0;switch(a){case this.tag:return this.model={nativeCol:this.map["xdr:col"].model,nativeColOff:this.map["xdr:colOff"].model,nativeRow:this.map["xdr:row"].model,nativeRowOff:this.map["xdr:rowOff"].model},!1;default:return!0}}}},{"../base-xform":32,"../simple/integer-xform":118}],62:[function(r,n,i){const o=r("../../../utils/col-cache"),s=r("../../../utils/xml-stream"),a=r("../base-xform"),l=r("./two-cell-anchor-xform"),u=r("./one-cell-anchor-xform");class c extends a{constructor(){super(),this.map={"xdr:twoCellAnchor":new l,"xdr:oneCellAnchor":new u}}prepare(d){d.anchors.forEach((h,g)=>{h.anchorType=(function(m){return(typeof m.range=="string"?o.decode(m.range):m.range).br?"xdr:twoCellAnchor":"xdr:oneCellAnchor"})(h),this.map[h.anchorType].prepare(h,{index:g})})}get tag(){return"xdr:wsDr"}render(d,h){d.openXml(s.StdDocAttributes),d.openNode(this.tag,c.DRAWING_ATTRIBUTES),h.anchors.forEach(g=>{this.map[g.anchorType].render(d,g)}),d.closeNode()}parseOpen(d){if(this.parser)return this.parser.parseOpen(d),!0;switch(d.name){case this.tag:this.reset(),this.model={anchors:[]};break;default:this.parser=this.map[d.name],this.parser&&this.parser.parseOpen(d)}return!0}parseText(d){this.parser&&this.parser.parseText(d)}parseClose(d){if(this.parser)return this.parser.parseClose(d)||(this.model.anchors.push(this.parser.model),this.parser=void 0),!0;switch(d){case this.tag:return!1;default:return!0}}reconcile(d,h){d.anchors.forEach(g=>{g.br?this.map["xdr:twoCellAnchor"].reconcile(g,h):this.map["xdr:oneCellAnchor"].reconcile(g,h)})}}c.DRAWING_ATTRIBUTES={"xmlns:xdr":"http://schemas.openxmlformats.org/drawingml/2006/spreadsheetDrawing","xmlns:a":"http://schemas.openxmlformats.org/drawingml/2006/main"},n.exports=c},{"../../../utils/col-cache":19,"../../../utils/xml-stream":28,"../base-xform":32,"./one-cell-anchor-xform":67,"./two-cell-anchor-xform":70}],63:[function(r,n,i){const o=r("../base-xform");n.exports=class extends o{get tag(){return"a:extLst"}render(s){s.openNode(this.tag),s.openNode("a:ext",{uri:"{FF2B5EF4-FFF2-40B4-BE49-F238E27FC236}"}),s.leafNode("a16:creationId",{"xmlns:a16":"http://schemas.microsoft.com/office/drawing/2014/main",id:"{00000000-0008-0000-0000-000002000000}"}),s.closeNode(),s.closeNode()}parseOpen(s){switch(s.name){case this.tag:default:return!0}}parseText(){}parseClose(s){switch(s){case this.tag:return!1;default:return!0}}}},{"../base-xform":32}],64:[function(r,n,i){const o=r("../base-xform");n.exports=class extends o{constructor(s){super(),this.tag=s.tag,this.map={}}render(s,a){s.openNode(this.tag);const l=Math.floor(9525*a.width),u=Math.floor(9525*a.height);s.addAttribute("cx",l),s.addAttribute("cy",u),s.closeNode()}parseOpen(s){return s.name===this.tag&&(this.model={width:parseInt(s.attributes.cx||"0",10)/9525,height:parseInt(s.attributes.cy||"0",10)/9525},!0)}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],65:[function(r,n,i){const o=r("../base-xform");n.exports=class extends o{get tag(){return"a:hlinkClick"}render(s,a){a.hyperlinks&&a.hyperlinks.rId&&s.leafNode(this.tag,{"xmlns:r":"http://schemas.openxmlformats.org/officeDocument/2006/relationships","r:id":a.hyperlinks.rId,tooltip:a.hyperlinks.tooltip})}parseOpen(s){switch(s.name){case this.tag:return this.model={hyperlinks:{rId:s.attributes["r:id"],tooltip:s.attributes.tooltip}},!0;default:return!0}}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],66:[function(r,n,i){const o=r("../base-xform"),s=r("./c-nv-pr-xform"),a=r("./c-nv-pic-pr-xform");n.exports=class extends o{constructor(){super(),this.map={"xdr:cNvPr":new s,"xdr:cNvPicPr":new a}}get tag(){return"xdr:nvPicPr"}render(l,u){l.openNode(this.tag),this.map["xdr:cNvPr"].render(l,u),this.map["xdr:cNvPicPr"].render(l,u),l.closeNode()}parseOpen(l){if(this.parser)return this.parser.parseOpen(l),!0;switch(l.name){case this.tag:this.reset();break;default:this.parser=this.map[l.name],this.parser&&this.parser.parseOpen(l)}return!0}parseText(){}parseClose(l){if(this.parser)return this.parser.parseClose(l)||(this.parser=void 0),!0;switch(l){case this.tag:return this.model=this.map["xdr:cNvPr"].model,!1;default:return!0}}}},{"../base-xform":32,"./c-nv-pic-pr-xform":59,"./c-nv-pr-xform":60}],67:[function(r,n,i){const o=r("./base-cell-anchor-xform"),s=r("../static-xform"),a=r("./cell-position-xform"),l=r("./ext-xform"),u=r("./pic-xform");n.exports=class extends o{constructor(){super(),this.map={"xdr:from":new a({tag:"xdr:from"}),"xdr:ext":new l({tag:"xdr:ext"}),"xdr:pic":new u,"xdr:clientData":new s({tag:"xdr:clientData"})}}get tag(){return"xdr:oneCellAnchor"}prepare(c,f){this.map["xdr:pic"].prepare(c.picture,f)}render(c,f){c.openNode(this.tag,{editAs:f.range.editAs||"oneCell"}),this.map["xdr:from"].render(c,f.range.tl),this.map["xdr:ext"].render(c,f.range.ext),this.map["xdr:pic"].render(c,f.picture),this.map["xdr:clientData"].render(c,{}),c.closeNode()}parseClose(c){if(this.parser)return this.parser.parseClose(c)||(this.parser=void 0),!0;switch(c){case this.tag:return this.model.range.tl=this.map["xdr:from"].model,this.model.range.ext=this.map["xdr:ext"].model,this.model.picture=this.map["xdr:pic"].model,!1;default:return!0}}reconcile(c,f){c.medium=this.reconcilePicture(c.picture,f)}}},{"../static-xform":120,"./base-cell-anchor-xform":56,"./cell-position-xform":61,"./ext-xform":64,"./pic-xform":68}],68:[function(r,n,i){const o=r("../base-xform"),s=r("../static-xform"),a=r("./blip-fill-xform"),l=r("./nv-pic-pr-xform"),u=r("./sp-pr");n.exports=class extends o{constructor(){super(),this.map={"xdr:nvPicPr":new l,"xdr:blipFill":new a,"xdr:spPr":new s(u)}}get tag(){return"xdr:pic"}prepare(c,f){c.index=f.index+1}render(c,f){c.openNode(this.tag),this.map["xdr:nvPicPr"].render(c,f),this.map["xdr:blipFill"].render(c,f),this.map["xdr:spPr"].render(c,f),c.closeNode()}parseOpen(c){if(this.parser)return this.parser.parseOpen(c),!0;switch(c.name){case this.tag:this.reset();break;default:this.parser=this.map[c.name],this.parser&&this.parser.parseOpen(c)}return!0}parseText(){}parseClose(c){if(this.parser)return this.parser.parseClose(c)||(this.mergeModel(this.parser.model),this.parser=void 0),!0;switch(c){case this.tag:return!1;default:return!0}}}},{"../base-xform":32,"../static-xform":120,"./blip-fill-xform":57,"./nv-pic-pr-xform":66,"./sp-pr":69}],69:[function(r,n,i){n.exports={tag:"xdr:spPr",c:[{tag:"a:xfrm",c:[{tag:"a:off",$:{x:"0",y:"0"}},{tag:"a:ext",$:{cx:"0",cy:"0"}}]},{tag:"a:prstGeom",$:{prst:"rect"},c:[{tag:"a:avLst"}]}]}},{}],70:[function(r,n,i){const o=r("./base-cell-anchor-xform"),s=r("../static-xform"),a=r("./cell-position-xform"),l=r("./pic-xform");n.exports=class extends o{constructor(){super(),this.map={"xdr:from":new a({tag:"xdr:from"}),"xdr:to":new a({tag:"xdr:to"}),"xdr:pic":new l,"xdr:clientData":new s({tag:"xdr:clientData"})}}get tag(){return"xdr:twoCellAnchor"}prepare(u,c){this.map["xdr:pic"].prepare(u.picture,c)}render(u,c){u.openNode(this.tag,{editAs:c.range.editAs||"oneCell"}),this.map["xdr:from"].render(u,c.range.tl),this.map["xdr:to"].render(u,c.range.br),this.map["xdr:pic"].render(u,c.picture),this.map["xdr:clientData"].render(u,{}),u.closeNode()}parseClose(u){if(this.parser)return this.parser.parseClose(u)||(this.parser=void 0),!0;switch(u){case this.tag:return this.model.range.tl=this.map["xdr:from"].model,this.model.range.br=this.map["xdr:to"].model,this.model.picture=this.map["xdr:pic"].model,!1;default:return!0}}reconcile(u,c){u.medium=this.reconcilePicture(u.picture,c)}}},{"../static-xform":120,"./base-cell-anchor-xform":56,"./cell-position-xform":61,"./pic-xform":68}],71:[function(r,n,i){const o=r("./base-xform");n.exports=class extends o{constructor(s){super(),this.tag=s.tag,this.always=!!s.always,this.count=s.count,this.empty=s.empty,this.$count=s.$count||"count",this.$=s.$,this.childXform=s.childXform,this.maxItems=s.maxItems}prepare(s,a){const{childXform:l}=this;s&&s.forEach((u,c)=>{a.index=c,l.prepare(u,a)})}render(s,a){if(this.always||a&&a.length){s.openNode(this.tag,this.$),this.count&&s.addAttribute(this.$count,a&&a.length||0);const{childXform:l}=this;(a||[]).forEach((u,c)=>{l.render(s,u,c)}),s.closeNode()}else this.empty&&s.leafNode(this.tag)}parseOpen(s){if(this.parser)return this.parser.parseOpen(s),!0;switch(s.name){case this.tag:return this.model=[],!0;default:return!!this.childXform.parseOpen(s)&&(this.parser=this.childXform,!0)}}parseText(s){this.parser&&this.parser.parseText(s)}parseClose(s){if(this.parser){if(!this.parser.parseClose(s)&&(this.model.push(this.parser.model),this.parser=void 0,this.maxItems&&this.model.length>this.maxItems))throw new Error(`Max ${this.childXform.tag} count (${this.maxItems}) exceeded`);return!0}return!1}reconcile(s,a){if(s){const{childXform:l}=this;s.forEach(u=>{l.reconcile(u,a)})}}}},{"./base-xform":32}],72:[function(r,n,i){const o=r("../../../utils/col-cache"),s=r("../base-xform");n.exports=class extends s{get tag(){return"autoFilter"}render(a,l){if(l)if(typeof l=="string")a.leafNode("autoFilter",{ref:l});else{const u=function(d){return typeof d=="string"?d:o.getAddress(d.row,d.column).address},c=u(l.from),f=u(l.to);c&&f&&a.leafNode("autoFilter",{ref:`${c}:${f}`})}}parseOpen(a){a.name==="autoFilter"&&(this.model=a.attributes.ref)}}},{"../../../utils/col-cache":19,"../base-xform":32}],73:[function(r,n,i){const o=r("../../../utils/utils"),s=r("../base-xform"),a=r("../../../doc/range"),l=r("../../../doc/enums"),u=r("../strings/rich-text-xform");function c(f){if(f==null)return l.ValueType.Null;if(f instanceof String||typeof f=="string")return l.ValueType.String;if(typeof f=="number")return l.ValueType.Number;if(typeof f=="boolean")return l.ValueType.Boolean;if(f instanceof Date)return l.ValueType.Date;if(f.text&&f.hyperlink)return l.ValueType.Hyperlink;if(f.formula)return l.ValueType.Formula;if(f.error)return l.ValueType.Error;throw new Error("I could not understand type of value")}n.exports=class extends s{constructor(){super(),this.richTextXForm=new u}get tag(){return"c"}prepare(f,d){const h=d.styles.addStyleModel(f.style||{},(function(g){switch(g.type){case l.ValueType.Formula:return c(g.result);default:return g.type}})(f));switch(h&&(f.styleId=h),f.comment&&d.comments.push({...f.comment,ref:f.address}),f.type){case l.ValueType.String:case l.ValueType.RichText:d.sharedStrings&&(f.ssId=d.sharedStrings.add(f.value));break;case l.ValueType.Date:d.date1904&&(f.date1904=!0);break;case l.ValueType.Hyperlink:d.sharedStrings&&f.text!==void 0&&f.text!==null&&(f.ssId=d.sharedStrings.add(f.text)),d.hyperlinks.push({address:f.address,target:f.hyperlink,tooltip:f.tooltip});break;case l.ValueType.Merge:d.merges.add(f);break;case l.ValueType.Formula:if(d.date1904&&(f.date1904=!0),f.shareType==="shared"&&(f.si=d.siFormulae++),f.formula)d.formulae[f.address]=f;else if(f.sharedFormula){const g=d.formulae[f.sharedFormula];if(!g)throw new Error("Shared Formula master must exist above and or left of clone for cell "+f.address);g.si===void 0?(g.shareType="shared",g.si=d.siFormulae++,g.range=new a(g.address,f.address)):g.range&&g.range.expandToAddress(f.address),f.si=g.si}}}renderFormula(f,d){let h=null;switch(d.shareType){case"shared":h={t:"shared",ref:d.ref||d.range.range,si:d.si};break;case"array":h={t:"array",ref:d.ref};break;default:d.si!==void 0&&(h={t:"shared",si:d.si})}switch(c(d.result)){case l.ValueType.Null:f.leafNode("f",h,d.formula);break;case l.ValueType.String:f.addAttribute("t","str"),f.leafNode("f",h,d.formula),f.leafNode("v",null,d.result);break;case l.ValueType.Number:f.leafNode("f",h,d.formula),f.leafNode("v",null,d.result);break;case l.ValueType.Boolean:f.addAttribute("t","b"),f.leafNode("f",h,d.formula),f.leafNode("v",null,d.result?1:0);break;case l.ValueType.Error:f.addAttribute("t","e"),f.leafNode("f",h,d.formula),f.leafNode("v",null,d.result.error);break;case l.ValueType.Date:f.leafNode("f",h,d.formula),f.leafNode("v",null,o.dateToExcel(d.result,d.date1904));break;default:throw new Error("I could not understand type of value")}}render(f,d){if(d.type!==l.ValueType.Null||d.styleId){switch(f.openNode("c"),f.addAttribute("r",d.address),d.styleId&&f.addAttribute("s",d.styleId),d.type){case l.ValueType.Null:break;case l.ValueType.Number:f.leafNode("v",null,d.value);break;case l.ValueType.Boolean:f.addAttribute("t","b"),f.leafNode("v",null,d.value?"1":"0");break;case l.ValueType.Error:f.addAttribute("t","e"),f.leafNode("v",null,d.value.error);break;case l.ValueType.String:case l.ValueType.RichText:d.ssId!==void 0?(f.addAttribute("t","s"),f.leafNode("v",null,d.ssId)):d.value&&d.value.richText?(f.addAttribute("t","inlineStr"),f.openNode("is"),d.value.richText.forEach(h=>{this.richTextXForm.render(f,h)}),f.closeNode("is")):(f.addAttribute("t","str"),f.leafNode("v",null,d.value));break;case l.ValueType.Date:f.leafNode("v",null,o.dateToExcel(d.value,d.date1904));break;case l.ValueType.Hyperlink:d.ssId!==void 0?(f.addAttribute("t","s"),f.leafNode("v",null,d.ssId)):(f.addAttribute("t","str"),f.leafNode("v",null,d.text));break;case l.ValueType.Formula:this.renderFormula(f,d);break;case l.ValueType.Merge:}f.closeNode()}}parseOpen(f){if(this.parser)return this.parser.parseOpen(f),!0;switch(f.name){case"c":return this.model={address:f.attributes.r},this.t=f.attributes.t,f.attributes.s&&(this.model.styleId=parseInt(f.attributes.s,10)),!0;case"f":return this.currentNode="f",this.model.si=f.attributes.si,this.model.shareType=f.attributes.t,this.model.ref=f.attributes.ref,!0;case"v":return this.currentNode="v",!0;case"t":return this.currentNode="t",!0;case"r":return this.parser=this.richTextXForm,this.parser.parseOpen(f),!0;default:return!1}}parseText(f){if(this.parser)this.parser.parseText(f);else switch(this.currentNode){case"f":this.model.formula=this.model.formula?this.model.formula+f:f;break;case"v":case"t":this.model.value&&this.model.value.richText?this.model.value.richText.text=this.model.value.richText.text?this.model.value.richText.text+f:f:this.model.value=this.model.value?this.model.value+f:f}}parseClose(f){switch(f){case"c":{const{model:d}=this;if(d.formula||d.shareType)d.type=l.ValueType.Formula,d.value&&(this.t==="str"?d.result=o.xmlDecode(d.value):this.t==="b"?d.result=parseInt(d.value,10)!==0:this.t==="e"?d.result={error:d.value}:d.result=parseFloat(d.value),d.value=void 0);else if(d.value!==void 0)switch(this.t){case"s":d.type=l.ValueType.String,d.value=parseInt(d.value,10);break;case"str":d.type=l.ValueType.String,d.value=o.xmlDecode(d.value);break;case"inlineStr":d.type=l.ValueType.String;break;case"b":d.type=l.ValueType.Boolean,d.value=parseInt(d.value,10)!==0;break;case"e":d.type=l.ValueType.Error,d.value={error:d.value};break;default:d.type=l.ValueType.Number,d.value=parseFloat(d.value)}else d.styleId?d.type=l.ValueType.Null:d.type=l.ValueType.Merge;return!1}case"f":case"v":case"is":return this.currentNode=void 0,!0;case"t":return this.parser?(this.parser.parseClose(f),!0):(this.currentNode=void 0,!0);case"r":return this.model.value=this.model.value||{},this.model.value.richText=this.model.value.richText||[],this.model.value.richText.push(this.parser.model),this.parser=void 0,this.currentNode=void 0,!0;default:return!!this.parser&&(this.parser.parseClose(f),!0)}}reconcile(f,d){const h=f.styleId&&d.styles&&d.styles.getStyleModel(f.styleId);switch(h&&(f.style=h),f.styleId!==void 0&&(f.styleId=void 0),f.type){case l.ValueType.String:typeof f.value=="number"&&d.sharedStrings&&(f.value=d.sharedStrings.getString(f.value)),f.value.richText&&(f.type=l.ValueType.RichText);break;case l.ValueType.Number:h&&o.isDateFmt(h.numFmt)&&(f.type=l.ValueType.Date,f.value=o.excelToDate(f.value,d.date1904));break;case l.ValueType.Formula:f.result!==void 0&&h&&o.isDateFmt(h.numFmt)&&(f.result=o.excelToDate(f.result,d.date1904)),f.shareType==="shared"&&(f.ref?d.formulae[f.si]=f.address:(f.sharedFormula=d.formulae[f.si],delete f.shareType),delete f.si)}const g=d.hyperlinkMap[f.address];g&&(f.type===l.ValueType.Formula?(f.text=f.result,f.result=void 0):(f.text=f.value,f.value=void 0),f.type=l.ValueType.Hyperlink,f.hyperlink=g);const m=d.commentsMap&&d.commentsMap[f.address];m&&(f.comment=m)}}},{"../../../doc/enums":7,"../../../doc/range":10,"../../../utils/utils":27,"../base-xform":32,"../strings/rich-text-xform":122}],74:[function(r,n,i){const o=r("../../base-xform");n.exports=class extends o{get tag(){return"x14:cfIcon"}render(s,a){s.leafNode(this.tag,{iconSet:a.iconSet,iconId:a.iconId})}parseOpen(s){let{attributes:a}=s;this.model={iconSet:a.iconSet,iconId:o.toIntValue(a.iconId)}}parseClose(s){return s!==this.tag}}},{"../../base-xform":32}],75:[function(r,n,i){const{v4:o}=r("uuid"),s=r("../../base-xform"),a=r("../../composite-xform"),l=r("./databar-ext-xform"),u=r("./icon-set-ext-xform"),c={"3Triangles":!0,"3Stars":!0,"5Boxes":!0};class f extends a{constructor(){super(),this.map={"x14:dataBar":this.databarXform=new l,"x14:iconSet":this.iconSetXform=new u}}get tag(){return"x14:cfRule"}static isExt(h){return h.type==="dataBar"?l.isExt(h):!(h.type!=="iconSet"||!h.custom&&!c[h.iconSet])}prepare(h){f.isExt(h)&&(h.x14Id=`{${o()}}`.toUpperCase())}render(h,g){if(f.isExt(g))switch(g.type){case"dataBar":this.renderDataBar(h,g);break;case"iconSet":this.renderIconSet(h,g)}}renderDataBar(h,g){h.openNode(this.tag,{type:"dataBar",id:g.x14Id}),this.databarXform.render(h,g),h.closeNode()}renderIconSet(h,g){h.openNode(this.tag,{type:"iconSet",priority:g.priority,id:g.x14Id||`{${o()}}`}),this.iconSetXform.render(h,g),h.closeNode()}createNewModel(h){let{attributes:g}=h;return{type:g.type,x14Id:g.id,priority:s.toIntValue(g.priority)}}onParserClose(h,g){Object.assign(this.model,g.model)}}n.exports=f},{"../../base-xform":32,"../../composite-xform":48,"./databar-ext-xform":79,"./icon-set-ext-xform":81,uuid:528}],76:[function(r,n,i){const o=r("../../composite-xform"),s=r("./f-ext-xform");n.exports=class extends o{constructor(){super(),this.map={"xm:f":this.fExtXform=new s}}get tag(){return"x14:cfvo"}render(a,l){a.openNode(this.tag,{type:l.type}),l.value!==void 0&&this.fExtXform.render(a,l.value),a.closeNode()}createNewModel(a){return{type:a.attributes.type}}onParserClose(a,l){switch(a){case"xm:f":this.model.value=l.model?parseFloat(l.model):0}}}},{"../../composite-xform":48,"./f-ext-xform":80}],77:[function(r,n,i){const o=r("../../composite-xform"),s=r("./sqref-ext-xform"),a=r("./cf-rule-ext-xform");n.exports=class extends o{constructor(){super(),this.map={"xm:sqref":this.sqRef=new s,"x14:cfRule":this.cfRule=new a}}get tag(){return"x14:conditionalFormatting"}prepare(l,u){l.rules.forEach(c=>{this.cfRule.prepare(c,u)})}render(l,u){u.rules.some(a.isExt)&&(l.openNode(this.tag,{"xmlns:xm":"http://schemas.microsoft.com/office/excel/2006/main"}),u.rules.filter(a.isExt).forEach(c=>this.cfRule.render(l,c)),this.sqRef.render(l,u.ref),l.closeNode())}createNewModel(){return{rules:[]}}onParserClose(l,u){switch(l){case"xm:sqref":this.model.ref=u.model;break;case"x14:cfRule":this.model.rules.push(u.model)}}}},{"../../composite-xform":48,"./cf-rule-ext-xform":75,"./sqref-ext-xform":82}],78:[function(r,n,i){const o=r("../../composite-xform"),s=r("./cf-rule-ext-xform"),a=r("./conditional-formatting-ext-xform");n.exports=class extends o{constructor(){super(),this.map={"x14:conditionalFormatting":this.cfXform=new a}}get tag(){return"x14:conditionalFormattings"}hasContent(l){return l.hasExtContent===void 0&&(l.hasExtContent=l.some(u=>u.rules.some(s.isExt))),l.hasExtContent}prepare(l,u){l.forEach(c=>{this.cfXform.prepare(c,u)})}render(l,u){this.hasContent(u)&&(l.openNode(this.tag),u.forEach(c=>this.cfXform.render(l,c)),l.closeNode())}createNewModel(){return[]}onParserClose(l,u){this.model.push(u.model)}}},{"../../composite-xform":48,"./cf-rule-ext-xform":75,"./conditional-formatting-ext-xform":77}],79:[function(r,n,i){const o=r("../../base-xform"),s=r("../../composite-xform"),a=r("../../style/color-xform"),l=r("./cfvo-ext-xform");n.exports=class extends s{constructor(){super(),this.map={"x14:cfvo":this.cfvoXform=new l,"x14:borderColor":this.borderColorXform=new a("x14:borderColor"),"x14:negativeBorderColor":this.negativeBorderColorXform=new a("x14:negativeBorderColor"),"x14:negativeFillColor":this.negativeFillColorXform=new a("x14:negativeFillColor"),"x14:axisColor":this.axisColorXform=new a("x14:axisColor")}}static isExt(u){return!u.gradient}get tag(){return"x14:dataBar"}render(u,c){u.openNode(this.tag,{minLength:o.toIntAttribute(c.minLength,0,!0),maxLength:o.toIntAttribute(c.maxLength,100,!0),border:o.toBoolAttribute(c.border,!1),gradient:o.toBoolAttribute(c.gradient,!0),negativeBarColorSameAsPositive:o.toBoolAttribute(c.negativeBarColorSameAsPositive,!0),negativeBarBorderColorSameAsPositive:o.toBoolAttribute(c.negativeBarBorderColorSameAsPositive,!0),axisPosition:o.toAttribute(c.axisPosition,"auto"),direction:o.toAttribute(c.direction,"leftToRight")}),c.cfvo.forEach(f=>{this.cfvoXform.render(u,f)}),this.borderColorXform.render(u,c.borderColor),this.negativeBorderColorXform.render(u,c.negativeBorderColor),this.negativeFillColorXform.render(u,c.negativeFillColor),this.axisColorXform.render(u,c.axisColor),u.closeNode()}createNewModel(u){let{attributes:c}=u;return{cfvo:[],minLength:o.toIntValue(c.minLength,0),maxLength:o.toIntValue(c.maxLength,100),border:o.toBoolValue(c.border,!1),gradient:o.toBoolValue(c.gradient,!0),negativeBarColorSameAsPositive:o.toBoolValue(c.negativeBarColorSameAsPositive,!0),negativeBarBorderColorSameAsPositive:o.toBoolValue(c.negativeBarBorderColorSameAsPositive,!0),axisPosition:o.toStringValue(c.axisPosition,"auto"),direction:o.toStringValue(c.direction,"leftToRight")}}onParserClose(u,c){const[,f]=u.split(":");switch(f){case"cfvo":this.model.cfvo.push(c.model);break;default:this.model[f]=c.model}}}},{"../../base-xform":32,"../../composite-xform":48,"../../style/color-xform":128,"./cfvo-ext-xform":76}],80:[function(r,n,i){const o=r("../../base-xform");n.exports=class extends o{get tag(){return"xm:f"}render(s,a){s.leafNode(this.tag,null,a)}parseOpen(){this.model=""}parseText(s){this.model+=s}parseClose(s){return s!==this.tag}}},{"../../base-xform":32}],81:[function(r,n,i){const o=r("../../base-xform"),s=r("../../composite-xform"),a=r("./cfvo-ext-xform"),l=r("./cf-icon-ext-xform");n.exports=class extends s{constructor(){super(),this.map={"x14:cfvo":this.cfvoXform=new a,"x14:cfIcon":this.cfIconXform=new l}}get tag(){return"x14:iconSet"}render(u,c){u.openNode(this.tag,{iconSet:o.toStringAttribute(c.iconSet),reverse:o.toBoolAttribute(c.reverse,!1),showValue:o.toBoolAttribute(c.showValue,!0),custom:o.toBoolAttribute(c.icons,!1)}),c.cfvo.forEach(f=>{this.cfvoXform.render(u,f)}),c.icons&&c.icons.forEach((f,d)=>{f.iconId=d,this.cfIconXform.render(u,f)}),u.closeNode()}createNewModel(u){let{attributes:c}=u;return{cfvo:[],iconSet:o.toStringValue(c.iconSet,"3TrafficLights"),reverse:o.toBoolValue(c.reverse,!1),showValue:o.toBoolValue(c.showValue,!0)}}onParserClose(u,c){const[,f]=u.split(":");switch(f){case"cfvo":this.model.cfvo.push(c.model);break;case"cfIcon":this.model.icons||(this.model.icons=[]),this.model.icons.push(c.model);break;default:this.model[f]=c.model}}}},{"../../base-xform":32,"../../composite-xform":48,"./cf-icon-ext-xform":74,"./cfvo-ext-xform":76}],82:[function(r,n,i){const o=r("../../base-xform");n.exports=class extends o{get tag(){return"xm:sqref"}render(s,a){s.leafNode(this.tag,null,a)}parseOpen(){this.model=""}parseText(s){this.model+=s}parseClose(s){return s!==this.tag}}},{"../../base-xform":32}],83:[function(r,n,i){const o=r("../../base-xform"),s=r("../../composite-xform"),a=r("../../../../doc/range"),l=r("./databar-xform"),u=r("./ext-lst-ref-xform"),c=r("./formula-xform"),f=r("./color-scale-xform"),d=r("./icon-set-xform"),h={"3Triangles":!0,"3Stars":!0,"5Boxes":!0},g=p=>{const{type:y,operator:b}=p;switch(y){case"containsText":case"containsBlanks":case"notContainsBlanks":case"containsErrors":case"notContainsErrors":return{type:"containsText",operator:y};default:return{type:y,operator:b}}};class m extends s{constructor(){super(),this.map={dataBar:this.databarXform=new l,extLst:this.extLstRefXform=new u,formula:this.formulaXform=new c,colorScale:this.colorScaleXform=new f,iconSet:this.iconSetXform=new d}}get tag(){return"cfRule"}static isPrimitive(y){return y.type!=="iconSet"||!y.custom&&!h[y.iconSet]}render(y,b){switch(b.type){case"expression":this.renderExpression(y,b);break;case"cellIs":this.renderCellIs(y,b);break;case"top10":this.renderTop10(y,b);break;case"aboveAverage":this.renderAboveAverage(y,b);break;case"dataBar":this.renderDataBar(y,b);break;case"colorScale":this.renderColorScale(y,b);break;case"iconSet":this.renderIconSet(y,b);break;case"containsText":this.renderText(y,b);break;case"timePeriod":this.renderTimePeriod(y,b)}}renderExpression(y,b){y.openNode(this.tag,{type:"expression",dxfId:b.dxfId,priority:b.priority}),this.formulaXform.render(y,b.formulae[0]),y.closeNode()}renderCellIs(y,b){y.openNode(this.tag,{type:"cellIs",dxfId:b.dxfId,priority:b.priority,operator:b.operator}),b.formulae.forEach(v=>{this.formulaXform.render(y,v)}),y.closeNode()}renderTop10(y,b){y.leafNode(this.tag,{type:"top10",dxfId:b.dxfId,priority:b.priority,percent:o.toBoolAttribute(b.percent,!1),bottom:o.toBoolAttribute(b.bottom,!1),rank:o.toIntValue(b.rank,10,!0)})}renderAboveAverage(y,b){y.leafNode(this.tag,{type:"aboveAverage",dxfId:b.dxfId,priority:b.priority,aboveAverage:o.toBoolAttribute(b.aboveAverage,!0)})}renderDataBar(y,b){y.openNode(this.tag,{type:"dataBar",priority:b.priority}),this.databarXform.render(y,b),this.extLstRefXform.render(y,b),y.closeNode()}renderColorScale(y,b){y.openNode(this.tag,{type:"colorScale",priority:b.priority}),this.colorScaleXform.render(y,b),y.closeNode()}renderIconSet(y,b){m.isPrimitive(b)&&(y.openNode(this.tag,{type:"iconSet",priority:b.priority}),this.iconSetXform.render(y,b),y.closeNode())}renderText(y,b){y.openNode(this.tag,{type:b.operator,dxfId:b.dxfId,priority:b.priority,operator:o.toStringAttribute(b.operator,"containsText")});const v=(F=>{if(F.formulae&&F.formulae[0])return F.formulae[0];const E=new a(F.ref),{tl:T}=E;switch(F.operator){case"containsText":return`NOT(ISERROR(SEARCH("${F.text}",${T})))`;case"containsBlanks":return`LEN(TRIM(${T}))=0`;case"notContainsBlanks":return`LEN(TRIM(${T}))>0`;case"containsErrors":return`ISERROR(${T})`;case"notContainsErrors":return`NOT(ISERROR(${T}))`;default:return}})(b);v&&this.formulaXform.render(y,v),y.closeNode()}renderTimePeriod(y,b){y.openNode(this.tag,{type:"timePeriod",dxfId:b.dxfId,priority:b.priority,timePeriod:b.timePeriod});const v=(F=>{if(F.formulae&&F.formulae[0])return F.formulae[0];const E=new a(F.ref),{tl:T}=E;switch(F.timePeriod){case"thisWeek":return`AND(TODAY()-ROUNDDOWN(${T},0)<=WEEKDAY(TODAY())-1,ROUNDDOWN(${T},0)-TODAY()<=7-WEEKDAY(TODAY()))`;case"lastWeek":return`AND(TODAY()-ROUNDDOWN(${T},0)>=(WEEKDAY(TODAY())),TODAY()-ROUNDDOWN(${T},0)<(WEEKDAY(TODAY())+7))`;case"nextWeek":return`AND(ROUNDDOWN(${T},0)-TODAY()>(7-WEEKDAY(TODAY())),ROUNDDOWN(${T},0)-TODAY()<(15-WEEKDAY(TODAY())))`;case"yesterday":return`FLOOR(${T},1)=TODAY()-1`;case"today":return`FLOOR(${T},1)=TODAY()`;case"tomorrow":return`FLOOR(${T},1)=TODAY()+1`;case"last7Days":return`AND(TODAY()-FLOOR(${T},1)<=6,FLOOR(${T},1)<=TODAY())`;case"lastMonth":return`AND(MONTH(${T})=MONTH(EDATE(TODAY(),0-1)),YEAR(${T})=YEAR(EDATE(TODAY(),0-1)))`;case"thisMonth":return`AND(MONTH(${T})=MONTH(TODAY()),YEAR(${T})=YEAR(TODAY()))`;case"nextMonth":return`AND(MONTH(${T})=MONTH(EDATE(TODAY(),0+1)),YEAR(${T})=YEAR(EDATE(TODAY(),0+1)))`;default:return}})(b);v&&this.formulaXform.render(y,v),y.closeNode()}createNewModel(y){let{attributes:b}=y;return{...g(b),dxfId:o.toIntValue(b.dxfId),priority:o.toIntValue(b.priority),timePeriod:b.timePeriod,percent:o.toBoolValue(b.percent),bottom:o.toBoolValue(b.bottom),rank:o.toIntValue(b.rank),aboveAverage:o.toBoolValue(b.aboveAverage)}}onParserClose(y,b){switch(y){case"dataBar":case"extLst":case"colorScale":case"iconSet":Object.assign(this.model,b.model);break;case"formula":this.model.formulae=this.model.formulae||[],this.model.formulae.push(b.model)}}}n.exports=m},{"../../../../doc/range":10,"../../base-xform":32,"../../composite-xform":48,"./color-scale-xform":85,"./databar-xform":88,"./ext-lst-ref-xform":89,"./formula-xform":90,"./icon-set-xform":91}],84:[function(r,n,i){const o=r("../../base-xform");n.exports=class extends o{get tag(){return"cfvo"}render(s,a){s.leafNode(this.tag,{type:a.type,val:a.value})}parseOpen(s){this.model={type:s.attributes.type,value:o.toFloatValue(s.attributes.val)}}parseClose(s){return s!==this.tag}}},{"../../base-xform":32}],85:[function(r,n,i){const o=r("../../composite-xform"),s=r("../../style/color-xform"),a=r("./cfvo-xform");n.exports=class extends o{constructor(){super(),this.map={cfvo:this.cfvoXform=new a,color:this.colorXform=new s}}get tag(){return"colorScale"}render(l,u){l.openNode(this.tag),u.cfvo.forEach(c=>{this.cfvoXform.render(l,c)}),u.color.forEach(c=>{this.colorXform.render(l,c)}),l.closeNode()}createNewModel(l){return{cfvo:[],color:[]}}onParserClose(l,u){this.model[l].push(u.model)}}},{"../../composite-xform":48,"../../style/color-xform":128,"./cfvo-xform":84}],86:[function(r,n,i){const o=r("../../composite-xform"),s=r("./cf-rule-xform");n.exports=class extends o{constructor(){super(),this.map={cfRule:new s}}get tag(){return"conditionalFormatting"}render(a,l){l.rules.some(s.isPrimitive)&&(a.openNode(this.tag,{sqref:l.ref}),l.rules.forEach(u=>{s.isPrimitive(u)&&(u.ref=l.ref,this.map.cfRule.render(a,u))}),a.closeNode())}createNewModel(a){let{attributes:l}=a;return{ref:l.sqref,rules:[]}}onParserClose(a,l){this.model.rules.push(l.model)}}},{"../../composite-xform":48,"./cf-rule-xform":83}],87:[function(r,n,i){const o=r("../../base-xform"),s=r("./conditional-formatting-xform");n.exports=class extends o{constructor(){super(),this.cfXform=new s}get tag(){return"conditionalFormatting"}reset(){this.model=[]}prepare(a,l){let u=a.reduce((c,f)=>Math.max(c,...f.rules.map(d=>d.priority||0)),1);a.forEach(c=>{c.rules.forEach(f=>{f.priority||(f.priority=u++),f.style&&(f.dxfId=l.styles.addDxfStyle(f.style))})})}render(a,l){l.forEach(u=>{this.cfXform.render(a,u)})}parseOpen(a){if(this.parser)return this.parser.parseOpen(a),!0;switch(a.name){case"conditionalFormatting":return this.parser=this.cfXform,this.parser.parseOpen(a),!0;default:return!1}}parseText(a){this.parser&&this.parser.parseText(a)}parseClose(a){return!!this.parser&&(!!this.parser.parseClose(a)||(this.model.push(this.parser.model),this.parser=void 0,!1))}reconcile(a,l){a.forEach(u=>{u.rules.forEach(c=>{c.dxfId!==void 0&&(c.style=l.styles.getDxfStyle(c.dxfId),delete c.dxfId)})})}}},{"../../base-xform":32,"./conditional-formatting-xform":86}],88:[function(r,n,i){const o=r("../../composite-xform"),s=r("../../style/color-xform"),a=r("./cfvo-xform");n.exports=class extends o{constructor(){super(),this.map={cfvo:this.cfvoXform=new a,color:this.colorXform=new s}}get tag(){return"dataBar"}render(l,u){l.openNode(this.tag),u.cfvo.forEach(c=>{this.cfvoXform.render(l,c)}),this.colorXform.render(l,u.color),l.closeNode()}createNewModel(){return{cfvo:[]}}onParserClose(l,u){switch(l){case"cfvo":this.model.cfvo.push(u.model);break;case"color":this.model.color=u.model}}}},{"../../composite-xform":48,"../../style/color-xform":128,"./cfvo-xform":84}],89:[function(r,n,i){const o=r("../../base-xform"),s=r("../../composite-xform");class a extends o{get tag(){return"x14:id"}render(c,f){c.leafNode(this.tag,null,f)}parseOpen(){this.model=""}parseText(c){this.model+=c}parseClose(c){return c!==this.tag}}class l extends s{constructor(){super(),this.map={"x14:id":this.idXform=new a}}get tag(){return"ext"}render(c,f){c.openNode(this.tag,{uri:"{B025F937-C7B1-47D3-B67F-A62EFF666E3E}","xmlns:x14":"http://schemas.microsoft.com/office/spreadsheetml/2009/9/main"}),this.idXform.render(c,f.x14Id),c.closeNode()}createNewModel(){return{}}onParserClose(c,f){this.model.x14Id=f.model}}n.exports=class extends s{constructor(){super(),this.map={ext:new l}}get tag(){return"extLst"}render(u,c){u.openNode(this.tag),this.map.ext.render(u,c),u.closeNode()}createNewModel(){return{}}onParserClose(u,c){Object.assign(this.model,c.model)}}},{"../../base-xform":32,"../../composite-xform":48}],90:[function(r,n,i){const o=r("../../base-xform");n.exports=class extends o{get tag(){return"formula"}render(s,a){s.leafNode(this.tag,null,a)}parseOpen(){this.model=""}parseText(s){this.model+=s}parseClose(s){return s!==this.tag}}},{"../../base-xform":32}],91:[function(r,n,i){const o=r("../../base-xform"),s=r("../../composite-xform"),a=r("./cfvo-xform");n.exports=class extends s{constructor(){super(),this.map={cfvo:this.cfvoXform=new a}}get tag(){return"iconSet"}render(l,u){l.openNode(this.tag,{iconSet:o.toStringAttribute(u.iconSet,"3TrafficLights"),reverse:o.toBoolAttribute(u.reverse,!1),showValue:o.toBoolAttribute(u.showValue,!0)}),u.cfvo.forEach(c=>{this.cfvoXform.render(l,c)}),l.closeNode()}createNewModel(l){let{attributes:u}=l;return{iconSet:o.toStringValue(u.iconSet,"3TrafficLights"),reverse:o.toBoolValue(u.reverse),showValue:o.toBoolValue(u.showValue),cfvo:[]}}onParserClose(l,u){this.model[l].push(u.model)}}},{"../../base-xform":32,"../../composite-xform":48,"./cfvo-xform":84}],92:[function(r,n,i){const o=r("../../../utils/utils"),s=r("../base-xform");n.exports=class extends s{get tag(){return"col"}prepare(a,l){const u=l.styles.addStyleModel(a.style||{});u&&(a.styleId=u)}render(a,l){a.openNode("col"),a.addAttribute("min",l.min),a.addAttribute("max",l.max),l.width&&a.addAttribute("width",l.width),l.styleId&&a.addAttribute("style",l.styleId),l.hidden&&a.addAttribute("hidden","1"),l.bestFit&&a.addAttribute("bestFit","1"),l.outlineLevel&&a.addAttribute("outlineLevel",l.outlineLevel),l.collapsed&&a.addAttribute("collapsed","1"),a.addAttribute("customWidth","1"),a.closeNode()}parseOpen(a){if(a.name==="col"){const l=this.model={min:parseInt(a.attributes.min||"0",10),max:parseInt(a.attributes.max||"0",10),width:a.attributes.width===void 0?void 0:parseFloat(a.attributes.width||"0")};return a.attributes.style&&(l.styleId=parseInt(a.attributes.style,10)),o.parseBoolean(a.attributes.hidden)&&(l.hidden=!0),o.parseBoolean(a.attributes.bestFit)&&(l.bestFit=!0),a.attributes.outlineLevel&&(l.outlineLevel=parseInt(a.attributes.outlineLevel,10)),o.parseBoolean(a.attributes.collapsed)&&(l.collapsed=!0),!0}return!1}parseText(){}parseClose(){return!1}reconcile(a,l){a.styleId&&(a.style=l.styles.getStyleModel(a.styleId))}}},{"../../../utils/utils":27,"../base-xform":32}],93:[function(r,n,i){const o=r("../../../utils/under-dash"),s=r("../../../utils/utils"),a=r("../../../utils/col-cache"),l=r("../base-xform"),u=r("../../../doc/range");function c(d,h,g,m){const p=h[g];p!==void 0?d[g]=p:m!==void 0&&(d[g]=m)}function f(d,h,g,m){const p=h[g];p!==void 0&&(d[g]=s.parseBoolean(p))}n.exports=class extends l{get tag(){return"dataValidations"}render(d,h){const g=(function(m){const p=o.map(m,(v,F)=>({address:F,dataValidation:v,marked:!1})).sort((v,F)=>o.strcmp(v.address,F.address)),y=o.keyBy(p,"address"),b=(v,F,E)=>{for(let T=0;T<F;T++){const I=a.encodeAddress(v.row+T,E);if(!m[I]||!o.isEqual(m[v.address],m[I]))return!1}return!0};return p.map(v=>{if(!v.marked){const F=a.decodeEx(v.address);if(F.dimensions)return y[F.dimensions].marked=!0,{...v.dataValidation,sqref:v.address};let E=1,T=a.encodeAddress(F.row+E,F.col);for(;m[T]&&o.isEqual(v.dataValidation,m[T]);)E++,T=a.encodeAddress(F.row+E,F.col);let I=1;for(;b(F,E,F.col+I);)I++;for(let M=0;M<E;M++)for(let P=0;P<I;P++)T=a.encodeAddress(F.row+M,F.col+P),y[T].marked=!0;if(E>1||I>1){const M=F.row+(E-1),P=F.col+(I-1);return{...v.dataValidation,sqref:`${v.address}:${a.encodeAddress(M,P)}`}}return{...v.dataValidation,sqref:v.address}}return null}).filter(Boolean)})(h);g.length&&(d.openNode("dataValidations",{count:g.length}),g.forEach(m=>{d.openNode("dataValidation"),m.type!=="any"&&(d.addAttribute("type",m.type),m.operator&&m.type!=="list"&&m.operator!=="between"&&d.addAttribute("operator",m.operator),m.allowBlank&&d.addAttribute("allowBlank","1")),m.showInputMessage&&d.addAttribute("showInputMessage","1"),m.promptTitle&&d.addAttribute("promptTitle",m.promptTitle),m.prompt&&d.addAttribute("prompt",m.prompt),m.showErrorMessage&&d.addAttribute("showErrorMessage","1"),m.errorStyle&&d.addAttribute("errorStyle",m.errorStyle),m.errorTitle&&d.addAttribute("errorTitle",m.errorTitle),m.error&&d.addAttribute("error",m.error),d.addAttribute("sqref",m.sqref),(m.formulae||[]).forEach((p,y)=>{d.openNode("formula"+(y+1)),m.type==="date"?d.writeText(s.dateToExcel(new Date(p))):d.writeText(p),d.closeNode()}),d.closeNode()}),d.closeNode())}parseOpen(d){switch(d.name){case"dataValidations":return this.model={},!0;case"dataValidation":{this._address=d.attributes.sqref;const h={type:d.attributes.type||"any",formulae:[]};switch(d.attributes.type&&f(h,d.attributes,"allowBlank"),f(h,d.attributes,"showInputMessage"),f(h,d.attributes,"showErrorMessage"),h.type){case"any":case"list":case"custom":break;default:c(h,d.attributes,"operator","between")}return c(h,d.attributes,"promptTitle"),c(h,d.attributes,"prompt"),c(h,d.attributes,"errorStyle"),c(h,d.attributes,"errorTitle"),c(h,d.attributes,"error"),this._dataValidation=h,!0}case"formula1":case"formula2":return this._formula=[],!0;default:return!1}}parseText(d){this._formula&&this._formula.push(d)}parseClose(d){switch(d){case"dataValidations":return!1;case"dataValidation":return this._dataValidation.formulae&&this._dataValidation.formulae.length||(delete this._dataValidation.formulae,delete this._dataValidation.operator),(this._address.split(/\s+/g)||[]).forEach(h=>{h.includes(":")?new u(h).forEachAddress(g=>{this.model[g]=this._dataValidation}):this.model[h]=this._dataValidation}),!0;case"formula1":case"formula2":{let h=this._formula.join("");switch(this._dataValidation.type){case"whole":case"textLength":h=parseInt(h,10);break;case"decimal":h=parseFloat(h);break;case"date":h=s.excelToDate(parseFloat(h))}return this._dataValidation.formulae.push(h),this._formula=void 0,!0}default:return!0}}}},{"../../../doc/range":10,"../../../utils/col-cache":19,"../../../utils/under-dash":26,"../../../utils/utils":27,"../base-xform":32}],94:[function(r,n,i){const o=r("../base-xform");n.exports=class extends o{get tag(){return"dimension"}render(s,a){a&&s.leafNode("dimension",{ref:a})}parseOpen(s){return s.name==="dimension"&&(this.model=s.attributes.ref,!0)}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],95:[function(r,n,i){const o=r("../base-xform");n.exports=class extends o{get tag(){return"drawing"}render(s,a){a&&s.leafNode(this.tag,{"r:id":a.rId})}parseOpen(s){switch(s.name){case this.tag:return this.model={rId:s.attributes["r:id"]},!0;default:return!1}}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],96:[function(r,n,i){const o=r("../composite-xform"),s=r("./cf-ext/conditional-formattings-ext-xform");class a extends o{constructor(){super(),this.map={"x14:conditionalFormattings":this.conditionalFormattings=new s}}get tag(){return"ext"}hasContent(u){return this.conditionalFormattings.hasContent(u.conditionalFormattings)}prepare(u,c){this.conditionalFormattings.prepare(u.conditionalFormattings,c)}render(u,c){u.openNode("ext",{uri:"{78C0D931-6437-407d-A8EE-F0AAD7539E65}","xmlns:x14":"http://schemas.microsoft.com/office/spreadsheetml/2009/9/main"}),this.conditionalFormattings.render(u,c.conditionalFormattings),u.closeNode()}createNewModel(){return{}}onParserClose(u,c){this.model[u]=c.model}}n.exports=class extends o{constructor(){super(),this.map={ext:this.ext=new a}}get tag(){return"extLst"}prepare(l,u){this.ext.prepare(l,u)}hasContent(l){return this.ext.hasContent(l)}render(l,u){this.hasContent(u)&&(l.openNode("extLst"),this.ext.render(l,u),l.closeNode())}createNewModel(){return{}}onParserClose(l,u){Object.assign(this.model,u.model)}}},{"../composite-xform":48,"./cf-ext/conditional-formattings-ext-xform":78}],97:[function(r,n,i){const o=r("../base-xform");n.exports=class extends o{get tag(){return"headerFooter"}render(s,a){if(a){s.addRollback();let l=!1;s.openNode("headerFooter"),a.differentFirst&&(s.addAttribute("differentFirst","1"),l=!0),a.differentOddEven&&(s.addAttribute("differentOddEven","1"),l=!0),a.oddHeader&&typeof a.oddHeader=="string"&&(s.leafNode("oddHeader",null,a.oddHeader),l=!0),a.oddFooter&&typeof a.oddFooter=="string"&&(s.leafNode("oddFooter",null,a.oddFooter),l=!0),a.evenHeader&&typeof a.evenHeader=="string"&&(s.leafNode("evenHeader",null,a.evenHeader),l=!0),a.evenFooter&&typeof a.evenFooter=="string"&&(s.leafNode("evenFooter",null,a.evenFooter),l=!0),a.firstHeader&&typeof a.firstHeader=="string"&&(s.leafNode("firstHeader",null,a.firstHeader),l=!0),a.firstFooter&&typeof a.firstFooter=="string"&&(s.leafNode("firstFooter",null,a.firstFooter),l=!0),l?(s.closeNode(),s.commit()):s.rollback()}}parseOpen(s){switch(s.name){case"headerFooter":return this.model={},s.attributes.differentFirst&&(this.model.differentFirst=parseInt(s.attributes.differentFirst,0)===1),s.attributes.differentOddEven&&(this.model.differentOddEven=parseInt(s.attributes.differentOddEven,0)===1),!0;case"oddHeader":return this.currentNode="oddHeader",!0;case"oddFooter":return this.currentNode="oddFooter",!0;case"evenHeader":return this.currentNode="evenHeader",!0;case"evenFooter":return this.currentNode="evenFooter",!0;case"firstHeader":return this.currentNode="firstHeader",!0;case"firstFooter":return this.currentNode="firstFooter",!0;default:return!1}}parseText(s){switch(this.currentNode){case"oddHeader":this.model.oddHeader=s;break;case"oddFooter":this.model.oddFooter=s;break;case"evenHeader":this.model.evenHeader=s;break;case"evenFooter":this.model.evenFooter=s;break;case"firstHeader":this.model.firstHeader=s;break;case"firstFooter":this.model.firstFooter=s}}parseClose(){switch(this.currentNode){case"oddHeader":case"oddFooter":case"evenHeader":case"evenFooter":case"firstHeader":case"firstFooter":return this.currentNode=void 0,!0;default:return!1}}}},{"../base-xform":32}],98:[function(r,n,i){const o=r("../base-xform");n.exports=class extends o{get tag(){return"hyperlink"}render(s,a){this.isInternalLink(a)?s.leafNode("hyperlink",{ref:a.address,"r:id":a.rId,tooltip:a.tooltip,location:a.target}):s.leafNode("hyperlink",{ref:a.address,"r:id":a.rId,tooltip:a.tooltip})}parseOpen(s){return s.name==="hyperlink"&&(this.model={address:s.attributes.ref,rId:s.attributes["r:id"],tooltip:s.attributes.tooltip},s.attributes.location&&(this.model.target=s.attributes.location),!0)}parseText(){}parseClose(){return!1}isInternalLink(s){return s.target&&/^[^!]+![a-zA-Z]+[\d]+$/.test(s.target)}}},{"../base-xform":32}],99:[function(r,n,i){const o=r("../base-xform");n.exports=class extends o{get tag(){return"mergeCell"}render(s,a){s.leafNode("mergeCell",{ref:a})}parseOpen(s){return s.name==="mergeCell"&&(this.model=s.attributes.ref,!0)}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],100:[function(r,n,i){const o=r("../../../utils/under-dash"),s=r("../../../doc/range"),a=r("../../../utils/col-cache"),l=r("../../../doc/enums");n.exports=class{constructor(){this.merges={}}add(u){if(this.merges[u.master])this.merges[u.master].expandToAddress(u.address);else{const c=`${u.master}:${u.address}`;this.merges[u.master]=new s(c)}}get mergeCells(){return o.map(this.merges,u=>u.range)}reconcile(u,c){o.each(u,f=>{const d=a.decode(f);for(let h=d.top;h<=d.bottom;h++){const g=c[h-1];for(let m=d.left;m<=d.right;m++){const p=g.cells[m-1];p?p.type===l.ValueType.Merge&&(p.master=d.tl):g.cells[m]={type:l.ValueType.Null,address:a.encodeAddress(h,m)}}}})}getMasterAddress(u){const c=this.hash[u];return c&&c.tl}}},{"../../../doc/enums":7,"../../../doc/range":10,"../../../utils/col-cache":19,"../../../utils/under-dash":26}],101:[function(r,n,i){const o=r("../base-xform"),s=a=>a!==void 0;n.exports=class extends o{get tag(){return"outlinePr"}render(a,l){return!(!l||!s(l.summaryBelow)&&!s(l.summaryRight))&&(a.leafNode(this.tag,{summaryBelow:s(l.summaryBelow)?Number(l.summaryBelow):void 0,summaryRight:s(l.summaryRight)?Number(l.summaryRight):void 0}),!0)}parseOpen(a){return a.name===this.tag&&(this.model={summaryBelow:s(a.attributes.summaryBelow)?!!Number(a.attributes.summaryBelow):void 0,summaryRight:s(a.attributes.summaryRight)?!!Number(a.attributes.summaryRight):void 0},!0)}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],102:[function(r,n,i){const o=r("../base-xform");n.exports=class extends o{get tag(){return"brk"}render(s,a){s.leafNode("brk",a)}parseOpen(s){return s.name==="brk"&&(this.model=s.attributes.ref,!0)}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],103:[function(r,n,i){const o=r("../../../utils/under-dash"),s=r("../base-xform");n.exports=class extends s{get tag(){return"pageMargins"}render(a,l){if(l){const u={left:l.left,right:l.right,top:l.top,bottom:l.bottom,header:l.header,footer:l.footer};o.some(u,c=>c!==void 0)&&a.leafNode(this.tag,u)}}parseOpen(a){switch(a.name){case this.tag:return this.model={left:parseFloat(a.attributes.left||.7),right:parseFloat(a.attributes.right||.7),top:parseFloat(a.attributes.top||.75),bottom:parseFloat(a.attributes.bottom||.75),header:parseFloat(a.attributes.header||.3),footer:parseFloat(a.attributes.footer||.3)},!0;default:return!1}}parseText(){}parseClose(){return!1}}},{"../../../utils/under-dash":26,"../base-xform":32}],104:[function(r,n,i){const o=r("../base-xform");n.exports=class extends o{get tag(){return"pageSetUpPr"}render(s,a){return!(!a||!a.fitToPage)&&(s.leafNode(this.tag,{fitToPage:a.fitToPage?"1":void 0}),!0)}parseOpen(s){return s.name===this.tag&&(this.model={fitToPage:s.attributes.fitToPage==="1"},!0)}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],105:[function(r,n,i){const o=r("../../../utils/under-dash"),s=r("../base-xform");function a(f){return f?"1":void 0}function l(f){switch(f){case"overThenDown":return f;default:return}}function u(f){switch(f){case"atEnd":case"asDisplyed":return f;default:return}}function c(f){switch(f){case"dash":case"blank":case"NA":return f;default:return}}n.exports=class extends s{get tag(){return"pageSetup"}render(f,d){if(d){const h={paperSize:d.paperSize,orientation:d.orientation,horizontalDpi:d.horizontalDpi,verticalDpi:d.verticalDpi,pageOrder:l(d.pageOrder),blackAndWhite:a(d.blackAndWhite),draft:a(d.draft),cellComments:u(d.cellComments),errors:c(d.errors),scale:d.scale,fitToWidth:d.fitToWidth,fitToHeight:d.fitToHeight,firstPageNumber:d.firstPageNumber,useFirstPageNumber:a(d.firstPageNumber),usePrinterDefaults:a(d.usePrinterDefaults),copies:d.copies};o.some(h,g=>g!==void 0)&&f.leafNode(this.tag,h)}}parseOpen(f){switch(f.name){case this.tag:return this.model={paperSize:(d=f.attributes.paperSize,d!==void 0?parseInt(d,10):void 0),orientation:f.attributes.orientation||"portrait",horizontalDpi:parseInt(f.attributes.horizontalDpi||"4294967295",10),verticalDpi:parseInt(f.attributes.verticalDpi||"4294967295",10),pageOrder:f.attributes.pageOrder||"downThenOver",blackAndWhite:f.attributes.blackAndWhite==="1",draft:f.attributes.draft==="1",cellComments:f.attributes.cellComments||"None",errors:f.attributes.errors||"displayed",scale:parseInt(f.attributes.scale||"100",10),fitToWidth:parseInt(f.attributes.fitToWidth||"1",10),fitToHeight:parseInt(f.attributes.fitToHeight||"1",10),firstPageNumber:parseInt(f.attributes.firstPageNumber||"1",10),useFirstPageNumber:f.attributes.useFirstPageNumber==="1",usePrinterDefaults:f.attributes.usePrinterDefaults==="1",copies:parseInt(f.attributes.copies||"1",10)},!0;default:return!1}var d}parseText(){}parseClose(){return!1}}},{"../../../utils/under-dash":26,"../base-xform":32}],106:[function(r,n,i){const o=r("../base-xform");n.exports=class extends o{get tag(){return"picture"}render(s,a){a&&s.leafNode(this.tag,{"r:id":a.rId})}parseOpen(s){switch(s.name){case this.tag:return this.model={rId:s.attributes["r:id"]},!0;default:return!1}}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],107:[function(r,n,i){const o=r("../../../utils/under-dash"),s=r("../base-xform");function a(l){return l?"1":void 0}n.exports=class extends s{get tag(){return"printOptions"}render(l,u){if(u){const c={headings:a(u.showRowColHeaders),gridLines:a(u.showGridLines),horizontalCentered:a(u.horizontalCentered),verticalCentered:a(u.verticalCentered)};o.some(c,f=>f!==void 0)&&l.leafNode(this.tag,c)}}parseOpen(l){switch(l.name){case this.tag:return this.model={showRowColHeaders:l.attributes.headings==="1",showGridLines:l.attributes.gridLines==="1",horizontalCentered:l.attributes.horizontalCentered==="1",verticalCentered:l.attributes.verticalCentered==="1"},!0;default:return!1}}parseText(){}parseClose(){return!1}}},{"../../../utils/under-dash":26,"../base-xform":32}],108:[function(r,n,i){const o=r("./page-breaks-xform"),s=r("../list-xform");n.exports=class extends s{constructor(){super({tag:"rowBreaks",count:!0,childXform:new o})}render(a,l){if(l&&l.length){a.openNode(this.tag,this.$),this.count&&(a.addAttribute(this.$count,l.length),a.addAttribute("manualBreakCount",l.length));const{childXform:u}=this;l.forEach(c=>{u.render(a,c)}),a.closeNode()}else this.empty&&a.leafNode(this.tag)}}},{"../list-xform":71,"./page-breaks-xform":102}],109:[function(r,n,i){const o=r("../base-xform"),s=r("../../../utils/utils"),a=r("./cell-xform");n.exports=class extends o{constructor(l){super(),this.maxItems=l&&l.maxItems,this.map={c:new a}}get tag(){return"row"}prepare(l,u){const c=u.styles.addStyleModel(l.style);c&&(l.styleId=c);const f=this.map.c;l.cells.forEach(d=>{f.prepare(d,u)})}render(l,u,c){l.openNode("row"),l.addAttribute("r",u.number),u.height&&(l.addAttribute("ht",u.height),l.addAttribute("customHeight","1")),u.hidden&&l.addAttribute("hidden","1"),u.min>0&&u.max>0&&u.min<=u.max&&l.addAttribute("spans",`${u.min}:${u.max}`),u.styleId&&(l.addAttribute("s",u.styleId),l.addAttribute("customFormat","1")),l.addAttribute("x14ac:dyDescent","0.25"),u.outlineLevel&&l.addAttribute("outlineLevel",u.outlineLevel),u.collapsed&&l.addAttribute("collapsed","1");const f=this.map.c;u.cells.forEach(d=>{f.render(l,d,c)}),l.closeNode()}parseOpen(l){if(this.parser)return this.parser.parseOpen(l),!0;if(l.name==="row"){this.numRowsSeen+=1;const u=l.attributes.spans?l.attributes.spans.split(":").map(f=>parseInt(f,10)):[void 0,void 0],c=this.model={number:parseInt(l.attributes.r,10),min:u[0],max:u[1],cells:[]};return l.attributes.s&&(c.styleId=parseInt(l.attributes.s,10)),s.parseBoolean(l.attributes.hidden)&&(c.hidden=!0),s.parseBoolean(l.attributes.bestFit)&&(c.bestFit=!0),l.attributes.ht&&(c.height=parseFloat(l.attributes.ht)),l.attributes.outlineLevel&&(c.outlineLevel=parseInt(l.attributes.outlineLevel,10)),s.parseBoolean(l.attributes.collapsed)&&(c.collapsed=!0),!0}return this.parser=this.map[l.name],!!this.parser&&(this.parser.parseOpen(l),!0)}parseText(l){this.parser&&this.parser.parseText(l)}parseClose(l){if(this.parser){if(!this.parser.parseClose(l)){if(this.model.cells.push(this.parser.model),this.maxItems&&this.model.cells.length>this.maxItems)throw new Error(`Max column count (${this.maxItems}) exceeded`);this.parser=void 0}return!0}return!1}reconcile(l,u){l.style=l.styleId?u.styles.getStyleModel(l.styleId):{},l.styleId!==void 0&&(l.styleId=void 0);const c=this.map.c;l.cells.forEach(f=>{c.reconcile(f,u)})}}},{"../../../utils/utils":27,"../base-xform":32,"./cell-xform":73}],110:[function(r,n,i){const o=r("../../../utils/under-dash"),s=r("../base-xform");n.exports=class extends s{get tag(){return"sheetFormatPr"}render(a,l){if(l){const u={defaultRowHeight:l.defaultRowHeight,outlineLevelRow:l.outlineLevelRow,outlineLevelCol:l.outlineLevelCol,"x14ac:dyDescent":l.dyDescent};l.defaultColWidth&&(u.defaultColWidth=l.defaultColWidth),l.defaultRowHeight&&l.defaultRowHeight===15||(u.customHeight="1"),o.some(u,c=>c!==void 0)&&a.leafNode("sheetFormatPr",u)}}parseOpen(a){return a.name==="sheetFormatPr"&&(this.model={defaultRowHeight:parseFloat(a.attributes.defaultRowHeight||"0"),dyDescent:parseFloat(a.attributes["x14ac:dyDescent"]||"0"),outlineLevelRow:parseInt(a.attributes.outlineLevelRow||"0",10),outlineLevelCol:parseInt(a.attributes.outlineLevelCol||"0",10)},a.attributes.defaultColWidth&&(this.model.defaultColWidth=parseFloat(a.attributes.defaultColWidth)),!0)}parseText(){}parseClose(){return!1}}},{"../../../utils/under-dash":26,"../base-xform":32}],111:[function(r,n,i){const o=r("../base-xform"),s=r("../style/color-xform"),a=r("./page-setup-properties-xform"),l=r("./outline-properties-xform");n.exports=class extends o{constructor(){super(),this.map={tabColor:new s("tabColor"),pageSetUpPr:new a,outlinePr:new l}}get tag(){return"sheetPr"}render(u,c){if(c){u.addRollback(),u.openNode("sheetPr");let f=!1;f=this.map.tabColor.render(u,c.tabColor)||f,f=this.map.pageSetUpPr.render(u,c.pageSetup)||f,f=this.map.outlinePr.render(u,c.outlineProperties)||f,f?(u.closeNode(),u.commit()):u.rollback()}}parseOpen(u){return this.parser?(this.parser.parseOpen(u),!0):u.name===this.tag?(this.reset(),!0):!!this.map[u.name]&&(this.parser=this.map[u.name],this.parser.parseOpen(u),!0)}parseText(u){return!!this.parser&&(this.parser.parseText(u),!0)}parseClose(u){return this.parser?(this.parser.parseClose(u)||(this.parser=void 0),!0):(this.map.tabColor.model||this.map.pageSetUpPr.model||this.map.outlinePr.model?(this.model={},this.map.tabColor.model&&(this.model.tabColor=this.map.tabColor.model),this.map.pageSetUpPr.model&&(this.model.pageSetup=this.map.pageSetUpPr.model),this.map.outlinePr.model&&(this.model.outlineProperties=this.map.outlinePr.model)):this.model=null,!1)}}},{"../base-xform":32,"../style/color-xform":128,"./outline-properties-xform":101,"./page-setup-properties-xform":104}],112:[function(r,n,i){const o=r("../../../utils/under-dash"),s=r("../base-xform");function a(u,c){return u?c:void 0}function l(u,c){return u===c||void 0}n.exports=class extends s{get tag(){return"sheetProtection"}render(u,c){if(c){const f={sheet:a(c.sheet,"1"),selectLockedCells:c.selectLockedCells===!1?"1":void 0,selectUnlockedCells:c.selectUnlockedCells===!1?"1":void 0,formatCells:a(c.formatCells,"0"),formatColumns:a(c.formatColumns,"0"),formatRows:a(c.formatRows,"0"),insertColumns:a(c.insertColumns,"0"),insertRows:a(c.insertRows,"0"),insertHyperlinks:a(c.insertHyperlinks,"0"),deleteColumns:a(c.deleteColumns,"0"),deleteRows:a(c.deleteRows,"0"),sort:a(c.sort,"0"),autoFilter:a(c.autoFilter,"0"),pivotTables:a(c.pivotTables,"0")};c.sheet&&(f.algorithmName=c.algorithmName,f.hashValue=c.hashValue,f.saltValue=c.saltValue,f.spinCount=c.spinCount,f.objects=a(c.objects===!1,"1"),f.scenarios=a(c.scenarios===!1,"1")),o.some(f,d=>d!==void 0)&&u.leafNode(this.tag,f)}}parseOpen(u){switch(u.name){case this.tag:return this.model={sheet:l(u.attributes.sheet,"1"),objects:u.attributes.objects!=="1"&&void 0,scenarios:u.attributes.scenarios!=="1"&&void 0,selectLockedCells:u.attributes.selectLockedCells!=="1"&&void 0,selectUnlockedCells:u.attributes.selectUnlockedCells!=="1"&&void 0,formatCells:l(u.attributes.formatCells,"0"),formatColumns:l(u.attributes.formatColumns,"0"),formatRows:l(u.attributes.formatRows,"0"),insertColumns:l(u.attributes.insertColumns,"0"),insertRows:l(u.attributes.insertRows,"0"),insertHyperlinks:l(u.attributes.insertHyperlinks,"0"),deleteColumns:l(u.attributes.deleteColumns,"0"),deleteRows:l(u.attributes.deleteRows,"0"),sort:l(u.attributes.sort,"0"),autoFilter:l(u.attributes.autoFilter,"0"),pivotTables:l(u.attributes.pivotTables,"0")},u.attributes.algorithmName&&(this.model.algorithmName=u.attributes.algorithmName,this.model.hashValue=u.attributes.hashValue,this.model.saltValue=u.attributes.saltValue,this.model.spinCount=parseInt(u.attributes.spinCount,10)),!0;default:return!1}}parseText(){}parseClose(){return!1}}},{"../../../utils/under-dash":26,"../base-xform":32}],113:[function(r,n,i){const o=r("../../../utils/col-cache"),s=r("../base-xform"),a={frozen:"frozen",frozenSplit:"frozen",split:"split"};n.exports=class extends s{get tag(){return"sheetView"}prepare(l){switch(l.state){case"frozen":case"split":break;default:l.state="normal"}}render(l,u){l.openNode("sheetView",{workbookViewId:u.workbookViewId||0});const c=function(m,p,y){y&&l.addAttribute(m,p)};let f,d,h,g;switch(c("rightToLeft","1",u.rightToLeft===!0),c("tabSelected","1",u.tabSelected),c("showRuler","0",u.showRuler===!1),c("showRowColHeaders","0",u.showRowColHeaders===!1),c("showGridLines","0",u.showGridLines===!1),c("zoomScale",u.zoomScale,u.zoomScale),c("zoomScaleNormal",u.zoomScaleNormal,u.zoomScaleNormal),c("view",u.style,u.style),u.state){case"frozen":d=u.xSplit||0,h=u.ySplit||0,f=u.topLeftCell||o.getAddress(h+1,d+1).address,g=(u.xSplit&&u.ySplit?"bottomRight":u.xSplit&&"topRight")||"bottomLeft",l.leafNode("pane",{xSplit:u.xSplit||void 0,ySplit:u.ySplit||void 0,topLeftCell:f,activePane:g,state:"frozen"}),l.leafNode("selection",{pane:g,activeCell:u.activeCell,sqref:u.activeCell});break;case"split":u.activePane==="topLeft"&&(u.activePane=void 0),l.leafNode("pane",{xSplit:u.xSplit||void 0,ySplit:u.ySplit||void 0,topLeftCell:u.topLeftCell,activePane:u.activePane}),l.leafNode("selection",{pane:u.activePane,activeCell:u.activeCell,sqref:u.activeCell});break;case"normal":u.activeCell&&l.leafNode("selection",{activeCell:u.activeCell,sqref:u.activeCell})}l.closeNode()}parseOpen(l){switch(l.name){case"sheetView":return this.sheetView={workbookViewId:parseInt(l.attributes.workbookViewId,10),rightToLeft:l.attributes.rightToLeft==="1",tabSelected:l.attributes.tabSelected==="1",showRuler:l.attributes.showRuler!=="0",showRowColHeaders:l.attributes.showRowColHeaders!=="0",showGridLines:l.attributes.showGridLines!=="0",zoomScale:parseInt(l.attributes.zoomScale||"100",10),zoomScaleNormal:parseInt(l.attributes.zoomScaleNormal||"100",10),style:l.attributes.view},this.pane=void 0,this.selections={},!0;case"pane":return this.pane={xSplit:parseInt(l.attributes.xSplit||"0",10),ySplit:parseInt(l.attributes.ySplit||"0",10),topLeftCell:l.attributes.topLeftCell,activePane:l.attributes.activePane||"topLeft",state:l.attributes.state},!0;case"selection":{const u=l.attributes.pane||"topLeft";return this.selections[u]={pane:u,activeCell:l.attributes.activeCell},!0}default:return!1}}parseText(){}parseClose(l){let u,c;switch(l){case"sheetView":return this.sheetView&&this.pane?(u=this.model={workbookViewId:this.sheetView.workbookViewId,rightToLeft:this.sheetView.rightToLeft,state:a[this.pane.state]||"split",xSplit:this.pane.xSplit,ySplit:this.pane.ySplit,topLeftCell:this.pane.topLeftCell,showRuler:this.sheetView.showRuler,showRowColHeaders:this.sheetView.showRowColHeaders,showGridLines:this.sheetView.showGridLines,zoomScale:this.sheetView.zoomScale,zoomScaleNormal:this.sheetView.zoomScaleNormal},this.model.state==="split"&&(u.activePane=this.pane.activePane),c=this.selections[this.pane.activePane],c&&c.activeCell&&(u.activeCell=c.activeCell),this.sheetView.style&&(u.style=this.sheetView.style)):(u=this.model={workbookViewId:this.sheetView.workbookViewId,rightToLeft:this.sheetView.rightToLeft,state:"normal",showRuler:this.sheetView.showRuler,showRowColHeaders:this.sheetView.showRowColHeaders,showGridLines:this.sheetView.showGridLines,zoomScale:this.sheetView.zoomScale,zoomScaleNormal:this.sheetView.zoomScaleNormal},c=this.selections.topLeft,c&&c.activeCell&&(u.activeCell=c.activeCell),this.sheetView.style&&(u.style=this.sheetView.style)),!1;default:return!0}}reconcile(){}}},{"../../../utils/col-cache":19,"../base-xform":32}],114:[function(r,n,i){const o=r("../base-xform");n.exports=class extends o{get tag(){return"tablePart"}render(s,a){a&&s.leafNode(this.tag,{"r:id":a.rId})}parseOpen(s){switch(s.name){case this.tag:return this.model={rId:s.attributes["r:id"]},!0;default:return!1}}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],115:[function(r,n,i){const o=r("../../../utils/under-dash"),s=r("../../../utils/col-cache"),a=r("../../../utils/xml-stream"),l=r("../../rel-type"),u=r("./merges"),c=r("../base-xform"),f=r("../list-xform"),d=r("./row-xform"),h=r("./col-xform"),g=r("./dimension-xform"),m=r("./hyperlink-xform"),p=r("./merge-cell-xform"),y=r("./data-validations-xform"),b=r("./sheet-properties-xform"),v=r("./sheet-format-properties-xform"),F=r("./sheet-view-xform"),E=r("./sheet-protection-xform"),T=r("./page-margins-xform"),I=r("./page-setup-xform"),M=r("./print-options-xform"),P=r("./auto-filter-xform"),O=r("./picture-xform"),z=r("./drawing-xform"),L=r("./table-part-xform"),_=r("./row-breaks-xform"),R=r("./header-footer-xform"),k=r("./cf/conditional-formattings-xform"),S=r("./ext-lst-xform"),w=(x,A)=>{if(!A||!A.length)return x;if(!x||!x.length)return A;const D={},B={};return x.forEach(V=>{D[V.ref]=V,V.rules.forEach(j=>{const{x14Id:K}=j;K&&(B[K]=j)})}),A.forEach(V=>{V.rules.forEach(j=>{const K=B[j.x14Id];K?((G,Y)=>{Object.keys(Y).forEach(H=>{const N=G[H],$=Y[H];N===void 0&&$!==void 0&&(G[H]=$)})})(K,j):D[V.ref]?D[V.ref].rules.push(j):x.push({ref:V.ref,rules:[j]})})}),x};class C extends c{constructor(A){super();const{maxRows:D,maxCols:B,ignoreNodes:V}=A||{};this.ignoreNodes=V||[],this.map={sheetPr:new b,dimension:new g,sheetViews:new f({tag:"sheetViews",count:!1,childXform:new F}),sheetFormatPr:new v,cols:new f({tag:"cols",count:!1,childXform:new h}),sheetData:new f({tag:"sheetData",count:!1,empty:!0,childXform:new d({maxItems:B}),maxItems:D}),autoFilter:new P,mergeCells:new f({tag:"mergeCells",count:!0,childXform:new p}),rowBreaks:new _,hyperlinks:new f({tag:"hyperlinks",count:!1,childXform:new m}),pageMargins:new T,dataValidations:new y,pageSetup:new I,headerFooter:new R,printOptions:new M,picture:new O,drawing:new z,sheetProtection:new E,tableParts:new f({tag:"tableParts",count:!0,childXform:new L}),conditionalFormatting:new k,extLst:new S}}prepare(A,D){D.merges=new u,A.hyperlinks=D.hyperlinks=[],A.comments=D.comments=[],D.formulae={},D.siFormulae=0,this.map.cols.prepare(A.cols,D),this.map.sheetData.prepare(A.rows,D),this.map.conditionalFormatting.prepare(A.conditionalFormattings,D),A.mergeCells=D.merges.mergeCells;const B=A.rels=[];function V(G){return"rId"+(G.length+1)}if(A.hyperlinks.forEach(G=>{const Y=V(B);G.rId=Y,B.push({Id:Y,Type:l.Hyperlink,Target:G.target,TargetMode:"External"})}),A.comments.length>0){const G={Id:V(B),Type:l.Comments,Target:`../comments${A.id}.xml`};B.push(G);const Y={Id:V(B),Type:l.VmlDrawing,Target:`../drawings/vmlDrawing${A.id}.vml`};B.push(Y),A.comments.forEach(H=>{H.refAddress=s.decodeAddress(H.ref)}),D.commentRefs.push({commentName:"comments"+A.id,vmlDrawing:"vmlDrawing"+A.id})}const j=[];let K;A.media.forEach(G=>{if(G.type==="background"){const Y=V(B);K=D.media[G.imageId],B.push({Id:Y,Type:l.Image,Target:`../media/${K.name}.${K.extension}`}),A.background={rId:Y},A.image=D.media[G.imageId]}else if(G.type==="image"){let{drawing:Y}=A;K=D.media[G.imageId],Y||(Y=A.drawing={rId:V(B),name:"drawing"+ ++D.drawingsCount,anchors:[],rels:[]},D.drawings.push(Y),B.push({Id:Y.rId,Type:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/drawing",Target:`../drawings/${Y.name}.xml`}));let H=this.preImageId===G.imageId?j[G.imageId]:j[Y.rels.length];H||(H=V(Y.rels),j[Y.rels.length]=H,Y.rels.push({Id:H,Type:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/image",Target:`../media/${K.name}.${K.extension}`}));const N={picture:{rId:H},range:G.range};if(G.hyperlinks&&G.hyperlinks.hyperlink){const $=V(Y.rels);j[Y.rels.length]=$,N.picture.hyperlinks={tooltip:G.hyperlinks.tooltip,rId:$},Y.rels.push({Id:$,Type:l.Hyperlink,Target:G.hyperlinks.hyperlink,TargetMode:"External"})}this.preImageId=G.imageId,Y.anchors.push(N)}}),A.tables.forEach(G=>{const Y=V(B);G.rId=Y,B.push({Id:Y,Type:l.Table,Target:"../tables/"+G.target}),G.columns.forEach(H=>{const{style:N}=H;N&&(H.dxfId=D.styles.addDxfStyle(N))})}),this.map.extLst.prepare(A,D)}render(A,D){A.openXml(a.StdDocAttributes),A.openNode("worksheet",C.WORKSHEET_ATTRIBUTES);const B=D.properties?{defaultRowHeight:D.properties.defaultRowHeight,dyDescent:D.properties.dyDescent,outlineLevelCol:D.properties.outlineLevelCol,outlineLevelRow:D.properties.outlineLevelRow}:void 0;D.properties&&D.properties.defaultColWidth&&(B.defaultColWidth=D.properties.defaultColWidth);const V={outlineProperties:D.properties&&D.properties.outlineProperties,tabColor:D.properties&&D.properties.tabColor,pageSetup:D.pageSetup&&D.pageSetup.fitToPage?{fitToPage:D.pageSetup.fitToPage}:void 0},j=D.pageSetup&&D.pageSetup.margins,K={showRowColHeaders:D.pageSetup&&D.pageSetup.showRowColHeaders,showGridLines:D.pageSetup&&D.pageSetup.showGridLines,horizontalCentered:D.pageSetup&&D.pageSetup.horizontalCentered,verticalCentered:D.pageSetup&&D.pageSetup.verticalCentered},G=D.sheetProtection;this.map.sheetPr.render(A,V),this.map.dimension.render(A,D.dimensions),this.map.sheetViews.render(A,D.views),this.map.sheetFormatPr.render(A,B),this.map.cols.render(A,D.cols),this.map.sheetData.render(A,D.rows),this.map.sheetProtection.render(A,G),this.map.autoFilter.render(A,D.autoFilter),this.map.mergeCells.render(A,D.mergeCells),this.map.conditionalFormatting.render(A,D.conditionalFormattings),this.map.dataValidations.render(A,D.dataValidations),this.map.hyperlinks.render(A,D.hyperlinks),this.map.printOptions.render(A,K),this.map.pageMargins.render(A,j),this.map.pageSetup.render(A,D.pageSetup),this.map.headerFooter.render(A,D.headerFooter),this.map.rowBreaks.render(A,D.rowBreaks),this.map.drawing.render(A,D.drawing),this.map.picture.render(A,D.background),this.map.tableParts.render(A,D.tables),this.map.extLst.render(A,D),D.rels&&D.rels.forEach(Y=>{Y.Type===l.VmlDrawing&&A.leafNode("legacyDrawing",{"r:id":Y.Id})}),A.closeNode()}parseOpen(A){return this.parser?(this.parser.parseOpen(A),!0):A.name==="worksheet"?(o.each(this.map,D=>{D.reset()}),!0):(this.map[A.name]&&!this.ignoreNodes.includes(A.name)&&(this.parser=this.map[A.name],this.parser.parseOpen(A)),!0)}parseText(A){this.parser&&this.parser.parseText(A)}parseClose(A){if(this.parser)return this.parser.parseClose(A)||(this.parser=void 0),!0;switch(A){case"worksheet":{const D=this.map.sheetFormatPr.model||{};this.map.sheetPr.model&&this.map.sheetPr.model.tabColor&&(D.tabColor=this.map.sheetPr.model.tabColor),this.map.sheetPr.model&&this.map.sheetPr.model.outlineProperties&&(D.outlineProperties=this.map.sheetPr.model.outlineProperties);const B={fitToPage:this.map.sheetPr.model&&this.map.sheetPr.model.pageSetup&&this.map.sheetPr.model.pageSetup.fitToPage||!1,margins:this.map.pageMargins.model},V=Object.assign(B,this.map.pageSetup.model,this.map.printOptions.model),j=w(this.map.conditionalFormatting.model,this.map.extLst.model&&this.map.extLst.model["x14:conditionalFormattings"]);return this.model={dimensions:this.map.dimension.model,cols:this.map.cols.model,rows:this.map.sheetData.model,mergeCells:this.map.mergeCells.model,hyperlinks:this.map.hyperlinks.model,dataValidations:this.map.dataValidations.model,properties:D,views:this.map.sheetViews.model,pageSetup:V,headerFooter:this.map.headerFooter.model,background:this.map.picture.model,drawing:this.map.drawing.model,tables:this.map.tableParts.model,conditionalFormattings:j},this.map.autoFilter.model&&(this.model.autoFilter=this.map.autoFilter.model),this.map.sheetProtection.model&&(this.model.sheetProtection=this.map.sheetProtection.model),!1}default:return!0}}reconcile(A,D){const B=(A.relationships||[]).reduce((j,K)=>{if(j[K.Id]=K,K.Type===l.Comments&&(A.comments=D.comments[K.Target].comments),K.Type===l.VmlDrawing&&A.comments&&A.comments.length){const G=D.vmlDrawings[K.Target].comments;A.comments.forEach((Y,H)=>{Y.note=Object.assign({},Y.note,G[H])})}return j},{});if(D.commentsMap=(A.comments||[]).reduce((j,K)=>(K.ref&&(j[K.ref]=K),j),{}),D.hyperlinkMap=(A.hyperlinks||[]).reduce((j,K)=>(K.rId&&(j[K.address]=B[K.rId].Target),j),{}),D.formulae={},A.rows=A.rows&&A.rows.filter(Boolean)||[],A.rows.forEach(j=>{j.cells=j.cells&&j.cells.filter(Boolean)||[]}),this.map.cols.reconcile(A.cols,D),this.map.sheetData.reconcile(A.rows,D),this.map.conditionalFormatting.reconcile(A.conditionalFormattings,D),A.media=[],A.drawing){const j=B[A.drawing.rId].Target.match(/\/drawings\/([a-zA-Z0-9]+)[.][a-zA-Z]{3,4}$/);if(j){const K=j[1];D.drawings[K].anchors.forEach(G=>{if(G.medium){const Y={type:"image",imageId:G.medium.index,range:G.range,hyperlinks:G.picture.hyperlinks};A.media.push(Y)}})}}const V=A.background&&B[A.background.rId];if(V){const j=V.Target.split("/media/")[1],K=D.mediaIndex&&D.mediaIndex[j];K!==void 0&&A.media.push({type:"background",imageId:K})}A.tables=(A.tables||[]).map(j=>{const K=B[j.rId];return D.tables[K.Target]}),delete A.relationships,delete A.hyperlinks,delete A.comments}}C.WORKSHEET_ATTRIBUTES={xmlns:"http://schemas.openxmlformats.org/spreadsheetml/2006/main","xmlns:r":"http://schemas.openxmlformats.org/officeDocument/2006/relationships","xmlns:mc":"http://schemas.openxmlformats.org/markup-compatibility/2006","mc:Ignorable":"x14ac","xmlns:x14ac":"http://schemas.microsoft.com/office/spreadsheetml/2009/9/ac"},n.exports=C},{"../../../utils/col-cache":19,"../../../utils/under-dash":26,"../../../utils/xml-stream":28,"../../rel-type":31,"../base-xform":32,"../list-xform":71,"./auto-filter-xform":72,"./cf/conditional-formattings-xform":87,"./col-xform":92,"./data-validations-xform":93,"./dimension-xform":94,"./drawing-xform":95,"./ext-lst-xform":96,"./header-footer-xform":97,"./hyperlink-xform":98,"./merge-cell-xform":99,"./merges":100,"./page-margins-xform":103,"./page-setup-xform":105,"./picture-xform":106,"./print-options-xform":107,"./row-breaks-xform":108,"./row-xform":109,"./sheet-format-properties-xform":110,"./sheet-properties-xform":111,"./sheet-protection-xform":112,"./sheet-view-xform":113,"./table-part-xform":114}],116:[function(r,n,i){const o=r("../base-xform");n.exports=class extends o{constructor(s){super(),this.tag=s.tag,this.attr=s.attr}render(s,a){a&&(s.openNode(this.tag),s.closeNode())}parseOpen(s){s.name===this.tag&&(this.model=!0)}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],117:[function(r,n,i){const o=r("../base-xform");n.exports=class extends o{constructor(s){super(),this.tag=s.tag,this.attr=s.attr,this.attrs=s.attrs,this._format=s.format||function(a){try{return Number.isNaN(a.getTime())?"":a.toISOString()}catch{return""}},this._parse=s.parse||function(a){return new Date(a)}}render(s,a){a&&(s.openNode(this.tag),this.attrs&&s.addAttributes(this.attrs),this.attr?s.addAttribute(this.attr,this._format(a)):s.writeText(this._format(a)),s.closeNode())}parseOpen(s){s.name===this.tag&&(this.attr?this.model=this._parse(s.attributes[this.attr]):this.text=[])}parseText(s){this.attr||this.text.push(s)}parseClose(){return this.attr||(this.model=this._parse(this.text.join(""))),!1}}},{"../base-xform":32}],118:[function(r,n,i){const o=r("../base-xform");n.exports=class extends o{constructor(s){super(),this.tag=s.tag,this.attr=s.attr,this.attrs=s.attrs,this.zero=s.zero}render(s,a){(a||this.zero)&&(s.openNode(this.tag),this.attrs&&s.addAttributes(this.attrs),this.attr?s.addAttribute(this.attr,a):s.writeText(a),s.closeNode())}parseOpen(s){return s.name===this.tag&&(this.attr?this.model=parseInt(s.attributes[this.attr],10):this.text=[],!0)}parseText(s){this.attr||this.text.push(s)}parseClose(){return this.attr||(this.model=parseInt(this.text.join("")||0,10)),!1}}},{"../base-xform":32}],119:[function(r,n,i){const o=r("../base-xform");n.exports=class extends o{constructor(s){super(),this.tag=s.tag,this.attr=s.attr,this.attrs=s.attrs}render(s,a){a!==void 0&&(s.openNode(this.tag),this.attrs&&s.addAttributes(this.attrs),this.attr?s.addAttribute(this.attr,a):s.writeText(a),s.closeNode())}parseOpen(s){s.name===this.tag&&(this.attr?this.model=s.attributes[this.attr]:this.text=[])}parseText(s){this.attr||this.text.push(s)}parseClose(){return this.attr||(this.model=this.text.join("")),!1}}},{"../base-xform":32}],120:[function(r,n,i){const o=r("./base-xform"),s=r("../../utils/xml-stream");n.exports=class extends o{constructor(a){super(),this._model=a}render(a){if(!this._xml){const l=new s;(function u(c,f){c.openNode(f.tag,f.$),f.c&&f.c.forEach(d=>{u(c,d)}),f.t&&c.writeText(f.t),c.closeNode()})(l,this._model),this._xml=l.xml}a.writeXml(this._xml)}parseOpen(){return!0}parseText(){}parseClose(a){switch(a){case this._model.tag:return!1;default:return!0}}}},{"../../utils/xml-stream":28,"./base-xform":32}],121:[function(r,n,i){const o=r("./text-xform"),s=r("./rich-text-xform"),a=r("../base-xform");n.exports=class extends a{constructor(){super(),this.map={r:new s,t:new o}}get tag(){return"rPh"}render(l,u){if(l.openNode(this.tag,{sb:u.sb||0,eb:u.eb||0}),u&&u.hasOwnProperty("richText")&&u.richText){const{r:c}=this.map;u.richText.forEach(f=>{c.render(l,f)})}else u&&this.map.t.render(l,u.text);l.closeNode()}parseOpen(l){const{name:u}=l;return this.parser?(this.parser.parseOpen(l),!0):u===this.tag?(this.model={sb:parseInt(l.attributes.sb,10),eb:parseInt(l.attributes.eb,10)},!0):(this.parser=this.map[u],!!this.parser&&(this.parser.parseOpen(l),!0))}parseText(l){this.parser&&this.parser.parseText(l)}parseClose(l){if(this.parser){if(!this.parser.parseClose(l)){switch(l){case"r":{let u=this.model.richText;u||(u=this.model.richText=[]),u.push(this.parser.model);break}case"t":this.model.text=this.parser.model}this.parser=void 0}return!0}switch(l){case this.tag:return!1;default:return!0}}}},{"../base-xform":32,"./rich-text-xform":122,"./text-xform":125}],122:[function(r,n,i){const o=r("./text-xform"),s=r("../style/font-xform"),a=r("../base-xform");class l extends a{constructor(c){super(),this.model=c}get tag(){return"r"}get textXform(){return this._textXform||(this._textXform=new o)}get fontXform(){return this._fontXform||(this._fontXform=new s(l.FONT_OPTIONS))}render(c,f){f=f||this.model,c.openNode("r"),f.font&&this.fontXform.render(c,f.font),this.textXform.render(c,f.text),c.closeNode()}parseOpen(c){if(this.parser)return this.parser.parseOpen(c),!0;switch(c.name){case"r":return this.model={},!0;case"t":return this.parser=this.textXform,this.parser.parseOpen(c),!0;case"rPr":return this.parser=this.fontXform,this.parser.parseOpen(c),!0;default:return!1}}parseText(c){this.parser&&this.parser.parseText(c)}parseClose(c){switch(c){case"r":return!1;case"t":return this.model.text=this.parser.model,this.parser=void 0,!0;case"rPr":return this.model.font=this.parser.model,this.parser=void 0,!0;default:return this.parser&&this.parser.parseClose(c),!0}}}l.FONT_OPTIONS={tagName:"rPr",fontNameTag:"rFont"},n.exports=l},{"../base-xform":32,"../style/font-xform":131,"./text-xform":125}],123:[function(r,n,i){const o=r("./text-xform"),s=r("./rich-text-xform"),a=r("./phonetic-text-xform"),l=r("../base-xform");n.exports=class extends l{constructor(u){super(),this.model=u,this.map={r:new s,t:new o,rPh:new a}}get tag(){return"si"}render(u,c){u.openNode(this.tag),c&&c.hasOwnProperty("richText")&&c.richText?c.richText.length?c.richText.forEach(f=>{this.map.r.render(u,f)}):this.map.t.render(u,""):c!=null&&this.map.t.render(u,c),u.closeNode()}parseOpen(u){const{name:c}=u;return this.parser?(this.parser.parseOpen(u),!0):c===this.tag?(this.model={},!0):(this.parser=this.map[c],!!this.parser&&(this.parser.parseOpen(u),!0))}parseText(u){this.parser&&this.parser.parseText(u)}parseClose(u){if(this.parser){if(!this.parser.parseClose(u)){switch(u){case"r":{let c=this.model.richText;c||(c=this.model.richText=[]),c.push(this.parser.model);break}case"t":this.model=this.parser.model}this.parser=void 0}return!0}switch(u){case this.tag:return!1;default:return!0}}}},{"../base-xform":32,"./phonetic-text-xform":121,"./rich-text-xform":122,"./text-xform":125}],124:[function(r,n,i){const o=r("../../../utils/xml-stream"),s=r("../base-xform"),a=r("./shared-string-xform");n.exports=class extends s{constructor(l){super(),this.model=l||{values:[],count:0},this.hash=Object.create(null),this.rich=Object.create(null)}get sharedStringXform(){return this._sharedStringXform||(this._sharedStringXform=new a)}get values(){return this.model.values}get uniqueCount(){return this.model.values.length}get count(){return this.model.count}getString(l){return this.model.values[l]}add(l){return l.richText?this.addRichText(l):this.addText(l)}addText(l){let u=this.hash[l];return u===void 0&&(u=this.hash[l]=this.model.values.length,this.model.values.push(l)),this.model.count++,u}addRichText(l){const u=this.sharedStringXform.toXml(l);let c=this.rich[u];return c===void 0&&(c=this.rich[u]=this.model.values.length,this.model.values.push(l)),this.model.count++,c}render(l,u){u=u||this._values,l.openXml(o.StdDocAttributes),l.openNode("sst",{xmlns:"http://schemas.openxmlformats.org/spreadsheetml/2006/main",count:u.count,uniqueCount:u.values.length});const c=this.sharedStringXform;u.values.forEach(f=>{c.render(l,f)}),l.closeNode()}parseOpen(l){if(this.parser)return this.parser.parseOpen(l),!0;switch(l.name){case"sst":return!0;case"si":return this.parser=this.sharedStringXform,this.parser.parseOpen(l),!0;default:throw new Error("Unexpected xml node in parseOpen: "+JSON.stringify(l))}}parseText(l){this.parser&&this.parser.parseText(l)}parseClose(l){if(this.parser)return this.parser.parseClose(l)||(this.model.values.push(this.parser.model),this.model.count++,this.parser=void 0),!0;switch(l){case"sst":return!1;default:throw new Error("Unexpected xml node in parseClose: "+l)}}}},{"../../../utils/xml-stream":28,"../base-xform":32,"./shared-string-xform":123}],125:[function(r,n,i){const o=r("../base-xform");n.exports=class extends o{get tag(){return"t"}render(s,a){s.openNode("t"),/^\s|\n|\s$/.test(a)&&s.addAttribute("xml:space","preserve"),s.writeText(a),s.closeNode()}get model(){return this._text.join("").replace(/_x([0-9A-F]{4})_/g,(s,a)=>String.fromCharCode(parseInt(a,16)))}parseOpen(s){switch(s.name){case"t":return this._text=[],!0;default:return!1}}parseText(s){this._text.push(s)}parseClose(){return!1}}},{"../base-xform":32}],126:[function(r,n,i){const o=r("../../../doc/enums"),s=r("../../../utils/utils"),a=r("../base-xform"),l={horizontalValues:["left","center","right","fill","centerContinuous","distributed","justify"].reduce((c,f)=>(c[f]=!0,c),{}),horizontal(c){return this.horizontalValues[c]?c:void 0},verticalValues:["top","middle","bottom","distributed","justify"].reduce((c,f)=>(c[f]=!0,c),{}),vertical(c){return c==="middle"?"center":this.verticalValues[c]?c:void 0},wrapText:c=>!!c||void 0,shrinkToFit:c=>!!c||void 0,textRotation(c){switch(c){case"vertical":return c;default:return(c=s.validInt(c))>=-90&&c<=90?c:void 0}},indent:c=>(c=s.validInt(c),Math.max(0,c)),readingOrder(c){switch(c){case"ltr":return o.ReadingOrder.LeftToRight;case"rtl":return o.ReadingOrder.RightToLeft;default:return}}},u={toXml(c){if(c=l.textRotation(c)){if(c==="vertical")return 255;const f=Math.round(c);if(f>=0&&f<=90)return f;if(f<0&&f>=-90)return 90-f}},toModel(c){const f=s.validInt(c);if(f!==void 0){if(f===255)return"vertical";if(f>=0&&f<=90)return f;if(f>90&&f<=180)return 90-f}}};n.exports=class extends a{get tag(){return"alignment"}render(c,f){c.addRollback(),c.openNode("alignment");let d=!1;function h(g,m){m&&(c.addAttribute(g,m),d=!0)}h("horizontal",l.horizontal(f.horizontal)),h("vertical",l.vertical(f.vertical)),h("wrapText",!!l.wrapText(f.wrapText)&&"1"),h("shrinkToFit",!!l.shrinkToFit(f.shrinkToFit)&&"1"),h("indent",l.indent(f.indent)),h("textRotation",u.toXml(f.textRotation)),h("readingOrder",l.readingOrder(f.readingOrder)),c.closeNode(),d?c.commit():c.rollback()}parseOpen(c){const f={};let d=!1;function h(g,m,p){g&&(f[m]=p,d=!0)}h(c.attributes.horizontal,"horizontal",c.attributes.horizontal),h(c.attributes.vertical,"vertical",c.attributes.vertical==="center"?"middle":c.attributes.vertical),h(c.attributes.wrapText,"wrapText",s.parseBoolean(c.attributes.wrapText)),h(c.attributes.shrinkToFit,"shrinkToFit",s.parseBoolean(c.attributes.shrinkToFit)),h(c.attributes.indent,"indent",parseInt(c.attributes.indent,10)),h(c.attributes.textRotation,"textRotation",u.toModel(c.attributes.textRotation)),h(c.attributes.readingOrder,"readingOrder",c.attributes.readingOrder==="2"?"rtl":"ltr"),this.model=d?f:null}parseText(){}parseClose(){return!1}}},{"../../../doc/enums":7,"../../../utils/utils":27,"../base-xform":32}],127:[function(r,n,i){const o=r("../base-xform"),s=r("../../../utils/utils"),a=r("./color-xform");class l extends o{constructor(c){super(),this.name=c,this.map={color:new a}}get tag(){return this.name}render(c,f,d){const h=f&&f.color||d||this.defaultColor;c.openNode(this.name),f&&f.style&&(c.addAttribute("style",f.style),h&&this.map.color.render(c,h)),c.closeNode()}parseOpen(c){if(this.parser)return this.parser.parseOpen(c),!0;switch(c.name){case this.name:{const{style:f}=c.attributes;return this.model=f?{style:f}:void 0,!0}case"color":return this.parser=this.map.color,this.parser.parseOpen(c),!0;default:return!1}}parseText(c){this.parser&&this.parser.parseText(c)}parseClose(c){return this.parser?(this.parser.parseClose(c)||(this.parser=void 0),!0):(c===this.name&&this.map.color.model&&(this.model||(this.model={}),this.model.color=this.map.color.model),!1)}validStyle(c){return l.validStyleValues[c]}}l.validStyleValues=["thin","dashed","dotted","dashDot","hair","dashDotDot","slantDashDot","mediumDashed","mediumDashDotDot","mediumDashDot","medium","double","thick"].reduce((u,c)=>(u[c]=!0,u),{}),n.exports=class extends o{constructor(){super(),this.map={top:new l("top"),left:new l("left"),bottom:new l("bottom"),right:new l("right"),diagonal:new l("diagonal")}}render(u,c){const{color:f}=c;function d(h,g){h&&!h.color&&c.color&&(h={...h,color:c.color}),g.render(u,h,f)}u.openNode("border"),c.diagonal&&c.diagonal.style&&(c.diagonal.up&&u.addAttribute("diagonalUp","1"),c.diagonal.down&&u.addAttribute("diagonalDown","1")),d(c.left,this.map.left),d(c.right,this.map.right),d(c.top,this.map.top),d(c.bottom,this.map.bottom),d(c.diagonal,this.map.diagonal),u.closeNode()}parseOpen(u){if(this.parser)return this.parser.parseOpen(u),!0;switch(u.name){case"border":return this.reset(),this.diagonalUp=s.parseBoolean(u.attributes.diagonalUp),this.diagonalDown=s.parseBoolean(u.attributes.diagonalDown),!0;default:return this.parser=this.map[u.name],!!this.parser&&(this.parser.parseOpen(u),!0)}}parseText(u){this.parser&&this.parser.parseText(u)}parseClose(u){if(this.parser)return this.parser.parseClose(u)||(this.parser=void 0),!0;if(u==="border"){const c=this.model={},f=function(d,h,g){h&&(g&&Object.assign(h,g),c[d]=h)};f("left",this.map.left.model),f("right",this.map.right.model),f("top",this.map.top.model),f("bottom",this.map.bottom.model),f("diagonal",this.map.diagonal.model,{up:this.diagonalUp,down:this.diagonalDown})}return!1}}},{"../../../utils/utils":27,"../base-xform":32,"./color-xform":128}],128:[function(r,n,i){const o=r("../base-xform");n.exports=class extends o{constructor(s){super(),this.name=s||"color"}get tag(){return this.name}render(s,a){return!!a&&(s.openNode(this.name),a.argb?s.addAttribute("rgb",a.argb):a.theme!==void 0?(s.addAttribute("theme",a.theme),a.tint!==void 0&&s.addAttribute("tint",a.tint)):a.indexed!==void 0?s.addAttribute("indexed",a.indexed):s.addAttribute("auto","1"),s.closeNode(),!0)}parseOpen(s){return s.name===this.name&&(s.attributes.rgb?this.model={argb:s.attributes.rgb}:s.attributes.theme?(this.model={theme:parseInt(s.attributes.theme,10)},s.attributes.tint&&(this.model.tint=parseFloat(s.attributes.tint))):s.attributes.indexed?this.model={indexed:parseInt(s.attributes.indexed,10)}:this.model=void 0,!0)}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],129:[function(r,n,i){const o=r("../base-xform"),s=r("./alignment-xform"),a=r("./border-xform"),l=r("./fill-xform"),u=r("./font-xform"),c=r("./numfmt-xform"),f=r("./protection-xform");n.exports=class extends o{constructor(){super(),this.map={alignment:new s,border:new a,fill:new l,font:new u,numFmt:new c,protection:new f}}get tag(){return"dxf"}render(d,h){if(d.openNode(this.tag),h.font&&this.map.font.render(d,h.font),h.numFmt&&h.numFmtId){const g={id:h.numFmtId,formatCode:h.numFmt};this.map.numFmt.render(d,g)}h.fill&&this.map.fill.render(d,h.fill),h.alignment&&this.map.alignment.render(d,h.alignment),h.border&&this.map.border.render(d,h.border),h.protection&&this.map.protection.render(d,h.protection),d.closeNode()}parseOpen(d){if(this.parser)return this.parser.parseOpen(d),!0;switch(d.name){case this.tag:return this.reset(),!0;default:return this.parser=this.map[d.name],this.parser&&this.parser.parseOpen(d),!0}}parseText(d){this.parser&&this.parser.parseText(d)}parseClose(d){return this.parser?(this.parser.parseClose(d)||(this.parser=void 0),!0):d!==this.tag||(this.model={alignment:this.map.alignment.model,border:this.map.border.model,fill:this.map.fill.model,font:this.map.font.model,numFmt:this.map.numFmt.model,protection:this.map.protection.model},!1)}}},{"../base-xform":32,"./alignment-xform":126,"./border-xform":127,"./fill-xform":130,"./font-xform":131,"./numfmt-xform":132,"./protection-xform":133}],130:[function(r,n,i){const o=r("../base-xform"),s=r("./color-xform");class a extends o{constructor(){super(),this.map={color:new s}}get tag(){return"stop"}render(d,h){d.openNode("stop"),d.addAttribute("position",h.position),this.map.color.render(d,h.color),d.closeNode()}parseOpen(d){if(this.parser)return this.parser.parseOpen(d),!0;switch(d.name){case"stop":return this.model={position:parseFloat(d.attributes.position)},!0;case"color":return this.parser=this.map.color,this.parser.parseOpen(d),!0;default:return!1}}parseText(){}parseClose(d){return!!this.parser&&(this.parser.parseClose(d)||(this.model.color=this.parser.model,this.parser=void 0),!0)}}class l extends o{constructor(){super(),this.map={fgColor:new s("fgColor"),bgColor:new s("bgColor")}}get name(){return"pattern"}get tag(){return"patternFill"}render(d,h){d.openNode("patternFill"),d.addAttribute("patternType",h.pattern),h.fgColor&&this.map.fgColor.render(d,h.fgColor),h.bgColor&&this.map.bgColor.render(d,h.bgColor),d.closeNode()}parseOpen(d){if(this.parser)return this.parser.parseOpen(d),!0;switch(d.name){case"patternFill":return this.model={type:"pattern",pattern:d.attributes.patternType},!0;default:return this.parser=this.map[d.name],!!this.parser&&(this.parser.parseOpen(d),!0)}}parseText(d){this.parser&&this.parser.parseText(d)}parseClose(d){return!!this.parser&&(this.parser.parseClose(d)||(this.parser.model&&(this.model[d]=this.parser.model),this.parser=void 0),!0)}}class u extends o{constructor(){super(),this.map={stop:new a}}get name(){return"gradient"}get tag(){return"gradientFill"}render(d,h){switch(d.openNode("gradientFill"),h.gradient){case"angle":d.addAttribute("degree",h.degree);break;case"path":d.addAttribute("type","path"),h.center.left&&(d.addAttribute("left",h.center.left),h.center.right===void 0&&d.addAttribute("right",h.center.left)),h.center.right&&d.addAttribute("right",h.center.right),h.center.top&&(d.addAttribute("top",h.center.top),h.center.bottom===void 0&&d.addAttribute("bottom",h.center.top)),h.center.bottom&&d.addAttribute("bottom",h.center.bottom)}const g=this.map.stop;h.stops.forEach(m=>{g.render(d,m)}),d.closeNode()}parseOpen(d){if(this.parser)return this.parser.parseOpen(d),!0;switch(d.name){case"gradientFill":{const h=this.model={stops:[]};return d.attributes.degree?(h.gradient="angle",h.degree=parseInt(d.attributes.degree,10)):d.attributes.type==="path"&&(h.gradient="path",h.center={left:d.attributes.left?parseFloat(d.attributes.left):0,top:d.attributes.top?parseFloat(d.attributes.top):0},d.attributes.right!==d.attributes.left&&(h.center.right=d.attributes.right?parseFloat(d.attributes.right):0),d.attributes.bottom!==d.attributes.top&&(h.center.bottom=d.attributes.bottom?parseFloat(d.attributes.bottom):0)),!0}case"stop":return this.parser=this.map.stop,this.parser.parseOpen(d),!0;default:return!1}}parseText(d){this.parser&&this.parser.parseText(d)}parseClose(d){return!!this.parser&&(this.parser.parseClose(d)||(this.model.stops.push(this.parser.model),this.parser=void 0),!0)}}class c extends o{constructor(){super(),this.map={patternFill:new l,gradientFill:new u}}get tag(){return"fill"}render(d,h){switch(d.addRollback(),d.openNode("fill"),h.type){case"pattern":this.map.patternFill.render(d,h);break;case"gradient":this.map.gradientFill.render(d,h);break;default:return void d.rollback()}d.closeNode(),d.commit()}parseOpen(d){if(this.parser)return this.parser.parseOpen(d),!0;switch(d.name){case"fill":return this.model={},!0;default:return this.parser=this.map[d.name],!!this.parser&&(this.parser.parseOpen(d),!0)}}parseText(d){this.parser&&this.parser.parseText(d)}parseClose(d){return!!this.parser&&(this.parser.parseClose(d)||(this.model=this.parser.model,this.model.type=this.parser.name,this.parser=void 0),!0)}validStyle(d){return c.validPatternValues[d]}}c.validPatternValues=["none","solid","darkVertical","darkGray","mediumGray","lightGray","gray125","gray0625","darkHorizontal","darkVertical","darkDown","darkUp","darkGrid","darkTrellis","lightHorizontal","lightVertical","lightDown","lightUp","lightGrid","lightTrellis","lightGrid"].reduce((f,d)=>(f[d]=!0,f),{}),c.StopXform=a,c.PatternFillXform=l,c.GradientFillXform=u,n.exports=c},{"../base-xform":32,"./color-xform":128}],131:[function(r,n,i){const o=r("./color-xform"),s=r("../simple/boolean-xform"),a=r("../simple/integer-xform"),l=r("../simple/string-xform"),u=r("./underline-xform"),c=r("../../../utils/under-dash"),f=r("../base-xform");class d extends f{constructor(g){super(),this.options=g||d.OPTIONS,this.map={b:{prop:"bold",xform:new s({tag:"b",attr:"val"})},i:{prop:"italic",xform:new s({tag:"i",attr:"val"})},u:{prop:"underline",xform:new u},charset:{prop:"charset",xform:new a({tag:"charset",attr:"val"})},color:{prop:"color",xform:new o},condense:{prop:"condense",xform:new s({tag:"condense",attr:"val"})},extend:{prop:"extend",xform:new s({tag:"extend",attr:"val"})},family:{prop:"family",xform:new a({tag:"family",attr:"val"})},outline:{prop:"outline",xform:new s({tag:"outline",attr:"val"})},vertAlign:{prop:"vertAlign",xform:new l({tag:"vertAlign",attr:"val"})},scheme:{prop:"scheme",xform:new l({tag:"scheme",attr:"val"})},shadow:{prop:"shadow",xform:new s({tag:"shadow",attr:"val"})},strike:{prop:"strike",xform:new s({tag:"strike",attr:"val"})},sz:{prop:"size",xform:new a({tag:"sz",attr:"val"})}},this.map[this.options.fontNameTag]={prop:"name",xform:new l({tag:this.options.fontNameTag,attr:"val"})}}get tag(){return this.options.tagName}render(g,m){const{map:p}=this;g.openNode(this.options.tagName),c.each(this.map,(y,b)=>{p[b].xform.render(g,m[y.prop])}),g.closeNode()}parseOpen(g){if(this.parser)return this.parser.parseOpen(g),!0;if(this.map[g.name])return this.parser=this.map[g.name].xform,this.parser.parseOpen(g);switch(g.name){case this.options.tagName:return this.model={},!0;default:return!1}}parseText(g){this.parser&&this.parser.parseText(g)}parseClose(g){if(this.parser&&!this.parser.parseClose(g)){const m=this.map[g];return this.parser.model&&(this.model[m.prop]=this.parser.model),this.parser=void 0,!0}switch(g){case this.options.tagName:return!1;default:return!0}}}d.OPTIONS={tagName:"font",fontNameTag:"name"},n.exports=d},{"../../../utils/under-dash":26,"../base-xform":32,"../simple/boolean-xform":116,"../simple/integer-xform":118,"../simple/string-xform":119,"./color-xform":128,"./underline-xform":136}],132:[function(r,n,i){const o=r("../../../utils/under-dash"),s=r("../../defaultnumformats"),a=r("../base-xform"),l=(function(){const c={};return o.each(s,(f,d)=>{f.f&&(c[f.f]=parseInt(d,10))}),c})();class u extends a{constructor(f,d){super(),this.id=f,this.formatCode=d}get tag(){return"numFmt"}render(f,d){f.leafNode("numFmt",{numFmtId:d.id,formatCode:d.formatCode})}parseOpen(f){switch(f.name){case"numFmt":return this.model={id:parseInt(f.attributes.numFmtId,10),formatCode:f.attributes.formatCode.replace(/[\\](.)/g,"$1")},!0;default:return!1}}parseText(){}parseClose(){return!1}}u.getDefaultFmtId=function(c){return l[c]},u.getDefaultFmtCode=function(c){return s[c]&&s[c].f},n.exports=u},{"../../../utils/under-dash":26,"../../defaultnumformats":30,"../base-xform":32}],133:[function(r,n,i){const o=r("../base-xform"),s={boolean:(a,l)=>a===void 0?l:a};n.exports=class extends o{get tag(){return"protection"}render(a,l){a.addRollback(),a.openNode("protection");let u=!1;function c(f,d){d!==void 0&&(a.addAttribute(f,d),u=!0)}c("locked",s.boolean(l.locked,!0)?void 0:"0"),c("hidden",s.boolean(l.hidden,!1)?"1":void 0),a.closeNode(),u?a.commit():a.rollback()}parseOpen(a){const l={locked:a.attributes.locked!=="0",hidden:a.attributes.hidden==="1"},u=!l.locked||l.hidden;this.model=u?l:null}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],134:[function(r,n,i){const o=r("../base-xform"),s=r("./alignment-xform"),a=r("./protection-xform");n.exports=class extends o{constructor(l){super(),this.xfId=!(!l||!l.xfId),this.map={alignment:new s,protection:new a}}get tag(){return"xf"}render(l,u){l.openNode("xf",{numFmtId:u.numFmtId||0,fontId:u.fontId||0,fillId:u.fillId||0,borderId:u.borderId||0}),this.xfId&&l.addAttribute("xfId",u.xfId||0),u.numFmtId&&l.addAttribute("applyNumberFormat","1"),u.fontId&&l.addAttribute("applyFont","1"),u.fillId&&l.addAttribute("applyFill","1"),u.borderId&&l.addAttribute("applyBorder","1"),u.alignment&&l.addAttribute("applyAlignment","1"),u.protection&&l.addAttribute("applyProtection","1"),u.alignment&&this.map.alignment.render(l,u.alignment),u.protection&&this.map.protection.render(l,u.protection),l.closeNode()}parseOpen(l){if(this.parser)return this.parser.parseOpen(l),!0;switch(l.name){case"xf":return this.model={numFmtId:parseInt(l.attributes.numFmtId,10),fontId:parseInt(l.attributes.fontId,10),fillId:parseInt(l.attributes.fillId,10),borderId:parseInt(l.attributes.borderId,10)},this.xfId&&(this.model.xfId=parseInt(l.attributes.xfId,10)),!0;case"alignment":return this.parser=this.map.alignment,this.parser.parseOpen(l),!0;case"protection":return this.parser=this.map.protection,this.parser.parseOpen(l),!0;default:return!1}}parseText(l){this.parser&&this.parser.parseText(l)}parseClose(l){return this.parser?(this.parser.parseClose(l)||(this.map.protection===this.parser?this.model.protection=this.parser.model:this.model.alignment=this.parser.model,this.parser=void 0),!0):l!=="xf"}}},{"../base-xform":32,"./alignment-xform":126,"./protection-xform":133}],135:[function(r,n,i){const o=r("../../../doc/enums"),s=r("../../../utils/xml-stream"),a=r("../base-xform"),l=r("../static-xform"),u=r("../list-xform"),c=r("./font-xform"),f=r("./fill-xform"),d=r("./border-xform"),h=r("./numfmt-xform"),g=r("./style-xform"),m=r("./dxf-xform");class p extends a{constructor(b){super(),this.map={numFmts:new u({tag:"numFmts",count:!0,childXform:new h}),fonts:new u({tag:"fonts",count:!0,childXform:new c,$:{"x14ac:knownFonts":1}}),fills:new u({tag:"fills",count:!0,childXform:new f}),borders:new u({tag:"borders",count:!0,childXform:new d}),cellStyleXfs:new u({tag:"cellStyleXfs",count:!0,childXform:new g}),cellXfs:new u({tag:"cellXfs",count:!0,childXform:new g({xfId:!0})}),dxfs:new u({tag:"dxfs",always:!0,count:!0,childXform:new m}),numFmt:new h,font:new c,fill:new f,border:new d,style:new g({xfId:!0}),cellStyles:p.STATIC_XFORMS.cellStyles,tableStyles:p.STATIC_XFORMS.tableStyles,extLst:p.STATIC_XFORMS.extLst},b&&this.init()}initIndex(){this.index={style:{},numFmt:{},numFmtNextId:164,font:{},border:{},fill:{}}}init(){this.model={styles:[],numFmts:[],fonts:[],borders:[],fills:[],dxfs:[]},this.initIndex(),this._addBorder({}),this._addStyle({numFmtId:0,fontId:0,fillId:0,borderId:0,xfId:0}),this._addFill({type:"pattern",pattern:"none"}),this._addFill({type:"pattern",pattern:"gray125"}),this.weakMap=new WeakMap}render(b,v){v=v||this.model,b.openXml(s.StdDocAttributes),b.openNode("styleSheet",p.STYLESHEET_ATTRIBUTES),this.index?(v.numFmts&&v.numFmts.length&&(b.openNode("numFmts",{count:v.numFmts.length}),v.numFmts.forEach(F=>{b.writeXml(F)}),b.closeNode()),v.fonts.length||this._addFont({size:11,color:{theme:1},name:"Calibri",family:2,scheme:"minor"}),b.openNode("fonts",{count:v.fonts.length,"x14ac:knownFonts":1}),v.fonts.forEach(F=>{b.writeXml(F)}),b.closeNode(),b.openNode("fills",{count:v.fills.length}),v.fills.forEach(F=>{b.writeXml(F)}),b.closeNode(),b.openNode("borders",{count:v.borders.length}),v.borders.forEach(F=>{b.writeXml(F)}),b.closeNode(),this.map.cellStyleXfs.render(b,[{numFmtId:0,fontId:0,fillId:0,borderId:0,xfId:0}]),b.openNode("cellXfs",{count:v.styles.length}),v.styles.forEach(F=>{b.writeXml(F)}),b.closeNode()):(this.map.numFmts.render(b,v.numFmts),this.map.fonts.render(b,v.fonts),this.map.fills.render(b,v.fills),this.map.borders.render(b,v.borders),this.map.cellStyleXfs.render(b,[{numFmtId:0,fontId:0,fillId:0,borderId:0,xfId:0}]),this.map.cellXfs.render(b,v.styles)),p.STATIC_XFORMS.cellStyles.render(b),this.map.dxfs.render(b,v.dxfs),p.STATIC_XFORMS.tableStyles.render(b),p.STATIC_XFORMS.extLst.render(b),b.closeNode()}parseOpen(b){if(this.parser)return this.parser.parseOpen(b),!0;switch(b.name){case"styleSheet":return this.initIndex(),!0;default:return this.parser=this.map[b.name],this.parser&&this.parser.parseOpen(b),!0}}parseText(b){this.parser&&this.parser.parseText(b)}parseClose(b){if(this.parser)return this.parser.parseClose(b)||(this.parser=void 0),!0;switch(b){case"styleSheet":{this.model={};const v=(F,E)=>{E.model&&E.model.length&&(this.model[F]=E.model)};if(v("numFmts",this.map.numFmts),v("fonts",this.map.fonts),v("fills",this.map.fills),v("borders",this.map.borders),v("styles",this.map.cellXfs),v("dxfs",this.map.dxfs),this.index={model:[],numFmt:[]},this.model.numFmts){const F=this.index.numFmt;this.model.numFmts.forEach(E=>{F[E.id]=E.formatCode})}return!1}default:return!0}}addStyleModel(b,v){if(!b)return 0;if(this.model.fonts.length||this._addFont({size:11,color:{theme:1},name:"Calibri",family:2,scheme:"minor"}),this.weakMap&&this.weakMap.has(b))return this.weakMap.get(b);const F={};if(v=v||o.ValueType.Number,b.numFmt)F.numFmtId=this._addNumFmtStr(b.numFmt);else switch(v){case o.ValueType.Number:F.numFmtId=this._addNumFmtStr("General");break;case o.ValueType.Date:F.numFmtId=this._addNumFmtStr("mm-dd-yy")}b.font&&(F.fontId=this._addFont(b.font)),b.border&&(F.borderId=this._addBorder(b.border)),b.fill&&(F.fillId=this._addFill(b.fill)),b.alignment&&(F.alignment=b.alignment),b.protection&&(F.protection=b.protection);const E=this._addStyle(F);return this.weakMap&&this.weakMap.set(b,E),E}getStyleModel(b){const v=this.model.styles[b];if(!v)return null;let F=this.index.model[b];if(F)return F;if(F=this.index.model[b]={},v.numFmtId){const T=this.index.numFmt[v.numFmtId]||h.getDefaultFmtCode(v.numFmtId);T&&(F.numFmt=T)}function E(T,I,M){if(M||M===0){const P=I[M];P&&(F[T]=P)}}return E("font",this.model.fonts,v.fontId),E("border",this.model.borders,v.borderId),E("fill",this.model.fills,v.fillId),v.alignment&&(F.alignment=v.alignment),v.protection&&(F.protection=v.protection),F}addDxfStyle(b){return b.numFmt&&(b.numFmtId=this._addNumFmtStr(b.numFmt)),this.model.dxfs.push(b),this.model.dxfs.length-1}getDxfStyle(b){return this.model.dxfs[b]}_addStyle(b){const v=this.map.style.toXml(b);let F=this.index.style[v];return F===void 0&&(F=this.index.style[v]=this.model.styles.length,this.model.styles.push(v)),F}_addNumFmtStr(b){let v=h.getDefaultFmtId(b);if(v!==void 0||(v=this.index.numFmt[b],v!==void 0))return v;v=this.index.numFmt[b]=164+this.model.numFmts.length;const F=this.map.numFmt.toXml({id:v,formatCode:b});return this.model.numFmts.push(F),v}_addFont(b){const v=this.map.font.toXml(b);let F=this.index.font[v];return F===void 0&&(F=this.index.font[v]=this.model.fonts.length,this.model.fonts.push(v)),F}_addBorder(b){const v=this.map.border.toXml(b);let F=this.index.border[v];return F===void 0&&(F=this.index.border[v]=this.model.borders.length,this.model.borders.push(v)),F}_addFill(b){const v=this.map.fill.toXml(b);let F=this.index.fill[v];return F===void 0&&(F=this.index.fill[v]=this.model.fills.length,this.model.fills.push(v)),F}}p.STYLESHEET_ATTRIBUTES={xmlns:"http://schemas.openxmlformats.org/spreadsheetml/2006/main","xmlns:mc":"http://schemas.openxmlformats.org/markup-compatibility/2006","mc:Ignorable":"x14ac x16r2","xmlns:x14ac":"http://schemas.microsoft.com/office/spreadsheetml/2009/9/ac","xmlns:x16r2":"http://schemas.microsoft.com/office/spreadsheetml/2015/02/main"},p.STATIC_XFORMS={cellStyles:new l({tag:"cellStyles",$:{count:1},c:[{tag:"cellStyle",$:{name:"Normal",xfId:0,builtinId:0}}]}),dxfs:new l({tag:"dxfs",$:{count:0}}),tableStyles:new l({tag:"tableStyles",$:{count:0,defaultTableStyle:"TableStyleMedium2",defaultPivotStyle:"PivotStyleLight16"}}),extLst:new l({tag:"extLst",c:[{tag:"ext",$:{uri:"{EB79DEF2-80B8-43e5-95BD-54CBDDF9020C}","xmlns:x14":"http://schemas.microsoft.com/office/spreadsheetml/2009/9/main"},c:[{tag:"x14:slicerStyles",$:{defaultSlicerStyle:"SlicerStyleLight1"}}]},{tag:"ext",$:{uri:"{9260A510-F301-46a8-8635-F512D64BE5F5}","xmlns:x15":"http://schemas.microsoft.com/office/spreadsheetml/2010/11/main"},c:[{tag:"x15:timelineStyles",$:{defaultTimelineStyle:"TimeSlicerStyleLight1"}}]}]})},p.Mock=class extends p{constructor(){super(),this.model={styles:[{numFmtId:0,fontId:0,fillId:0,borderId:0,xfId:0}],numFmts:[],fonts:[{size:11,color:{theme:1},name:"Calibri",family:2,scheme:"minor"}],borders:[{}],fills:[{type:"pattern",pattern:"none"},{type:"pattern",pattern:"gray125"}]}}parseStream(y){return y.autodrain(),Promise.resolve()}addStyleModel(y,b){switch(b){case o.ValueType.Date:return this.dateStyleId;default:return 0}}get dateStyleId(){if(!this._dateStyleId){const y={numFmtId:h.getDefaultFmtId("mm-dd-yy")};this._dateStyleId=this.model.styles.length,this.model.styles.push(y)}return this._dateStyleId}getStyleModel(){return{}}},n.exports=p},{"../../../doc/enums":7,"../../../utils/xml-stream":28,"../base-xform":32,"../list-xform":71,"../static-xform":120,"./border-xform":127,"./dxf-xform":129,"./fill-xform":130,"./font-xform":131,"./numfmt-xform":132,"./style-xform":134}],136:[function(r,n,i){const o=r("../base-xform");class s extends o{constructor(l){super(),this.model=l}get tag(){return"u"}render(l,u){if((u=u||this.model)===!0)l.leafNode("u");else{const c=s.Attributes[u];c&&l.leafNode("u",c)}}parseOpen(l){l.name==="u"&&(this.model=l.attributes.val||!0)}parseText(){}parseClose(){return!1}}s.Attributes={single:{},double:{val:"double"},singleAccounting:{val:"singleAccounting"},doubleAccounting:{val:"doubleAccounting"}},n.exports=s},{"../base-xform":32}],137:[function(r,n,i){const o=r("../base-xform"),s=r("./filter-column-xform");n.exports=class extends o{constructor(){super(),this.map={filterColumn:new s}}get tag(){return"autoFilter"}prepare(a){a.columns.forEach((l,u)=>{this.map.filterColumn.prepare(l,{index:u})})}render(a,l){return a.openNode(this.tag,{ref:l.autoFilterRef}),l.columns.forEach(u=>{this.map.filterColumn.render(a,u)}),a.closeNode(),!0}parseOpen(a){if(this.parser)return this.parser.parseOpen(a),!0;switch(a.name){case this.tag:return this.model={autoFilterRef:a.attributes.ref,columns:[]},!0;default:if(this.parser=this.map[a.name],this.parser)return this.parseOpen(a),!0;throw new Error("Unexpected xml node in parseOpen: "+JSON.stringify(a))}}parseText(a){this.parser&&this.parser.parseText(a)}parseClose(a){if(this.parser)return this.parser.parseClose(a)||(this.model.columns.push(this.parser.model),this.parser=void 0),!0;switch(a){case this.tag:return!1;default:throw new Error("Unexpected xml node in parseClose: "+a)}}}},{"../base-xform":32,"./filter-column-xform":139}],138:[function(r,n,i){const o=r("../base-xform");n.exports=class extends o{get tag(){return"customFilter"}render(s,a){s.leafNode(this.tag,{val:a.val,operator:a.operator})}parseOpen(s){return s.name===this.tag&&(this.model={val:s.attributes.val,operator:s.attributes.operator},!0)}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],139:[function(r,n,i){const o=r("../base-xform"),s=r("../list-xform"),a=r("./custom-filter-xform"),l=r("./filter-xform");n.exports=class extends o{constructor(){super(),this.map={customFilters:new s({tag:"customFilters",count:!1,empty:!0,childXform:new a}),filters:new s({tag:"filters",count:!1,empty:!0,childXform:new l})}}get tag(){return"filterColumn"}prepare(u,c){u.colId=c.index.toString()}render(u,c){return c.customFilters?(u.openNode(this.tag,{colId:c.colId,hiddenButton:c.filterButton?"0":"1"}),this.map.customFilters.render(u,c.customFilters),u.closeNode(),!0):(u.leafNode(this.tag,{colId:c.colId,hiddenButton:c.filterButton?"0":"1"}),!0)}parseOpen(u){if(this.parser)return this.parser.parseOpen(u),!0;const{attributes:c}=u;switch(u.name){case this.tag:return this.model={filterButton:c.hiddenButton==="0"},!0;default:if(this.parser=this.map[u.name],this.parser)return this.parseOpen(u),!0;throw new Error("Unexpected xml node in parseOpen: "+JSON.stringify(u))}}parseText(){}parseClose(u){if(this.parser)return this.parser.parseClose(u)||(this.parser=void 0),!0;switch(u){case this.tag:return this.model.customFilters=this.map.customFilters.model,!1;default:return!0}}}},{"../base-xform":32,"../list-xform":71,"./custom-filter-xform":138,"./filter-xform":140}],140:[function(r,n,i){const o=r("../base-xform");n.exports=class extends o{get tag(){return"filter"}render(s,a){s.leafNode(this.tag,{val:a.val})}parseOpen(s){return s.name===this.tag&&(this.model={val:s.attributes.val},!0)}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],141:[function(r,n,i){const o=r("../base-xform");n.exports=class extends o{get tag(){return"tableColumn"}prepare(s,a){s.id=a.index+1}render(s,a){return s.leafNode(this.tag,{id:a.id.toString(),name:a.name,totalsRowLabel:a.totalsRowLabel,totalsRowFunction:a.totalsRowFunction,dxfId:a.dxfId}),!0}parseOpen(s){if(s.name===this.tag){const{attributes:a}=s;return this.model={name:a.name,totalsRowLabel:a.totalsRowLabel,totalsRowFunction:a.totalsRowFunction,dxfId:a.dxfId},!0}return!1}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],142:[function(r,n,i){const o=r("../base-xform");n.exports=class extends o{get tag(){return"tableStyleInfo"}render(s,a){return s.leafNode(this.tag,{name:a.theme?a.theme:void 0,showFirstColumn:a.showFirstColumn?"1":"0",showLastColumn:a.showLastColumn?"1":"0",showRowStripes:a.showRowStripes?"1":"0",showColumnStripes:a.showColumnStripes?"1":"0"}),!0}parseOpen(s){if(s.name===this.tag){const{attributes:a}=s;return this.model={theme:a.name?a.name:null,showFirstColumn:a.showFirstColumn==="1",showLastColumn:a.showLastColumn==="1",showRowStripes:a.showRowStripes==="1",showColumnStripes:a.showColumnStripes==="1"},!0}return!1}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],143:[function(r,n,i){const o=r("../../../utils/xml-stream"),s=r("../base-xform"),a=r("../list-xform"),l=r("./auto-filter-xform"),u=r("./table-column-xform"),c=r("./table-style-info-xform");class f extends s{constructor(){super(),this.map={autoFilter:new l,tableColumns:new a({tag:"tableColumns",count:!0,empty:!0,childXform:new u}),tableStyleInfo:new c}}prepare(h,g){this.map.autoFilter.prepare(h),this.map.tableColumns.prepare(h.columns,g)}get tag(){return"table"}render(h,g){h.openXml(o.StdDocAttributes),h.openNode(this.tag,{...f.TABLE_ATTRIBUTES,id:g.id,name:g.name,displayName:g.displayName||g.name,ref:g.tableRef,totalsRowCount:g.totalsRow?"1":void 0,totalsRowShown:g.totalsRow?void 0:"1",headerRowCount:g.headerRow?"1":"0"}),this.map.autoFilter.render(h,g),this.map.tableColumns.render(h,g.columns),this.map.tableStyleInfo.render(h,g.style),h.closeNode()}parseOpen(h){if(this.parser)return this.parser.parseOpen(h),!0;const{name:g,attributes:m}=h;switch(g){case this.tag:this.reset(),this.model={name:m.name,displayName:m.displayName||m.name,tableRef:m.ref,totalsRow:m.totalsRowCount==="1",headerRow:m.headerRowCount==="1"};break;default:this.parser=this.map[h.name],this.parser&&this.parser.parseOpen(h)}return!0}parseText(h){this.parser&&this.parser.parseText(h)}parseClose(h){if(this.parser)return this.parser.parseClose(h)||(this.parser=void 0),!0;switch(h){case this.tag:return this.model.columns=this.map.tableColumns.model,this.map.autoFilter.model&&(this.model.autoFilterRef=this.map.autoFilter.model.autoFilterRef,this.map.autoFilter.model.columns.forEach((g,m)=>{this.model.columns[m].filterButton=g.filterButton})),this.model.style=this.map.tableStyleInfo.model,!1;default:return!0}}reconcile(h,g){h.columns.forEach(m=>{m.dxfId!==void 0&&(m.style=g.styles.getDxfStyle(m.dxfId))})}}f.TABLE_ATTRIBUTES={xmlns:"http://schemas.openxmlformats.org/spreadsheetml/2006/main","xmlns:mc":"http://schemas.openxmlformats.org/markup-compatibility/2006","mc:Ignorable":"xr xr3","xmlns:xr":"http://schemas.microsoft.com/office/spreadsheetml/2014/revision","xmlns:xr3":"http://schemas.microsoft.com/office/spreadsheetml/2016/revision3"},n.exports=f},{"../../../utils/xml-stream":28,"../base-xform":32,"../list-xform":71,"./auto-filter-xform":137,"./table-column-xform":141,"./table-style-info-xform":142}],144:[function(r,n,i){(function(o,s){(function(){const a=r("fs"),l=r("jszip"),{PassThrough:u}=r("readable-stream"),c=r("../utils/zip-stream"),f=r("../utils/stream-buf"),d=r("../utils/utils"),h=r("../utils/xml-stream"),{bufferToString:g}=r("../utils/browser-buffer-decode"),m=r("./xform/style/styles-xform"),p=r("./xform/core/core-xform"),y=r("./xform/strings/shared-strings-xform"),b=r("./xform/core/relationships-xform"),v=r("./xform/core/content-types-xform"),F=r("./xform/core/app-xform"),E=r("./xform/book/workbook-xform"),T=r("./xform/sheet/worksheet-xform"),I=r("./xform/drawing/drawing-xform"),M=r("./xform/table/table-xform"),P=r("./xform/comment/comments-xform"),O=r("./xform/comment/vml-notes-xform"),z=r("./xml/theme1");class L{constructor(R){this.workbook=R}async readFile(R,k){if(!await d.fs.exists(R))throw new Error("File not found: "+R);const S=a.createReadStream(R);try{const w=await this.read(S,k);return S.close(),w}catch(w){throw S.close(),w}}parseRels(R){return new b().parseStream(R)}parseWorkbook(R){return new E().parseStream(R)}parseSharedStrings(R){return new y().parseStream(R)}reconcile(R,k){const S=new E,w=new T(k),C=new I,x=new M;S.reconcile(R);const A={media:R.media,mediaIndex:R.mediaIndex};Object.keys(R.drawings).forEach(V=>{const j=R.drawings[V],K=R.drawingRels[V];K&&(A.rels=K.reduce((G,Y)=>(G[Y.Id]=Y,G),{}),(j.anchors||[]).forEach(G=>{const Y=G.picture&&G.picture.hyperlinks;Y&&A.rels[Y.rId]&&(Y.hyperlink=A.rels[Y.rId].Target,delete Y.rId)}),C.reconcile(j,A))});const D={styles:R.styles};Object.values(R.tables).forEach(V=>{x.reconcile(V,D)});const B={styles:R.styles,sharedStrings:R.sharedStrings,media:R.media,mediaIndex:R.mediaIndex,date1904:R.properties&&R.properties.date1904,drawings:R.drawings,comments:R.comments,tables:R.tables,vmlDrawings:R.vmlDrawings};R.worksheets.forEach(V=>{V.relationships=R.worksheetRels[V.sheetNo],w.reconcile(V,B)}),delete R.worksheetHash,delete R.worksheetRels,delete R.globalRels,delete R.sharedStrings,delete R.workbookRels,delete R.sheetDefs,delete R.styles,delete R.mediaIndex,delete R.drawings,delete R.drawingRels,delete R.vmlDrawings}async _processWorksheetEntry(R,k,S,w,C){const x=new T(w),A=await x.parseStream(R);A.sheetNo=S,k.worksheetHash[C]=A,k.worksheets.push(A)}async _processCommentEntry(R,k,S){const w=new P,C=await w.parseStream(R);k.comments[`../${S}.xml`]=C}async _processTableEntry(R,k,S){const w=new M,C=await w.parseStream(R);k.tables[`../tables/${S}.xml`]=C}async _processWorksheetRelsEntry(R,k,S){const w=new b,C=await w.parseStream(R);k.worksheetRels[S]=C}async _processMediaEntry(R,k,S){const w=S.lastIndexOf(".");if(w>=1){const C=S.substr(w+1),x=S.substr(0,w);await new Promise((A,D)=>{const B=new f;B.on("finish",()=>{k.mediaIndex[S]=k.media.length,k.mediaIndex[x]=k.media.length;const V={type:"image",name:x,extension:C,buffer:B.toBuffer()};k.media.push(V),A()}),R.on("error",V=>{D(V)}),R.pipe(B)})}}async _processDrawingEntry(R,k,S){const w=new I,C=await w.parseStream(R);k.drawings[S]=C}async _processDrawingRelsEntry(R,k,S){const w=new b,C=await w.parseStream(R);k.drawingRels[S]=C}async _processVmlDrawingEntry(R,k,S){const w=new O,C=await w.parseStream(R);k.vmlDrawings[`../drawings/${S}.vml`]=C}async _processThemeEntry(R,k,S){await new Promise((w,C)=>{const x=new f;R.on("error",C),x.on("error",C),x.on("finish",()=>{k.themes[S]=x.read().toString(),w()}),R.pipe(x)})}createInputStream(){throw new Error("`XLSX#createInputStream` is deprecated. You should use `XLSX#read` instead. This method will be removed in version 5.0. Please follow upgrade instruction: https://github.com/exceljs/exceljs/blob/master/UPGRADE-4.0.md")}async read(R,k){!R[Symbol.asyncIterator]&&R.pipe&&(R=R.pipe(new u));const S=[];for await(const w of R)S.push(w);return this.load(s.concat(S),k)}async load(R,k){let S;S=k&&k.base64?s.from(R.toString(),"base64"):R;const w={worksheets:[],worksheetHash:{},worksheetRels:[],themes:{},media:[],mediaIndex:{},drawings:{},drawingRels:{},comments:{},tables:{},vmlDrawings:{}},C=await l.loadAsync(S);for(const x of Object.values(C.files))if(!x.dir){let A,D=x.name;if(D[0]==="/"&&(D=D.substr(1)),D.match(/xl\/media\//)||D.match(/xl\/theme\/([a-zA-Z0-9]+)[.]xml/))A=new u,A.write(await x.async("nodebuffer"));else{let B;A=new u({writableObjectMode:!0,readableObjectMode:!0}),B=o.browser?g(await x.async("nodebuffer")):await x.async("string");const V=16384;for(let j=0;j<B.length;j+=V)A.write(B.substring(j,j+V))}switch(A.end(),D){case"_rels/.rels":w.globalRels=await this.parseRels(A);break;case"xl/workbook.xml":{const B=await this.parseWorkbook(A);w.sheets=B.sheets,w.definedNames=B.definedNames,w.views=B.views,w.properties=B.properties,w.calcProperties=B.calcProperties;break}case"xl/_rels/workbook.xml.rels":w.workbookRels=await this.parseRels(A);break;case"xl/sharedStrings.xml":w.sharedStrings=new y,await w.sharedStrings.parseStream(A);break;case"xl/styles.xml":w.styles=new m,await w.styles.parseStream(A);break;case"docProps/app.xml":{const B=new F,V=await B.parseStream(A);w.company=V.company,w.manager=V.manager;break}case"docProps/core.xml":{const B=new p,V=await B.parseStream(A);Object.assign(w,V);break}default:{let B=D.match(/xl\/worksheets\/sheet(\d+)[.]xml/);if(B){await this._processWorksheetEntry(A,w,B[1],k,D);break}if(B=D.match(/xl\/worksheets\/_rels\/sheet(\d+)[.]xml.rels/),B){await this._processWorksheetRelsEntry(A,w,B[1]);break}if(B=D.match(/xl\/theme\/([a-zA-Z0-9]+)[.]xml/),B){await this._processThemeEntry(A,w,B[1]);break}if(B=D.match(/xl\/media\/([a-zA-Z0-9]+[.][a-zA-Z0-9]{3,4})$/),B){await this._processMediaEntry(A,w,B[1]);break}if(B=D.match(/xl\/drawings\/([a-zA-Z0-9]+)[.]xml/),B){await this._processDrawingEntry(A,w,B[1]);break}if(B=D.match(/xl\/(comments\d+)[.]xml/),B){await this._processCommentEntry(A,w,B[1]);break}if(B=D.match(/xl\/tables\/(table\d+)[.]xml/),B){await this._processTableEntry(A,w,B[1]);break}if(B=D.match(/xl\/drawings\/_rels\/([a-zA-Z0-9]+)[.]xml[.]rels/),B){await this._processDrawingRelsEntry(A,w,B[1]);break}if(B=D.match(/xl\/drawings\/(vmlDrawing\d+)[.]vml/),B){await this._processVmlDrawingEntry(A,w,B[1]);break}}}}return this.reconcile(w,k),this.workbook.model=w,this.workbook}async addMedia(R,k){await Promise.all(k.media.map(async S=>{if(S.type==="image"){const w=`xl/media/${S.name}.${S.extension}`;if(S.filename){const C=await(function(x,A){return new Promise((D,B)=>{a.readFile(x,A,(V,j)=>{V?B(V):D(j)})})})(S.filename);return R.append(C,{name:w})}if(S.buffer)return R.append(S.buffer,{name:w});if(S.base64){const C=S.base64,x=C.substring(C.indexOf(",")+1);return R.append(x,{name:w,base64:!0})}}throw new Error("Unsupported media")}))}addDrawings(R,k){const S=new I,w=new b;k.worksheets.forEach(C=>{const{drawing:x}=C;if(x){S.prepare(x,{});let A=S.toXml(x);R.append(A,{name:`xl/drawings/${x.name}.xml`}),A=w.toXml(x.rels),R.append(A,{name:`xl/drawings/_rels/${x.name}.xml.rels`})}})}addTables(R,k){const S=new M;k.worksheets.forEach(w=>{const{tables:C}=w;C.forEach(x=>{S.prepare(x,{});const A=S.toXml(x);R.append(A,{name:"xl/tables/"+x.target})})})}async addContentTypes(R,k){const S=new v().toXml(k);R.append(S,{name:"[Content_Types].xml"})}async addApp(R,k){const S=new F().toXml(k);R.append(S,{name:"docProps/app.xml"})}async addCore(R,k){const S=new p;R.append(S.toXml(k),{name:"docProps/core.xml"})}async addThemes(R,k){const S=k.themes||{theme1:z};Object.keys(S).forEach(w=>{const C=S[w],x=`xl/theme/${w}.xml`;R.append(C,{name:x})})}async addOfficeRels(R){const k=new b().toXml([{Id:"rId1",Type:L.RelType.OfficeDocument,Target:"xl/workbook.xml"},{Id:"rId2",Type:L.RelType.CoreProperties,Target:"docProps/core.xml"},{Id:"rId3",Type:L.RelType.ExtenderProperties,Target:"docProps/app.xml"}]);R.append(k,{name:"_rels/.rels"})}async addWorkbookRels(R,k){let S=1;const w=[{Id:"rId"+S++,Type:L.RelType.Styles,Target:"styles.xml"},{Id:"rId"+S++,Type:L.RelType.Theme,Target:"theme/theme1.xml"}];k.sharedStrings.count&&w.push({Id:"rId"+S++,Type:L.RelType.SharedStrings,Target:"sharedStrings.xml"}),k.worksheets.forEach(x=>{x.rId="rId"+S++,w.push({Id:x.rId,Type:L.RelType.Worksheet,Target:`worksheets/sheet${x.id}.xml`})});const C=new b().toXml(w);R.append(C,{name:"xl/_rels/workbook.xml.rels"})}async addSharedStrings(R,k){k.sharedStrings&&k.sharedStrings.count&&R.append(k.sharedStrings.xml,{name:"xl/sharedStrings.xml"})}async addStyles(R,k){const{xml:S}=k.styles;S&&R.append(S,{name:"xl/styles.xml"})}async addWorkbook(R,k){const S=new E;R.append(S.toXml(k),{name:"xl/workbook.xml"})}async addWorksheets(R,k){const S=new T,w=new b,C=new P,x=new O;k.worksheets.forEach(A=>{let D=new h;S.render(D,A),R.append(D.xml,{name:`xl/worksheets/sheet${A.id}.xml`}),A.rels&&A.rels.length&&(D=new h,w.render(D,A.rels),R.append(D.xml,{name:`xl/worksheets/_rels/sheet${A.id}.xml.rels`})),A.comments.length>0&&(D=new h,C.render(D,A),R.append(D.xml,{name:`xl/comments${A.id}.xml`}),D=new h,x.render(D,A),R.append(D.xml,{name:`xl/drawings/vmlDrawing${A.id}.vml`}))})}_finalize(R){return new Promise((k,S)=>{R.on("finish",()=>{k(this)}),R.on("error",S),R.finalize()})}prepareModel(R,k){R.creator=R.creator||"ExcelJS",R.lastModifiedBy=R.lastModifiedBy||"ExcelJS",R.created=R.created||new Date,R.modified=R.modified||new Date,R.useSharedStrings=k.useSharedStrings===void 0||k.useSharedStrings,R.useStyles=k.useStyles===void 0||k.useStyles,R.sharedStrings=new y,R.styles=R.useStyles?new m(!0):new m.Mock;const S=new E,w=new T;S.prepare(R);const C={sharedStrings:R.sharedStrings,styles:R.styles,date1904:R.properties.date1904,drawingsCount:0,media:R.media};C.drawings=R.drawings=[],C.commentRefs=R.commentRefs=[];let x=0;R.tables=[],R.worksheets.forEach(A=>{A.tables.forEach(D=>{x++,D.target=`table${x}.xml`,D.id=x,R.tables.push(D)}),w.prepare(A,C)})}async write(R,k){k=k||{};const{model:S}=this.workbook,w=new c.ZipWriter(k.zip);return w.pipe(R),this.prepareModel(S,k),await this.addContentTypes(w,S),await this.addOfficeRels(w,S),await this.addWorkbookRels(w,S),await this.addWorksheets(w,S),await this.addSharedStrings(w,S),await this.addDrawings(w,S),await this.addTables(w,S),await Promise.all([this.addThemes(w,S),this.addStyles(w,S)]),await this.addMedia(w,S),await Promise.all([this.addApp(w,S),this.addCore(w,S)]),await this.addWorkbook(w,S),this._finalize(w)}writeFile(R,k){const S=a.createWriteStream(R);return new Promise((w,C)=>{S.on("finish",()=>{w()}),S.on("error",x=>{C(x)}),this.write(S,k).then(()=>{S.end()}).catch(x=>{C(x)})})}async writeBuffer(R){const k=new f;return await this.write(k,R),k.read()}}L.RelType=r("./rel-type"),n.exports=L}).call(this)}).call(this,r("_process"),r("buffer").Buffer)},{"../utils/browser-buffer-decode":16,"../utils/stream-buf":24,"../utils/utils":27,"../utils/xml-stream":28,"../utils/zip-stream":29,"./rel-type":31,"./xform/book/workbook-xform":38,"./xform/comment/comments-xform":40,"./xform/comment/vml-notes-xform":45,"./xform/core/app-xform":51,"./xform/core/content-types-xform":52,"./xform/core/core-xform":53,"./xform/core/relationships-xform":55,"./xform/drawing/drawing-xform":62,"./xform/sheet/worksheet-xform":115,"./xform/strings/shared-strings-xform":124,"./xform/style/styles-xform":135,"./xform/table/table-xform":143,"./xml/theme1":145,_process:467,buffer:220,fs:216,jszip:441,"readable-stream":491}],145:[function(r,n,i){n.exports=`<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<a:theme xmlns:a="http://schemas.openxmlformats.org/drawingml/2006/main" name="Office Theme"> <a:themeElements> <a:clrScheme name="Office"> <a:dk1> <a:sysClr val="windowText" lastClr="000000"/> </a:dk1> <a:lt1> <a:sysClr val="window" lastClr="FFFFFF"/> </a:lt1> <a:dk2> <a:srgbClr val="1F497D"/> </a:dk2> <a:lt2> <a:srgbClr val="EEECE1"/> </a:lt2> <a:accent1> <a:srgbClr val="4F81BD"/> </a:accent1> <a:accent2> <a:srgbClr val="C0504D"/> </a:accent2> <a:accent3> <a:srgbClr val="9BBB59"/> </a:accent3> <a:accent4> <a:srgbClr val="8064A2"/> </a:accent4> <a:accent5> <a:srgbClr val="4BACC6"/> </a:accent5> <a:accent6> <a:srgbClr val="F79646"/> </a:accent6> <a:hlink> <a:srgbClr val="0000FF"/> </a:hlink> <a:folHlink> <a:srgbClr val="800080"/> </a:folHlink> </a:clrScheme> <a:fontScheme name="Office"> <a:majorFont> <a:latin typeface="Cambria"/> <a:ea typeface=""/> <a:cs typeface=""/> <a:font script="Jpan" typeface=" "/> <a:font script="Hang" typeface=" "/> <a:font script="Hans" typeface=""/> <a:font script="Hant" typeface=""/> <a:font script="Arab" typeface="Times New Roman"/> <a:font script="Hebr" typeface="Times New Roman"/> <a:font script="Thai" typeface="Tahoma"/> <a:font script="Ethi" typeface="Nyala"/> <a:font script="Beng" typeface="Vrinda"/> <a:font script="Gujr" typeface="Shruti"/> <a:font script="Khmr" typeface="MoolBoran"/> <a:font script="Knda" typeface="Tunga"/> <a:font script="Guru" typeface="Raavi"/> <a:font script="Cans" typeface="Euphemia"/> <a:font script="Cher" typeface="Plantagenet Cherokee"/> <a:font script="Yiii" typeface="Microsoft Yi Baiti"/> <a:font script="Tibt" typeface="Microsoft Himalaya"/> <a:font script="Thaa" typeface="MV Boli"/> <a:font script="Deva" typeface="Mangal"/> <a:font script="Telu" typeface="Gautami"/> <a:font script="Taml" typeface="Latha"/> <a:font script="Syrc" typeface="Estrangelo Edessa"/> <a:font script="Orya" typeface="Kalinga"/> <a:font script="Mlym" typeface="Kartika"/> <a:font script="Laoo" typeface="DokChampa"/> <a:font script="Sinh" typeface="Iskoola Pota"/> <a:font script="Mong" typeface="Mongolian Baiti"/> <a:font script="Viet" typeface="Times New Roman"/> <a:font script="Uigh" typeface="Microsoft Uighur"/> <a:font script="Geor" typeface="Sylfaen"/> </a:majorFont> <a:minorFont> <a:latin typeface="Calibri"/> <a:ea typeface=""/> <a:cs typeface=""/> <a:font script="Jpan" typeface=" "/> <a:font script="Hang" typeface=" "/> <a:font script="Hans" typeface=""/> <a:font script="Hant" typeface=""/> <a:font script="Arab" typeface="Arial"/> <a:font script="Hebr" typeface="Arial"/> <a:font script="Thai" typeface="Tahoma"/> <a:font script="Ethi" typeface="Nyala"/> <a:font script="Beng" typeface="Vrinda"/> <a:font script="Gujr" typeface="Shruti"/> <a:font script="Khmr" typeface="DaunPenh"/> <a:font script="Knda" typeface="Tunga"/> <a:font script="Guru" typeface="Raavi"/> <a:font script="Cans" typeface="Euphemia"/> <a:font script="Cher" typeface="Plantagenet Cherokee"/> <a:font script="Yiii" typeface="Microsoft Yi Baiti"/> <a:font script="Tibt" typeface="Microsoft Himalaya"/> <a:font script="Thaa" typeface="MV Boli"/> <a:font script="Deva" typeface="Mangal"/> <a:font script="Telu" typeface="Gautami"/> <a:font script="Taml" typeface="Latha"/> <a:font script="Syrc" typeface="Estrangelo Edessa"/> <a:font script="Orya" typeface="Kalinga"/> <a:font script="Mlym" typeface="Kartika"/> <a:font script="Laoo" typeface="DokChampa"/> <a:font script="Sinh" typeface="Iskoola Pota"/> <a:font script="Mong" typeface="Mongolian Baiti"/> <a:font script="Viet" typeface="Arial"/> <a:font script="Uigh" typeface="Microsoft Uighur"/> <a:font script="Geor" typeface="Sylfaen"/> </a:minorFont> </a:fontScheme> <a:fmtScheme name="Office"> <a:fillStyleLst> <a:solidFill> <a:schemeClr val="phClr"/> </a:solidFill> <a:gradFill rotWithShape="1"> <a:gsLst> <a:gs pos="0"> <a:schemeClr val="phClr"> <a:tint val="50000"/> <a:satMod val="300000"/> </a:schemeClr> </a:gs> <a:gs pos="35000"> <a:schemeClr val="phClr"> <a:tint val="37000"/> <a:satMod val="300000"/> </a:schemeClr> </a:gs> <a:gs pos="100000"> <a:schemeClr val="phClr"> <a:tint val="15000"/> <a:satMod val="350000"/> </a:schemeClr> </a:gs> </a:gsLst> <a:lin ang="16200000" scaled="1"/> </a:gradFill> <a:gradFill rotWithShape="1"> <a:gsLst> <a:gs pos="0"> <a:schemeClr val="phClr"> <a:tint val="100000"/> <a:shade val="100000"/> <a:satMod val="130000"/> </a:schemeClr> </a:gs> <a:gs pos="100000"> <a:schemeClr val="phClr"> <a:tint val="50000"/> <a:shade val="100000"/> <a:satMod val="350000"/> </a:schemeClr> </a:gs> </a:gsLst> <a:lin ang="16200000" scaled="0"/> </a:gradFill> </a:fillStyleLst> <a:lnStyleLst> <a:ln w="9525" cap="flat" cmpd="sng" algn="ctr"> <a:solidFill> <a:schemeClr val="phClr"> <a:shade val="95000"/> <a:satMod val="105000"/> </a:schemeClr> </a:solidFill> <a:prstDash val="solid"/> </a:ln> <a:ln w="25400" cap="flat" cmpd="sng" algn="ctr"> <a:solidFill> <a:schemeClr val="phClr"/> </a:solidFill> <a:prstDash val="solid"/> </a:ln> <a:ln w="38100" cap="flat" cmpd="sng" algn="ctr"> <a:solidFill> <a:schemeClr val="phClr"/> </a:solidFill> <a:prstDash val="solid"/> </a:ln> </a:lnStyleLst> <a:effectStyleLst> <a:effectStyle> <a:effectLst> <a:outerShdw blurRad="40000" dist="20000" dir="5400000" rotWithShape="0"> <a:srgbClr val="000000"> <a:alpha val="38000"/> </a:srgbClr> </a:outerShdw> </a:effectLst> </a:effectStyle> <a:effectStyle> <a:effectLst> <a:outerShdw blurRad="40000" dist="23000" dir="5400000" rotWithShape="0"> <a:srgbClr val="000000"> <a:alpha val="35000"/> </a:srgbClr> </a:outerShdw> </a:effectLst> </a:effectStyle> <a:effectStyle> <a:effectLst> <a:outerShdw blurRad="40000" dist="23000" dir="5400000" rotWithShape="0"> <a:srgbClr val="000000"> <a:alpha val="35000"/> </a:srgbClr> </a:outerShdw> </a:effectLst> <a:scene3d> <a:camera prst="orthographicFront"> <a:rot lat="0" lon="0" rev="0"/> </a:camera> <a:lightRig rig="threePt" dir="t"> <a:rot lat="0" lon="0" rev="1200000"/> </a:lightRig> </a:scene3d> <a:sp3d> <a:bevelT w="63500" h="25400"/> </a:sp3d> </a:effectStyle> </a:effectStyleLst> <a:bgFillStyleLst> <a:solidFill> <a:schemeClr val="phClr"/> </a:solidFill> <a:gradFill rotWithShape="1"> <a:gsLst> <a:gs pos="0"> <a:schemeClr val="phClr"> <a:tint val="40000"/> <a:satMod val="350000"/> </a:schemeClr> </a:gs> <a:gs pos="40000"> <a:schemeClr val="phClr"> <a:tint val="45000"/> <a:shade val="99000"/> <a:satMod val="350000"/> </a:schemeClr> </a:gs> <a:gs pos="100000"> <a:schemeClr val="phClr"> <a:shade val="20000"/> <a:satMod val="255000"/> </a:schemeClr> </a:gs> </a:gsLst> <a:path path="circle"> <a:fillToRect l="50000" t="-80000" r="50000" b="180000"/> </a:path> </a:gradFill> <a:gradFill rotWithShape="1"> <a:gsLst> <a:gs pos="0"> <a:schemeClr val="phClr"> <a:tint val="80000"/> <a:satMod val="300000"/> </a:schemeClr> </a:gs> <a:gs pos="100000"> <a:schemeClr val="phClr"> <a:shade val="30000"/> <a:satMod val="200000"/> </a:schemeClr> </a:gs> </a:gsLst> <a:path path="circle"> <a:fillToRect l="50000" t="50000" r="50000" b="50000"/> </a:path> </a:gradFill> </a:bgFillStyleLst> </a:fmtScheme> </a:themeElements> <a:objectDefaults> <a:spDef> <a:spPr/> <a:bodyPr/> <a:lstStyle/> <a:style> <a:lnRef idx="1"> <a:schemeClr val="accent1"/> </a:lnRef> <a:fillRef idx="3"> <a:schemeClr val="accent1"/> </a:fillRef> <a:effectRef idx="2"> <a:schemeClr val="accent1"/> </a:effectRef> <a:fontRef idx="minor"> <a:schemeClr val="lt1"/> </a:fontRef> </a:style> </a:spDef> <a:lnDef> <a:spPr/> <a:bodyPr/> <a:lstStyle/> <a:style> <a:lnRef idx="2"> <a:schemeClr val="accent1"/> </a:lnRef> <a:fillRef idx="0"> <a:schemeClr val="accent1"/> </a:fillRef> <a:effectRef idx="1"> <a:schemeClr val="accent1"/> </a:effectRef> <a:fontRef idx="minor"> <a:schemeClr val="tx1"/> </a:fontRef> </a:style> </a:lnDef> </a:objectDefaults> <a:extraClrSchemeLst/> </a:theme>`},{}],146:[function(r,n,i){(function(o){(function(){Object.defineProperty(i,"__esModule",{value:!0}),i.CsvFormatterStream=void 0;const s=r("stream"),a=r("./formatter");class l extends s.Transform{constructor(c){super({writableObjectMode:c.objectMode}),this.hasWrittenBOM=!1,this.formatterOptions=c,this.rowFormatter=new a.RowFormatter(c),this.hasWrittenBOM=!c.writeBOM}transform(c){return this.rowFormatter.rowTransform=c,this}_transform(c,f,d){let h=!1;try{this.hasWrittenBOM||(this.push(this.formatterOptions.BOM),this.hasWrittenBOM=!0),this.rowFormatter.format(c,(g,m)=>g?(h=!0,d(g)):(m&&m.forEach(p=>{this.push(o.from(p,"utf8"))}),h=!0,d()))}catch(g){if(h)throw g;d(g)}}_flush(c){this.rowFormatter.finish((f,d)=>f?c(f):(d&&d.forEach(h=>{this.push(o.from(h,"utf8"))}),c()))}}i.CsvFormatterStream=l}).call(this)}).call(this,r("buffer").Buffer)},{"./formatter":150,buffer:220,stream:505}],147:[function(r,n,i){Object.defineProperty(i,"__esModule",{value:!0}),i.FormatterOptions=void 0,i.FormatterOptions=class{constructor(){let o=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};var s;this.objectMode=!0,this.delimiter=",",this.rowDelimiter=`
`,this.quote='"',this.escape=this.quote,this.quoteColumns=!1,this.quoteHeaders=this.quoteColumns,this.headers=null,this.includeEndRowDelimiter=!1,this.writeBOM=!1,this.BOM="\uFEFF",this.alwaysWriteHeaders=!1,Object.assign(this,o||{}),o?.quoteHeaders===void 0&&(this.quoteHeaders=this.quoteColumns),o?.quote===!0?this.quote='"':o?.quote===!1&&(this.quote=""),typeof o?.escape!="string"&&(this.escape=this.quote),this.shouldWriteHeaders=!!this.headers&&((s=o.writeHeaders)===null||s===void 0||s),this.headers=Array.isArray(this.headers)?this.headers:null,this.escapedQuote=`${this.escape}${this.quote}`}}},{}],148:[function(r,n,i){var o=function(u){return u&&u.__esModule?u:{default:u}};Object.defineProperty(i,"__esModule",{value:!0}),i.FieldFormatter=void 0;const s=o(r("lodash.isboolean")),a=o(r("lodash.isnil")),l=o(r("lodash.escaperegexp"));i.FieldFormatter=class{constructor(u){this._headers=null,this.formatterOptions=u,u.headers!==null&&(this.headers=u.headers),this.REPLACE_REGEXP=new RegExp(u.quote,"g");const c=`[${u.delimiter}${l.default(u.rowDelimiter)}|\r|
]`;this.ESCAPE_REGEXP=new RegExp(c)}set headers(u){this._headers=u}shouldQuote(u,c){const f=c?this.formatterOptions.quoteHeaders:this.formatterOptions.quoteColumns;return s.default(f)?f:Array.isArray(f)?f[u]:this._headers!==null&&f[this._headers[u]]}format(u,c,f){const d=(""+(a.default(u)?"":u)).replace(/\0/g,""),{formatterOptions:h}=this;return h.quote!==""&&d.indexOf(h.quote)!==-1?this.quoteField(d.replace(this.REPLACE_REGEXP,h.escapedQuote)):d.search(this.ESCAPE_REGEXP)!==-1||this.shouldQuote(c,f)?this.quoteField(d):d}quoteField(u){const{quote:c}=this.formatterOptions;return`${c}${u}${c}`}}},{"lodash.escaperegexp":442,"lodash.isboolean":444,"lodash.isnil":447}],149:[function(r,n,i){var o=function(f){return f&&f.__esModule?f:{default:f}};Object.defineProperty(i,"__esModule",{value:!0}),i.RowFormatter=void 0;const s=o(r("lodash.isfunction")),a=o(r("lodash.isequal")),l=r("./FieldFormatter"),u=r("../types");class c{constructor(d){this.rowCount=0,this.formatterOptions=d,this.fieldFormatter=new l.FieldFormatter(d),this.headers=d.headers,this.shouldWriteHeaders=d.shouldWriteHeaders,this.hasWrittenHeaders=!1,this.headers!==null&&(this.fieldFormatter.headers=this.headers),d.transform&&(this.rowTransform=d.transform)}static isRowHashArray(d){return!!Array.isArray(d)&&Array.isArray(d[0])&&d[0].length===2}static isRowArray(d){return Array.isArray(d)&&!this.isRowHashArray(d)}static gatherHeaders(d){return c.isRowHashArray(d)?d.map(h=>h[0]):Array.isArray(d)?d:Object.keys(d)}static createTransform(d){return u.isSyncTransform(d)?(h,g)=>{let m=null;try{m=d(h)}catch(p){return g(p)}return g(null,m)}:(h,g)=>{d(h,g)}}set rowTransform(d){if(!s.default(d))throw new TypeError("The transform should be a function");this._rowTransform=c.createTransform(d)}format(d,h){this.callTransformer(d,(g,m)=>{if(g)return h(g);if(!d)return h(null);const p=[];if(m){const{shouldFormatColumns:y,headers:b}=this.checkHeaders(m);if(this.shouldWriteHeaders&&b&&!this.hasWrittenHeaders&&(p.push(this.formatColumns(b,!0)),this.hasWrittenHeaders=!0),y){const v=this.gatherColumns(m);p.push(this.formatColumns(v,!1))}}return h(null,p)})}finish(d){const h=[];if(this.formatterOptions.alwaysWriteHeaders&&this.rowCount===0){if(!this.headers)return d(new Error("`alwaysWriteHeaders` option is set to true but `headers` option not provided."));h.push(this.formatColumns(this.headers,!0))}return this.formatterOptions.includeEndRowDelimiter&&h.push(this.formatterOptions.rowDelimiter),d(null,h)}checkHeaders(d){if(this.headers)return{shouldFormatColumns:!0,headers:this.headers};const h=c.gatherHeaders(d);return this.headers=h,this.fieldFormatter.headers=h,this.shouldWriteHeaders?{shouldFormatColumns:!a.default(h,d),headers:h}:{shouldFormatColumns:!0,headers:null}}gatherColumns(d){if(this.headers===null)throw new Error("Headers is currently null");return Array.isArray(d)?c.isRowHashArray(d)?this.headers.map((h,g)=>{const m=d[g];return m?m[1]:""}):c.isRowArray(d)&&!this.shouldWriteHeaders?d:this.headers.map((h,g)=>d[g]):this.headers.map(h=>d[h])}callTransformer(d,h){return this._rowTransform?this._rowTransform(d,h):h(null,d)}formatColumns(d,h){const g=d.map((p,y)=>this.fieldFormatter.format(p,y,h)).join(this.formatterOptions.delimiter),{rowCount:m}=this;return this.rowCount+=1,m?[this.formatterOptions.rowDelimiter,g].join(""):g}}i.RowFormatter=c},{"../types":152,"./FieldFormatter":148,"lodash.isequal":445,"lodash.isfunction":446}],150:[function(r,n,i){Object.defineProperty(i,"__esModule",{value:!0}),i.FieldFormatter=i.RowFormatter=void 0;var o=r("./RowFormatter");Object.defineProperty(i,"RowFormatter",{enumerable:!0,get:function(){return o.RowFormatter}});var s=r("./FieldFormatter");Object.defineProperty(i,"FieldFormatter",{enumerable:!0,get:function(){return s.FieldFormatter}})},{"./FieldFormatter":148,"./RowFormatter":149}],151:[function(r,n,i){(function(o){(function(){var s=Object.create?function(y,b,v,F){F===void 0&&(F=v),Object.defineProperty(y,F,{enumerable:!0,get:function(){return b[v]}})}:function(y,b,v,F){F===void 0&&(F=v),y[F]=b[v]},a=Object.create?function(y,b){Object.defineProperty(y,"default",{enumerable:!0,value:b})}:function(y,b){y.default=b},l=function(y){if(y&&y.__esModule)return y;var b={};if(y!=null)for(var v in y)v!=="default"&&Object.prototype.hasOwnProperty.call(y,v)&&s(b,y,v);return a(b,y),b},u=function(y,b){for(var v in y)v==="default"||Object.prototype.hasOwnProperty.call(b,v)||s(b,y,v)};Object.defineProperty(i,"__esModule",{value:!0}),i.writeToPath=i.writeToString=i.writeToBuffer=i.writeToStream=i.write=i.format=i.FormatterOptions=i.CsvFormatterStream=void 0;const c=r("util"),f=r("stream"),d=l(r("fs")),h=r("./FormatterOptions"),g=r("./CsvFormatterStream");u(r("./types"),i);var m=r("./CsvFormatterStream");Object.defineProperty(i,"CsvFormatterStream",{enumerable:!0,get:function(){return m.CsvFormatterStream}});var p=r("./FormatterOptions");Object.defineProperty(i,"FormatterOptions",{enumerable:!0,get:function(){return p.FormatterOptions}}),i.format=y=>new g.CsvFormatterStream(new h.FormatterOptions(y)),i.write=(y,b)=>{const v=i.format(b),F=c.promisify((E,T)=>{v.write(E,void 0,T)});return y.reduce((E,T)=>E.then(()=>F(T)),Promise.resolve()).then(()=>v.end()).catch(E=>{v.emit("error",E)}),v},i.writeToStream=(y,b,v)=>i.write(b,v).pipe(y),i.writeToBuffer=function(y){let b=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const v=[],F=new f.Writable({write(E,T,I){v.push(E),I()}});return new Promise((E,T)=>{F.on("error",T).on("finish",()=>E(o.concat(v))),i.write(y,b).pipe(F)})},i.writeToString=(y,b)=>i.writeToBuffer(y,b).then(v=>v.toString()),i.writeToPath=(y,b,v)=>{const F=d.createWriteStream(y,{encoding:"utf8"});return i.write(b,v).pipe(F)}}).call(this)}).call(this,r("buffer").Buffer)},{"./CsvFormatterStream":146,"./FormatterOptions":147,"./types":152,buffer:220,fs:216,stream:505,util:527}],152:[function(r,n,i){Object.defineProperty(i,"__esModule",{value:!0}),i.isSyncTransform=void 0,i.isSyncTransform=o=>o.length===1},{}],153:[function(r,n,i){(function(o){(function(){Object.defineProperty(i,"__esModule",{value:!0}),i.CsvParserStream=void 0;const s=r("string_decoder"),a=r("stream"),l=r("./transforms"),u=r("./parser");class c extends a.Transform{constructor(d){super({objectMode:d.objectMode}),this.lines="",this.rowCount=0,this.parsedRowCount=0,this.parsedLineCount=0,this.endEmitted=!1,this.headersEmitted=!1,this.parserOptions=d,this.parser=new u.Parser(d),this.headerTransformer=new l.HeaderTransformer(d),this.decoder=new s.StringDecoder(d.encoding),this.rowTransformerValidator=new l.RowTransformerValidator}get hasHitRowLimit(){return this.parserOptions.limitRows&&this.rowCount>=this.parserOptions.maxRows}get shouldEmitRows(){return this.parsedRowCount>this.parserOptions.skipRows}get shouldSkipLine(){return this.parsedLineCount<=this.parserOptions.skipLines}transform(d){return this.rowTransformerValidator.rowTransform=d,this}validate(d){return this.rowTransformerValidator.rowValidator=d,this}emit(d){if(d==="end")return this.endEmitted||(this.endEmitted=!0,super.emit("end",this.rowCount)),!1;for(var h=arguments.length,g=new Array(h>1?h-1:0),m=1;m<h;m++)g[m-1]=arguments[m];return super.emit(d,...g)}_transform(d,h,g){if(this.hasHitRowLimit)return g();const m=c.wrapDoneCallback(g);try{const{lines:p}=this,y=p+this.decoder.write(d),b=this.parse(y,!0);return this.processRows(b,m)}catch(p){return m(p)}}_flush(d){const h=c.wrapDoneCallback(d);if(this.hasHitRowLimit)return h();try{const g=this.lines+this.decoder.end(),m=this.parse(g,!1);return this.processRows(m,h)}catch(g){return h(g)}}parse(d,h){if(!d)return[];const{line:g,rows:m}=this.parser.parse(d,h);return this.lines=g,m}processRows(d,h){const g=d.length,m=p=>{const y=F=>F?h(F):p%100!=0?m(p+1):void o(()=>m(p+1));if(this.checkAndEmitHeaders(),p>=g||this.hasHitRowLimit)return h();if(this.parsedLineCount+=1,this.shouldSkipLine)return y();const b=d[p];this.rowCount+=1,this.parsedRowCount+=1;const v=this.rowCount;return this.transformRow(b,(F,E)=>{if(F)return this.rowCount-=1,y(F);if(!E)return y(new Error("expected transform result"));if(E.isValid){if(E.row)return this.pushRow(E.row,y)}else this.emit("data-invalid",E.row,v,E.reason);return y()})};m(0)}transformRow(d,h){try{this.headerTransformer.transform(d,(g,m)=>g?h(g):m?m.isValid?m.row?this.shouldEmitRows?this.rowTransformerValidator.transformAndValidate(m.row,h):this.skipRow(h):(this.rowCount-=1,this.parsedRowCount-=1,h(null,{row:null,isValid:!0})):this.shouldEmitRows?h(null,{isValid:!1,row:d}):this.skipRow(h):h(new Error("Expected result from header transform")))}catch(g){h(g)}}checkAndEmitHeaders(){!this.headersEmitted&&this.headerTransformer.headers&&(this.headersEmitted=!0,this.emit("headers",this.headerTransformer.headers))}skipRow(d){return this.rowCount-=1,d(null,{row:null,isValid:!0})}pushRow(d,h){try{this.parserOptions.objectMode?this.push(d):this.push(JSON.stringify(d)),h()}catch(g){h(g)}}static wrapDoneCallback(d){let h=!1;return function(g){if(g){if(h)throw g;return h=!0,void d(g)}for(var m=arguments.length,p=new Array(m>1?m-1:0),y=1;y<m;y++)p[y-1]=arguments[y];d(...p)}}}i.CsvParserStream=c}).call(this)}).call(this,r("timers").setImmediate)},{"./parser":165,"./transforms":168,stream:505,string_decoder:218,timers:523}],154:[function(r,n,i){var o=function(l){return l&&l.__esModule?l:{default:l}};Object.defineProperty(i,"__esModule",{value:!0}),i.ParserOptions=void 0;const s=o(r("lodash.escaperegexp")),a=o(r("lodash.isnil"));i.ParserOptions=class{constructor(l){var u;if(this.objectMode=!0,this.delimiter=",",this.ignoreEmpty=!1,this.quote='"',this.escape=null,this.escapeChar=this.quote,this.comment=null,this.supportsComments=!1,this.ltrim=!1,this.rtrim=!1,this.trim=!1,this.headers=null,this.renameHeaders=!1,this.strictColumnHandling=!1,this.discardUnmappedColumns=!1,this.carriageReturn="\r",this.encoding="utf8",this.limitRows=!1,this.maxRows=0,this.skipLines=0,this.skipRows=0,Object.assign(this,l||{}),this.delimiter.length>1)throw new Error("delimiter option must be one character long");this.escapedDelimiter=s.default(this.delimiter),this.escapeChar=(u=this.escape)!==null&&u!==void 0?u:this.quote,this.supportsComments=!a.default(this.comment),this.NEXT_TOKEN_REGEXP=new RegExp(`([^\\s]|\\r\\n|\\n|\\r|${this.escapedDelimiter})`),this.maxRows>0&&(this.limitRows=!0)}}},{"lodash.escaperegexp":442,"lodash.isnil":447}],155:[function(r,n,i){var o=Object.create?function(m,p,y,b){b===void 0&&(b=y),Object.defineProperty(m,b,{enumerable:!0,get:function(){return p[y]}})}:function(m,p,y,b){b===void 0&&(b=y),m[b]=p[y]},s=Object.create?function(m,p){Object.defineProperty(m,"default",{enumerable:!0,value:p})}:function(m,p){m.default=p},a=function(m){if(m&&m.__esModule)return m;var p={};if(m!=null)for(var y in m)y!=="default"&&Object.prototype.hasOwnProperty.call(m,y)&&o(p,m,y);return s(p,m),p},l=function(m,p){for(var y in m)y==="default"||Object.prototype.hasOwnProperty.call(p,y)||o(p,m,y)};Object.defineProperty(i,"__esModule",{value:!0}),i.parseString=i.parseFile=i.parseStream=i.parse=i.ParserOptions=i.CsvParserStream=void 0;const u=a(r("fs")),c=r("stream"),f=r("./ParserOptions"),d=r("./CsvParserStream");l(r("./types"),i);var h=r("./CsvParserStream");Object.defineProperty(i,"CsvParserStream",{enumerable:!0,get:function(){return h.CsvParserStream}});var g=r("./ParserOptions");Object.defineProperty(i,"ParserOptions",{enumerable:!0,get:function(){return g.ParserOptions}}),i.parse=m=>new d.CsvParserStream(new f.ParserOptions(m)),i.parseStream=(m,p)=>m.pipe(new d.CsvParserStream(new f.ParserOptions(p))),i.parseFile=function(m){let p=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return u.createReadStream(m).pipe(new d.CsvParserStream(new f.ParserOptions(p)))},i.parseString=(m,p)=>{const y=new c.Readable;return y.push(m),y.push(null),y.pipe(new d.CsvParserStream(new f.ParserOptions(p)))}},{"./CsvParserStream":153,"./ParserOptions":154,"./types":169,fs:216,stream:505}],156:[function(r,n,i){Object.defineProperty(i,"__esModule",{value:!0}),i.Parser=void 0;const o=r("./Scanner"),s=r("./RowParser"),a=r("./Token");class l{constructor(c){this.parserOptions=c,this.rowParser=new s.RowParser(this.parserOptions)}static removeBOM(c){return c&&c.charCodeAt(0)===65279?c.slice(1):c}parse(c,f){const d=new o.Scanner({line:l.removeBOM(c),parserOptions:this.parserOptions,hasMoreData:f});return this.parserOptions.supportsComments?this.parseWithComments(d):this.parseWithoutComments(d)}parseWithoutComments(c){const f=[];let d=!0;for(;d;)d=this.parseRow(c,f);return{line:c.line,rows:f}}parseWithComments(c){const{parserOptions:f}=this,d=[];for(let h=c.nextCharacterToken;h!==null;h=c.nextCharacterToken)if(a.Token.isTokenComment(h,f)){if(c.advancePastLine()===null)return{line:c.lineFromCursor,rows:d};if(!c.hasMoreCharacters)return{line:c.lineFromCursor,rows:d};c.truncateToCursor()}else if(!this.parseRow(c,d))break;return{line:c.line,rows:d}}parseRow(c,f){if(!c.nextNonSpaceToken)return!1;const d=this.rowParser.parse(c);return d!==null&&(this.parserOptions.ignoreEmpty&&s.RowParser.isEmptyRow(d)||f.push(d),!0)}}i.Parser=l},{"./RowParser":157,"./Scanner":158,"./Token":159}],157:[function(r,n,i){Object.defineProperty(i,"__esModule",{value:!0}),i.RowParser=void 0;const o=r("./column"),s=r("./Token");i.RowParser=class{constructor(a){this.parserOptions=a,this.columnParser=new o.ColumnParser(a)}static isEmptyRow(a){return a.join("").replace(/\s+/g,"")===""}parse(a){const{parserOptions:l}=this,{hasMoreData:u}=a,c=a,f=[];let d=this.getStartToken(c,f);for(;d;){if(s.Token.isTokenRowDelimiter(d))return c.advancePastToken(d),!c.hasMoreCharacters&&s.Token.isTokenCarriageReturn(d,l)&&u?null:(c.truncateToCursor(),f);if(!this.shouldSkipColumnParse(c,d,f)){const h=this.columnParser.parse(c);if(h===null)return null;f.push(h)}d=c.nextNonSpaceToken}return u?null:(c.truncateToCursor(),f)}getStartToken(a,l){const u=a.nextNonSpaceToken;return u!==null&&s.Token.isTokenDelimiter(u,this.parserOptions)?(l.push(""),a.nextNonSpaceToken):u}shouldSkipColumnParse(a,l,u){const{parserOptions:c}=this;if(s.Token.isTokenDelimiter(l,c)){a.advancePastToken(l);const f=a.nextCharacterToken;if(!a.hasMoreCharacters||f!==null&&s.Token.isTokenRowDelimiter(f)||f!==null&&s.Token.isTokenDelimiter(f,c))return u.push(""),!0}return!1}}},{"./Token":159,"./column":164}],158:[function(r,n,i){Object.defineProperty(i,"__esModule",{value:!0}),i.Scanner=void 0;const o=r("./Token"),s=/((?:\r\n)|\n|\r)/;i.Scanner=class{constructor(a){this.cursor=0,this.line=a.line,this.lineLength=this.line.length,this.parserOptions=a.parserOptions,this.hasMoreData=a.hasMoreData,this.cursor=a.cursor||0}get hasMoreCharacters(){return this.lineLength>this.cursor}get nextNonSpaceToken(){const{lineFromCursor:a}=this,l=this.parserOptions.NEXT_TOKEN_REGEXP;if(a.search(l)===-1)return null;const u=l.exec(a);if(u==null)return null;const c=u[1],f=this.cursor+(u.index||0);return new o.Token({token:c,startCursor:f,endCursor:f+c.length-1})}get nextCharacterToken(){const{cursor:a,lineLength:l}=this;return l<=a?null:new o.Token({token:this.line[a],startCursor:a,endCursor:a})}get lineFromCursor(){return this.line.substr(this.cursor)}advancePastLine(){const a=s.exec(this.lineFromCursor);return a?(this.cursor+=(a.index||0)+a[0].length,this):this.hasMoreData?null:(this.cursor=this.lineLength,this)}advanceTo(a){return this.cursor=a,this}advanceToToken(a){return this.cursor=a.startCursor,this}advancePastToken(a){return this.cursor=a.endCursor+1,this}truncateToCursor(){return this.line=this.lineFromCursor,this.lineLength=this.line.length,this.cursor=0,this}}},{"./Token":159}],159:[function(r,n,i){Object.defineProperty(i,"__esModule",{value:!0}),i.Token=void 0,i.Token=class{constructor(o){this.token=o.token,this.startCursor=o.startCursor,this.endCursor=o.endCursor}static isTokenRowDelimiter(o){const s=o.token;return s==="\r"||s===`
`||s===`\r
`}static isTokenCarriageReturn(o,s){return o.token===s.carriageReturn}static isTokenComment(o,s){return s.supportsComments&&!!o&&o.token===s.comment}static isTokenEscapeCharacter(o,s){return o.token===s.escapeChar}static isTokenQuote(o,s){return o.token===s.quote}static isTokenDelimiter(o,s){return o.token===s.delimiter}}},{}],160:[function(r,n,i){Object.defineProperty(i,"__esModule",{value:!0}),i.ColumnFormatter=void 0,i.ColumnFormatter=class{constructor(o){o.trim?this.format=s=>s.trim():o.ltrim?this.format=s=>s.trimLeft():o.rtrim?this.format=s=>s.trimRight():this.format=s=>s}}},{}],161:[function(r,n,i){Object.defineProperty(i,"__esModule",{value:!0}),i.ColumnParser=void 0;const o=r("./NonQuotedColumnParser"),s=r("./QuotedColumnParser"),a=r("../Token");i.ColumnParser=class{constructor(l){this.parserOptions=l,this.quotedColumnParser=new s.QuotedColumnParser(l),this.nonQuotedColumnParser=new o.NonQuotedColumnParser(l)}parse(l){const{nextNonSpaceToken:u}=l;return u!==null&&a.Token.isTokenQuote(u,this.parserOptions)?(l.advanceToToken(u),this.quotedColumnParser.parse(l)):this.nonQuotedColumnParser.parse(l)}}},{"../Token":159,"./NonQuotedColumnParser":162,"./QuotedColumnParser":163}],162:[function(r,n,i){Object.defineProperty(i,"__esModule",{value:!0}),i.NonQuotedColumnParser=void 0;const o=r("./ColumnFormatter"),s=r("../Token");i.NonQuotedColumnParser=class{constructor(a){this.parserOptions=a,this.columnFormatter=new o.ColumnFormatter(a)}parse(a){if(!a.hasMoreCharacters)return null;const{parserOptions:l}=this,u=[];let c=a.nextCharacterToken;for(;c&&!s.Token.isTokenDelimiter(c,l)&&!s.Token.isTokenRowDelimiter(c);c=a.nextCharacterToken)u.push(c.token),a.advancePastToken(c);return this.columnFormatter.format(u.join(""))}}},{"../Token":159,"./ColumnFormatter":160}],163:[function(r,n,i){Object.defineProperty(i,"__esModule",{value:!0}),i.QuotedColumnParser=void 0;const o=r("./ColumnFormatter"),s=r("../Token");i.QuotedColumnParser=class{constructor(a){this.parserOptions=a,this.columnFormatter=new o.ColumnFormatter(a)}parse(a){if(!a.hasMoreCharacters)return null;const l=a.cursor,{foundClosingQuote:u,col:c}=this.gatherDataBetweenQuotes(a);if(!u){if(a.advanceTo(l),!a.hasMoreData)throw new Error(`Parse Error: missing closing: '${this.parserOptions.quote||""}' in line: at '${a.lineFromCursor.replace(/[\r\n]/g,"\\n'")}'`);return null}return this.checkForMalformedColumn(a),c}gatherDataBetweenQuotes(a){const{parserOptions:l}=this;let u=!1,c=!1;const f=[];let d=a.nextCharacterToken;for(;!c&&d!==null;d=a.nextCharacterToken){const h=s.Token.isTokenQuote(d,l);if(!u&&h)u=!0;else if(u)if(s.Token.isTokenEscapeCharacter(d,l)){a.advancePastToken(d);const g=a.nextCharacterToken;g!==null&&(s.Token.isTokenQuote(g,l)||s.Token.isTokenEscapeCharacter(g,l))?(f.push(g.token),d=g):h?c=!0:f.push(d.token)}else h?c=!0:f.push(d.token);a.advancePastToken(d)}return{col:this.columnFormatter.format(f.join("")),foundClosingQuote:c}}checkForMalformedColumn(a){const{parserOptions:l}=this,{nextNonSpaceToken:u}=a;if(u){const c=s.Token.isTokenDelimiter(u,l),f=s.Token.isTokenRowDelimiter(u);if(!c&&!f){const d=a.lineFromCursor.substr(0,10).replace(/[\r\n]/g,"\\n'");throw new Error(`Parse Error: expected: '${l.escapedDelimiter}' OR new line got: '${u.token}'. at '${d}`)}a.advanceToToken(u)}else a.hasMoreData||a.advancePastLine()}}},{"../Token":159,"./ColumnFormatter":160}],164:[function(r,n,i){Object.defineProperty(i,"__esModule",{value:!0}),i.ColumnFormatter=i.QuotedColumnParser=i.NonQuotedColumnParser=i.ColumnParser=void 0;var o=r("./ColumnParser");Object.defineProperty(i,"ColumnParser",{enumerable:!0,get:function(){return o.ColumnParser}});var s=r("./NonQuotedColumnParser");Object.defineProperty(i,"NonQuotedColumnParser",{enumerable:!0,get:function(){return s.NonQuotedColumnParser}});var a=r("./QuotedColumnParser");Object.defineProperty(i,"QuotedColumnParser",{enumerable:!0,get:function(){return a.QuotedColumnParser}});var l=r("./ColumnFormatter");Object.defineProperty(i,"ColumnFormatter",{enumerable:!0,get:function(){return l.ColumnFormatter}})},{"./ColumnFormatter":160,"./ColumnParser":161,"./NonQuotedColumnParser":162,"./QuotedColumnParser":163}],165:[function(r,n,i){Object.defineProperty(i,"__esModule",{value:!0}),i.QuotedColumnParser=i.NonQuotedColumnParser=i.ColumnParser=i.Token=i.Scanner=i.RowParser=i.Parser=void 0;var o=r("./Parser");Object.defineProperty(i,"Parser",{enumerable:!0,get:function(){return o.Parser}});var s=r("./RowParser");Object.defineProperty(i,"RowParser",{enumerable:!0,get:function(){return s.RowParser}});var a=r("./Scanner");Object.defineProperty(i,"Scanner",{enumerable:!0,get:function(){return a.Scanner}});var l=r("./Token");Object.defineProperty(i,"Token",{enumerable:!0,get:function(){return l.Token}});var u=r("./column");Object.defineProperty(i,"ColumnParser",{enumerable:!0,get:function(){return u.ColumnParser}}),Object.defineProperty(i,"NonQuotedColumnParser",{enumerable:!0,get:function(){return u.NonQuotedColumnParser}}),Object.defineProperty(i,"QuotedColumnParser",{enumerable:!0,get:function(){return u.QuotedColumnParser}})},{"./Parser":156,"./RowParser":157,"./Scanner":158,"./Token":159,"./column":164}],166:[function(r,n,i){var o=function(c){return c&&c.__esModule?c:{default:c}};Object.defineProperty(i,"__esModule",{value:!0}),i.HeaderTransformer=void 0;const s=o(r("lodash.isundefined")),a=o(r("lodash.isfunction")),l=o(r("lodash.uniq")),u=o(r("lodash.groupby"));i.HeaderTransformer=class{constructor(c){this.headers=null,this.receivedHeaders=!1,this.shouldUseFirstRow=!1,this.processedFirstRow=!1,this.headersLength=0,this.parserOptions=c,c.headers===!0?this.shouldUseFirstRow=!0:Array.isArray(c.headers)?this.setHeaders(c.headers):a.default(c.headers)&&(this.headersTransform=c.headers)}transform(c,f){return this.shouldMapRow(c)?f(null,this.processRow(c)):f(null,{row:null,isValid:!0})}shouldMapRow(c){const{parserOptions:f}=this;if(!this.headersTransform&&f.renameHeaders&&!this.processedFirstRow){if(!this.receivedHeaders)throw new Error("Error renaming headers: new headers must be provided in an array");return this.processedFirstRow=!0,!1}if(!this.receivedHeaders&&Array.isArray(c)){if(this.headersTransform)this.setHeaders(this.headersTransform(c));else{if(!this.shouldUseFirstRow)return!0;this.setHeaders(c)}return!1}return!0}processRow(c){if(!this.headers)return{row:c,isValid:!0};const{parserOptions:f}=this;if(!f.discardUnmappedColumns&&c.length>this.headersLength){if(!f.strictColumnHandling)throw new Error(`Unexpected Error: column header mismatch expected: ${this.headersLength} columns got: ${c.length}`);return{row:c,isValid:!1,reason:`Column header mismatch expected: ${this.headersLength} columns got: ${c.length}`}}return f.strictColumnHandling&&c.length<this.headersLength?{row:c,isValid:!1,reason:`Column header mismatch expected: ${this.headersLength} columns got: ${c.length}`}:{row:this.mapHeaders(c),isValid:!0}}mapHeaders(c){const f={},{headers:d,headersLength:h}=this;for(let g=0;g<h;g+=1){const m=d[g];if(!s.default(m)){const p=c[g];s.default(p)?f[m]="":f[m]=p}}return f}setHeaders(c){var f;const d=c.filter(h=>!!h);if(l.default(d).length!==d.length){const h=u.default(d),g=Object.keys(h).filter(m=>h[m].length>1);throw new Error("Duplicate headers found "+JSON.stringify(g))}this.headers=c,this.receivedHeaders=!0,this.headersLength=((f=this.headers)===null||f===void 0?void 0:f.length)||0}}},{"lodash.groupby":443,"lodash.isfunction":446,"lodash.isundefined":448,"lodash.uniq":449}],167:[function(r,n,i){var o=function(u){return u&&u.__esModule?u:{default:u}};Object.defineProperty(i,"__esModule",{value:!0}),i.RowTransformerValidator=void 0;const s=o(r("lodash.isfunction")),a=r("../types");class l{constructor(){this._rowTransform=null,this._rowValidator=null}static createTransform(c){return a.isSyncTransform(c)?(f,d)=>{let h=null;try{h=c(f)}catch(g){return d(g)}return d(null,h)}:c}static createValidator(c){return a.isSyncValidate(c)?(f,d)=>{d(null,{row:f,isValid:c(f)})}:(f,d)=>{c(f,(h,g,m)=>h?d(h):d(null,g?{row:f,isValid:g,reason:m}:{row:f,isValid:!1,reason:m}))}}set rowTransform(c){if(!s.default(c))throw new TypeError("The transform should be a function");this._rowTransform=l.createTransform(c)}set rowValidator(c){if(!s.default(c))throw new TypeError("The validate should be a function");this._rowValidator=l.createValidator(c)}transformAndValidate(c,f){return this.callTransformer(c,(d,h)=>d?f(d):h?this.callValidator(h,(g,m)=>g?f(g):m&&!m.isValid?f(null,{row:h,isValid:!1,reason:m.reason}):f(null,{row:h,isValid:!0})):f(null,{row:null,isValid:!0}))}callTransformer(c,f){return this._rowTransform?this._rowTransform(c,f):f(null,c)}callValidator(c,f){return this._rowValidator?this._rowValidator(c,f):f(null,{row:c,isValid:!0})}}i.RowTransformerValidator=l},{"../types":169,"lodash.isfunction":446}],168:[function(r,n,i){Object.defineProperty(i,"__esModule",{value:!0}),i.HeaderTransformer=i.RowTransformerValidator=void 0;var o=r("./RowTransformerValidator");Object.defineProperty(i,"RowTransformerValidator",{enumerable:!0,get:function(){return o.RowTransformerValidator}});var s=r("./HeaderTransformer");Object.defineProperty(i,"HeaderTransformer",{enumerable:!0,get:function(){return s.HeaderTransformer}})},{"./HeaderTransformer":166,"./RowTransformerValidator":167}],169:[function(r,n,i){Object.defineProperty(i,"__esModule",{value:!0}),i.isSyncValidate=i.isSyncTransform=void 0,i.isSyncTransform=o=>o.length===1,i.isSyncValidate=o=>o.length===1},{}],170:[function(r,n,i){const o=i;o.bignum=r("bn.js"),o.define=r("./asn1/api").define,o.base=r("./asn1/base"),o.constants=r("./asn1/constants"),o.decoders=r("./asn1/decoders"),o.encoders=r("./asn1/encoders")},{"./asn1/api":171,"./asn1/base":173,"./asn1/constants":177,"./asn1/decoders":179,"./asn1/encoders":182,"bn.js":184}],171:[function(r,n,i){const o=r("./encoders"),s=r("./decoders"),a=r("inherits");function l(u,c){this.name=u,this.body=c,this.decoders={},this.encoders={}}i.define=function(u,c){return new l(u,c)},l.prototype._createNamed=function(u){const c=this.name;function f(d){this._initNamed(d,c)}return a(f,u),f.prototype._initNamed=function(d,h){u.call(this,d,h)},new f(this)},l.prototype._getDecoder=function(u){return u=u||"der",this.decoders.hasOwnProperty(u)||(this.decoders[u]=this._createNamed(s[u])),this.decoders[u]},l.prototype.decode=function(u,c,f){return this._getDecoder(c).decode(u,f)},l.prototype._getEncoder=function(u){return u=u||"der",this.encoders.hasOwnProperty(u)||(this.encoders[u]=this._createNamed(o[u])),this.encoders[u]},l.prototype.encode=function(u,c,f){return this._getEncoder(c).encode(u,f)}},{"./decoders":179,"./encoders":182,inherits:440}],172:[function(r,n,i){const o=r("inherits"),s=r("../base/reporter").Reporter,a=r("safer-buffer").Buffer;function l(c,f){s.call(this,f),a.isBuffer(c)?(this.base=c,this.offset=0,this.length=c.length):this.error("Input not Buffer")}function u(c,f){if(Array.isArray(c))this.length=0,this.value=c.map((function(d){return u.isEncoderBuffer(d)||(d=new u(d,f)),this.length+=d.length,d}),this);else if(typeof c=="number"){if(!(0<=c&&c<=255))return f.error("non-byte EncoderBuffer value");this.value=c,this.length=1}else if(typeof c=="string")this.value=c,this.length=a.byteLength(c);else{if(!a.isBuffer(c))return f.error("Unsupported type: "+typeof c);this.value=c,this.length=c.length}}o(l,s),i.DecoderBuffer=l,l.isDecoderBuffer=function(c){return c instanceof l?!0:typeof c=="object"&&a.isBuffer(c.base)&&c.constructor.name==="DecoderBuffer"&&typeof c.offset=="number"&&typeof c.length=="number"&&typeof c.save=="function"&&typeof c.restore=="function"&&typeof c.isEmpty=="function"&&typeof c.readUInt8=="function"&&typeof c.skip=="function"&&typeof c.raw=="function"},l.prototype.save=function(){return{offset:this.offset,reporter:s.prototype.save.call(this)}},l.prototype.restore=function(c){const f=new l(this.base);return f.offset=c.offset,f.length=this.offset,this.offset=c.offset,s.prototype.restore.call(this,c.reporter),f},l.prototype.isEmpty=function(){return this.offset===this.length},l.prototype.readUInt8=function(c){return this.offset+1<=this.length?this.base.readUInt8(this.offset++,!0):this.error(c||"DecoderBuffer overrun")},l.prototype.skip=function(c,f){if(!(this.offset+c<=this.length))return this.error(f||"DecoderBuffer overrun");const d=new l(this.base);return d._reporterState=this._reporterState,d.offset=this.offset,d.length=this.offset+c,this.offset+=c,d},l.prototype.raw=function(c){return this.base.slice(c?c.offset:this.offset,this.length)},i.EncoderBuffer=u,u.isEncoderBuffer=function(c){return c instanceof u?!0:typeof c=="object"&&c.constructor.name==="EncoderBuffer"&&typeof c.length=="number"&&typeof c.join=="function"},u.prototype.join=function(c,f){return c||(c=a.alloc(this.length)),f||(f=0),this.length===0||(Array.isArray(this.value)?this.value.forEach((function(d){d.join(c,f),f+=d.length})):(typeof this.value=="number"?c[f]=this.value:typeof this.value=="string"?c.write(this.value,f):a.isBuffer(this.value)&&this.value.copy(c,f),f+=this.length)),c}},{"../base/reporter":175,inherits:440,"safer-buffer":495}],173:[function(r,n,i){const o=i;o.Reporter=r("./reporter").Reporter,o.DecoderBuffer=r("./buffer").DecoderBuffer,o.EncoderBuffer=r("./buffer").EncoderBuffer,o.Node=r("./node")},{"./buffer":172,"./node":174,"./reporter":175}],174:[function(r,n,i){const o=r("../base/reporter").Reporter,s=r("../base/buffer").EncoderBuffer,a=r("../base/buffer").DecoderBuffer,l=r("minimalistic-assert"),u=["seq","seqof","set","setof","objid","bool","gentime","utctime","null_","enum","int","objDesc","bitstr","bmpstr","charstr","genstr","graphstr","ia5str","iso646str","numstr","octstr","printstr","t61str","unistr","utf8str","videostr"],c=["key","obj","use","optional","explicit","implicit","def","choice","any","contains"].concat(u);function f(h,g,m){const p={};this._baseState=p,p.name=m,p.enc=h,p.parent=g||null,p.children=null,p.tag=null,p.args=null,p.reverseArgs=null,p.choice=null,p.optional=!1,p.any=!1,p.obj=!1,p.use=null,p.useDecoder=null,p.key=null,p.default=null,p.explicit=null,p.implicit=null,p.contains=null,p.parent||(p.children=[],this._wrap())}n.exports=f;const d=["enc","parent","children","tag","args","reverseArgs","choice","optional","any","obj","use","alteredUse","key","default","explicit","implicit","contains"];f.prototype.clone=function(){const h=this._baseState,g={};d.forEach((function(p){g[p]=h[p]}));const m=new this.constructor(g.parent);return m._baseState=g,m},f.prototype._wrap=function(){const h=this._baseState;c.forEach((function(g){this[g]=function(){const m=new this.constructor(this);return h.children.push(m),m[g].apply(m,arguments)}}),this)},f.prototype._init=function(h){const g=this._baseState;l(g.parent===null),h.call(this),g.children=g.children.filter((function(m){return m._baseState.parent===this}),this),l.equal(g.children.length,1,"Root node can have only one child")},f.prototype._useArgs=function(h){const g=this._baseState,m=h.filter((function(p){return p instanceof this.constructor}),this);h=h.filter((function(p){return!(p instanceof this.constructor)}),this),m.length!==0&&(l(g.children===null),g.children=m,m.forEach((function(p){p._baseState.parent=this}),this)),h.length!==0&&(l(g.args===null),g.args=h,g.reverseArgs=h.map((function(p){if(typeof p!="object"||p.constructor!==Object)return p;const y={};return Object.keys(p).forEach((function(b){b==(0|b)&&(b|=0);const v=p[b];y[v]=b})),y})))},["_peekTag","_decodeTag","_use","_decodeStr","_decodeObjid","_decodeTime","_decodeNull","_decodeInt","_decodeBool","_decodeList","_encodeComposite","_encodeStr","_encodeObjid","_encodeTime","_encodeNull","_encodeInt","_encodeBool"].forEach((function(h){f.prototype[h]=function(){const g=this._baseState;throw new Error(h+" not implemented for encoding: "+g.enc)}})),u.forEach((function(h){f.prototype[h]=function(){const g=this._baseState,m=Array.prototype.slice.call(arguments);return l(g.tag===null),g.tag=h,this._useArgs(m),this}})),f.prototype.use=function(h){l(h);const g=this._baseState;return l(g.use===null),g.use=h,this},f.prototype.optional=function(){return this._baseState.optional=!0,this},f.prototype.def=function(h){const g=this._baseState;return l(g.default===null),g.default=h,g.optional=!0,this},f.prototype.explicit=function(h){const g=this._baseState;return l(g.explicit===null&&g.implicit===null),g.explicit=h,this},f.prototype.implicit=function(h){const g=this._baseState;return l(g.explicit===null&&g.implicit===null),g.implicit=h,this},f.prototype.obj=function(){const h=this._baseState,g=Array.prototype.slice.call(arguments);return h.obj=!0,g.length!==0&&this._useArgs(g),this},f.prototype.key=function(h){const g=this._baseState;return l(g.key===null),g.key=h,this},f.prototype.any=function(){return this._baseState.any=!0,this},f.prototype.choice=function(h){const g=this._baseState;return l(g.choice===null),g.choice=h,this._useArgs(Object.keys(h).map((function(m){return h[m]}))),this},f.prototype.contains=function(h){const g=this._baseState;return l(g.use===null),g.contains=h,this},f.prototype._decode=function(h,g){const m=this._baseState;if(m.parent===null)return h.wrapResult(m.children[0]._decode(h,g));let p,y=m.default,b=!0,v=null;if(m.key!==null&&(v=h.enterKey(m.key)),m.optional){let F=null;if(m.explicit!==null?F=m.explicit:m.implicit!==null?F=m.implicit:m.tag!==null&&(F=m.tag),F!==null||m.any){if(b=this._peekTag(h,F,m.any),h.isError(b))return b}else{const E=h.save();try{m.choice===null?this._decodeGeneric(m.tag,h,g):this._decodeChoice(h,g),b=!0}catch{b=!1}h.restore(E)}}if(m.obj&&b&&(p=h.enterObject()),b){if(m.explicit!==null){const E=this._decodeTag(h,m.explicit);if(h.isError(E))return E;h=E}const F=h.offset;if(m.use===null&&m.choice===null){let E;m.any&&(E=h.save());const T=this._decodeTag(h,m.implicit!==null?m.implicit:m.tag,m.any);if(h.isError(T))return T;m.any?y=h.raw(E):h=T}if(g&&g.track&&m.tag!==null&&g.track(h.path(),F,h.length,"tagged"),g&&g.track&&m.tag!==null&&g.track(h.path(),h.offset,h.length,"content"),m.any||(y=m.choice===null?this._decodeGeneric(m.tag,h,g):this._decodeChoice(h,g)),h.isError(y))return y;if(m.any||m.choice!==null||m.children===null||m.children.forEach((function(E){E._decode(h,g)})),m.contains&&(m.tag==="octstr"||m.tag==="bitstr")){const E=new a(y);y=this._getUse(m.contains,h._reporterState.obj)._decode(E,g)}}return m.obj&&b&&(y=h.leaveObject(p)),m.key===null||y===null&&b!==!0?v!==null&&h.exitKey(v):h.leaveKey(v,m.key,y),y},f.prototype._decodeGeneric=function(h,g,m){const p=this._baseState;return h==="seq"||h==="set"?null:h==="seqof"||h==="setof"?this._decodeList(g,h,p.args[0],m):/str$/.test(h)?this._decodeStr(g,h,m):h==="objid"&&p.args?this._decodeObjid(g,p.args[0],p.args[1],m):h==="objid"?this._decodeObjid(g,null,null,m):h==="gentime"||h==="utctime"?this._decodeTime(g,h,m):h==="null_"?this._decodeNull(g,m):h==="bool"?this._decodeBool(g,m):h==="objDesc"?this._decodeStr(g,h,m):h==="int"||h==="enum"?this._decodeInt(g,p.args&&p.args[0],m):p.use!==null?this._getUse(p.use,g._reporterState.obj)._decode(g,m):g.error("unknown tag: "+h)},f.prototype._getUse=function(h,g){const m=this._baseState;return m.useDecoder=this._use(h,g),l(m.useDecoder._baseState.parent===null),m.useDecoder=m.useDecoder._baseState.children[0],m.implicit!==m.useDecoder._baseState.implicit&&(m.useDecoder=m.useDecoder.clone(),m.useDecoder._baseState.implicit=m.implicit),m.useDecoder},f.prototype._decodeChoice=function(h,g){const m=this._baseState;let p=null,y=!1;return Object.keys(m.choice).some((function(b){const v=h.save(),F=m.choice[b];try{const E=F._decode(h,g);if(h.isError(E))return!1;p={type:b,value:E},y=!0}catch{return h.restore(v),!1}return!0}),this),y?p:h.error("Choice not matched")},f.prototype._createEncoderBuffer=function(h){return new s(h,this.reporter)},f.prototype._encode=function(h,g,m){const p=this._baseState;if(p.default!==null&&p.default===h)return;const y=this._encodeValue(h,g,m);return y===void 0||this._skipDefault(y,g,m)?void 0:y},f.prototype._encodeValue=function(h,g,m){const p=this._baseState;if(p.parent===null)return p.children[0]._encode(h,g||new o);let y=null;if(this.reporter=g,p.optional&&h===void 0){if(p.default===null)return;h=p.default}let b=null,v=!1;if(p.any)y=this._createEncoderBuffer(h);else if(p.choice)y=this._encodeChoice(h,g);else if(p.contains)b=this._getUse(p.contains,m)._encode(h,g),v=!0;else if(p.children)b=p.children.map((function(F){if(F._baseState.tag==="null_")return F._encode(null,g,h);if(F._baseState.key===null)return g.error("Child should have a key");const E=g.enterKey(F._baseState.key);if(typeof h!="object")return g.error("Child expected, but input is not object");const T=F._encode(h[F._baseState.key],g,h);return g.leaveKey(E),T}),this).filter((function(F){return F})),b=this._createEncoderBuffer(b);else if(p.tag==="seqof"||p.tag==="setof"){if(!p.args||p.args.length!==1)return g.error("Too many args for : "+p.tag);if(!Array.isArray(h))return g.error("seqof/setof, but data is not Array");const F=this.clone();F._baseState.implicit=null,b=this._createEncoderBuffer(h.map((function(E){const T=this._baseState;return this._getUse(T.args[0],h)._encode(E,g)}),F))}else p.use!==null?y=this._getUse(p.use,m)._encode(h,g):(b=this._encodePrimitive(p.tag,h),v=!0);if(!p.any&&p.choice===null){const F=p.implicit!==null?p.implicit:p.tag,E=p.implicit===null?"universal":"context";F===null?p.use===null&&g.error("Tag could be omitted only for .use()"):p.use===null&&(y=this._encodeComposite(F,v,E,b))}return p.explicit!==null&&(y=this._encodeComposite(p.explicit,!1,"context",y)),y},f.prototype._encodeChoice=function(h,g){const m=this._baseState,p=m.choice[h.type];return p||l(!1,h.type+" not found in "+JSON.stringify(Object.keys(m.choice))),p._encode(h.value,g)},f.prototype._encodePrimitive=function(h,g){const m=this._baseState;if(/str$/.test(h))return this._encodeStr(g,h);if(h==="objid"&&m.args)return this._encodeObjid(g,m.reverseArgs[0],m.args[1]);if(h==="objid")return this._encodeObjid(g,null,null);if(h==="gentime"||h==="utctime")return this._encodeTime(g,h);if(h==="null_")return this._encodeNull();if(h==="int"||h==="enum")return this._encodeInt(g,m.args&&m.reverseArgs[0]);if(h==="bool")return this._encodeBool(g);if(h==="objDesc")return this._encodeStr(g,h);throw new Error("Unsupported tag: "+h)},f.prototype._isNumstr=function(h){return/^[0-9 ]*$/.test(h)},f.prototype._isPrintstr=function(h){return/^[A-Za-z0-9 '()+,-./:=?]*$/.test(h)}},{"../base/buffer":172,"../base/reporter":175,"minimalistic-assert":453}],175:[function(r,n,i){const o=r("inherits");function s(l){this._reporterState={obj:null,path:[],options:l||{},errors:[]}}function a(l,u){this.path=l,this.rethrow(u)}i.Reporter=s,s.prototype.isError=function(l){return l instanceof a},s.prototype.save=function(){const l=this._reporterState;return{obj:l.obj,pathLen:l.path.length}},s.prototype.restore=function(l){const u=this._reporterState;u.obj=l.obj,u.path=u.path.slice(0,l.pathLen)},s.prototype.enterKey=function(l){return this._reporterState.path.push(l)},s.prototype.exitKey=function(l){const u=this._reporterState;u.path=u.path.slice(0,l-1)},s.prototype.leaveKey=function(l,u,c){const f=this._reporterState;this.exitKey(l),f.obj!==null&&(f.obj[u]=c)},s.prototype.path=function(){return this._reporterState.path.join("/")},s.prototype.enterObject=function(){const l=this._reporterState,u=l.obj;return l.obj={},u},s.prototype.leaveObject=function(l){const u=this._reporterState,c=u.obj;return u.obj=l,c},s.prototype.error=function(l){let u;const c=this._reporterState,f=l instanceof a;if(u=f?l:new a(c.path.map((function(d){return"["+JSON.stringify(d)+"]"})).join(""),l.message||l,l.stack),!c.options.partial)throw u;return f||c.errors.push(u),u},s.prototype.wrapResult=function(l){const u=this._reporterState;return u.options.partial?{result:this.isError(l)?null:l,errors:u.errors}:l},o(a,Error),a.prototype.rethrow=function(l){if(this.message=l+" at: "+(this.path||"(shallow)"),Error.captureStackTrace&&Error.captureStackTrace(this,a),!this.stack)try{throw new Error(this.message)}catch(u){this.stack=u.stack}return this}},{inherits:440}],176:[function(r,n,i){function o(s){const a={};return Object.keys(s).forEach((function(l){(0|l)==l&&(l|=0);const u=s[l];a[u]=l})),a}i.tagClass={0:"universal",1:"application",2:"context",3:"private"},i.tagClassByName=o(i.tagClass),i.tag={0:"end",1:"bool",2:"int",3:"bitstr",4:"octstr",5:"null_",6:"objid",7:"objDesc",8:"external",9:"real",10:"enum",11:"embed",12:"utf8str",13:"relativeOid",16:"seq",17:"set",18:"numstr",19:"printstr",20:"t61str",21:"videostr",22:"ia5str",23:"utctime",24:"gentime",25:"graphstr",26:"iso646str",27:"genstr",28:"unistr",29:"charstr",30:"bmpstr"},i.tagByName=o(i.tag)},{}],177:[function(r,n,i){const o=i;o._reverse=function(s){const a={};return Object.keys(s).forEach((function(l){(0|l)==l&&(l|=0);const u=s[l];a[u]=l})),a},o.der=r("./der")},{"./der":176}],178:[function(r,n,i){const o=r("inherits"),s=r("bn.js"),a=r("../base/buffer").DecoderBuffer,l=r("../base/node"),u=r("../constants/der");function c(g){this.enc="der",this.name=g.name,this.entity=g,this.tree=new f,this.tree._init(g.body)}function f(g){l.call(this,"der",g)}function d(g,m){let p=g.readUInt8(m);if(g.isError(p))return p;const y=u.tagClass[p>>6],b=(32&p)==0;if((31&p)==31){let v=p;for(p=0;(128&v)==128;){if(v=g.readUInt8(m),g.isError(v))return v;p<<=7,p|=127&v}}else p&=31;return{cls:y,primitive:b,tag:p,tagStr:u.tag[p]}}function h(g,m,p){let y=g.readUInt8(p);if(g.isError(y))return y;if(!m&&y===128)return null;if((128&y)==0)return y;const b=127&y;if(b>4)return g.error("length octect is too long");y=0;for(let v=0;v<b;v++){y<<=8;const F=g.readUInt8(p);if(g.isError(F))return F;y|=F}return y}n.exports=c,c.prototype.decode=function(g,m){return a.isDecoderBuffer(g)||(g=new a(g,m)),this.tree._decode(g,m)},o(f,l),f.prototype._peekTag=function(g,m,p){if(g.isEmpty())return!1;const y=g.save(),b=d(g,'Failed to peek tag: "'+m+'"');return g.isError(b)?b:(g.restore(y),b.tag===m||b.tagStr===m||b.tagStr+"of"===m||p)},f.prototype._decodeTag=function(g,m,p){const y=d(g,'Failed to decode tag of "'+m+'"');if(g.isError(y))return y;let b=h(g,y.primitive,'Failed to get length of "'+m+'"');if(g.isError(b))return b;if(!p&&y.tag!==m&&y.tagStr!==m&&y.tagStr+"of"!==m)return g.error('Failed to match tag: "'+m+'"');if(y.primitive||b!==null)return g.skip(b,'Failed to match body of: "'+m+'"');const v=g.save(),F=this._skipUntilEnd(g,'Failed to skip indefinite length body: "'+this.tag+'"');return g.isError(F)?F:(b=g.offset-v.offset,g.restore(v),g.skip(b,'Failed to match body of: "'+m+'"'))},f.prototype._skipUntilEnd=function(g,m){for(;;){const p=d(g,m);if(g.isError(p))return p;const y=h(g,p.primitive,m);if(g.isError(y))return y;let b;if(b=p.primitive||y!==null?g.skip(y):this._skipUntilEnd(g,m),g.isError(b))return b;if(p.tagStr==="end")break}},f.prototype._decodeList=function(g,m,p,y){const b=[];for(;!g.isEmpty();){const v=this._peekTag(g,"end");if(g.isError(v))return v;const F=p.decode(g,"der",y);if(g.isError(F)&&v)break;b.push(F)}return b},f.prototype._decodeStr=function(g,m){if(m==="bitstr"){const p=g.readUInt8();return g.isError(p)?p:{unused:p,data:g.raw()}}if(m==="bmpstr"){const p=g.raw();if(p.length%2==1)return g.error("Decoding of string type: bmpstr length mismatch");let y="";for(let b=0;b<p.length/2;b++)y+=String.fromCharCode(p.readUInt16BE(2*b));return y}if(m==="numstr"){const p=g.raw().toString("ascii");return this._isNumstr(p)?p:g.error("Decoding of string type: numstr unsupported characters")}if(m==="octstr"||m==="objDesc")return g.raw();if(m==="printstr"){const p=g.raw().toString("ascii");return this._isPrintstr(p)?p:g.error("Decoding of string type: printstr unsupported characters")}return/str$/.test(m)?g.raw().toString():g.error("Decoding of string type: "+m+" unsupported")},f.prototype._decodeObjid=function(g,m,p){let y;const b=[];let v=0,F=0;for(;!g.isEmpty();)F=g.readUInt8(),v<<=7,v|=127&F,(128&F)==0&&(b.push(v),v=0);128&F&&b.push(v);const E=b[0]/40|0,T=b[0]%40;if(y=p?b:[E,T].concat(b.slice(1)),m){let I=m[y.join(" ")];I===void 0&&(I=m[y.join(".")]),I!==void 0&&(y=I)}return y},f.prototype._decodeTime=function(g,m){const p=g.raw().toString();let y,b,v,F,E,T;if(m==="gentime")y=0|p.slice(0,4),b=0|p.slice(4,6),v=0|p.slice(6,8),F=0|p.slice(8,10),E=0|p.slice(10,12),T=0|p.slice(12,14);else{if(m!=="utctime")return g.error("Decoding "+m+" time is not supported yet");y=0|p.slice(0,2),b=0|p.slice(2,4),v=0|p.slice(4,6),F=0|p.slice(6,8),E=0|p.slice(8,10),T=0|p.slice(10,12),y=y<70?2e3+y:1900+y}return Date.UTC(y,b-1,v,F,E,T,0)},f.prototype._decodeNull=function(){return null},f.prototype._decodeBool=function(g){const m=g.readUInt8();return g.isError(m)?m:m!==0},f.prototype._decodeInt=function(g,m){const p=g.raw();let y=new s(p);return m&&(y=m[y.toString(10)]||y),y},f.prototype._use=function(g,m){return typeof g=="function"&&(g=g(m)),g._getDecoder("der").tree}},{"../base/buffer":172,"../base/node":174,"../constants/der":176,"bn.js":184,inherits:440}],179:[function(r,n,i){const o=i;o.der=r("./der"),o.pem=r("./pem")},{"./der":178,"./pem":180}],180:[function(r,n,i){const o=r("inherits"),s=r("safer-buffer").Buffer,a=r("./der");function l(u){a.call(this,u),this.enc="pem"}o(l,a),n.exports=l,l.prototype.decode=function(u,c){const f=u.toString().split(/[\r\n]+/g),d=c.label.toUpperCase(),h=/^-----(BEGIN|END) ([^-]+)-----$/;let g=-1,m=-1;for(let b=0;b<f.length;b++){const v=f[b].match(h);if(v!==null&&v[2]===d){if(g!==-1){if(v[1]!=="END")break;m=b;break}if(v[1]!=="BEGIN")break;g=b}}if(g===-1||m===-1)throw new Error("PEM section not found for: "+d);const p=f.slice(g+1,m).join("");p.replace(/[^a-z0-9+/=]+/gi,"");const y=s.from(p,"base64");return a.prototype.decode.call(this,y,c)}},{"./der":178,inherits:440,"safer-buffer":495}],181:[function(r,n,i){const o=r("inherits"),s=r("safer-buffer").Buffer,a=r("../base/node"),l=r("../constants/der");function u(d){this.enc="der",this.name=d.name,this.entity=d,this.tree=new c,this.tree._init(d.body)}function c(d){a.call(this,"der",d)}function f(d){return d<10?"0"+d:d}n.exports=u,u.prototype.encode=function(d,h){return this.tree._encode(d,h).join()},o(c,a),c.prototype._encodeComposite=function(d,h,g,m){const p=(function(v,F,E,T){let I;if(v==="seqof"?v="seq":v==="setof"&&(v="set"),l.tagByName.hasOwnProperty(v))I=l.tagByName[v];else{if(typeof v!="number"||(0|v)!==v)return T.error("Unknown tag: "+v);I=v}return I>=31?T.error("Multi-octet tag encoding unsupported"):(F||(I|=32),I|=l.tagClassByName[E||"universal"]<<6,I)})(d,h,g,this.reporter);if(m.length<128){const v=s.alloc(2);return v[0]=p,v[1]=m.length,this._createEncoderBuffer([v,m])}let y=1;for(let v=m.length;v>=256;v>>=8)y++;const b=s.alloc(2+y);b[0]=p,b[1]=128|y;for(let v=1+y,F=m.length;F>0;v--,F>>=8)b[v]=255&F;return this._createEncoderBuffer([b,m])},c.prototype._encodeStr=function(d,h){if(h==="bitstr")return this._createEncoderBuffer([0|d.unused,d.data]);if(h==="bmpstr"){const g=s.alloc(2*d.length);for(let m=0;m<d.length;m++)g.writeUInt16BE(d.charCodeAt(m),2*m);return this._createEncoderBuffer(g)}return h==="numstr"?this._isNumstr(d)?this._createEncoderBuffer(d):this.reporter.error("Encoding of string type: numstr supports only digits and space"):h==="printstr"?this._isPrintstr(d)?this._createEncoderBuffer(d):this.reporter.error("Encoding of string type: printstr supports only latin upper and lower case letters, digits, space, apostrophe, left and rigth parenthesis, plus sign, comma, hyphen, dot, slash, colon, equal sign, question mark"):/str$/.test(h)||h==="objDesc"?this._createEncoderBuffer(d):this.reporter.error("Encoding of string type: "+h+" unsupported")},c.prototype._encodeObjid=function(d,h,g){if(typeof d=="string"){if(!h)return this.reporter.error("string objid given, but no values map found");if(!h.hasOwnProperty(d))return this.reporter.error("objid not found in values map");d=h[d].split(/[\s.]+/g);for(let b=0;b<d.length;b++)d[b]|=0}else if(Array.isArray(d)){d=d.slice();for(let b=0;b<d.length;b++)d[b]|=0}if(!Array.isArray(d))return this.reporter.error("objid() should be either array or string, got: "+JSON.stringify(d));if(!g){if(d[1]>=40)return this.reporter.error("Second objid identifier OOB");d.splice(0,2,40*d[0]+d[1])}let m=0;for(let b=0;b<d.length;b++){let v=d[b];for(m++;v>=128;v>>=7)m++}const p=s.alloc(m);let y=p.length-1;for(let b=d.length-1;b>=0;b--){let v=d[b];for(p[y--]=127&v;(v>>=7)>0;)p[y--]=128|127&v}return this._createEncoderBuffer(p)},c.prototype._encodeTime=function(d,h){let g;const m=new Date(d);return h==="gentime"?g=[f(m.getUTCFullYear()),f(m.getUTCMonth()+1),f(m.getUTCDate()),f(m.getUTCHours()),f(m.getUTCMinutes()),f(m.getUTCSeconds()),"Z"].join(""):h==="utctime"?g=[f(m.getUTCFullYear()%100),f(m.getUTCMonth()+1),f(m.getUTCDate()),f(m.getUTCHours()),f(m.getUTCMinutes()),f(m.getUTCSeconds()),"Z"].join(""):this.reporter.error("Encoding "+h+" time is not supported yet"),this._encodeStr(g,"octstr")},c.prototype._encodeNull=function(){return this._createEncoderBuffer("")},c.prototype._encodeInt=function(d,h){if(typeof d=="string"){if(!h)return this.reporter.error("String int or enum given, but no values map");if(!h.hasOwnProperty(d))return this.reporter.error("Values map doesn't contain: "+JSON.stringify(d));d=h[d]}if(typeof d!="number"&&!s.isBuffer(d)){const p=d.toArray();!d.sign&&128&p[0]&&p.unshift(0),d=s.from(p)}if(s.isBuffer(d)){let p=d.length;d.length===0&&p++;const y=s.alloc(p);return d.copy(y),d.length===0&&(y[0]=0),this._createEncoderBuffer(y)}if(d<128)return this._createEncoderBuffer(d);if(d<256)return this._createEncoderBuffer([0,d]);let g=1;for(let p=d;p>=256;p>>=8)g++;const m=new Array(g);for(let p=m.length-1;p>=0;p--)m[p]=255&d,d>>=8;return 128&m[0]&&m.unshift(0),this._createEncoderBuffer(s.from(m))},c.prototype._encodeBool=function(d){return this._createEncoderBuffer(d?255:0)},c.prototype._use=function(d,h){return typeof d=="function"&&(d=d(h)),d._getEncoder("der").tree},c.prototype._skipDefault=function(d,h,g){const m=this._baseState;let p;if(m.default===null)return!1;const y=d.join();if(m.defaultBuffer===void 0&&(m.defaultBuffer=this._encodeValue(m.default,h,g).join()),y.length!==m.defaultBuffer.length)return!1;for(p=0;p<y.length;p++)if(y[p]!==m.defaultBuffer[p])return!1;return!0}},{"../base/node":174,"../constants/der":176,inherits:440,"safer-buffer":495}],182:[function(r,n,i){const o=i;o.der=r("./der"),o.pem=r("./pem")},{"./der":181,"./pem":183}],183:[function(r,n,i){const o=r("inherits"),s=r("./der");function a(l){s.call(this,l),this.enc="pem"}o(a,s),n.exports=a,a.prototype.encode=function(l,u){const c=s.prototype.encode.call(this,l).toString("base64"),f=["-----BEGIN "+u.label+"-----"];for(let d=0;d<c.length;d+=64)f.push(c.slice(d,d+64));return f.push("-----END "+u.label+"-----"),f.join(`
`)}},{"./der":181,inherits:440}],184:[function(r,n,i){(function(o,s){function a(_,R){if(!_)throw new Error(R||"Assertion failed")}function l(_,R){_.super_=R;var k=function(){};k.prototype=R.prototype,_.prototype=new k,_.prototype.constructor=_}function u(_,R,k){if(u.isBN(_))return _;this.negative=0,this.words=null,this.length=0,this.red=null,_!==null&&(R!=="le"&&R!=="be"||(k=R,R=10),this._init(_||0,R||10,k||"be"))}var c;typeof o=="object"?o.exports=u:(void 0).BN=u,u.BN=u,u.wordSize=26;try{c=typeof window<"u"&&window.Buffer!==void 0?window.Buffer:r("buffer").Buffer}catch{}function f(_,R){var k=_.charCodeAt(R);return k>=65&&k<=70?k-55:k>=97&&k<=102?k-87:k-48&15}function d(_,R,k){var S=f(_,k);return k-1>=R&&(S|=f(_,k-1)<<4),S}function h(_,R,k,S){for(var w=0,C=Math.min(_.length,k),x=R;x<C;x++){var A=_.charCodeAt(x)-48;w*=S,w+=A>=49?A-49+10:A>=17?A-17+10:A}return w}u.isBN=function(_){return _ instanceof u||_!==null&&typeof _=="object"&&_.constructor.wordSize===u.wordSize&&Array.isArray(_.words)},u.max=function(_,R){return _.cmp(R)>0?_:R},u.min=function(_,R){return _.cmp(R)<0?_:R},u.prototype._init=function(_,R,k){if(typeof _=="number")return this._initNumber(_,R,k);if(typeof _=="object")return this._initArray(_,R,k);R==="hex"&&(R=16),a(R===(0|R)&&R>=2&&R<=36);var S=0;(_=_.toString().replace(/\s+/g,""))[0]==="-"&&(S++,this.negative=1),S<_.length&&(R===16?this._parseHex(_,S,k):(this._parseBase(_,R,S),k==="le"&&this._initArray(this.toArray(),R,k)))},u.prototype._initNumber=function(_,R,k){_<0&&(this.negative=1,_=-_),_<67108864?(this.words=[67108863&_],this.length=1):_<4503599627370496?(this.words=[67108863&_,_/67108864&67108863],this.length=2):(a(_<9007199254740992),this.words=[67108863&_,_/67108864&67108863,1],this.length=3),k==="le"&&this._initArray(this.toArray(),R,k)},u.prototype._initArray=function(_,R,k){if(a(typeof _.length=="number"),_.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(_.length/3),this.words=new Array(this.length);for(var S=0;S<this.length;S++)this.words[S]=0;var w,C,x=0;if(k==="be")for(S=_.length-1,w=0;S>=0;S-=3)C=_[S]|_[S-1]<<8|_[S-2]<<16,this.words[w]|=C<<x&67108863,this.words[w+1]=C>>>26-x&67108863,(x+=24)>=26&&(x-=26,w++);else if(k==="le")for(S=0,w=0;S<_.length;S+=3)C=_[S]|_[S+1]<<8|_[S+2]<<16,this.words[w]|=C<<x&67108863,this.words[w+1]=C>>>26-x&67108863,(x+=24)>=26&&(x-=26,w++);return this.strip()},u.prototype._parseHex=function(_,R,k){this.length=Math.ceil((_.length-R)/6),this.words=new Array(this.length);for(var S=0;S<this.length;S++)this.words[S]=0;var w,C=0,x=0;if(k==="be")for(S=_.length-1;S>=R;S-=2)w=d(_,R,S)<<C,this.words[x]|=67108863&w,C>=18?(C-=18,x+=1,this.words[x]|=w>>>26):C+=8;else for(S=(_.length-R)%2==0?R+1:R;S<_.length;S+=2)w=d(_,R,S)<<C,this.words[x]|=67108863&w,C>=18?(C-=18,x+=1,this.words[x]|=w>>>26):C+=8;this.strip()},u.prototype._parseBase=function(_,R,k){this.words=[0],this.length=1;for(var S=0,w=1;w<=67108863;w*=R)S++;S--,w=w/R|0;for(var C=_.length-k,x=C%S,A=Math.min(C,C-x)+k,D=0,B=k;B<A;B+=S)D=h(_,B,B+S,R),this.imuln(w),this.words[0]+D<67108864?this.words[0]+=D:this._iaddn(D);if(x!==0){var V=1;for(D=h(_,B,_.length,R),B=0;B<x;B++)V*=R;this.imuln(V),this.words[0]+D<67108864?this.words[0]+=D:this._iaddn(D)}this.strip()},u.prototype.copy=function(_){_.words=new Array(this.length);for(var R=0;R<this.length;R++)_.words[R]=this.words[R];_.length=this.length,_.negative=this.negative,_.red=this.red},u.prototype.clone=function(){var _=new u(null);return this.copy(_),_},u.prototype._expand=function(_){for(;this.length<_;)this.words[this.length++]=0;return this},u.prototype.strip=function(){for(;this.length>1&&this.words[this.length-1]===0;)this.length--;return this._normSign()},u.prototype._normSign=function(){return this.length===1&&this.words[0]===0&&(this.negative=0),this},u.prototype.inspect=function(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"};var g=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],m=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],p=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];function y(_,R,k){k.negative=R.negative^_.negative;var S=_.length+R.length|0;k.length=S,S=S-1|0;var w=0|_.words[0],C=0|R.words[0],x=w*C,A=67108863&x,D=x/67108864|0;k.words[0]=A;for(var B=1;B<S;B++){for(var V=D>>>26,j=67108863&D,K=Math.min(B,R.length-1),G=Math.max(0,B-_.length+1);G<=K;G++){var Y=B-G|0;V+=(x=(w=0|_.words[Y])*(C=0|R.words[G])+j)/67108864|0,j=67108863&x}k.words[B]=0|j,D=0|V}return D!==0?k.words[B]=0|D:k.length--,k.strip()}u.prototype.toString=function(_,R){var k;if(R=0|R||1,(_=_||10)===16||_==="hex"){k="";for(var S=0,w=0,C=0;C<this.length;C++){var x=this.words[C],A=(16777215&(x<<S|w)).toString(16);k=(w=x>>>24-S&16777215)!==0||C!==this.length-1?g[6-A.length]+A+k:A+k,(S+=2)>=26&&(S-=26,C--)}for(w!==0&&(k=w.toString(16)+k);k.length%R!=0;)k="0"+k;return this.negative!==0&&(k="-"+k),k}if(_===(0|_)&&_>=2&&_<=36){var D=m[_],B=p[_];k="";var V=this.clone();for(V.negative=0;!V.isZero();){var j=V.modn(B).toString(_);k=(V=V.idivn(B)).isZero()?j+k:g[D-j.length]+j+k}for(this.isZero()&&(k="0"+k);k.length%R!=0;)k="0"+k;return this.negative!==0&&(k="-"+k),k}a(!1,"Base should be between 2 and 36")},u.prototype.toNumber=function(){var _=this.words[0];return this.length===2?_+=67108864*this.words[1]:this.length===3&&this.words[2]===1?_+=4503599627370496+67108864*this.words[1]:this.length>2&&a(!1,"Number can only safely store up to 53 bits"),this.negative!==0?-_:_},u.prototype.toJSON=function(){return this.toString(16)},u.prototype.toBuffer=function(_,R){return a(c!==void 0),this.toArrayLike(c,_,R)},u.prototype.toArray=function(_,R){return this.toArrayLike(Array,_,R)},u.prototype.toArrayLike=function(_,R,k){var S=this.byteLength(),w=k||Math.max(1,S);a(S<=w,"byte array longer than desired length"),a(w>0,"Requested array length <= 0"),this.strip();var C,x,A=R==="le",D=new _(w),B=this.clone();if(A){for(x=0;!B.isZero();x++)C=B.andln(255),B.iushrn(8),D[x]=C;for(;x<w;x++)D[x]=0}else{for(x=0;x<w-S;x++)D[x]=0;for(x=0;!B.isZero();x++)C=B.andln(255),B.iushrn(8),D[w-x-1]=C}return D},Math.clz32?u.prototype._countBits=function(_){return 32-Math.clz32(_)}:u.prototype._countBits=function(_){var R=_,k=0;return R>=4096&&(k+=13,R>>>=13),R>=64&&(k+=7,R>>>=7),R>=8&&(k+=4,R>>>=4),R>=2&&(k+=2,R>>>=2),k+R},u.prototype._zeroBits=function(_){if(_===0)return 26;var R=_,k=0;return(8191&R)==0&&(k+=13,R>>>=13),(127&R)==0&&(k+=7,R>>>=7),(15&R)==0&&(k+=4,R>>>=4),(3&R)==0&&(k+=2,R>>>=2),(1&R)==0&&k++,k},u.prototype.bitLength=function(){var _=this.words[this.length-1],R=this._countBits(_);return 26*(this.length-1)+R},u.prototype.zeroBits=function(){if(this.isZero())return 0;for(var _=0,R=0;R<this.length;R++){var k=this._zeroBits(this.words[R]);if(_+=k,k!==26)break}return _},u.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},u.prototype.toTwos=function(_){return this.negative!==0?this.abs().inotn(_).iaddn(1):this.clone()},u.prototype.fromTwos=function(_){return this.testn(_-1)?this.notn(_).iaddn(1).ineg():this.clone()},u.prototype.isNeg=function(){return this.negative!==0},u.prototype.neg=function(){return this.clone().ineg()},u.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},u.prototype.iuor=function(_){for(;this.length<_.length;)this.words[this.length++]=0;for(var R=0;R<_.length;R++)this.words[R]=this.words[R]|_.words[R];return this.strip()},u.prototype.ior=function(_){return a((this.negative|_.negative)==0),this.iuor(_)},u.prototype.or=function(_){return this.length>_.length?this.clone().ior(_):_.clone().ior(this)},u.prototype.uor=function(_){return this.length>_.length?this.clone().iuor(_):_.clone().iuor(this)},u.prototype.iuand=function(_){var R;R=this.length>_.length?_:this;for(var k=0;k<R.length;k++)this.words[k]=this.words[k]&_.words[k];return this.length=R.length,this.strip()},u.prototype.iand=function(_){return a((this.negative|_.negative)==0),this.iuand(_)},u.prototype.and=function(_){return this.length>_.length?this.clone().iand(_):_.clone().iand(this)},u.prototype.uand=function(_){return this.length>_.length?this.clone().iuand(_):_.clone().iuand(this)},u.prototype.iuxor=function(_){var R,k;this.length>_.length?(R=this,k=_):(R=_,k=this);for(var S=0;S<k.length;S++)this.words[S]=R.words[S]^k.words[S];if(this!==R)for(;S<R.length;S++)this.words[S]=R.words[S];return this.length=R.length,this.strip()},u.prototype.ixor=function(_){return a((this.negative|_.negative)==0),this.iuxor(_)},u.prototype.xor=function(_){return this.length>_.length?this.clone().ixor(_):_.clone().ixor(this)},u.prototype.uxor=function(_){return this.length>_.length?this.clone().iuxor(_):_.clone().iuxor(this)},u.prototype.inotn=function(_){a(typeof _=="number"&&_>=0);var R=0|Math.ceil(_/26),k=_%26;this._expand(R),k>0&&R--;for(var S=0;S<R;S++)this.words[S]=67108863&~this.words[S];return k>0&&(this.words[S]=~this.words[S]&67108863>>26-k),this.strip()},u.prototype.notn=function(_){return this.clone().inotn(_)},u.prototype.setn=function(_,R){a(typeof _=="number"&&_>=0);var k=_/26|0,S=_%26;return this._expand(k+1),this.words[k]=R?this.words[k]|1<<S:this.words[k]&~(1<<S),this.strip()},u.prototype.iadd=function(_){var R,k,S;if(this.negative!==0&&_.negative===0)return this.negative=0,R=this.isub(_),this.negative^=1,this._normSign();if(this.negative===0&&_.negative!==0)return _.negative=0,R=this.isub(_),_.negative=1,R._normSign();this.length>_.length?(k=this,S=_):(k=_,S=this);for(var w=0,C=0;C<S.length;C++)R=(0|k.words[C])+(0|S.words[C])+w,this.words[C]=67108863&R,w=R>>>26;for(;w!==0&&C<k.length;C++)R=(0|k.words[C])+w,this.words[C]=67108863&R,w=R>>>26;if(this.length=k.length,w!==0)this.words[this.length]=w,this.length++;else if(k!==this)for(;C<k.length;C++)this.words[C]=k.words[C];return this},u.prototype.add=function(_){var R;return _.negative!==0&&this.negative===0?(_.negative=0,R=this.sub(_),_.negative^=1,R):_.negative===0&&this.negative!==0?(this.negative=0,R=_.sub(this),this.negative=1,R):this.length>_.length?this.clone().iadd(_):_.clone().iadd(this)},u.prototype.isub=function(_){if(_.negative!==0){_.negative=0;var R=this.iadd(_);return _.negative=1,R._normSign()}if(this.negative!==0)return this.negative=0,this.iadd(_),this.negative=1,this._normSign();var k,S,w=this.cmp(_);if(w===0)return this.negative=0,this.length=1,this.words[0]=0,this;w>0?(k=this,S=_):(k=_,S=this);for(var C=0,x=0;x<S.length;x++)C=(R=(0|k.words[x])-(0|S.words[x])+C)>>26,this.words[x]=67108863&R;for(;C!==0&&x<k.length;x++)C=(R=(0|k.words[x])+C)>>26,this.words[x]=67108863&R;if(C===0&&x<k.length&&k!==this)for(;x<k.length;x++)this.words[x]=k.words[x];return this.length=Math.max(this.length,x),k!==this&&(this.negative=1),this.strip()},u.prototype.sub=function(_){return this.clone().isub(_)};var b=function(_,R,k){var S,w,C,x=_.words,A=R.words,D=k.words,B=0,V=0|x[0],j=8191&V,K=V>>>13,G=0|x[1],Y=8191&G,H=G>>>13,N=0|x[2],$=8191&N,J=N>>>13,Q=0|x[3],ee=8191&Q,W=Q>>>13,ne=0|x[4],re=8191&ne,q=ne>>>13,X=0|x[5],te=8191&X,se=X>>>13,oe=0|x[6],ie=8191&oe,ae=oe>>>13,ue=0|x[7],ce=8191&ue,pe=ue>>>13,ye=0|x[8],ge=8191&ye,Re=ye>>>13,_e=0|x[9],Ae=8191&_e,De=_e>>>13,Fe=0|A[0],ke=8191&Fe,Pe=Fe>>>13,Oe=0|A[1],He=8191&Oe,ht=Oe>>>13,St=0|A[2],We=8191&St,bt=St>>>13,at=0|A[3],Ze=8191&at,Ht=at>>>13,xt=0|A[4],Xe=8191&xt,wt=xt>>>13,It=0|A[5],tt=8191&It,kt=It>>>13,Bt=0|A[6],st=8191&Bt,de=Bt>>>13,he=0|A[7],we=8191&he,Ie=he>>>13,qe=0|A[8],Ne=8191&qe,rt=qe>>>13,Je=0|A[9],$e=8191&Je,ot=Je>>>13;k.negative=_.negative^R.negative,k.length=19;var nt=(B+(S=Math.imul(j,ke))|0)+((8191&(w=(w=Math.imul(j,Pe))+Math.imul(K,ke)|0))<<13)|0;B=((C=Math.imul(K,Pe))+(w>>>13)|0)+(nt>>>26)|0,nt&=67108863,S=Math.imul(Y,ke),w=(w=Math.imul(Y,Pe))+Math.imul(H,ke)|0,C=Math.imul(H,Pe);var ct=(B+(S=S+Math.imul(j,He)|0)|0)+((8191&(w=(w=w+Math.imul(j,ht)|0)+Math.imul(K,He)|0))<<13)|0;B=((C=C+Math.imul(K,ht)|0)+(w>>>13)|0)+(ct>>>26)|0,ct&=67108863,S=Math.imul($,ke),w=(w=Math.imul($,Pe))+Math.imul(J,ke)|0,C=Math.imul(J,Pe),S=S+Math.imul(Y,He)|0,w=(w=w+Math.imul(Y,ht)|0)+Math.imul(H,He)|0,C=C+Math.imul(H,ht)|0;var Qt=(B+(S=S+Math.imul(j,We)|0)|0)+((8191&(w=(w=w+Math.imul(j,bt)|0)+Math.imul(K,We)|0))<<13)|0;B=((C=C+Math.imul(K,bt)|0)+(w>>>13)|0)+(Qt>>>26)|0,Qt&=67108863,S=Math.imul(ee,ke),w=(w=Math.imul(ee,Pe))+Math.imul(W,ke)|0,C=Math.imul(W,Pe),S=S+Math.imul($,He)|0,w=(w=w+Math.imul($,ht)|0)+Math.imul(J,He)|0,C=C+Math.imul(J,ht)|0,S=S+Math.imul(Y,We)|0,w=(w=w+Math.imul(Y,bt)|0)+Math.imul(H,We)|0,C=C+Math.imul(H,bt)|0;var jt=(B+(S=S+Math.imul(j,Ze)|0)|0)+((8191&(w=(w=w+Math.imul(j,Ht)|0)+Math.imul(K,Ze)|0))<<13)|0;B=((C=C+Math.imul(K,Ht)|0)+(w>>>13)|0)+(jt>>>26)|0,jt&=67108863,S=Math.imul(re,ke),w=(w=Math.imul(re,Pe))+Math.imul(q,ke)|0,C=Math.imul(q,Pe),S=S+Math.imul(ee,He)|0,w=(w=w+Math.imul(ee,ht)|0)+Math.imul(W,He)|0,C=C+Math.imul(W,ht)|0,S=S+Math.imul($,We)|0,w=(w=w+Math.imul($,bt)|0)+Math.imul(J,We)|0,C=C+Math.imul(J,bt)|0,S=S+Math.imul(Y,Ze)|0,w=(w=w+Math.imul(Y,Ht)|0)+Math.imul(H,Ze)|0,C=C+Math.imul(H,Ht)|0;var sr=(B+(S=S+Math.imul(j,Xe)|0)|0)+((8191&(w=(w=w+Math.imul(j,wt)|0)+Math.imul(K,Xe)|0))<<13)|0;B=((C=C+Math.imul(K,wt)|0)+(w>>>13)|0)+(sr>>>26)|0,sr&=67108863,S=Math.imul(te,ke),w=(w=Math.imul(te,Pe))+Math.imul(se,ke)|0,C=Math.imul(se,Pe),S=S+Math.imul(re,He)|0,w=(w=w+Math.imul(re,ht)|0)+Math.imul(q,He)|0,C=C+Math.imul(q,ht)|0,S=S+Math.imul(ee,We)|0,w=(w=w+Math.imul(ee,bt)|0)+Math.imul(W,We)|0,C=C+Math.imul(W,bt)|0,S=S+Math.imul($,Ze)|0,w=(w=w+Math.imul($,Ht)|0)+Math.imul(J,Ze)|0,C=C+Math.imul(J,Ht)|0,S=S+Math.imul(Y,Xe)|0,w=(w=w+Math.imul(Y,wt)|0)+Math.imul(H,Xe)|0,C=C+Math.imul(H,wt)|0;var ar=(B+(S=S+Math.imul(j,tt)|0)|0)+((8191&(w=(w=w+Math.imul(j,kt)|0)+Math.imul(K,tt)|0))<<13)|0;B=((C=C+Math.imul(K,kt)|0)+(w>>>13)|0)+(ar>>>26)|0,ar&=67108863,S=Math.imul(ie,ke),w=(w=Math.imul(ie,Pe))+Math.imul(ae,ke)|0,C=Math.imul(ae,Pe),S=S+Math.imul(te,He)|0,w=(w=w+Math.imul(te,ht)|0)+Math.imul(se,He)|0,C=C+Math.imul(se,ht)|0,S=S+Math.imul(re,We)|0,w=(w=w+Math.imul(re,bt)|0)+Math.imul(q,We)|0,C=C+Math.imul(q,bt)|0,S=S+Math.imul(ee,Ze)|0,w=(w=w+Math.imul(ee,Ht)|0)+Math.imul(W,Ze)|0,C=C+Math.imul(W,Ht)|0,S=S+Math.imul($,Xe)|0,w=(w=w+Math.imul($,wt)|0)+Math.imul(J,Xe)|0,C=C+Math.imul(J,wt)|0,S=S+Math.imul(Y,tt)|0,w=(w=w+Math.imul(Y,kt)|0)+Math.imul(H,tt)|0,C=C+Math.imul(H,kt)|0;var Br=(B+(S=S+Math.imul(j,st)|0)|0)+((8191&(w=(w=w+Math.imul(j,de)|0)+Math.imul(K,st)|0))<<13)|0;B=((C=C+Math.imul(K,de)|0)+(w>>>13)|0)+(Br>>>26)|0,Br&=67108863,S=Math.imul(ce,ke),w=(w=Math.imul(ce,Pe))+Math.imul(pe,ke)|0,C=Math.imul(pe,Pe),S=S+Math.imul(ie,He)|0,w=(w=w+Math.imul(ie,ht)|0)+Math.imul(ae,He)|0,C=C+Math.imul(ae,ht)|0,S=S+Math.imul(te,We)|0,w=(w=w+Math.imul(te,bt)|0)+Math.imul(se,We)|0,C=C+Math.imul(se,bt)|0,S=S+Math.imul(re,Ze)|0,w=(w=w+Math.imul(re,Ht)|0)+Math.imul(q,Ze)|0,C=C+Math.imul(q,Ht)|0,S=S+Math.imul(ee,Xe)|0,w=(w=w+Math.imul(ee,wt)|0)+Math.imul(W,Xe)|0,C=C+Math.imul(W,wt)|0,S=S+Math.imul($,tt)|0,w=(w=w+Math.imul($,kt)|0)+Math.imul(J,tt)|0,C=C+Math.imul(J,kt)|0,S=S+Math.imul(Y,st)|0,w=(w=w+Math.imul(Y,de)|0)+Math.imul(H,st)|0,C=C+Math.imul(H,de)|0;var le=(B+(S=S+Math.imul(j,we)|0)|0)+((8191&(w=(w=w+Math.imul(j,Ie)|0)+Math.imul(K,we)|0))<<13)|0;B=((C=C+Math.imul(K,Ie)|0)+(w>>>13)|0)+(le>>>26)|0,le&=67108863,S=Math.imul(ge,ke),w=(w=Math.imul(ge,Pe))+Math.imul(Re,ke)|0,C=Math.imul(Re,Pe),S=S+Math.imul(ce,He)|0,w=(w=w+Math.imul(ce,ht)|0)+Math.imul(pe,He)|0,C=C+Math.imul(pe,ht)|0,S=S+Math.imul(ie,We)|0,w=(w=w+Math.imul(ie,bt)|0)+Math.imul(ae,We)|0,C=C+Math.imul(ae,bt)|0,S=S+Math.imul(te,Ze)|0,w=(w=w+Math.imul(te,Ht)|0)+Math.imul(se,Ze)|0,C=C+Math.imul(se,Ht)|0,S=S+Math.imul(re,Xe)|0,w=(w=w+Math.imul(re,wt)|0)+Math.imul(q,Xe)|0,C=C+Math.imul(q,wt)|0,S=S+Math.imul(ee,tt)|0,w=(w=w+Math.imul(ee,kt)|0)+Math.imul(W,tt)|0,C=C+Math.imul(W,kt)|0,S=S+Math.imul($,st)|0,w=(w=w+Math.imul($,de)|0)+Math.imul(J,st)|0,C=C+Math.imul(J,de)|0,S=S+Math.imul(Y,we)|0,w=(w=w+Math.imul(Y,Ie)|0)+Math.imul(H,we)|0,C=C+Math.imul(H,Ie)|0;var fe=(B+(S=S+Math.imul(j,Ne)|0)|0)+((8191&(w=(w=w+Math.imul(j,rt)|0)+Math.imul(K,Ne)|0))<<13)|0;B=((C=C+Math.imul(K,rt)|0)+(w>>>13)|0)+(fe>>>26)|0,fe&=67108863,S=Math.imul(Ae,ke),w=(w=Math.imul(Ae,Pe))+Math.imul(De,ke)|0,C=Math.imul(De,Pe),S=S+Math.imul(ge,He)|0,w=(w=w+Math.imul(ge,ht)|0)+Math.imul(Re,He)|0,C=C+Math.imul(Re,ht)|0,S=S+Math.imul(ce,We)|0,w=(w=w+Math.imul(ce,bt)|0)+Math.imul(pe,We)|0,C=C+Math.imul(pe,bt)|0,S=S+Math.imul(ie,Ze)|0,w=(w=w+Math.imul(ie,Ht)|0)+Math.imul(ae,Ze)|0,C=C+Math.imul(ae,Ht)|0,S=S+Math.imul(te,Xe)|0,w=(w=w+Math.imul(te,wt)|0)+Math.imul(se,Xe)|0,C=C+Math.imul(se,wt)|0,S=S+Math.imul(re,tt)|0,w=(w=w+Math.imul(re,kt)|0)+Math.imul(q,tt)|0,C=C+Math.imul(q,kt)|0,S=S+Math.imul(ee,st)|0,w=(w=w+Math.imul(ee,de)|0)+Math.imul(W,st)|0,C=C+Math.imul(W,de)|0,S=S+Math.imul($,we)|0,w=(w=w+Math.imul($,Ie)|0)+Math.imul(J,we)|0,C=C+Math.imul(J,Ie)|0,S=S+Math.imul(Y,Ne)|0,w=(w=w+Math.imul(Y,rt)|0)+Math.imul(H,Ne)|0,C=C+Math.imul(H,rt)|0;var Ce=(B+(S=S+Math.imul(j,$e)|0)|0)+((8191&(w=(w=w+Math.imul(j,ot)|0)+Math.imul(K,$e)|0))<<13)|0;B=((C=C+Math.imul(K,ot)|0)+(w>>>13)|0)+(Ce>>>26)|0,Ce&=67108863,S=Math.imul(Ae,He),w=(w=Math.imul(Ae,ht))+Math.imul(De,He)|0,C=Math.imul(De,ht),S=S+Math.imul(ge,We)|0,w=(w=w+Math.imul(ge,bt)|0)+Math.imul(Re,We)|0,C=C+Math.imul(Re,bt)|0,S=S+Math.imul(ce,Ze)|0,w=(w=w+Math.imul(ce,Ht)|0)+Math.imul(pe,Ze)|0,C=C+Math.imul(pe,Ht)|0,S=S+Math.imul(ie,Xe)|0,w=(w=w+Math.imul(ie,wt)|0)+Math.imul(ae,Xe)|0,C=C+Math.imul(ae,wt)|0,S=S+Math.imul(te,tt)|0,w=(w=w+Math.imul(te,kt)|0)+Math.imul(se,tt)|0,C=C+Math.imul(se,kt)|0,S=S+Math.imul(re,st)|0,w=(w=w+Math.imul(re,de)|0)+Math.imul(q,st)|0,C=C+Math.imul(q,de)|0,S=S+Math.imul(ee,we)|0,w=(w=w+Math.imul(ee,Ie)|0)+Math.imul(W,we)|0,C=C+Math.imul(W,Ie)|0,S=S+Math.imul($,Ne)|0,w=(w=w+Math.imul($,rt)|0)+Math.imul(J,Ne)|0,C=C+Math.imul(J,rt)|0;var Ee=(B+(S=S+Math.imul(Y,$e)|0)|0)+((8191&(w=(w=w+Math.imul(Y,ot)|0)+Math.imul(H,$e)|0))<<13)|0;B=((C=C+Math.imul(H,ot)|0)+(w>>>13)|0)+(Ee>>>26)|0,Ee&=67108863,S=Math.imul(Ae,We),w=(w=Math.imul(Ae,bt))+Math.imul(De,We)|0,C=Math.imul(De,bt),S=S+Math.imul(ge,Ze)|0,w=(w=w+Math.imul(ge,Ht)|0)+Math.imul(Re,Ze)|0,C=C+Math.imul(Re,Ht)|0,S=S+Math.imul(ce,Xe)|0,w=(w=w+Math.imul(ce,wt)|0)+Math.imul(pe,Xe)|0,C=C+Math.imul(pe,wt)|0,S=S+Math.imul(ie,tt)|0,w=(w=w+Math.imul(ie,kt)|0)+Math.imul(ae,tt)|0,C=C+Math.imul(ae,kt)|0,S=S+Math.imul(te,st)|0,w=(w=w+Math.imul(te,de)|0)+Math.imul(se,st)|0,C=C+Math.imul(se,de)|0,S=S+Math.imul(re,we)|0,w=(w=w+Math.imul(re,Ie)|0)+Math.imul(q,we)|0,C=C+Math.imul(q,Ie)|0,S=S+Math.imul(ee,Ne)|0,w=(w=w+Math.imul(ee,rt)|0)+Math.imul(W,Ne)|0,C=C+Math.imul(W,rt)|0;var ze=(B+(S=S+Math.imul($,$e)|0)|0)+((8191&(w=(w=w+Math.imul($,ot)|0)+Math.imul(J,$e)|0))<<13)|0;B=((C=C+Math.imul(J,ot)|0)+(w>>>13)|0)+(ze>>>26)|0,ze&=67108863,S=Math.imul(Ae,Ze),w=(w=Math.imul(Ae,Ht))+Math.imul(De,Ze)|0,C=Math.imul(De,Ht),S=S+Math.imul(ge,Xe)|0,w=(w=w+Math.imul(ge,wt)|0)+Math.imul(Re,Xe)|0,C=C+Math.imul(Re,wt)|0,S=S+Math.imul(ce,tt)|0,w=(w=w+Math.imul(ce,kt)|0)+Math.imul(pe,tt)|0,C=C+Math.imul(pe,kt)|0,S=S+Math.imul(ie,st)|0,w=(w=w+Math.imul(ie,de)|0)+Math.imul(ae,st)|0,C=C+Math.imul(ae,de)|0,S=S+Math.imul(te,we)|0,w=(w=w+Math.imul(te,Ie)|0)+Math.imul(se,we)|0,C=C+Math.imul(se,Ie)|0,S=S+Math.imul(re,Ne)|0,w=(w=w+Math.imul(re,rt)|0)+Math.imul(q,Ne)|0,C=C+Math.imul(q,rt)|0;var Te=(B+(S=S+Math.imul(ee,$e)|0)|0)+((8191&(w=(w=w+Math.imul(ee,ot)|0)+Math.imul(W,$e)|0))<<13)|0;B=((C=C+Math.imul(W,ot)|0)+(w>>>13)|0)+(Te>>>26)|0,Te&=67108863,S=Math.imul(Ae,Xe),w=(w=Math.imul(Ae,wt))+Math.imul(De,Xe)|0,C=Math.imul(De,wt),S=S+Math.imul(ge,tt)|0,w=(w=w+Math.imul(ge,kt)|0)+Math.imul(Re,tt)|0,C=C+Math.imul(Re,kt)|0,S=S+Math.imul(ce,st)|0,w=(w=w+Math.imul(ce,de)|0)+Math.imul(pe,st)|0,C=C+Math.imul(pe,de)|0,S=S+Math.imul(ie,we)|0,w=(w=w+Math.imul(ie,Ie)|0)+Math.imul(ae,we)|0,C=C+Math.imul(ae,Ie)|0,S=S+Math.imul(te,Ne)|0,w=(w=w+Math.imul(te,rt)|0)+Math.imul(se,Ne)|0,C=C+Math.imul(se,rt)|0;var Be=(B+(S=S+Math.imul(re,$e)|0)|0)+((8191&(w=(w=w+Math.imul(re,ot)|0)+Math.imul(q,$e)|0))<<13)|0;B=((C=C+Math.imul(q,ot)|0)+(w>>>13)|0)+(Be>>>26)|0,Be&=67108863,S=Math.imul(Ae,tt),w=(w=Math.imul(Ae,kt))+Math.imul(De,tt)|0,C=Math.imul(De,kt),S=S+Math.imul(ge,st)|0,w=(w=w+Math.imul(ge,de)|0)+Math.imul(Re,st)|0,C=C+Math.imul(Re,de)|0,S=S+Math.imul(ce,we)|0,w=(w=w+Math.imul(ce,Ie)|0)+Math.imul(pe,we)|0,C=C+Math.imul(pe,Ie)|0,S=S+Math.imul(ie,Ne)|0,w=(w=w+Math.imul(ie,rt)|0)+Math.imul(ae,Ne)|0,C=C+Math.imul(ae,rt)|0;var yt=(B+(S=S+Math.imul(te,$e)|0)|0)+((8191&(w=(w=w+Math.imul(te,ot)|0)+Math.imul(se,$e)|0))<<13)|0;B=((C=C+Math.imul(se,ot)|0)+(w>>>13)|0)+(yt>>>26)|0,yt&=67108863,S=Math.imul(Ae,st),w=(w=Math.imul(Ae,de))+Math.imul(De,st)|0,C=Math.imul(De,de),S=S+Math.imul(ge,we)|0,w=(w=w+Math.imul(ge,Ie)|0)+Math.imul(Re,we)|0,C=C+Math.imul(Re,Ie)|0,S=S+Math.imul(ce,Ne)|0,w=(w=w+Math.imul(ce,rt)|0)+Math.imul(pe,Ne)|0,C=C+Math.imul(pe,rt)|0;var ut=(B+(S=S+Math.imul(ie,$e)|0)|0)+((8191&(w=(w=w+Math.imul(ie,ot)|0)+Math.imul(ae,$e)|0))<<13)|0;B=((C=C+Math.imul(ae,ot)|0)+(w>>>13)|0)+(ut>>>26)|0,ut&=67108863,S=Math.imul(Ae,we),w=(w=Math.imul(Ae,Ie))+Math.imul(De,we)|0,C=Math.imul(De,Ie),S=S+Math.imul(ge,Ne)|0,w=(w=w+Math.imul(ge,rt)|0)+Math.imul(Re,Ne)|0,C=C+Math.imul(Re,rt)|0;var dt=(B+(S=S+Math.imul(ce,$e)|0)|0)+((8191&(w=(w=w+Math.imul(ce,ot)|0)+Math.imul(pe,$e)|0))<<13)|0;B=((C=C+Math.imul(pe,ot)|0)+(w>>>13)|0)+(dt>>>26)|0,dt&=67108863,S=Math.imul(Ae,Ne),w=(w=Math.imul(Ae,rt))+Math.imul(De,Ne)|0,C=Math.imul(De,rt);var Ye=(B+(S=S+Math.imul(ge,$e)|0)|0)+((8191&(w=(w=w+Math.imul(ge,ot)|0)+Math.imul(Re,$e)|0))<<13)|0;B=((C=C+Math.imul(Re,ot)|0)+(w>>>13)|0)+(Ye>>>26)|0,Ye&=67108863;var Tt=(B+(S=Math.imul(Ae,$e))|0)+((8191&(w=(w=Math.imul(Ae,ot))+Math.imul(De,$e)|0))<<13)|0;return B=((C=Math.imul(De,ot))+(w>>>13)|0)+(Tt>>>26)|0,Tt&=67108863,D[0]=nt,D[1]=ct,D[2]=Qt,D[3]=jt,D[4]=sr,D[5]=ar,D[6]=Br,D[7]=le,D[8]=fe,D[9]=Ce,D[10]=Ee,D[11]=ze,D[12]=Te,D[13]=Be,D[14]=yt,D[15]=ut,D[16]=dt,D[17]=Ye,D[18]=Tt,B!==0&&(D[19]=B,k.length++),k};function v(_,R,k){return new F().mulp(_,R,k)}function F(_,R){this.x=_,this.y=R}Math.imul||(b=y),u.prototype.mulTo=function(_,R){var k=this.length+_.length;return this.length===10&&_.length===10?b(this,_,R):k<63?y(this,_,R):k<1024?(function(S,w,C){C.negative=w.negative^S.negative,C.length=S.length+w.length;for(var x=0,A=0,D=0;D<C.length-1;D++){var B=A;A=0;for(var V=67108863&x,j=Math.min(D,w.length-1),K=Math.max(0,D-S.length+1);K<=j;K++){var G=D-K,Y=(0|S.words[G])*(0|w.words[K]),H=67108863&Y;V=67108863&(H=H+V|0),A+=(B=(B=B+(Y/67108864|0)|0)+(H>>>26)|0)>>>26,B&=67108863}C.words[D]=V,x=B,B=A}return x!==0?C.words[D]=x:C.length--,C.strip()})(this,_,R):v(this,_,R)},F.prototype.makeRBT=function(_){for(var R=new Array(_),k=u.prototype._countBits(_)-1,S=0;S<_;S++)R[S]=this.revBin(S,k,_);return R},F.prototype.revBin=function(_,R,k){if(_===0||_===k-1)return _;for(var S=0,w=0;w<R;w++)S|=(1&_)<<R-w-1,_>>=1;return S},F.prototype.permute=function(_,R,k,S,w,C){for(var x=0;x<C;x++)S[x]=R[_[x]],w[x]=k[_[x]]},F.prototype.transform=function(_,R,k,S,w,C){this.permute(C,_,R,k,S,w);for(var x=1;x<w;x<<=1)for(var A=x<<1,D=Math.cos(2*Math.PI/A),B=Math.sin(2*Math.PI/A),V=0;V<w;V+=A)for(var j=D,K=B,G=0;G<x;G++){var Y=k[V+G],H=S[V+G],N=k[V+G+x],$=S[V+G+x],J=j*N-K*$;$=j*$+K*N,N=J,k[V+G]=Y+N,S[V+G]=H+$,k[V+G+x]=Y-N,S[V+G+x]=H-$,G!==A&&(J=D*j-B*K,K=D*K+B*j,j=J)}},F.prototype.guessLen13b=function(_,R){var k=1|Math.max(R,_),S=1&k,w=0;for(k=k/2|0;k;k>>>=1)w++;return 1<<w+1+S},F.prototype.conjugate=function(_,R,k){if(!(k<=1))for(var S=0;S<k/2;S++){var w=_[S];_[S]=_[k-S-1],_[k-S-1]=w,w=R[S],R[S]=-R[k-S-1],R[k-S-1]=-w}},F.prototype.normalize13b=function(_,R){for(var k=0,S=0;S<R/2;S++){var w=8192*Math.round(_[2*S+1]/R)+Math.round(_[2*S]/R)+k;_[S]=67108863&w,k=w<67108864?0:w/67108864|0}return _},F.prototype.convert13b=function(_,R,k,S){for(var w=0,C=0;C<R;C++)w+=0|_[C],k[2*C]=8191&w,w>>>=13,k[2*C+1]=8191&w,w>>>=13;for(C=2*R;C<S;++C)k[C]=0;a(w===0),a((-8192&w)==0)},F.prototype.stub=function(_){for(var R=new Array(_),k=0;k<_;k++)R[k]=0;return R},F.prototype.mulp=function(_,R,k){var S=2*this.guessLen13b(_.length,R.length),w=this.makeRBT(S),C=this.stub(S),x=new Array(S),A=new Array(S),D=new Array(S),B=new Array(S),V=new Array(S),j=new Array(S),K=k.words;K.length=S,this.convert13b(_.words,_.length,x,S),this.convert13b(R.words,R.length,B,S),this.transform(x,C,A,D,S,w),this.transform(B,C,V,j,S,w);for(var G=0;G<S;G++){var Y=A[G]*V[G]-D[G]*j[G];D[G]=A[G]*j[G]+D[G]*V[G],A[G]=Y}return this.conjugate(A,D,S),this.transform(A,D,K,C,S,w),this.conjugate(K,C,S),this.normalize13b(K,S),k.negative=_.negative^R.negative,k.length=_.length+R.length,k.strip()},u.prototype.mul=function(_){var R=new u(null);return R.words=new Array(this.length+_.length),this.mulTo(_,R)},u.prototype.mulf=function(_){var R=new u(null);return R.words=new Array(this.length+_.length),v(this,_,R)},u.prototype.imul=function(_){return this.clone().mulTo(_,this)},u.prototype.imuln=function(_){a(typeof _=="number"),a(_<67108864);for(var R=0,k=0;k<this.length;k++){var S=(0|this.words[k])*_,w=(67108863&S)+(67108863&R);R>>=26,R+=S/67108864|0,R+=w>>>26,this.words[k]=67108863&w}return R!==0&&(this.words[k]=R,this.length++),this},u.prototype.muln=function(_){return this.clone().imuln(_)},u.prototype.sqr=function(){return this.mul(this)},u.prototype.isqr=function(){return this.imul(this.clone())},u.prototype.pow=function(_){var R=(function(C){for(var x=new Array(C.bitLength()),A=0;A<x.length;A++){var D=A/26|0,B=A%26;x[A]=(C.words[D]&1<<B)>>>B}return x})(_);if(R.length===0)return new u(1);for(var k=this,S=0;S<R.length&&R[S]===0;S++,k=k.sqr());if(++S<R.length)for(var w=k.sqr();S<R.length;S++,w=w.sqr())R[S]!==0&&(k=k.mul(w));return k},u.prototype.iushln=function(_){a(typeof _=="number"&&_>=0);var R,k=_%26,S=(_-k)/26,w=67108863>>>26-k<<26-k;if(k!==0){var C=0;for(R=0;R<this.length;R++){var x=this.words[R]&w,A=(0|this.words[R])-x<<k;this.words[R]=A|C,C=x>>>26-k}C&&(this.words[R]=C,this.length++)}if(S!==0){for(R=this.length-1;R>=0;R--)this.words[R+S]=this.words[R];for(R=0;R<S;R++)this.words[R]=0;this.length+=S}return this.strip()},u.prototype.ishln=function(_){return a(this.negative===0),this.iushln(_)},u.prototype.iushrn=function(_,R,k){var S;a(typeof _=="number"&&_>=0),S=R?(R-R%26)/26:0;var w=_%26,C=Math.min((_-w)/26,this.length),x=67108863^67108863>>>w<<w,A=k;if(S-=C,S=Math.max(0,S),A){for(var D=0;D<C;D++)A.words[D]=this.words[D];A.length=C}if(C!==0)if(this.length>C)for(this.length-=C,D=0;D<this.length;D++)this.words[D]=this.words[D+C];else this.words[0]=0,this.length=1;var B=0;for(D=this.length-1;D>=0&&(B!==0||D>=S);D--){var V=0|this.words[D];this.words[D]=B<<26-w|V>>>w,B=V&x}return A&&B!==0&&(A.words[A.length++]=B),this.length===0&&(this.words[0]=0,this.length=1),this.strip()},u.prototype.ishrn=function(_,R,k){return a(this.negative===0),this.iushrn(_,R,k)},u.prototype.shln=function(_){return this.clone().ishln(_)},u.prototype.ushln=function(_){return this.clone().iushln(_)},u.prototype.shrn=function(_){return this.clone().ishrn(_)},u.prototype.ushrn=function(_){return this.clone().iushrn(_)},u.prototype.testn=function(_){a(typeof _=="number"&&_>=0);var R=_%26,k=(_-R)/26,S=1<<R;return!(this.length<=k)&&!!(this.words[k]&S)},u.prototype.imaskn=function(_){a(typeof _=="number"&&_>=0);var R=_%26,k=(_-R)/26;if(a(this.negative===0,"imaskn works only with positive numbers"),this.length<=k)return this;if(R!==0&&k++,this.length=Math.min(k,this.length),R!==0){var S=67108863^67108863>>>R<<R;this.words[this.length-1]&=S}return this.strip()},u.prototype.maskn=function(_){return this.clone().imaskn(_)},u.prototype.iaddn=function(_){return a(typeof _=="number"),a(_<67108864),_<0?this.isubn(-_):this.negative!==0?this.length===1&&(0|this.words[0])<_?(this.words[0]=_-(0|this.words[0]),this.negative=0,this):(this.negative=0,this.isubn(_),this.negative=1,this):this._iaddn(_)},u.prototype._iaddn=function(_){this.words[0]+=_;for(var R=0;R<this.length&&this.words[R]>=67108864;R++)this.words[R]-=67108864,R===this.length-1?this.words[R+1]=1:this.words[R+1]++;return this.length=Math.max(this.length,R+1),this},u.prototype.isubn=function(_){if(a(typeof _=="number"),a(_<67108864),_<0)return this.iaddn(-_);if(this.negative!==0)return this.negative=0,this.iaddn(_),this.negative=1,this;if(this.words[0]-=_,this.length===1&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var R=0;R<this.length&&this.words[R]<0;R++)this.words[R]+=67108864,this.words[R+1]-=1;return this.strip()},u.prototype.addn=function(_){return this.clone().iaddn(_)},u.prototype.subn=function(_){return this.clone().isubn(_)},u.prototype.iabs=function(){return this.negative=0,this},u.prototype.abs=function(){return this.clone().iabs()},u.prototype._ishlnsubmul=function(_,R,k){var S,w,C=_.length+k;this._expand(C);var x=0;for(S=0;S<_.length;S++){w=(0|this.words[S+k])+x;var A=(0|_.words[S])*R;x=((w-=67108863&A)>>26)-(A/67108864|0),this.words[S+k]=67108863&w}for(;S<this.length-k;S++)x=(w=(0|this.words[S+k])+x)>>26,this.words[S+k]=67108863&w;if(x===0)return this.strip();for(a(x===-1),x=0,S=0;S<this.length;S++)x=(w=-(0|this.words[S])+x)>>26,this.words[S]=67108863&w;return this.negative=1,this.strip()},u.prototype._wordDiv=function(_,R){var k=(this.length,_.length),S=this.clone(),w=_,C=0|w.words[w.length-1];(k=26-this._countBits(C))!==0&&(w=w.ushln(k),S.iushln(k),C=0|w.words[w.length-1]);var x,A=S.length-w.length;if(R!=="mod"){(x=new u(null)).length=A+1,x.words=new Array(x.length);for(var D=0;D<x.length;D++)x.words[D]=0}var B=S.clone()._ishlnsubmul(w,1,A);B.negative===0&&(S=B,x&&(x.words[A]=1));for(var V=A-1;V>=0;V--){var j=67108864*(0|S.words[w.length+V])+(0|S.words[w.length+V-1]);for(j=Math.min(j/C|0,67108863),S._ishlnsubmul(w,j,V);S.negative!==0;)j--,S.negative=0,S._ishlnsubmul(w,1,V),S.isZero()||(S.negative^=1);x&&(x.words[V]=j)}return x&&x.strip(),S.strip(),R!=="div"&&k!==0&&S.iushrn(k),{div:x||null,mod:S}},u.prototype.divmod=function(_,R,k){return a(!_.isZero()),this.isZero()?{div:new u(0),mod:new u(0)}:this.negative!==0&&_.negative===0?(C=this.neg().divmod(_,R),R!=="mod"&&(S=C.div.neg()),R!=="div"&&(w=C.mod.neg(),k&&w.negative!==0&&w.iadd(_)),{div:S,mod:w}):this.negative===0&&_.negative!==0?(C=this.divmod(_.neg(),R),R!=="mod"&&(S=C.div.neg()),{div:S,mod:C.mod}):(this.negative&_.negative)!=0?(C=this.neg().divmod(_.neg(),R),R!=="div"&&(w=C.mod.neg(),k&&w.negative!==0&&w.isub(_)),{div:C.div,mod:w}):_.length>this.length||this.cmp(_)<0?{div:new u(0),mod:this}:_.length===1?R==="div"?{div:this.divn(_.words[0]),mod:null}:R==="mod"?{div:null,mod:new u(this.modn(_.words[0]))}:{div:this.divn(_.words[0]),mod:new u(this.modn(_.words[0]))}:this._wordDiv(_,R);var S,w,C},u.prototype.div=function(_){return this.divmod(_,"div",!1).div},u.prototype.mod=function(_){return this.divmod(_,"mod",!1).mod},u.prototype.umod=function(_){return this.divmod(_,"mod",!0).mod},u.prototype.divRound=function(_){var R=this.divmod(_);if(R.mod.isZero())return R.div;var k=R.div.negative!==0?R.mod.isub(_):R.mod,S=_.ushrn(1),w=_.andln(1),C=k.cmp(S);return C<0||w===1&&C===0?R.div:R.div.negative!==0?R.div.isubn(1):R.div.iaddn(1)},u.prototype.modn=function(_){a(_<=67108863);for(var R=(1<<26)%_,k=0,S=this.length-1;S>=0;S--)k=(R*k+(0|this.words[S]))%_;return k},u.prototype.idivn=function(_){a(_<=67108863);for(var R=0,k=this.length-1;k>=0;k--){var S=(0|this.words[k])+67108864*R;this.words[k]=S/_|0,R=S%_}return this.strip()},u.prototype.divn=function(_){return this.clone().idivn(_)},u.prototype.egcd=function(_){a(_.negative===0),a(!_.isZero());var R=this,k=_.clone();R=R.negative!==0?R.umod(_):R.clone();for(var S=new u(1),w=new u(0),C=new u(0),x=new u(1),A=0;R.isEven()&&k.isEven();)R.iushrn(1),k.iushrn(1),++A;for(var D=k.clone(),B=R.clone();!R.isZero();){for(var V=0,j=1;(R.words[0]&j)==0&&V<26;++V,j<<=1);if(V>0)for(R.iushrn(V);V-- >0;)(S.isOdd()||w.isOdd())&&(S.iadd(D),w.isub(B)),S.iushrn(1),w.iushrn(1);for(var K=0,G=1;(k.words[0]&G)==0&&K<26;++K,G<<=1);if(K>0)for(k.iushrn(K);K-- >0;)(C.isOdd()||x.isOdd())&&(C.iadd(D),x.isub(B)),C.iushrn(1),x.iushrn(1);R.cmp(k)>=0?(R.isub(k),S.isub(C),w.isub(x)):(k.isub(R),C.isub(S),x.isub(w))}return{a:C,b:x,gcd:k.iushln(A)}},u.prototype._invmp=function(_){a(_.negative===0),a(!_.isZero());var R=this,k=_.clone();R=R.negative!==0?R.umod(_):R.clone();for(var S,w=new u(1),C=new u(0),x=k.clone();R.cmpn(1)>0&&k.cmpn(1)>0;){for(var A=0,D=1;(R.words[0]&D)==0&&A<26;++A,D<<=1);if(A>0)for(R.iushrn(A);A-- >0;)w.isOdd()&&w.iadd(x),w.iushrn(1);for(var B=0,V=1;(k.words[0]&V)==0&&B<26;++B,V<<=1);if(B>0)for(k.iushrn(B);B-- >0;)C.isOdd()&&C.iadd(x),C.iushrn(1);R.cmp(k)>=0?(R.isub(k),w.isub(C)):(k.isub(R),C.isub(w))}return(S=R.cmpn(1)===0?w:C).cmpn(0)<0&&S.iadd(_),S},u.prototype.gcd=function(_){if(this.isZero())return _.abs();if(_.isZero())return this.abs();var R=this.clone(),k=_.clone();R.negative=0,k.negative=0;for(var S=0;R.isEven()&&k.isEven();S++)R.iushrn(1),k.iushrn(1);for(;;){for(;R.isEven();)R.iushrn(1);for(;k.isEven();)k.iushrn(1);var w=R.cmp(k);if(w<0){var C=R;R=k,k=C}else if(w===0||k.cmpn(1)===0)break;R.isub(k)}return k.iushln(S)},u.prototype.invm=function(_){return this.egcd(_).a.umod(_)},u.prototype.isEven=function(){return(1&this.words[0])==0},u.prototype.isOdd=function(){return(1&this.words[0])==1},u.prototype.andln=function(_){return this.words[0]&_},u.prototype.bincn=function(_){a(typeof _=="number");var R=_%26,k=(_-R)/26,S=1<<R;if(this.length<=k)return this._expand(k+1),this.words[k]|=S,this;for(var w=S,C=k;w!==0&&C<this.length;C++){var x=0|this.words[C];w=(x+=w)>>>26,x&=67108863,this.words[C]=x}return w!==0&&(this.words[C]=w,this.length++),this},u.prototype.isZero=function(){return this.length===1&&this.words[0]===0},u.prototype.cmpn=function(_){var R,k=_<0;if(this.negative!==0&&!k)return-1;if(this.negative===0&&k)return 1;if(this.strip(),this.length>1)R=1;else{k&&(_=-_),a(_<=67108863,"Number is too big");var S=0|this.words[0];R=S===_?0:S<_?-1:1}return this.negative!==0?0|-R:R},u.prototype.cmp=function(_){if(this.negative!==0&&_.negative===0)return-1;if(this.negative===0&&_.negative!==0)return 1;var R=this.ucmp(_);return this.negative!==0?0|-R:R},u.prototype.ucmp=function(_){if(this.length>_.length)return 1;if(this.length<_.length)return-1;for(var R=0,k=this.length-1;k>=0;k--){var S=0|this.words[k],w=0|_.words[k];if(S!==w){S<w?R=-1:S>w&&(R=1);break}}return R},u.prototype.gtn=function(_){return this.cmpn(_)===1},u.prototype.gt=function(_){return this.cmp(_)===1},u.prototype.gten=function(_){return this.cmpn(_)>=0},u.prototype.gte=function(_){return this.cmp(_)>=0},u.prototype.ltn=function(_){return this.cmpn(_)===-1},u.prototype.lt=function(_){return this.cmp(_)===-1},u.prototype.lten=function(_){return this.cmpn(_)<=0},u.prototype.lte=function(_){return this.cmp(_)<=0},u.prototype.eqn=function(_){return this.cmpn(_)===0},u.prototype.eq=function(_){return this.cmp(_)===0},u.red=function(_){return new z(_)},u.prototype.toRed=function(_){return a(!this.red,"Already a number in reduction context"),a(this.negative===0,"red works only with positives"),_.convertTo(this)._forceRed(_)},u.prototype.fromRed=function(){return a(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},u.prototype._forceRed=function(_){return this.red=_,this},u.prototype.forceRed=function(_){return a(!this.red,"Already a number in reduction context"),this._forceRed(_)},u.prototype.redAdd=function(_){return a(this.red,"redAdd works only with red numbers"),this.red.add(this,_)},u.prototype.redIAdd=function(_){return a(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,_)},u.prototype.redSub=function(_){return a(this.red,"redSub works only with red numbers"),this.red.sub(this,_)},u.prototype.redISub=function(_){return a(this.red,"redISub works only with red numbers"),this.red.isub(this,_)},u.prototype.redShl=function(_){return a(this.red,"redShl works only with red numbers"),this.red.shl(this,_)},u.prototype.redMul=function(_){return a(this.red,"redMul works only with red numbers"),this.red._verify2(this,_),this.red.mul(this,_)},u.prototype.redIMul=function(_){return a(this.red,"redMul works only with red numbers"),this.red._verify2(this,_),this.red.imul(this,_)},u.prototype.redSqr=function(){return a(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},u.prototype.redISqr=function(){return a(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},u.prototype.redSqrt=function(){return a(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},u.prototype.redInvm=function(){return a(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},u.prototype.redNeg=function(){return a(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},u.prototype.redPow=function(_){return a(this.red&&!_.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,_)};var E={k256:null,p224:null,p192:null,p25519:null};function T(_,R){this.name=_,this.p=new u(R,16),this.n=this.p.bitLength(),this.k=new u(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}function I(){T.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}function M(){T.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}function P(){T.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}function O(){T.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}function z(_){if(typeof _=="string"){var R=u._prime(_);this.m=R.p,this.prime=R}else a(_.gtn(1),"modulus must be greater than 1"),this.m=_,this.prime=null}function L(_){z.call(this,_),this.shift=this.m.bitLength(),this.shift%26!=0&&(this.shift+=26-this.shift%26),this.r=new u(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}T.prototype._tmp=function(){var _=new u(null);return _.words=new Array(Math.ceil(this.n/13)),_},T.prototype.ireduce=function(_){var R,k=_;do this.split(k,this.tmp),R=(k=(k=this.imulK(k)).iadd(this.tmp)).bitLength();while(R>this.n);var S=R<this.n?-1:k.ucmp(this.p);return S===0?(k.words[0]=0,k.length=1):S>0?k.isub(this.p):k.strip!==void 0?k.strip():k._strip(),k},T.prototype.split=function(_,R){_.iushrn(this.n,0,R)},T.prototype.imulK=function(_){return _.imul(this.k)},l(I,T),I.prototype.split=function(_,R){for(var k=Math.min(_.length,9),S=0;S<k;S++)R.words[S]=_.words[S];if(R.length=k,_.length<=9)return _.words[0]=0,void(_.length=1);var w=_.words[9];for(R.words[R.length++]=4194303&w,S=10;S<_.length;S++){var C=0|_.words[S];_.words[S-10]=(4194303&C)<<4|w>>>22,w=C}w>>>=22,_.words[S-10]=w,w===0&&_.length>10?_.length-=10:_.length-=9},I.prototype.imulK=function(_){_.words[_.length]=0,_.words[_.length+1]=0,_.length+=2;for(var R=0,k=0;k<_.length;k++){var S=0|_.words[k];R+=977*S,_.words[k]=67108863&R,R=64*S+(R/67108864|0)}return _.words[_.length-1]===0&&(_.length--,_.words[_.length-1]===0&&_.length--),_},l(M,T),l(P,T),l(O,T),O.prototype.imulK=function(_){for(var R=0,k=0;k<_.length;k++){var S=19*(0|_.words[k])+R,w=67108863&S;S>>>=26,_.words[k]=w,R=S}return R!==0&&(_.words[_.length++]=R),_},u._prime=function(_){if(E[_])return E[_];var R;if(_==="k256")R=new I;else if(_==="p224")R=new M;else if(_==="p192")R=new P;else{if(_!=="p25519")throw new Error("Unknown prime "+_);R=new O}return E[_]=R,R},z.prototype._verify1=function(_){a(_.negative===0,"red works only with positives"),a(_.red,"red works only with red numbers")},z.prototype._verify2=function(_,R){a((_.negative|R.negative)==0,"red works only with positives"),a(_.red&&_.red===R.red,"red works only with red numbers")},z.prototype.imod=function(_){return this.prime?this.prime.ireduce(_)._forceRed(this):_.umod(this.m)._forceRed(this)},z.prototype.neg=function(_){return _.isZero()?_.clone():this.m.sub(_)._forceRed(this)},z.prototype.add=function(_,R){this._verify2(_,R);var k=_.add(R);return k.cmp(this.m)>=0&&k.isub(this.m),k._forceRed(this)},z.prototype.iadd=function(_,R){this._verify2(_,R);var k=_.iadd(R);return k.cmp(this.m)>=0&&k.isub(this.m),k},z.prototype.sub=function(_,R){this._verify2(_,R);var k=_.sub(R);return k.cmpn(0)<0&&k.iadd(this.m),k._forceRed(this)},z.prototype.isub=function(_,R){this._verify2(_,R);var k=_.isub(R);return k.cmpn(0)<0&&k.iadd(this.m),k},z.prototype.shl=function(_,R){return this._verify1(_),this.imod(_.ushln(R))},z.prototype.imul=function(_,R){return this._verify2(_,R),this.imod(_.imul(R))},z.prototype.mul=function(_,R){return this._verify2(_,R),this.imod(_.mul(R))},z.prototype.isqr=function(_){return this.imul(_,_.clone())},z.prototype.sqr=function(_){return this.mul(_,_)},z.prototype.sqrt=function(_){if(_.isZero())return _.clone();var R=this.m.andln(3);if(a(R%2==1),R===3){var k=this.m.add(new u(1)).iushrn(2);return this.pow(_,k)}for(var S=this.m.subn(1),w=0;!S.isZero()&&S.andln(1)===0;)w++,S.iushrn(1);a(!S.isZero());var C=new u(1).toRed(this),x=C.redNeg(),A=this.m.subn(1).iushrn(1),D=this.m.bitLength();for(D=new u(2*D*D).toRed(this);this.pow(D,A).cmp(x)!==0;)D.redIAdd(x);for(var B=this.pow(D,S),V=this.pow(_,S.addn(1).iushrn(1)),j=this.pow(_,S),K=w;j.cmp(C)!==0;){for(var G=j,Y=0;G.cmp(C)!==0;Y++)G=G.redSqr();a(Y<K);var H=this.pow(B,new u(1).iushln(K-Y-1));V=V.redMul(H),B=H.redSqr(),j=j.redMul(B),K=Y}return V},z.prototype.invm=function(_){var R=_._invmp(this.m);return R.negative!==0?(R.negative=0,this.imod(R).redNeg()):this.imod(R)},z.prototype.pow=function(_,R){if(R.isZero())return new u(1).toRed(this);if(R.cmpn(1)===0)return _.clone();var k=new Array(16);k[0]=new u(1).toRed(this),k[1]=_;for(var S=2;S<k.length;S++)k[S]=this.mul(k[S-1],_);var w=k[0],C=0,x=0,A=R.bitLength()%26;for(A===0&&(A=26),S=R.length-1;S>=0;S--){for(var D=R.words[S],B=A-1;B>=0;B--){var V=D>>B&1;w!==k[0]&&(w=this.sqr(w)),V!==0||C!==0?(C<<=1,C|=V,(++x===4||S===0&&B===0)&&(w=this.mul(w,k[C]),x=0,C=0)):x=0}A=26}return w},z.prototype.convertTo=function(_){var R=_.umod(this.m);return R===_?R.clone():R},z.prototype.convertFrom=function(_){var R=_.clone();return R.red=null,R},u.mont=function(_){return new L(_)},l(L,z),L.prototype.convertTo=function(_){return this.imod(_.ushln(this.shift))},L.prototype.convertFrom=function(_){var R=this.imod(_.mul(this.rinv));return R.red=null,R},L.prototype.imul=function(_,R){if(_.isZero()||R.isZero())return _.words[0]=0,_.length=1,_;var k=_.imul(R),S=k.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),w=k.isub(S).iushrn(this.shift),C=w;return w.cmp(this.m)>=0?C=w.isub(this.m):w.cmpn(0)<0&&(C=w.iadd(this.m)),C._forceRed(this)},L.prototype.mul=function(_,R){if(_.isZero()||R.isZero())return new u(0)._forceRed(this);var k=_.mul(R),S=k.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),w=k.isub(S).iushrn(this.shift),C=w;return w.cmp(this.m)>=0?C=w.isub(this.m):w.cmpn(0)<0&&(C=w.iadd(this.m)),C._forceRed(this)},L.prototype.invm=function(_){return this.imod(_._invmp(this.m).mul(this.r2))._forceRed(this)}})(n===void 0||n)},{buffer:188}],185:[function(r,n,i){i.byteLength=function(h){var g=f(h),m=g[0],p=g[1];return 3*(m+p)/4-p},i.toByteArray=function(h){var g,m,p=f(h),y=p[0],b=p[1],v=new a((function(T,I,M){return 3*(I+M)/4-M})(0,y,b)),F=0,E=b>0?y-4:y;for(m=0;m<E;m+=4)g=s[h.charCodeAt(m)]<<18|s[h.charCodeAt(m+1)]<<12|s[h.charCodeAt(m+2)]<<6|s[h.charCodeAt(m+3)],v[F++]=g>>16&255,v[F++]=g>>8&255,v[F++]=255&g;return b===2&&(g=s[h.charCodeAt(m)]<<2|s[h.charCodeAt(m+1)]>>4,v[F++]=255&g),b===1&&(g=s[h.charCodeAt(m)]<<10|s[h.charCodeAt(m+1)]<<4|s[h.charCodeAt(m+2)]>>2,v[F++]=g>>8&255,v[F++]=255&g),v},i.fromByteArray=function(h){for(var g,m=h.length,p=m%3,y=[],b=0,v=m-p;b<v;b+=16383)y.push(d(h,b,b+16383>v?v:b+16383));return p===1?(g=h[m-1],y.push(o[g>>2]+o[g<<4&63]+"==")):p===2&&(g=(h[m-2]<<8)+h[m-1],y.push(o[g>>10]+o[g>>4&63]+o[g<<2&63]+"=")),y.join("")};for(var o=[],s=[],a=typeof Uint8Array<"u"?Uint8Array:Array,l="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",u=0,c=l.length;u<c;++u)o[u]=l[u],s[l.charCodeAt(u)]=u;function f(h){var g=h.length;if(g%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var m=h.indexOf("=");return m===-1&&(m=g),[m,m===g?0:4-m%4]}function d(h,g,m){for(var p,y,b=[],v=g;v<m;v+=3)p=(h[v]<<16&16711680)+(h[v+1]<<8&65280)+(255&h[v+2]),b.push(o[(y=p)>>18&63]+o[y>>12&63]+o[y>>6&63]+o[63&y]);return b.join("")}s[45]=62,s[95]=63},{}],186:[function(r,n,i){(function(o,s){function a(k,S){if(!k)throw new Error(S||"Assertion failed")}function l(k,S){k.super_=S;var w=function(){};w.prototype=S.prototype,k.prototype=new w,k.prototype.constructor=k}function u(k,S,w){if(u.isBN(k))return k;this.negative=0,this.words=null,this.length=0,this.red=null,k!==null&&(S!=="le"&&S!=="be"||(w=S,S=10),this._init(k||0,S||10,w||"be"))}var c;typeof o=="object"?o.exports=u:(void 0).BN=u,u.BN=u,u.wordSize=26;try{c=typeof window<"u"&&window.Buffer!==void 0?window.Buffer:r("buffer").Buffer}catch{}function f(k,S){var w=k.charCodeAt(S);return w>=48&&w<=57?w-48:w>=65&&w<=70?w-55:w>=97&&w<=102?w-87:void a(!1,"Invalid character in "+k)}function d(k,S,w){var C=f(k,w);return w-1>=S&&(C|=f(k,w-1)<<4),C}function h(k,S,w,C){for(var x=0,A=0,D=Math.min(k.length,w),B=S;B<D;B++){var V=k.charCodeAt(B)-48;x*=C,A=V>=49?V-49+10:V>=17?V-17+10:V,a(V>=0&&A<C,"Invalid character"),x+=A}return x}function g(k,S){k.words=S.words,k.length=S.length,k.negative=S.negative,k.red=S.red}if(u.isBN=function(k){return k instanceof u||k!==null&&typeof k=="object"&&k.constructor.wordSize===u.wordSize&&Array.isArray(k.words)},u.max=function(k,S){return k.cmp(S)>0?k:S},u.min=function(k,S){return k.cmp(S)<0?k:S},u.prototype._init=function(k,S,w){if(typeof k=="number")return this._initNumber(k,S,w);if(typeof k=="object")return this._initArray(k,S,w);S==="hex"&&(S=16),a(S===(0|S)&&S>=2&&S<=36);var C=0;(k=k.toString().replace(/\s+/g,""))[0]==="-"&&(C++,this.negative=1),C<k.length&&(S===16?this._parseHex(k,C,w):(this._parseBase(k,S,C),w==="le"&&this._initArray(this.toArray(),S,w)))},u.prototype._initNumber=function(k,S,w){k<0&&(this.negative=1,k=-k),k<67108864?(this.words=[67108863&k],this.length=1):k<4503599627370496?(this.words=[67108863&k,k/67108864&67108863],this.length=2):(a(k<9007199254740992),this.words=[67108863&k,k/67108864&67108863,1],this.length=3),w==="le"&&this._initArray(this.toArray(),S,w)},u.prototype._initArray=function(k,S,w){if(a(typeof k.length=="number"),k.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(k.length/3),this.words=new Array(this.length);for(var C=0;C<this.length;C++)this.words[C]=0;var x,A,D=0;if(w==="be")for(C=k.length-1,x=0;C>=0;C-=3)A=k[C]|k[C-1]<<8|k[C-2]<<16,this.words[x]|=A<<D&67108863,this.words[x+1]=A>>>26-D&67108863,(D+=24)>=26&&(D-=26,x++);else if(w==="le")for(C=0,x=0;C<k.length;C+=3)A=k[C]|k[C+1]<<8|k[C+2]<<16,this.words[x]|=A<<D&67108863,this.words[x+1]=A>>>26-D&67108863,(D+=24)>=26&&(D-=26,x++);return this._strip()},u.prototype._parseHex=function(k,S,w){this.length=Math.ceil((k.length-S)/6),this.words=new Array(this.length);for(var C=0;C<this.length;C++)this.words[C]=0;var x,A=0,D=0;if(w==="be")for(C=k.length-1;C>=S;C-=2)x=d(k,S,C)<<A,this.words[D]|=67108863&x,A>=18?(A-=18,D+=1,this.words[D]|=x>>>26):A+=8;else for(C=(k.length-S)%2==0?S+1:S;C<k.length;C+=2)x=d(k,S,C)<<A,this.words[D]|=67108863&x,A>=18?(A-=18,D+=1,this.words[D]|=x>>>26):A+=8;this._strip()},u.prototype._parseBase=function(k,S,w){this.words=[0],this.length=1;for(var C=0,x=1;x<=67108863;x*=S)C++;C--,x=x/S|0;for(var A=k.length-w,D=A%C,B=Math.min(A,A-D)+w,V=0,j=w;j<B;j+=C)V=h(k,j,j+C,S),this.imuln(x),this.words[0]+V<67108864?this.words[0]+=V:this._iaddn(V);if(D!==0){var K=1;for(V=h(k,j,k.length,S),j=0;j<D;j++)K*=S;this.imuln(K),this.words[0]+V<67108864?this.words[0]+=V:this._iaddn(V)}this._strip()},u.prototype.copy=function(k){k.words=new Array(this.length);for(var S=0;S<this.length;S++)k.words[S]=this.words[S];k.length=this.length,k.negative=this.negative,k.red=this.red},u.prototype._move=function(k){g(k,this)},u.prototype.clone=function(){var k=new u(null);return this.copy(k),k},u.prototype._expand=function(k){for(;this.length<k;)this.words[this.length++]=0;return this},u.prototype._strip=function(){for(;this.length>1&&this.words[this.length-1]===0;)this.length--;return this._normSign()},u.prototype._normSign=function(){return this.length===1&&this.words[0]===0&&(this.negative=0),this},typeof Symbol<"u"&&typeof Symbol.for=="function")try{u.prototype[Symbol.for("nodejs.util.inspect.custom")]=m}catch{u.prototype.inspect=m}else u.prototype.inspect=m;function m(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"}var p=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],y=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],b=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];u.prototype.toString=function(k,S){var w;if(S=0|S||1,(k=k||10)===16||k==="hex"){w="";for(var C=0,x=0,A=0;A<this.length;A++){var D=this.words[A],B=(16777215&(D<<C|x)).toString(16);x=D>>>24-C&16777215,(C+=2)>=26&&(C-=26,A--),w=x!==0||A!==this.length-1?p[6-B.length]+B+w:B+w}for(x!==0&&(w=x.toString(16)+w);w.length%S!=0;)w="0"+w;return this.negative!==0&&(w="-"+w),w}if(k===(0|k)&&k>=2&&k<=36){var V=y[k],j=b[k];w="";var K=this.clone();for(K.negative=0;!K.isZero();){var G=K.modrn(j).toString(k);w=(K=K.idivn(j)).isZero()?G+w:p[V-G.length]+G+w}for(this.isZero()&&(w="0"+w);w.length%S!=0;)w="0"+w;return this.negative!==0&&(w="-"+w),w}a(!1,"Base should be between 2 and 36")},u.prototype.toNumber=function(){var k=this.words[0];return this.length===2?k+=67108864*this.words[1]:this.length===3&&this.words[2]===1?k+=4503599627370496+67108864*this.words[1]:this.length>2&&a(!1,"Number can only safely store up to 53 bits"),this.negative!==0?-k:k},u.prototype.toJSON=function(){return this.toString(16,2)},c&&(u.prototype.toBuffer=function(k,S){return this.toArrayLike(c,k,S)}),u.prototype.toArray=function(k,S){return this.toArrayLike(Array,k,S)};function v(k,S,w){w.negative=S.negative^k.negative;var C=k.length+S.length|0;w.length=C,C=C-1|0;var x=0|k.words[0],A=0|S.words[0],D=x*A,B=67108863&D,V=D/67108864|0;w.words[0]=B;for(var j=1;j<C;j++){for(var K=V>>>26,G=67108863&V,Y=Math.min(j,S.length-1),H=Math.max(0,j-k.length+1);H<=Y;H++){var N=j-H|0;K+=(D=(x=0|k.words[N])*(A=0|S.words[H])+G)/67108864|0,G=67108863&D}w.words[j]=0|G,V=0|K}return V!==0?w.words[j]=0|V:w.length--,w._strip()}u.prototype.toArrayLike=function(k,S,w){this._strip();var C=this.byteLength(),x=w||Math.max(1,C);a(C<=x,"byte array longer than desired length"),a(x>0,"Requested array length <= 0");var A=(function(D,B){return D.allocUnsafe?D.allocUnsafe(B):new D(B)})(k,x);return this["_toArrayLike"+(S==="le"?"LE":"BE")](A,C),A},u.prototype._toArrayLikeLE=function(k,S){for(var w=0,C=0,x=0,A=0;x<this.length;x++){var D=this.words[x]<<A|C;k[w++]=255&D,w<k.length&&(k[w++]=D>>8&255),w<k.length&&(k[w++]=D>>16&255),A===6?(w<k.length&&(k[w++]=D>>24&255),C=0,A=0):(C=D>>>24,A+=2)}if(w<k.length)for(k[w++]=C;w<k.length;)k[w++]=0},u.prototype._toArrayLikeBE=function(k,S){for(var w=k.length-1,C=0,x=0,A=0;x<this.length;x++){var D=this.words[x]<<A|C;k[w--]=255&D,w>=0&&(k[w--]=D>>8&255),w>=0&&(k[w--]=D>>16&255),A===6?(w>=0&&(k[w--]=D>>24&255),C=0,A=0):(C=D>>>24,A+=2)}if(w>=0)for(k[w--]=C;w>=0;)k[w--]=0},Math.clz32?u.prototype._countBits=function(k){return 32-Math.clz32(k)}:u.prototype._countBits=function(k){var S=k,w=0;return S>=4096&&(w+=13,S>>>=13),S>=64&&(w+=7,S>>>=7),S>=8&&(w+=4,S>>>=4),S>=2&&(w+=2,S>>>=2),w+S},u.prototype._zeroBits=function(k){if(k===0)return 26;var S=k,w=0;return(8191&S)==0&&(w+=13,S>>>=13),(127&S)==0&&(w+=7,S>>>=7),(15&S)==0&&(w+=4,S>>>=4),(3&S)==0&&(w+=2,S>>>=2),(1&S)==0&&w++,w},u.prototype.bitLength=function(){var k=this.words[this.length-1],S=this._countBits(k);return 26*(this.length-1)+S},u.prototype.zeroBits=function(){if(this.isZero())return 0;for(var k=0,S=0;S<this.length;S++){var w=this._zeroBits(this.words[S]);if(k+=w,w!==26)break}return k},u.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},u.prototype.toTwos=function(k){return this.negative!==0?this.abs().inotn(k).iaddn(1):this.clone()},u.prototype.fromTwos=function(k){return this.testn(k-1)?this.notn(k).iaddn(1).ineg():this.clone()},u.prototype.isNeg=function(){return this.negative!==0},u.prototype.neg=function(){return this.clone().ineg()},u.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},u.prototype.iuor=function(k){for(;this.length<k.length;)this.words[this.length++]=0;for(var S=0;S<k.length;S++)this.words[S]=this.words[S]|k.words[S];return this._strip()},u.prototype.ior=function(k){return a((this.negative|k.negative)==0),this.iuor(k)},u.prototype.or=function(k){return this.length>k.length?this.clone().ior(k):k.clone().ior(this)},u.prototype.uor=function(k){return this.length>k.length?this.clone().iuor(k):k.clone().iuor(this)},u.prototype.iuand=function(k){var S;S=this.length>k.length?k:this;for(var w=0;w<S.length;w++)this.words[w]=this.words[w]&k.words[w];return this.length=S.length,this._strip()},u.prototype.iand=function(k){return a((this.negative|k.negative)==0),this.iuand(k)},u.prototype.and=function(k){return this.length>k.length?this.clone().iand(k):k.clone().iand(this)},u.prototype.uand=function(k){return this.length>k.length?this.clone().iuand(k):k.clone().iuand(this)},u.prototype.iuxor=function(k){var S,w;this.length>k.length?(S=this,w=k):(S=k,w=this);for(var C=0;C<w.length;C++)this.words[C]=S.words[C]^w.words[C];if(this!==S)for(;C<S.length;C++)this.words[C]=S.words[C];return this.length=S.length,this._strip()},u.prototype.ixor=function(k){return a((this.negative|k.negative)==0),this.iuxor(k)},u.prototype.xor=function(k){return this.length>k.length?this.clone().ixor(k):k.clone().ixor(this)},u.prototype.uxor=function(k){return this.length>k.length?this.clone().iuxor(k):k.clone().iuxor(this)},u.prototype.inotn=function(k){a(typeof k=="number"&&k>=0);var S=0|Math.ceil(k/26),w=k%26;this._expand(S),w>0&&S--;for(var C=0;C<S;C++)this.words[C]=67108863&~this.words[C];return w>0&&(this.words[C]=~this.words[C]&67108863>>26-w),this._strip()},u.prototype.notn=function(k){return this.clone().inotn(k)},u.prototype.setn=function(k,S){a(typeof k=="number"&&k>=0);var w=k/26|0,C=k%26;return this._expand(w+1),this.words[w]=S?this.words[w]|1<<C:this.words[w]&~(1<<C),this._strip()},u.prototype.iadd=function(k){var S,w,C;if(this.negative!==0&&k.negative===0)return this.negative=0,S=this.isub(k),this.negative^=1,this._normSign();if(this.negative===0&&k.negative!==0)return k.negative=0,S=this.isub(k),k.negative=1,S._normSign();this.length>k.length?(w=this,C=k):(w=k,C=this);for(var x=0,A=0;A<C.length;A++)S=(0|w.words[A])+(0|C.words[A])+x,this.words[A]=67108863&S,x=S>>>26;for(;x!==0&&A<w.length;A++)S=(0|w.words[A])+x,this.words[A]=67108863&S,x=S>>>26;if(this.length=w.length,x!==0)this.words[this.length]=x,this.length++;else if(w!==this)for(;A<w.length;A++)this.words[A]=w.words[A];return this},u.prototype.add=function(k){var S;return k.negative!==0&&this.negative===0?(k.negative=0,S=this.sub(k),k.negative^=1,S):k.negative===0&&this.negative!==0?(this.negative=0,S=k.sub(this),this.negative=1,S):this.length>k.length?this.clone().iadd(k):k.clone().iadd(this)},u.prototype.isub=function(k){if(k.negative!==0){k.negative=0;var S=this.iadd(k);return k.negative=1,S._normSign()}if(this.negative!==0)return this.negative=0,this.iadd(k),this.negative=1,this._normSign();var w,C,x=this.cmp(k);if(x===0)return this.negative=0,this.length=1,this.words[0]=0,this;x>0?(w=this,C=k):(w=k,C=this);for(var A=0,D=0;D<C.length;D++)A=(S=(0|w.words[D])-(0|C.words[D])+A)>>26,this.words[D]=67108863&S;for(;A!==0&&D<w.length;D++)A=(S=(0|w.words[D])+A)>>26,this.words[D]=67108863&S;if(A===0&&D<w.length&&w!==this)for(;D<w.length;D++)this.words[D]=w.words[D];return this.length=Math.max(this.length,D),w!==this&&(this.negative=1),this._strip()},u.prototype.sub=function(k){return this.clone().isub(k)};var F=function(k,S,w){var C,x,A,D=k.words,B=S.words,V=w.words,j=0,K=0|D[0],G=8191&K,Y=K>>>13,H=0|D[1],N=8191&H,$=H>>>13,J=0|D[2],Q=8191&J,ee=J>>>13,W=0|D[3],ne=8191&W,re=W>>>13,q=0|D[4],X=8191&q,te=q>>>13,se=0|D[5],oe=8191&se,ie=se>>>13,ae=0|D[6],ue=8191&ae,ce=ae>>>13,pe=0|D[7],ye=8191&pe,ge=pe>>>13,Re=0|D[8],_e=8191&Re,Ae=Re>>>13,De=0|D[9],Fe=8191&De,ke=De>>>13,Pe=0|B[0],Oe=8191&Pe,He=Pe>>>13,ht=0|B[1],St=8191&ht,We=ht>>>13,bt=0|B[2],at=8191&bt,Ze=bt>>>13,Ht=0|B[3],xt=8191&Ht,Xe=Ht>>>13,wt=0|B[4],It=8191&wt,tt=wt>>>13,kt=0|B[5],Bt=8191&kt,st=kt>>>13,de=0|B[6],he=8191&de,we=de>>>13,Ie=0|B[7],qe=8191&Ie,Ne=Ie>>>13,rt=0|B[8],Je=8191&rt,$e=rt>>>13,ot=0|B[9],nt=8191&ot,ct=ot>>>13;w.negative=k.negative^S.negative,w.length=19;var Qt=(j+(C=Math.imul(G,Oe))|0)+((8191&(x=(x=Math.imul(G,He))+Math.imul(Y,Oe)|0))<<13)|0;j=((A=Math.imul(Y,He))+(x>>>13)|0)+(Qt>>>26)|0,Qt&=67108863,C=Math.imul(N,Oe),x=(x=Math.imul(N,He))+Math.imul($,Oe)|0,A=Math.imul($,He);var jt=(j+(C=C+Math.imul(G,St)|0)|0)+((8191&(x=(x=x+Math.imul(G,We)|0)+Math.imul(Y,St)|0))<<13)|0;j=((A=A+Math.imul(Y,We)|0)+(x>>>13)|0)+(jt>>>26)|0,jt&=67108863,C=Math.imul(Q,Oe),x=(x=Math.imul(Q,He))+Math.imul(ee,Oe)|0,A=Math.imul(ee,He),C=C+Math.imul(N,St)|0,x=(x=x+Math.imul(N,We)|0)+Math.imul($,St)|0,A=A+Math.imul($,We)|0;var sr=(j+(C=C+Math.imul(G,at)|0)|0)+((8191&(x=(x=x+Math.imul(G,Ze)|0)+Math.imul(Y,at)|0))<<13)|0;j=((A=A+Math.imul(Y,Ze)|0)+(x>>>13)|0)+(sr>>>26)|0,sr&=67108863,C=Math.imul(ne,Oe),x=(x=Math.imul(ne,He))+Math.imul(re,Oe)|0,A=Math.imul(re,He),C=C+Math.imul(Q,St)|0,x=(x=x+Math.imul(Q,We)|0)+Math.imul(ee,St)|0,A=A+Math.imul(ee,We)|0,C=C+Math.imul(N,at)|0,x=(x=x+Math.imul(N,Ze)|0)+Math.imul($,at)|0,A=A+Math.imul($,Ze)|0;var ar=(j+(C=C+Math.imul(G,xt)|0)|0)+((8191&(x=(x=x+Math.imul(G,Xe)|0)+Math.imul(Y,xt)|0))<<13)|0;j=((A=A+Math.imul(Y,Xe)|0)+(x>>>13)|0)+(ar>>>26)|0,ar&=67108863,C=Math.imul(X,Oe),x=(x=Math.imul(X,He))+Math.imul(te,Oe)|0,A=Math.imul(te,He),C=C+Math.imul(ne,St)|0,x=(x=x+Math.imul(ne,We)|0)+Math.imul(re,St)|0,A=A+Math.imul(re,We)|0,C=C+Math.imul(Q,at)|0,x=(x=x+Math.imul(Q,Ze)|0)+Math.imul(ee,at)|0,A=A+Math.imul(ee,Ze)|0,C=C+Math.imul(N,xt)|0,x=(x=x+Math.imul(N,Xe)|0)+Math.imul($,xt)|0,A=A+Math.imul($,Xe)|0;var Br=(j+(C=C+Math.imul(G,It)|0)|0)+((8191&(x=(x=x+Math.imul(G,tt)|0)+Math.imul(Y,It)|0))<<13)|0;j=((A=A+Math.imul(Y,tt)|0)+(x>>>13)|0)+(Br>>>26)|0,Br&=67108863,C=Math.imul(oe,Oe),x=(x=Math.imul(oe,He))+Math.imul(ie,Oe)|0,A=Math.imul(ie,He),C=C+Math.imul(X,St)|0,x=(x=x+Math.imul(X,We)|0)+Math.imul(te,St)|0,A=A+Math.imul(te,We)|0,C=C+Math.imul(ne,at)|0,x=(x=x+Math.imul(ne,Ze)|0)+Math.imul(re,at)|0,A=A+Math.imul(re,Ze)|0,C=C+Math.imul(Q,xt)|0,x=(x=x+Math.imul(Q,Xe)|0)+Math.imul(ee,xt)|0,A=A+Math.imul(ee,Xe)|0,C=C+Math.imul(N,It)|0,x=(x=x+Math.imul(N,tt)|0)+Math.imul($,It)|0,A=A+Math.imul($,tt)|0;var le=(j+(C=C+Math.imul(G,Bt)|0)|0)+((8191&(x=(x=x+Math.imul(G,st)|0)+Math.imul(Y,Bt)|0))<<13)|0;j=((A=A+Math.imul(Y,st)|0)+(x>>>13)|0)+(le>>>26)|0,le&=67108863,C=Math.imul(ue,Oe),x=(x=Math.imul(ue,He))+Math.imul(ce,Oe)|0,A=Math.imul(ce,He),C=C+Math.imul(oe,St)|0,x=(x=x+Math.imul(oe,We)|0)+Math.imul(ie,St)|0,A=A+Math.imul(ie,We)|0,C=C+Math.imul(X,at)|0,x=(x=x+Math.imul(X,Ze)|0)+Math.imul(te,at)|0,A=A+Math.imul(te,Ze)|0,C=C+Math.imul(ne,xt)|0,x=(x=x+Math.imul(ne,Xe)|0)+Math.imul(re,xt)|0,A=A+Math.imul(re,Xe)|0,C=C+Math.imul(Q,It)|0,x=(x=x+Math.imul(Q,tt)|0)+Math.imul(ee,It)|0,A=A+Math.imul(ee,tt)|0,C=C+Math.imul(N,Bt)|0,x=(x=x+Math.imul(N,st)|0)+Math.imul($,Bt)|0,A=A+Math.imul($,st)|0;var fe=(j+(C=C+Math.imul(G,he)|0)|0)+((8191&(x=(x=x+Math.imul(G,we)|0)+Math.imul(Y,he)|0))<<13)|0;j=((A=A+Math.imul(Y,we)|0)+(x>>>13)|0)+(fe>>>26)|0,fe&=67108863,C=Math.imul(ye,Oe),x=(x=Math.imul(ye,He))+Math.imul(ge,Oe)|0,A=Math.imul(ge,He),C=C+Math.imul(ue,St)|0,x=(x=x+Math.imul(ue,We)|0)+Math.imul(ce,St)|0,A=A+Math.imul(ce,We)|0,C=C+Math.imul(oe,at)|0,x=(x=x+Math.imul(oe,Ze)|0)+Math.imul(ie,at)|0,A=A+Math.imul(ie,Ze)|0,C=C+Math.imul(X,xt)|0,x=(x=x+Math.imul(X,Xe)|0)+Math.imul(te,xt)|0,A=A+Math.imul(te,Xe)|0,C=C+Math.imul(ne,It)|0,x=(x=x+Math.imul(ne,tt)|0)+Math.imul(re,It)|0,A=A+Math.imul(re,tt)|0,C=C+Math.imul(Q,Bt)|0,x=(x=x+Math.imul(Q,st)|0)+Math.imul(ee,Bt)|0,A=A+Math.imul(ee,st)|0,C=C+Math.imul(N,he)|0,x=(x=x+Math.imul(N,we)|0)+Math.imul($,he)|0,A=A+Math.imul($,we)|0;var Ce=(j+(C=C+Math.imul(G,qe)|0)|0)+((8191&(x=(x=x+Math.imul(G,Ne)|0)+Math.imul(Y,qe)|0))<<13)|0;j=((A=A+Math.imul(Y,Ne)|0)+(x>>>13)|0)+(Ce>>>26)|0,Ce&=67108863,C=Math.imul(_e,Oe),x=(x=Math.imul(_e,He))+Math.imul(Ae,Oe)|0,A=Math.imul(Ae,He),C=C+Math.imul(ye,St)|0,x=(x=x+Math.imul(ye,We)|0)+Math.imul(ge,St)|0,A=A+Math.imul(ge,We)|0,C=C+Math.imul(ue,at)|0,x=(x=x+Math.imul(ue,Ze)|0)+Math.imul(ce,at)|0,A=A+Math.imul(ce,Ze)|0,C=C+Math.imul(oe,xt)|0,x=(x=x+Math.imul(oe,Xe)|0)+Math.imul(ie,xt)|0,A=A+Math.imul(ie,Xe)|0,C=C+Math.imul(X,It)|0,x=(x=x+Math.imul(X,tt)|0)+Math.imul(te,It)|0,A=A+Math.imul(te,tt)|0,C=C+Math.imul(ne,Bt)|0,x=(x=x+Math.imul(ne,st)|0)+Math.imul(re,Bt)|0,A=A+Math.imul(re,st)|0,C=C+Math.imul(Q,he)|0,x=(x=x+Math.imul(Q,we)|0)+Math.imul(ee,he)|0,A=A+Math.imul(ee,we)|0,C=C+Math.imul(N,qe)|0,x=(x=x+Math.imul(N,Ne)|0)+Math.imul($,qe)|0,A=A+Math.imul($,Ne)|0;var Ee=(j+(C=C+Math.imul(G,Je)|0)|0)+((8191&(x=(x=x+Math.imul(G,$e)|0)+Math.imul(Y,Je)|0))<<13)|0;j=((A=A+Math.imul(Y,$e)|0)+(x>>>13)|0)+(Ee>>>26)|0,Ee&=67108863,C=Math.imul(Fe,Oe),x=(x=Math.imul(Fe,He))+Math.imul(ke,Oe)|0,A=Math.imul(ke,He),C=C+Math.imul(_e,St)|0,x=(x=x+Math.imul(_e,We)|0)+Math.imul(Ae,St)|0,A=A+Math.imul(Ae,We)|0,C=C+Math.imul(ye,at)|0,x=(x=x+Math.imul(ye,Ze)|0)+Math.imul(ge,at)|0,A=A+Math.imul(ge,Ze)|0,C=C+Math.imul(ue,xt)|0,x=(x=x+Math.imul(ue,Xe)|0)+Math.imul(ce,xt)|0,A=A+Math.imul(ce,Xe)|0,C=C+Math.imul(oe,It)|0,x=(x=x+Math.imul(oe,tt)|0)+Math.imul(ie,It)|0,A=A+Math.imul(ie,tt)|0,C=C+Math.imul(X,Bt)|0,x=(x=x+Math.imul(X,st)|0)+Math.imul(te,Bt)|0,A=A+Math.imul(te,st)|0,C=C+Math.imul(ne,he)|0,x=(x=x+Math.imul(ne,we)|0)+Math.imul(re,he)|0,A=A+Math.imul(re,we)|0,C=C+Math.imul(Q,qe)|0,x=(x=x+Math.imul(Q,Ne)|0)+Math.imul(ee,qe)|0,A=A+Math.imul(ee,Ne)|0,C=C+Math.imul(N,Je)|0,x=(x=x+Math.imul(N,$e)|0)+Math.imul($,Je)|0,A=A+Math.imul($,$e)|0;var ze=(j+(C=C+Math.imul(G,nt)|0)|0)+((8191&(x=(x=x+Math.imul(G,ct)|0)+Math.imul(Y,nt)|0))<<13)|0;j=((A=A+Math.imul(Y,ct)|0)+(x>>>13)|0)+(ze>>>26)|0,ze&=67108863,C=Math.imul(Fe,St),x=(x=Math.imul(Fe,We))+Math.imul(ke,St)|0,A=Math.imul(ke,We),C=C+Math.imul(_e,at)|0,x=(x=x+Math.imul(_e,Ze)|0)+Math.imul(Ae,at)|0,A=A+Math.imul(Ae,Ze)|0,C=C+Math.imul(ye,xt)|0,x=(x=x+Math.imul(ye,Xe)|0)+Math.imul(ge,xt)|0,A=A+Math.imul(ge,Xe)|0,C=C+Math.imul(ue,It)|0,x=(x=x+Math.imul(ue,tt)|0)+Math.imul(ce,It)|0,A=A+Math.imul(ce,tt)|0,C=C+Math.imul(oe,Bt)|0,x=(x=x+Math.imul(oe,st)|0)+Math.imul(ie,Bt)|0,A=A+Math.imul(ie,st)|0,C=C+Math.imul(X,he)|0,x=(x=x+Math.imul(X,we)|0)+Math.imul(te,he)|0,A=A+Math.imul(te,we)|0,C=C+Math.imul(ne,qe)|0,x=(x=x+Math.imul(ne,Ne)|0)+Math.imul(re,qe)|0,A=A+Math.imul(re,Ne)|0,C=C+Math.imul(Q,Je)|0,x=(x=x+Math.imul(Q,$e)|0)+Math.imul(ee,Je)|0,A=A+Math.imul(ee,$e)|0;var Te=(j+(C=C+Math.imul(N,nt)|0)|0)+((8191&(x=(x=x+Math.imul(N,ct)|0)+Math.imul($,nt)|0))<<13)|0;j=((A=A+Math.imul($,ct)|0)+(x>>>13)|0)+(Te>>>26)|0,Te&=67108863,C=Math.imul(Fe,at),x=(x=Math.imul(Fe,Ze))+Math.imul(ke,at)|0,A=Math.imul(ke,Ze),C=C+Math.imul(_e,xt)|0,x=(x=x+Math.imul(_e,Xe)|0)+Math.imul(Ae,xt)|0,A=A+Math.imul(Ae,Xe)|0,C=C+Math.imul(ye,It)|0,x=(x=x+Math.imul(ye,tt)|0)+Math.imul(ge,It)|0,A=A+Math.imul(ge,tt)|0,C=C+Math.imul(ue,Bt)|0,x=(x=x+Math.imul(ue,st)|0)+Math.imul(ce,Bt)|0,A=A+Math.imul(ce,st)|0,C=C+Math.imul(oe,he)|0,x=(x=x+Math.imul(oe,we)|0)+Math.imul(ie,he)|0,A=A+Math.imul(ie,we)|0,C=C+Math.imul(X,qe)|0,x=(x=x+Math.imul(X,Ne)|0)+Math.imul(te,qe)|0,A=A+Math.imul(te,Ne)|0,C=C+Math.imul(ne,Je)|0,x=(x=x+Math.imul(ne,$e)|0)+Math.imul(re,Je)|0,A=A+Math.imul(re,$e)|0;var Be=(j+(C=C+Math.imul(Q,nt)|0)|0)+((8191&(x=(x=x+Math.imul(Q,ct)|0)+Math.imul(ee,nt)|0))<<13)|0;j=((A=A+Math.imul(ee,ct)|0)+(x>>>13)|0)+(Be>>>26)|0,Be&=67108863,C=Math.imul(Fe,xt),x=(x=Math.imul(Fe,Xe))+Math.imul(ke,xt)|0,A=Math.imul(ke,Xe),C=C+Math.imul(_e,It)|0,x=(x=x+Math.imul(_e,tt)|0)+Math.imul(Ae,It)|0,A=A+Math.imul(Ae,tt)|0,C=C+Math.imul(ye,Bt)|0,x=(x=x+Math.imul(ye,st)|0)+Math.imul(ge,Bt)|0,A=A+Math.imul(ge,st)|0,C=C+Math.imul(ue,he)|0,x=(x=x+Math.imul(ue,we)|0)+Math.imul(ce,he)|0,A=A+Math.imul(ce,we)|0,C=C+Math.imul(oe,qe)|0,x=(x=x+Math.imul(oe,Ne)|0)+Math.imul(ie,qe)|0,A=A+Math.imul(ie,Ne)|0,C=C+Math.imul(X,Je)|0,x=(x=x+Math.imul(X,$e)|0)+Math.imul(te,Je)|0,A=A+Math.imul(te,$e)|0;var yt=(j+(C=C+Math.imul(ne,nt)|0)|0)+((8191&(x=(x=x+Math.imul(ne,ct)|0)+Math.imul(re,nt)|0))<<13)|0;j=((A=A+Math.imul(re,ct)|0)+(x>>>13)|0)+(yt>>>26)|0,yt&=67108863,C=Math.imul(Fe,It),x=(x=Math.imul(Fe,tt))+Math.imul(ke,It)|0,A=Math.imul(ke,tt),C=C+Math.imul(_e,Bt)|0,x=(x=x+Math.imul(_e,st)|0)+Math.imul(Ae,Bt)|0,A=A+Math.imul(Ae,st)|0,C=C+Math.imul(ye,he)|0,x=(x=x+Math.imul(ye,we)|0)+Math.imul(ge,he)|0,A=A+Math.imul(ge,we)|0,C=C+Math.imul(ue,qe)|0,x=(x=x+Math.imul(ue,Ne)|0)+Math.imul(ce,qe)|0,A=A+Math.imul(ce,Ne)|0,C=C+Math.imul(oe,Je)|0,x=(x=x+Math.imul(oe,$e)|0)+Math.imul(ie,Je)|0,A=A+Math.imul(ie,$e)|0;var ut=(j+(C=C+Math.imul(X,nt)|0)|0)+((8191&(x=(x=x+Math.imul(X,ct)|0)+Math.imul(te,nt)|0))<<13)|0;j=((A=A+Math.imul(te,ct)|0)+(x>>>13)|0)+(ut>>>26)|0,ut&=67108863,C=Math.imul(Fe,Bt),x=(x=Math.imul(Fe,st))+Math.imul(ke,Bt)|0,A=Math.imul(ke,st),C=C+Math.imul(_e,he)|0,x=(x=x+Math.imul(_e,we)|0)+Math.imul(Ae,he)|0,A=A+Math.imul(Ae,we)|0,C=C+Math.imul(ye,qe)|0,x=(x=x+Math.imul(ye,Ne)|0)+Math.imul(ge,qe)|0,A=A+Math.imul(ge,Ne)|0,C=C+Math.imul(ue,Je)|0,x=(x=x+Math.imul(ue,$e)|0)+Math.imul(ce,Je)|0,A=A+Math.imul(ce,$e)|0;var dt=(j+(C=C+Math.imul(oe,nt)|0)|0)+((8191&(x=(x=x+Math.imul(oe,ct)|0)+Math.imul(ie,nt)|0))<<13)|0;j=((A=A+Math.imul(ie,ct)|0)+(x>>>13)|0)+(dt>>>26)|0,dt&=67108863,C=Math.imul(Fe,he),x=(x=Math.imul(Fe,we))+Math.imul(ke,he)|0,A=Math.imul(ke,we),C=C+Math.imul(_e,qe)|0,x=(x=x+Math.imul(_e,Ne)|0)+Math.imul(Ae,qe)|0,A=A+Math.imul(Ae,Ne)|0,C=C+Math.imul(ye,Je)|0,x=(x=x+Math.imul(ye,$e)|0)+Math.imul(ge,Je)|0,A=A+Math.imul(ge,$e)|0;var Ye=(j+(C=C+Math.imul(ue,nt)|0)|0)+((8191&(x=(x=x+Math.imul(ue,ct)|0)+Math.imul(ce,nt)|0))<<13)|0;j=((A=A+Math.imul(ce,ct)|0)+(x>>>13)|0)+(Ye>>>26)|0,Ye&=67108863,C=Math.imul(Fe,qe),x=(x=Math.imul(Fe,Ne))+Math.imul(ke,qe)|0,A=Math.imul(ke,Ne),C=C+Math.imul(_e,Je)|0,x=(x=x+Math.imul(_e,$e)|0)+Math.imul(Ae,Je)|0,A=A+Math.imul(Ae,$e)|0;var Tt=(j+(C=C+Math.imul(ye,nt)|0)|0)+((8191&(x=(x=x+Math.imul(ye,ct)|0)+Math.imul(ge,nt)|0))<<13)|0;j=((A=A+Math.imul(ge,ct)|0)+(x>>>13)|0)+(Tt>>>26)|0,Tt&=67108863,C=Math.imul(Fe,Je),x=(x=Math.imul(Fe,$e))+Math.imul(ke,Je)|0,A=Math.imul(ke,$e);var Dt=(j+(C=C+Math.imul(_e,nt)|0)|0)+((8191&(x=(x=x+Math.imul(_e,ct)|0)+Math.imul(Ae,nt)|0))<<13)|0;j=((A=A+Math.imul(Ae,ct)|0)+(x>>>13)|0)+(Dt>>>26)|0,Dt&=67108863;var Lt=(j+(C=Math.imul(Fe,nt))|0)+((8191&(x=(x=Math.imul(Fe,ct))+Math.imul(ke,nt)|0))<<13)|0;return j=((A=Math.imul(ke,ct))+(x>>>13)|0)+(Lt>>>26)|0,Lt&=67108863,V[0]=Qt,V[1]=jt,V[2]=sr,V[3]=ar,V[4]=Br,V[5]=le,V[6]=fe,V[7]=Ce,V[8]=Ee,V[9]=ze,V[10]=Te,V[11]=Be,V[12]=yt,V[13]=ut,V[14]=dt,V[15]=Ye,V[16]=Tt,V[17]=Dt,V[18]=Lt,j!==0&&(V[19]=j,w.length++),w};function E(k,S,w){w.negative=S.negative^k.negative,w.length=k.length+S.length;for(var C=0,x=0,A=0;A<w.length-1;A++){var D=x;x=0;for(var B=67108863&C,V=Math.min(A,S.length-1),j=Math.max(0,A-k.length+1);j<=V;j++){var K=A-j,G=(0|k.words[K])*(0|S.words[j]),Y=67108863&G;B=67108863&(Y=Y+B|0),x+=(D=(D=D+(G/67108864|0)|0)+(Y>>>26)|0)>>>26,D&=67108863}w.words[A]=B,C=D,D=x}return C!==0?w.words[A]=C:w.length--,w._strip()}function T(k,S,w){return E(k,S,w)}Math.imul||(F=v),u.prototype.mulTo=function(k,S){var w=this.length+k.length;return this.length===10&&k.length===10?F(this,k,S):w<63?v(this,k,S):w<1024?E(this,k,S):T(this,k,S)},u.prototype.mul=function(k){var S=new u(null);return S.words=new Array(this.length+k.length),this.mulTo(k,S)},u.prototype.mulf=function(k){var S=new u(null);return S.words=new Array(this.length+k.length),T(this,k,S)},u.prototype.imul=function(k){return this.clone().mulTo(k,this)},u.prototype.imuln=function(k){var S=k<0;S&&(k=-k),a(typeof k=="number"),a(k<67108864);for(var w=0,C=0;C<this.length;C++){var x=(0|this.words[C])*k,A=(67108863&x)+(67108863&w);w>>=26,w+=x/67108864|0,w+=A>>>26,this.words[C]=67108863&A}return w!==0&&(this.words[C]=w,this.length++),S?this.ineg():this},u.prototype.muln=function(k){return this.clone().imuln(k)},u.prototype.sqr=function(){return this.mul(this)},u.prototype.isqr=function(){return this.imul(this.clone())},u.prototype.pow=function(k){var S=(function(A){for(var D=new Array(A.bitLength()),B=0;B<D.length;B++){var V=B/26|0,j=B%26;D[B]=A.words[V]>>>j&1}return D})(k);if(S.length===0)return new u(1);for(var w=this,C=0;C<S.length&&S[C]===0;C++,w=w.sqr());if(++C<S.length)for(var x=w.sqr();C<S.length;C++,x=x.sqr())S[C]!==0&&(w=w.mul(x));return w},u.prototype.iushln=function(k){a(typeof k=="number"&&k>=0);var S,w=k%26,C=(k-w)/26,x=67108863>>>26-w<<26-w;if(w!==0){var A=0;for(S=0;S<this.length;S++){var D=this.words[S]&x,B=(0|this.words[S])-D<<w;this.words[S]=B|A,A=D>>>26-w}A&&(this.words[S]=A,this.length++)}if(C!==0){for(S=this.length-1;S>=0;S--)this.words[S+C]=this.words[S];for(S=0;S<C;S++)this.words[S]=0;this.length+=C}return this._strip()},u.prototype.ishln=function(k){return a(this.negative===0),this.iushln(k)},u.prototype.iushrn=function(k,S,w){var C;a(typeof k=="number"&&k>=0),C=S?(S-S%26)/26:0;var x=k%26,A=Math.min((k-x)/26,this.length),D=67108863^67108863>>>x<<x,B=w;if(C-=A,C=Math.max(0,C),B){for(var V=0;V<A;V++)B.words[V]=this.words[V];B.length=A}if(A!==0)if(this.length>A)for(this.length-=A,V=0;V<this.length;V++)this.words[V]=this.words[V+A];else this.words[0]=0,this.length=1;var j=0;for(V=this.length-1;V>=0&&(j!==0||V>=C);V--){var K=0|this.words[V];this.words[V]=j<<26-x|K>>>x,j=K&D}return B&&j!==0&&(B.words[B.length++]=j),this.length===0&&(this.words[0]=0,this.length=1),this._strip()},u.prototype.ishrn=function(k,S,w){return a(this.negative===0),this.iushrn(k,S,w)},u.prototype.shln=function(k){return this.clone().ishln(k)},u.prototype.ushln=function(k){return this.clone().iushln(k)},u.prototype.shrn=function(k){return this.clone().ishrn(k)},u.prototype.ushrn=function(k){return this.clone().iushrn(k)},u.prototype.testn=function(k){a(typeof k=="number"&&k>=0);var S=k%26,w=(k-S)/26,C=1<<S;return!(this.length<=w)&&!!(this.words[w]&C)},u.prototype.imaskn=function(k){a(typeof k=="number"&&k>=0);var S=k%26,w=(k-S)/26;if(a(this.negative===0,"imaskn works only with positive numbers"),this.length<=w)return this;if(S!==0&&w++,this.length=Math.min(w,this.length),S!==0){var C=67108863^67108863>>>S<<S;this.words[this.length-1]&=C}return this._strip()},u.prototype.maskn=function(k){return this.clone().imaskn(k)},u.prototype.iaddn=function(k){return a(typeof k=="number"),a(k<67108864),k<0?this.isubn(-k):this.negative!==0?this.length===1&&(0|this.words[0])<=k?(this.words[0]=k-(0|this.words[0]),this.negative=0,this):(this.negative=0,this.isubn(k),this.negative=1,this):this._iaddn(k)},u.prototype._iaddn=function(k){this.words[0]+=k;for(var S=0;S<this.length&&this.words[S]>=67108864;S++)this.words[S]-=67108864,S===this.length-1?this.words[S+1]=1:this.words[S+1]++;return this.length=Math.max(this.length,S+1),this},u.prototype.isubn=function(k){if(a(typeof k=="number"),a(k<67108864),k<0)return this.iaddn(-k);if(this.negative!==0)return this.negative=0,this.iaddn(k),this.negative=1,this;if(this.words[0]-=k,this.length===1&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var S=0;S<this.length&&this.words[S]<0;S++)this.words[S]+=67108864,this.words[S+1]-=1;return this._strip()},u.prototype.addn=function(k){return this.clone().iaddn(k)},u.prototype.subn=function(k){return this.clone().isubn(k)},u.prototype.iabs=function(){return this.negative=0,this},u.prototype.abs=function(){return this.clone().iabs()},u.prototype._ishlnsubmul=function(k,S,w){var C,x,A=k.length+w;this._expand(A);var D=0;for(C=0;C<k.length;C++){x=(0|this.words[C+w])+D;var B=(0|k.words[C])*S;D=((x-=67108863&B)>>26)-(B/67108864|0),this.words[C+w]=67108863&x}for(;C<this.length-w;C++)D=(x=(0|this.words[C+w])+D)>>26,this.words[C+w]=67108863&x;if(D===0)return this._strip();for(a(D===-1),D=0,C=0;C<this.length;C++)D=(x=-(0|this.words[C])+D)>>26,this.words[C]=67108863&x;return this.negative=1,this._strip()},u.prototype._wordDiv=function(k,S){var w=(this.length,k.length),C=this.clone(),x=k,A=0|x.words[x.length-1];(w=26-this._countBits(A))!==0&&(x=x.ushln(w),C.iushln(w),A=0|x.words[x.length-1]);var D,B=C.length-x.length;if(S!=="mod"){(D=new u(null)).length=B+1,D.words=new Array(D.length);for(var V=0;V<D.length;V++)D.words[V]=0}var j=C.clone()._ishlnsubmul(x,1,B);j.negative===0&&(C=j,D&&(D.words[B]=1));for(var K=B-1;K>=0;K--){var G=67108864*(0|C.words[x.length+K])+(0|C.words[x.length+K-1]);for(G=Math.min(G/A|0,67108863),C._ishlnsubmul(x,G,K);C.negative!==0;)G--,C.negative=0,C._ishlnsubmul(x,1,K),C.isZero()||(C.negative^=1);D&&(D.words[K]=G)}return D&&D._strip(),C._strip(),S!=="div"&&w!==0&&C.iushrn(w),{div:D||null,mod:C}},u.prototype.divmod=function(k,S,w){return a(!k.isZero()),this.isZero()?{div:new u(0),mod:new u(0)}:this.negative!==0&&k.negative===0?(A=this.neg().divmod(k,S),S!=="mod"&&(C=A.div.neg()),S!=="div"&&(x=A.mod.neg(),w&&x.negative!==0&&x.iadd(k)),{div:C,mod:x}):this.negative===0&&k.negative!==0?(A=this.divmod(k.neg(),S),S!=="mod"&&(C=A.div.neg()),{div:C,mod:A.mod}):(this.negative&k.negative)!=0?(A=this.neg().divmod(k.neg(),S),S!=="div"&&(x=A.mod.neg(),w&&x.negative!==0&&x.isub(k)),{div:A.div,mod:x}):k.length>this.length||this.cmp(k)<0?{div:new u(0),mod:this}:k.length===1?S==="div"?{div:this.divn(k.words[0]),mod:null}:S==="mod"?{div:null,mod:new u(this.modrn(k.words[0]))}:{div:this.divn(k.words[0]),mod:new u(this.modrn(k.words[0]))}:this._wordDiv(k,S);var C,x,A},u.prototype.div=function(k){return this.divmod(k,"div",!1).div},u.prototype.mod=function(k){return this.divmod(k,"mod",!1).mod},u.prototype.umod=function(k){return this.divmod(k,"mod",!0).mod},u.prototype.divRound=function(k){var S=this.divmod(k);if(S.mod.isZero())return S.div;var w=S.div.negative!==0?S.mod.isub(k):S.mod,C=k.ushrn(1),x=k.andln(1),A=w.cmp(C);return A<0||x===1&&A===0?S.div:S.div.negative!==0?S.div.isubn(1):S.div.iaddn(1)},u.prototype.modrn=function(k){var S=k<0;S&&(k=-k),a(k<=67108863);for(var w=(1<<26)%k,C=0,x=this.length-1;x>=0;x--)C=(w*C+(0|this.words[x]))%k;return S?-C:C},u.prototype.modn=function(k){return this.modrn(k)},u.prototype.idivn=function(k){var S=k<0;S&&(k=-k),a(k<=67108863);for(var w=0,C=this.length-1;C>=0;C--){var x=(0|this.words[C])+67108864*w;this.words[C]=x/k|0,w=x%k}return this._strip(),S?this.ineg():this},u.prototype.divn=function(k){return this.clone().idivn(k)},u.prototype.egcd=function(k){a(k.negative===0),a(!k.isZero());var S=this,w=k.clone();S=S.negative!==0?S.umod(k):S.clone();for(var C=new u(1),x=new u(0),A=new u(0),D=new u(1),B=0;S.isEven()&&w.isEven();)S.iushrn(1),w.iushrn(1),++B;for(var V=w.clone(),j=S.clone();!S.isZero();){for(var K=0,G=1;(S.words[0]&G)==0&&K<26;++K,G<<=1);if(K>0)for(S.iushrn(K);K-- >0;)(C.isOdd()||x.isOdd())&&(C.iadd(V),x.isub(j)),C.iushrn(1),x.iushrn(1);for(var Y=0,H=1;(w.words[0]&H)==0&&Y<26;++Y,H<<=1);if(Y>0)for(w.iushrn(Y);Y-- >0;)(A.isOdd()||D.isOdd())&&(A.iadd(V),D.isub(j)),A.iushrn(1),D.iushrn(1);S.cmp(w)>=0?(S.isub(w),C.isub(A),x.isub(D)):(w.isub(S),A.isub(C),D.isub(x))}return{a:A,b:D,gcd:w.iushln(B)}},u.prototype._invmp=function(k){a(k.negative===0),a(!k.isZero());var S=this,w=k.clone();S=S.negative!==0?S.umod(k):S.clone();for(var C,x=new u(1),A=new u(0),D=w.clone();S.cmpn(1)>0&&w.cmpn(1)>0;){for(var B=0,V=1;(S.words[0]&V)==0&&B<26;++B,V<<=1);if(B>0)for(S.iushrn(B);B-- >0;)x.isOdd()&&x.iadd(D),x.iushrn(1);for(var j=0,K=1;(w.words[0]&K)==0&&j<26;++j,K<<=1);if(j>0)for(w.iushrn(j);j-- >0;)A.isOdd()&&A.iadd(D),A.iushrn(1);S.cmp(w)>=0?(S.isub(w),x.isub(A)):(w.isub(S),A.isub(x))}return(C=S.cmpn(1)===0?x:A).cmpn(0)<0&&C.iadd(k),C},u.prototype.gcd=function(k){if(this.isZero())return k.abs();if(k.isZero())return this.abs();var S=this.clone(),w=k.clone();S.negative=0,w.negative=0;for(var C=0;S.isEven()&&w.isEven();C++)S.iushrn(1),w.iushrn(1);for(;;){for(;S.isEven();)S.iushrn(1);for(;w.isEven();)w.iushrn(1);var x=S.cmp(w);if(x<0){var A=S;S=w,w=A}else if(x===0||w.cmpn(1)===0)break;S.isub(w)}return w.iushln(C)},u.prototype.invm=function(k){return this.egcd(k).a.umod(k)},u.prototype.isEven=function(){return(1&this.words[0])==0},u.prototype.isOdd=function(){return(1&this.words[0])==1},u.prototype.andln=function(k){return this.words[0]&k},u.prototype.bincn=function(k){a(typeof k=="number");var S=k%26,w=(k-S)/26,C=1<<S;if(this.length<=w)return this._expand(w+1),this.words[w]|=C,this;for(var x=C,A=w;x!==0&&A<this.length;A++){var D=0|this.words[A];x=(D+=x)>>>26,D&=67108863,this.words[A]=D}return x!==0&&(this.words[A]=x,this.length++),this},u.prototype.isZero=function(){return this.length===1&&this.words[0]===0},u.prototype.cmpn=function(k){var S,w=k<0;if(this.negative!==0&&!w)return-1;if(this.negative===0&&w)return 1;if(this._strip(),this.length>1)S=1;else{w&&(k=-k),a(k<=67108863,"Number is too big");var C=0|this.words[0];S=C===k?0:C<k?-1:1}return this.negative!==0?0|-S:S},u.prototype.cmp=function(k){if(this.negative!==0&&k.negative===0)return-1;if(this.negative===0&&k.negative!==0)return 1;var S=this.ucmp(k);return this.negative!==0?0|-S:S},u.prototype.ucmp=function(k){if(this.length>k.length)return 1;if(this.length<k.length)return-1;for(var S=0,w=this.length-1;w>=0;w--){var C=0|this.words[w],x=0|k.words[w];if(C!==x){C<x?S=-1:C>x&&(S=1);break}}return S},u.prototype.gtn=function(k){return this.cmpn(k)===1},u.prototype.gt=function(k){return this.cmp(k)===1},u.prototype.gten=function(k){return this.cmpn(k)>=0},u.prototype.gte=function(k){return this.cmp(k)>=0},u.prototype.ltn=function(k){return this.cmpn(k)===-1},u.prototype.lt=function(k){return this.cmp(k)===-1},u.prototype.lten=function(k){return this.cmpn(k)<=0},u.prototype.lte=function(k){return this.cmp(k)<=0},u.prototype.eqn=function(k){return this.cmpn(k)===0},u.prototype.eq=function(k){return this.cmp(k)===0},u.red=function(k){return new _(k)},u.prototype.toRed=function(k){return a(!this.red,"Already a number in reduction context"),a(this.negative===0,"red works only with positives"),k.convertTo(this)._forceRed(k)},u.prototype.fromRed=function(){return a(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},u.prototype._forceRed=function(k){return this.red=k,this},u.prototype.forceRed=function(k){return a(!this.red,"Already a number in reduction context"),this._forceRed(k)},u.prototype.redAdd=function(k){return a(this.red,"redAdd works only with red numbers"),this.red.add(this,k)},u.prototype.redIAdd=function(k){return a(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,k)},u.prototype.redSub=function(k){return a(this.red,"redSub works only with red numbers"),this.red.sub(this,k)},u.prototype.redISub=function(k){return a(this.red,"redISub works only with red numbers"),this.red.isub(this,k)},u.prototype.redShl=function(k){return a(this.red,"redShl works only with red numbers"),this.red.shl(this,k)},u.prototype.redMul=function(k){return a(this.red,"redMul works only with red numbers"),this.red._verify2(this,k),this.red.mul(this,k)},u.prototype.redIMul=function(k){return a(this.red,"redMul works only with red numbers"),this.red._verify2(this,k),this.red.imul(this,k)},u.prototype.redSqr=function(){return a(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},u.prototype.redISqr=function(){return a(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},u.prototype.redSqrt=function(){return a(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},u.prototype.redInvm=function(){return a(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},u.prototype.redNeg=function(){return a(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},u.prototype.redPow=function(k){return a(this.red&&!k.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,k)};var I={k256:null,p224:null,p192:null,p25519:null};function M(k,S){this.name=k,this.p=new u(S,16),this.n=this.p.bitLength(),this.k=new u(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}function P(){M.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}function O(){M.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}function z(){M.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}function L(){M.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}function _(k){if(typeof k=="string"){var S=u._prime(k);this.m=S.p,this.prime=S}else a(k.gtn(1),"modulus must be greater than 1"),this.m=k,this.prime=null}function R(k){_.call(this,k),this.shift=this.m.bitLength(),this.shift%26!=0&&(this.shift+=26-this.shift%26),this.r=new u(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}M.prototype._tmp=function(){var k=new u(null);return k.words=new Array(Math.ceil(this.n/13)),k},M.prototype.ireduce=function(k){var S,w=k;do this.split(w,this.tmp),S=(w=(w=this.imulK(w)).iadd(this.tmp)).bitLength();while(S>this.n);var C=S<this.n?-1:w.ucmp(this.p);return C===0?(w.words[0]=0,w.length=1):C>0?w.isub(this.p):w.strip!==void 0?w.strip():w._strip(),w},M.prototype.split=function(k,S){k.iushrn(this.n,0,S)},M.prototype.imulK=function(k){return k.imul(this.k)},l(P,M),P.prototype.split=function(k,S){for(var w=Math.min(k.length,9),C=0;C<w;C++)S.words[C]=k.words[C];if(S.length=w,k.length<=9)return k.words[0]=0,void(k.length=1);var x=k.words[9];for(S.words[S.length++]=4194303&x,C=10;C<k.length;C++){var A=0|k.words[C];k.words[C-10]=(4194303&A)<<4|x>>>22,x=A}x>>>=22,k.words[C-10]=x,x===0&&k.length>10?k.length-=10:k.length-=9},P.prototype.imulK=function(k){k.words[k.length]=0,k.words[k.length+1]=0,k.length+=2;for(var S=0,w=0;w<k.length;w++){var C=0|k.words[w];S+=977*C,k.words[w]=67108863&S,S=64*C+(S/67108864|0)}return k.words[k.length-1]===0&&(k.length--,k.words[k.length-1]===0&&k.length--),k},l(O,M),l(z,M),l(L,M),L.prototype.imulK=function(k){for(var S=0,w=0;w<k.length;w++){var C=19*(0|k.words[w])+S,x=67108863&C;C>>>=26,k.words[w]=x,S=C}return S!==0&&(k.words[k.length++]=S),k},u._prime=function(k){if(I[k])return I[k];var S;if(k==="k256")S=new P;else if(k==="p224")S=new O;else if(k==="p192")S=new z;else{if(k!=="p25519")throw new Error("Unknown prime "+k);S=new L}return I[k]=S,S},_.prototype._verify1=function(k){a(k.negative===0,"red works only with positives"),a(k.red,"red works only with red numbers")},_.prototype._verify2=function(k,S){a((k.negative|S.negative)==0,"red works only with positives"),a(k.red&&k.red===S.red,"red works only with red numbers")},_.prototype.imod=function(k){return this.prime?this.prime.ireduce(k)._forceRed(this):(g(k,k.umod(this.m)._forceRed(this)),k)},_.prototype.neg=function(k){return k.isZero()?k.clone():this.m.sub(k)._forceRed(this)},_.prototype.add=function(k,S){this._verify2(k,S);var w=k.add(S);return w.cmp(this.m)>=0&&w.isub(this.m),w._forceRed(this)},_.prototype.iadd=function(k,S){this._verify2(k,S);var w=k.iadd(S);return w.cmp(this.m)>=0&&w.isub(this.m),w},_.prototype.sub=function(k,S){this._verify2(k,S);var w=k.sub(S);return w.cmpn(0)<0&&w.iadd(this.m),w._forceRed(this)},_.prototype.isub=function(k,S){this._verify2(k,S);var w=k.isub(S);return w.cmpn(0)<0&&w.iadd(this.m),w},_.prototype.shl=function(k,S){return this._verify1(k),this.imod(k.ushln(S))},_.prototype.imul=function(k,S){return this._verify2(k,S),this.imod(k.imul(S))},_.prototype.mul=function(k,S){return this._verify2(k,S),this.imod(k.mul(S))},_.prototype.isqr=function(k){return this.imul(k,k.clone())},_.prototype.sqr=function(k){return this.mul(k,k)},_.prototype.sqrt=function(k){if(k.isZero())return k.clone();var S=this.m.andln(3);if(a(S%2==1),S===3){var w=this.m.add(new u(1)).iushrn(2);return this.pow(k,w)}for(var C=this.m.subn(1),x=0;!C.isZero()&&C.andln(1)===0;)x++,C.iushrn(1);a(!C.isZero());var A=new u(1).toRed(this),D=A.redNeg(),B=this.m.subn(1).iushrn(1),V=this.m.bitLength();for(V=new u(2*V*V).toRed(this);this.pow(V,B).cmp(D)!==0;)V.redIAdd(D);for(var j=this.pow(V,C),K=this.pow(k,C.addn(1).iushrn(1)),G=this.pow(k,C),Y=x;G.cmp(A)!==0;){for(var H=G,N=0;H.cmp(A)!==0;N++)H=H.redSqr();a(N<Y);var $=this.pow(j,new u(1).iushln(Y-N-1));K=K.redMul($),j=$.redSqr(),G=G.redMul(j),Y=N}return K},_.prototype.invm=function(k){var S=k._invmp(this.m);return S.negative!==0?(S.negative=0,this.imod(S).redNeg()):this.imod(S)},_.prototype.pow=function(k,S){if(S.isZero())return new u(1).toRed(this);if(S.cmpn(1)===0)return k.clone();var w=new Array(16);w[0]=new u(1).toRed(this),w[1]=k;for(var C=2;C<w.length;C++)w[C]=this.mul(w[C-1],k);var x=w[0],A=0,D=0,B=S.bitLength()%26;for(B===0&&(B=26),C=S.length-1;C>=0;C--){for(var V=S.words[C],j=B-1;j>=0;j--){var K=V>>j&1;x!==w[0]&&(x=this.sqr(x)),K!==0||A!==0?(A<<=1,A|=K,(++D===4||C===0&&j===0)&&(x=this.mul(x,w[A]),D=0,A=0)):D=0}B=26}return x},_.prototype.convertTo=function(k){var S=k.umod(this.m);return S===k?S.clone():S},_.prototype.convertFrom=function(k){var S=k.clone();return S.red=null,S},u.mont=function(k){return new R(k)},l(R,_),R.prototype.convertTo=function(k){return this.imod(k.ushln(this.shift))},R.prototype.convertFrom=function(k){var S=this.imod(k.mul(this.rinv));return S.red=null,S},R.prototype.imul=function(k,S){if(k.isZero()||S.isZero())return k.words[0]=0,k.length=1,k;var w=k.imul(S),C=w.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),x=w.isub(C).iushrn(this.shift),A=x;return x.cmp(this.m)>=0?A=x.isub(this.m):x.cmpn(0)<0&&(A=x.iadd(this.m)),A._forceRed(this)},R.prototype.mul=function(k,S){if(k.isZero()||S.isZero())return new u(0)._forceRed(this);var w=k.mul(S),C=w.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),x=w.isub(C).iushrn(this.shift),A=x;return x.cmp(this.m)>=0?A=x.isub(this.m):x.cmpn(0)<0&&(A=x.iadd(this.m)),A._forceRed(this)},R.prototype.invm=function(k){return this.imod(k._invmp(this.m).mul(this.r2))._forceRed(this)}})(n===void 0||n)},{buffer:188}],187:[function(r,n,i){var o;function s(l){this.rand=l}if(n.exports=function(l){return o||(o=new s(null)),o.generate(l)},n.exports.Rand=s,s.prototype.generate=function(l){return this._rand(l)},s.prototype._rand=function(l){if(this.rand.getBytes)return this.rand.getBytes(l);for(var u=new Uint8Array(l),c=0;c<u.length;c++)u[c]=this.rand.getByte();return u},typeof self=="object")self.crypto&&self.crypto.getRandomValues?s.prototype._rand=function(l){var u=new Uint8Array(l);return self.crypto.getRandomValues(u),u}:self.msCrypto&&self.msCrypto.getRandomValues?s.prototype._rand=function(l){var u=new Uint8Array(l);return self.msCrypto.getRandomValues(u),u}:typeof window=="object"&&(s.prototype._rand=function(){throw new Error("Not implemented yet")});else try{var a=r("crypto");if(typeof a.randomBytes!="function")throw new Error("Not supported");s.prototype._rand=function(l){return a.randomBytes(l)}}catch{}},{crypto:188}],188:[function(r,n,i){},{}],189:[function(r,n,i){var o=r("safe-buffer").Buffer;function s(d){o.isBuffer(d)||(d=o.from(d));for(var h=d.length/4|0,g=new Array(h),m=0;m<h;m++)g[m]=d.readUInt32BE(4*m);return g}function a(d){for(;0<d.length;d++)d[0]=0}function l(d,h,g,m,p){for(var y,b,v,F,E=g[0],T=g[1],I=g[2],M=g[3],P=d[0]^h[0],O=d[1]^h[1],z=d[2]^h[2],L=d[3]^h[3],_=4,R=1;R<p;R++)y=E[P>>>24]^T[O>>>16&255]^I[z>>>8&255]^M[255&L]^h[_++],b=E[O>>>24]^T[z>>>16&255]^I[L>>>8&255]^M[255&P]^h[_++],v=E[z>>>24]^T[L>>>16&255]^I[P>>>8&255]^M[255&O]^h[_++],F=E[L>>>24]^T[P>>>16&255]^I[O>>>8&255]^M[255&z]^h[_++],P=y,O=b,z=v,L=F;return y=(m[P>>>24]<<24|m[O>>>16&255]<<16|m[z>>>8&255]<<8|m[255&L])^h[_++],b=(m[O>>>24]<<24|m[z>>>16&255]<<16|m[L>>>8&255]<<8|m[255&P])^h[_++],v=(m[z>>>24]<<24|m[L>>>16&255]<<16|m[P>>>8&255]<<8|m[255&O])^h[_++],F=(m[L>>>24]<<24|m[P>>>16&255]<<16|m[O>>>8&255]<<8|m[255&z])^h[_++],[y>>>=0,b>>>=0,v>>>=0,F>>>=0]}var u=[0,1,2,4,8,16,32,64,128,27,54],c=(function(){for(var d=new Array(256),h=0;h<256;h++)d[h]=h<128?h<<1:h<<1^283;for(var g=[],m=[],p=[[],[],[],[]],y=[[],[],[],[]],b=0,v=0,F=0;F<256;++F){var E=v^v<<1^v<<2^v<<3^v<<4;E=E>>>8^255&E^99,g[b]=E,m[E]=b;var T=d[b],I=d[T],M=d[I],P=257*d[E]^16843008*E;p[0][b]=P<<24|P>>>8,p[1][b]=P<<16|P>>>16,p[2][b]=P<<8|P>>>24,p[3][b]=P,P=16843009*M^65537*I^257*T^16843008*b,y[0][E]=P<<24|P>>>8,y[1][E]=P<<16|P>>>16,y[2][E]=P<<8|P>>>24,y[3][E]=P,b===0?b=v=1:(b=T^d[d[d[M^T]]],v^=d[d[v]])}return{SBOX:g,INV_SBOX:m,SUB_MIX:p,INV_SUB_MIX:y}})();function f(d){this._key=s(d),this._reset()}f.blockSize=16,f.keySize=32,f.prototype.blockSize=f.blockSize,f.prototype.keySize=f.keySize,f.prototype._reset=function(){for(var d=this._key,h=d.length,g=h+6,m=4*(g+1),p=[],y=0;y<h;y++)p[y]=d[y];for(y=h;y<m;y++){var b=p[y-1];y%h==0?(b=b<<8|b>>>24,b=c.SBOX[b>>>24]<<24|c.SBOX[b>>>16&255]<<16|c.SBOX[b>>>8&255]<<8|c.SBOX[255&b],b^=u[y/h|0]<<24):h>6&&y%h==4&&(b=c.SBOX[b>>>24]<<24|c.SBOX[b>>>16&255]<<16|c.SBOX[b>>>8&255]<<8|c.SBOX[255&b]),p[y]=p[y-h]^b}for(var v=[],F=0;F<m;F++){var E=m-F,T=p[E-(F%4?0:4)];v[F]=F<4||E<=4?T:c.INV_SUB_MIX[0][c.SBOX[T>>>24]]^c.INV_SUB_MIX[1][c.SBOX[T>>>16&255]]^c.INV_SUB_MIX[2][c.SBOX[T>>>8&255]]^c.INV_SUB_MIX[3][c.SBOX[255&T]]}this._nRounds=g,this._keySchedule=p,this._invKeySchedule=v},f.prototype.encryptBlockRaw=function(d){return l(d=s(d),this._keySchedule,c.SUB_MIX,c.SBOX,this._nRounds)},f.prototype.encryptBlock=function(d){var h=this.encryptBlockRaw(d),g=o.allocUnsafe(16);return g.writeUInt32BE(h[0],0),g.writeUInt32BE(h[1],4),g.writeUInt32BE(h[2],8),g.writeUInt32BE(h[3],12),g},f.prototype.decryptBlock=function(d){var h=(d=s(d))[1];d[1]=d[3],d[3]=h;var g=l(d,this._invKeySchedule,c.INV_SUB_MIX,c.INV_SBOX,this._nRounds),m=o.allocUnsafe(16);return m.writeUInt32BE(g[0],0),m.writeUInt32BE(g[3],4),m.writeUInt32BE(g[2],8),m.writeUInt32BE(g[1],12),m},f.prototype.scrub=function(){a(this._keySchedule),a(this._invKeySchedule),a(this._key)},n.exports.AES=f},{"safe-buffer":494}],190:[function(r,n,i){var o=r("./aes"),s=r("safe-buffer").Buffer,a=r("cipher-base"),l=r("inherits"),u=r("./ghash"),c=r("buffer-xor"),f=r("./incr32");function d(h,g,m,p){a.call(this);var y=s.alloc(4,0);this._cipher=new o.AES(g);var b=this._cipher.encryptBlock(y);this._ghash=new u(b),m=(function(v,F,E){if(F.length===12)return v._finID=s.concat([F,s.from([0,0,0,1])]),s.concat([F,s.from([0,0,0,2])]);var T=new u(E),I=F.length,M=I%16;T.update(F),M&&(M=16-M,T.update(s.alloc(M,0))),T.update(s.alloc(8,0));var P=8*I,O=s.alloc(8);O.writeUIntBE(P,0,8),T.update(O),v._finID=T.state;var z=s.from(v._finID);return f(z),z})(this,m,b),this._prev=s.from(m),this._cache=s.allocUnsafe(0),this._secCache=s.allocUnsafe(0),this._decrypt=p,this._alen=0,this._len=0,this._mode=h,this._authTag=null,this._called=!1}l(d,a),d.prototype._update=function(h){if(!this._called&&this._alen){var g=16-this._alen%16;g<16&&(g=s.alloc(g,0),this._ghash.update(g))}this._called=!0;var m=this._mode.encrypt(this,h);return this._decrypt?this._ghash.update(h):this._ghash.update(m),this._len+=h.length,m},d.prototype._final=function(){if(this._decrypt&&!this._authTag)throw new Error("Unsupported state or unable to authenticate data");var h=c(this._ghash.final(8*this._alen,8*this._len),this._cipher.encryptBlock(this._finID));if(this._decrypt&&(function(g,m){var p=0;g.length!==m.length&&p++;for(var y=Math.min(g.length,m.length),b=0;b<y;++b)p+=g[b]^m[b];return p})(h,this._authTag))throw new Error("Unsupported state or unable to authenticate data");this._authTag=h,this._cipher.scrub()},d.prototype.getAuthTag=function(){if(this._decrypt||!s.isBuffer(this._authTag))throw new Error("Attempting to get auth tag in unsupported state");return this._authTag},d.prototype.setAuthTag=function(h){if(!this._decrypt)throw new Error("Attempting to set auth tag in unsupported state");this._authTag=h},d.prototype.setAAD=function(h){if(this._called)throw new Error("Attempting to set AAD in unsupported state");this._ghash.update(h),this._alen+=h.length},n.exports=d},{"./aes":189,"./ghash":194,"./incr32":195,"buffer-xor":219,"cipher-base":221,inherits:440,"safe-buffer":494}],191:[function(r,n,i){var o=r("./encrypter"),s=r("./decrypter"),a=r("./modes/list.json");i.createCipher=i.Cipher=o.createCipher,i.createCipheriv=i.Cipheriv=o.createCipheriv,i.createDecipher=i.Decipher=s.createDecipher,i.createDecipheriv=i.Decipheriv=s.createDecipheriv,i.listCiphers=i.getCiphers=function(){return Object.keys(a)}},{"./decrypter":192,"./encrypter":193,"./modes/list.json":203}],192:[function(r,n,i){var o=r("./authCipher"),s=r("safe-buffer").Buffer,a=r("./modes"),l=r("./streamCipher"),u=r("cipher-base"),c=r("./aes"),f=r("evp_bytestokey");function d(m,p,y){u.call(this),this._cache=new h,this._last=void 0,this._cipher=new c.AES(p),this._prev=s.from(y),this._mode=m,this._autopadding=!0}function h(){this.cache=s.allocUnsafe(0)}function g(m,p,y){var b=a[m.toLowerCase()];if(!b)throw new TypeError("invalid suite type");if(typeof y=="string"&&(y=s.from(y)),b.mode!=="GCM"&&y.length!==b.iv)throw new TypeError("invalid iv length "+y.length);if(typeof p=="string"&&(p=s.from(p)),p.length!==b.key/8)throw new TypeError("invalid key length "+p.length);return b.type==="stream"?new l(b.module,p,y,!0):b.type==="auth"?new o(b.module,p,y,!0):new d(b.module,p,y)}r("inherits")(d,u),d.prototype._update=function(m){var p,y;this._cache.add(m);for(var b=[];p=this._cache.get(this._autopadding);)y=this._mode.decrypt(this,p),b.push(y);return s.concat(b)},d.prototype._final=function(){var m=this._cache.flush();if(this._autopadding)return(function(p){var y=p[15];if(y<1||y>16)throw new Error("unable to decrypt data");for(var b=-1;++b<y;)if(p[b+(16-y)]!==y)throw new Error("unable to decrypt data");if(y!==16)return p.slice(0,16-y)})(this._mode.decrypt(this,m));if(m)throw new Error("data not multiple of block length")},d.prototype.setAutoPadding=function(m){return this._autopadding=!!m,this},h.prototype.add=function(m){this.cache=s.concat([this.cache,m])},h.prototype.get=function(m){var p;if(m){if(this.cache.length>16)return p=this.cache.slice(0,16),this.cache=this.cache.slice(16),p}else if(this.cache.length>=16)return p=this.cache.slice(0,16),this.cache=this.cache.slice(16),p;return null},h.prototype.flush=function(){if(this.cache.length)return this.cache},i.createDecipher=function(m,p){var y=a[m.toLowerCase()];if(!y)throw new TypeError("invalid suite type");var b=f(p,!1,y.key,y.iv);return g(m,b.key,b.iv)},i.createDecipheriv=g},{"./aes":189,"./authCipher":190,"./modes":202,"./streamCipher":205,"cipher-base":221,evp_bytestokey:423,inherits:440,"safe-buffer":494}],193:[function(r,n,i){var o=r("./modes"),s=r("./authCipher"),a=r("safe-buffer").Buffer,l=r("./streamCipher"),u=r("cipher-base"),c=r("./aes"),f=r("evp_bytestokey");function d(p,y,b){u.call(this),this._cache=new g,this._cipher=new c.AES(y),this._prev=a.from(b),this._mode=p,this._autopadding=!0}r("inherits")(d,u),d.prototype._update=function(p){var y,b;this._cache.add(p);for(var v=[];y=this._cache.get();)b=this._mode.encrypt(this,y),v.push(b);return a.concat(v)};var h=a.alloc(16,16);function g(){this.cache=a.allocUnsafe(0)}function m(p,y,b){var v=o[p.toLowerCase()];if(!v)throw new TypeError("invalid suite type");if(typeof y=="string"&&(y=a.from(y)),y.length!==v.key/8)throw new TypeError("invalid key length "+y.length);if(typeof b=="string"&&(b=a.from(b)),v.mode!=="GCM"&&b.length!==v.iv)throw new TypeError("invalid iv length "+b.length);return v.type==="stream"?new l(v.module,y,b):v.type==="auth"?new s(v.module,y,b):new d(v.module,y,b)}d.prototype._final=function(){var p=this._cache.flush();if(this._autopadding)return p=this._mode.encrypt(this,p),this._cipher.scrub(),p;if(!p.equals(h))throw this._cipher.scrub(),new Error("data not multiple of block length")},d.prototype.setAutoPadding=function(p){return this._autopadding=!!p,this},g.prototype.add=function(p){this.cache=a.concat([this.cache,p])},g.prototype.get=function(){if(this.cache.length>15){var p=this.cache.slice(0,16);return this.cache=this.cache.slice(16),p}return null},g.prototype.flush=function(){for(var p=16-this.cache.length,y=a.allocUnsafe(p),b=-1;++b<p;)y.writeUInt8(p,b);return a.concat([this.cache,y])},i.createCipheriv=m,i.createCipher=function(p,y){var b=o[p.toLowerCase()];if(!b)throw new TypeError("invalid suite type");var v=f(y,!1,b.key,b.iv);return m(p,v.key,v.iv)}},{"./aes":189,"./authCipher":190,"./modes":202,"./streamCipher":205,"cipher-base":221,evp_bytestokey:423,inherits:440,"safe-buffer":494}],194:[function(r,n,i){var o=r("safe-buffer").Buffer,s=o.alloc(16,0);function a(u){var c=o.allocUnsafe(16);return c.writeUInt32BE(u[0]>>>0,0),c.writeUInt32BE(u[1]>>>0,4),c.writeUInt32BE(u[2]>>>0,8),c.writeUInt32BE(u[3]>>>0,12),c}function l(u){this.h=u,this.state=o.alloc(16,0),this.cache=o.allocUnsafe(0)}l.prototype.ghash=function(u){for(var c=-1;++c<u.length;)this.state[c]^=u[c];this._multiply()},l.prototype._multiply=function(){for(var u,c,f,d=[(u=this.h).readUInt32BE(0),u.readUInt32BE(4),u.readUInt32BE(8),u.readUInt32BE(12)],h=[0,0,0,0],g=-1;++g<128;){for((this.state[~~(g/8)]&1<<7-g%8)!=0&&(h[0]^=d[0],h[1]^=d[1],h[2]^=d[2],h[3]^=d[3]),f=(1&d[3])!=0,c=3;c>0;c--)d[c]=d[c]>>>1|(1&d[c-1])<<31;d[0]=d[0]>>>1,f&&(d[0]=d[0]^225<<24)}this.state=a(h)},l.prototype.update=function(u){var c;for(this.cache=o.concat([this.cache,u]);this.cache.length>=16;)c=this.cache.slice(0,16),this.cache=this.cache.slice(16),this.ghash(c)},l.prototype.final=function(u,c){return this.cache.length&&this.ghash(o.concat([this.cache,s],16)),this.ghash(a([0,u,0,c])),this.state},n.exports=l},{"safe-buffer":494}],195:[function(r,n,i){n.exports=function(o){for(var s,a=o.length;a--;){if((s=o.readUInt8(a))!==255){s++,o.writeUInt8(s,a);break}o.writeUInt8(0,a)}}},{}],196:[function(r,n,i){var o=r("buffer-xor");i.encrypt=function(s,a){var l=o(a,s._prev);return s._prev=s._cipher.encryptBlock(l),s._prev},i.decrypt=function(s,a){var l=s._prev;s._prev=a;var u=s._cipher.decryptBlock(a);return o(u,l)}},{"buffer-xor":219}],197:[function(r,n,i){var o=r("safe-buffer").Buffer,s=r("buffer-xor");function a(l,u,c){var f=u.length,d=s(u,l._cache);return l._cache=l._cache.slice(f),l._prev=o.concat([l._prev,c?u:d]),d}i.encrypt=function(l,u,c){for(var f,d=o.allocUnsafe(0);u.length;){if(l._cache.length===0&&(l._cache=l._cipher.encryptBlock(l._prev),l._prev=o.allocUnsafe(0)),!(l._cache.length<=u.length)){d=o.concat([d,a(l,u,c)]);break}f=l._cache.length,d=o.concat([d,a(l,u.slice(0,f),c)]),u=u.slice(f)}return d}},{"buffer-xor":219,"safe-buffer":494}],198:[function(r,n,i){var o=r("safe-buffer").Buffer;function s(l,u,c){for(var f,d,h=-1,g=0;++h<8;)f=u&1<<7-h?128:0,g+=(128&(d=l._cipher.encryptBlock(l._prev)[0]^f))>>h%8,l._prev=a(l._prev,c?f:d);return g}function a(l,u){var c=l.length,f=-1,d=o.allocUnsafe(l.length);for(l=o.concat([l,o.from([u])]);++f<c;)d[f]=l[f]<<1|l[f+1]>>7;return d}i.encrypt=function(l,u,c){for(var f=u.length,d=o.allocUnsafe(f),h=-1;++h<f;)d[h]=s(l,u[h],c);return d}},{"safe-buffer":494}],199:[function(r,n,i){var o=r("safe-buffer").Buffer;function s(a,l,u){var c=a._cipher.encryptBlock(a._prev)[0]^l;return a._prev=o.concat([a._prev.slice(1),o.from([u?l:c])]),c}i.encrypt=function(a,l,u){for(var c=l.length,f=o.allocUnsafe(c),d=-1;++d<c;)f[d]=s(a,l[d],u);return f}},{"safe-buffer":494}],200:[function(r,n,i){var o=r("buffer-xor"),s=r("safe-buffer").Buffer,a=r("../incr32");function l(u){var c=u._cipher.encryptBlockRaw(u._prev);return a(u._prev),c}i.encrypt=function(u,c){var f=Math.ceil(c.length/16),d=u._cache.length;u._cache=s.concat([u._cache,s.allocUnsafe(16*f)]);for(var h=0;h<f;h++){var g=l(u),m=d+16*h;u._cache.writeUInt32BE(g[0],m+0),u._cache.writeUInt32BE(g[1],m+4),u._cache.writeUInt32BE(g[2],m+8),u._cache.writeUInt32BE(g[3],m+12)}var p=u._cache.slice(0,c.length);return u._cache=u._cache.slice(c.length),o(c,p)}},{"../incr32":195,"buffer-xor":219,"safe-buffer":494}],201:[function(r,n,i){i.encrypt=function(o,s){return o._cipher.encryptBlock(s)},i.decrypt=function(o,s){return o._cipher.decryptBlock(s)}},{}],202:[function(r,n,i){var o={ECB:r("./ecb"),CBC:r("./cbc"),CFB:r("./cfb"),CFB8:r("./cfb8"),CFB1:r("./cfb1"),OFB:r("./ofb"),CTR:r("./ctr"),GCM:r("./ctr")},s=r("./list.json");for(var a in s)s[a].module=o[s[a].mode];n.exports=s},{"./cbc":196,"./cfb":197,"./cfb1":198,"./cfb8":199,"./ctr":200,"./ecb":201,"./list.json":203,"./ofb":204}],203:[function(r,n,i){n.exports={"aes-128-ecb":{cipher:"AES",key:128,iv:0,mode:"ECB",type:"block"},"aes-192-ecb":{cipher:"AES",key:192,iv:0,mode:"ECB",type:"block"},"aes-256-ecb":{cipher:"AES",key:256,iv:0,mode:"ECB",type:"block"},"aes-128-cbc":{cipher:"AES",key:128,iv:16,mode:"CBC",type:"block"},"aes-192-cbc":{cipher:"AES",key:192,iv:16,mode:"CBC",type:"block"},"aes-256-cbc":{cipher:"AES",key:256,iv:16,mode:"CBC",type:"block"},aes128:{cipher:"AES",key:128,iv:16,mode:"CBC",type:"block"},aes192:{cipher:"AES",key:192,iv:16,mode:"CBC",type:"block"},aes256:{cipher:"AES",key:256,iv:16,mode:"CBC",type:"block"},"aes-128-cfb":{cipher:"AES",key:128,iv:16,mode:"CFB",type:"stream"},"aes-192-cfb":{cipher:"AES",key:192,iv:16,mode:"CFB",type:"stream"},"aes-256-cfb":{cipher:"AES",key:256,iv:16,mode:"CFB",type:"stream"},"aes-128-cfb8":{cipher:"AES",key:128,iv:16,mode:"CFB8",type:"stream"},"aes-192-cfb8":{cipher:"AES",key:192,iv:16,mode:"CFB8",type:"stream"},"aes-256-cfb8":{cipher:"AES",key:256,iv:16,mode:"CFB8",type:"stream"},"aes-128-cfb1":{cipher:"AES",key:128,iv:16,mode:"CFB1",type:"stream"},"aes-192-cfb1":{cipher:"AES",key:192,iv:16,mode:"CFB1",type:"stream"},"aes-256-cfb1":{cipher:"AES",key:256,iv:16,mode:"CFB1",type:"stream"},"aes-128-ofb":{cipher:"AES",key:128,iv:16,mode:"OFB",type:"stream"},"aes-192-ofb":{cipher:"AES",key:192,iv:16,mode:"OFB",type:"stream"},"aes-256-ofb":{cipher:"AES",key:256,iv:16,mode:"OFB",type:"stream"},"aes-128-ctr":{cipher:"AES",key:128,iv:16,mode:"CTR",type:"stream"},"aes-192-ctr":{cipher:"AES",key:192,iv:16,mode:"CTR",type:"stream"},"aes-256-ctr":{cipher:"AES",key:256,iv:16,mode:"CTR",type:"stream"},"aes-128-gcm":{cipher:"AES",key:128,iv:12,mode:"GCM",type:"auth"},"aes-192-gcm":{cipher:"AES",key:192,iv:12,mode:"GCM",type:"auth"},"aes-256-gcm":{cipher:"AES",key:256,iv:12,mode:"GCM",type:"auth"}}},{}],204:[function(r,n,i){(function(o){(function(){var s=r("buffer-xor");function a(l){return l._prev=l._cipher.encryptBlock(l._prev),l._prev}i.encrypt=function(l,u){for(;l._cache.length<u.length;)l._cache=o.concat([l._cache,a(l)]);var c=l._cache.slice(0,u.length);return l._cache=l._cache.slice(u.length),s(u,c)}}).call(this)}).call(this,r("buffer").Buffer)},{buffer:220,"buffer-xor":219}],205:[function(r,n,i){var o=r("./aes"),s=r("safe-buffer").Buffer,a=r("cipher-base");function l(u,c,f,d){a.call(this),this._cipher=new o.AES(c),this._prev=s.from(f),this._cache=s.allocUnsafe(0),this._secCache=s.allocUnsafe(0),this._decrypt=d,this._mode=u}r("inherits")(l,a),l.prototype._update=function(u){return this._mode.encrypt(this,u,this._decrypt)},l.prototype._final=function(){this._cipher.scrub()},n.exports=l},{"./aes":189,"cipher-base":221,inherits:440,"safe-buffer":494}],206:[function(r,n,i){var o=r("browserify-des"),s=r("browserify-aes/browser"),a=r("browserify-aes/modes"),l=r("browserify-des/modes"),u=r("evp_bytestokey");function c(d,h,g){if(d=d.toLowerCase(),a[d])return s.createCipheriv(d,h,g);if(l[d])return new o({key:h,iv:g,mode:d});throw new TypeError("invalid suite type")}function f(d,h,g){if(d=d.toLowerCase(),a[d])return s.createDecipheriv(d,h,g);if(l[d])return new o({key:h,iv:g,mode:d,decrypt:!0});throw new TypeError("invalid suite type")}i.createCipher=i.Cipher=function(d,h){var g,m;if(d=d.toLowerCase(),a[d])g=a[d].key,m=a[d].iv;else{if(!l[d])throw new TypeError("invalid suite type");g=8*l[d].key,m=l[d].iv}var p=u(h,!1,g,m);return c(d,p.key,p.iv)},i.createCipheriv=i.Cipheriv=c,i.createDecipher=i.Decipher=function(d,h){var g,m;if(d=d.toLowerCase(),a[d])g=a[d].key,m=a[d].iv;else{if(!l[d])throw new TypeError("invalid suite type");g=8*l[d].key,m=l[d].iv}var p=u(h,!1,g,m);return f(d,p.key,p.iv)},i.createDecipheriv=i.Decipheriv=f,i.listCiphers=i.getCiphers=function(){return Object.keys(l).concat(s.getCiphers())}},{"browserify-aes/browser":191,"browserify-aes/modes":202,"browserify-des":207,"browserify-des/modes":208,evp_bytestokey:423}],207:[function(r,n,i){var o=r("cipher-base"),s=r("des.js"),a=r("inherits"),l=r("safe-buffer").Buffer,u={"des-ede3-cbc":s.CBC.instantiate(s.EDE),"des-ede3":s.EDE,"des-ede-cbc":s.CBC.instantiate(s.EDE),"des-ede":s.EDE,"des-cbc":s.CBC.instantiate(s.DES),"des-ecb":s.DES};function c(f){o.call(this);var d,h=f.mode.toLowerCase(),g=u[h];d=f.decrypt?"decrypt":"encrypt";var m=f.key;l.isBuffer(m)||(m=l.from(m)),h!=="des-ede"&&h!=="des-ede-cbc"||(m=l.concat([m,m.slice(0,8)]));var p=f.iv;l.isBuffer(p)||(p=l.from(p)),this._des=g.create({key:m,iv:p,type:d})}u.des=u["des-cbc"],u.des3=u["des-ede3-cbc"],n.exports=c,a(c,o),c.prototype._update=function(f){return l.from(this._des.update(f))},c.prototype._final=function(){return l.from(this._des.final())}},{"cipher-base":221,"des.js":394,inherits:440,"safe-buffer":494}],208:[function(r,n,i){i["des-ecb"]={key:8,iv:0},i["des-cbc"]=i.des={key:8,iv:8},i["des-ede3-cbc"]=i.des3={key:24,iv:8},i["des-ede3"]={key:24,iv:0},i["des-ede-cbc"]={key:16,iv:8},i["des-ede"]={key:16,iv:0}},{}],209:[function(r,n,i){(function(o){(function(){var s=r("bn.js"),a=r("randombytes");function l(c){var f,d=c.modulus.byteLength();do f=new s(a(d));while(f.cmp(c.modulus)>=0||!f.umod(c.prime1)||!f.umod(c.prime2));return f}function u(c,f){var d=(function(I){var M=l(I);return{blinder:M.toRed(s.mont(I.modulus)).redPow(new s(I.publicExponent)).fromRed(),unblinder:M.invm(I.modulus)}})(f),h=f.modulus.byteLength(),g=new s(c).mul(d.blinder).umod(f.modulus),m=g.toRed(s.mont(f.prime1)),p=g.toRed(s.mont(f.prime2)),y=f.coefficient,b=f.prime1,v=f.prime2,F=m.redPow(f.exponent1).fromRed(),E=p.redPow(f.exponent2).fromRed(),T=F.isub(E).imul(y).umod(b).imul(v);return E.iadd(T).imul(d.unblinder).umod(f.modulus).toArrayLike(o,"be",h)}u.getr=l,n.exports=u}).call(this)}).call(this,r("buffer").Buffer)},{"bn.js":186,buffer:220,randombytes:475}],210:[function(r,n,i){n.exports=r("./browser/algorithms.json")},{"./browser/algorithms.json":211}],211:[function(r,n,i){n.exports={sha224WithRSAEncryption:{sign:"rsa",hash:"sha224",id:"302d300d06096086480165030402040500041c"},"RSA-SHA224":{sign:"ecdsa/rsa",hash:"sha224",id:"302d300d06096086480165030402040500041c"},sha256WithRSAEncryption:{sign:"rsa",hash:"sha256",id:"3031300d060960864801650304020105000420"},"RSA-SHA256":{sign:"ecdsa/rsa",hash:"sha256",id:"3031300d060960864801650304020105000420"},sha384WithRSAEncryption:{sign:"rsa",hash:"sha384",id:"3041300d060960864801650304020205000430"},"RSA-SHA384":{sign:"ecdsa/rsa",hash:"sha384",id:"3041300d060960864801650304020205000430"},sha512WithRSAEncryption:{sign:"rsa",hash:"sha512",id:"3051300d060960864801650304020305000440"},"RSA-SHA512":{sign:"ecdsa/rsa",hash:"sha512",id:"3051300d060960864801650304020305000440"},"RSA-SHA1":{sign:"rsa",hash:"sha1",id:"3021300906052b0e03021a05000414"},"ecdsa-with-SHA1":{sign:"ecdsa",hash:"sha1",id:""},sha256:{sign:"ecdsa",hash:"sha256",id:""},sha224:{sign:"ecdsa",hash:"sha224",id:""},sha384:{sign:"ecdsa",hash:"sha384",id:""},sha512:{sign:"ecdsa",hash:"sha512",id:""},"DSA-SHA":{sign:"dsa",hash:"sha1",id:""},"DSA-SHA1":{sign:"dsa",hash:"sha1",id:""},DSA:{sign:"dsa",hash:"sha1",id:""},"DSA-WITH-SHA224":{sign:"dsa",hash:"sha224",id:""},"DSA-SHA224":{sign:"dsa",hash:"sha224",id:""},"DSA-WITH-SHA256":{sign:"dsa",hash:"sha256",id:""},"DSA-SHA256":{sign:"dsa",hash:"sha256",id:""},"DSA-WITH-SHA384":{sign:"dsa",hash:"sha384",id:""},"DSA-SHA384":{sign:"dsa",hash:"sha384",id:""},"DSA-WITH-SHA512":{sign:"dsa",hash:"sha512",id:""},"DSA-SHA512":{sign:"dsa",hash:"sha512",id:""},"DSA-RIPEMD160":{sign:"dsa",hash:"rmd160",id:""},ripemd160WithRSA:{sign:"rsa",hash:"rmd160",id:"3021300906052b2403020105000414"},"RSA-RIPEMD160":{sign:"rsa",hash:"rmd160",id:"3021300906052b2403020105000414"},md5WithRSAEncryption:{sign:"rsa",hash:"md5",id:"3020300c06082a864886f70d020505000410"},"RSA-MD5":{sign:"rsa",hash:"md5",id:"3020300c06082a864886f70d020505000410"}}},{}],212:[function(r,n,i){n.exports={"1.3.132.0.10":"secp256k1","1.3.132.0.33":"p224","1.2.840.10045.3.1.1":"p192","1.2.840.10045.3.1.7":"p256","1.3.132.0.34":"p384","1.3.132.0.35":"p521"}},{}],213:[function(r,n,i){var o=r("safe-buffer").Buffer,s=r("create-hash"),a=r("readable-stream"),l=r("inherits"),u=r("./sign"),c=r("./verify"),f=r("./algorithms.json");function d(p){a.Writable.call(this);var y=f[p];if(!y)throw new Error("Unknown message digest");this._hashType=y.hash,this._hash=s(y.hash),this._tag=y.id,this._signType=y.sign}function h(p){a.Writable.call(this);var y=f[p];if(!y)throw new Error("Unknown message digest");this._hash=s(y.hash),this._tag=y.id,this._signType=y.sign}function g(p){return new d(p)}function m(p){return new h(p)}Object.keys(f).forEach((function(p){f[p].id=o.from(f[p].id,"hex"),f[p.toLowerCase()]=f[p]})),l(d,a.Writable),d.prototype._write=function(p,y,b){this._hash.update(p),b()},d.prototype.update=function(p,y){return typeof p=="string"&&(p=o.from(p,y)),this._hash.update(p),this},d.prototype.sign=function(p,y){this.end();var b=this._hash.digest(),v=u(b,p,this._hashType,this._signType,this._tag);return y?v.toString(y):v},l(h,a.Writable),h.prototype._write=function(p,y,b){this._hash.update(p),b()},h.prototype.update=function(p,y){return typeof p=="string"&&(p=o.from(p,y)),this._hash.update(p),this},h.prototype.verify=function(p,y,b){typeof y=="string"&&(y=o.from(y,b)),this.end();var v=this._hash.digest();return c(y,v,p,this._signType,this._tag)},n.exports={Sign:g,Verify:m,createSign:g,createVerify:m}},{"./algorithms.json":211,"./sign":214,"./verify":215,"create-hash":386,inherits:440,"readable-stream":491,"safe-buffer":494}],214:[function(r,n,i){var o=r("safe-buffer").Buffer,s=r("create-hmac"),a=r("browserify-rsa"),l=r("elliptic").ec,u=r("bn.js"),c=r("parse-asn1"),f=r("./curves.json");function d(p,y,b,v){if((p=o.from(p.toArray())).length<y.byteLength()){var F=o.alloc(y.byteLength()-p.length);p=o.concat([F,p])}var E=b.length,T=(function(P,O){P=(P=h(P,O)).mod(O);var z=o.from(P.toArray());if(z.length<O.byteLength()){var L=o.alloc(O.byteLength()-z.length);z=o.concat([L,z])}return z})(b,y),I=o.alloc(E);I.fill(1);var M=o.alloc(E);return M=s(v,M).update(I).update(o.from([0])).update(p).update(T).digest(),I=s(v,M).update(I).digest(),{k:M=s(v,M).update(I).update(o.from([1])).update(p).update(T).digest(),v:I=s(v,M).update(I).digest()}}function h(p,y){var b=new u(p),v=(p.length<<3)-y.bitLength();return v>0&&b.ishrn(v),b}function g(p,y,b){var v,F;do{for(v=o.alloc(0);8*v.length<p.bitLength();)y.v=s(b,y.k).update(y.v).digest(),v=o.concat([v,y.v]);F=h(v,p),y.k=s(b,y.k).update(y.v).update(o.from([0])).digest(),y.v=s(b,y.k).update(y.v).digest()}while(F.cmp(p)!==-1);return F}function m(p,y,b,v){return p.toRed(u.mont(b)).redPow(y).fromRed().mod(v)}n.exports=function(p,y,b,v,F){var E=c(y);if(E.curve){if(v!=="ecdsa"&&v!=="ecdsa/rsa")throw new Error("wrong private key type");return(function(P,O){var z=f[O.curve.join(".")];if(!z)throw new Error("unknown curve "+O.curve.join("."));var L=new l(z).keyFromPrivate(O.privateKey).sign(P);return o.from(L.toDER())})(p,E)}if(E.type==="dsa"){if(v!=="dsa")throw new Error("wrong private key type");return(function(P,O,z){for(var L,_=O.params.priv_key,R=O.params.p,k=O.params.q,S=O.params.g,w=new u(0),C=h(P,k).mod(k),x=!1,A=d(_,k,P,z);x===!1;)L=g(k,A,z),w=m(S,L,R,k),(x=L.invm(k).imul(C.add(_.mul(w))).mod(k)).cmpn(0)===0&&(x=!1,w=new u(0));return(function(D,B){D=D.toArray(),B=B.toArray(),128&D[0]&&(D=[0].concat(D)),128&B[0]&&(B=[0].concat(B));var V=[48,D.length+B.length+4,2,D.length];return V=V.concat(D,[2,B.length],B),o.from(V)})(w,x)})(p,E,b)}if(v!=="rsa"&&v!=="ecdsa/rsa")throw new Error("wrong private key type");p=o.concat([F,p]);for(var T=E.modulus.byteLength(),I=[0,1];p.length+I.length+1<T;)I.push(255);I.push(0);for(var M=-1;++M<p.length;)I.push(p[M]);return a(I,E)},n.exports.getKey=d,n.exports.makeKey=g},{"./curves.json":212,"bn.js":186,"browserify-rsa":209,"create-hmac":388,elliptic:405,"parse-asn1":459,"safe-buffer":494}],215:[function(r,n,i){var o=r("safe-buffer").Buffer,s=r("bn.js"),a=r("elliptic").ec,l=r("parse-asn1"),u=r("./curves.json");function c(f,d){if(f.cmpn(0)<=0)throw new Error("invalid sig");if(f.cmp(d)>=d)throw new Error("invalid sig")}n.exports=function(f,d,h,g,m){var p=l(h);if(p.type==="ec"){if(g!=="ecdsa"&&g!=="ecdsa/rsa")throw new Error("wrong public key type");return(function(I,M,P){var O=u[P.data.algorithm.curve.join(".")];if(!O)throw new Error("unknown curve "+P.data.algorithm.curve.join("."));var z=new a(O),L=P.data.subjectPrivateKey.data;return z.verify(M,I,L)})(f,d,p)}if(p.type==="dsa"){if(g!=="dsa")throw new Error("wrong public key type");return(function(I,M,P){var O=P.data.p,z=P.data.q,L=P.data.g,_=P.data.pub_key,R=l.signature.decode(I,"der"),k=R.s,S=R.r;c(k,z),c(S,z);var w=s.mont(O),C=k.invm(z);return L.toRed(w).redPow(new s(M).mul(C).mod(z)).fromRed().mul(_.toRed(w).redPow(S.mul(C).mod(z)).fromRed()).mod(O).mod(z).cmp(S)===0})(f,d,p)}if(g!=="rsa"&&g!=="ecdsa/rsa")throw new Error("wrong public key type");d=o.concat([m,d]);for(var y=p.modulus.byteLength(),b=[1],v=0;d.length+b.length+2<y;)b.push(255),v++;b.push(0);for(var F=-1;++F<d.length;)b.push(d[F]);b=o.from(b);var E=s.mont(p.modulus);f=(f=new s(f).toRed(E)).redPow(new s(p.publicExponent)),f=o.from(f.fromRed().toArray());var T=v<8?1:0;for(y=Math.min(f.length,b.length),f.length!==b.length&&(T=1),F=-1;++F<y;)T|=f[F]^b[F];return T===0}},{"./curves.json":212,"bn.js":186,elliptic:405,"parse-asn1":459,"safe-buffer":494}],216:[function(r,n,i){},{}],217:[function(r,n,i){var o=r("buffer"),s=o.Buffer;function a(u,c){for(var f in u)c[f]=u[f]}function l(u,c,f){return s(u,c,f)}s.from&&s.alloc&&s.allocUnsafe&&s.allocUnsafeSlow?n.exports=o:(a(o,i),i.Buffer=l),a(s,l),l.from=function(u,c,f){if(typeof u=="number")throw new TypeError("Argument must not be a number");return s(u,c,f)},l.alloc=function(u,c,f){if(typeof u!="number")throw new TypeError("Argument must be a number");var d=s(u);return c!==void 0?typeof f=="string"?d.fill(c,f):d.fill(c):d.fill(0),d},l.allocUnsafe=function(u){if(typeof u!="number")throw new TypeError("Argument must be a number");return s(u)},l.allocUnsafeSlow=function(u){if(typeof u!="number")throw new TypeError("Argument must be a number");return o.SlowBuffer(u)}},{buffer:220}],218:[function(r,n,i){var o=r("safe-buffer").Buffer,s=o.isEncoding||function(p){switch((p=""+p)&&p.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function a(p){var y;switch(this.encoding=(function(b){var v=(function(F){if(!F)return"utf8";for(var E;;)switch(F){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return F;default:if(E)return;F=(""+F).toLowerCase(),E=!0}})(b);if(typeof v!="string"&&(o.isEncoding===s||!s(b)))throw new Error("Unknown encoding: "+b);return v||b})(p),this.encoding){case"utf16le":this.text=c,this.end=f,y=4;break;case"utf8":this.fillLast=u,y=4;break;case"base64":this.text=d,this.end=h,y=3;break;default:return this.write=g,void(this.end=m)}this.lastNeed=0,this.lastTotal=0,this.lastChar=o.allocUnsafe(y)}function l(p){return p<=127?0:p>>5==6?2:p>>4==14?3:p>>3==30?4:p>>6==2?-1:-2}function u(p){var y=this.lastTotal-this.lastNeed,b=(function(v,F,E){if((192&F[0])!=128)return v.lastNeed=0,"";if(v.lastNeed>1&&F.length>1){if((192&F[1])!=128)return v.lastNeed=1,"";if(v.lastNeed>2&&F.length>2&&(192&F[2])!=128)return v.lastNeed=2,""}})(this,p);return b!==void 0?b:this.lastNeed<=p.length?(p.copy(this.lastChar,y,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal)):(p.copy(this.lastChar,y,0,p.length),void(this.lastNeed-=p.length))}function c(p,y){if((p.length-y)%2==0){var b=p.toString("utf16le",y);if(b){var v=b.charCodeAt(b.length-1);if(v>=55296&&v<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=p[p.length-2],this.lastChar[1]=p[p.length-1],b.slice(0,-1)}return b}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=p[p.length-1],p.toString("utf16le",y,p.length-1)}function f(p){var y=p&&p.length?this.write(p):"";if(this.lastNeed){var b=this.lastTotal-this.lastNeed;return y+this.lastChar.toString("utf16le",0,b)}return y}function d(p,y){var b=(p.length-y)%3;return b===0?p.toString("base64",y):(this.lastNeed=3-b,this.lastTotal=3,b===1?this.lastChar[0]=p[p.length-1]:(this.lastChar[0]=p[p.length-2],this.lastChar[1]=p[p.length-1]),p.toString("base64",y,p.length-b))}function h(p){var y=p&&p.length?this.write(p):"";return this.lastNeed?y+this.lastChar.toString("base64",0,3-this.lastNeed):y}function g(p){return p.toString(this.encoding)}function m(p){return p&&p.length?this.write(p):""}i.StringDecoder=a,a.prototype.write=function(p){if(p.length===0)return"";var y,b;if(this.lastNeed){if((y=this.fillLast(p))===void 0)return"";b=this.lastNeed,this.lastNeed=0}else b=0;return b<p.length?y?y+this.text(p,b):this.text(p,b):y||""},a.prototype.end=function(p){var y=p&&p.length?this.write(p):"";return this.lastNeed?y+"":y},a.prototype.text=function(p,y){var b=(function(F,E,T){var I=E.length-1;if(I<T)return 0;var M=l(E[I]);return M>=0?(M>0&&(F.lastNeed=M-1),M):--I<T||M===-2?0:(M=l(E[I]))>=0?(M>0&&(F.lastNeed=M-2),M):--I<T||M===-2?0:(M=l(E[I]))>=0?(M>0&&(M===2?M=0:F.lastNeed=M-3),M):0})(this,p,y);if(!this.lastNeed)return p.toString("utf8",y);this.lastTotal=b;var v=p.length-(b-this.lastNeed);return p.copy(this.lastChar,0,v),p.toString("utf8",y,v)},a.prototype.fillLast=function(p){if(this.lastNeed<=p.length)return p.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);p.copy(this.lastChar,this.lastTotal-this.lastNeed,0,p.length),this.lastNeed-=p.length}},{"safe-buffer":217}],219:[function(r,n,i){(function(o){(function(){n.exports=function(s,a){for(var l=Math.min(s.length,a.length),u=new o(l),c=0;c<l;++c)u[c]=s[c]^a[c];return u}}).call(this)}).call(this,r("buffer").Buffer)},{buffer:220}],220:[function(r,n,i){(function(o){(function(){var s=r("base64-js"),a=r("ieee754");i.Buffer=u,i.SlowBuffer=function(H){return+H!=H&&(H=0),u.alloc(+H)},i.INSPECT_MAX_BYTES=50;function l(H){if(H>2147483647)throw new RangeError('The value "'+H+'" is invalid for option "size"');var N=new Uint8Array(H);return N.__proto__=u.prototype,N}function u(H,N,$){if(typeof H=="number"){if(typeof N=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return d(H)}return c(H,N,$)}function c(H,N,$){if(typeof H=="string")return(function(ee,W){if(typeof W=="string"&&W!==""||(W="utf8"),!u.isEncoding(W))throw new TypeError("Unknown encoding: "+W);var ne=0|m(ee,W),re=l(ne),q=re.write(ee,W);return q!==ne&&(re=re.slice(0,q)),re})(H,N);if(ArrayBuffer.isView(H))return h(H);if(H==null)throw TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof H);if(G(H,ArrayBuffer)||H&&G(H.buffer,ArrayBuffer))return(function(ee,W,ne){if(W<0||ee.byteLength<W)throw new RangeError('"offset" is outside of buffer bounds');if(ee.byteLength<W+(ne||0))throw new RangeError('"length" is outside of buffer bounds');var re;return re=W===void 0&&ne===void 0?new Uint8Array(ee):ne===void 0?new Uint8Array(ee,W):new Uint8Array(ee,W,ne),re.__proto__=u.prototype,re})(H,N,$);if(typeof H=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');var J=H.valueOf&&H.valueOf();if(J!=null&&J!==H)return u.from(J,N,$);var Q=(function(ee){if(u.isBuffer(ee)){var W=0|g(ee.length),ne=l(W);return ne.length===0||ee.copy(ne,0,0,W),ne}if(ee.length!==void 0)return typeof ee.length!="number"||Y(ee.length)?l(0):h(ee);if(ee.type==="Buffer"&&Array.isArray(ee.data))return h(ee.data)})(H);if(Q)return Q;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof H[Symbol.toPrimitive]=="function")return u.from(H[Symbol.toPrimitive]("string"),N,$);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof H)}function f(H){if(typeof H!="number")throw new TypeError('"size" argument must be of type number');if(H<0)throw new RangeError('The value "'+H+'" is invalid for option "size"')}function d(H){return f(H),l(H<0?0:0|g(H))}function h(H){for(var N=H.length<0?0:0|g(H.length),$=l(N),J=0;J<N;J+=1)$[J]=255&H[J];return $}function g(H){if(H>=2147483647)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x7fffffff bytes");return 0|H}function m(H,N){if(u.isBuffer(H))return H.length;if(ArrayBuffer.isView(H)||G(H,ArrayBuffer))return H.byteLength;if(typeof H!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof H);var $=H.length,J=arguments.length>2&&arguments[2]===!0;if(!J&&$===0)return 0;for(var Q=!1;;)switch(N){case"ascii":case"latin1":case"binary":return $;case"utf8":case"utf-8":return V(H).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*$;case"hex":return $>>>1;case"base64":return j(H).length;default:if(Q)return J?-1:V(H).length;N=(""+N).toLowerCase(),Q=!0}}function p(H,N,$){var J=!1;if((N===void 0||N<0)&&(N=0),N>this.length||(($===void 0||$>this.length)&&($=this.length),$<=0)||($>>>=0)<=(N>>>=0))return"";for(H||(H="utf8");;)switch(H){case"hex":return R(this,N,$);case"utf8":case"utf-8":return z(this,N,$);case"ascii":return L(this,N,$);case"latin1":case"binary":return _(this,N,$);case"base64":return O(this,N,$);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return k(this,N,$);default:if(J)throw new TypeError("Unknown encoding: "+H);H=(H+"").toLowerCase(),J=!0}}function y(H,N,$){var J=H[N];H[N]=H[$],H[$]=J}function b(H,N,$,J,Q){if(H.length===0)return-1;if(typeof $=="string"?(J=$,$=0):$>2147483647?$=2147483647:$<-2147483648&&($=-2147483648),Y($=+$)&&($=Q?0:H.length-1),$<0&&($=H.length+$),$>=H.length){if(Q)return-1;$=H.length-1}else if($<0){if(!Q)return-1;$=0}if(typeof N=="string"&&(N=u.from(N,J)),u.isBuffer(N))return N.length===0?-1:v(H,N,$,J,Q);if(typeof N=="number")return N&=255,typeof Uint8Array.prototype.indexOf=="function"?Q?Uint8Array.prototype.indexOf.call(H,N,$):Uint8Array.prototype.lastIndexOf.call(H,N,$):v(H,[N],$,J,Q);throw new TypeError("val must be string, number or Buffer")}function v(H,N,$,J,Q){var ee,W=1,ne=H.length,re=N.length;if(J!==void 0&&((J=String(J).toLowerCase())==="ucs2"||J==="ucs-2"||J==="utf16le"||J==="utf-16le")){if(H.length<2||N.length<2)return-1;W=2,ne/=2,re/=2,$/=2}function q(oe,ie){return W===1?oe[ie]:oe.readUInt16BE(ie*W)}if(Q){var X=-1;for(ee=$;ee<ne;ee++)if(q(H,ee)===q(N,X===-1?0:ee-X)){if(X===-1&&(X=ee),ee-X+1===re)return X*W}else X!==-1&&(ee-=ee-X),X=-1}else for($+re>ne&&($=ne-re),ee=$;ee>=0;ee--){for(var te=!0,se=0;se<re;se++)if(q(H,ee+se)!==q(N,se)){te=!1;break}if(te)return ee}return-1}function F(H,N,$,J){$=Number($)||0;var Q=H.length-$;J?(J=Number(J))>Q&&(J=Q):J=Q;var ee=N.length;J>ee/2&&(J=ee/2);for(var W=0;W<J;++W){var ne=parseInt(N.substr(2*W,2),16);if(Y(ne))return W;H[$+W]=ne}return W}function E(H,N,$,J){return K(V(N,H.length-$),H,$,J)}function T(H,N,$,J){return K((function(Q){for(var ee=[],W=0;W<Q.length;++W)ee.push(255&Q.charCodeAt(W));return ee})(N),H,$,J)}function I(H,N,$,J){return T(H,N,$,J)}function M(H,N,$,J){return K(j(N),H,$,J)}function P(H,N,$,J){return K((function(Q,ee){for(var W,ne,re,q=[],X=0;X<Q.length&&!((ee-=2)<0);++X)W=Q.charCodeAt(X),ne=W>>8,re=W%256,q.push(re),q.push(ne);return q})(N,H.length-$),H,$,J)}function O(H,N,$){return N===0&&$===H.length?s.fromByteArray(H):s.fromByteArray(H.slice(N,$))}function z(H,N,$){$=Math.min(H.length,$);for(var J=[],Q=N;Q<$;){var ee,W,ne,re,q=H[Q],X=null,te=q>239?4:q>223?3:q>191?2:1;if(Q+te<=$)switch(te){case 1:q<128&&(X=q);break;case 2:(192&(ee=H[Q+1]))==128&&(re=(31&q)<<6|63&ee)>127&&(X=re);break;case 3:ee=H[Q+1],W=H[Q+2],(192&ee)==128&&(192&W)==128&&(re=(15&q)<<12|(63&ee)<<6|63&W)>2047&&(re<55296||re>57343)&&(X=re);break;case 4:ee=H[Q+1],W=H[Q+2],ne=H[Q+3],(192&ee)==128&&(192&W)==128&&(192&ne)==128&&(re=(15&q)<<18|(63&ee)<<12|(63&W)<<6|63&ne)>65535&&re<1114112&&(X=re)}X===null?(X=65533,te=1):X>65535&&(X-=65536,J.push(X>>>10&1023|55296),X=56320|1023&X),J.push(X),Q+=te}return(function(se){var oe=se.length;if(oe<=4096)return String.fromCharCode.apply(String,se);for(var ie="",ae=0;ae<oe;)ie+=String.fromCharCode.apply(String,se.slice(ae,ae+=4096));return ie})(J)}i.kMaxLength=2147483647,u.TYPED_ARRAY_SUPPORT=(function(){try{var H=new Uint8Array(1);return H.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},H.foo()===42}catch{return!1}})(),u.TYPED_ARRAY_SUPPORT||typeof console>"u"||typeof console.error!="function"||console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support."),Object.defineProperty(u.prototype,"parent",{enumerable:!0,get:function(){if(u.isBuffer(this))return this.buffer}}),Object.defineProperty(u.prototype,"offset",{enumerable:!0,get:function(){if(u.isBuffer(this))return this.byteOffset}}),typeof Symbol<"u"&&Symbol.species!=null&&u[Symbol.species]===u&&Object.defineProperty(u,Symbol.species,{value:null,configurable:!0,enumerable:!1,writable:!1}),u.poolSize=8192,u.from=function(H,N,$){return c(H,N,$)},u.prototype.__proto__=Uint8Array.prototype,u.__proto__=Uint8Array,u.alloc=function(H,N,$){return(function(J,Q,ee){return f(J),J<=0?l(J):Q!==void 0?typeof ee=="string"?l(J).fill(Q,ee):l(J).fill(Q):l(J)})(H,N,$)},u.allocUnsafe=function(H){return d(H)},u.allocUnsafeSlow=function(H){return d(H)},u.isBuffer=function(H){return H!=null&&H._isBuffer===!0&&H!==u.prototype},u.compare=function(H,N){if(G(H,Uint8Array)&&(H=u.from(H,H.offset,H.byteLength)),G(N,Uint8Array)&&(N=u.from(N,N.offset,N.byteLength)),!u.isBuffer(H)||!u.isBuffer(N))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(H===N)return 0;for(var $=H.length,J=N.length,Q=0,ee=Math.min($,J);Q<ee;++Q)if(H[Q]!==N[Q]){$=H[Q],J=N[Q];break}return $<J?-1:J<$?1:0},u.isEncoding=function(H){switch(String(H).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},u.concat=function(H,N){if(!Array.isArray(H))throw new TypeError('"list" argument must be an Array of Buffers');if(H.length===0)return u.alloc(0);var $;if(N===void 0)for(N=0,$=0;$<H.length;++$)N+=H[$].length;var J=u.allocUnsafe(N),Q=0;for($=0;$<H.length;++$){var ee=H[$];if(G(ee,Uint8Array)&&(ee=u.from(ee)),!u.isBuffer(ee))throw new TypeError('"list" argument must be an Array of Buffers');ee.copy(J,Q),Q+=ee.length}return J},u.byteLength=m,u.prototype._isBuffer=!0,u.prototype.swap16=function(){var H=this.length;if(H%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var N=0;N<H;N+=2)y(this,N,N+1);return this},u.prototype.swap32=function(){var H=this.length;if(H%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var N=0;N<H;N+=4)y(this,N,N+3),y(this,N+1,N+2);return this},u.prototype.swap64=function(){var H=this.length;if(H%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var N=0;N<H;N+=8)y(this,N,N+7),y(this,N+1,N+6),y(this,N+2,N+5),y(this,N+3,N+4);return this},u.prototype.toString=function(){var H=this.length;return H===0?"":arguments.length===0?z(this,0,H):p.apply(this,arguments)},u.prototype.toLocaleString=u.prototype.toString,u.prototype.equals=function(H){if(!u.isBuffer(H))throw new TypeError("Argument must be a Buffer");return this===H||u.compare(this,H)===0},u.prototype.inspect=function(){var H="",N=i.INSPECT_MAX_BYTES;return H=this.toString("hex",0,N).replace(/(.{2})/g,"$1 ").trim(),this.length>N&&(H+=" ... "),"<Buffer "+H+">"},u.prototype.compare=function(H,N,$,J,Q){if(G(H,Uint8Array)&&(H=u.from(H,H.offset,H.byteLength)),!u.isBuffer(H))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof H);if(N===void 0&&(N=0),$===void 0&&($=H?H.length:0),J===void 0&&(J=0),Q===void 0&&(Q=this.length),N<0||$>H.length||J<0||Q>this.length)throw new RangeError("out of range index");if(J>=Q&&N>=$)return 0;if(J>=Q)return-1;if(N>=$)return 1;if(this===H)return 0;for(var ee=(Q>>>=0)-(J>>>=0),W=($>>>=0)-(N>>>=0),ne=Math.min(ee,W),re=this.slice(J,Q),q=H.slice(N,$),X=0;X<ne;++X)if(re[X]!==q[X]){ee=re[X],W=q[X];break}return ee<W?-1:W<ee?1:0},u.prototype.includes=function(H,N,$){return this.indexOf(H,N,$)!==-1},u.prototype.indexOf=function(H,N,$){return b(this,H,N,$,!0)},u.prototype.lastIndexOf=function(H,N,$){return b(this,H,N,$,!1)},u.prototype.write=function(H,N,$,J){if(N===void 0)J="utf8",$=this.length,N=0;else if($===void 0&&typeof N=="string")J=N,$=this.length,N=0;else{if(!isFinite(N))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");N>>>=0,isFinite($)?($>>>=0,J===void 0&&(J="utf8")):(J=$,$=void 0)}var Q=this.length-N;if(($===void 0||$>Q)&&($=Q),H.length>0&&($<0||N<0)||N>this.length)throw new RangeError("Attempt to write outside buffer bounds");J||(J="utf8");for(var ee=!1;;)switch(J){case"hex":return F(this,H,N,$);case"utf8":case"utf-8":return E(this,H,N,$);case"ascii":return T(this,H,N,$);case"latin1":case"binary":return I(this,H,N,$);case"base64":return M(this,H,N,$);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return P(this,H,N,$);default:if(ee)throw new TypeError("Unknown encoding: "+J);J=(""+J).toLowerCase(),ee=!0}},u.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function L(H,N,$){var J="";$=Math.min(H.length,$);for(var Q=N;Q<$;++Q)J+=String.fromCharCode(127&H[Q]);return J}function _(H,N,$){var J="";$=Math.min(H.length,$);for(var Q=N;Q<$;++Q)J+=String.fromCharCode(H[Q]);return J}function R(H,N,$){var J=H.length;(!N||N<0)&&(N=0),(!$||$<0||$>J)&&($=J);for(var Q="",ee=N;ee<$;++ee)Q+=B(H[ee]);return Q}function k(H,N,$){for(var J=H.slice(N,$),Q="",ee=0;ee<J.length;ee+=2)Q+=String.fromCharCode(J[ee]+256*J[ee+1]);return Q}function S(H,N,$){if(H%1!=0||H<0)throw new RangeError("offset is not uint");if(H+N>$)throw new RangeError("Trying to access beyond buffer length")}function w(H,N,$,J,Q,ee){if(!u.isBuffer(H))throw new TypeError('"buffer" argument must be a Buffer instance');if(N>Q||N<ee)throw new RangeError('"value" argument is out of bounds');if($+J>H.length)throw new RangeError("Index out of range")}function C(H,N,$,J,Q,ee){if($+J>H.length)throw new RangeError("Index out of range");if($<0)throw new RangeError("Index out of range")}function x(H,N,$,J,Q){return N=+N,$>>>=0,Q||C(H,0,$,4),a.write(H,N,$,J,23,4),$+4}function A(H,N,$,J,Q){return N=+N,$>>>=0,Q||C(H,0,$,8),a.write(H,N,$,J,52,8),$+8}u.prototype.slice=function(H,N){var $=this.length;(H=~~H)<0?(H+=$)<0&&(H=0):H>$&&(H=$),(N=N===void 0?$:~~N)<0?(N+=$)<0&&(N=0):N>$&&(N=$),N<H&&(N=H);var J=this.subarray(H,N);return J.__proto__=u.prototype,J},u.prototype.readUIntLE=function(H,N,$){H>>>=0,N>>>=0,$||S(H,N,this.length);for(var J=this[H],Q=1,ee=0;++ee<N&&(Q*=256);)J+=this[H+ee]*Q;return J},u.prototype.readUIntBE=function(H,N,$){H>>>=0,N>>>=0,$||S(H,N,this.length);for(var J=this[H+--N],Q=1;N>0&&(Q*=256);)J+=this[H+--N]*Q;return J},u.prototype.readUInt8=function(H,N){return H>>>=0,N||S(H,1,this.length),this[H]},u.prototype.readUInt16LE=function(H,N){return H>>>=0,N||S(H,2,this.length),this[H]|this[H+1]<<8},u.prototype.readUInt16BE=function(H,N){return H>>>=0,N||S(H,2,this.length),this[H]<<8|this[H+1]},u.prototype.readUInt32LE=function(H,N){return H>>>=0,N||S(H,4,this.length),(this[H]|this[H+1]<<8|this[H+2]<<16)+16777216*this[H+3]},u.prototype.readUInt32BE=function(H,N){return H>>>=0,N||S(H,4,this.length),16777216*this[H]+(this[H+1]<<16|this[H+2]<<8|this[H+3])},u.prototype.readIntLE=function(H,N,$){H>>>=0,N>>>=0,$||S(H,N,this.length);for(var J=this[H],Q=1,ee=0;++ee<N&&(Q*=256);)J+=this[H+ee]*Q;return J>=(Q*=128)&&(J-=Math.pow(2,8*N)),J},u.prototype.readIntBE=function(H,N,$){H>>>=0,N>>>=0,$||S(H,N,this.length);for(var J=N,Q=1,ee=this[H+--J];J>0&&(Q*=256);)ee+=this[H+--J]*Q;return ee>=(Q*=128)&&(ee-=Math.pow(2,8*N)),ee},u.prototype.readInt8=function(H,N){return H>>>=0,N||S(H,1,this.length),128&this[H]?-1*(255-this[H]+1):this[H]},u.prototype.readInt16LE=function(H,N){H>>>=0,N||S(H,2,this.length);var $=this[H]|this[H+1]<<8;return 32768&$?4294901760|$:$},u.prototype.readInt16BE=function(H,N){H>>>=0,N||S(H,2,this.length);var $=this[H+1]|this[H]<<8;return 32768&$?4294901760|$:$},u.prototype.readInt32LE=function(H,N){return H>>>=0,N||S(H,4,this.length),this[H]|this[H+1]<<8|this[H+2]<<16|this[H+3]<<24},u.prototype.readInt32BE=function(H,N){return H>>>=0,N||S(H,4,this.length),this[H]<<24|this[H+1]<<16|this[H+2]<<8|this[H+3]},u.prototype.readFloatLE=function(H,N){return H>>>=0,N||S(H,4,this.length),a.read(this,H,!0,23,4)},u.prototype.readFloatBE=function(H,N){return H>>>=0,N||S(H,4,this.length),a.read(this,H,!1,23,4)},u.prototype.readDoubleLE=function(H,N){return H>>>=0,N||S(H,8,this.length),a.read(this,H,!0,52,8)},u.prototype.readDoubleBE=function(H,N){return H>>>=0,N||S(H,8,this.length),a.read(this,H,!1,52,8)},u.prototype.writeUIntLE=function(H,N,$,J){H=+H,N>>>=0,$>>>=0,J||w(this,H,N,$,Math.pow(2,8*$)-1,0);var Q=1,ee=0;for(this[N]=255&H;++ee<$&&(Q*=256);)this[N+ee]=H/Q&255;return N+$},u.prototype.writeUIntBE=function(H,N,$,J){H=+H,N>>>=0,$>>>=0,J||w(this,H,N,$,Math.pow(2,8*$)-1,0);var Q=$-1,ee=1;for(this[N+Q]=255&H;--Q>=0&&(ee*=256);)this[N+Q]=H/ee&255;return N+$},u.prototype.writeUInt8=function(H,N,$){return H=+H,N>>>=0,$||w(this,H,N,1,255,0),this[N]=255&H,N+1},u.prototype.writeUInt16LE=function(H,N,$){return H=+H,N>>>=0,$||w(this,H,N,2,65535,0),this[N]=255&H,this[N+1]=H>>>8,N+2},u.prototype.writeUInt16BE=function(H,N,$){return H=+H,N>>>=0,$||w(this,H,N,2,65535,0),this[N]=H>>>8,this[N+1]=255&H,N+2},u.prototype.writeUInt32LE=function(H,N,$){return H=+H,N>>>=0,$||w(this,H,N,4,4294967295,0),this[N+3]=H>>>24,this[N+2]=H>>>16,this[N+1]=H>>>8,this[N]=255&H,N+4},u.prototype.writeUInt32BE=function(H,N,$){return H=+H,N>>>=0,$||w(this,H,N,4,4294967295,0),this[N]=H>>>24,this[N+1]=H>>>16,this[N+2]=H>>>8,this[N+3]=255&H,N+4},u.prototype.writeIntLE=function(H,N,$,J){if(H=+H,N>>>=0,!J){var Q=Math.pow(2,8*$-1);w(this,H,N,$,Q-1,-Q)}var ee=0,W=1,ne=0;for(this[N]=255&H;++ee<$&&(W*=256);)H<0&&ne===0&&this[N+ee-1]!==0&&(ne=1),this[N+ee]=(H/W>>0)-ne&255;return N+$},u.prototype.writeIntBE=function(H,N,$,J){if(H=+H,N>>>=0,!J){var Q=Math.pow(2,8*$-1);w(this,H,N,$,Q-1,-Q)}var ee=$-1,W=1,ne=0;for(this[N+ee]=255&H;--ee>=0&&(W*=256);)H<0&&ne===0&&this[N+ee+1]!==0&&(ne=1),this[N+ee]=(H/W>>0)-ne&255;return N+$},u.prototype.writeInt8=function(H,N,$){return H=+H,N>>>=0,$||w(this,H,N,1,127,-128),H<0&&(H=255+H+1),this[N]=255&H,N+1},u.prototype.writeInt16LE=function(H,N,$){return H=+H,N>>>=0,$||w(this,H,N,2,32767,-32768),this[N]=255&H,this[N+1]=H>>>8,N+2},u.prototype.writeInt16BE=function(H,N,$){return H=+H,N>>>=0,$||w(this,H,N,2,32767,-32768),this[N]=H>>>8,this[N+1]=255&H,N+2},u.prototype.writeInt32LE=function(H,N,$){return H=+H,N>>>=0,$||w(this,H,N,4,2147483647,-2147483648),this[N]=255&H,this[N+1]=H>>>8,this[N+2]=H>>>16,this[N+3]=H>>>24,N+4},u.prototype.writeInt32BE=function(H,N,$){return H=+H,N>>>=0,$||w(this,H,N,4,2147483647,-2147483648),H<0&&(H=4294967295+H+1),this[N]=H>>>24,this[N+1]=H>>>16,this[N+2]=H>>>8,this[N+3]=255&H,N+4},u.prototype.writeFloatLE=function(H,N,$){return x(this,H,N,!0,$)},u.prototype.writeFloatBE=function(H,N,$){return x(this,H,N,!1,$)},u.prototype.writeDoubleLE=function(H,N,$){return A(this,H,N,!0,$)},u.prototype.writeDoubleBE=function(H,N,$){return A(this,H,N,!1,$)},u.prototype.copy=function(H,N,$,J){if(!u.isBuffer(H))throw new TypeError("argument should be a Buffer");if($||($=0),J||J===0||(J=this.length),N>=H.length&&(N=H.length),N||(N=0),J>0&&J<$&&(J=$),J===$||H.length===0||this.length===0)return 0;if(N<0)throw new RangeError("targetStart out of bounds");if($<0||$>=this.length)throw new RangeError("Index out of range");if(J<0)throw new RangeError("sourceEnd out of bounds");J>this.length&&(J=this.length),H.length-N<J-$&&(J=H.length-N+$);var Q=J-$;if(this===H&&typeof Uint8Array.prototype.copyWithin=="function")this.copyWithin(N,$,J);else if(this===H&&$<N&&N<J)for(var ee=Q-1;ee>=0;--ee)H[ee+N]=this[ee+$];else Uint8Array.prototype.set.call(H,this.subarray($,J),N);return Q},u.prototype.fill=function(H,N,$,J){if(typeof H=="string"){if(typeof N=="string"?(J=N,N=0,$=this.length):typeof $=="string"&&(J=$,$=this.length),J!==void 0&&typeof J!="string")throw new TypeError("encoding must be a string");if(typeof J=="string"&&!u.isEncoding(J))throw new TypeError("Unknown encoding: "+J);if(H.length===1){var Q=H.charCodeAt(0);(J==="utf8"&&Q<128||J==="latin1")&&(H=Q)}}else typeof H=="number"&&(H&=255);if(N<0||this.length<N||this.length<$)throw new RangeError("Out of range index");if($<=N)return this;var ee;if(N>>>=0,$=$===void 0?this.length:$>>>0,H||(H=0),typeof H=="number")for(ee=N;ee<$;++ee)this[ee]=H;else{var W=u.isBuffer(H)?H:u.from(H,J),ne=W.length;if(ne===0)throw new TypeError('The value "'+H+'" is invalid for argument "value"');for(ee=0;ee<$-N;++ee)this[ee+N]=W[ee%ne]}return this};var D=/[^+/0-9A-Za-z-_]/g;function B(H){return H<16?"0"+H.toString(16):H.toString(16)}function V(H,N){var $;N=N||1/0;for(var J=H.length,Q=null,ee=[],W=0;W<J;++W){if(($=H.charCodeAt(W))>55295&&$<57344){if(!Q){if($>56319){(N-=3)>-1&&ee.push(239,191,189);continue}if(W+1===J){(N-=3)>-1&&ee.push(239,191,189);continue}Q=$;continue}if($<56320){(N-=3)>-1&&ee.push(239,191,189),Q=$;continue}$=65536+(Q-55296<<10|$-56320)}else Q&&(N-=3)>-1&&ee.push(239,191,189);if(Q=null,$<128){if((N-=1)<0)break;ee.push($)}else if($<2048){if((N-=2)<0)break;ee.push($>>6|192,63&$|128)}else if($<65536){if((N-=3)<0)break;ee.push($>>12|224,$>>6&63|128,63&$|128)}else{if(!($<1114112))throw new Error("Invalid code point");if((N-=4)<0)break;ee.push($>>18|240,$>>12&63|128,$>>6&63|128,63&$|128)}}return ee}function j(H){return s.toByteArray((function(N){if((N=(N=N.split("=")[0]).trim().replace(D,"")).length<2)return"";for(;N.length%4!=0;)N+="=";return N})(H))}function K(H,N,$,J){for(var Q=0;Q<J&&!(Q+$>=N.length||Q>=H.length);++Q)N[Q+$]=H[Q];return Q}function G(H,N){return H instanceof N||H!=null&&H.constructor!=null&&H.constructor.name!=null&&H.constructor.name===N.name}function Y(H){return H!=H}}).call(this)}).call(this,r("buffer").Buffer)},{"base64-js":185,buffer:220,ieee754:439}],221:[function(r,n,i){var o=r("safe-buffer").Buffer,s=r("stream").Transform,a=r("string_decoder").StringDecoder;function l(u){s.call(this),this.hashMode=typeof u=="string",this.hashMode?this[u]=this._finalOrDigest:this.final=this._finalOrDigest,this._final&&(this.__final=this._final,this._final=null),this._decoder=null,this._encoding=null}r("inherits")(l,s),l.prototype.update=function(u,c,f){typeof u=="string"&&(u=o.from(u,c));var d=this._update(u);return this.hashMode?this:(f&&(d=this._toString(d,f)),d)},l.prototype.setAutoPadding=function(){},l.prototype.getAuthTag=function(){throw new Error("trying to get auth tag in unsupported state")},l.prototype.setAuthTag=function(){throw new Error("trying to set auth tag in unsupported state")},l.prototype.setAAD=function(){throw new Error("trying to set aad in unsupported state")},l.prototype._transform=function(u,c,f){var d;try{this.hashMode?this._update(u):this.push(this._update(u))}catch(h){d=h}finally{f(d)}},l.prototype._flush=function(u){var c;try{this.push(this.__final())}catch(f){c=f}u(c)},l.prototype._finalOrDigest=function(u){var c=this.__final()||o.alloc(0);return u&&(c=this._toString(c,u,!0)),c},l.prototype._toString=function(u,c,f){if(this._decoder||(this._decoder=new a(c),this._encoding=c),this._encoding!==c)throw new Error("can't switch encodings");var d=this._decoder.write(u);return f&&(d+=this._decoder.end()),d},n.exports=l},{inherits:440,"safe-buffer":494,stream:505,string_decoder:218}],222:[function(r,n,i){var o=r("../internals/is-callable"),s=r("../internals/try-to-string"),a=TypeError;n.exports=function(l){if(o(l))return l;throw new a(s(l)+" is not a function")}},{"../internals/is-callable":285,"../internals/try-to-string":349}],223:[function(r,n,i){var o=r("../internals/is-constructor"),s=r("../internals/try-to-string"),a=TypeError;n.exports=function(l){if(o(l))return l;throw new a(s(l)+" is not a constructor")}},{"../internals/is-constructor":286,"../internals/try-to-string":349}],224:[function(r,n,i){var o=r("../internals/is-callable"),s=String,a=TypeError;n.exports=function(l){if(typeof l=="object"||o(l))return l;throw new a("Can't set "+s(l)+" as a prototype")}},{"../internals/is-callable":285}],225:[function(r,n,i){var o=r("../internals/well-known-symbol"),s=r("../internals/object-create"),a=r("../internals/object-define-property").f,l=o("unscopables"),u=Array.prototype;u[l]===void 0&&a(u,l,{configurable:!0,value:s(null)}),n.exports=function(c){u[l][c]=!0}},{"../internals/object-create":306,"../internals/object-define-property":308,"../internals/well-known-symbol":357}],226:[function(r,n,i){var o=r("../internals/object-is-prototype-of"),s=TypeError;n.exports=function(a,l){if(o(l,a))return a;throw new s("Incorrect invocation")}},{"../internals/object-is-prototype-of":314}],227:[function(r,n,i){var o=r("../internals/is-object"),s=String,a=TypeError;n.exports=function(l){if(o(l))return l;throw new a(s(l)+" is not an object")}},{"../internals/is-object":289}],228:[function(r,n,i){var o=r("../internals/to-indexed-object"),s=r("../internals/to-absolute-index"),a=r("../internals/length-of-array-like"),l=function(u){return function(c,f,d){var h,g=o(c),m=a(g),p=s(d,m);if(u&&f!=f){for(;m>p;)if((h=g[p++])!=h)return!0}else for(;m>p;p++)if((u||p in g)&&g[p]===f)return u||p||0;return!u&&-1}};n.exports={includes:l(!0),indexOf:l(!1)}},{"../internals/length-of-array-like":299,"../internals/to-absolute-index":340,"../internals/to-indexed-object":341}],229:[function(r,n,i){var o=r("../internals/function-bind-context"),s=r("../internals/function-uncurry-this"),a=r("../internals/indexed-object"),l=r("../internals/to-object"),u=r("../internals/length-of-array-like"),c=r("../internals/array-species-create"),f=s([].push),d=function(h){var g=h===1,m=h===2,p=h===3,y=h===4,b=h===6,v=h===7,F=h===5||b;return function(E,T,I,M){for(var P,O,z=l(E),L=a(z),_=o(T,I),R=u(L),k=0,S=M||c,w=g?S(E,R):m||v?S(E,0):void 0;R>k;k++)if((F||k in L)&&(O=_(P=L[k],k,z),h))if(g)w[k]=O;else if(O)switch(h){case 3:return!0;case 5:return P;case 6:return k;case 2:f(w,P)}else switch(h){case 4:return!1;case 7:f(w,P)}return b?-1:p||y?y:w}};n.exports={forEach:d(0),map:d(1),filter:d(2),some:d(3),every:d(4),find:d(5),findIndex:d(6),filterReject:d(7)}},{"../internals/array-species-create":233,"../internals/function-bind-context":262,"../internals/function-uncurry-this":268,"../internals/indexed-object":280,"../internals/length-of-array-like":299,"../internals/to-object":344}],230:[function(r,n,i){var o=r("../internals/to-absolute-index"),s=r("../internals/length-of-array-like"),a=r("../internals/create-property"),l=Array,u=Math.max;n.exports=function(c,f,d){for(var h=s(c),g=o(f,h),m=o(d===void 0?h:d,h),p=l(u(m-g,0)),y=0;g<m;g++,y++)a(p,y,c[g]);return p.length=y,p}},{"../internals/create-property":243,"../internals/length-of-array-like":299,"../internals/to-absolute-index":340}],231:[function(r,n,i){var o=r("../internals/function-uncurry-this");n.exports=o([].slice)},{"../internals/function-uncurry-this":268}],232:[function(r,n,i){var o=r("../internals/is-array"),s=r("../internals/is-constructor"),a=r("../internals/is-object"),l=r("../internals/well-known-symbol")("species"),u=Array;n.exports=function(c){var f;return o(c)&&(f=c.constructor,(s(f)&&(f===u||o(f.prototype))||a(f)&&(f=f[l])===null)&&(f=void 0)),f===void 0?u:f}},{"../internals/is-array":284,"../internals/is-constructor":286,"../internals/is-object":289,"../internals/well-known-symbol":357}],233:[function(r,n,i){var o=r("../internals/array-species-constructor");n.exports=function(s,a){return new(o(s))(a===0?0:a)}},{"../internals/array-species-constructor":232}],234:[function(r,n,i){var o=r("../internals/well-known-symbol")("iterator"),s=!1;try{var a=0,l={next:function(){return{done:!!a++}},return:function(){s=!0}};l[o]=function(){return this},Array.from(l,(function(){throw 2}))}catch{}n.exports=function(u,c){try{if(!c&&!s)return!1}catch{return!1}var f=!1;try{var d={};d[o]=function(){return{next:function(){return{done:f=!0}}}},u(d)}catch{}return f}},{"../internals/well-known-symbol":357}],235:[function(r,n,i){var o=r("../internals/function-uncurry-this"),s=o({}.toString),a=o("".slice);n.exports=function(l){return a(s(l),8,-1)}},{"../internals/function-uncurry-this":268}],236:[function(r,n,i){var o=r("../internals/to-string-tag-support"),s=r("../internals/is-callable"),a=r("../internals/classof-raw"),l=r("../internals/well-known-symbol")("toStringTag"),u=Object,c=a((function(){return arguments})())==="Arguments";n.exports=o?a:function(f){var d,h,g;return f===void 0?"Undefined":f===null?"Null":typeof(h=(function(m,p){try{return m[p]}catch{}})(d=u(f),l))=="string"?h:c?a(d):(g=a(d))==="Object"&&s(d.callee)?"Arguments":g}},{"../internals/classof-raw":235,"../internals/is-callable":285,"../internals/to-string-tag-support":347,"../internals/well-known-symbol":357}],237:[function(r,n,i){var o=r("../internals/has-own-property"),s=r("../internals/own-keys"),a=r("../internals/object-get-own-property-descriptor"),l=r("../internals/object-define-property");n.exports=function(u,c,f){for(var d=s(c),h=l.f,g=a.f,m=0;m<d.length;m++){var p=d[m];o(u,p)||f&&o(f,p)||h(u,p,g(c,p))}}},{"../internals/has-own-property":275,"../internals/object-define-property":308,"../internals/object-get-own-property-descriptor":309,"../internals/own-keys":321}],238:[function(r,n,i){var o=r("../internals/well-known-symbol")("match");n.exports=function(s){var a=/./;try{"/./"[s](a)}catch{try{return a[o]=!1,"/./"[s](a)}catch{}}return!1}},{"../internals/well-known-symbol":357}],239:[function(r,n,i){var o=r("../internals/fails");n.exports=!o((function(){function s(){}return s.prototype.constructor=null,Object.getPrototypeOf(new s)!==s.prototype}))},{"../internals/fails":260}],240:[function(r,n,i){n.exports=function(o,s){return{value:o,done:s}}},{}],241:[function(r,n,i){var o=r("../internals/descriptors"),s=r("../internals/object-define-property"),a=r("../internals/create-property-descriptor");n.exports=o?function(l,u,c){return s.f(l,u,a(1,c))}:function(l,u,c){return l[u]=c,l}},{"../internals/create-property-descriptor":242,"../internals/descriptors":247,"../internals/object-define-property":308}],242:[function(r,n,i){n.exports=function(o,s){return{enumerable:!(1&o),configurable:!(2&o),writable:!(4&o),value:s}}},{}],243:[function(r,n,i){var o=r("../internals/to-property-key"),s=r("../internals/object-define-property"),a=r("../internals/create-property-descriptor");n.exports=function(l,u,c){var f=o(u);f in l?s.f(l,f,a(0,c)):l[f]=c}},{"../internals/create-property-descriptor":242,"../internals/object-define-property":308,"../internals/to-property-key":346}],244:[function(r,n,i){var o=r("../internals/make-built-in"),s=r("../internals/object-define-property");n.exports=function(a,l,u){return u.get&&o(u.get,l,{getter:!0}),u.set&&o(u.set,l,{setter:!0}),s.f(a,l,u)}},{"../internals/make-built-in":300,"../internals/object-define-property":308}],245:[function(r,n,i){var o=r("../internals/is-callable"),s=r("../internals/object-define-property"),a=r("../internals/make-built-in"),l=r("../internals/define-global-property");n.exports=function(u,c,f,d){d||(d={});var h=d.enumerable,g=d.name!==void 0?d.name:c;if(o(f)&&a(f,g,d),d.global)h?u[c]=f:l(c,f);else{try{d.unsafe?u[c]&&(h=!0):delete u[c]}catch{}h?u[c]=f:s.f(u,c,{value:f,enumerable:!1,configurable:!d.nonConfigurable,writable:!d.nonWritable})}return u}},{"../internals/define-global-property":246,"../internals/is-callable":285,"../internals/make-built-in":300,"../internals/object-define-property":308}],246:[function(r,n,i){var o=r("../internals/global"),s=Object.defineProperty;n.exports=function(a,l){try{s(o,a,{value:l,configurable:!0,writable:!0})}catch{o[a]=l}return l}},{"../internals/global":274}],247:[function(r,n,i){var o=r("../internals/fails");n.exports=!o((function(){return Object.defineProperty({},1,{get:function(){return 7}})[1]!==7}))},{"../internals/fails":260}],248:[function(r,n,i){var o=typeof document=="object"&&document.all,s=o===void 0&&o!==void 0;n.exports={all:o,IS_HTMLDDA:s}},{}],249:[function(r,n,i){var o=r("../internals/global"),s=r("../internals/is-object"),a=o.document,l=s(a)&&s(a.createElement);n.exports=function(u){return l?a.createElement(u):{}}},{"../internals/global":274,"../internals/is-object":289}],250:[function(r,n,i){var o=r("../internals/engine-is-deno"),s=r("../internals/engine-is-node");n.exports=!o&&!s&&typeof window=="object"&&typeof document=="object"},{"../internals/engine-is-deno":251,"../internals/engine-is-node":254}],251:[function(r,n,i){n.exports=typeof Deno=="object"&&Deno&&typeof Deno.version=="object"},{}],252:[function(r,n,i){var o=r("../internals/engine-user-agent");n.exports=/ipad|iphone|ipod/i.test(o)&&typeof Pebble<"u"},{"../internals/engine-user-agent":256}],253:[function(r,n,i){var o=r("../internals/engine-user-agent");n.exports=/(?:ipad|iphone|ipod).*applewebkit/i.test(o)},{"../internals/engine-user-agent":256}],254:[function(r,n,i){var o=r("../internals/global"),s=r("../internals/classof-raw");n.exports=s(o.process)==="process"},{"../internals/classof-raw":235,"../internals/global":274}],255:[function(r,n,i){var o=r("../internals/engine-user-agent");n.exports=/web0s(?!.*chrome)/i.test(o)},{"../internals/engine-user-agent":256}],256:[function(r,n,i){n.exports=typeof navigator<"u"&&String(navigator.userAgent)||""},{}],257:[function(r,n,i){var o,s,a=r("../internals/global"),l=r("../internals/engine-user-agent"),u=a.process,c=a.Deno,f=u&&u.versions||c&&c.version,d=f&&f.v8;d&&(s=(o=d.split("."))[0]>0&&o[0]<4?1:+(o[0]+o[1])),!s&&l&&(!(o=l.match(/Edge\/(\d+)/))||o[1]>=74)&&(o=l.match(/Chrome\/(\d+)/))&&(s=+o[1]),n.exports=s},{"../internals/engine-user-agent":256,"../internals/global":274}],258:[function(r,n,i){n.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]},{}],259:[function(r,n,i){var o=r("../internals/global"),s=r("../internals/object-get-own-property-descriptor").f,a=r("../internals/create-non-enumerable-property"),l=r("../internals/define-built-in"),u=r("../internals/define-global-property"),c=r("../internals/copy-constructor-properties"),f=r("../internals/is-forced");n.exports=function(d,h){var g,m,p,y,b,v=d.target,F=d.global,E=d.stat;if(g=F?o:E?o[v]||u(v,{}):(o[v]||{}).prototype)for(m in h){if(y=h[m],p=d.dontCallGetSet?(b=s(g,m))&&b.value:g[m],!f(F?m:v+(E?".":"#")+m,d.forced)&&p!==void 0){if(typeof y==typeof p)continue;c(y,p)}(d.sham||p&&p.sham)&&a(y,"sham",!0),l(g,m,y,d)}}},{"../internals/copy-constructor-properties":237,"../internals/create-non-enumerable-property":241,"../internals/define-built-in":245,"../internals/define-global-property":246,"../internals/global":274,"../internals/is-forced":287,"../internals/object-get-own-property-descriptor":309}],260:[function(r,n,i){n.exports=function(o){try{return!!o()}catch{return!0}}},{}],261:[function(r,n,i){var o=r("../internals/function-bind-native"),s=Function.prototype,a=s.apply,l=s.call;n.exports=typeof Reflect=="object"&&Reflect.apply||(o?l.bind(a):function(){return l.apply(a,arguments)})},{"../internals/function-bind-native":263}],262:[function(r,n,i){var o=r("../internals/function-uncurry-this-clause"),s=r("../internals/a-callable"),a=r("../internals/function-bind-native"),l=o(o.bind);n.exports=function(u,c){return s(u),c===void 0?u:a?l(u,c):function(){return u.apply(c,arguments)}}},{"../internals/a-callable":222,"../internals/function-bind-native":263,"../internals/function-uncurry-this-clause":267}],263:[function(r,n,i){var o=r("../internals/fails");n.exports=!o((function(){var s=function(){}.bind();return typeof s!="function"||s.hasOwnProperty("prototype")}))},{"../internals/fails":260}],264:[function(r,n,i){var o=r("../internals/function-bind-native"),s=Function.prototype.call;n.exports=o?s.bind(s):function(){return s.apply(s,arguments)}},{"../internals/function-bind-native":263}],265:[function(r,n,i){var o=r("../internals/descriptors"),s=r("../internals/has-own-property"),a=Function.prototype,l=o&&Object.getOwnPropertyDescriptor,u=s(a,"name"),c=u&&function(){}.name==="something",f=u&&(!o||o&&l(a,"name").configurable);n.exports={EXISTS:u,PROPER:c,CONFIGURABLE:f}},{"../internals/descriptors":247,"../internals/has-own-property":275}],266:[function(r,n,i){var o=r("../internals/function-uncurry-this"),s=r("../internals/a-callable");n.exports=function(a,l,u){try{return o(s(Object.getOwnPropertyDescriptor(a,l)[u]))}catch{}}},{"../internals/a-callable":222,"../internals/function-uncurry-this":268}],267:[function(r,n,i){var o=r("../internals/classof-raw"),s=r("../internals/function-uncurry-this");n.exports=function(a){if(o(a)==="Function")return s(a)}},{"../internals/classof-raw":235,"../internals/function-uncurry-this":268}],268:[function(r,n,i){var o=r("../internals/function-bind-native"),s=Function.prototype,a=s.call,l=o&&s.bind.bind(a,a);n.exports=o?l:function(u){return function(){return a.apply(u,arguments)}}},{"../internals/function-bind-native":263}],269:[function(r,n,i){var o=r("../internals/global"),s=r("../internals/is-callable"),a=function(l){return s(l)?l:void 0};n.exports=function(l,u){return arguments.length<2?a(o[l]):o[l]&&o[l][u]}},{"../internals/global":274,"../internals/is-callable":285}],270:[function(r,n,i){var o=r("../internals/classof"),s=r("../internals/get-method"),a=r("../internals/is-null-or-undefined"),l=r("../internals/iterators"),u=r("../internals/well-known-symbol")("iterator");n.exports=function(c){if(!a(c))return s(c,u)||s(c,"@@iterator")||l[o(c)]}},{"../internals/classof":236,"../internals/get-method":273,"../internals/is-null-or-undefined":288,"../internals/iterators":298,"../internals/well-known-symbol":357}],271:[function(r,n,i){var o=r("../internals/function-call"),s=r("../internals/a-callable"),a=r("../internals/an-object"),l=r("../internals/try-to-string"),u=r("../internals/get-iterator-method"),c=TypeError;n.exports=function(f,d){var h=arguments.length<2?u(f):d;if(s(h))return a(o(h,f));throw new c(l(f)+" is not iterable")}},{"../internals/a-callable":222,"../internals/an-object":227,"../internals/function-call":264,"../internals/get-iterator-method":270,"../internals/try-to-string":349}],272:[function(r,n,i){var o=r("../internals/function-uncurry-this"),s=r("../internals/is-array"),a=r("../internals/is-callable"),l=r("../internals/classof-raw"),u=r("../internals/to-string"),c=o([].push);n.exports=function(f){if(a(f))return f;if(s(f)){for(var d=f.length,h=[],g=0;g<d;g++){var m=f[g];typeof m=="string"?c(h,m):typeof m!="number"&&l(m)!=="Number"&&l(m)!=="String"||c(h,u(m))}var p=h.length,y=!0;return function(b,v){if(y)return y=!1,v;if(s(this))return v;for(var F=0;F<p;F++)if(h[F]===b)return v}}}},{"../internals/classof-raw":235,"../internals/function-uncurry-this":268,"../internals/is-array":284,"../internals/is-callable":285,"../internals/to-string":348}],273:[function(r,n,i){var o=r("../internals/a-callable"),s=r("../internals/is-null-or-undefined");n.exports=function(a,l){var u=a[l];return s(u)?void 0:o(u)}},{"../internals/a-callable":222,"../internals/is-null-or-undefined":288}],274:[function(r,n,i){(function(o){(function(){var s=function(a){return a&&a.Math===Math&&a};n.exports=s(typeof globalThis=="object"&&globalThis)||s(typeof window=="object"&&window)||s(typeof self=="object"&&self)||s(typeof o=="object"&&o)||(function(){return this})()||this||Function("return this")()}).call(this)}).call(this,typeof lt<"u"?lt:typeof self<"u"?self:typeof window<"u"?window:{})},{}],275:[function(r,n,i){var o=r("../internals/function-uncurry-this"),s=r("../internals/to-object"),a=o({}.hasOwnProperty);n.exports=Object.hasOwn||function(l,u){return a(s(l),u)}},{"../internals/function-uncurry-this":268,"../internals/to-object":344}],276:[function(r,n,i){n.exports={}},{}],277:[function(r,n,i){n.exports=function(o,s){try{arguments.length===1?console.error(o):console.error(o,s)}catch{}}},{}],278:[function(r,n,i){var o=r("../internals/get-built-in");n.exports=o("document","documentElement")},{"../internals/get-built-in":269}],279:[function(r,n,i){var o=r("../internals/descriptors"),s=r("../internals/fails"),a=r("../internals/document-create-element");n.exports=!o&&!s((function(){return Object.defineProperty(a("div"),"a",{get:function(){return 7}}).a!==7}))},{"../internals/descriptors":247,"../internals/document-create-element":249,"../internals/fails":260}],280:[function(r,n,i){var o=r("../internals/function-uncurry-this"),s=r("../internals/fails"),a=r("../internals/classof-raw"),l=Object,u=o("".split);n.exports=s((function(){return!l("z").propertyIsEnumerable(0)}))?function(c){return a(c)==="String"?u(c,""):l(c)}:l},{"../internals/classof-raw":235,"../internals/fails":260,"../internals/function-uncurry-this":268}],281:[function(r,n,i){var o=r("../internals/function-uncurry-this"),s=r("../internals/is-callable"),a=r("../internals/shared-store"),l=o(Function.toString);s(a.inspectSource)||(a.inspectSource=function(u){return l(u)}),n.exports=a.inspectSource},{"../internals/function-uncurry-this":268,"../internals/is-callable":285,"../internals/shared-store":333}],282:[function(r,n,i){var o,s,a,l=r("../internals/weak-map-basic-detection"),u=r("../internals/global"),c=r("../internals/is-object"),f=r("../internals/create-non-enumerable-property"),d=r("../internals/has-own-property"),h=r("../internals/shared-store"),g=r("../internals/shared-key"),m=r("../internals/hidden-keys"),p=u.TypeError,y=u.WeakMap;if(l||h.state){var b=h.state||(h.state=new y);b.get=b.get,b.has=b.has,b.set=b.set,o=function(F,E){if(b.has(F))throw new p("Object already initialized");return E.facade=F,b.set(F,E),E},s=function(F){return b.get(F)||{}},a=function(F){return b.has(F)}}else{var v=g("state");m[v]=!0,o=function(F,E){if(d(F,v))throw new p("Object already initialized");return E.facade=F,f(F,v,E),E},s=function(F){return d(F,v)?F[v]:{}},a=function(F){return d(F,v)}}n.exports={set:o,get:s,has:a,enforce:function(F){return a(F)?s(F):o(F,{})},getterFor:function(F){return function(E){var T;if(!c(E)||(T=s(E)).type!==F)throw new p("Incompatible receiver, "+F+" required");return T}}}},{"../internals/create-non-enumerable-property":241,"../internals/global":274,"../internals/has-own-property":275,"../internals/hidden-keys":276,"../internals/is-object":289,"../internals/shared-key":332,"../internals/shared-store":333,"../internals/weak-map-basic-detection":354}],283:[function(r,n,i){var o=r("../internals/well-known-symbol"),s=r("../internals/iterators"),a=o("iterator"),l=Array.prototype;n.exports=function(u){return u!==void 0&&(s.Array===u||l[a]===u)}},{"../internals/iterators":298,"../internals/well-known-symbol":357}],284:[function(r,n,i){var o=r("../internals/classof-raw");n.exports=Array.isArray||function(s){return o(s)==="Array"}},{"../internals/classof-raw":235}],285:[function(r,n,i){var o=r("../internals/document-all"),s=o.all;n.exports=o.IS_HTMLDDA?function(a){return typeof a=="function"||a===s}:function(a){return typeof a=="function"}},{"../internals/document-all":248}],286:[function(r,n,i){var o=r("../internals/function-uncurry-this"),s=r("../internals/fails"),a=r("../internals/is-callable"),l=r("../internals/classof"),u=r("../internals/get-built-in"),c=r("../internals/inspect-source"),f=function(){},d=[],h=u("Reflect","construct"),g=/^\s*(?:class|function)\b/,m=o(g.exec),p=!g.test(f),y=function(v){if(!a(v))return!1;try{return h(f,d,v),!0}catch{return!1}},b=function(v){if(!a(v))return!1;switch(l(v)){case"AsyncFunction":case"GeneratorFunction":case"AsyncGeneratorFunction":return!1}try{return p||!!m(g,c(v))}catch{return!0}};b.sham=!0,n.exports=!h||s((function(){var v;return y(y.call)||!y(Object)||!y((function(){v=!0}))||v}))?b:y},{"../internals/classof":236,"../internals/fails":260,"../internals/function-uncurry-this":268,"../internals/get-built-in":269,"../internals/inspect-source":281,"../internals/is-callable":285}],287:[function(r,n,i){var o=r("../internals/fails"),s=r("../internals/is-callable"),a=/#|\.prototype\./,l=function(h,g){var m=c[u(h)];return m===d||m!==f&&(s(g)?o(g):!!g)},u=l.normalize=function(h){return String(h).replace(a,".").toLowerCase()},c=l.data={},f=l.NATIVE="N",d=l.POLYFILL="P";n.exports=l},{"../internals/fails":260,"../internals/is-callable":285}],288:[function(r,n,i){n.exports=function(o){return o==null}},{}],289:[function(r,n,i){var o=r("../internals/is-callable"),s=r("../internals/document-all"),a=s.all;n.exports=s.IS_HTMLDDA?function(l){return typeof l=="object"?l!==null:o(l)||l===a}:function(l){return typeof l=="object"?l!==null:o(l)}},{"../internals/document-all":248,"../internals/is-callable":285}],290:[function(r,n,i){n.exports=!1},{}],291:[function(r,n,i){var o=r("../internals/is-object"),s=r("../internals/classof-raw"),a=r("../internals/well-known-symbol")("match");n.exports=function(l){var u;return o(l)&&((u=l[a])!==void 0?!!u:s(l)==="RegExp")}},{"../internals/classof-raw":235,"../internals/is-object":289,"../internals/well-known-symbol":357}],292:[function(r,n,i){var o=r("../internals/get-built-in"),s=r("../internals/is-callable"),a=r("../internals/object-is-prototype-of"),l=r("../internals/use-symbol-as-uid"),u=Object;n.exports=l?function(c){return typeof c=="symbol"}:function(c){var f=o("Symbol");return s(f)&&a(f.prototype,u(c))}},{"../internals/get-built-in":269,"../internals/is-callable":285,"../internals/object-is-prototype-of":314,"../internals/use-symbol-as-uid":351}],293:[function(r,n,i){var o=r("../internals/function-bind-context"),s=r("../internals/function-call"),a=r("../internals/an-object"),l=r("../internals/try-to-string"),u=r("../internals/is-array-iterator-method"),c=r("../internals/length-of-array-like"),f=r("../internals/object-is-prototype-of"),d=r("../internals/get-iterator"),h=r("../internals/get-iterator-method"),g=r("../internals/iterator-close"),m=TypeError,p=function(b,v){this.stopped=b,this.result=v},y=p.prototype;n.exports=function(b,v,F){var E,T,I,M,P,O,z,L=F&&F.that,_=!(!F||!F.AS_ENTRIES),R=!(!F||!F.IS_RECORD),k=!(!F||!F.IS_ITERATOR),S=!(!F||!F.INTERRUPTED),w=o(v,L),C=function(A){return E&&g(E,"normal",A),new p(!0,A)},x=function(A){return _?(a(A),S?w(A[0],A[1],C):w(A[0],A[1])):S?w(A,C):w(A)};if(R)E=b.iterator;else if(k)E=b;else{if(!(T=h(b)))throw new m(l(b)+" is not iterable");if(u(T)){for(I=0,M=c(b);M>I;I++)if((P=x(b[I]))&&f(y,P))return P;return new p(!1)}E=d(b,T)}for(O=R?b.next:E.next;!(z=s(O,E)).done;){try{P=x(z.value)}catch(A){g(E,"throw",A)}if(typeof P=="object"&&P&&f(y,P))return P}return new p(!1)}},{"../internals/an-object":227,"../internals/function-bind-context":262,"../internals/function-call":264,"../internals/get-iterator":271,"../internals/get-iterator-method":270,"../internals/is-array-iterator-method":283,"../internals/iterator-close":294,"../internals/length-of-array-like":299,"../internals/object-is-prototype-of":314,"../internals/try-to-string":349}],294:[function(r,n,i){var o=r("../internals/function-call"),s=r("../internals/an-object"),a=r("../internals/get-method");n.exports=function(l,u,c){var f,d;s(l);try{if(!(f=a(l,"return"))){if(u==="throw")throw c;return c}f=o(f,l)}catch(h){d=!0,f=h}if(u==="throw")throw c;if(d)throw f;return s(f),c}},{"../internals/an-object":227,"../internals/function-call":264,"../internals/get-method":273}],295:[function(r,n,i){var o=r("../internals/iterators-core").IteratorPrototype,s=r("../internals/object-create"),a=r("../internals/create-property-descriptor"),l=r("../internals/set-to-string-tag"),u=r("../internals/iterators"),c=function(){return this};n.exports=function(f,d,h,g){var m=d+" Iterator";return f.prototype=s(o,{next:a(+!g,h)}),l(f,m,!1,!0),u[m]=c,f}},{"../internals/create-property-descriptor":242,"../internals/iterators":298,"../internals/iterators-core":297,"../internals/object-create":306,"../internals/set-to-string-tag":331}],296:[function(r,n,i){var o=r("../internals/export"),s=r("../internals/function-call"),a=r("../internals/is-pure"),l=r("../internals/function-name"),u=r("../internals/is-callable"),c=r("../internals/iterator-create-constructor"),f=r("../internals/object-get-prototype-of"),d=r("../internals/object-set-prototype-of"),h=r("../internals/set-to-string-tag"),g=r("../internals/create-non-enumerable-property"),m=r("../internals/define-built-in"),p=r("../internals/well-known-symbol"),y=r("../internals/iterators"),b=r("../internals/iterators-core"),v=l.PROPER,F=l.CONFIGURABLE,E=b.IteratorPrototype,T=b.BUGGY_SAFARI_ITERATORS,I=p("iterator"),M=function(){return this};n.exports=function(P,O,z,L,_,R,k){c(z,O,L);var S,w,C,x=function(G){if(G===_&&j)return j;if(!T&&G&&G in B)return B[G];switch(G){case"keys":case"values":case"entries":return function(){return new z(this,G)}}return function(){return new z(this)}},A=O+" Iterator",D=!1,B=P.prototype,V=B[I]||B["@@iterator"]||_&&B[_],j=!T&&V||x(_),K=O==="Array"&&B.entries||V;if(K&&(S=f(K.call(new P)))!==Object.prototype&&S.next&&(a||f(S)===E||(d?d(S,E):u(S[I])||m(S,I,M)),h(S,A,!0,!0),a&&(y[A]=M)),v&&_==="values"&&V&&V.name!=="values"&&(!a&&F?g(B,"name","values"):(D=!0,j=function(){return s(V,this)})),_)if(w={values:x("values"),keys:R?j:x("keys"),entries:x("entries")},k)for(C in w)(T||D||!(C in B))&&m(B,C,w[C]);else o({target:O,proto:!0,forced:T||D},w);return a&&!k||B[I]===j||m(B,I,j,{name:_}),y[O]=j,w}},{"../internals/create-non-enumerable-property":241,"../internals/define-built-in":245,"../internals/export":259,"../internals/function-call":264,"../internals/function-name":265,"../internals/is-callable":285,"../internals/is-pure":290,"../internals/iterator-create-constructor":295,"../internals/iterators":298,"../internals/iterators-core":297,"../internals/object-get-prototype-of":313,"../internals/object-set-prototype-of":318,"../internals/set-to-string-tag":331,"../internals/well-known-symbol":357}],297:[function(r,n,i){var o,s,a,l=r("../internals/fails"),u=r("../internals/is-callable"),c=r("../internals/is-object"),f=r("../internals/object-create"),d=r("../internals/object-get-prototype-of"),h=r("../internals/define-built-in"),g=r("../internals/well-known-symbol"),m=r("../internals/is-pure"),p=g("iterator"),y=!1;[].keys&&("next"in(a=[].keys())?(s=d(d(a)))!==Object.prototype&&(o=s):y=!0),!c(o)||l((function(){var b={};return o[p].call(b)!==b}))?o={}:m&&(o=f(o)),u(o[p])||h(o,p,(function(){return this})),n.exports={IteratorPrototype:o,BUGGY_SAFARI_ITERATORS:y}},{"../internals/define-built-in":245,"../internals/fails":260,"../internals/is-callable":285,"../internals/is-object":289,"../internals/is-pure":290,"../internals/object-create":306,"../internals/object-get-prototype-of":313,"../internals/well-known-symbol":357}],298:[function(r,n,i){arguments[4][276][0].apply(i,arguments)},{dup:276}],299:[function(r,n,i){var o=r("../internals/to-length");n.exports=function(s){return o(s.length)}},{"../internals/to-length":343}],300:[function(r,n,i){var o=r("../internals/function-uncurry-this"),s=r("../internals/fails"),a=r("../internals/is-callable"),l=r("../internals/has-own-property"),u=r("../internals/descriptors"),c=r("../internals/function-name").CONFIGURABLE,f=r("../internals/inspect-source"),d=r("../internals/internal-state"),h=d.enforce,g=d.get,m=String,p=Object.defineProperty,y=o("".slice),b=o("".replace),v=o([].join),F=u&&!s((function(){return p((function(){}),"length",{value:8}).length!==8})),E=String(String).split("String"),T=n.exports=function(I,M,P){y(m(M),0,7)==="Symbol("&&(M="["+b(m(M),/^Symbol\(([^)]*)\)/,"$1")+"]"),P&&P.getter&&(M="get "+M),P&&P.setter&&(M="set "+M),(!l(I,"name")||c&&I.name!==M)&&(u?p(I,"name",{value:M,configurable:!0}):I.name=M),F&&P&&l(P,"arity")&&I.length!==P.arity&&p(I,"length",{value:P.arity});try{P&&l(P,"constructor")&&P.constructor?u&&p(I,"prototype",{writable:!1}):I.prototype&&(I.prototype=void 0)}catch{}var O=h(I);return l(O,"source")||(O.source=v(E,typeof M=="string"?M:"")),I};Function.prototype.toString=T((function(){return a(this)&&g(this).source||f(this)}),"toString")},{"../internals/descriptors":247,"../internals/fails":260,"../internals/function-name":265,"../internals/function-uncurry-this":268,"../internals/has-own-property":275,"../internals/inspect-source":281,"../internals/internal-state":282,"../internals/is-callable":285}],301:[function(r,n,i){var o=Math.ceil,s=Math.floor;n.exports=Math.trunc||function(a){var l=+a;return(l>0?s:o)(l)}},{}],302:[function(r,n,i){var o,s,a,l,u,c=r("../internals/global"),f=r("../internals/function-bind-context"),d=r("../internals/object-get-own-property-descriptor").f,h=r("../internals/task").set,g=r("../internals/queue"),m=r("../internals/engine-is-ios"),p=r("../internals/engine-is-ios-pebble"),y=r("../internals/engine-is-webos-webkit"),b=r("../internals/engine-is-node"),v=c.MutationObserver||c.WebKitMutationObserver,F=c.document,E=c.process,T=c.Promise,I=d(c,"queueMicrotask"),M=I&&I.value;if(!M){var P=new g,O=function(){var z,L;for(b&&(z=E.domain)&&z.exit();L=P.get();)try{L()}catch(_){throw P.head&&o(),_}z&&z.enter()};m||b||y||!v||!F?!p&&T&&T.resolve?((l=T.resolve(void 0)).constructor=T,u=f(l.then,l),o=function(){u(O)}):b?o=function(){E.nextTick(O)}:(h=f(h,c),o=function(){h(O)}):(s=!0,a=F.createTextNode(""),new v(O).observe(a,{characterData:!0}),o=function(){a.data=s=!s}),M=function(z){P.head||o(),P.add(z)}}n.exports=M},{"../internals/engine-is-ios":253,"../internals/engine-is-ios-pebble":252,"../internals/engine-is-node":254,"../internals/engine-is-webos-webkit":255,"../internals/function-bind-context":262,"../internals/global":274,"../internals/object-get-own-property-descriptor":309,"../internals/queue":328,"../internals/task":339}],303:[function(r,n,i){var o=r("../internals/a-callable"),s=TypeError,a=function(l){var u,c;this.promise=new l((function(f,d){if(u!==void 0||c!==void 0)throw new s("Bad Promise constructor");u=f,c=d})),this.resolve=o(u),this.reject=o(c)};n.exports.f=function(l){return new a(l)}},{"../internals/a-callable":222}],304:[function(r,n,i){var o=r("../internals/is-regexp"),s=TypeError;n.exports=function(a){if(o(a))throw new s("The method doesn't accept regular expressions");return a}},{"../internals/is-regexp":291}],305:[function(r,n,i){var o=r("../internals/descriptors"),s=r("../internals/function-uncurry-this"),a=r("../internals/function-call"),l=r("../internals/fails"),u=r("../internals/object-keys"),c=r("../internals/object-get-own-property-symbols"),f=r("../internals/object-property-is-enumerable"),d=r("../internals/to-object"),h=r("../internals/indexed-object"),g=Object.assign,m=Object.defineProperty,p=s([].concat);n.exports=!g||l((function(){if(o&&g({b:1},g(m({},"a",{enumerable:!0,get:function(){m(this,"b",{value:3,enumerable:!1})}}),{b:2})).b!==1)return!0;var y={},b={},v=Symbol("assign detection");return y[v]=7,"abcdefghijklmnopqrst".split("").forEach((function(F){b[F]=F})),g({},y)[v]!==7||u(g({},b)).join("")!=="abcdefghijklmnopqrst"}))?function(y,b){for(var v=d(y),F=arguments.length,E=1,T=c.f,I=f.f;F>E;)for(var M,P=h(arguments[E++]),O=T?p(u(P),T(P)):u(P),z=O.length,L=0;z>L;)M=O[L++],o&&!a(I,P,M)||(v[M]=P[M]);return v}:g},{"../internals/descriptors":247,"../internals/fails":260,"../internals/function-call":264,"../internals/function-uncurry-this":268,"../internals/indexed-object":280,"../internals/object-get-own-property-symbols":312,"../internals/object-keys":316,"../internals/object-property-is-enumerable":317,"../internals/to-object":344}],306:[function(r,n,i){var o,s=r("../internals/an-object"),a=r("../internals/object-define-properties"),l=r("../internals/enum-bug-keys"),u=r("../internals/hidden-keys"),c=r("../internals/html"),f=r("../internals/document-create-element"),d=r("../internals/shared-key"),h=d("IE_PROTO"),g=function(){},m=function(b){return"<script>"+b+"<\/script>"},p=function(b){b.write(m("")),b.close();var v=b.parentWindow.Object;return b=null,v},y=function(){try{o=new ActiveXObject("htmlfile")}catch{}var b,v;y=typeof document<"u"?document.domain&&o?p(o):((v=f("iframe")).style.display="none",c.appendChild(v),v.src="javascript:",(b=v.contentWindow.document).open(),b.write(m("document.F=Object")),b.close(),b.F):p(o);for(var F=l.length;F--;)delete y.prototype[l[F]];return y()};u[h]=!0,n.exports=Object.create||function(b,v){var F;return b!==null?(g.prototype=s(b),F=new g,g.prototype=null,F[h]=b):F=y(),v===void 0?F:a.f(F,v)}},{"../internals/an-object":227,"../internals/document-create-element":249,"../internals/enum-bug-keys":258,"../internals/hidden-keys":276,"../internals/html":278,"../internals/object-define-properties":307,"../internals/shared-key":332}],307:[function(r,n,i){var o=r("../internals/descriptors"),s=r("../internals/v8-prototype-define-bug"),a=r("../internals/object-define-property"),l=r("../internals/an-object"),u=r("../internals/to-indexed-object"),c=r("../internals/object-keys");i.f=o&&!s?Object.defineProperties:function(f,d){l(f);for(var h,g=u(d),m=c(d),p=m.length,y=0;p>y;)a.f(f,h=m[y++],g[h]);return f}},{"../internals/an-object":227,"../internals/descriptors":247,"../internals/object-define-property":308,"../internals/object-keys":316,"../internals/to-indexed-object":341,"../internals/v8-prototype-define-bug":352}],308:[function(r,n,i){var o=r("../internals/descriptors"),s=r("../internals/ie8-dom-define"),a=r("../internals/v8-prototype-define-bug"),l=r("../internals/an-object"),u=r("../internals/to-property-key"),c=TypeError,f=Object.defineProperty,d=Object.getOwnPropertyDescriptor;i.f=o?a?function(h,g,m){if(l(h),g=u(g),l(m),typeof h=="function"&&g==="prototype"&&"value"in m&&"writable"in m&&!m.writable){var p=d(h,g);p&&p.writable&&(h[g]=m.value,m={configurable:"configurable"in m?m.configurable:p.configurable,enumerable:"enumerable"in m?m.enumerable:p.enumerable,writable:!1})}return f(h,g,m)}:f:function(h,g,m){if(l(h),g=u(g),l(m),s)try{return f(h,g,m)}catch{}if("get"in m||"set"in m)throw new c("Accessors not supported");return"value"in m&&(h[g]=m.value),h}},{"../internals/an-object":227,"../internals/descriptors":247,"../internals/ie8-dom-define":279,"../internals/to-property-key":346,"../internals/v8-prototype-define-bug":352}],309:[function(r,n,i){var o=r("../internals/descriptors"),s=r("../internals/function-call"),a=r("../internals/object-property-is-enumerable"),l=r("../internals/create-property-descriptor"),u=r("../internals/to-indexed-object"),c=r("../internals/to-property-key"),f=r("../internals/has-own-property"),d=r("../internals/ie8-dom-define"),h=Object.getOwnPropertyDescriptor;i.f=o?h:function(g,m){if(g=u(g),m=c(m),d)try{return h(g,m)}catch{}if(f(g,m))return l(!s(a.f,g,m),g[m])}},{"../internals/create-property-descriptor":242,"../internals/descriptors":247,"../internals/function-call":264,"../internals/has-own-property":275,"../internals/ie8-dom-define":279,"../internals/object-property-is-enumerable":317,"../internals/to-indexed-object":341,"../internals/to-property-key":346}],310:[function(r,n,i){var o=r("../internals/classof-raw"),s=r("../internals/to-indexed-object"),a=r("../internals/object-get-own-property-names").f,l=r("../internals/array-slice-simple"),u=typeof window=="object"&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[];n.exports.f=function(c){return u&&o(c)==="Window"?(function(f){try{return a(f)}catch{return l(u)}})(c):a(s(c))}},{"../internals/array-slice-simple":230,"../internals/classof-raw":235,"../internals/object-get-own-property-names":311,"../internals/to-indexed-object":341}],311:[function(r,n,i){var o=r("../internals/object-keys-internal"),s=r("../internals/enum-bug-keys").concat("length","prototype");i.f=Object.getOwnPropertyNames||function(a){return o(a,s)}},{"../internals/enum-bug-keys":258,"../internals/object-keys-internal":315}],312:[function(r,n,i){i.f=Object.getOwnPropertySymbols},{}],313:[function(r,n,i){var o=r("../internals/has-own-property"),s=r("../internals/is-callable"),a=r("../internals/to-object"),l=r("../internals/shared-key"),u=r("../internals/correct-prototype-getter"),c=l("IE_PROTO"),f=Object,d=f.prototype;n.exports=u?f.getPrototypeOf:function(h){var g=a(h);if(o(g,c))return g[c];var m=g.constructor;return s(m)&&g instanceof m?m.prototype:g instanceof f?d:null}},{"../internals/correct-prototype-getter":239,"../internals/has-own-property":275,"../internals/is-callable":285,"../internals/shared-key":332,"../internals/to-object":344}],314:[function(r,n,i){var o=r("../internals/function-uncurry-this");n.exports=o({}.isPrototypeOf)},{"../internals/function-uncurry-this":268}],315:[function(r,n,i){var o=r("../internals/function-uncurry-this"),s=r("../internals/has-own-property"),a=r("../internals/to-indexed-object"),l=r("../internals/array-includes").indexOf,u=r("../internals/hidden-keys"),c=o([].push);n.exports=function(f,d){var h,g=a(f),m=0,p=[];for(h in g)!s(u,h)&&s(g,h)&&c(p,h);for(;d.length>m;)s(g,h=d[m++])&&(~l(p,h)||c(p,h));return p}},{"../internals/array-includes":228,"../internals/function-uncurry-this":268,"../internals/has-own-property":275,"../internals/hidden-keys":276,"../internals/to-indexed-object":341}],316:[function(r,n,i){var o=r("../internals/object-keys-internal"),s=r("../internals/enum-bug-keys");n.exports=Object.keys||function(a){return o(a,s)}},{"../internals/enum-bug-keys":258,"../internals/object-keys-internal":315}],317:[function(r,n,i){var o={}.propertyIsEnumerable,s=Object.getOwnPropertyDescriptor,a=s&&!o.call({1:2},1);i.f=a?function(l){var u=s(this,l);return!!u&&u.enumerable}:o},{}],318:[function(r,n,i){var o=r("../internals/function-uncurry-this-accessor"),s=r("../internals/an-object"),a=r("../internals/a-possible-prototype");n.exports=Object.setPrototypeOf||("__proto__"in{}?(function(){var l,u=!1,c={};try{(l=o(Object.prototype,"__proto__","set"))(c,[]),u=c instanceof Array}catch{}return function(f,d){return s(f),a(d),u?l(f,d):f.__proto__=d,f}})():void 0)},{"../internals/a-possible-prototype":224,"../internals/an-object":227,"../internals/function-uncurry-this-accessor":266}],319:[function(r,n,i){var o=r("../internals/descriptors"),s=r("../internals/fails"),a=r("../internals/function-uncurry-this"),l=r("../internals/object-get-prototype-of"),u=r("../internals/object-keys"),c=r("../internals/to-indexed-object"),f=a(r("../internals/object-property-is-enumerable").f),d=a([].push),h=o&&s((function(){var m=Object.create(null);return m[2]=2,!f(m,2)})),g=function(m){return function(p){for(var y,b=c(p),v=u(b),F=h&&l(b)===null,E=v.length,T=0,I=[];E>T;)y=v[T++],o&&!(F?y in b:f(b,y))||d(I,m?[y,b[y]]:b[y]);return I}};n.exports={entries:g(!0),values:g(!1)}},{"../internals/descriptors":247,"../internals/fails":260,"../internals/function-uncurry-this":268,"../internals/object-get-prototype-of":313,"../internals/object-keys":316,"../internals/object-property-is-enumerable":317,"../internals/to-indexed-object":341}],320:[function(r,n,i){var o=r("../internals/function-call"),s=r("../internals/is-callable"),a=r("../internals/is-object"),l=TypeError;n.exports=function(u,c){var f,d;if(c==="string"&&s(f=u.toString)&&!a(d=o(f,u))||s(f=u.valueOf)&&!a(d=o(f,u))||c!=="string"&&s(f=u.toString)&&!a(d=o(f,u)))return d;throw new l("Can't convert object to primitive value")}},{"../internals/function-call":264,"../internals/is-callable":285,"../internals/is-object":289}],321:[function(r,n,i){var o=r("../internals/get-built-in"),s=r("../internals/function-uncurry-this"),a=r("../internals/object-get-own-property-names"),l=r("../internals/object-get-own-property-symbols"),u=r("../internals/an-object"),c=s([].concat);n.exports=o("Reflect","ownKeys")||function(f){var d=a.f(u(f)),h=l.f;return h?c(d,h(f)):d}},{"../internals/an-object":227,"../internals/function-uncurry-this":268,"../internals/get-built-in":269,"../internals/object-get-own-property-names":311,"../internals/object-get-own-property-symbols":312}],322:[function(r,n,i){var o=r("../internals/global");n.exports=o},{"../internals/global":274}],323:[function(r,n,i){n.exports=function(o){try{return{error:!1,value:o()}}catch(s){return{error:!0,value:s}}}},{}],324:[function(r,n,i){var o=r("../internals/global"),s=r("../internals/promise-native-constructor"),a=r("../internals/is-callable"),l=r("../internals/is-forced"),u=r("../internals/inspect-source"),c=r("../internals/well-known-symbol"),f=r("../internals/engine-is-browser"),d=r("../internals/engine-is-deno"),h=r("../internals/is-pure"),g=r("../internals/engine-v8-version"),m=s&&s.prototype,p=c("species"),y=!1,b=a(o.PromiseRejectionEvent),v=l("Promise",(function(){var F=u(s),E=F!==String(s);if(!E&&g===66||h&&(!m.catch||!m.finally))return!0;if(!g||g<51||!/native code/.test(F)){var T=new s((function(M){M(1)})),I=function(M){M((function(){}),(function(){}))};if((T.constructor={})[p]=I,!(y=T.then((function(){}))instanceof I))return!0}return!E&&(f||d)&&!b}));n.exports={CONSTRUCTOR:v,REJECTION_EVENT:b,SUBCLASSING:y}},{"../internals/engine-is-browser":250,"../internals/engine-is-deno":251,"../internals/engine-v8-version":257,"../internals/global":274,"../internals/inspect-source":281,"../internals/is-callable":285,"../internals/is-forced":287,"../internals/is-pure":290,"../internals/promise-native-constructor":325,"../internals/well-known-symbol":357}],325:[function(r,n,i){var o=r("../internals/global");n.exports=o.Promise},{"../internals/global":274}],326:[function(r,n,i){var o=r("../internals/an-object"),s=r("../internals/is-object"),a=r("../internals/new-promise-capability");n.exports=function(l,u){if(o(l),s(u)&&u.constructor===l)return u;var c=a.f(l);return(0,c.resolve)(u),c.promise}},{"../internals/an-object":227,"../internals/is-object":289,"../internals/new-promise-capability":303}],327:[function(r,n,i){var o=r("../internals/promise-native-constructor"),s=r("../internals/check-correctness-of-iteration"),a=r("../internals/promise-constructor-detection").CONSTRUCTOR;n.exports=a||!s((function(l){o.all(l).then(void 0,(function(){}))}))},{"../internals/check-correctness-of-iteration":234,"../internals/promise-constructor-detection":324,"../internals/promise-native-constructor":325}],328:[function(r,n,i){var o=function(){this.head=null,this.tail=null};o.prototype={add:function(s){var a={item:s,next:null},l=this.tail;l?l.next=a:this.head=a,this.tail=a},get:function(){var s=this.head;if(s)return(this.head=s.next)===null&&(this.tail=null),s.item}},n.exports=o},{}],329:[function(r,n,i){var o=r("../internals/is-null-or-undefined"),s=TypeError;n.exports=function(a){if(o(a))throw new s("Can't call method on "+a);return a}},{"../internals/is-null-or-undefined":288}],330:[function(r,n,i){var o=r("../internals/get-built-in"),s=r("../internals/define-built-in-accessor"),a=r("../internals/well-known-symbol"),l=r("../internals/descriptors"),u=a("species");n.exports=function(c){var f=o(c);l&&f&&!f[u]&&s(f,u,{configurable:!0,get:function(){return this}})}},{"../internals/define-built-in-accessor":244,"../internals/descriptors":247,"../internals/get-built-in":269,"../internals/well-known-symbol":357}],331:[function(r,n,i){var o=r("../internals/object-define-property").f,s=r("../internals/has-own-property"),a=r("../internals/well-known-symbol")("toStringTag");n.exports=function(l,u,c){l&&!c&&(l=l.prototype),l&&!s(l,a)&&o(l,a,{configurable:!0,value:u})}},{"../internals/has-own-property":275,"../internals/object-define-property":308,"../internals/well-known-symbol":357}],332:[function(r,n,i){var o=r("../internals/shared"),s=r("../internals/uid"),a=o("keys");n.exports=function(l){return a[l]||(a[l]=s(l))}},{"../internals/shared":334,"../internals/uid":350}],333:[function(r,n,i){var o=r("../internals/global"),s=r("../internals/define-global-property"),a=o["__core-js_shared__"]||s("__core-js_shared__",{});n.exports=a},{"../internals/define-global-property":246,"../internals/global":274}],334:[function(r,n,i){var o=r("../internals/is-pure"),s=r("../internals/shared-store");(n.exports=function(a,l){return s[a]||(s[a]=l!==void 0?l:{})})("versions",[]).push({version:"3.33.0",mode:o?"pure":"global",copyright:" 2014-2023 Denis Pushkarev (zloirock.ru)",license:"https://github.com/zloirock/core-js/blob/v3.33.0/LICENSE",source:"https://github.com/zloirock/core-js"})},{"../internals/is-pure":290,"../internals/shared-store":333}],335:[function(r,n,i){var o=r("../internals/an-object"),s=r("../internals/a-constructor"),a=r("../internals/is-null-or-undefined"),l=r("../internals/well-known-symbol")("species");n.exports=function(u,c){var f,d=o(u).constructor;return d===void 0||a(f=o(d)[l])?c:s(f)}},{"../internals/a-constructor":223,"../internals/an-object":227,"../internals/is-null-or-undefined":288,"../internals/well-known-symbol":357}],336:[function(r,n,i){var o=r("../internals/engine-v8-version"),s=r("../internals/fails"),a=r("../internals/global").String;n.exports=!!Object.getOwnPropertySymbols&&!s((function(){var l=Symbol("symbol detection");return!a(l)||!(Object(l)instanceof Symbol)||!Symbol.sham&&o&&o<41}))},{"../internals/engine-v8-version":257,"../internals/fails":260,"../internals/global":274}],337:[function(r,n,i){var o=r("../internals/function-call"),s=r("../internals/get-built-in"),a=r("../internals/well-known-symbol"),l=r("../internals/define-built-in");n.exports=function(){var u=s("Symbol"),c=u&&u.prototype,f=c&&c.valueOf,d=a("toPrimitive");c&&!c[d]&&l(c,d,(function(h){return o(f,this)}),{arity:1})}},{"../internals/define-built-in":245,"../internals/function-call":264,"../internals/get-built-in":269,"../internals/well-known-symbol":357}],338:[function(r,n,i){var o=r("../internals/symbol-constructor-detection");n.exports=o&&!!Symbol.for&&!!Symbol.keyFor},{"../internals/symbol-constructor-detection":336}],339:[function(r,n,i){var o,s,a,l,u=r("../internals/global"),c=r("../internals/function-apply"),f=r("../internals/function-bind-context"),d=r("../internals/is-callable"),h=r("../internals/has-own-property"),g=r("../internals/fails"),m=r("../internals/html"),p=r("../internals/array-slice"),y=r("../internals/document-create-element"),b=r("../internals/validate-arguments-length"),v=r("../internals/engine-is-ios"),F=r("../internals/engine-is-node"),E=u.setImmediate,T=u.clearImmediate,I=u.process,M=u.Dispatch,P=u.Function,O=u.MessageChannel,z=u.String,L=0,_={};g((function(){o=u.location}));var R=function(C){if(h(_,C)){var x=_[C];delete _[C],x()}},k=function(C){return function(){R(C)}},S=function(C){R(C.data)},w=function(C){u.postMessage(z(C),o.protocol+"//"+o.host)};E&&T||(E=function(C){b(arguments.length,1);var x=d(C)?C:P(C),A=p(arguments,1);return _[++L]=function(){c(x,void 0,A)},s(L),L},T=function(C){delete _[C]},F?s=function(C){I.nextTick(k(C))}:M&&M.now?s=function(C){M.now(k(C))}:O&&!v?(l=(a=new O).port2,a.port1.onmessage=S,s=f(l.postMessage,l)):u.addEventListener&&d(u.postMessage)&&!u.importScripts&&o&&o.protocol!=="file:"&&!g(w)?(s=w,u.addEventListener("message",S,!1)):s="onreadystatechange"in y("script")?function(C){m.appendChild(y("script")).onreadystatechange=function(){m.removeChild(this),R(C)}}:function(C){setTimeout(k(C),0)}),n.exports={set:E,clear:T}},{"../internals/array-slice":231,"../internals/document-create-element":249,"../internals/engine-is-ios":253,"../internals/engine-is-node":254,"../internals/fails":260,"../internals/function-apply":261,"../internals/function-bind-context":262,"../internals/global":274,"../internals/has-own-property":275,"../internals/html":278,"../internals/is-callable":285,"../internals/validate-arguments-length":353}],340:[function(r,n,i){var o=r("../internals/to-integer-or-infinity"),s=Math.max,a=Math.min;n.exports=function(l,u){var c=o(l);return c<0?s(c+u,0):a(c,u)}},{"../internals/to-integer-or-infinity":342}],341:[function(r,n,i){var o=r("../internals/indexed-object"),s=r("../internals/require-object-coercible");n.exports=function(a){return o(s(a))}},{"../internals/indexed-object":280,"../internals/require-object-coercible":329}],342:[function(r,n,i){var o=r("../internals/math-trunc");n.exports=function(s){var a=+s;return a!=a||a===0?0:o(a)}},{"../internals/math-trunc":301}],343:[function(r,n,i){var o=r("../internals/to-integer-or-infinity"),s=Math.min;n.exports=function(a){return a>0?s(o(a),9007199254740991):0}},{"../internals/to-integer-or-infinity":342}],344:[function(r,n,i){var o=r("../internals/require-object-coercible"),s=Object;n.exports=function(a){return s(o(a))}},{"../internals/require-object-coercible":329}],345:[function(r,n,i){var o=r("../internals/function-call"),s=r("../internals/is-object"),a=r("../internals/is-symbol"),l=r("../internals/get-method"),u=r("../internals/ordinary-to-primitive"),c=r("../internals/well-known-symbol"),f=TypeError,d=c("toPrimitive");n.exports=function(h,g){if(!s(h)||a(h))return h;var m,p=l(h,d);if(p){if(g===void 0&&(g="default"),m=o(p,h,g),!s(m)||a(m))return m;throw new f("Can't convert object to primitive value")}return g===void 0&&(g="number"),u(h,g)}},{"../internals/function-call":264,"../internals/get-method":273,"../internals/is-object":289,"../internals/is-symbol":292,"../internals/ordinary-to-primitive":320,"../internals/well-known-symbol":357}],346:[function(r,n,i){var o=r("../internals/to-primitive"),s=r("../internals/is-symbol");n.exports=function(a){var l=o(a,"string");return s(l)?l:l+""}},{"../internals/is-symbol":292,"../internals/to-primitive":345}],347:[function(r,n,i){var o={};o[r("../internals/well-known-symbol")("toStringTag")]="z",n.exports=String(o)==="[object z]"},{"../internals/well-known-symbol":357}],348:[function(r,n,i){var o=r("../internals/classof"),s=String;n.exports=function(a){if(o(a)==="Symbol")throw new TypeError("Cannot convert a Symbol value to a string");return s(a)}},{"../internals/classof":236}],349:[function(r,n,i){var o=String;n.exports=function(s){try{return o(s)}catch{return"Object"}}},{}],350:[function(r,n,i){var o=r("../internals/function-uncurry-this"),s=0,a=Math.random(),l=o(1 .toString);n.exports=function(u){return"Symbol("+(u===void 0?"":u)+")_"+l(++s+a,36)}},{"../internals/function-uncurry-this":268}],351:[function(r,n,i){var o=r("../internals/symbol-constructor-detection");n.exports=o&&!Symbol.sham&&typeof Symbol.iterator=="symbol"},{"../internals/symbol-constructor-detection":336}],352:[function(r,n,i){var o=r("../internals/descriptors"),s=r("../internals/fails");n.exports=o&&s((function(){return Object.defineProperty((function(){}),"prototype",{value:42,writable:!1}).prototype!==42}))},{"../internals/descriptors":247,"../internals/fails":260}],353:[function(r,n,i){var o=TypeError;n.exports=function(s,a){if(s<a)throw new o("Not enough arguments");return s}},{}],354:[function(r,n,i){var o=r("../internals/global"),s=r("../internals/is-callable"),a=o.WeakMap;n.exports=s(a)&&/native code/.test(String(a))},{"../internals/global":274,"../internals/is-callable":285}],355:[function(r,n,i){var o=r("../internals/path"),s=r("../internals/has-own-property"),a=r("../internals/well-known-symbol-wrapped"),l=r("../internals/object-define-property").f;n.exports=function(u){var c=o.Symbol||(o.Symbol={});s(c,u)||l(c,u,{value:a.f(u)})}},{"../internals/has-own-property":275,"../internals/object-define-property":308,"../internals/path":322,"../internals/well-known-symbol-wrapped":356}],356:[function(r,n,i){var o=r("../internals/well-known-symbol");i.f=o},{"../internals/well-known-symbol":357}],357:[function(r,n,i){var o=r("../internals/global"),s=r("../internals/shared"),a=r("../internals/has-own-property"),l=r("../internals/uid"),u=r("../internals/symbol-constructor-detection"),c=r("../internals/use-symbol-as-uid"),f=o.Symbol,d=s("wks"),h=c?f.for||f:f&&f.withoutSetter||l;n.exports=function(g){return a(d,g)||(d[g]=u&&a(f,g)?f[g]:h("Symbol."+g)),d[g]}},{"../internals/global":274,"../internals/has-own-property":275,"../internals/shared":334,"../internals/symbol-constructor-detection":336,"../internals/uid":350,"../internals/use-symbol-as-uid":351}],358:[function(r,n,i){var o=r("../internals/export"),s=r("../internals/array-iteration").findIndex,a=r("../internals/add-to-unscopables"),l=!0;"findIndex"in[]&&Array(1).findIndex((function(){l=!1})),o({target:"Array",proto:!0,forced:l},{findIndex:function(u){return s(this,u,arguments.length>1?arguments[1]:void 0)}}),a("findIndex")},{"../internals/add-to-unscopables":225,"../internals/array-iteration":229,"../internals/export":259}],359:[function(r,n,i){var o=r("../internals/export"),s=r("../internals/array-iteration").find,a=r("../internals/add-to-unscopables"),l=!0;"find"in[]&&Array(1).find((function(){l=!1})),o({target:"Array",proto:!0,forced:l},{find:function(u){return s(this,u,arguments.length>1?arguments[1]:void 0)}}),a("find")},{"../internals/add-to-unscopables":225,"../internals/array-iteration":229,"../internals/export":259}],360:[function(r,n,i){var o=r("../internals/export"),s=r("../internals/array-includes").includes,a=r("../internals/fails"),l=r("../internals/add-to-unscopables");o({target:"Array",proto:!0,forced:a((function(){return!Array(1).includes()}))},{includes:function(u){return s(this,u,arguments.length>1?arguments[1]:void 0)}}),l("includes")},{"../internals/add-to-unscopables":225,"../internals/array-includes":228,"../internals/export":259,"../internals/fails":260}],361:[function(r,n,i){var o=r("../internals/to-indexed-object"),s=r("../internals/add-to-unscopables"),a=r("../internals/iterators"),l=r("../internals/internal-state"),u=r("../internals/object-define-property").f,c=r("../internals/iterator-define"),f=r("../internals/create-iter-result-object"),d=r("../internals/is-pure"),h=r("../internals/descriptors"),g=l.set,m=l.getterFor("Array Iterator");n.exports=c(Array,"Array",(function(y,b){g(this,{type:"Array Iterator",target:o(y),index:0,kind:b})}),(function(){var y=m(this),b=y.target,v=y.kind,F=y.index++;if(!b||F>=b.length)return y.target=void 0,f(void 0,!0);switch(v){case"keys":return f(F,!1);case"values":return f(b[F],!1)}return f([F,b[F]],!1)}),"values");var p=a.Arguments=a.Array;if(s("keys"),s("values"),s("entries"),!d&&h&&p.name!=="values")try{u(p,"name",{value:"values"})}catch{}},{"../internals/add-to-unscopables":225,"../internals/create-iter-result-object":240,"../internals/descriptors":247,"../internals/internal-state":282,"../internals/is-pure":290,"../internals/iterator-define":296,"../internals/iterators":298,"../internals/object-define-property":308,"../internals/to-indexed-object":341}],362:[function(r,n,i){var o=r("../internals/export"),s=r("../internals/get-built-in"),a=r("../internals/function-apply"),l=r("../internals/function-call"),u=r("../internals/function-uncurry-this"),c=r("../internals/fails"),f=r("../internals/is-callable"),d=r("../internals/is-symbol"),h=r("../internals/array-slice"),g=r("../internals/get-json-replacer-function"),m=r("../internals/symbol-constructor-detection"),p=String,y=s("JSON","stringify"),b=u(/./.exec),v=u("".charAt),F=u("".charCodeAt),E=u("".replace),T=u(1 .toString),I=/[\uD800-\uDFFF]/g,M=/^[\uD800-\uDBFF]$/,P=/^[\uDC00-\uDFFF]$/,O=!m||c((function(){var R=s("Symbol")("stringify detection");return y([R])!=="[null]"||y({a:R})!=="{}"||y(Object(R))!=="{}"})),z=c((function(){return y("\uDF06\uD834")!=='"\\udf06\\ud834"'||y("\uDEAD")!=='"\\udead"'})),L=function(R,k){var S=h(arguments),w=g(k);if(f(w)||R!==void 0&&!d(R))return S[1]=function(C,x){if(f(w)&&(x=l(w,this,p(C),x)),!d(x))return x},a(y,null,S)},_=function(R,k,S){var w=v(S,k-1),C=v(S,k+1);return b(M,R)&&!b(P,C)||b(P,R)&&!b(M,w)?"\\u"+T(F(R,0),16):R};y&&o({target:"JSON",stat:!0,arity:3,forced:O||z},{stringify:function(R,k,S){var w=h(arguments),C=a(O?L:y,null,w);return z&&typeof C=="string"?E(C,I,_):C}})},{"../internals/array-slice":231,"../internals/export":259,"../internals/fails":260,"../internals/function-apply":261,"../internals/function-call":264,"../internals/function-uncurry-this":268,"../internals/get-built-in":269,"../internals/get-json-replacer-function":272,"../internals/is-callable":285,"../internals/is-symbol":292,"../internals/symbol-constructor-detection":336}],363:[function(r,n,i){r("../internals/export")({target:"Number",stat:!0},{isNaN:function(o){return o!=o}})},{"../internals/export":259}],364:[function(r,n,i){var o=r("../internals/export"),s=r("../internals/object-assign");o({target:"Object",stat:!0,arity:2,forced:Object.assign!==s},{assign:s})},{"../internals/export":259,"../internals/object-assign":305}],365:[function(r,n,i){var o=r("../internals/export"),s=r("../internals/symbol-constructor-detection"),a=r("../internals/fails"),l=r("../internals/object-get-own-property-symbols"),u=r("../internals/to-object");o({target:"Object",stat:!0,forced:!s||a((function(){l.f(1)}))},{getOwnPropertySymbols:function(c){var f=l.f;return f?f(u(c)):[]}})},{"../internals/export":259,"../internals/fails":260,"../internals/object-get-own-property-symbols":312,"../internals/symbol-constructor-detection":336,"../internals/to-object":344}],366:[function(r,n,i){var o=r("../internals/export"),s=r("../internals/to-object"),a=r("../internals/object-keys");o({target:"Object",stat:!0,forced:r("../internals/fails")((function(){a(1)}))},{keys:function(l){return a(s(l))}})},{"../internals/export":259,"../internals/fails":260,"../internals/object-keys":316,"../internals/to-object":344}],367:[function(r,n,i){var o=r("../internals/export"),s=r("../internals/object-to-array").values;o({target:"Object",stat:!0},{values:function(a){return s(a)}})},{"../internals/export":259,"../internals/object-to-array":319}],368:[function(r,n,i){var o=r("../internals/export"),s=r("../internals/function-call"),a=r("../internals/a-callable"),l=r("../internals/new-promise-capability"),u=r("../internals/perform"),c=r("../internals/iterate");o({target:"Promise",stat:!0,forced:r("../internals/promise-statics-incorrect-iteration")},{all:function(f){var d=this,h=l.f(d),g=h.resolve,m=h.reject,p=u((function(){var y=a(d.resolve),b=[],v=0,F=1;c(f,(function(E){var T=v++,I=!1;F++,s(y,d,E).then((function(M){I||(I=!0,b[T]=M,--F||g(b))}),m)})),--F||g(b)}));return p.error&&m(p.value),h.promise}})},{"../internals/a-callable":222,"../internals/export":259,"../internals/function-call":264,"../internals/iterate":293,"../internals/new-promise-capability":303,"../internals/perform":323,"../internals/promise-statics-incorrect-iteration":327}],369:[function(r,n,i){var o=r("../internals/export"),s=r("../internals/is-pure"),a=r("../internals/promise-constructor-detection").CONSTRUCTOR,l=r("../internals/promise-native-constructor"),u=r("../internals/get-built-in"),c=r("../internals/is-callable"),f=r("../internals/define-built-in"),d=l&&l.prototype;if(o({target:"Promise",proto:!0,forced:a,real:!0},{catch:function(g){return this.then(void 0,g)}}),!s&&c(l)){var h=u("Promise").prototype.catch;d.catch!==h&&f(d,"catch",h,{unsafe:!0})}},{"../internals/define-built-in":245,"../internals/export":259,"../internals/get-built-in":269,"../internals/is-callable":285,"../internals/is-pure":290,"../internals/promise-constructor-detection":324,"../internals/promise-native-constructor":325}],370:[function(r,n,i){var o,s,a,l=r("../internals/export"),u=r("../internals/is-pure"),c=r("../internals/engine-is-node"),f=r("../internals/global"),d=r("../internals/function-call"),h=r("../internals/define-built-in"),g=r("../internals/object-set-prototype-of"),m=r("../internals/set-to-string-tag"),p=r("../internals/set-species"),y=r("../internals/a-callable"),b=r("../internals/is-callable"),v=r("../internals/is-object"),F=r("../internals/an-instance"),E=r("../internals/species-constructor"),T=r("../internals/task").set,I=r("../internals/microtask"),M=r("../internals/host-report-errors"),P=r("../internals/perform"),O=r("../internals/queue"),z=r("../internals/internal-state"),L=r("../internals/promise-native-constructor"),_=r("../internals/promise-constructor-detection"),R=r("../internals/new-promise-capability"),k=_.CONSTRUCTOR,S=_.REJECTION_EVENT,w=_.SUBCLASSING,C=z.getterFor("Promise"),x=z.set,A=L&&L.prototype,D=L,B=A,V=f.TypeError,j=f.document,K=f.process,G=R.f,Y=G,H=!!(j&&j.createEvent&&f.dispatchEvent),N=function(te){var se;return!(!v(te)||!b(se=te.then))&&se},$=function(te,se){var oe,ie,ae,ue=se.value,ce=se.state===1,pe=ce?te.ok:te.fail,ye=te.resolve,ge=te.reject,Re=te.domain;try{pe?(ce||(se.rejection===2&&ne(se),se.rejection=1),pe===!0?oe=ue:(Re&&Re.enter(),oe=pe(ue),Re&&(Re.exit(),ae=!0)),oe===te.promise?ge(new V("Promise-chain cycle")):(ie=N(oe))?d(ie,oe,ye,ge):ye(oe)):ge(ue)}catch(_e){Re&&!ae&&Re.exit(),ge(_e)}},J=function(te,se){te.notified||(te.notified=!0,I((function(){for(var oe,ie=te.reactions;oe=ie.get();)$(oe,te);te.notified=!1,se&&!te.rejection&&ee(te)})))},Q=function(te,se,oe){var ie,ae;H?((ie=j.createEvent("Event")).promise=se,ie.reason=oe,ie.initEvent(te,!1,!0),f.dispatchEvent(ie)):ie={promise:se,reason:oe},!S&&(ae=f["on"+te])?ae(ie):te==="unhandledrejection"&&M("Unhandled promise rejection",oe)},ee=function(te){d(T,f,(function(){var se,oe=te.facade,ie=te.value;if(W(te)&&(se=P((function(){c?K.emit("unhandledRejection",ie,oe):Q("unhandledrejection",oe,ie)})),te.rejection=c||W(te)?2:1,se.error))throw se.value}))},W=function(te){return te.rejection!==1&&!te.parent},ne=function(te){d(T,f,(function(){var se=te.facade;c?K.emit("rejectionHandled",se):Q("rejectionhandled",se,te.value)}))},re=function(te,se,oe){return function(ie){te(se,ie,oe)}},q=function(te,se,oe){te.done||(te.done=!0,oe&&(te=oe),te.value=se,te.state=2,J(te,!0))},X=function(te,se,oe){if(!te.done){te.done=!0,oe&&(te=oe);try{if(te.facade===se)throw new V("Promise can't be resolved itself");var ie=N(se);ie?I((function(){var ae={done:!1};try{d(ie,se,re(X,ae,te),re(q,ae,te))}catch(ue){q(ae,ue,te)}})):(te.value=se,te.state=1,J(te,!1))}catch(ae){q({done:!1},ae,te)}}};if(k&&(B=(D=function(te){F(this,B),y(te),d(o,this);var se=C(this);try{te(re(X,se),re(q,se))}catch(oe){q(se,oe)}}).prototype,(o=function(te){x(this,{type:"Promise",done:!1,notified:!1,parent:!1,reactions:new O,rejection:!1,state:0,value:void 0})}).prototype=h(B,"then",(function(te,se){var oe=C(this),ie=G(E(this,D));return oe.parent=!0,ie.ok=!b(te)||te,ie.fail=b(se)&&se,ie.domain=c?K.domain:void 0,oe.state===0?oe.reactions.add(ie):I((function(){$(ie,oe)})),ie.promise})),s=function(){var te=new o,se=C(te);this.promise=te,this.resolve=re(X,se),this.reject=re(q,se)},R.f=G=function(te){return te===D||te===void 0?new s(te):Y(te)},!u&&b(L)&&A!==Object.prototype)){a=A.then,w||h(A,"then",(function(te,se){var oe=this;return new D((function(ie,ae){d(a,oe,ie,ae)})).then(te,se)}),{unsafe:!0});try{delete A.constructor}catch{}g&&g(A,B)}l({global:!0,constructor:!0,wrap:!0,forced:k},{Promise:D}),m(D,"Promise",!1,!0),p("Promise")},{"../internals/a-callable":222,"../internals/an-instance":226,"../internals/define-built-in":245,"../internals/engine-is-node":254,"../internals/export":259,"../internals/function-call":264,"../internals/global":274,"../internals/host-report-errors":277,"../internals/internal-state":282,"../internals/is-callable":285,"../internals/is-object":289,"../internals/is-pure":290,"../internals/microtask":302,"../internals/new-promise-capability":303,"../internals/object-set-prototype-of":318,"../internals/perform":323,"../internals/promise-constructor-detection":324,"../internals/promise-native-constructor":325,"../internals/queue":328,"../internals/set-species":330,"../internals/set-to-string-tag":331,"../internals/species-constructor":335,"../internals/task":339}],371:[function(r,n,i){var o=r("../internals/export"),s=r("../internals/is-pure"),a=r("../internals/promise-native-constructor"),l=r("../internals/fails"),u=r("../internals/get-built-in"),c=r("../internals/is-callable"),f=r("../internals/species-constructor"),d=r("../internals/promise-resolve"),h=r("../internals/define-built-in"),g=a&&a.prototype;if(o({target:"Promise",proto:!0,real:!0,forced:!!a&&l((function(){g.finally.call({then:function(){}},(function(){}))}))},{finally:function(p){var y=f(this,u("Promise")),b=c(p);return this.then(b?function(v){return d(y,p()).then((function(){return v}))}:p,b?function(v){return d(y,p()).then((function(){throw v}))}:p)}}),!s&&c(a)){var m=u("Promise").prototype.finally;g.finally!==m&&h(g,"finally",m,{unsafe:!0})}},{"../internals/define-built-in":245,"../internals/export":259,"../internals/fails":260,"../internals/get-built-in":269,"../internals/is-callable":285,"../internals/is-pure":290,"../internals/promise-native-constructor":325,"../internals/promise-resolve":326,"../internals/species-constructor":335}],372:[function(r,n,i){r("../modules/es.promise.constructor"),r("../modules/es.promise.all"),r("../modules/es.promise.catch"),r("../modules/es.promise.race"),r("../modules/es.promise.reject"),r("../modules/es.promise.resolve")},{"../modules/es.promise.all":368,"../modules/es.promise.catch":369,"../modules/es.promise.constructor":370,"../modules/es.promise.race":373,"../modules/es.promise.reject":374,"../modules/es.promise.resolve":375}],373:[function(r,n,i){var o=r("../internals/export"),s=r("../internals/function-call"),a=r("../internals/a-callable"),l=r("../internals/new-promise-capability"),u=r("../internals/perform"),c=r("../internals/iterate");o({target:"Promise",stat:!0,forced:r("../internals/promise-statics-incorrect-iteration")},{race:function(f){var d=this,h=l.f(d),g=h.reject,m=u((function(){var p=a(d.resolve);c(f,(function(y){s(p,d,y).then(h.resolve,g)}))}));return m.error&&g(m.value),h.promise}})},{"../internals/a-callable":222,"../internals/export":259,"../internals/function-call":264,"../internals/iterate":293,"../internals/new-promise-capability":303,"../internals/perform":323,"../internals/promise-statics-incorrect-iteration":327}],374:[function(r,n,i){var o=r("../internals/export"),s=r("../internals/function-call"),a=r("../internals/new-promise-capability");o({target:"Promise",stat:!0,forced:r("../internals/promise-constructor-detection").CONSTRUCTOR},{reject:function(l){var u=a.f(this);return s(u.reject,void 0,l),u.promise}})},{"../internals/export":259,"../internals/function-call":264,"../internals/new-promise-capability":303,"../internals/promise-constructor-detection":324}],375:[function(r,n,i){var o=r("../internals/export"),s=r("../internals/get-built-in"),a=r("../internals/is-pure"),l=r("../internals/promise-native-constructor"),u=r("../internals/promise-constructor-detection").CONSTRUCTOR,c=r("../internals/promise-resolve"),f=s("Promise"),d=a&&!u;o({target:"Promise",stat:!0,forced:a||u},{resolve:function(h){return c(d&&this===f?l:this,h)}})},{"../internals/export":259,"../internals/get-built-in":269,"../internals/is-pure":290,"../internals/promise-constructor-detection":324,"../internals/promise-native-constructor":325,"../internals/promise-resolve":326}],376:[function(r,n,i){var o=r("../internals/export"),s=r("../internals/function-uncurry-this"),a=r("../internals/to-absolute-index"),l=RangeError,u=String.fromCharCode,c=String.fromCodePoint,f=s([].join);o({target:"String",stat:!0,arity:1,forced:!!c&&c.length!==1},{fromCodePoint:function(d){for(var h,g=[],m=arguments.length,p=0;m>p;){if(h=+arguments[p++],a(h,1114111)!==h)throw new l(h+" is not a valid code point");g[p]=h<65536?u(h):u(55296+((h-=65536)>>10),h%1024+56320)}return f(g,"")}})},{"../internals/export":259,"../internals/function-uncurry-this":268,"../internals/to-absolute-index":340}],377:[function(r,n,i){var o=r("../internals/export"),s=r("../internals/function-uncurry-this"),a=r("../internals/not-a-regexp"),l=r("../internals/require-object-coercible"),u=r("../internals/to-string"),c=r("../internals/correct-is-regexp-logic"),f=s("".indexOf);o({target:"String",proto:!0,forced:!c("includes")},{includes:function(d){return!!~f(u(l(this)),u(a(d)),arguments.length>1?arguments[1]:void 0)}})},{"../internals/correct-is-regexp-logic":238,"../internals/export":259,"../internals/function-uncurry-this":268,"../internals/not-a-regexp":304,"../internals/require-object-coercible":329,"../internals/to-string":348}],378:[function(r,n,i){r("../internals/well-known-symbol-define")("asyncIterator")},{"../internals/well-known-symbol-define":355}],379:[function(r,n,i){var o=r("../internals/export"),s=r("../internals/global"),a=r("../internals/function-call"),l=r("../internals/function-uncurry-this"),u=r("../internals/is-pure"),c=r("../internals/descriptors"),f=r("../internals/symbol-constructor-detection"),d=r("../internals/fails"),h=r("../internals/has-own-property"),g=r("../internals/object-is-prototype-of"),m=r("../internals/an-object"),p=r("../internals/to-indexed-object"),y=r("../internals/to-property-key"),b=r("../internals/to-string"),v=r("../internals/create-property-descriptor"),F=r("../internals/object-create"),E=r("../internals/object-keys"),T=r("../internals/object-get-own-property-names"),I=r("../internals/object-get-own-property-names-external"),M=r("../internals/object-get-own-property-symbols"),P=r("../internals/object-get-own-property-descriptor"),O=r("../internals/object-define-property"),z=r("../internals/object-define-properties"),L=r("../internals/object-property-is-enumerable"),_=r("../internals/define-built-in"),R=r("../internals/define-built-in-accessor"),k=r("../internals/shared"),S=r("../internals/shared-key"),w=r("../internals/hidden-keys"),C=r("../internals/uid"),x=r("../internals/well-known-symbol"),A=r("../internals/well-known-symbol-wrapped"),D=r("../internals/well-known-symbol-define"),B=r("../internals/symbol-define-to-primitive"),V=r("../internals/set-to-string-tag"),j=r("../internals/internal-state"),K=r("../internals/array-iteration").forEach,G=S("hidden"),Y=j.set,H=j.getterFor("Symbol"),N=Object.prototype,$=s.Symbol,J=$&&$.prototype,Q=s.RangeError,ee=s.TypeError,W=s.QObject,ne=P.f,re=O.f,q=I.f,X=L.f,te=l([].push),se=k("symbols"),oe=k("op-symbols"),ie=k("wks"),ae=!W||!W.prototype||!W.prototype.findChild,ue=function(Fe,ke,Pe){var Oe=ne(N,ke);Oe&&delete N[ke],re(Fe,ke,Pe),Oe&&Fe!==N&&re(N,ke,Oe)},ce=c&&d((function(){return F(re({},"a",{get:function(){return re(this,"a",{value:7}).a}})).a!==7}))?ue:re,pe=function(Fe,ke){var Pe=se[Fe]=F(J);return Y(Pe,{type:"Symbol",tag:Fe,description:ke}),c||(Pe.description=ke),Pe},ye=function(Fe,ke,Pe){Fe===N&&ye(oe,ke,Pe),m(Fe);var Oe=y(ke);return m(Pe),h(se,Oe)?(Pe.enumerable?(h(Fe,G)&&Fe[G][Oe]&&(Fe[G][Oe]=!1),Pe=F(Pe,{enumerable:v(0,!1)})):(h(Fe,G)||re(Fe,G,v(1,{})),Fe[G][Oe]=!0),ce(Fe,Oe,Pe)):re(Fe,Oe,Pe)},ge=function(Fe,ke){m(Fe);var Pe=p(ke),Oe=E(Pe).concat(De(Pe));return K(Oe,(function(He){c&&!a(Re,Pe,He)||ye(Fe,He,Pe[He])})),Fe},Re=function(Fe){var ke=y(Fe),Pe=a(X,this,ke);return!(this===N&&h(se,ke)&&!h(oe,ke))&&(!(Pe||!h(this,ke)||!h(se,ke)||h(this,G)&&this[G][ke])||Pe)},_e=function(Fe,ke){var Pe=p(Fe),Oe=y(ke);if(Pe!==N||!h(se,Oe)||h(oe,Oe)){var He=ne(Pe,Oe);return!He||!h(se,Oe)||h(Pe,G)&&Pe[G][Oe]||(He.enumerable=!0),He}},Ae=function(Fe){var ke=q(p(Fe)),Pe=[];return K(ke,(function(Oe){h(se,Oe)||h(w,Oe)||te(Pe,Oe)})),Pe},De=function(Fe){var ke=Fe===N,Pe=q(ke?oe:p(Fe)),Oe=[];return K(Pe,(function(He){!h(se,He)||ke&&!h(N,He)||te(Oe,se[He])})),Oe};f||(_(J=($=function(){if(g(J,this))throw new ee("Symbol is not a constructor");var Fe=arguments.length&&arguments[0]!==void 0?b(arguments[0]):void 0,ke=C(Fe),Pe=function(Oe){this===N&&a(Pe,oe,Oe),h(this,G)&&h(this[G],ke)&&(this[G][ke]=!1);var He=v(1,Oe);try{ce(this,ke,He)}catch(ht){if(!(ht instanceof Q))throw ht;ue(this,ke,He)}};return c&&ae&&ce(N,ke,{configurable:!0,set:Pe}),pe(ke,Fe)}).prototype,"toString",(function(){return H(this).tag})),_($,"withoutSetter",(function(Fe){return pe(C(Fe),Fe)})),L.f=Re,O.f=ye,z.f=ge,P.f=_e,T.f=I.f=Ae,M.f=De,A.f=function(Fe){return pe(x(Fe),Fe)},c&&(R(J,"description",{configurable:!0,get:function(){return H(this).description}}),u||_(N,"propertyIsEnumerable",Re,{unsafe:!0}))),o({global:!0,constructor:!0,wrap:!0,forced:!f,sham:!f},{Symbol:$}),K(E(ie),(function(Fe){D(Fe)})),o({target:"Symbol",stat:!0,forced:!f},{useSetter:function(){ae=!0},useSimple:function(){ae=!1}}),o({target:"Object",stat:!0,forced:!f,sham:!c},{create:function(Fe,ke){return ke===void 0?F(Fe):ge(F(Fe),ke)},defineProperty:ye,defineProperties:ge,getOwnPropertyDescriptor:_e}),o({target:"Object",stat:!0,forced:!f},{getOwnPropertyNames:Ae}),B(),V($,"Symbol"),w[G]=!0},{"../internals/an-object":227,"../internals/array-iteration":229,"../internals/create-property-descriptor":242,"../internals/define-built-in":245,"../internals/define-built-in-accessor":244,"../internals/descriptors":247,"../internals/export":259,"../internals/fails":260,"../internals/function-call":264,"../internals/function-uncurry-this":268,"../internals/global":274,"../internals/has-own-property":275,"../internals/hidden-keys":276,"../internals/internal-state":282,"../internals/is-pure":290,"../internals/object-create":306,"../internals/object-define-properties":307,"../internals/object-define-property":308,"../internals/object-get-own-property-descriptor":309,"../internals/object-get-own-property-names":311,"../internals/object-get-own-property-names-external":310,"../internals/object-get-own-property-symbols":312,"../internals/object-is-prototype-of":314,"../internals/object-keys":316,"../internals/object-property-is-enumerable":317,"../internals/set-to-string-tag":331,"../internals/shared":334,"../internals/shared-key":332,"../internals/symbol-constructor-detection":336,"../internals/symbol-define-to-primitive":337,"../internals/to-indexed-object":341,"../internals/to-property-key":346,"../internals/to-string":348,"../internals/uid":350,"../internals/well-known-symbol":357,"../internals/well-known-symbol-define":355,"../internals/well-known-symbol-wrapped":356}],380:[function(r,n,i){var o=r("../internals/export"),s=r("../internals/get-built-in"),a=r("../internals/has-own-property"),l=r("../internals/to-string"),u=r("../internals/shared"),c=r("../internals/symbol-registry-detection"),f=u("string-to-symbol-registry"),d=u("symbol-to-string-registry");o({target:"Symbol",stat:!0,forced:!c},{for:function(h){var g=l(h);if(a(f,g))return f[g];var m=s("Symbol")(g);return f[g]=m,d[m]=g,m}})},{"../internals/export":259,"../internals/get-built-in":269,"../internals/has-own-property":275,"../internals/shared":334,"../internals/symbol-registry-detection":338,"../internals/to-string":348}],381:[function(r,n,i){r("../modules/es.symbol.constructor"),r("../modules/es.symbol.for"),r("../modules/es.symbol.key-for"),r("../modules/es.json.stringify"),r("../modules/es.object.get-own-property-symbols")},{"../modules/es.json.stringify":362,"../modules/es.object.get-own-property-symbols":365,"../modules/es.symbol.constructor":379,"../modules/es.symbol.for":380,"../modules/es.symbol.key-for":382}],382:[function(r,n,i){var o=r("../internals/export"),s=r("../internals/has-own-property"),a=r("../internals/is-symbol"),l=r("../internals/try-to-string"),u=r("../internals/shared"),c=r("../internals/symbol-registry-detection"),f=u("symbol-to-string-registry");o({target:"Symbol",stat:!0,forced:!c},{keyFor:function(d){if(!a(d))throw new TypeError(l(d)+" is not a symbol");if(s(f,d))return f[d]}})},{"../internals/export":259,"../internals/has-own-property":275,"../internals/is-symbol":292,"../internals/shared":334,"../internals/symbol-registry-detection":338,"../internals/try-to-string":349}],383:[function(r,n,i){function o(s){return Object.prototype.toString.call(s)}i.isArray=function(s){return Array.isArray?Array.isArray(s):o(s)==="[object Array]"},i.isBoolean=function(s){return typeof s=="boolean"},i.isNull=function(s){return s===null},i.isNullOrUndefined=function(s){return s==null},i.isNumber=function(s){return typeof s=="number"},i.isString=function(s){return typeof s=="string"},i.isSymbol=function(s){return typeof s=="symbol"},i.isUndefined=function(s){return s===void 0},i.isRegExp=function(s){return o(s)==="[object RegExp]"},i.isObject=function(s){return typeof s=="object"&&s!==null},i.isDate=function(s){return o(s)==="[object Date]"},i.isError=function(s){return o(s)==="[object Error]"||s instanceof Error},i.isFunction=function(s){return typeof s=="function"},i.isPrimitive=function(s){return s===null||typeof s=="boolean"||typeof s=="number"||typeof s=="string"||typeof s=="symbol"||s===void 0},i.isBuffer=r("buffer").Buffer.isBuffer},{buffer:220}],384:[function(r,n,i){(function(o){(function(){var s=r("elliptic"),a=r("bn.js");n.exports=function(f){return new u(f)};var l={secp256k1:{name:"secp256k1",byteLength:32},secp224r1:{name:"p224",byteLength:28},prime256v1:{name:"p256",byteLength:32},prime192v1:{name:"p192",byteLength:24},ed25519:{name:"ed25519",byteLength:32},secp384r1:{name:"p384",byteLength:48},secp521r1:{name:"p521",byteLength:66}};function u(f){this.curveType=l[f],this.curveType||(this.curveType={name:f}),this.curve=new s.ec(this.curveType.name),this.keys=void 0}function c(f,d,h){Array.isArray(f)||(f=f.toArray());var g=new o(f);if(h&&g.length<h){var m=new o(h-g.length);m.fill(0),g=o.concat([m,g])}return d?g.toString(d):g}l.p224=l.secp224r1,l.p256=l.secp256r1=l.prime256v1,l.p192=l.secp192r1=l.prime192v1,l.p384=l.secp384r1,l.p521=l.secp521r1,u.prototype.generateKeys=function(f,d){return this.keys=this.curve.genKeyPair(),this.getPublicKey(f,d)},u.prototype.computeSecret=function(f,d,h){return d=d||"utf8",o.isBuffer(f)||(f=new o(f,d)),c(this.curve.keyFromPublic(f).getPublic().mul(this.keys.getPrivate()).getX(),h,this.curveType.byteLength)},u.prototype.getPublicKey=function(f,d){var h=this.keys.getPublic(d==="compressed",!0);return d==="hybrid"&&(h[h.length-1]%2?h[0]=7:h[0]=6),c(h,f)},u.prototype.getPrivateKey=function(f){return c(this.keys.getPrivate(),f)},u.prototype.setPublicKey=function(f,d){return d=d||"utf8",o.isBuffer(f)||(f=new o(f,d)),this.keys._importPublic(f),this},u.prototype.setPrivateKey=function(f,d){d=d||"utf8",o.isBuffer(f)||(f=new o(f,d));var h=new a(f);return h=h.toString(16),this.keys=this.curve.genKeyPair(),this.keys._importPrivate(h),this}}).call(this)}).call(this,r("buffer").Buffer)},{"bn.js":385,buffer:220,elliptic:405}],385:[function(r,n,i){arguments[4][184][0].apply(i,arguments)},{buffer:188,dup:184}],386:[function(r,n,i){var o=r("inherits"),s=r("md5.js"),a=r("ripemd160"),l=r("sha.js"),u=r("cipher-base");function c(f){u.call(this,"digest"),this._hash=f}o(c,u),c.prototype._update=function(f){this._hash.update(f)},c.prototype._final=function(){return this._hash.digest()},n.exports=function(f){return(f=f.toLowerCase())==="md5"?new s:f==="rmd160"||f==="ripemd160"?new a:new c(l(f))}},{"cipher-base":221,inherits:440,"md5.js":450,ripemd160:493,"sha.js":498}],387:[function(r,n,i){var o=r("md5.js");n.exports=function(s){return new o().update(s).digest()}},{"md5.js":450}],388:[function(r,n,i){var o=r("inherits"),s=r("./legacy"),a=r("cipher-base"),l=r("safe-buffer").Buffer,u=r("create-hash/md5"),c=r("ripemd160"),f=r("sha.js"),d=l.alloc(128);function h(g,m){a.call(this,"digest"),typeof m=="string"&&(m=l.from(m));var p=g==="sha512"||g==="sha384"?128:64;this._alg=g,this._key=m,m.length>p?m=(g==="rmd160"?new c:f(g)).update(m).digest():m.length<p&&(m=l.concat([m,d],p));for(var y=this._ipad=l.allocUnsafe(p),b=this._opad=l.allocUnsafe(p),v=0;v<p;v++)y[v]=54^m[v],b[v]=92^m[v];this._hash=g==="rmd160"?new c:f(g),this._hash.update(y)}o(h,a),h.prototype._update=function(g){this._hash.update(g)},h.prototype._final=function(){var g=this._hash.digest();return(this._alg==="rmd160"?new c:f(this._alg)).update(this._opad).update(g).digest()},n.exports=function(g,m){return(g=g.toLowerCase())==="rmd160"||g==="ripemd160"?new h("rmd160",m):g==="md5"?new s(u,m):new h(g,m)}},{"./legacy":389,"cipher-base":221,"create-hash/md5":387,inherits:440,ripemd160:493,"safe-buffer":494,"sha.js":498}],389:[function(r,n,i){var o=r("inherits"),s=r("safe-buffer").Buffer,a=r("cipher-base"),l=s.alloc(128);function u(c,f){a.call(this,"digest"),typeof f=="string"&&(f=s.from(f)),this._alg=c,this._key=f,f.length>64?f=c(f):f.length<64&&(f=s.concat([f,l],64));for(var d=this._ipad=s.allocUnsafe(64),h=this._opad=s.allocUnsafe(64),g=0;g<64;g++)d[g]=54^f[g],h[g]=92^f[g];this._hash=[d]}o(u,a),u.prototype._update=function(c){this._hash.push(c)},u.prototype._final=function(){var c=this._alg(s.concat(this._hash));return this._alg(s.concat([this._opad,c]))},n.exports=u},{"cipher-base":221,inherits:440,"safe-buffer":494}],390:[function(r,n,i){i.randomBytes=i.rng=i.pseudoRandomBytes=i.prng=r("randombytes"),i.createHash=i.Hash=r("create-hash"),i.createHmac=i.Hmac=r("create-hmac");var o=r("browserify-sign/algos"),s=Object.keys(o),a=["sha1","sha224","sha256","sha384","sha512","md5","rmd160"].concat(s);i.getHashes=function(){return a};var l=r("pbkdf2");i.pbkdf2=l.pbkdf2,i.pbkdf2Sync=l.pbkdf2Sync;var u=r("browserify-cipher");i.Cipher=u.Cipher,i.createCipher=u.createCipher,i.Cipheriv=u.Cipheriv,i.createCipheriv=u.createCipheriv,i.Decipher=u.Decipher,i.createDecipher=u.createDecipher,i.Decipheriv=u.Decipheriv,i.createDecipheriv=u.createDecipheriv,i.getCiphers=u.getCiphers,i.listCiphers=u.listCiphers;var c=r("diffie-hellman");i.DiffieHellmanGroup=c.DiffieHellmanGroup,i.createDiffieHellmanGroup=c.createDiffieHellmanGroup,i.getDiffieHellman=c.getDiffieHellman,i.createDiffieHellman=c.createDiffieHellman,i.DiffieHellman=c.DiffieHellman;var f=r("browserify-sign");i.createSign=f.createSign,i.Sign=f.Sign,i.createVerify=f.createVerify,i.Verify=f.Verify,i.createECDH=r("create-ecdh");var d=r("public-encrypt");i.publicEncrypt=d.publicEncrypt,i.privateEncrypt=d.privateEncrypt,i.publicDecrypt=d.publicDecrypt,i.privateDecrypt=d.privateDecrypt;var h=r("randomfill");i.randomFill=h.randomFill,i.randomFillSync=h.randomFillSync,i.createCredentials=function(){throw new Error(["sorry, createCredentials is not implemented yet","we accept pull requests","https://github.com/crypto-browserify/crypto-browserify"].join(`
`))},i.constants={DH_CHECK_P_NOT_SAFE_PRIME:2,DH_CHECK_P_NOT_PRIME:1,DH_UNABLE_TO_CHECK_GENERATOR:4,DH_NOT_SUITABLE_GENERATOR:8,NPN_ENABLED:1,ALPN_ENABLED:1,RSA_PKCS1_PADDING:1,RSA_SSLV23_PADDING:2,RSA_NO_PADDING:3,RSA_PKCS1_OAEP_PADDING:4,RSA_X931_PADDING:5,RSA_PKCS1_PSS_PADDING:6,POINT_CONVERSION_COMPRESSED:2,POINT_CONVERSION_UNCOMPRESSED:4,POINT_CONVERSION_HYBRID:6}},{"browserify-cipher":206,"browserify-sign":213,"browserify-sign/algos":210,"create-ecdh":384,"create-hash":386,"create-hmac":388,"diffie-hellman":400,pbkdf2:460,"public-encrypt":468,randombytes:475,randomfill:476}],391:[function(r,n,i){(function(o,s){typeof i=="object"&&n!==void 0?n.exports=s():(o=typeof globalThis<"u"?globalThis:o||self).dayjs=s()})(void 0,(function(){var o=6e4,s=36e5,a="millisecond",l="second",u="minute",c="hour",f="day",d="week",h="month",g="quarter",m="year",p="date",y="Invalid Date",b=/^(\d{4})[-/]?(\d{1,2})?[-/]?(\d{0,2})[Tt\s]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?[.:]?(\d+)?$/,v=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,F={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),ordinal:function(S){var w=["th","st","nd","rd"],C=S%100;return"["+S+(w[(C-20)%10]||w[C]||w[0])+"]"}},E=function(S,w,C){var x=String(S);return!x||x.length>=w?S:""+Array(w+1-x.length).join(C)+S},T={s:E,z:function(S){var w=-S.utcOffset(),C=Math.abs(w),x=Math.floor(C/60),A=C%60;return(w<=0?"+":"-")+E(x,2,"0")+":"+E(A,2,"0")},m:function S(w,C){if(w.date()<C.date())return-S(C,w);var x=12*(C.year()-w.year())+(C.month()-w.month()),A=w.clone().add(x,h),D=C-A<0,B=w.clone().add(x+(D?-1:1),h);return+(-(x+(C-A)/(D?A-B:B-A))||0)},a:function(S){return S<0?Math.ceil(S)||0:Math.floor(S)},p:function(S){return{M:h,y:m,w:d,d:f,D:p,h:c,m:u,s:l,ms:a,Q:g}[S]||String(S||"").toLowerCase().replace(/s$/,"")},u:function(S){return S===void 0}},I="en",M={};M[I]=F;var P="$isDayjsObject",O=function(S){return S instanceof R||!(!S||!S[P])},z=function S(w,C,x){var A;if(!w)return I;if(typeof w=="string"){var D=w.toLowerCase();M[D]&&(A=D),C&&(M[D]=C,A=D);var B=w.split("-");if(!A&&B.length>1)return S(B[0])}else{var V=w.name;M[V]=w,A=V}return!x&&A&&(I=A),A||!x&&I},L=function(S,w){if(O(S))return S.clone();var C=typeof w=="object"?w:{};return C.date=S,C.args=arguments,new R(C)},_=T;_.l=z,_.i=O,_.w=function(S,w){return L(S,{locale:w.$L,utc:w.$u,x:w.$x,$offset:w.$offset})};var R=(function(){function S(C){this.$L=z(C.locale,null,!0),this.parse(C),this.$x=this.$x||C.x||{},this[P]=!0}var w=S.prototype;return w.parse=function(C){this.$d=(function(x){var A=x.date,D=x.utc;if(A===null)return new Date(NaN);if(_.u(A))return new Date;if(A instanceof Date)return new Date(A);if(typeof A=="string"&&!/Z$/i.test(A)){var B=A.match(b);if(B){var V=B[2]-1||0,j=(B[7]||"0").substring(0,3);return D?new Date(Date.UTC(B[1],V,B[3]||1,B[4]||0,B[5]||0,B[6]||0,j)):new Date(B[1],V,B[3]||1,B[4]||0,B[5]||0,B[6]||0,j)}}return new Date(A)})(C),this.init()},w.init=function(){var C=this.$d;this.$y=C.getFullYear(),this.$M=C.getMonth(),this.$D=C.getDate(),this.$W=C.getDay(),this.$H=C.getHours(),this.$m=C.getMinutes(),this.$s=C.getSeconds(),this.$ms=C.getMilliseconds()},w.$utils=function(){return _},w.isValid=function(){return this.$d.toString()!==y},w.isSame=function(C,x){var A=L(C);return this.startOf(x)<=A&&A<=this.endOf(x)},w.isAfter=function(C,x){return L(C)<this.startOf(x)},w.isBefore=function(C,x){return this.endOf(x)<L(C)},w.$g=function(C,x,A){return _.u(C)?this[x]:this.set(A,C)},w.unix=function(){return Math.floor(this.valueOf()/1e3)},w.valueOf=function(){return this.$d.getTime()},w.startOf=function(C,x){var A=this,D=!!_.u(x)||x,B=_.p(C),V=function(J,Q){var ee=_.w(A.$u?Date.UTC(A.$y,Q,J):new Date(A.$y,Q,J),A);return D?ee:ee.endOf(f)},j=function(J,Q){return _.w(A.toDate()[J].apply(A.toDate("s"),(D?[0,0,0,0]:[23,59,59,999]).slice(Q)),A)},K=this.$W,G=this.$M,Y=this.$D,H="set"+(this.$u?"UTC":"");switch(B){case m:return D?V(1,0):V(31,11);case h:return D?V(1,G):V(0,G+1);case d:var N=this.$locale().weekStart||0,$=(K<N?K+7:K)-N;return V(D?Y-$:Y+(6-$),G);case f:case p:return j(H+"Hours",0);case c:return j(H+"Minutes",1);case u:return j(H+"Seconds",2);case l:return j(H+"Milliseconds",3);default:return this.clone()}},w.endOf=function(C){return this.startOf(C,!1)},w.$set=function(C,x){var A,D=_.p(C),B="set"+(this.$u?"UTC":""),V=(A={},A[f]=B+"Date",A[p]=B+"Date",A[h]=B+"Month",A[m]=B+"FullYear",A[c]=B+"Hours",A[u]=B+"Minutes",A[l]=B+"Seconds",A[a]=B+"Milliseconds",A)[D],j=D===f?this.$D+(x-this.$W):x;if(D===h||D===m){var K=this.clone().set(p,1);K.$d[V](j),K.init(),this.$d=K.set(p,Math.min(this.$D,K.daysInMonth())).$d}else V&&this.$d[V](j);return this.init(),this},w.set=function(C,x){return this.clone().$set(C,x)},w.get=function(C){return this[_.p(C)]()},w.add=function(C,x){var A,D=this;C=Number(C);var B=_.p(x),V=function(G){var Y=L(D);return _.w(Y.date(Y.date()+Math.round(G*C)),D)};if(B===h)return this.set(h,this.$M+C);if(B===m)return this.set(m,this.$y+C);if(B===f)return V(1);if(B===d)return V(7);var j=(A={},A[u]=o,A[c]=s,A[l]=1e3,A)[B]||1,K=this.$d.getTime()+C*j;return _.w(K,this)},w.subtract=function(C,x){return this.add(-1*C,x)},w.format=function(C){var x=this,A=this.$locale();if(!this.isValid())return A.invalidDate||y;var D=C||"YYYY-MM-DDTHH:mm:ssZ",B=_.z(this),V=this.$H,j=this.$m,K=this.$M,G=A.weekdays,Y=A.months,H=A.meridiem,N=function(Q,ee,W,ne){return Q&&(Q[ee]||Q(x,D))||W[ee].slice(0,ne)},$=function(Q){return _.s(V%12||12,Q,"0")},J=H||function(Q,ee,W){var ne=Q<12?"AM":"PM";return W?ne.toLowerCase():ne};return D.replace(v,(function(Q,ee){return ee||(function(W){switch(W){case"YY":return String(x.$y).slice(-2);case"YYYY":return _.s(x.$y,4,"0");case"M":return K+1;case"MM":return _.s(K+1,2,"0");case"MMM":return N(A.monthsShort,K,Y,3);case"MMMM":return N(Y,K);case"D":return x.$D;case"DD":return _.s(x.$D,2,"0");case"d":return String(x.$W);case"dd":return N(A.weekdaysMin,x.$W,G,2);case"ddd":return N(A.weekdaysShort,x.$W,G,3);case"dddd":return G[x.$W];case"H":return String(V);case"HH":return _.s(V,2,"0");case"h":return $(1);case"hh":return $(2);case"a":return J(V,j,!0);case"A":return J(V,j,!1);case"m":return String(j);case"mm":return _.s(j,2,"0");case"s":return String(x.$s);case"ss":return _.s(x.$s,2,"0");case"SSS":return _.s(x.$ms,3,"0");case"Z":return B}return null})(Q)||B.replace(":","")}))},w.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},w.diff=function(C,x,A){var D,B=this,V=_.p(x),j=L(C),K=(j.utcOffset()-this.utcOffset())*o,G=this-j,Y=function(){return _.m(B,j)};switch(V){case m:D=Y()/12;break;case h:D=Y();break;case g:D=Y()/3;break;case d:D=(G-K)/6048e5;break;case f:D=(G-K)/864e5;break;case c:D=G/s;break;case u:D=G/o;break;case l:D=G/1e3;break;default:D=G}return A?D:_.a(D)},w.daysInMonth=function(){return this.endOf(h).$D},w.$locale=function(){return M[this.$L]},w.locale=function(C,x){if(!C)return this.$L;var A=this.clone(),D=z(C,x,!0);return D&&(A.$L=D),A},w.clone=function(){return _.w(this.$d,this)},w.toDate=function(){return new Date(this.valueOf())},w.toJSON=function(){return this.isValid()?this.toISOString():null},w.toISOString=function(){return this.$d.toISOString()},w.toString=function(){return this.$d.toUTCString()},S})(),k=R.prototype;return L.prototype=k,[["$ms",a],["$s",l],["$m",u],["$H",c],["$W",f],["$M",h],["$y",m],["$D",p]].forEach((function(S){k[S[1]]=function(w){return this.$g(w,S[0],S[1])}})),L.extend=function(S,w){return S.$i||(S(w,R,L),S.$i=!0),L},L.locale=z,L.isDayjs=O,L.unix=function(S){return L(1e3*S)},L.en=M[I],L.Ls=M,L.p={},L}))},{}],392:[function(r,n,i){(function(o,s){typeof i=="object"&&n!==void 0?n.exports=s():(o=typeof globalThis<"u"?globalThis:o||self).dayjs_plugin_customParseFormat=s()})(void 0,(function(){var o={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"},s=/(\[[^[]*\])|([-_:/.,()\s]+)|(A|a|YYYY|YY?|MM?M?M?|Do|DD?|hh?|HH?|mm?|ss?|S{1,3}|z|ZZ?)/g,a=/\d\d/,l=/\d\d?/,u=/\d*[^-_:/,()\s\d]+/,c={},f=function(b){return(b=+b)+(b>68?1900:2e3)},d=function(b){return function(v){this[b]=+v}},h=[/[+-]\d\d:?(\d\d)?|Z/,function(b){(this.zone||(this.zone={})).offset=(function(v){if(!v||v==="Z")return 0;var F=v.match(/([+-]|\d\d)/g),E=60*F[1]+(+F[2]||0);return E===0?0:F[0]==="+"?-E:E})(b)}],g=function(b){var v=c[b];return v&&(v.indexOf?v:v.s.concat(v.f))},m=function(b,v){var F,E=c.meridiem;if(E){for(var T=1;T<=24;T+=1)if(b.indexOf(E(T,0,v))>-1){F=T>12;break}}else F=b===(v?"pm":"PM");return F},p={A:[u,function(b){this.afternoon=m(b,!1)}],a:[u,function(b){this.afternoon=m(b,!0)}],S:[/\d/,function(b){this.milliseconds=100*+b}],SS:[a,function(b){this.milliseconds=10*+b}],SSS:[/\d{3}/,function(b){this.milliseconds=+b}],s:[l,d("seconds")],ss:[l,d("seconds")],m:[l,d("minutes")],mm:[l,d("minutes")],H:[l,d("hours")],h:[l,d("hours")],HH:[l,d("hours")],hh:[l,d("hours")],D:[l,d("day")],DD:[a,d("day")],Do:[u,function(b){var v=c.ordinal,F=b.match(/\d+/);if(this.day=F[0],v)for(var E=1;E<=31;E+=1)v(E).replace(/\[|\]/g,"")===b&&(this.day=E)}],M:[l,d("month")],MM:[a,d("month")],MMM:[u,function(b){var v=g("months"),F=(g("monthsShort")||v.map((function(E){return E.slice(0,3)}))).indexOf(b)+1;if(F<1)throw new Error;this.month=F%12||F}],MMMM:[u,function(b){var v=g("months").indexOf(b)+1;if(v<1)throw new Error;this.month=v%12||v}],Y:[/[+-]?\d+/,d("year")],YY:[a,function(b){this.year=f(b)}],YYYY:[/\d{4}/,d("year")],Z:h,ZZ:h};function y(b){var v,F;v=b,F=c&&c.formats;for(var E=(b=v.replace(/(\[[^\]]+])|(LTS?|l{1,4}|L{1,4})/g,(function(L,_,R){var k=R&&R.toUpperCase();return _||F[R]||o[R]||F[k].replace(/(\[[^\]]+])|(MMMM|MM|DD|dddd)/g,(function(S,w,C){return w||C.slice(1)}))}))).match(s),T=E.length,I=0;I<T;I+=1){var M=E[I],P=p[M],O=P&&P[0],z=P&&P[1];E[I]=z?{regex:O,parser:z}:M.replace(/^\[|\]$/g,"")}return function(L){for(var _={},R=0,k=0;R<T;R+=1){var S=E[R];if(typeof S=="string")k+=S.length;else{var w=S.regex,C=S.parser,x=L.slice(k),A=w.exec(x)[0];C.call(_,A),L=L.replace(A,"")}}return(function(D){var B=D.afternoon;if(B!==void 0){var V=D.hours;B?V<12&&(D.hours+=12):V===12&&(D.hours=0),delete D.afternoon}})(_),_}}return function(b,v,F){F.p.customParseFormat=!0,b&&b.parseTwoDigitYear&&(f=b.parseTwoDigitYear);var E=v.prototype,T=E.parse;E.parse=function(I){var M=I.date,P=I.utc,O=I.args;this.$u=P;var z=O[1];if(typeof z=="string"){var L=O[2]===!0,_=O[3]===!0,R=L||_,k=O[2];_&&(k=O[2]),c=this.$locale(),!L&&k&&(c=F.Ls[k]),this.$d=(function(x,A,D){try{if(["x","X"].indexOf(A)>-1)return new Date((A==="X"?1e3:1)*x);var B=y(A)(x),V=B.year,j=B.month,K=B.day,G=B.hours,Y=B.minutes,H=B.seconds,N=B.milliseconds,$=B.zone,J=new Date,Q=K||(V||j?1:J.getDate()),ee=V||J.getFullYear(),W=0;V&&!j||(W=j>0?j-1:J.getMonth());var ne=G||0,re=Y||0,q=H||0,X=N||0;return $?new Date(Date.UTC(ee,W,Q,ne,re,q,X+60*$.offset*1e3)):D?new Date(Date.UTC(ee,W,Q,ne,re,q,X)):new Date(ee,W,Q,ne,re,q,X)}catch{return new Date("")}})(M,z,P),this.init(),k&&k!==!0&&(this.$L=this.locale(k).$L),R&&M!=this.format(z)&&(this.$d=new Date("")),c={}}else if(z instanceof Array)for(var S=z.length,w=1;w<=S;w+=1){O[1]=z[w-1];var C=F.apply(this,O);if(C.isValid()){this.$d=C.$d,this.$L=C.$L,this.init();break}w===S&&(this.$d=new Date(""))}else T.call(this,I)}}}))},{}],393:[function(r,n,i){(function(o,s){typeof i=="object"&&n!==void 0?n.exports=s():(o=typeof globalThis<"u"?globalThis:o||self).dayjs_plugin_utc=s()})(void 0,(function(){var o="minute",s=/[+-]\d\d(?::?\d\d)?/g,a=/([+-]|\d\d)/g;return function(l,u,c){var f=u.prototype;c.utc=function(b){var v={date:b,utc:!0,args:arguments};return new u(v)},f.utc=function(b){var v=c(this.toDate(),{locale:this.$L,utc:!0});return b?v.add(this.utcOffset(),o):v},f.local=function(){return c(this.toDate(),{locale:this.$L,utc:!1})};var d=f.parse;f.parse=function(b){b.utc&&(this.$u=!0),this.$utils().u(b.$offset)||(this.$offset=b.$offset),d.call(this,b)};var h=f.init;f.init=function(){if(this.$u){var b=this.$d;this.$y=b.getUTCFullYear(),this.$M=b.getUTCMonth(),this.$D=b.getUTCDate(),this.$W=b.getUTCDay(),this.$H=b.getUTCHours(),this.$m=b.getUTCMinutes(),this.$s=b.getUTCSeconds(),this.$ms=b.getUTCMilliseconds()}else h.call(this)};var g=f.utcOffset;f.utcOffset=function(b,v){var F=this.$utils().u;if(F(b))return this.$u?0:F(this.$offset)?g.call(this):this.$offset;if(typeof b=="string"&&(b=(function(M){M===void 0&&(M="");var P=M.match(s);if(!P)return null;var O=(""+P[0]).match(a)||["-",0,0],z=O[0],L=60*+O[1]+ +O[2];return L===0?0:z==="+"?L:-L})(b))===null)return this;var E=Math.abs(b)<=16?60*b:b,T=this;if(v)return T.$offset=E,T.$u=b===0,T;if(b!==0){var I=this.$u?this.toDate().getTimezoneOffset():-1*this.utcOffset();(T=this.local().add(E+I,o)).$offset=E,T.$x.$localOffset=I}else T=this.utc();return T};var m=f.format;f.format=function(b){var v=b||(this.$u?"YYYY-MM-DDTHH:mm:ss[Z]":"");return m.call(this,v)},f.valueOf=function(){var b=this.$utils().u(this.$offset)?0:this.$offset+(this.$x.$localOffset||this.$d.getTimezoneOffset());return this.$d.valueOf()-6e4*b},f.isUTC=function(){return!!this.$u},f.toISOString=function(){return this.toDate().toISOString()},f.toString=function(){return this.toDate().toUTCString()};var p=f.toDate;f.toDate=function(b){return b==="s"&&this.$offset?c(this.format("YYYY-MM-DD HH:mm:ss:SSS")).toDate():p.call(this)};var y=f.diff;f.diff=function(b,v,F){if(b&&this.$u===b.$u)return y.call(this,b,v,F);var E=this.local(),T=c(b).local();return y.call(E,T,v,F)}}}))},{}],394:[function(r,n,i){i.utils=r("./des/utils"),i.Cipher=r("./des/cipher"),i.DES=r("./des/des"),i.CBC=r("./des/cbc"),i.EDE=r("./des/ede")},{"./des/cbc":395,"./des/cipher":396,"./des/des":397,"./des/ede":398,"./des/utils":399}],395:[function(r,n,i){var o=r("minimalistic-assert"),s=r("inherits"),a={};function l(u){o.equal(u.length,8,"Invalid IV length"),this.iv=new Array(8);for(var c=0;c<this.iv.length;c++)this.iv[c]=u[c]}i.instantiate=function(u){function c(g){u.call(this,g),this._cbcInit()}s(c,u);for(var f=Object.keys(a),d=0;d<f.length;d++){var h=f[d];c.prototype[h]=a[h]}return c.create=function(g){return new c(g)},c},a._cbcInit=function(){var u=new l(this.options.iv);this._cbcState=u},a._update=function(u,c,f,d){var h=this._cbcState,g=this.constructor.super_.prototype,m=h.iv;if(this.type==="encrypt"){for(var p=0;p<this.blockSize;p++)m[p]^=u[c+p];for(g._update.call(this,m,0,f,d),p=0;p<this.blockSize;p++)m[p]=f[d+p]}else{for(g._update.call(this,u,c,f,d),p=0;p<this.blockSize;p++)f[d+p]^=m[p];for(p=0;p<this.blockSize;p++)m[p]=u[c+p]}}},{inherits:440,"minimalistic-assert":453}],396:[function(r,n,i){var o=r("minimalistic-assert");function s(a){this.options=a,this.type=this.options.type,this.blockSize=8,this._init(),this.buffer=new Array(this.blockSize),this.bufferOff=0,this.padding=a.padding!==!1}n.exports=s,s.prototype._init=function(){},s.prototype.update=function(a){return a.length===0?[]:this.type==="decrypt"?this._updateDecrypt(a):this._updateEncrypt(a)},s.prototype._buffer=function(a,l){for(var u=Math.min(this.buffer.length-this.bufferOff,a.length-l),c=0;c<u;c++)this.buffer[this.bufferOff+c]=a[l+c];return this.bufferOff+=u,u},s.prototype._flushBuffer=function(a,l){return this._update(this.buffer,0,a,l),this.bufferOff=0,this.blockSize},s.prototype._updateEncrypt=function(a){var l=0,u=0,c=(this.bufferOff+a.length)/this.blockSize|0,f=new Array(c*this.blockSize);this.bufferOff!==0&&(l+=this._buffer(a,l),this.bufferOff===this.buffer.length&&(u+=this._flushBuffer(f,u)));for(var d=a.length-(a.length-l)%this.blockSize;l<d;l+=this.blockSize)this._update(a,l,f,u),u+=this.blockSize;for(;l<a.length;l++,this.bufferOff++)this.buffer[this.bufferOff]=a[l];return f},s.prototype._updateDecrypt=function(a){for(var l=0,u=0,c=Math.ceil((this.bufferOff+a.length)/this.blockSize)-1,f=new Array(c*this.blockSize);c>0;c--)l+=this._buffer(a,l),u+=this._flushBuffer(f,u);return l+=this._buffer(a,l),f},s.prototype.final=function(a){var l,u;return a&&(l=this.update(a)),u=this.type==="encrypt"?this._finalEncrypt():this._finalDecrypt(),l?l.concat(u):u},s.prototype._pad=function(a,l){if(l===0)return!1;for(;l<a.length;)a[l++]=0;return!0},s.prototype._finalEncrypt=function(){if(!this._pad(this.buffer,this.bufferOff))return[];var a=new Array(this.blockSize);return this._update(this.buffer,0,a,0),a},s.prototype._unpad=function(a){return a},s.prototype._finalDecrypt=function(){o.equal(this.bufferOff,this.blockSize,"Not enough data to decrypt");var a=new Array(this.blockSize);return this._flushBuffer(a,0),this._unpad(a)}},{"minimalistic-assert":453}],397:[function(r,n,i){var o=r("minimalistic-assert"),s=r("inherits"),a=r("./utils"),l=r("./cipher");function u(){this.tmp=new Array(2),this.keys=null}function c(d){l.call(this,d);var h=new u;this._desState=h,this.deriveKeys(h,d.key)}s(c,l),n.exports=c,c.create=function(d){return new c(d)};var f=[1,1,2,2,2,2,2,2,1,2,2,2,2,2,2,1];c.prototype.deriveKeys=function(d,h){d.keys=new Array(32),o.equal(h.length,this.blockSize,"Invalid key length");var g=a.readUInt32BE(h,0),m=a.readUInt32BE(h,4);a.pc1(g,m,d.tmp,0),g=d.tmp[0],m=d.tmp[1];for(var p=0;p<d.keys.length;p+=2){var y=f[p>>>1];g=a.r28shl(g,y),m=a.r28shl(m,y),a.pc2(g,m,d.keys,p)}},c.prototype._update=function(d,h,g,m){var p=this._desState,y=a.readUInt32BE(d,h),b=a.readUInt32BE(d,h+4);a.ip(y,b,p.tmp,0),y=p.tmp[0],b=p.tmp[1],this.type==="encrypt"?this._encrypt(p,y,b,p.tmp,0):this._decrypt(p,y,b,p.tmp,0),y=p.tmp[0],b=p.tmp[1],a.writeUInt32BE(g,y,m),a.writeUInt32BE(g,b,m+4)},c.prototype._pad=function(d,h){if(this.padding===!1)return!1;for(var g=d.length-h,m=h;m<d.length;m++)d[m]=g;return!0},c.prototype._unpad=function(d){if(this.padding===!1)return d;for(var h=d[d.length-1],g=d.length-h;g<d.length;g++)o.equal(d[g],h);return d.slice(0,d.length-h)},c.prototype._encrypt=function(d,h,g,m,p){for(var y=h,b=g,v=0;v<d.keys.length;v+=2){var F=d.keys[v],E=d.keys[v+1];a.expand(b,d.tmp,0),F^=d.tmp[0],E^=d.tmp[1];var T=a.substitute(F,E),I=b;b=(y^a.permute(T))>>>0,y=I}a.rip(b,y,m,p)},c.prototype._decrypt=function(d,h,g,m,p){for(var y=g,b=h,v=d.keys.length-2;v>=0;v-=2){var F=d.keys[v],E=d.keys[v+1];a.expand(y,d.tmp,0),F^=d.tmp[0],E^=d.tmp[1];var T=a.substitute(F,E),I=y;y=(b^a.permute(T))>>>0,b=I}a.rip(y,b,m,p)}},{"./cipher":396,"./utils":399,inherits:440,"minimalistic-assert":453}],398:[function(r,n,i){var o=r("minimalistic-assert"),s=r("inherits"),a=r("./cipher"),l=r("./des");function u(f,d){o.equal(d.length,24,"Invalid key length");var h=d.slice(0,8),g=d.slice(8,16),m=d.slice(16,24);this.ciphers=f==="encrypt"?[l.create({type:"encrypt",key:h}),l.create({type:"decrypt",key:g}),l.create({type:"encrypt",key:m})]:[l.create({type:"decrypt",key:m}),l.create({type:"encrypt",key:g}),l.create({type:"decrypt",key:h})]}function c(f){a.call(this,f);var d=new u(this.type,this.options.key);this._edeState=d}s(c,a),n.exports=c,c.create=function(f){return new c(f)},c.prototype._update=function(f,d,h,g){var m=this._edeState;m.ciphers[0]._update(f,d,h,g),m.ciphers[1]._update(h,g,h,g),m.ciphers[2]._update(h,g,h,g)},c.prototype._pad=l.prototype._pad,c.prototype._unpad=l.prototype._unpad},{"./cipher":396,"./des":397,inherits:440,"minimalistic-assert":453}],399:[function(r,n,i){i.readUInt32BE=function(l,u){return(l[0+u]<<24|l[1+u]<<16|l[2+u]<<8|l[3+u])>>>0},i.writeUInt32BE=function(l,u,c){l[0+c]=u>>>24,l[1+c]=u>>>16&255,l[2+c]=u>>>8&255,l[3+c]=255&u},i.ip=function(l,u,c,f){for(var d=0,h=0,g=6;g>=0;g-=2){for(var m=0;m<=24;m+=8)d<<=1,d|=u>>>m+g&1;for(m=0;m<=24;m+=8)d<<=1,d|=l>>>m+g&1}for(g=6;g>=0;g-=2){for(m=1;m<=25;m+=8)h<<=1,h|=u>>>m+g&1;for(m=1;m<=25;m+=8)h<<=1,h|=l>>>m+g&1}c[f+0]=d>>>0,c[f+1]=h>>>0},i.rip=function(l,u,c,f){for(var d=0,h=0,g=0;g<4;g++)for(var m=24;m>=0;m-=8)d<<=1,d|=u>>>m+g&1,d<<=1,d|=l>>>m+g&1;for(g=4;g<8;g++)for(m=24;m>=0;m-=8)h<<=1,h|=u>>>m+g&1,h<<=1,h|=l>>>m+g&1;c[f+0]=d>>>0,c[f+1]=h>>>0},i.pc1=function(l,u,c,f){for(var d=0,h=0,g=7;g>=5;g--){for(var m=0;m<=24;m+=8)d<<=1,d|=u>>m+g&1;for(m=0;m<=24;m+=8)d<<=1,d|=l>>m+g&1}for(m=0;m<=24;m+=8)d<<=1,d|=u>>m+g&1;for(g=1;g<=3;g++){for(m=0;m<=24;m+=8)h<<=1,h|=u>>m+g&1;for(m=0;m<=24;m+=8)h<<=1,h|=l>>m+g&1}for(m=0;m<=24;m+=8)h<<=1,h|=l>>m+g&1;c[f+0]=d>>>0,c[f+1]=h>>>0},i.r28shl=function(l,u){return l<<u&268435455|l>>>28-u};var o=[14,11,17,4,27,23,25,0,13,22,7,18,5,9,16,24,2,20,12,21,1,8,15,26,15,4,25,19,9,1,26,16,5,11,23,8,12,7,17,0,22,3,10,14,6,20,27,24];i.pc2=function(l,u,c,f){for(var d=0,h=0,g=o.length>>>1,m=0;m<g;m++)d<<=1,d|=l>>>o[m]&1;for(m=g;m<o.length;m++)h<<=1,h|=u>>>o[m]&1;c[f+0]=d>>>0,c[f+1]=h>>>0},i.expand=function(l,u,c){var f=0,d=0;f=(1&l)<<5|l>>>27;for(var h=23;h>=15;h-=4)f<<=6,f|=l>>>h&63;for(h=11;h>=3;h-=4)d|=l>>>h&63,d<<=6;d|=(31&l)<<1|l>>>31,u[c+0]=f>>>0,u[c+1]=d>>>0};var s=[14,0,4,15,13,7,1,4,2,14,15,2,11,13,8,1,3,10,10,6,6,12,12,11,5,9,9,5,0,3,7,8,4,15,1,12,14,8,8,2,13,4,6,9,2,1,11,7,15,5,12,11,9,3,7,14,3,10,10,0,5,6,0,13,15,3,1,13,8,4,14,7,6,15,11,2,3,8,4,14,9,12,7,0,2,1,13,10,12,6,0,9,5,11,10,5,0,13,14,8,7,10,11,1,10,3,4,15,13,4,1,2,5,11,8,6,12,7,6,12,9,0,3,5,2,14,15,9,10,13,0,7,9,0,14,9,6,3,3,4,15,6,5,10,1,2,13,8,12,5,7,14,11,12,4,11,2,15,8,1,13,1,6,10,4,13,9,0,8,6,15,9,3,8,0,7,11,4,1,15,2,14,12,3,5,11,10,5,14,2,7,12,7,13,13,8,14,11,3,5,0,6,6,15,9,0,10,3,1,4,2,7,8,2,5,12,11,1,12,10,4,14,15,9,10,3,6,15,9,0,0,6,12,10,11,1,7,13,13,8,15,9,1,4,3,5,14,11,5,12,2,7,8,2,4,14,2,14,12,11,4,2,1,12,7,4,10,7,11,13,6,1,8,5,5,0,3,15,15,10,13,3,0,9,14,8,9,6,4,11,2,8,1,12,11,7,10,1,13,14,7,2,8,13,15,6,9,15,12,0,5,9,6,10,3,4,0,5,14,3,12,10,1,15,10,4,15,2,9,7,2,12,6,9,8,5,0,6,13,1,3,13,4,14,14,0,7,11,5,3,11,8,9,4,14,3,15,2,5,12,2,9,8,5,12,15,3,10,7,11,0,14,4,1,10,7,1,6,13,0,11,8,6,13,4,13,11,0,2,11,14,7,15,4,0,9,8,1,13,10,3,14,12,3,9,5,7,12,5,2,10,15,6,8,1,6,1,6,4,11,11,13,13,8,12,1,3,4,7,10,14,7,10,9,15,5,6,0,8,15,0,14,5,2,9,3,2,12,13,1,2,15,8,13,4,8,6,10,15,3,11,7,1,4,10,12,9,5,3,6,14,11,5,0,0,14,12,9,7,2,7,2,11,1,4,14,1,7,9,4,12,10,14,8,2,13,0,15,6,12,10,9,13,0,15,3,3,5,5,6,8,11];i.substitute=function(l,u){for(var c=0,f=0;f<4;f++)c<<=4,c|=s[64*f+(l>>>18-6*f&63)];for(f=0;f<4;f++)c<<=4,c|=s[256+64*f+(u>>>18-6*f&63)];return c>>>0};var a=[16,25,12,11,3,20,4,15,31,17,9,6,27,14,1,22,30,24,8,18,0,5,29,23,13,19,2,26,10,21,28,7];i.permute=function(l){for(var u=0,c=0;c<a.length;c++)u<<=1,u|=l>>>a[c]&1;return u>>>0},i.padSplit=function(l,u,c){for(var f=l.toString(2);f.length<u;)f="0"+f;for(var d=[],h=0;h<u;h+=c)d.push(f.slice(h,h+c));return d.join(" ")}},{}],400:[function(r,n,i){(function(o){(function(){var s=r("./lib/generatePrime"),a=r("./lib/primes.json"),l=r("./lib/dh"),u={binary:!0,hex:!0,base64:!0};i.DiffieHellmanGroup=i.createDiffieHellmanGroup=i.getDiffieHellman=function(c){var f=new o(a[c].prime,"hex"),d=new o(a[c].gen,"hex");return new l(f,d)},i.createDiffieHellman=i.DiffieHellman=function c(f,d,h,g){return o.isBuffer(d)||u[d]===void 0?c(f,"binary",d,h):(d=d||"binary",g=g||"binary",h=h||new o([2]),o.isBuffer(h)||(h=new o(h,g)),typeof f=="number"?new l(s(f,h),h,!0):(o.isBuffer(f)||(f=new o(f,d)),new l(f,h,!0)))}}).call(this)}).call(this,r("buffer").Buffer)},{"./lib/dh":401,"./lib/generatePrime":402,"./lib/primes.json":403,buffer:220}],401:[function(r,n,i){(function(o){(function(){var s=r("bn.js"),a=new(r("miller-rabin")),l=new s(24),u=new s(11),c=new s(10),f=new s(3),d=new s(7),h=r("./generatePrime"),g=r("randombytes");function m(F,E){return E=E||"utf8",o.isBuffer(F)||(F=new o(F,E)),this._pub=new s(F),this}function p(F,E){return E=E||"utf8",o.isBuffer(F)||(F=new o(F,E)),this._priv=new s(F),this}n.exports=b;var y={};function b(F,E,T){this.setGenerator(E),this.__prime=new s(F),this._prime=s.mont(this.__prime),this._primeLen=F.length,this._pub=void 0,this._priv=void 0,this._primeCode=void 0,T?(this.setPublicKey=m,this.setPrivateKey=p):this._primeCode=8}function v(F,E){var T=new o(F.toArray());return E?T.toString(E):T}Object.defineProperty(b.prototype,"verifyError",{enumerable:!0,get:function(){return typeof this._primeCode!="number"&&(this._primeCode=(function(F,E){var T=E.toString("hex"),I=[T,F.toString(16)].join("_");if(I in y)return y[I];var M,P=0;if(F.isEven()||!h.simpleSieve||!h.fermatTest(F)||!a.test(F))return P+=1,P+=T==="02"||T==="05"?8:4,y[I]=P,P;switch(a.test(F.shrn(1))||(P+=2),T){case"02":F.mod(l).cmp(u)&&(P+=8);break;case"05":(M=F.mod(c)).cmp(f)&&M.cmp(d)&&(P+=8);break;default:P+=4}return y[I]=P,P})(this.__prime,this.__gen)),this._primeCode}}),b.prototype.generateKeys=function(){return this._priv||(this._priv=new s(g(this._primeLen))),this._pub=this._gen.toRed(this._prime).redPow(this._priv).fromRed(),this.getPublicKey()},b.prototype.computeSecret=function(F){var E=(F=(F=new s(F)).toRed(this._prime)).redPow(this._priv).fromRed(),T=new o(E.toArray()),I=this.getPrime();if(T.length<I.length){var M=new o(I.length-T.length);M.fill(0),T=o.concat([M,T])}return T},b.prototype.getPublicKey=function(F){return v(this._pub,F)},b.prototype.getPrivateKey=function(F){return v(this._priv,F)},b.prototype.getPrime=function(F){return v(this.__prime,F)},b.prototype.getGenerator=function(F){return v(this._gen,F)},b.prototype.setGenerator=function(F,E){return E=E||"utf8",o.isBuffer(F)||(F=new o(F,E)),this.__gen=F,this._gen=new s(F),this}}).call(this)}).call(this,r("buffer").Buffer)},{"./generatePrime":402,"bn.js":404,buffer:220,"miller-rabin":451,randombytes:475}],402:[function(r,n,i){var o=r("randombytes");n.exports=F,F.simpleSieve=b,F.fermatTest=v;var s=r("bn.js"),a=new s(24),l=new(r("miller-rabin")),u=new s(1),c=new s(2),f=new s(5),d=(new s(16),new s(8),new s(10)),h=new s(3),g=(new s(7),new s(11)),m=new s(4),p=(new s(12),null);function y(){if(p!==null)return p;var E=[];E[0]=2;for(var T=1,I=3;I<1048576;I+=2){for(var M=Math.ceil(Math.sqrt(I)),P=0;P<T&&E[P]<=M&&I%E[P]!=0;P++);T!==P&&E[P]<=M||(E[T++]=I)}return p=E,E}function b(E){for(var T=y(),I=0;I<T.length;I++)if(E.modn(T[I])===0)return E.cmpn(T[I])===0;return!0}function v(E){var T=s.mont(E);return c.toRed(T).redPow(E.subn(1)).fromRed().cmpn(1)===0}function F(E,T){if(E<16)return new s(T===2||T===5?[140,123]:[140,39]);var I,M;for(T=new s(T);;){for(I=new s(o(Math.ceil(E/8)));I.bitLength()>E;)I.ishrn(1);if(I.isEven()&&I.iadd(u),I.testn(1)||I.iadd(c),T.cmp(c)){if(!T.cmp(f))for(;I.mod(d).cmp(h);)I.iadd(m)}else for(;I.mod(a).cmp(g);)I.iadd(m);if(b(M=I.shrn(1))&&b(I)&&v(M)&&v(I)&&l.test(M)&&l.test(I))return I}}},{"bn.js":404,"miller-rabin":451,randombytes:475}],403:[function(r,n,i){n.exports={modp1:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a63a3620ffffffffffffffff"},modp2:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece65381ffffffffffffffff"},modp5:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca237327ffffffffffffffff"},modp14:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aacaa68ffffffffffffffff"},modp15:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aaac42dad33170d04507a33a85521abdf1cba64ecfb850458dbef0a8aea71575d060c7db3970f85a6e1e4c7abf5ae8cdb0933d71e8c94e04a25619dcee3d2261ad2ee6bf12ffa06d98a0864d87602733ec86a64521f2b18177b200cbbe117577a615d6c770988c0bad946e208e24fa074e5ab3143db5bfce0fd108e4b82d120a93ad2caffffffffffffffff"},modp16:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aaac42dad33170d04507a33a85521abdf1cba64ecfb850458dbef0a8aea71575d060c7db3970f85a6e1e4c7abf5ae8cdb0933d71e8c94e04a25619dcee3d2261ad2ee6bf12ffa06d98a0864d87602733ec86a64521f2b18177b200cbbe117577a615d6c770988c0bad946e208e24fa074e5ab3143db5bfce0fd108e4b82d120a92108011a723c12a787e6d788719a10bdba5b2699c327186af4e23c1a946834b6150bda2583e9ca2ad44ce8dbbbc2db04de8ef92e8efc141fbecaa6287c59474e6bc05d99b2964fa090c3a2233ba186515be7ed1f612970cee2d7afb81bdd762170481cd0069127d5b05aa993b4ea988d8fddc186ffb7dc90a6c08f4df435c934063199ffffffffffffffff"},modp17:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aaac42dad33170d04507a33a85521abdf1cba64ecfb850458dbef0a8aea71575d060c7db3970f85a6e1e4c7abf5ae8cdb0933d71e8c94e04a25619dcee3d2261ad2ee6bf12ffa06d98a0864d87602733ec86a64521f2b18177b200cbbe117577a615d6c770988c0bad946e208e24fa074e5ab3143db5bfce0fd108e4b82d120a92108011a723c12a787e6d788719a10bdba5b2699c327186af4e23c1a946834b6150bda2583e9ca2ad44ce8dbbbc2db04de8ef92e8efc141fbecaa6287c59474e6bc05d99b2964fa090c3a2233ba186515be7ed1f612970cee2d7afb81bdd762170481cd0069127d5b05aa993b4ea988d8fddc186ffb7dc90a6c08f4df435c93402849236c3fab4d27c7026c1d4dcb2602646dec9751e763dba37bdf8ff9406ad9e530ee5db382f413001aeb06a53ed9027d831179727b0865a8918da3edbebcf9b14ed44ce6cbaced4bb1bdb7f1447e6cc254b332051512bd7af426fb8f401378cd2bf5983ca01c64b92ecf032ea15d1721d03f482d7ce6e74fef6d55e702f46980c82b5a84031900b1c9e59e7c97fbec7e8f323a97a7e36cc88be0f1d45b7ff585ac54bd407b22b4154aacc8f6d7ebf48e1d814cc5ed20f8037e0a79715eef29be32806a1d58bb7c5da76f550aa3d8a1fbff0eb19ccb1a313d55cda56c9ec2ef29632387fe8d76e3c0468043e8f663f4860ee12bf2d5b0b7474d6e694f91e6dcc4024ffffffffffffffff"},modp18:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aaac42dad33170d04507a33a85521abdf1cba64ecfb850458dbef0a8aea71575d060c7db3970f85a6e1e4c7abf5ae8cdb0933d71e8c94e04a25619dcee3d2261ad2ee6bf12ffa06d98a0864d87602733ec86a64521f2b18177b200cbbe117577a615d6c770988c0bad946e208e24fa074e5ab3143db5bfce0fd108e4b82d120a92108011a723c12a787e6d788719a10bdba5b2699c327186af4e23c1a946834b6150bda2583e9ca2ad44ce8dbbbc2db04de8ef92e8efc141fbecaa6287c59474e6bc05d99b2964fa090c3a2233ba186515be7ed1f612970cee2d7afb81bdd762170481cd0069127d5b05aa993b4ea988d8fddc186ffb7dc90a6c08f4df435c93402849236c3fab4d27c7026c1d4dcb2602646dec9751e763dba37bdf8ff9406ad9e530ee5db382f413001aeb06a53ed9027d831179727b0865a8918da3edbebcf9b14ed44ce6cbaced4bb1bdb7f1447e6cc254b332051512bd7af426fb8f401378cd2bf5983ca01c64b92ecf032ea15d1721d03f482d7ce6e74fef6d55e702f46980c82b5a84031900b1c9e59e7c97fbec7e8f323a97a7e36cc88be0f1d45b7ff585ac54bd407b22b4154aacc8f6d7ebf48e1d814cc5ed20f8037e0a79715eef29be32806a1d58bb7c5da76f550aa3d8a1fbff0eb19ccb1a313d55cda56c9ec2ef29632387fe8d76e3c0468043e8f663f4860ee12bf2d5b0b7474d6e694f91e6dbe115974a3926f12fee5e438777cb6a932df8cd8bec4d073b931ba3bc832b68d9dd300741fa7bf8afc47ed2576f6936ba424663aab639c5ae4f5683423b4742bf1c978238f16cbe39d652de3fdb8befc848ad922222e04a4037c0713eb57a81a23f0c73473fc646cea306b4bcbc8862f8385ddfa9d4b7fa2c087e879683303ed5bdd3a062b3cf5b3a278a66d2a13f83f44f82ddf310ee074ab6a364597e899a0255dc164f31cc50846851df9ab48195ded7ea1b1d510bd7ee74d73faf36bc31ecfa268359046f4eb879f924009438b481c6cd7889a002ed5ee382bc9190da6fc026e479558e4475677e9aa9e3050e2765694dfc81f56e880b96e7160c980dd98edd3dfffffffffffffffff"}}},{}],404:[function(r,n,i){arguments[4][184][0].apply(i,arguments)},{buffer:188,dup:184}],405:[function(r,n,i){var o=i;o.version=r("../package.json").version,o.utils=r("./elliptic/utils"),o.rand=r("brorand"),o.curve=r("./elliptic/curve"),o.curves=r("./elliptic/curves"),o.ec=r("./elliptic/ec"),o.eddsa=r("./elliptic/eddsa")},{"../package.json":421,"./elliptic/curve":408,"./elliptic/curves":411,"./elliptic/ec":412,"./elliptic/eddsa":415,"./elliptic/utils":419,brorand:187}],406:[function(r,n,i){var o=r("bn.js"),s=r("../utils"),a=s.getNAF,l=s.getJSF,u=s.assert;function c(d,h){this.type=d,this.p=new o(h.p,16),this.red=h.prime?o.red(h.prime):o.mont(this.p),this.zero=new o(0).toRed(this.red),this.one=new o(1).toRed(this.red),this.two=new o(2).toRed(this.red),this.n=h.n&&new o(h.n,16),this.g=h.g&&this.pointFromJSON(h.g,h.gRed),this._wnafT1=new Array(4),this._wnafT2=new Array(4),this._wnafT3=new Array(4),this._wnafT4=new Array(4),this._bitLength=this.n?this.n.bitLength():0;var g=this.n&&this.p.div(this.n);!g||g.cmpn(100)>0?this.redN=null:(this._maxwellTrick=!0,this.redN=this.n.toRed(this.red))}function f(d,h){this.curve=d,this.type=h,this.precomputed=null}n.exports=c,c.prototype.point=function(){throw new Error("Not implemented")},c.prototype.validate=function(){throw new Error("Not implemented")},c.prototype._fixedNafMul=function(d,h){u(d.precomputed);var g=d._getDoubles(),m=a(h,1,this._bitLength),p=(1<<g.step+1)-(g.step%2==0?2:1);p/=3;var y,b,v=[];for(y=0;y<m.length;y+=g.step){b=0;for(var F=y+g.step-1;F>=y;F--)b=(b<<1)+m[F];v.push(b)}for(var E=this.jpoint(null,null,null),T=this.jpoint(null,null,null),I=p;I>0;I--){for(y=0;y<v.length;y++)(b=v[y])===I?T=T.mixedAdd(g.points[y]):b===-I&&(T=T.mixedAdd(g.points[y].neg()));E=E.add(T)}return E.toP()},c.prototype._wnafMul=function(d,h){var g=4,m=d._getNAFPoints(g);g=m.wnd;for(var p=m.points,y=a(h,g,this._bitLength),b=this.jpoint(null,null,null),v=y.length-1;v>=0;v--){for(var F=0;v>=0&&y[v]===0;v--)F++;if(v>=0&&F++,b=b.dblp(F),v<0)break;var E=y[v];u(E!==0),b=d.type==="affine"?E>0?b.mixedAdd(p[E-1>>1]):b.mixedAdd(p[-E-1>>1].neg()):E>0?b.add(p[E-1>>1]):b.add(p[-E-1>>1].neg())}return d.type==="affine"?b.toP():b},c.prototype._wnafMulAdd=function(d,h,g,m,p){var y,b,v,F=this._wnafT1,E=this._wnafT2,T=this._wnafT3,I=0;for(y=0;y<m;y++){var M=(v=h[y])._getNAFPoints(d);F[y]=M.wnd,E[y]=M.points}for(y=m-1;y>=1;y-=2){var P=y-1,O=y;if(F[P]===1&&F[O]===1){var z=[h[P],null,null,h[O]];h[P].y.cmp(h[O].y)===0?(z[1]=h[P].add(h[O]),z[2]=h[P].toJ().mixedAdd(h[O].neg())):h[P].y.cmp(h[O].y.redNeg())===0?(z[1]=h[P].toJ().mixedAdd(h[O]),z[2]=h[P].add(h[O].neg())):(z[1]=h[P].toJ().mixedAdd(h[O]),z[2]=h[P].toJ().mixedAdd(h[O].neg()));var L=[-3,-1,-5,-7,0,7,5,1,3],_=l(g[P],g[O]);for(I=Math.max(_[0].length,I),T[P]=new Array(I),T[O]=new Array(I),b=0;b<I;b++){var R=0|_[0][b],k=0|_[1][b];T[P][b]=L[3*(R+1)+(k+1)],T[O][b]=0,E[P]=z}}else T[P]=a(g[P],F[P],this._bitLength),T[O]=a(g[O],F[O],this._bitLength),I=Math.max(T[P].length,I),I=Math.max(T[O].length,I)}var S=this.jpoint(null,null,null),w=this._wnafT4;for(y=I;y>=0;y--){for(var C=0;y>=0;){var x=!0;for(b=0;b<m;b++)w[b]=0|T[b][y],w[b]!==0&&(x=!1);if(!x)break;C++,y--}if(y>=0&&C++,S=S.dblp(C),y<0)break;for(b=0;b<m;b++){var A=w[b];A!==0&&(A>0?v=E[b][A-1>>1]:A<0&&(v=E[b][-A-1>>1].neg()),S=v.type==="affine"?S.mixedAdd(v):S.add(v))}}for(y=0;y<m;y++)E[y]=null;return p?S:S.toP()},c.BasePoint=f,f.prototype.eq=function(){throw new Error("Not implemented")},f.prototype.validate=function(){return this.curve.validate(this)},c.prototype.decodePoint=function(d,h){d=s.toArray(d,h);var g=this.p.byteLength();if((d[0]===4||d[0]===6||d[0]===7)&&d.length-1==2*g)return d[0]===6?u(d[d.length-1]%2==0):d[0]===7&&u(d[d.length-1]%2==1),this.point(d.slice(1,1+g),d.slice(1+g,1+2*g));if((d[0]===2||d[0]===3)&&d.length-1===g)return this.pointFromX(d.slice(1,1+g),d[0]===3);throw new Error("Unknown point format")},f.prototype.encodeCompressed=function(d){return this.encode(d,!0)},f.prototype._encode=function(d){var h=this.curve.p.byteLength(),g=this.getX().toArray("be",h);return d?[this.getY().isEven()?2:3].concat(g):[4].concat(g,this.getY().toArray("be",h))},f.prototype.encode=function(d,h){return s.encode(this._encode(h),d)},f.prototype.precompute=function(d){if(this.precomputed)return this;var h={doubles:null,naf:null,beta:null};return h.naf=this._getNAFPoints(8),h.doubles=this._getDoubles(4,d),h.beta=this._getBeta(),this.precomputed=h,this},f.prototype._hasDoubles=function(d){if(!this.precomputed)return!1;var h=this.precomputed.doubles;return!!h&&h.points.length>=Math.ceil((d.bitLength()+1)/h.step)},f.prototype._getDoubles=function(d,h){if(this.precomputed&&this.precomputed.doubles)return this.precomputed.doubles;for(var g=[this],m=this,p=0;p<h;p+=d){for(var y=0;y<d;y++)m=m.dbl();g.push(m)}return{step:d,points:g}},f.prototype._getNAFPoints=function(d){if(this.precomputed&&this.precomputed.naf)return this.precomputed.naf;for(var h=[this],g=(1<<d)-1,m=g===1?null:this.dbl(),p=1;p<g;p++)h[p]=h[p-1].add(m);return{wnd:d,points:h}},f.prototype._getBeta=function(){return null},f.prototype.dblp=function(d){for(var h=this,g=0;g<d;g++)h=h.dbl();return h}},{"../utils":419,"bn.js":420}],407:[function(r,n,i){var o=r("../utils"),s=r("bn.js"),a=r("inherits"),l=r("./base"),u=o.assert;function c(d){this.twisted=(0|d.a)!=1,this.mOneA=this.twisted&&(0|d.a)==-1,this.extended=this.mOneA,l.call(this,"edwards",d),this.a=new s(d.a,16).umod(this.red.m),this.a=this.a.toRed(this.red),this.c=new s(d.c,16).toRed(this.red),this.c2=this.c.redSqr(),this.d=new s(d.d,16).toRed(this.red),this.dd=this.d.redAdd(this.d),u(!this.twisted||this.c.fromRed().cmpn(1)===0),this.oneC=(0|d.c)==1}function f(d,h,g,m,p){l.BasePoint.call(this,d,"projective"),h===null&&g===null&&m===null?(this.x=this.curve.zero,this.y=this.curve.one,this.z=this.curve.one,this.t=this.curve.zero,this.zOne=!0):(this.x=new s(h,16),this.y=new s(g,16),this.z=m?new s(m,16):this.curve.one,this.t=p&&new s(p,16),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)),this.t&&!this.t.red&&(this.t=this.t.toRed(this.curve.red)),this.zOne=this.z===this.curve.one,this.curve.extended&&!this.t&&(this.t=this.x.redMul(this.y),this.zOne||(this.t=this.t.redMul(this.z.redInvm()))))}a(c,l),n.exports=c,c.prototype._mulA=function(d){return this.mOneA?d.redNeg():this.a.redMul(d)},c.prototype._mulC=function(d){return this.oneC?d:this.c.redMul(d)},c.prototype.jpoint=function(d,h,g,m){return this.point(d,h,g,m)},c.prototype.pointFromX=function(d,h){(d=new s(d,16)).red||(d=d.toRed(this.red));var g=d.redSqr(),m=this.c2.redSub(this.a.redMul(g)),p=this.one.redSub(this.c2.redMul(this.d).redMul(g)),y=m.redMul(p.redInvm()),b=y.redSqrt();if(b.redSqr().redSub(y).cmp(this.zero)!==0)throw new Error("invalid point");var v=b.fromRed().isOdd();return(h&&!v||!h&&v)&&(b=b.redNeg()),this.point(d,b)},c.prototype.pointFromY=function(d,h){(d=new s(d,16)).red||(d=d.toRed(this.red));var g=d.redSqr(),m=g.redSub(this.c2),p=g.redMul(this.d).redMul(this.c2).redSub(this.a),y=m.redMul(p.redInvm());if(y.cmp(this.zero)===0){if(h)throw new Error("invalid point");return this.point(this.zero,d)}var b=y.redSqrt();if(b.redSqr().redSub(y).cmp(this.zero)!==0)throw new Error("invalid point");return b.fromRed().isOdd()!==h&&(b=b.redNeg()),this.point(b,d)},c.prototype.validate=function(d){if(d.isInfinity())return!0;d.normalize();var h=d.x.redSqr(),g=d.y.redSqr(),m=h.redMul(this.a).redAdd(g),p=this.c2.redMul(this.one.redAdd(this.d.redMul(h).redMul(g)));return m.cmp(p)===0},a(f,l.BasePoint),c.prototype.pointFromJSON=function(d){return f.fromJSON(this,d)},c.prototype.point=function(d,h,g,m){return new f(this,d,h,g,m)},f.fromJSON=function(d,h){return new f(d,h[0],h[1],h[2])},f.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" y: "+this.y.fromRed().toString(16,2)+" z: "+this.z.fromRed().toString(16,2)+">"},f.prototype.isInfinity=function(){return this.x.cmpn(0)===0&&(this.y.cmp(this.z)===0||this.zOne&&this.y.cmp(this.curve.c)===0)},f.prototype._extDbl=function(){var d=this.x.redSqr(),h=this.y.redSqr(),g=this.z.redSqr();g=g.redIAdd(g);var m=this.curve._mulA(d),p=this.x.redAdd(this.y).redSqr().redISub(d).redISub(h),y=m.redAdd(h),b=y.redSub(g),v=m.redSub(h),F=p.redMul(b),E=y.redMul(v),T=p.redMul(v),I=b.redMul(y);return this.curve.point(F,E,I,T)},f.prototype._projDbl=function(){var d,h,g,m,p,y,b=this.x.redAdd(this.y).redSqr(),v=this.x.redSqr(),F=this.y.redSqr();if(this.curve.twisted){var E=(m=this.curve._mulA(v)).redAdd(F);this.zOne?(d=b.redSub(v).redSub(F).redMul(E.redSub(this.curve.two)),h=E.redMul(m.redSub(F)),g=E.redSqr().redSub(E).redSub(E)):(p=this.z.redSqr(),y=E.redSub(p).redISub(p),d=b.redSub(v).redISub(F).redMul(y),h=E.redMul(m.redSub(F)),g=E.redMul(y))}else m=v.redAdd(F),p=this.curve._mulC(this.z).redSqr(),y=m.redSub(p).redSub(p),d=this.curve._mulC(b.redISub(m)).redMul(y),h=this.curve._mulC(m).redMul(v.redISub(F)),g=m.redMul(y);return this.curve.point(d,h,g)},f.prototype.dbl=function(){return this.isInfinity()?this:this.curve.extended?this._extDbl():this._projDbl()},f.prototype._extAdd=function(d){var h=this.y.redSub(this.x).redMul(d.y.redSub(d.x)),g=this.y.redAdd(this.x).redMul(d.y.redAdd(d.x)),m=this.t.redMul(this.curve.dd).redMul(d.t),p=this.z.redMul(d.z.redAdd(d.z)),y=g.redSub(h),b=p.redSub(m),v=p.redAdd(m),F=g.redAdd(h),E=y.redMul(b),T=v.redMul(F),I=y.redMul(F),M=b.redMul(v);return this.curve.point(E,T,M,I)},f.prototype._projAdd=function(d){var h,g,m=this.z.redMul(d.z),p=m.redSqr(),y=this.x.redMul(d.x),b=this.y.redMul(d.y),v=this.curve.d.redMul(y).redMul(b),F=p.redSub(v),E=p.redAdd(v),T=this.x.redAdd(this.y).redMul(d.x.redAdd(d.y)).redISub(y).redISub(b),I=m.redMul(F).redMul(T);return this.curve.twisted?(h=m.redMul(E).redMul(b.redSub(this.curve._mulA(y))),g=F.redMul(E)):(h=m.redMul(E).redMul(b.redSub(y)),g=this.curve._mulC(F).redMul(E)),this.curve.point(I,h,g)},f.prototype.add=function(d){return this.isInfinity()?d:d.isInfinity()?this:this.curve.extended?this._extAdd(d):this._projAdd(d)},f.prototype.mul=function(d){return this._hasDoubles(d)?this.curve._fixedNafMul(this,d):this.curve._wnafMul(this,d)},f.prototype.mulAdd=function(d,h,g){return this.curve._wnafMulAdd(1,[this,h],[d,g],2,!1)},f.prototype.jmulAdd=function(d,h,g){return this.curve._wnafMulAdd(1,[this,h],[d,g],2,!0)},f.prototype.normalize=function(){if(this.zOne)return this;var d=this.z.redInvm();return this.x=this.x.redMul(d),this.y=this.y.redMul(d),this.t&&(this.t=this.t.redMul(d)),this.z=this.curve.one,this.zOne=!0,this},f.prototype.neg=function(){return this.curve.point(this.x.redNeg(),this.y,this.z,this.t&&this.t.redNeg())},f.prototype.getX=function(){return this.normalize(),this.x.fromRed()},f.prototype.getY=function(){return this.normalize(),this.y.fromRed()},f.prototype.eq=function(d){return this===d||this.getX().cmp(d.getX())===0&&this.getY().cmp(d.getY())===0},f.prototype.eqXToP=function(d){var h=d.toRed(this.curve.red).redMul(this.z);if(this.x.cmp(h)===0)return!0;for(var g=d.clone(),m=this.curve.redN.redMul(this.z);;){if(g.iadd(this.curve.n),g.cmp(this.curve.p)>=0)return!1;if(h.redIAdd(m),this.x.cmp(h)===0)return!0}},f.prototype.toP=f.prototype.normalize,f.prototype.mixedAdd=f.prototype.add},{"../utils":419,"./base":406,"bn.js":420,inherits:440}],408:[function(r,n,i){var o=i;o.base=r("./base"),o.short=r("./short"),o.mont=r("./mont"),o.edwards=r("./edwards")},{"./base":406,"./edwards":407,"./mont":409,"./short":410}],409:[function(r,n,i){var o=r("bn.js"),s=r("inherits"),a=r("./base"),l=r("../utils");function u(f){a.call(this,"mont",f),this.a=new o(f.a,16).toRed(this.red),this.b=new o(f.b,16).toRed(this.red),this.i4=new o(4).toRed(this.red).redInvm(),this.two=new o(2).toRed(this.red),this.a24=this.i4.redMul(this.a.redAdd(this.two))}function c(f,d,h){a.BasePoint.call(this,f,"projective"),d===null&&h===null?(this.x=this.curve.one,this.z=this.curve.zero):(this.x=new o(d,16),this.z=new o(h,16),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)))}s(u,a),n.exports=u,u.prototype.validate=function(f){var d=f.normalize().x,h=d.redSqr(),g=h.redMul(d).redAdd(h.redMul(this.a)).redAdd(d);return g.redSqrt().redSqr().cmp(g)===0},s(c,a.BasePoint),u.prototype.decodePoint=function(f,d){return this.point(l.toArray(f,d),1)},u.prototype.point=function(f,d){return new c(this,f,d)},u.prototype.pointFromJSON=function(f){return c.fromJSON(this,f)},c.prototype.precompute=function(){},c.prototype._encode=function(){return this.getX().toArray("be",this.curve.p.byteLength())},c.fromJSON=function(f,d){return new c(f,d[0],d[1]||f.one)},c.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" z: "+this.z.fromRed().toString(16,2)+">"},c.prototype.isInfinity=function(){return this.z.cmpn(0)===0},c.prototype.dbl=function(){var f=this.x.redAdd(this.z).redSqr(),d=this.x.redSub(this.z).redSqr(),h=f.redSub(d),g=f.redMul(d),m=h.redMul(d.redAdd(this.curve.a24.redMul(h)));return this.curve.point(g,m)},c.prototype.add=function(){throw new Error("Not supported on Montgomery curve")},c.prototype.diffAdd=function(f,d){var h=this.x.redAdd(this.z),g=this.x.redSub(this.z),m=f.x.redAdd(f.z),p=f.x.redSub(f.z).redMul(h),y=m.redMul(g),b=d.z.redMul(p.redAdd(y).redSqr()),v=d.x.redMul(p.redISub(y).redSqr());return this.curve.point(b,v)},c.prototype.mul=function(f){for(var d=f.clone(),h=this,g=this.curve.point(null,null),m=[];d.cmpn(0)!==0;d.iushrn(1))m.push(d.andln(1));for(var p=m.length-1;p>=0;p--)m[p]===0?(h=h.diffAdd(g,this),g=g.dbl()):(g=h.diffAdd(g,this),h=h.dbl());return g},c.prototype.mulAdd=function(){throw new Error("Not supported on Montgomery curve")},c.prototype.jumlAdd=function(){throw new Error("Not supported on Montgomery curve")},c.prototype.eq=function(f){return this.getX().cmp(f.getX())===0},c.prototype.normalize=function(){return this.x=this.x.redMul(this.z.redInvm()),this.z=this.curve.one,this},c.prototype.getX=function(){return this.normalize(),this.x.fromRed()}},{"../utils":419,"./base":406,"bn.js":420,inherits:440}],410:[function(r,n,i){var o=r("../utils"),s=r("bn.js"),a=r("inherits"),l=r("./base"),u=o.assert;function c(h){l.call(this,"short",h),this.a=new s(h.a,16).toRed(this.red),this.b=new s(h.b,16).toRed(this.red),this.tinv=this.two.redInvm(),this.zeroA=this.a.fromRed().cmpn(0)===0,this.threeA=this.a.fromRed().sub(this.p).cmpn(-3)===0,this.endo=this._getEndomorphism(h),this._endoWnafT1=new Array(4),this._endoWnafT2=new Array(4)}function f(h,g,m,p){l.BasePoint.call(this,h,"affine"),g===null&&m===null?(this.x=null,this.y=null,this.inf=!0):(this.x=new s(g,16),this.y=new s(m,16),p&&(this.x.forceRed(this.curve.red),this.y.forceRed(this.curve.red)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.inf=!1)}function d(h,g,m,p){l.BasePoint.call(this,h,"jacobian"),g===null&&m===null&&p===null?(this.x=this.curve.one,this.y=this.curve.one,this.z=new s(0)):(this.x=new s(g,16),this.y=new s(m,16),this.z=new s(p,16)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)),this.zOne=this.z===this.curve.one}a(c,l),n.exports=c,c.prototype._getEndomorphism=function(h){if(this.zeroA&&this.g&&this.n&&this.p.modn(3)===1){var g,m;if(h.beta)g=new s(h.beta,16).toRed(this.red);else{var p=this._getEndoRoots(this.p);g=(g=p[0].cmp(p[1])<0?p[0]:p[1]).toRed(this.red)}if(h.lambda)m=new s(h.lambda,16);else{var y=this._getEndoRoots(this.n);this.g.mul(y[0]).x.cmp(this.g.x.redMul(g))===0?m=y[0]:(m=y[1],u(this.g.mul(m).x.cmp(this.g.x.redMul(g))===0))}return{beta:g,lambda:m,basis:h.basis?h.basis.map((function(b){return{a:new s(b.a,16),b:new s(b.b,16)}})):this._getEndoBasis(m)}}},c.prototype._getEndoRoots=function(h){var g=h===this.p?this.red:s.mont(h),m=new s(2).toRed(g).redInvm(),p=m.redNeg(),y=new s(3).toRed(g).redNeg().redSqrt().redMul(m);return[p.redAdd(y).fromRed(),p.redSub(y).fromRed()]},c.prototype._getEndoBasis=function(h){for(var g,m,p,y,b,v,F,E,T,I=this.n.ushrn(Math.floor(this.n.bitLength()/2)),M=h,P=this.n.clone(),O=new s(1),z=new s(0),L=new s(0),_=new s(1),R=0;M.cmpn(0)!==0;){var k=P.div(M);E=P.sub(k.mul(M)),T=L.sub(k.mul(O));var S=_.sub(k.mul(z));if(!p&&E.cmp(I)<0)g=F.neg(),m=O,p=E.neg(),y=T;else if(p&&++R==2)break;F=E,P=M,M=E,L=O,O=T,_=z,z=S}b=E.neg(),v=T;var w=p.sqr().add(y.sqr());return b.sqr().add(v.sqr()).cmp(w)>=0&&(b=g,v=m),p.negative&&(p=p.neg(),y=y.neg()),b.negative&&(b=b.neg(),v=v.neg()),[{a:p,b:y},{a:b,b:v}]},c.prototype._endoSplit=function(h){var g=this.endo.basis,m=g[0],p=g[1],y=p.b.mul(h).divRound(this.n),b=m.b.neg().mul(h).divRound(this.n),v=y.mul(m.a),F=b.mul(p.a),E=y.mul(m.b),T=b.mul(p.b);return{k1:h.sub(v).sub(F),k2:E.add(T).neg()}},c.prototype.pointFromX=function(h,g){(h=new s(h,16)).red||(h=h.toRed(this.red));var m=h.redSqr().redMul(h).redIAdd(h.redMul(this.a)).redIAdd(this.b),p=m.redSqrt();if(p.redSqr().redSub(m).cmp(this.zero)!==0)throw new Error("invalid point");var y=p.fromRed().isOdd();return(g&&!y||!g&&y)&&(p=p.redNeg()),this.point(h,p)},c.prototype.validate=function(h){if(h.inf)return!0;var g=h.x,m=h.y,p=this.a.redMul(g),y=g.redSqr().redMul(g).redIAdd(p).redIAdd(this.b);return m.redSqr().redISub(y).cmpn(0)===0},c.prototype._endoWnafMulAdd=function(h,g,m){for(var p=this._endoWnafT1,y=this._endoWnafT2,b=0;b<h.length;b++){var v=this._endoSplit(g[b]),F=h[b],E=F._getBeta();v.k1.negative&&(v.k1.ineg(),F=F.neg(!0)),v.k2.negative&&(v.k2.ineg(),E=E.neg(!0)),p[2*b]=F,p[2*b+1]=E,y[2*b]=v.k1,y[2*b+1]=v.k2}for(var T=this._wnafMulAdd(1,p,y,2*b,m),I=0;I<2*b;I++)p[I]=null,y[I]=null;return T},a(f,l.BasePoint),c.prototype.point=function(h,g,m){return new f(this,h,g,m)},c.prototype.pointFromJSON=function(h,g){return f.fromJSON(this,h,g)},f.prototype._getBeta=function(){if(this.curve.endo){var h=this.precomputed;if(h&&h.beta)return h.beta;var g=this.curve.point(this.x.redMul(this.curve.endo.beta),this.y);if(h){var m=this.curve,p=function(y){return m.point(y.x.redMul(m.endo.beta),y.y)};h.beta=g,g.precomputed={beta:null,naf:h.naf&&{wnd:h.naf.wnd,points:h.naf.points.map(p)},doubles:h.doubles&&{step:h.doubles.step,points:h.doubles.points.map(p)}}}return g}},f.prototype.toJSON=function(){return this.precomputed?[this.x,this.y,this.precomputed&&{doubles:this.precomputed.doubles&&{step:this.precomputed.doubles.step,points:this.precomputed.doubles.points.slice(1)},naf:this.precomputed.naf&&{wnd:this.precomputed.naf.wnd,points:this.precomputed.naf.points.slice(1)}}]:[this.x,this.y]},f.fromJSON=function(h,g,m){typeof g=="string"&&(g=JSON.parse(g));var p=h.point(g[0],g[1],m);if(!g[2])return p;function y(v){return h.point(v[0],v[1],m)}var b=g[2];return p.precomputed={beta:null,doubles:b.doubles&&{step:b.doubles.step,points:[p].concat(b.doubles.points.map(y))},naf:b.naf&&{wnd:b.naf.wnd,points:[p].concat(b.naf.points.map(y))}},p},f.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" y: "+this.y.fromRed().toString(16,2)+">"},f.prototype.isInfinity=function(){return this.inf},f.prototype.add=function(h){if(this.inf)return h;if(h.inf)return this;if(this.eq(h))return this.dbl();if(this.neg().eq(h))return this.curve.point(null,null);if(this.x.cmp(h.x)===0)return this.curve.point(null,null);var g=this.y.redSub(h.y);g.cmpn(0)!==0&&(g=g.redMul(this.x.redSub(h.x).redInvm()));var m=g.redSqr().redISub(this.x).redISub(h.x),p=g.redMul(this.x.redSub(m)).redISub(this.y);return this.curve.point(m,p)},f.prototype.dbl=function(){if(this.inf)return this;var h=this.y.redAdd(this.y);if(h.cmpn(0)===0)return this.curve.point(null,null);var g=this.curve.a,m=this.x.redSqr(),p=h.redInvm(),y=m.redAdd(m).redIAdd(m).redIAdd(g).redMul(p),b=y.redSqr().redISub(this.x.redAdd(this.x)),v=y.redMul(this.x.redSub(b)).redISub(this.y);return this.curve.point(b,v)},f.prototype.getX=function(){return this.x.fromRed()},f.prototype.getY=function(){return this.y.fromRed()},f.prototype.mul=function(h){return h=new s(h,16),this.isInfinity()?this:this._hasDoubles(h)?this.curve._fixedNafMul(this,h):this.curve.endo?this.curve._endoWnafMulAdd([this],[h]):this.curve._wnafMul(this,h)},f.prototype.mulAdd=function(h,g,m){var p=[this,g],y=[h,m];return this.curve.endo?this.curve._endoWnafMulAdd(p,y):this.curve._wnafMulAdd(1,p,y,2)},f.prototype.jmulAdd=function(h,g,m){var p=[this,g],y=[h,m];return this.curve.endo?this.curve._endoWnafMulAdd(p,y,!0):this.curve._wnafMulAdd(1,p,y,2,!0)},f.prototype.eq=function(h){return this===h||this.inf===h.inf&&(this.inf||this.x.cmp(h.x)===0&&this.y.cmp(h.y)===0)},f.prototype.neg=function(h){if(this.inf)return this;var g=this.curve.point(this.x,this.y.redNeg());if(h&&this.precomputed){var m=this.precomputed,p=function(y){return y.neg()};g.precomputed={naf:m.naf&&{wnd:m.naf.wnd,points:m.naf.points.map(p)},doubles:m.doubles&&{step:m.doubles.step,points:m.doubles.points.map(p)}}}return g},f.prototype.toJ=function(){return this.inf?this.curve.jpoint(null,null,null):this.curve.jpoint(this.x,this.y,this.curve.one)},a(d,l.BasePoint),c.prototype.jpoint=function(h,g,m){return new d(this,h,g,m)},d.prototype.toP=function(){if(this.isInfinity())return this.curve.point(null,null);var h=this.z.redInvm(),g=h.redSqr(),m=this.x.redMul(g),p=this.y.redMul(g).redMul(h);return this.curve.point(m,p)},d.prototype.neg=function(){return this.curve.jpoint(this.x,this.y.redNeg(),this.z)},d.prototype.add=function(h){if(this.isInfinity())return h;if(h.isInfinity())return this;var g=h.z.redSqr(),m=this.z.redSqr(),p=this.x.redMul(g),y=h.x.redMul(m),b=this.y.redMul(g.redMul(h.z)),v=h.y.redMul(m.redMul(this.z)),F=p.redSub(y),E=b.redSub(v);if(F.cmpn(0)===0)return E.cmpn(0)!==0?this.curve.jpoint(null,null,null):this.dbl();var T=F.redSqr(),I=T.redMul(F),M=p.redMul(T),P=E.redSqr().redIAdd(I).redISub(M).redISub(M),O=E.redMul(M.redISub(P)).redISub(b.redMul(I)),z=this.z.redMul(h.z).redMul(F);return this.curve.jpoint(P,O,z)},d.prototype.mixedAdd=function(h){if(this.isInfinity())return h.toJ();if(h.isInfinity())return this;var g=this.z.redSqr(),m=this.x,p=h.x.redMul(g),y=this.y,b=h.y.redMul(g).redMul(this.z),v=m.redSub(p),F=y.redSub(b);if(v.cmpn(0)===0)return F.cmpn(0)!==0?this.curve.jpoint(null,null,null):this.dbl();var E=v.redSqr(),T=E.redMul(v),I=m.redMul(E),M=F.redSqr().redIAdd(T).redISub(I).redISub(I),P=F.redMul(I.redISub(M)).redISub(y.redMul(T)),O=this.z.redMul(v);return this.curve.jpoint(M,P,O)},d.prototype.dblp=function(h){if(h===0)return this;if(this.isInfinity())return this;if(!h)return this.dbl();var g;if(this.curve.zeroA||this.curve.threeA){var m=this;for(g=0;g<h;g++)m=m.dbl();return m}var p=this.curve.a,y=this.curve.tinv,b=this.x,v=this.y,F=this.z,E=F.redSqr().redSqr(),T=v.redAdd(v);for(g=0;g<h;g++){var I=b.redSqr(),M=T.redSqr(),P=M.redSqr(),O=I.redAdd(I).redIAdd(I).redIAdd(p.redMul(E)),z=b.redMul(M),L=O.redSqr().redISub(z.redAdd(z)),_=z.redISub(L),R=O.redMul(_);R=R.redIAdd(R).redISub(P);var k=T.redMul(F);g+1<h&&(E=E.redMul(P)),b=L,F=k,T=R}return this.curve.jpoint(b,T.redMul(y),F)},d.prototype.dbl=function(){return this.isInfinity()?this:this.curve.zeroA?this._zeroDbl():this.curve.threeA?this._threeDbl():this._dbl()},d.prototype._zeroDbl=function(){var h,g,m;if(this.zOne){var p=this.x.redSqr(),y=this.y.redSqr(),b=y.redSqr(),v=this.x.redAdd(y).redSqr().redISub(p).redISub(b);v=v.redIAdd(v);var F=p.redAdd(p).redIAdd(p),E=F.redSqr().redISub(v).redISub(v),T=b.redIAdd(b);T=(T=T.redIAdd(T)).redIAdd(T),h=E,g=F.redMul(v.redISub(E)).redISub(T),m=this.y.redAdd(this.y)}else{var I=this.x.redSqr(),M=this.y.redSqr(),P=M.redSqr(),O=this.x.redAdd(M).redSqr().redISub(I).redISub(P);O=O.redIAdd(O);var z=I.redAdd(I).redIAdd(I),L=z.redSqr(),_=P.redIAdd(P);_=(_=_.redIAdd(_)).redIAdd(_),h=L.redISub(O).redISub(O),g=z.redMul(O.redISub(h)).redISub(_),m=(m=this.y.redMul(this.z)).redIAdd(m)}return this.curve.jpoint(h,g,m)},d.prototype._threeDbl=function(){var h,g,m;if(this.zOne){var p=this.x.redSqr(),y=this.y.redSqr(),b=y.redSqr(),v=this.x.redAdd(y).redSqr().redISub(p).redISub(b);v=v.redIAdd(v);var F=p.redAdd(p).redIAdd(p).redIAdd(this.curve.a),E=F.redSqr().redISub(v).redISub(v);h=E;var T=b.redIAdd(b);T=(T=T.redIAdd(T)).redIAdd(T),g=F.redMul(v.redISub(E)).redISub(T),m=this.y.redAdd(this.y)}else{var I=this.z.redSqr(),M=this.y.redSqr(),P=this.x.redMul(M),O=this.x.redSub(I).redMul(this.x.redAdd(I));O=O.redAdd(O).redIAdd(O);var z=P.redIAdd(P),L=(z=z.redIAdd(z)).redAdd(z);h=O.redSqr().redISub(L),m=this.y.redAdd(this.z).redSqr().redISub(M).redISub(I);var _=M.redSqr();_=(_=(_=_.redIAdd(_)).redIAdd(_)).redIAdd(_),g=O.redMul(z.redISub(h)).redISub(_)}return this.curve.jpoint(h,g,m)},d.prototype._dbl=function(){var h=this.curve.a,g=this.x,m=this.y,p=this.z,y=p.redSqr().redSqr(),b=g.redSqr(),v=m.redSqr(),F=b.redAdd(b).redIAdd(b).redIAdd(h.redMul(y)),E=g.redAdd(g),T=(E=E.redIAdd(E)).redMul(v),I=F.redSqr().redISub(T.redAdd(T)),M=T.redISub(I),P=v.redSqr();P=(P=(P=P.redIAdd(P)).redIAdd(P)).redIAdd(P);var O=F.redMul(M).redISub(P),z=m.redAdd(m).redMul(p);return this.curve.jpoint(I,O,z)},d.prototype.trpl=function(){if(!this.curve.zeroA)return this.dbl().add(this);var h=this.x.redSqr(),g=this.y.redSqr(),m=this.z.redSqr(),p=g.redSqr(),y=h.redAdd(h).redIAdd(h),b=y.redSqr(),v=this.x.redAdd(g).redSqr().redISub(h).redISub(p),F=(v=(v=(v=v.redIAdd(v)).redAdd(v).redIAdd(v)).redISub(b)).redSqr(),E=p.redIAdd(p);E=(E=(E=E.redIAdd(E)).redIAdd(E)).redIAdd(E);var T=y.redIAdd(v).redSqr().redISub(b).redISub(F).redISub(E),I=g.redMul(T);I=(I=I.redIAdd(I)).redIAdd(I);var M=this.x.redMul(F).redISub(I);M=(M=M.redIAdd(M)).redIAdd(M);var P=this.y.redMul(T.redMul(E.redISub(T)).redISub(v.redMul(F)));P=(P=(P=P.redIAdd(P)).redIAdd(P)).redIAdd(P);var O=this.z.redAdd(v).redSqr().redISub(m).redISub(F);return this.curve.jpoint(M,P,O)},d.prototype.mul=function(h,g){return h=new s(h,g),this.curve._wnafMul(this,h)},d.prototype.eq=function(h){if(h.type==="affine")return this.eq(h.toJ());if(this===h)return!0;var g=this.z.redSqr(),m=h.z.redSqr();if(this.x.redMul(m).redISub(h.x.redMul(g)).cmpn(0)!==0)return!1;var p=g.redMul(this.z),y=m.redMul(h.z);return this.y.redMul(y).redISub(h.y.redMul(p)).cmpn(0)===0},d.prototype.eqXToP=function(h){var g=this.z.redSqr(),m=h.toRed(this.curve.red).redMul(g);if(this.x.cmp(m)===0)return!0;for(var p=h.clone(),y=this.curve.redN.redMul(g);;){if(p.iadd(this.curve.n),p.cmp(this.curve.p)>=0)return!1;if(m.redIAdd(y),this.x.cmp(m)===0)return!0}},d.prototype.inspect=function(){return this.isInfinity()?"<EC JPoint Infinity>":"<EC JPoint x: "+this.x.toString(16,2)+" y: "+this.y.toString(16,2)+" z: "+this.z.toString(16,2)+">"},d.prototype.isInfinity=function(){return this.z.cmpn(0)===0}},{"../utils":419,"./base":406,"bn.js":420,inherits:440}],411:[function(r,n,i){var o,s=i,a=r("hash.js"),l=r("./curve"),u=r("./utils").assert;function c(d){d.type==="short"?this.curve=new l.short(d):d.type==="edwards"?this.curve=new l.edwards(d):this.curve=new l.mont(d),this.g=this.curve.g,this.n=this.curve.n,this.hash=d.hash,u(this.g.validate(),"Invalid curve"),u(this.g.mul(this.n).isInfinity(),"Invalid curve, G*N != O")}function f(d,h){Object.defineProperty(s,d,{configurable:!0,enumerable:!0,get:function(){var g=new c(h);return Object.defineProperty(s,d,{configurable:!0,enumerable:!0,value:g}),g}})}s.PresetCurve=c,f("p192",{type:"short",prime:"p192",p:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff",a:"ffffffff ffffffff ffffffff fffffffe ffffffff fffffffc",b:"64210519 e59c80e7 0fa7e9ab 72243049 feb8deec c146b9b1",n:"ffffffff ffffffff ffffffff 99def836 146bc9b1 b4d22831",hash:a.sha256,gRed:!1,g:["188da80e b03090f6 7cbf20eb 43a18800 f4ff0afd 82ff1012","07192b95 ffc8da78 631011ed 6b24cdd5 73f977a1 1e794811"]}),f("p224",{type:"short",prime:"p224",p:"ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001",a:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff fffffffe",b:"b4050a85 0c04b3ab f5413256 5044b0b7 d7bfd8ba 270b3943 2355ffb4",n:"ffffffff ffffffff ffffffff ffff16a2 e0b8f03e 13dd2945 5c5c2a3d",hash:a.sha256,gRed:!1,g:["b70e0cbd 6bb4bf7f 321390b9 4a03c1d3 56c21122 343280d6 115c1d21","bd376388 b5f723fb 4c22dfe6 cd4375a0 5a074764 44d58199 85007e34"]}),f("p256",{type:"short",prime:null,p:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff ffffffff",a:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff fffffffc",b:"5ac635d8 aa3a93e7 b3ebbd55 769886bc 651d06b0 cc53b0f6 3bce3c3e 27d2604b",n:"ffffffff 00000000 ffffffff ffffffff bce6faad a7179e84 f3b9cac2 fc632551",hash:a.sha256,gRed:!1,g:["6b17d1f2 e12c4247 f8bce6e5 63a440f2 77037d81 2deb33a0 f4a13945 d898c296","4fe342e2 fe1a7f9b 8ee7eb4a 7c0f9e16 2bce3357 6b315ece cbb64068 37bf51f5"]}),f("p384",{type:"short",prime:null,p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 ffffffff",a:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 fffffffc",b:"b3312fa7 e23ee7e4 988e056b e3f82d19 181d9c6e fe814112 0314088f 5013875a c656398d 8a2ed19d 2a85c8ed d3ec2aef",n:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff c7634d81 f4372ddf 581a0db2 48b0a77a ecec196a ccc52973",hash:a.sha384,gRed:!1,g:["aa87ca22 be8b0537 8eb1c71e f320ad74 6e1d3b62 8ba79b98 59f741e0 82542a38 5502f25d bf55296c 3a545e38 72760ab7","3617de4a 96262c6f 5d9e98bf 9292dc29 f8f41dbd 289a147c e9da3113 b5f0b8c0 0a60b1ce 1d7e819d 7a431d7c 90ea0e5f"]}),f("p521",{type:"short",prime:null,p:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff",a:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffc",b:"00000051 953eb961 8e1c9a1f 929a21a0 b68540ee a2da725b 99b315f3 b8b48991 8ef109e1 56193951 ec7e937b 1652c0bd 3bb1bf07 3573df88 3d2c34f1 ef451fd4 6b503f00",n:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffa 51868783 bf2f966b 7fcc0148 f709a5d0 3bb5c9b8 899c47ae bb6fb71e 91386409",hash:a.sha512,gRed:!1,g:["000000c6 858e06b7 0404e9cd 9e3ecb66 2395b442 9c648139 053fb521 f828af60 6b4d3dba a14b5e77 efe75928 fe1dc127 a2ffa8de 3348b3c1 856a429b f97e7e31 c2e5bd66","00000118 39296a78 9a3bc004 5c8a5fb4 2c7d1bd9 98f54449 579b4468 17afbd17 273e662c 97ee7299 5ef42640 c550b901 3fad0761 353c7086 a272c240 88be9476 9fd16650"]}),f("curve25519",{type:"mont",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"76d06",b:"1",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:a.sha256,gRed:!1,g:["9"]}),f("ed25519",{type:"edwards",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"-1",c:"1",d:"52036cee2b6ffe73 8cc740797779e898 00700a4d4141d8ab 75eb4dca135978a3",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:a.sha256,gRed:!1,g:["216936d3cd6e53fec0a4e231fdd6dc5c692cc7609525a7b2c9562d608f25d51a","6666666666666666666666666666666666666666666666666666666666666658"]});try{o=r("./precomputed/secp256k1")}catch{o=void 0}f("secp256k1",{type:"short",prime:"k256",p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f",a:"0",b:"7",n:"ffffffff ffffffff ffffffff fffffffe baaedce6 af48a03b bfd25e8c d0364141",h:"1",hash:a.sha256,beta:"7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee",lambda:"5363ad4cc05c30e0a5261c028812645a122e22ea20816678df02967c1b23bd72",basis:[{a:"3086d221a7d46bcde86c90e49284eb15",b:"-e4437ed6010e88286f547fa90abfe4c3"},{a:"114ca50f7a8e2f3f657c1108d9d44cfd8",b:"3086d221a7d46bcde86c90e49284eb15"}],gRed:!1,g:["79be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f81798","483ada7726a3c4655da4fbfc0e1108a8fd17b448a68554199c47d08ffb10d4b8",o]})},{"./curve":408,"./precomputed/secp256k1":418,"./utils":419,"hash.js":426}],412:[function(r,n,i){var o=r("bn.js"),s=r("hmac-drbg"),a=r("../utils"),l=r("../curves"),u=r("brorand"),c=a.assert,f=r("./key"),d=r("./signature");function h(g){if(!(this instanceof h))return new h(g);typeof g=="string"&&(c(Object.prototype.hasOwnProperty.call(l,g),"Unknown curve "+g),g=l[g]),g instanceof l.PresetCurve&&(g={curve:g}),this.curve=g.curve.curve,this.n=this.curve.n,this.nh=this.n.ushrn(1),this.g=this.curve.g,this.g=g.curve.g,this.g.precompute(g.curve.n.bitLength()+1),this.hash=g.hash||g.curve.hash}n.exports=h,h.prototype.keyPair=function(g){return new f(this,g)},h.prototype.keyFromPrivate=function(g,m){return f.fromPrivate(this,g,m)},h.prototype.keyFromPublic=function(g,m){return f.fromPublic(this,g,m)},h.prototype.genKeyPair=function(g){g||(g={});for(var m=new s({hash:this.hash,pers:g.pers,persEnc:g.persEnc||"utf8",entropy:g.entropy||u(this.hash.hmacStrength),entropyEnc:g.entropy&&g.entropyEnc||"utf8",nonce:this.n.toArray()}),p=this.n.byteLength(),y=this.n.sub(new o(2));;){var b=new o(m.generate(p));if(!(b.cmp(y)>0))return b.iaddn(1),this.keyFromPrivate(b)}},h.prototype._truncateToN=function(g,m){var p=8*g.byteLength()-this.n.bitLength();return p>0&&(g=g.ushrn(p)),!m&&g.cmp(this.n)>=0?g.sub(this.n):g},h.prototype.sign=function(g,m,p,y){typeof p=="object"&&(y=p,p=null),y||(y={}),m=this.keyFromPrivate(m,p),g=this._truncateToN(new o(g,16));for(var b=this.n.byteLength(),v=m.getPrivate().toArray("be",b),F=g.toArray("be",b),E=new s({hash:this.hash,entropy:v,nonce:F,pers:y.pers,persEnc:y.persEnc||"utf8"}),T=this.n.sub(new o(1)),I=0;;I++){var M=y.k?y.k(I):new o(E.generate(this.n.byteLength()));if(!((M=this._truncateToN(M,!0)).cmpn(1)<=0||M.cmp(T)>=0)){var P=this.g.mul(M);if(!P.isInfinity()){var O=P.getX(),z=O.umod(this.n);if(z.cmpn(0)!==0){var L=M.invm(this.n).mul(z.mul(m.getPrivate()).iadd(g));if((L=L.umod(this.n)).cmpn(0)!==0){var _=(P.getY().isOdd()?1:0)|(O.cmp(z)!==0?2:0);return y.canonical&&L.cmp(this.nh)>0&&(L=this.n.sub(L),_^=1),new d({r:z,s:L,recoveryParam:_})}}}}}},h.prototype.verify=function(g,m,p,y){g=this._truncateToN(new o(g,16)),p=this.keyFromPublic(p,y);var b=(m=new d(m,"hex")).r,v=m.s;if(b.cmpn(1)<0||b.cmp(this.n)>=0||v.cmpn(1)<0||v.cmp(this.n)>=0)return!1;var F,E=v.invm(this.n),T=E.mul(g).umod(this.n),I=E.mul(b).umod(this.n);return this.curve._maxwellTrick?!(F=this.g.jmulAdd(T,p.getPublic(),I)).isInfinity()&&F.eqXToP(b):!(F=this.g.mulAdd(T,p.getPublic(),I)).isInfinity()&&F.getX().umod(this.n).cmp(b)===0},h.prototype.recoverPubKey=function(g,m,p,y){c((3&p)===p,"The recovery param is more than two bits"),m=new d(m,y);var b=this.n,v=new o(g),F=m.r,E=m.s,T=1&p,I=p>>1;if(F.cmp(this.curve.p.umod(this.curve.n))>=0&&I)throw new Error("Unable to find sencond key candinate");F=I?this.curve.pointFromX(F.add(this.curve.n),T):this.curve.pointFromX(F,T);var M=m.r.invm(b),P=b.sub(v).mul(M).umod(b),O=E.mul(M).umod(b);return this.g.mulAdd(P,F,O)},h.prototype.getKeyRecoveryParam=function(g,m,p,y){if((m=new d(m,y)).recoveryParam!==null)return m.recoveryParam;for(var b=0;b<4;b++){var v;try{v=this.recoverPubKey(g,m,b)}catch{continue}if(v.eq(p))return b}throw new Error("Unable to find valid recovery factor")}},{"../curves":411,"../utils":419,"./key":413,"./signature":414,"bn.js":420,brorand:187,"hmac-drbg":438}],413:[function(r,n,i){var o=r("bn.js"),s=r("../utils").assert;function a(l,u){this.ec=l,this.priv=null,this.pub=null,u.priv&&this._importPrivate(u.priv,u.privEnc),u.pub&&this._importPublic(u.pub,u.pubEnc)}n.exports=a,a.fromPublic=function(l,u,c){return u instanceof a?u:new a(l,{pub:u,pubEnc:c})},a.fromPrivate=function(l,u,c){return u instanceof a?u:new a(l,{priv:u,privEnc:c})},a.prototype.validate=function(){var l=this.getPublic();return l.isInfinity()?{result:!1,reason:"Invalid public key"}:l.validate()?l.mul(this.ec.curve.n).isInfinity()?{result:!0,reason:null}:{result:!1,reason:"Public key * N != O"}:{result:!1,reason:"Public key is not a point"}},a.prototype.getPublic=function(l,u){return typeof l=="string"&&(u=l,l=null),this.pub||(this.pub=this.ec.g.mul(this.priv)),u?this.pub.encode(u,l):this.pub},a.prototype.getPrivate=function(l){return l==="hex"?this.priv.toString(16,2):this.priv},a.prototype._importPrivate=function(l,u){this.priv=new o(l,u||16),this.priv=this.priv.umod(this.ec.curve.n)},a.prototype._importPublic=function(l,u){if(l.x||l.y)return this.ec.curve.type==="mont"?s(l.x,"Need x coordinate"):this.ec.curve.type!=="short"&&this.ec.curve.type!=="edwards"||s(l.x&&l.y,"Need both x and y coordinate"),void(this.pub=this.ec.curve.point(l.x,l.y));this.pub=this.ec.curve.decodePoint(l,u)},a.prototype.derive=function(l){return l.validate()||s(l.validate(),"public point not validated"),l.mul(this.priv).getX()},a.prototype.sign=function(l,u,c){return this.ec.sign(l,this,u,c)},a.prototype.verify=function(l,u){return this.ec.verify(l,u,this)},a.prototype.inspect=function(){return"<Key priv: "+(this.priv&&this.priv.toString(16,2))+" pub: "+(this.pub&&this.pub.inspect())+" >"}},{"../utils":419,"bn.js":420}],414:[function(r,n,i){var o=r("bn.js"),s=r("../utils"),a=s.assert;function l(h,g){if(h instanceof l)return h;this._importDER(h,g)||(a(h.r&&h.s,"Signature without r or s"),this.r=new o(h.r,16),this.s=new o(h.s,16),h.recoveryParam===void 0?this.recoveryParam=null:this.recoveryParam=h.recoveryParam)}function u(){this.place=0}function c(h,g){var m=h[g.place++];if(!(128&m))return m;var p=15&m;if(p===0||p>4)return!1;for(var y=0,b=0,v=g.place;b<p;b++,v++)y<<=8,y|=h[v],y>>>=0;return!(y<=127)&&(g.place=v,y)}function f(h){for(var g=0,m=h.length-1;!h[g]&&!(128&h[g+1])&&g<m;)g++;return g===0?h:h.slice(g)}function d(h,g){if(g<128)h.push(g);else{var m=1+(Math.log(g)/Math.LN2>>>3);for(h.push(128|m);--m;)h.push(g>>>(m<<3)&255);h.push(g)}}n.exports=l,l.prototype._importDER=function(h,g){h=s.toArray(h,g);var m=new u;if(h[m.place++]!==48)return!1;var p=c(h,m);if(p===!1||p+m.place!==h.length||h[m.place++]!==2)return!1;var y=c(h,m);if(y===!1)return!1;var b=h.slice(m.place,y+m.place);if(m.place+=y,h[m.place++]!==2)return!1;var v=c(h,m);if(v===!1||h.length!==v+m.place)return!1;var F=h.slice(m.place,v+m.place);if(b[0]===0){if(!(128&b[1]))return!1;b=b.slice(1)}if(F[0]===0){if(!(128&F[1]))return!1;F=F.slice(1)}return this.r=new o(b),this.s=new o(F),this.recoveryParam=null,!0},l.prototype.toDER=function(h){var g=this.r.toArray(),m=this.s.toArray();for(128&g[0]&&(g=[0].concat(g)),128&m[0]&&(m=[0].concat(m)),g=f(g),m=f(m);!(m[0]||128&m[1]);)m=m.slice(1);var p=[2];d(p,g.length),(p=p.concat(g)).push(2),d(p,m.length);var y=p.concat(m),b=[48];return d(b,y.length),b=b.concat(y),s.encode(b,h)}},{"../utils":419,"bn.js":420}],415:[function(r,n,i){var o=r("hash.js"),s=r("../curves"),a=r("../utils"),l=a.assert,u=a.parseBytes,c=r("./key"),f=r("./signature");function d(h){if(l(h==="ed25519","only tested with ed25519 so far"),!(this instanceof d))return new d(h);h=s[h].curve,this.curve=h,this.g=h.g,this.g.precompute(h.n.bitLength()+1),this.pointClass=h.point().constructor,this.encodingLength=Math.ceil(h.n.bitLength()/8),this.hash=o.sha512}n.exports=d,d.prototype.sign=function(h,g){h=u(h);var m=this.keyFromSecret(g),p=this.hashInt(m.messagePrefix(),h),y=this.g.mul(p),b=this.encodePoint(y),v=this.hashInt(b,m.pubBytes(),h).mul(m.priv()),F=p.add(v).umod(this.curve.n);return this.makeSignature({R:y,S:F,Rencoded:b})},d.prototype.verify=function(h,g,m){h=u(h),g=this.makeSignature(g);var p=this.keyFromPublic(m),y=this.hashInt(g.Rencoded(),p.pubBytes(),h),b=this.g.mul(g.S());return g.R().add(p.pub().mul(y)).eq(b)},d.prototype.hashInt=function(){for(var h=this.hash(),g=0;g<arguments.length;g++)h.update(arguments[g]);return a.intFromLE(h.digest()).umod(this.curve.n)},d.prototype.keyFromPublic=function(h){return c.fromPublic(this,h)},d.prototype.keyFromSecret=function(h){return c.fromSecret(this,h)},d.prototype.makeSignature=function(h){return h instanceof f?h:new f(this,h)},d.prototype.encodePoint=function(h){var g=h.getY().toArray("le",this.encodingLength);return g[this.encodingLength-1]|=h.getX().isOdd()?128:0,g},d.prototype.decodePoint=function(h){var g=(h=a.parseBytes(h)).length-1,m=h.slice(0,g).concat(-129&h[g]),p=(128&h[g])!=0,y=a.intFromLE(m);return this.curve.pointFromY(y,p)},d.prototype.encodeInt=function(h){return h.toArray("le",this.encodingLength)},d.prototype.decodeInt=function(h){return a.intFromLE(h)},d.prototype.isPoint=function(h){return h instanceof this.pointClass}},{"../curves":411,"../utils":419,"./key":416,"./signature":417,"hash.js":426}],416:[function(r,n,i){var o=r("../utils"),s=o.assert,a=o.parseBytes,l=o.cachedProperty;function u(c,f){this.eddsa=c,this._secret=a(f.secret),c.isPoint(f.pub)?this._pub=f.pub:this._pubBytes=a(f.pub)}u.fromPublic=function(c,f){return f instanceof u?f:new u(c,{pub:f})},u.fromSecret=function(c,f){return f instanceof u?f:new u(c,{secret:f})},u.prototype.secret=function(){return this._secret},l(u,"pubBytes",(function(){return this.eddsa.encodePoint(this.pub())})),l(u,"pub",(function(){return this._pubBytes?this.eddsa.decodePoint(this._pubBytes):this.eddsa.g.mul(this.priv())})),l(u,"privBytes",(function(){var c=this.eddsa,f=this.hash(),d=c.encodingLength-1,h=f.slice(0,c.encodingLength);return h[0]&=248,h[d]&=127,h[d]|=64,h})),l(u,"priv",(function(){return this.eddsa.decodeInt(this.privBytes())})),l(u,"hash",(function(){return this.eddsa.hash().update(this.secret()).digest()})),l(u,"messagePrefix",(function(){return this.hash().slice(this.eddsa.encodingLength)})),u.prototype.sign=function(c){return s(this._secret,"KeyPair can only verify"),this.eddsa.sign(c,this)},u.prototype.verify=function(c,f){return this.eddsa.verify(c,f,this)},u.prototype.getSecret=function(c){return s(this._secret,"KeyPair is public only"),o.encode(this.secret(),c)},u.prototype.getPublic=function(c){return o.encode(this.pubBytes(),c)},n.exports=u},{"../utils":419}],417:[function(r,n,i){var o=r("bn.js"),s=r("../utils"),a=s.assert,l=s.cachedProperty,u=s.parseBytes;function c(f,d){this.eddsa=f,typeof d!="object"&&(d=u(d)),Array.isArray(d)&&(d={R:d.slice(0,f.encodingLength),S:d.slice(f.encodingLength)}),a(d.R&&d.S,"Signature without R or S"),f.isPoint(d.R)&&(this._R=d.R),d.S instanceof o&&(this._S=d.S),this._Rencoded=Array.isArray(d.R)?d.R:d.Rencoded,this._Sencoded=Array.isArray(d.S)?d.S:d.Sencoded}l(c,"S",(function(){return this.eddsa.decodeInt(this.Sencoded())})),l(c,"R",(function(){return this.eddsa.decodePoint(this.Rencoded())})),l(c,"Rencoded",(function(){return this.eddsa.encodePoint(this.R())})),l(c,"Sencoded",(function(){return this.eddsa.encodeInt(this.S())})),c.prototype.toBytes=function(){return this.Rencoded().concat(this.Sencoded())},c.prototype.toHex=function(){return s.encode(this.toBytes(),"hex").toUpperCase()},n.exports=c},{"../utils":419,"bn.js":420}],418:[function(r,n,i){n.exports={doubles:{step:4,points:[["e60fce93b59e9ec53011aabc21c23e97b2a31369b87a5ae9c44ee89e2a6dec0a","f7e3507399e595929db99f34f57937101296891e44d23f0be1f32cce69616821"],["8282263212c609d9ea2a6e3e172de238d8c39cabd5ac1ca10646e23fd5f51508","11f8a8098557dfe45e8256e830b60ace62d613ac2f7b17bed31b6eaff6e26caf"],["175e159f728b865a72f99cc6c6fc846de0b93833fd2222ed73fce5b551e5b739","d3506e0d9e3c79eba4ef97a51ff71f5eacb5955add24345c6efa6ffee9fed695"],["363d90d447b00c9c99ceac05b6262ee053441c7e55552ffe526bad8f83ff4640","4e273adfc732221953b445397f3363145b9a89008199ecb62003c7f3bee9de9"],["8b4b5f165df3c2be8c6244b5b745638843e4a781a15bcd1b69f79a55dffdf80c","4aad0a6f68d308b4b3fbd7813ab0da04f9e336546162ee56b3eff0c65fd4fd36"],["723cbaa6e5db996d6bf771c00bd548c7b700dbffa6c0e77bcb6115925232fcda","96e867b5595cc498a921137488824d6e2660a0653779494801dc069d9eb39f5f"],["eebfa4d493bebf98ba5feec812c2d3b50947961237a919839a533eca0e7dd7fa","5d9a8ca3970ef0f269ee7edaf178089d9ae4cdc3a711f712ddfd4fdae1de8999"],["100f44da696e71672791d0a09b7bde459f1215a29b3c03bfefd7835b39a48db0","cdd9e13192a00b772ec8f3300c090666b7ff4a18ff5195ac0fbd5cd62bc65a09"],["e1031be262c7ed1b1dc9227a4a04c017a77f8d4464f3b3852c8acde6e534fd2d","9d7061928940405e6bb6a4176597535af292dd419e1ced79a44f18f29456a00d"],["feea6cae46d55b530ac2839f143bd7ec5cf8b266a41d6af52d5e688d9094696d","e57c6b6c97dce1bab06e4e12bf3ecd5c981c8957cc41442d3155debf18090088"],["da67a91d91049cdcb367be4be6ffca3cfeed657d808583de33fa978bc1ec6cb1","9bacaa35481642bc41f463f7ec9780e5dec7adc508f740a17e9ea8e27a68be1d"],["53904faa0b334cdda6e000935ef22151ec08d0f7bb11069f57545ccc1a37b7c0","5bc087d0bc80106d88c9eccac20d3c1c13999981e14434699dcb096b022771c8"],["8e7bcd0bd35983a7719cca7764ca906779b53a043a9b8bcaeff959f43ad86047","10b7770b2a3da4b3940310420ca9514579e88e2e47fd68b3ea10047e8460372a"],["385eed34c1cdff21e6d0818689b81bde71a7f4f18397e6690a841e1599c43862","283bebc3e8ea23f56701de19e9ebf4576b304eec2086dc8cc0458fe5542e5453"],["6f9d9b803ecf191637c73a4413dfa180fddf84a5947fbc9c606ed86c3fac3a7","7c80c68e603059ba69b8e2a30e45c4d47ea4dd2f5c281002d86890603a842160"],["3322d401243c4e2582a2147c104d6ecbf774d163db0f5e5313b7e0e742d0e6bd","56e70797e9664ef5bfb019bc4ddaf9b72805f63ea2873af624f3a2e96c28b2a0"],["85672c7d2de0b7da2bd1770d89665868741b3f9af7643397721d74d28134ab83","7c481b9b5b43b2eb6374049bfa62c2e5e77f17fcc5298f44c8e3094f790313a6"],["948bf809b1988a46b06c9f1919413b10f9226c60f668832ffd959af60c82a0a","53a562856dcb6646dc6b74c5d1c3418c6d4dff08c97cd2bed4cb7f88d8c8e589"],["6260ce7f461801c34f067ce0f02873a8f1b0e44dfc69752accecd819f38fd8e8","bc2da82b6fa5b571a7f09049776a1ef7ecd292238051c198c1a84e95b2b4ae17"],["e5037de0afc1d8d43d8348414bbf4103043ec8f575bfdc432953cc8d2037fa2d","4571534baa94d3b5f9f98d09fb990bddbd5f5b03ec481f10e0e5dc841d755bda"],["e06372b0f4a207adf5ea905e8f1771b4e7e8dbd1c6a6c5b725866a0ae4fce725","7a908974bce18cfe12a27bb2ad5a488cd7484a7787104870b27034f94eee31dd"],["213c7a715cd5d45358d0bbf9dc0ce02204b10bdde2a3f58540ad6908d0559754","4b6dad0b5ae462507013ad06245ba190bb4850f5f36a7eeddff2c27534b458f2"],["4e7c272a7af4b34e8dbb9352a5419a87e2838c70adc62cddf0cc3a3b08fbd53c","17749c766c9d0b18e16fd09f6def681b530b9614bff7dd33e0b3941817dcaae6"],["fea74e3dbe778b1b10f238ad61686aa5c76e3db2be43057632427e2840fb27b6","6e0568db9b0b13297cf674deccb6af93126b596b973f7b77701d3db7f23cb96f"],["76e64113f677cf0e10a2570d599968d31544e179b760432952c02a4417bdde39","c90ddf8dee4e95cf577066d70681f0d35e2a33d2b56d2032b4b1752d1901ac01"],["c738c56b03b2abe1e8281baa743f8f9a8f7cc643df26cbee3ab150242bcbb891","893fb578951ad2537f718f2eacbfbbbb82314eef7880cfe917e735d9699a84c3"],["d895626548b65b81e264c7637c972877d1d72e5f3a925014372e9f6588f6c14b","febfaa38f2bc7eae728ec60818c340eb03428d632bb067e179363ed75d7d991f"],["b8da94032a957518eb0f6433571e8761ceffc73693e84edd49150a564f676e03","2804dfa44805a1e4d7c99cc9762808b092cc584d95ff3b511488e4e74efdf6e7"],["e80fea14441fb33a7d8adab9475d7fab2019effb5156a792f1a11778e3c0df5d","eed1de7f638e00771e89768ca3ca94472d155e80af322ea9fcb4291b6ac9ec78"],["a301697bdfcd704313ba48e51d567543f2a182031efd6915ddc07bbcc4e16070","7370f91cfb67e4f5081809fa25d40f9b1735dbf7c0a11a130c0d1a041e177ea1"],["90ad85b389d6b936463f9d0512678de208cc330b11307fffab7ac63e3fb04ed4","e507a3620a38261affdcbd9427222b839aefabe1582894d991d4d48cb6ef150"],["8f68b9d2f63b5f339239c1ad981f162ee88c5678723ea3351b7b444c9ec4c0da","662a9f2dba063986de1d90c2b6be215dbbea2cfe95510bfdf23cbf79501fff82"],["e4f3fb0176af85d65ff99ff9198c36091f48e86503681e3e6686fd5053231e11","1e63633ad0ef4f1c1661a6d0ea02b7286cc7e74ec951d1c9822c38576feb73bc"],["8c00fa9b18ebf331eb961537a45a4266c7034f2f0d4e1d0716fb6eae20eae29e","efa47267fea521a1a9dc343a3736c974c2fadafa81e36c54e7d2a4c66702414b"],["e7a26ce69dd4829f3e10cec0a9e98ed3143d084f308b92c0997fddfc60cb3e41","2a758e300fa7984b471b006a1aafbb18d0a6b2c0420e83e20e8a9421cf2cfd51"],["b6459e0ee3662ec8d23540c223bcbdc571cbcb967d79424f3cf29eb3de6b80ef","67c876d06f3e06de1dadf16e5661db3c4b3ae6d48e35b2ff30bf0b61a71ba45"],["d68a80c8280bb840793234aa118f06231d6f1fc67e73c5a5deda0f5b496943e8","db8ba9fff4b586d00c4b1f9177b0e28b5b0e7b8f7845295a294c84266b133120"],["324aed7df65c804252dc0270907a30b09612aeb973449cea4095980fc28d3d5d","648a365774b61f2ff130c0c35aec1f4f19213b0c7e332843967224af96ab7c84"],["4df9c14919cde61f6d51dfdbe5fee5dceec4143ba8d1ca888e8bd373fd054c96","35ec51092d8728050974c23a1d85d4b5d506cdc288490192ebac06cad10d5d"],["9c3919a84a474870faed8a9c1cc66021523489054d7f0308cbfc99c8ac1f98cd","ddb84f0f4a4ddd57584f044bf260e641905326f76c64c8e6be7e5e03d4fc599d"],["6057170b1dd12fdf8de05f281d8e06bb91e1493a8b91d4cc5a21382120a959e5","9a1af0b26a6a4807add9a2daf71df262465152bc3ee24c65e899be932385a2a8"],["a576df8e23a08411421439a4518da31880cef0fba7d4df12b1a6973eecb94266","40a6bf20e76640b2c92b97afe58cd82c432e10a7f514d9f3ee8be11ae1b28ec8"],["7778a78c28dec3e30a05fe9629de8c38bb30d1f5cf9a3a208f763889be58ad71","34626d9ab5a5b22ff7098e12f2ff580087b38411ff24ac563b513fc1fd9f43ac"],["928955ee637a84463729fd30e7afd2ed5f96274e5ad7e5cb09eda9c06d903ac","c25621003d3f42a827b78a13093a95eeac3d26efa8a8d83fc5180e935bcd091f"],["85d0fef3ec6db109399064f3a0e3b2855645b4a907ad354527aae75163d82751","1f03648413a38c0be29d496e582cf5663e8751e96877331582c237a24eb1f962"],["ff2b0dce97eece97c1c9b6041798b85dfdfb6d8882da20308f5404824526087e","493d13fef524ba188af4c4dc54d07936c7b7ed6fb90e2ceb2c951e01f0c29907"],["827fbbe4b1e880ea9ed2b2e6301b212b57f1ee148cd6dd28780e5e2cf856e241","c60f9c923c727b0b71bef2c67d1d12687ff7a63186903166d605b68baec293ec"],["eaa649f21f51bdbae7be4ae34ce6e5217a58fdce7f47f9aa7f3b58fa2120e2b3","be3279ed5bbbb03ac69a80f89879aa5a01a6b965f13f7e59d47a5305ba5ad93d"],["e4a42d43c5cf169d9391df6decf42ee541b6d8f0c9a137401e23632dda34d24f","4d9f92e716d1c73526fc99ccfb8ad34ce886eedfa8d8e4f13a7f7131deba9414"],["1ec80fef360cbdd954160fadab352b6b92b53576a88fea4947173b9d4300bf19","aeefe93756b5340d2f3a4958a7abbf5e0146e77f6295a07b671cdc1cc107cefd"],["146a778c04670c2f91b00af4680dfa8bce3490717d58ba889ddb5928366642be","b318e0ec3354028add669827f9d4b2870aaa971d2f7e5ed1d0b297483d83efd0"],["fa50c0f61d22e5f07e3acebb1aa07b128d0012209a28b9776d76a8793180eef9","6b84c6922397eba9b72cd2872281a68a5e683293a57a213b38cd8d7d3f4f2811"],["da1d61d0ca721a11b1a5bf6b7d88e8421a288ab5d5bba5220e53d32b5f067ec2","8157f55a7c99306c79c0766161c91e2966a73899d279b48a655fba0f1ad836f1"],["a8e282ff0c9706907215ff98e8fd416615311de0446f1e062a73b0610d064e13","7f97355b8db81c09abfb7f3c5b2515888b679a3e50dd6bd6cef7c73111f4cc0c"],["174a53b9c9a285872d39e56e6913cab15d59b1fa512508c022f382de8319497c","ccc9dc37abfc9c1657b4155f2c47f9e6646b3a1d8cb9854383da13ac079afa73"],["959396981943785c3d3e57edf5018cdbe039e730e4918b3d884fdff09475b7ba","2e7e552888c331dd8ba0386a4b9cd6849c653f64c8709385e9b8abf87524f2fd"],["d2a63a50ae401e56d645a1153b109a8fcca0a43d561fba2dbb51340c9d82b151","e82d86fb6443fcb7565aee58b2948220a70f750af484ca52d4142174dcf89405"],["64587e2335471eb890ee7896d7cfdc866bacbdbd3839317b3436f9b45617e073","d99fcdd5bf6902e2ae96dd6447c299a185b90a39133aeab358299e5e9faf6589"],["8481bde0e4e4d885b3a546d3e549de042f0aa6cea250e7fd358d6c86dd45e458","38ee7b8cba5404dd84a25bf39cecb2ca900a79c42b262e556d64b1b59779057e"],["13464a57a78102aa62b6979ae817f4637ffcfed3c4b1ce30bcd6303f6caf666b","69be159004614580ef7e433453ccb0ca48f300a81d0942e13f495a907f6ecc27"],["bc4a9df5b713fe2e9aef430bcc1dc97a0cd9ccede2f28588cada3a0d2d83f366","d3a81ca6e785c06383937adf4b798caa6e8a9fbfa547b16d758d666581f33c1"],["8c28a97bf8298bc0d23d8c749452a32e694b65e30a9472a3954ab30fe5324caa","40a30463a3305193378fedf31f7cc0eb7ae784f0451cb9459e71dc73cbef9482"],["8ea9666139527a8c1dd94ce4f071fd23c8b350c5a4bb33748c4ba111faccae0","620efabbc8ee2782e24e7c0cfb95c5d735b783be9cf0f8e955af34a30e62b945"],["dd3625faef5ba06074669716bbd3788d89bdde815959968092f76cc4eb9a9787","7a188fa3520e30d461da2501045731ca941461982883395937f68d00c644a573"],["f710d79d9eb962297e4f6232b40e8f7feb2bc63814614d692c12de752408221e","ea98e67232d3b3295d3b535532115ccac8612c721851617526ae47a9c77bfc82"]]},naf:{wnd:7,points:[["f9308a019258c31049344f85f89d5229b531c845836f99b08601f113bce036f9","388f7b0f632de8140fe337e62a37f3566500a99934c2231b6cb9fd7584b8e672"],["2f8bde4d1a07209355b4a7250a5c5128e88b84bddc619ab7cba8d569b240efe4","d8ac222636e5e3d6d4dba9dda6c9c426f788271bab0d6840dca87d3aa6ac62d6"],["5cbdf0646e5db4eaa398f365f2ea7a0e3d419b7e0330e39ce92bddedcac4f9bc","6aebca40ba255960a3178d6d861a54dba813d0b813fde7b5a5082628087264da"],["acd484e2f0c7f65309ad178a9f559abde09796974c57e714c35f110dfc27ccbe","cc338921b0a7d9fd64380971763b61e9add888a4375f8e0f05cc262ac64f9c37"],["774ae7f858a9411e5ef4246b70c65aac5649980be5c17891bbec17895da008cb","d984a032eb6b5e190243dd56d7b7b365372db1e2dff9d6a8301d74c9c953c61b"],["f28773c2d975288bc7d1d205c3748651b075fbc6610e58cddeeddf8f19405aa8","ab0902e8d880a89758212eb65cdaf473a1a06da521fa91f29b5cb52db03ed81"],["d7924d4f7d43ea965a465ae3095ff41131e5946f3c85f79e44adbcf8e27e080e","581e2872a86c72a683842ec228cc6defea40af2bd896d3a5c504dc9ff6a26b58"],["defdea4cdb677750a420fee807eacf21eb9898ae79b9768766e4faa04a2d4a34","4211ab0694635168e997b0ead2a93daeced1f4a04a95c0f6cfb199f69e56eb77"],["2b4ea0a797a443d293ef5cff444f4979f06acfebd7e86d277475656138385b6c","85e89bc037945d93b343083b5a1c86131a01f60c50269763b570c854e5c09b7a"],["352bbf4a4cdd12564f93fa332ce333301d9ad40271f8107181340aef25be59d5","321eb4075348f534d59c18259dda3e1f4a1b3b2e71b1039c67bd3d8bcf81998c"],["2fa2104d6b38d11b0230010559879124e42ab8dfeff5ff29dc9cdadd4ecacc3f","2de1068295dd865b64569335bd5dd80181d70ecfc882648423ba76b532b7d67"],["9248279b09b4d68dab21a9b066edda83263c3d84e09572e269ca0cd7f5453714","73016f7bf234aade5d1aa71bdea2b1ff3fc0de2a887912ffe54a32ce97cb3402"],["daed4f2be3a8bf278e70132fb0beb7522f570e144bf615c07e996d443dee8729","a69dce4a7d6c98e8d4a1aca87ef8d7003f83c230f3afa726ab40e52290be1c55"],["c44d12c7065d812e8acf28d7cbb19f9011ecd9e9fdf281b0e6a3b5e87d22e7db","2119a460ce326cdc76c45926c982fdac0e106e861edf61c5a039063f0e0e6482"],["6a245bf6dc698504c89a20cfded60853152b695336c28063b61c65cbd269e6b4","e022cf42c2bd4a708b3f5126f16a24ad8b33ba48d0423b6efd5e6348100d8a82"],["1697ffa6fd9de627c077e3d2fe541084ce13300b0bec1146f95ae57f0d0bd6a5","b9c398f186806f5d27561506e4557433a2cf15009e498ae7adee9d63d01b2396"],["605bdb019981718b986d0f07e834cb0d9deb8360ffb7f61df982345ef27a7479","2972d2de4f8d20681a78d93ec96fe23c26bfae84fb14db43b01e1e9056b8c49"],["62d14dab4150bf497402fdc45a215e10dcb01c354959b10cfe31c7e9d87ff33d","80fc06bd8cc5b01098088a1950eed0db01aa132967ab472235f5642483b25eaf"],["80c60ad0040f27dade5b4b06c408e56b2c50e9f56b9b8b425e555c2f86308b6f","1c38303f1cc5c30f26e66bad7fe72f70a65eed4cbe7024eb1aa01f56430bd57a"],["7a9375ad6167ad54aa74c6348cc54d344cc5dc9487d847049d5eabb0fa03c8fb","d0e3fa9eca8726909559e0d79269046bdc59ea10c70ce2b02d499ec224dc7f7"],["d528ecd9b696b54c907a9ed045447a79bb408ec39b68df504bb51f459bc3ffc9","eecf41253136e5f99966f21881fd656ebc4345405c520dbc063465b521409933"],["49370a4b5f43412ea25f514e8ecdad05266115e4a7ecb1387231808f8b45963","758f3f41afd6ed428b3081b0512fd62a54c3f3afbb5b6764b653052a12949c9a"],["77f230936ee88cbbd73df930d64702ef881d811e0e1498e2f1c13eb1fc345d74","958ef42a7886b6400a08266e9ba1b37896c95330d97077cbbe8eb3c7671c60d6"],["f2dac991cc4ce4b9ea44887e5c7c0bce58c80074ab9d4dbaeb28531b7739f530","e0dedc9b3b2f8dad4da1f32dec2531df9eb5fbeb0598e4fd1a117dba703a3c37"],["463b3d9f662621fb1b4be8fbbe2520125a216cdfc9dae3debcba4850c690d45b","5ed430d78c296c3543114306dd8622d7c622e27c970a1de31cb377b01af7307e"],["f16f804244e46e2a09232d4aff3b59976b98fac14328a2d1a32496b49998f247","cedabd9b82203f7e13d206fcdf4e33d92a6c53c26e5cce26d6579962c4e31df6"],["caf754272dc84563b0352b7a14311af55d245315ace27c65369e15f7151d41d1","cb474660ef35f5f2a41b643fa5e460575f4fa9b7962232a5c32f908318a04476"],["2600ca4b282cb986f85d0f1709979d8b44a09c07cb86d7c124497bc86f082120","4119b88753c15bd6a693b03fcddbb45d5ac6be74ab5f0ef44b0be9475a7e4b40"],["7635ca72d7e8432c338ec53cd12220bc01c48685e24f7dc8c602a7746998e435","91b649609489d613d1d5e590f78e6d74ecfc061d57048bad9e76f302c5b9c61"],["754e3239f325570cdbbf4a87deee8a66b7f2b33479d468fbc1a50743bf56cc18","673fb86e5bda30fb3cd0ed304ea49a023ee33d0197a695d0c5d98093c536683"],["e3e6bd1071a1e96aff57859c82d570f0330800661d1c952f9fe2694691d9b9e8","59c9e0bba394e76f40c0aa58379a3cb6a5a2283993e90c4167002af4920e37f5"],["186b483d056a033826ae73d88f732985c4ccb1f32ba35f4b4cc47fdcf04aa6eb","3b952d32c67cf77e2e17446e204180ab21fb8090895138b4a4a797f86e80888b"],["df9d70a6b9876ce544c98561f4be4f725442e6d2b737d9c91a8321724ce0963f","55eb2dafd84d6ccd5f862b785dc39d4ab157222720ef9da217b8c45cf2ba2417"],["5edd5cc23c51e87a497ca815d5dce0f8ab52554f849ed8995de64c5f34ce7143","efae9c8dbc14130661e8cec030c89ad0c13c66c0d17a2905cdc706ab7399a868"],["290798c2b6476830da12fe02287e9e777aa3fba1c355b17a722d362f84614fba","e38da76dcd440621988d00bcf79af25d5b29c094db2a23146d003afd41943e7a"],["af3c423a95d9f5b3054754efa150ac39cd29552fe360257362dfdecef4053b45","f98a3fd831eb2b749a93b0e6f35cfb40c8cd5aa667a15581bc2feded498fd9c6"],["766dbb24d134e745cccaa28c99bf274906bb66b26dcf98df8d2fed50d884249a","744b1152eacbe5e38dcc887980da38b897584a65fa06cedd2c924f97cbac5996"],["59dbf46f8c94759ba21277c33784f41645f7b44f6c596a58ce92e666191abe3e","c534ad44175fbc300f4ea6ce648309a042ce739a7919798cd85e216c4a307f6e"],["f13ada95103c4537305e691e74e9a4a8dd647e711a95e73cb62dc6018cfd87b8","e13817b44ee14de663bf4bc808341f326949e21a6a75c2570778419bdaf5733d"],["7754b4fa0e8aced06d4167a2c59cca4cda1869c06ebadfb6488550015a88522c","30e93e864e669d82224b967c3020b8fa8d1e4e350b6cbcc537a48b57841163a2"],["948dcadf5990e048aa3874d46abef9d701858f95de8041d2a6828c99e2262519","e491a42537f6e597d5d28a3224b1bc25df9154efbd2ef1d2cbba2cae5347d57e"],["7962414450c76c1689c7b48f8202ec37fb224cf5ac0bfa1570328a8a3d7c77ab","100b610ec4ffb4760d5c1fc133ef6f6b12507a051f04ac5760afa5b29db83437"],["3514087834964b54b15b160644d915485a16977225b8847bb0dd085137ec47ca","ef0afbb2056205448e1652c48e8127fc6039e77c15c2378b7e7d15a0de293311"],["d3cc30ad6b483e4bc79ce2c9dd8bc54993e947eb8df787b442943d3f7b527eaf","8b378a22d827278d89c5e9be8f9508ae3c2ad46290358630afb34db04eede0a4"],["1624d84780732860ce1c78fcbfefe08b2b29823db913f6493975ba0ff4847610","68651cf9b6da903e0914448c6cd9d4ca896878f5282be4c8cc06e2a404078575"],["733ce80da955a8a26902c95633e62a985192474b5af207da6df7b4fd5fc61cd4","f5435a2bd2badf7d485a4d8b8db9fcce3e1ef8e0201e4578c54673bc1dc5ea1d"],["15d9441254945064cf1a1c33bbd3b49f8966c5092171e699ef258dfab81c045c","d56eb30b69463e7234f5137b73b84177434800bacebfc685fc37bbe9efe4070d"],["a1d0fcf2ec9de675b612136e5ce70d271c21417c9d2b8aaaac138599d0717940","edd77f50bcb5a3cab2e90737309667f2641462a54070f3d519212d39c197a629"],["e22fbe15c0af8ccc5780c0735f84dbe9a790badee8245c06c7ca37331cb36980","a855babad5cd60c88b430a69f53a1a7a38289154964799be43d06d77d31da06"],["311091dd9860e8e20ee13473c1155f5f69635e394704eaa74009452246cfa9b3","66db656f87d1f04fffd1f04788c06830871ec5a64feee685bd80f0b1286d8374"],["34c1fd04d301be89b31c0442d3e6ac24883928b45a9340781867d4232ec2dbdf","9414685e97b1b5954bd46f730174136d57f1ceeb487443dc5321857ba73abee"],["f219ea5d6b54701c1c14de5b557eb42a8d13f3abbcd08affcc2a5e6b049b8d63","4cb95957e83d40b0f73af4544cccf6b1f4b08d3c07b27fb8d8c2962a400766d1"],["d7b8740f74a8fbaab1f683db8f45de26543a5490bca627087236912469a0b448","fa77968128d9c92ee1010f337ad4717eff15db5ed3c049b3411e0315eaa4593b"],["32d31c222f8f6f0ef86f7c98d3a3335ead5bcd32abdd94289fe4d3091aa824bf","5f3032f5892156e39ccd3d7915b9e1da2e6dac9e6f26e961118d14b8462e1661"],["7461f371914ab32671045a155d9831ea8793d77cd59592c4340f86cbc18347b5","8ec0ba238b96bec0cbdddcae0aa442542eee1ff50c986ea6b39847b3cc092ff6"],["ee079adb1df1860074356a25aa38206a6d716b2c3e67453d287698bad7b2b2d6","8dc2412aafe3be5c4c5f37e0ecc5f9f6a446989af04c4e25ebaac479ec1c8c1e"],["16ec93e447ec83f0467b18302ee620f7e65de331874c9dc72bfd8616ba9da6b5","5e4631150e62fb40d0e8c2a7ca5804a39d58186a50e497139626778e25b0674d"],["eaa5f980c245f6f038978290afa70b6bd8855897f98b6aa485b96065d537bd99","f65f5d3e292c2e0819a528391c994624d784869d7e6ea67fb18041024edc07dc"],["78c9407544ac132692ee1910a02439958ae04877151342ea96c4b6b35a49f51","f3e0319169eb9b85d5404795539a5e68fa1fbd583c064d2462b675f194a3ddb4"],["494f4be219a1a77016dcd838431aea0001cdc8ae7a6fc688726578d9702857a5","42242a969283a5f339ba7f075e36ba2af925ce30d767ed6e55f4b031880d562c"],["a598a8030da6d86c6bc7f2f5144ea549d28211ea58faa70ebf4c1e665c1fe9b5","204b5d6f84822c307e4b4a7140737aec23fc63b65b35f86a10026dbd2d864e6b"],["c41916365abb2b5d09192f5f2dbeafec208f020f12570a184dbadc3e58595997","4f14351d0087efa49d245b328984989d5caf9450f34bfc0ed16e96b58fa9913"],["841d6063a586fa475a724604da03bc5b92a2e0d2e0a36acfe4c73a5514742881","73867f59c0659e81904f9a1c7543698e62562d6744c169ce7a36de01a8d6154"],["5e95bb399a6971d376026947f89bde2f282b33810928be4ded112ac4d70e20d5","39f23f366809085beebfc71181313775a99c9aed7d8ba38b161384c746012865"],["36e4641a53948fd476c39f8a99fd974e5ec07564b5315d8bf99471bca0ef2f66","d2424b1b1abe4eb8164227b085c9aa9456ea13493fd563e06fd51cf5694c78fc"],["336581ea7bfbbb290c191a2f507a41cf5643842170e914faeab27c2c579f726","ead12168595fe1be99252129b6e56b3391f7ab1410cd1e0ef3dcdcabd2fda224"],["8ab89816dadfd6b6a1f2634fcf00ec8403781025ed6890c4849742706bd43ede","6fdcef09f2f6d0a044e654aef624136f503d459c3e89845858a47a9129cdd24e"],["1e33f1a746c9c5778133344d9299fcaa20b0938e8acff2544bb40284b8c5fb94","60660257dd11b3aa9c8ed618d24edff2306d320f1d03010e33a7d2057f3b3b6"],["85b7c1dcb3cec1b7ee7f30ded79dd20a0ed1f4cc18cbcfcfa410361fd8f08f31","3d98a9cdd026dd43f39048f25a8847f4fcafad1895d7a633c6fed3c35e999511"],["29df9fbd8d9e46509275f4b125d6d45d7fbe9a3b878a7af872a2800661ac5f51","b4c4fe99c775a606e2d8862179139ffda61dc861c019e55cd2876eb2a27d84b"],["a0b1cae06b0a847a3fea6e671aaf8adfdfe58ca2f768105c8082b2e449fce252","ae434102edde0958ec4b19d917a6a28e6b72da1834aff0e650f049503a296cf2"],["4e8ceafb9b3e9a136dc7ff67e840295b499dfb3b2133e4ba113f2e4c0e121e5","cf2174118c8b6d7a4b48f6d534ce5c79422c086a63460502b827ce62a326683c"],["d24a44e047e19b6f5afb81c7ca2f69080a5076689a010919f42725c2b789a33b","6fb8d5591b466f8fc63db50f1c0f1c69013f996887b8244d2cdec417afea8fa3"],["ea01606a7a6c9cdd249fdfcfacb99584001edd28abbab77b5104e98e8e3b35d4","322af4908c7312b0cfbfe369f7a7b3cdb7d4494bc2823700cfd652188a3ea98d"],["af8addbf2b661c8a6c6328655eb96651252007d8c5ea31be4ad196de8ce2131f","6749e67c029b85f52a034eafd096836b2520818680e26ac8f3dfbcdb71749700"],["e3ae1974566ca06cc516d47e0fb165a674a3dabcfca15e722f0e3450f45889","2aeabe7e4531510116217f07bf4d07300de97e4874f81f533420a72eeb0bd6a4"],["591ee355313d99721cf6993ffed1e3e301993ff3ed258802075ea8ced397e246","b0ea558a113c30bea60fc4775460c7901ff0b053d25ca2bdeee98f1a4be5d196"],["11396d55fda54c49f19aa97318d8da61fa8584e47b084945077cf03255b52984","998c74a8cd45ac01289d5833a7beb4744ff536b01b257be4c5767bea93ea57a4"],["3c5d2a1ba39c5a1790000738c9e0c40b8dcdfd5468754b6405540157e017aa7a","b2284279995a34e2f9d4de7396fc18b80f9b8b9fdd270f6661f79ca4c81bd257"],["cc8704b8a60a0defa3a99a7299f2e9c3fbc395afb04ac078425ef8a1793cc030","bdd46039feed17881d1e0862db347f8cf395b74fc4bcdc4e940b74e3ac1f1b13"],["c533e4f7ea8555aacd9777ac5cad29b97dd4defccc53ee7ea204119b2889b197","6f0a256bc5efdf429a2fb6242f1a43a2d9b925bb4a4b3a26bb8e0f45eb596096"],["c14f8f2ccb27d6f109f6d08d03cc96a69ba8c34eec07bbcf566d48e33da6593","c359d6923bb398f7fd4473e16fe1c28475b740dd098075e6c0e8649113dc3a38"],["a6cbc3046bc6a450bac24789fa17115a4c9739ed75f8f21ce441f72e0b90e6ef","21ae7f4680e889bb130619e2c0f95a360ceb573c70603139862afd617fa9b9f"],["347d6d9a02c48927ebfb86c1359b1caf130a3c0267d11ce6344b39f99d43cc38","60ea7f61a353524d1c987f6ecec92f086d565ab687870cb12689ff1e31c74448"],["da6545d2181db8d983f7dcb375ef5866d47c67b1bf31c8cf855ef7437b72656a","49b96715ab6878a79e78f07ce5680c5d6673051b4935bd897fea824b77dc208a"],["c40747cc9d012cb1a13b8148309c6de7ec25d6945d657146b9d5994b8feb1111","5ca560753be2a12fc6de6caf2cb489565db936156b9514e1bb5e83037e0fa2d4"],["4e42c8ec82c99798ccf3a610be870e78338c7f713348bd34c8203ef4037f3502","7571d74ee5e0fb92a7a8b33a07783341a5492144cc54bcc40a94473693606437"],["3775ab7089bc6af823aba2e1af70b236d251cadb0c86743287522a1b3b0dedea","be52d107bcfa09d8bcb9736a828cfa7fac8db17bf7a76a2c42ad961409018cf7"],["cee31cbf7e34ec379d94fb814d3d775ad954595d1314ba8846959e3e82f74e26","8fd64a14c06b589c26b947ae2bcf6bfa0149ef0be14ed4d80f448a01c43b1c6d"],["b4f9eaea09b6917619f6ea6a4eb5464efddb58fd45b1ebefcdc1a01d08b47986","39e5c9925b5a54b07433a4f18c61726f8bb131c012ca542eb24a8ac07200682a"],["d4263dfc3d2df923a0179a48966d30ce84e2515afc3dccc1b77907792ebcc60e","62dfaf07a0f78feb30e30d6295853ce189e127760ad6cf7fae164e122a208d54"],["48457524820fa65a4f8d35eb6930857c0032acc0a4a2de422233eeda897612c4","25a748ab367979d98733c38a1fa1c2e7dc6cc07db2d60a9ae7a76aaa49bd0f77"],["dfeeef1881101f2cb11644f3a2afdfc2045e19919152923f367a1767c11cceda","ecfb7056cf1de042f9420bab396793c0c390bde74b4bbdff16a83ae09a9a7517"],["6d7ef6b17543f8373c573f44e1f389835d89bcbc6062ced36c82df83b8fae859","cd450ec335438986dfefa10c57fea9bcc521a0959b2d80bbf74b190dca712d10"],["e75605d59102a5a2684500d3b991f2e3f3c88b93225547035af25af66e04541f","f5c54754a8f71ee540b9b48728473e314f729ac5308b06938360990e2bfad125"],["eb98660f4c4dfaa06a2be453d5020bc99a0c2e60abe388457dd43fefb1ed620c","6cb9a8876d9cb8520609af3add26cd20a0a7cd8a9411131ce85f44100099223e"],["13e87b027d8514d35939f2e6892b19922154596941888336dc3563e3b8dba942","fef5a3c68059a6dec5d624114bf1e91aac2b9da568d6abeb2570d55646b8adf1"],["ee163026e9fd6fe017c38f06a5be6fc125424b371ce2708e7bf4491691e5764a","1acb250f255dd61c43d94ccc670d0f58f49ae3fa15b96623e5430da0ad6c62b2"],["b268f5ef9ad51e4d78de3a750c2dc89b1e626d43505867999932e5db33af3d80","5f310d4b3c99b9ebb19f77d41c1dee018cf0d34fd4191614003e945a1216e423"],["ff07f3118a9df035e9fad85eb6c7bfe42b02f01ca99ceea3bf7ffdba93c4750d","438136d603e858a3a5c440c38eccbaddc1d2942114e2eddd4740d098ced1f0d8"],["8d8b9855c7c052a34146fd20ffb658bea4b9f69e0d825ebec16e8c3ce2b526a1","cdb559eedc2d79f926baf44fb84ea4d44bcf50fee51d7ceb30e2e7f463036758"],["52db0b5384dfbf05bfa9d472d7ae26dfe4b851ceca91b1eba54263180da32b63","c3b997d050ee5d423ebaf66a6db9f57b3180c902875679de924b69d84a7b375"],["e62f9490d3d51da6395efd24e80919cc7d0f29c3f3fa48c6fff543becbd43352","6d89ad7ba4876b0b22c2ca280c682862f342c8591f1daf5170e07bfd9ccafa7d"],["7f30ea2476b399b4957509c88f77d0191afa2ff5cb7b14fd6d8e7d65aaab1193","ca5ef7d4b231c94c3b15389a5f6311e9daff7bb67b103e9880ef4bff637acaec"],["5098ff1e1d9f14fb46a210fada6c903fef0fb7b4a1dd1d9ac60a0361800b7a00","9731141d81fc8f8084d37c6e7542006b3ee1b40d60dfe5362a5b132fd17ddc0"],["32b78c7de9ee512a72895be6b9cbefa6e2f3c4ccce445c96b9f2c81e2778ad58","ee1849f513df71e32efc3896ee28260c73bb80547ae2275ba497237794c8753c"],["e2cb74fddc8e9fbcd076eef2a7c72b0ce37d50f08269dfc074b581550547a4f7","d3aa2ed71c9dd2247a62df062736eb0baddea9e36122d2be8641abcb005cc4a4"],["8438447566d4d7bedadc299496ab357426009a35f235cb141be0d99cd10ae3a8","c4e1020916980a4da5d01ac5e6ad330734ef0d7906631c4f2390426b2edd791f"],["4162d488b89402039b584c6fc6c308870587d9c46f660b878ab65c82c711d67e","67163e903236289f776f22c25fb8a3afc1732f2b84b4e95dbda47ae5a0852649"],["3fad3fa84caf0f34f0f89bfd2dcf54fc175d767aec3e50684f3ba4a4bf5f683d","cd1bc7cb6cc407bb2f0ca647c718a730cf71872e7d0d2a53fa20efcdfe61826"],["674f2600a3007a00568c1a7ce05d0816c1fb84bf1370798f1c69532faeb1a86b","299d21f9413f33b3edf43b257004580b70db57da0b182259e09eecc69e0d38a5"],["d32f4da54ade74abb81b815ad1fb3b263d82d6c692714bcff87d29bd5ee9f08f","f9429e738b8e53b968e99016c059707782e14f4535359d582fc416910b3eea87"],["30e4e670435385556e593657135845d36fbb6931f72b08cb1ed954f1e3ce3ff6","462f9bce619898638499350113bbc9b10a878d35da70740dc695a559eb88db7b"],["be2062003c51cc3004682904330e4dee7f3dcd10b01e580bf1971b04d4cad297","62188bc49d61e5428573d48a74e1c655b1c61090905682a0d5558ed72dccb9bc"],["93144423ace3451ed29e0fb9ac2af211cb6e84a601df5993c419859fff5df04a","7c10dfb164c3425f5c71a3f9d7992038f1065224f72bb9d1d902a6d13037b47c"],["b015f8044f5fcbdcf21ca26d6c34fb8197829205c7b7d2a7cb66418c157b112c","ab8c1e086d04e813744a655b2df8d5f83b3cdc6faa3088c1d3aea1454e3a1d5f"],["d5e9e1da649d97d89e4868117a465a3a4f8a18de57a140d36b3f2af341a21b52","4cb04437f391ed73111a13cc1d4dd0db1693465c2240480d8955e8592f27447a"],["d3ae41047dd7ca065dbf8ed77b992439983005cd72e16d6f996a5316d36966bb","bd1aeb21ad22ebb22a10f0303417c6d964f8cdd7df0aca614b10dc14d125ac46"],["463e2763d885f958fc66cdd22800f0a487197d0a82e377b49f80af87c897b065","bfefacdb0e5d0fd7df3a311a94de062b26b80c61fbc97508b79992671ef7ca7f"],["7985fdfd127c0567c6f53ec1bb63ec3158e597c40bfe747c83cddfc910641917","603c12daf3d9862ef2b25fe1de289aed24ed291e0ec6708703a5bd567f32ed03"],["74a1ad6b5f76e39db2dd249410eac7f99e74c59cb83d2d0ed5ff1543da7703e9","cc6157ef18c9c63cd6193d83631bbea0093e0968942e8c33d5737fd790e0db08"],["30682a50703375f602d416664ba19b7fc9bab42c72747463a71d0896b22f6da3","553e04f6b018b4fa6c8f39e7f311d3176290d0e0f19ca73f17714d9977a22ff8"],["9e2158f0d7c0d5f26c3791efefa79597654e7a2b2464f52b1ee6c1347769ef57","712fcdd1b9053f09003a3481fa7762e9ffd7c8ef35a38509e2fbf2629008373"],["176e26989a43c9cfeba4029c202538c28172e566e3c4fce7322857f3be327d66","ed8cc9d04b29eb877d270b4878dc43c19aefd31f4eee09ee7b47834c1fa4b1c3"],["75d46efea3771e6e68abb89a13ad747ecf1892393dfc4f1b7004788c50374da8","9852390a99507679fd0b86fd2b39a868d7efc22151346e1a3ca4726586a6bed8"],["809a20c67d64900ffb698c4c825f6d5f2310fb0451c869345b7319f645605721","9e994980d9917e22b76b061927fa04143d096ccc54963e6a5ebfa5f3f8e286c1"],["1b38903a43f7f114ed4500b4eac7083fdefece1cf29c63528d563446f972c180","4036edc931a60ae889353f77fd53de4a2708b26b6f5da72ad3394119daf408f9"]]}}},{}],419:[function(r,n,i){var o=i,s=r("bn.js"),a=r("minimalistic-assert"),l=r("minimalistic-crypto-utils");o.assert=a,o.toArray=l.toArray,o.zero2=l.zero2,o.toHex=l.toHex,o.encode=l.encode,o.getNAF=function(u,c,f){var d=new Array(Math.max(u.bitLength(),f)+1);d.fill(0);for(var h=1<<c+1,g=u.clone(),m=0;m<d.length;m++){var p,y=g.andln(h-1);g.isOdd()?(p=y>(h>>1)-1?(h>>1)-y:y,g.isubn(p)):p=0,d[m]=p,g.iushrn(1)}return d},o.getJSF=function(u,c){var f=[[],[]];u=u.clone(),c=c.clone();for(var d,h=0,g=0;u.cmpn(-h)>0||c.cmpn(-g)>0;){var m,p,y=u.andln(3)+h&3,b=c.andln(3)+g&3;y===3&&(y=-1),b===3&&(b=-1),m=(1&y)==0?0:(d=u.andln(7)+h&7)!==3&&d!==5||b!==2?y:-y,f[0].push(m),p=(1&b)==0?0:(d=c.andln(7)+g&7)!==3&&d!==5||y!==2?b:-b,f[1].push(p),2*h===m+1&&(h=1-h),2*g===p+1&&(g=1-g),u.iushrn(1),c.iushrn(1)}return f},o.cachedProperty=function(u,c,f){var d="_"+c;u.prototype[c]=function(){return this[d]!==void 0?this[d]:this[d]=f.call(this)}},o.parseBytes=function(u){return typeof u=="string"?o.toArray(u,"hex"):u},o.intFromLE=function(u){return new s(u,"hex","le")}},{"bn.js":420,"minimalistic-assert":453,"minimalistic-crypto-utils":454}],420:[function(r,n,i){arguments[4][184][0].apply(i,arguments)},{buffer:188,dup:184}],421:[function(r,n,i){n.exports={name:"elliptic",version:"6.5.4",description:"EC cryptography",main:"lib/elliptic.js",files:["lib"],scripts:{lint:"eslint lib test","lint:fix":"npm run lint -- --fix",unit:"istanbul test _mocha --reporter=spec test/index.js",test:"npm run lint && npm run unit",version:"grunt dist && git add dist/"},repository:{type:"git",url:"git@github.com:indutny/elliptic"},keywords:["EC","Elliptic","curve","Cryptography"],author:"Fedor Indutny <fedor@indutny.com>",license:"MIT",bugs:{url:"https://github.com/indutny/elliptic/issues"},homepage:"https://github.com/indutny/elliptic",devDependencies:{brfs:"^2.0.2",coveralls:"^3.1.0",eslint:"^7.6.0",grunt:"^1.2.1","grunt-browserify":"^5.3.0","grunt-cli":"^1.3.2","grunt-contrib-connect":"^3.0.0","grunt-contrib-copy":"^1.0.0","grunt-contrib-uglify":"^5.0.0","grunt-mocha-istanbul":"^5.0.2","grunt-saucelabs":"^9.0.1",istanbul:"^0.4.5",mocha:"^8.0.1"},dependencies:{"bn.js":"^4.11.9",brorand:"^1.1.0","hash.js":"^1.0.0","hmac-drbg":"^1.0.1",inherits:"^2.0.4","minimalistic-assert":"^1.0.1","minimalistic-crypto-utils":"^1.0.1"}}},{}],422:[function(r,n,i){var o=Object.create||function(M){var P=function(){};return P.prototype=M,new P},s=Object.keys||function(M){var P=[];for(var O in M)Object.prototype.hasOwnProperty.call(M,O)&&P.push(O);return O},a=Function.prototype.bind||function(M){var P=this;return function(){return P.apply(M,arguments)}};function l(){this._events&&Object.prototype.hasOwnProperty.call(this,"_events")||(this._events=o(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0}n.exports=l,l.EventEmitter=l,l.prototype._events=void 0,l.prototype._maxListeners=void 0;var u,c=10;try{var f={};Object.defineProperty&&Object.defineProperty(f,"x",{value:0}),u=f.x===0}catch{u=!1}function d(M){return M._maxListeners===void 0?l.defaultMaxListeners:M._maxListeners}function h(M,P,O){if(P)M.call(O);else for(var z=M.length,L=I(M,z),_=0;_<z;++_)L[_].call(O)}function g(M,P,O,z){if(P)M.call(O,z);else for(var L=M.length,_=I(M,L),R=0;R<L;++R)_[R].call(O,z)}function m(M,P,O,z,L){if(P)M.call(O,z,L);else for(var _=M.length,R=I(M,_),k=0;k<_;++k)R[k].call(O,z,L)}function p(M,P,O,z,L,_){if(P)M.call(O,z,L,_);else for(var R=M.length,k=I(M,R),S=0;S<R;++S)k[S].call(O,z,L,_)}function y(M,P,O,z){if(P)M.apply(O,z);else for(var L=M.length,_=I(M,L),R=0;R<L;++R)_[R].apply(O,z)}function b(M,P,O,z){var L,_,R;if(typeof O!="function")throw new TypeError('"listener" argument must be a function');if((_=M._events)?(_.newListener&&(M.emit("newListener",P,O.listener?O.listener:O),_=M._events),R=_[P]):(_=M._events=o(null),M._eventsCount=0),R){if(typeof R=="function"?R=_[P]=z?[O,R]:[R,O]:z?R.unshift(O):R.push(O),!R.warned&&(L=d(M))&&L>0&&R.length>L){R.warned=!0;var k=new Error("Possible EventEmitter memory leak detected. "+R.length+' "'+String(P)+'" listeners added. Use emitter.setMaxListeners() to increase limit.');k.name="MaxListenersExceededWarning",k.emitter=M,k.type=P,k.count=R.length,typeof console=="object"&&console.warn&&console.warn("%s: %s",k.name,k.message)}}else R=_[P]=O,++M._eventsCount;return M}function v(){if(!this.fired)switch(this.target.removeListener(this.type,this.wrapFn),this.fired=!0,arguments.length){case 0:return this.listener.call(this.target);case 1:return this.listener.call(this.target,arguments[0]);case 2:return this.listener.call(this.target,arguments[0],arguments[1]);case 3:return this.listener.call(this.target,arguments[0],arguments[1],arguments[2]);default:for(var M=new Array(arguments.length),P=0;P<M.length;++P)M[P]=arguments[P];this.listener.apply(this.target,M)}}function F(M,P,O){var z={fired:!1,wrapFn:void 0,target:M,type:P,listener:O},L=a.call(v,z);return L.listener=O,z.wrapFn=L,L}function E(M,P,O){var z=M._events;if(!z)return[];var L=z[P];return L?typeof L=="function"?O?[L.listener||L]:[L]:O?(function(_){for(var R=new Array(_.length),k=0;k<R.length;++k)R[k]=_[k].listener||_[k];return R})(L):I(L,L.length):[]}function T(M){var P=this._events;if(P){var O=P[M];if(typeof O=="function")return 1;if(O)return O.length}return 0}function I(M,P){for(var O=new Array(P),z=0;z<P;++z)O[z]=M[z];return O}u?Object.defineProperty(l,"defaultMaxListeners",{enumerable:!0,get:function(){return c},set:function(M){if(typeof M!="number"||M<0||M!=M)throw new TypeError('"defaultMaxListeners" must be a positive number');c=M}}):l.defaultMaxListeners=c,l.prototype.setMaxListeners=function(M){if(typeof M!="number"||M<0||isNaN(M))throw new TypeError('"n" argument must be a positive number');return this._maxListeners=M,this},l.prototype.getMaxListeners=function(){return d(this)},l.prototype.emit=function(M){var P,O,z,L,_,R,k=M==="error";if(R=this._events)k=k&&R.error==null;else if(!k)return!1;if(k){if(arguments.length>1&&(P=arguments[1]),P instanceof Error)throw P;var S=new Error('Unhandled "error" event. ('+P+")");throw S.context=P,S}if(!(O=R[M]))return!1;var w=typeof O=="function";switch(z=arguments.length){case 1:h(O,w,this);break;case 2:g(O,w,this,arguments[1]);break;case 3:m(O,w,this,arguments[1],arguments[2]);break;case 4:p(O,w,this,arguments[1],arguments[2],arguments[3]);break;default:for(L=new Array(z-1),_=1;_<z;_++)L[_-1]=arguments[_];y(O,w,this,L)}return!0},l.prototype.addListener=function(M,P){return b(this,M,P,!1)},l.prototype.on=l.prototype.addListener,l.prototype.prependListener=function(M,P){return b(this,M,P,!0)},l.prototype.once=function(M,P){if(typeof P!="function")throw new TypeError('"listener" argument must be a function');return this.on(M,F(this,M,P)),this},l.prototype.prependOnceListener=function(M,P){if(typeof P!="function")throw new TypeError('"listener" argument must be a function');return this.prependListener(M,F(this,M,P)),this},l.prototype.removeListener=function(M,P){var O,z,L,_,R;if(typeof P!="function")throw new TypeError('"listener" argument must be a function');if(!(z=this._events))return this;if(!(O=z[M]))return this;if(O===P||O.listener===P)--this._eventsCount==0?this._events=o(null):(delete z[M],z.removeListener&&this.emit("removeListener",M,O.listener||P));else if(typeof O!="function"){for(L=-1,_=O.length-1;_>=0;_--)if(O[_]===P||O[_].listener===P){R=O[_].listener,L=_;break}if(L<0)return this;L===0?O.shift():(function(k,S){for(var w=S,C=w+1,x=k.length;C<x;w+=1,C+=1)k[w]=k[C];k.pop()})(O,L),O.length===1&&(z[M]=O[0]),z.removeListener&&this.emit("removeListener",M,R||P)}return this},l.prototype.removeAllListeners=function(M){var P,O,z;if(!(O=this._events))return this;if(!O.removeListener)return arguments.length===0?(this._events=o(null),this._eventsCount=0):O[M]&&(--this._eventsCount==0?this._events=o(null):delete O[M]),this;if(arguments.length===0){var L,_=s(O);for(z=0;z<_.length;++z)(L=_[z])!=="removeListener"&&this.removeAllListeners(L);return this.removeAllListeners("removeListener"),this._events=o(null),this._eventsCount=0,this}if(typeof(P=O[M])=="function")this.removeListener(M,P);else if(P)for(z=P.length-1;z>=0;z--)this.removeListener(M,P[z]);return this},l.prototype.listeners=function(M){return E(this,M,!0)},l.prototype.rawListeners=function(M){return E(this,M,!1)},l.listenerCount=function(M,P){return typeof M.listenerCount=="function"?M.listenerCount(P):T.call(M,P)},l.prototype.listenerCount=T,l.prototype.eventNames=function(){return this._eventsCount>0?Reflect.ownKeys(this._events):[]}},{}],423:[function(r,n,i){var o=r("safe-buffer").Buffer,s=r("md5.js");n.exports=function(a,l,u,c){if(o.isBuffer(a)||(a=o.from(a,"binary")),l&&(o.isBuffer(l)||(l=o.from(l,"binary")),l.length!==8))throw new RangeError("salt should be Buffer with 8 byte length");for(var f=u/8,d=o.alloc(f),h=o.alloc(c||0),g=o.alloc(0);f>0||c>0;){var m=new s;m.update(g),m.update(a),l&&m.update(l),g=m.digest();var p=0;if(f>0){var y=d.length-f;p=Math.min(f,g.length),g.copy(d,y,0,p),f-=p}if(p<g.length&&c>0){var b=h.length-c,v=Math.min(c,g.length-p);g.copy(h,b,p,p+v),c-=v}}return g.fill(0),{key:d,iv:h}}},{"md5.js":450,"safe-buffer":494}],424:[function(r,n,i){Object.defineProperty(i,"__esModule",{value:!0}),i.CsvParserStream=i.ParserOptions=i.parseFile=i.parseStream=i.parseString=i.parse=i.FormatterOptions=i.CsvFormatterStream=i.writeToPath=i.writeToString=i.writeToBuffer=i.writeToStream=i.write=i.format=void 0;var o=r("@fast-csv/format");Object.defineProperty(i,"format",{enumerable:!0,get:function(){return o.format}}),Object.defineProperty(i,"write",{enumerable:!0,get:function(){return o.write}}),Object.defineProperty(i,"writeToStream",{enumerable:!0,get:function(){return o.writeToStream}}),Object.defineProperty(i,"writeToBuffer",{enumerable:!0,get:function(){return o.writeToBuffer}}),Object.defineProperty(i,"writeToString",{enumerable:!0,get:function(){return o.writeToString}}),Object.defineProperty(i,"writeToPath",{enumerable:!0,get:function(){return o.writeToPath}}),Object.defineProperty(i,"CsvFormatterStream",{enumerable:!0,get:function(){return o.CsvFormatterStream}}),Object.defineProperty(i,"FormatterOptions",{enumerable:!0,get:function(){return o.FormatterOptions}});var s=r("@fast-csv/parse");Object.defineProperty(i,"parse",{enumerable:!0,get:function(){return s.parse}}),Object.defineProperty(i,"parseString",{enumerable:!0,get:function(){return s.parseString}}),Object.defineProperty(i,"parseStream",{enumerable:!0,get:function(){return s.parseStream}}),Object.defineProperty(i,"parseFile",{enumerable:!0,get:function(){return s.parseFile}}),Object.defineProperty(i,"ParserOptions",{enumerable:!0,get:function(){return s.ParserOptions}}),Object.defineProperty(i,"CsvParserStream",{enumerable:!0,get:function(){return s.CsvParserStream}})},{"@fast-csv/format":151,"@fast-csv/parse":155}],425:[function(r,n,i){var o=r("safe-buffer").Buffer,s=r("readable-stream").Transform;function a(l){s.call(this),this._block=o.allocUnsafe(l),this._blockSize=l,this._blockOffset=0,this._length=[0,0,0,0],this._finalized=!1}r("inherits")(a,s),a.prototype._transform=function(l,u,c){var f=null;try{this.update(l,u)}catch(d){f=d}c(f)},a.prototype._flush=function(l){var u=null;try{this.push(this.digest())}catch(c){u=c}l(u)},a.prototype.update=function(l,u){if((function(m,p){if(!o.isBuffer(m)&&typeof m!="string")throw new TypeError(p+" must be a string or a buffer")})(l,"Data"),this._finalized)throw new Error("Digest already called");o.isBuffer(l)||(l=o.from(l,u));for(var c=this._block,f=0;this._blockOffset+l.length-f>=this._blockSize;){for(var d=this._blockOffset;d<this._blockSize;)c[d++]=l[f++];this._update(),this._blockOffset=0}for(;f<l.length;)c[this._blockOffset++]=l[f++];for(var h=0,g=8*l.length;g>0;++h)this._length[h]+=g,(g=this._length[h]/4294967296|0)>0&&(this._length[h]-=4294967296*g);return this},a.prototype._update=function(){throw new Error("_update is not implemented")},a.prototype.digest=function(l){if(this._finalized)throw new Error("Digest already called");this._finalized=!0;var u=this._digest();l!==void 0&&(u=u.toString(l)),this._block.fill(0),this._blockOffset=0;for(var c=0;c<4;++c)this._length[c]=0;return u},a.prototype._digest=function(){throw new Error("_digest is not implemented")},n.exports=a},{inherits:440,"readable-stream":491,"safe-buffer":494}],426:[function(r,n,i){var o=i;o.utils=r("./hash/utils"),o.common=r("./hash/common"),o.sha=r("./hash/sha"),o.ripemd=r("./hash/ripemd"),o.hmac=r("./hash/hmac"),o.sha1=o.sha.sha1,o.sha256=o.sha.sha256,o.sha224=o.sha.sha224,o.sha384=o.sha.sha384,o.sha512=o.sha.sha512,o.ripemd160=o.ripemd.ripemd160},{"./hash/common":427,"./hash/hmac":428,"./hash/ripemd":429,"./hash/sha":430,"./hash/utils":437}],427:[function(r,n,i){var o=r("./utils"),s=r("minimalistic-assert");function a(){this.pending=null,this.pendingTotal=0,this.blockSize=this.constructor.blockSize,this.outSize=this.constructor.outSize,this.hmacStrength=this.constructor.hmacStrength,this.padLength=this.constructor.padLength/8,this.endian="big",this._delta8=this.blockSize/8,this._delta32=this.blockSize/32}i.BlockHash=a,a.prototype.update=function(l,u){if(l=o.toArray(l,u),this.pending?this.pending=this.pending.concat(l):this.pending=l,this.pendingTotal+=l.length,this.pending.length>=this._delta8){var c=(l=this.pending).length%this._delta8;this.pending=l.slice(l.length-c,l.length),this.pending.length===0&&(this.pending=null),l=o.join32(l,0,l.length-c,this.endian);for(var f=0;f<l.length;f+=this._delta32)this._update(l,f,f+this._delta32)}return this},a.prototype.digest=function(l){return this.update(this._pad()),s(this.pending===null),this._digest(l)},a.prototype._pad=function(){var l=this.pendingTotal,u=this._delta8,c=u-(l+this.padLength)%u,f=new Array(c+this.padLength);f[0]=128;for(var d=1;d<c;d++)f[d]=0;if(l<<=3,this.endian==="big"){for(var h=8;h<this.padLength;h++)f[d++]=0;f[d++]=0,f[d++]=0,f[d++]=0,f[d++]=0,f[d++]=l>>>24&255,f[d++]=l>>>16&255,f[d++]=l>>>8&255,f[d++]=255&l}else for(f[d++]=255&l,f[d++]=l>>>8&255,f[d++]=l>>>16&255,f[d++]=l>>>24&255,f[d++]=0,f[d++]=0,f[d++]=0,f[d++]=0,h=8;h<this.padLength;h++)f[d++]=0;return f}},{"./utils":437,"minimalistic-assert":453}],428:[function(r,n,i){var o=r("./utils"),s=r("minimalistic-assert");function a(l,u,c){if(!(this instanceof a))return new a(l,u,c);this.Hash=l,this.blockSize=l.blockSize/8,this.outSize=l.outSize/8,this.inner=null,this.outer=null,this._init(o.toArray(u,c))}n.exports=a,a.prototype._init=function(l){l.length>this.blockSize&&(l=new this.Hash().update(l).digest()),s(l.length<=this.blockSize);for(var u=l.length;u<this.blockSize;u++)l.push(0);for(u=0;u<l.length;u++)l[u]^=54;for(this.inner=new this.Hash().update(l),u=0;u<l.length;u++)l[u]^=106;this.outer=new this.Hash().update(l)},a.prototype.update=function(l,u){return this.inner.update(l,u),this},a.prototype.digest=function(l){return this.outer.update(this.inner.digest()),this.outer.digest(l)}},{"./utils":437,"minimalistic-assert":453}],429:[function(r,n,i){var o=r("./utils"),s=r("./common"),a=o.rotl32,l=o.sum32,u=o.sum32_3,c=o.sum32_4,f=s.BlockHash;function d(){if(!(this instanceof d))return new d;f.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],this.endian="little"}function h(F,E,T,I){return F<=15?E^T^I:F<=31?E&T|~E&I:F<=47?(E|~T)^I:F<=63?E&I|T&~I:E^(T|~I)}function g(F){return F<=15?0:F<=31?1518500249:F<=47?1859775393:F<=63?2400959708:2840853838}function m(F){return F<=15?1352829926:F<=31?1548603684:F<=47?1836072691:F<=63?2053994217:0}o.inherits(d,f),i.ripemd160=d,d.blockSize=512,d.outSize=160,d.hmacStrength=192,d.padLength=64,d.prototype._update=function(F,E){for(var T=this.h[0],I=this.h[1],M=this.h[2],P=this.h[3],O=this.h[4],z=T,L=I,_=M,R=P,k=O,S=0;S<80;S++){var w=l(a(c(T,h(S,I,M,P),F[p[S]+E],g(S)),b[S]),O);T=O,O=P,P=a(M,10),M=I,I=w,w=l(a(c(z,h(79-S,L,_,R),F[y[S]+E],m(S)),v[S]),k),z=k,k=R,R=a(_,10),_=L,L=w}w=u(this.h[1],M,R),this.h[1]=u(this.h[2],P,k),this.h[2]=u(this.h[3],O,z),this.h[3]=u(this.h[4],T,L),this.h[4]=u(this.h[0],I,_),this.h[0]=w},d.prototype._digest=function(F){return F==="hex"?o.toHex32(this.h,"little"):o.split32(this.h,"little")};var p=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13],y=[5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11],b=[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6],v=[8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11]},{"./common":427,"./utils":437}],430:[function(r,n,i){i.sha1=r("./sha/1"),i.sha224=r("./sha/224"),i.sha256=r("./sha/256"),i.sha384=r("./sha/384"),i.sha512=r("./sha/512")},{"./sha/1":431,"./sha/224":432,"./sha/256":433,"./sha/384":434,"./sha/512":435}],431:[function(r,n,i){var o=r("../utils"),s=r("../common"),a=r("./common"),l=o.rotl32,u=o.sum32,c=o.sum32_5,f=a.ft_1,d=s.BlockHash,h=[1518500249,1859775393,2400959708,3395469782];function g(){if(!(this instanceof g))return new g;d.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],this.W=new Array(80)}o.inherits(g,d),n.exports=g,g.blockSize=512,g.outSize=160,g.hmacStrength=80,g.padLength=64,g.prototype._update=function(m,p){for(var y=this.W,b=0;b<16;b++)y[b]=m[p+b];for(;b<y.length;b++)y[b]=l(y[b-3]^y[b-8]^y[b-14]^y[b-16],1);var v=this.h[0],F=this.h[1],E=this.h[2],T=this.h[3],I=this.h[4];for(b=0;b<y.length;b++){var M=~~(b/20),P=c(l(v,5),f(M,F,E,T),I,y[b],h[M]);I=T,T=E,E=l(F,30),F=v,v=P}this.h[0]=u(this.h[0],v),this.h[1]=u(this.h[1],F),this.h[2]=u(this.h[2],E),this.h[3]=u(this.h[3],T),this.h[4]=u(this.h[4],I)},g.prototype._digest=function(m){return m==="hex"?o.toHex32(this.h,"big"):o.split32(this.h,"big")}},{"../common":427,"../utils":437,"./common":436}],432:[function(r,n,i){var o=r("../utils"),s=r("./256");function a(){if(!(this instanceof a))return new a;s.call(this),this.h=[3238371032,914150663,812702999,4144912697,4290775857,1750603025,1694076839,3204075428]}o.inherits(a,s),n.exports=a,a.blockSize=512,a.outSize=224,a.hmacStrength=192,a.padLength=64,a.prototype._digest=function(l){return l==="hex"?o.toHex32(this.h.slice(0,7),"big"):o.split32(this.h.slice(0,7),"big")}},{"../utils":437,"./256":433}],433:[function(r,n,i){var o=r("../utils"),s=r("../common"),a=r("./common"),l=r("minimalistic-assert"),u=o.sum32,c=o.sum32_4,f=o.sum32_5,d=a.ch32,h=a.maj32,g=a.s0_256,m=a.s1_256,p=a.g0_256,y=a.g1_256,b=s.BlockHash,v=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298];function F(){if(!(this instanceof F))return new F;b.call(this),this.h=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225],this.k=v,this.W=new Array(64)}o.inherits(F,b),n.exports=F,F.blockSize=512,F.outSize=256,F.hmacStrength=192,F.padLength=64,F.prototype._update=function(E,T){for(var I=this.W,M=0;M<16;M++)I[M]=E[T+M];for(;M<I.length;M++)I[M]=c(y(I[M-2]),I[M-7],p(I[M-15]),I[M-16]);var P=this.h[0],O=this.h[1],z=this.h[2],L=this.h[3],_=this.h[4],R=this.h[5],k=this.h[6],S=this.h[7];for(l(this.k.length===I.length),M=0;M<I.length;M++){var w=f(S,m(_),d(_,R,k),this.k[M],I[M]),C=u(g(P),h(P,O,z));S=k,k=R,R=_,_=u(L,w),L=z,z=O,O=P,P=u(w,C)}this.h[0]=u(this.h[0],P),this.h[1]=u(this.h[1],O),this.h[2]=u(this.h[2],z),this.h[3]=u(this.h[3],L),this.h[4]=u(this.h[4],_),this.h[5]=u(this.h[5],R),this.h[6]=u(this.h[6],k),this.h[7]=u(this.h[7],S)},F.prototype._digest=function(E){return E==="hex"?o.toHex32(this.h,"big"):o.split32(this.h,"big")}},{"../common":427,"../utils":437,"./common":436,"minimalistic-assert":453}],434:[function(r,n,i){var o=r("../utils"),s=r("./512");function a(){if(!(this instanceof a))return new a;s.call(this),this.h=[3418070365,3238371032,1654270250,914150663,2438529370,812702999,355462360,4144912697,1731405415,4290775857,2394180231,1750603025,3675008525,1694076839,1203062813,3204075428]}o.inherits(a,s),n.exports=a,a.blockSize=1024,a.outSize=384,a.hmacStrength=192,a.padLength=128,a.prototype._digest=function(l){return l==="hex"?o.toHex32(this.h.slice(0,12),"big"):o.split32(this.h.slice(0,12),"big")}},{"../utils":437,"./512":435}],435:[function(r,n,i){var o=r("../utils"),s=r("../common"),a=r("minimalistic-assert"),l=o.rotr64_hi,u=o.rotr64_lo,c=o.shr64_hi,f=o.shr64_lo,d=o.sum64,h=o.sum64_hi,g=o.sum64_lo,m=o.sum64_4_hi,p=o.sum64_4_lo,y=o.sum64_5_hi,b=o.sum64_5_lo,v=s.BlockHash,F=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591];function E(){if(!(this instanceof E))return new E;v.call(this),this.h=[1779033703,4089235720,3144134277,2227873595,1013904242,4271175723,2773480762,1595750129,1359893119,2917565137,2600822924,725511199,528734635,4215389547,1541459225,327033209],this.k=F,this.W=new Array(160)}function T(C,x,A,D,B){var V=C&A^~C&B;return V<0&&(V+=4294967296),V}function I(C,x,A,D,B,V){var j=x&D^~x&V;return j<0&&(j+=4294967296),j}function M(C,x,A,D,B){var V=C&A^C&B^A&B;return V<0&&(V+=4294967296),V}function P(C,x,A,D,B,V){var j=x&D^x&V^D&V;return j<0&&(j+=4294967296),j}function O(C,x){var A=l(C,x,28)^l(x,C,2)^l(x,C,7);return A<0&&(A+=4294967296),A}function z(C,x){var A=u(C,x,28)^u(x,C,2)^u(x,C,7);return A<0&&(A+=4294967296),A}function L(C,x){var A=l(C,x,14)^l(C,x,18)^l(x,C,9);return A<0&&(A+=4294967296),A}function _(C,x){var A=u(C,x,14)^u(C,x,18)^u(x,C,9);return A<0&&(A+=4294967296),A}function R(C,x){var A=l(C,x,1)^l(C,x,8)^c(C,x,7);return A<0&&(A+=4294967296),A}function k(C,x){var A=u(C,x,1)^u(C,x,8)^f(C,x,7);return A<0&&(A+=4294967296),A}function S(C,x){var A=l(C,x,19)^l(x,C,29)^c(C,x,6);return A<0&&(A+=4294967296),A}function w(C,x){var A=u(C,x,19)^u(x,C,29)^f(C,x,6);return A<0&&(A+=4294967296),A}o.inherits(E,v),n.exports=E,E.blockSize=1024,E.outSize=512,E.hmacStrength=192,E.padLength=128,E.prototype._prepareBlock=function(C,x){for(var A=this.W,D=0;D<32;D++)A[D]=C[x+D];for(;D<A.length;D+=2){var B=S(A[D-4],A[D-3]),V=w(A[D-4],A[D-3]),j=A[D-14],K=A[D-13],G=R(A[D-30],A[D-29]),Y=k(A[D-30],A[D-29]),H=A[D-32],N=A[D-31];A[D]=m(B,V,j,K,G,Y,H,N),A[D+1]=p(B,V,j,K,G,Y,H,N)}},E.prototype._update=function(C,x){this._prepareBlock(C,x);var A=this.W,D=this.h[0],B=this.h[1],V=this.h[2],j=this.h[3],K=this.h[4],G=this.h[5],Y=this.h[6],H=this.h[7],N=this.h[8],$=this.h[9],J=this.h[10],Q=this.h[11],ee=this.h[12],W=this.h[13],ne=this.h[14],re=this.h[15];a(this.k.length===A.length);for(var q=0;q<A.length;q+=2){var X=ne,te=re,se=L(N,$),oe=_(N,$),ie=T(N,$,J,Q,ee),ae=I(N,$,J,Q,ee,W),ue=this.k[q],ce=this.k[q+1],pe=A[q],ye=A[q+1],ge=y(X,te,se,oe,ie,ae,ue,ce,pe,ye),Re=b(X,te,se,oe,ie,ae,ue,ce,pe,ye);X=O(D,B),te=z(D,B),se=M(D,B,V,j,K),oe=P(D,B,V,j,K,G);var _e=h(X,te,se,oe),Ae=g(X,te,se,oe);ne=ee,re=W,ee=J,W=Q,J=N,Q=$,N=h(Y,H,ge,Re),$=g(H,H,ge,Re),Y=K,H=G,K=V,G=j,V=D,j=B,D=h(ge,Re,_e,Ae),B=g(ge,Re,_e,Ae)}d(this.h,0,D,B),d(this.h,2,V,j),d(this.h,4,K,G),d(this.h,6,Y,H),d(this.h,8,N,$),d(this.h,10,J,Q),d(this.h,12,ee,W),d(this.h,14,ne,re)},E.prototype._digest=function(C){return C==="hex"?o.toHex32(this.h,"big"):o.split32(this.h,"big")}},{"../common":427,"../utils":437,"minimalistic-assert":453}],436:[function(r,n,i){var o=r("../utils").rotr32;function s(u,c,f){return u&c^~u&f}function a(u,c,f){return u&c^u&f^c&f}function l(u,c,f){return u^c^f}i.ft_1=function(u,c,f,d){return u===0?s(c,f,d):u===1||u===3?l(c,f,d):u===2?a(c,f,d):void 0},i.ch32=s,i.maj32=a,i.p32=l,i.s0_256=function(u){return o(u,2)^o(u,13)^o(u,22)},i.s1_256=function(u){return o(u,6)^o(u,11)^o(u,25)},i.g0_256=function(u){return o(u,7)^o(u,18)^u>>>3},i.g1_256=function(u){return o(u,17)^o(u,19)^u>>>10}},{"../utils":437}],437:[function(r,n,i){var o=r("minimalistic-assert"),s=r("inherits");function a(f,d){return(64512&f.charCodeAt(d))==55296&&!(d<0||d+1>=f.length)&&(64512&f.charCodeAt(d+1))==56320}function l(f){return(f>>>24|f>>>8&65280|f<<8&16711680|(255&f)<<24)>>>0}function u(f){return f.length===1?"0"+f:f}function c(f){return f.length===7?"0"+f:f.length===6?"00"+f:f.length===5?"000"+f:f.length===4?"0000"+f:f.length===3?"00000"+f:f.length===2?"000000"+f:f.length===1?"0000000"+f:f}i.inherits=s,i.toArray=function(f,d){if(Array.isArray(f))return f.slice();if(!f)return[];var h=[];if(typeof f=="string")if(d){if(d==="hex")for((f=f.replace(/[^a-z0-9]+/gi,"")).length%2!=0&&(f="0"+f),m=0;m<f.length;m+=2)h.push(parseInt(f[m]+f[m+1],16))}else for(var g=0,m=0;m<f.length;m++){var p=f.charCodeAt(m);p<128?h[g++]=p:p<2048?(h[g++]=p>>6|192,h[g++]=63&p|128):a(f,m)?(p=65536+((1023&p)<<10)+(1023&f.charCodeAt(++m)),h[g++]=p>>18|240,h[g++]=p>>12&63|128,h[g++]=p>>6&63|128,h[g++]=63&p|128):(h[g++]=p>>12|224,h[g++]=p>>6&63|128,h[g++]=63&p|128)}else for(m=0;m<f.length;m++)h[m]=0|f[m];return h},i.toHex=function(f){for(var d="",h=0;h<f.length;h++)d+=u(f[h].toString(16));return d},i.htonl=l,i.toHex32=function(f,d){for(var h="",g=0;g<f.length;g++){var m=f[g];d==="little"&&(m=l(m)),h+=c(m.toString(16))}return h},i.zero2=u,i.zero8=c,i.join32=function(f,d,h,g){var m=h-d;o(m%4==0);for(var p=new Array(m/4),y=0,b=d;y<p.length;y++,b+=4){var v;v=g==="big"?f[b]<<24|f[b+1]<<16|f[b+2]<<8|f[b+3]:f[b+3]<<24|f[b+2]<<16|f[b+1]<<8|f[b],p[y]=v>>>0}return p},i.split32=function(f,d){for(var h=new Array(4*f.length),g=0,m=0;g<f.length;g++,m+=4){var p=f[g];d==="big"?(h[m]=p>>>24,h[m+1]=p>>>16&255,h[m+2]=p>>>8&255,h[m+3]=255&p):(h[m+3]=p>>>24,h[m+2]=p>>>16&255,h[m+1]=p>>>8&255,h[m]=255&p)}return h},i.rotr32=function(f,d){return f>>>d|f<<32-d},i.rotl32=function(f,d){return f<<d|f>>>32-d},i.sum32=function(f,d){return f+d>>>0},i.sum32_3=function(f,d,h){return f+d+h>>>0},i.sum32_4=function(f,d,h,g){return f+d+h+g>>>0},i.sum32_5=function(f,d,h,g,m){return f+d+h+g+m>>>0},i.sum64=function(f,d,h,g){var m=f[d],p=g+f[d+1]>>>0,y=(p<g?1:0)+h+m;f[d]=y>>>0,f[d+1]=p},i.sum64_hi=function(f,d,h,g){return(d+g>>>0<d?1:0)+f+h>>>0},i.sum64_lo=function(f,d,h,g){return d+g>>>0},i.sum64_4_hi=function(f,d,h,g,m,p,y,b){var v=0,F=d;return v+=(F=F+g>>>0)<d?1:0,v+=(F=F+p>>>0)<p?1:0,f+h+m+y+(v+=(F=F+b>>>0)<b?1:0)>>>0},i.sum64_4_lo=function(f,d,h,g,m,p,y,b){return d+g+p+b>>>0},i.sum64_5_hi=function(f,d,h,g,m,p,y,b,v,F){var E=0,T=d;return E+=(T=T+g>>>0)<d?1:0,E+=(T=T+p>>>0)<p?1:0,E+=(T=T+b>>>0)<b?1:0,f+h+m+y+v+(E+=(T=T+F>>>0)<F?1:0)>>>0},i.sum64_5_lo=function(f,d,h,g,m,p,y,b,v,F){return d+g+p+b+F>>>0},i.rotr64_hi=function(f,d,h){return(d<<32-h|f>>>h)>>>0},i.rotr64_lo=function(f,d,h){return(f<<32-h|d>>>h)>>>0},i.shr64_hi=function(f,d,h){return f>>>h},i.shr64_lo=function(f,d,h){return(f<<32-h|d>>>h)>>>0}},{inherits:440,"minimalistic-assert":453}],438:[function(r,n,i){var o=r("hash.js"),s=r("minimalistic-crypto-utils"),a=r("minimalistic-assert");function l(u){if(!(this instanceof l))return new l(u);this.hash=u.hash,this.predResist=!!u.predResist,this.outLen=this.hash.outSize,this.minEntropy=u.minEntropy||this.hash.hmacStrength,this._reseed=null,this.reseedInterval=null,this.K=null,this.V=null;var c=s.toArray(u.entropy,u.entropyEnc||"hex"),f=s.toArray(u.nonce,u.nonceEnc||"hex"),d=s.toArray(u.pers,u.persEnc||"hex");a(c.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._init(c,f,d)}n.exports=l,l.prototype._init=function(u,c,f){var d=u.concat(c).concat(f);this.K=new Array(this.outLen/8),this.V=new Array(this.outLen/8);for(var h=0;h<this.V.length;h++)this.K[h]=0,this.V[h]=1;this._update(d),this._reseed=1,this.reseedInterval=281474976710656},l.prototype._hmac=function(){return new o.hmac(this.hash,this.K)},l.prototype._update=function(u){var c=this._hmac().update(this.V).update([0]);u&&(c=c.update(u)),this.K=c.digest(),this.V=this._hmac().update(this.V).digest(),u&&(this.K=this._hmac().update(this.V).update([1]).update(u).digest(),this.V=this._hmac().update(this.V).digest())},l.prototype.reseed=function(u,c,f,d){typeof c!="string"&&(d=f,f=c,c=null),u=s.toArray(u,c),f=s.toArray(f,d),a(u.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._update(u.concat(f||[])),this._reseed=1},l.prototype.generate=function(u,c,f,d){if(this._reseed>this.reseedInterval)throw new Error("Reseed is required");typeof c!="string"&&(d=f,f=c,c=null),f&&(f=s.toArray(f,d||"hex"),this._update(f));for(var h=[];h.length<u;)this.V=this._hmac().update(this.V).digest(),h=h.concat(this.V);var g=h.slice(0,u);return this._update(f),this._reseed++,s.encode(g,c)}},{"hash.js":426,"minimalistic-assert":453,"minimalistic-crypto-utils":454}],439:[function(r,n,i){/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */i.read=function(o,s,a,l,u){var c,f,d=8*u-l-1,h=(1<<d)-1,g=h>>1,m=-7,p=a?u-1:0,y=a?-1:1,b=o[s+p];for(p+=y,c=b&(1<<-m)-1,b>>=-m,m+=d;m>0;c=256*c+o[s+p],p+=y,m-=8);for(f=c&(1<<-m)-1,c>>=-m,m+=l;m>0;f=256*f+o[s+p],p+=y,m-=8);if(c===0)c=1-g;else{if(c===h)return f?NaN:1/0*(b?-1:1);f+=Math.pow(2,l),c-=g}return(b?-1:1)*f*Math.pow(2,c-l)},i.write=function(o,s,a,l,u,c){var f,d,h,g=8*c-u-1,m=(1<<g)-1,p=m>>1,y=u===23?Math.pow(2,-24)-Math.pow(2,-77):0,b=l?0:c-1,v=l?1:-1,F=s<0||s===0&&1/s<0?1:0;for(s=Math.abs(s),isNaN(s)||s===1/0?(d=isNaN(s)?1:0,f=m):(f=Math.floor(Math.log(s)/Math.LN2),s*(h=Math.pow(2,-f))<1&&(f--,h*=2),(s+=f+p>=1?y/h:y*Math.pow(2,1-p))*h>=2&&(f++,h/=2),f+p>=m?(d=0,f=m):f+p>=1?(d=(s*h-1)*Math.pow(2,u),f+=p):(d=s*Math.pow(2,p-1)*Math.pow(2,u),f=0));u>=8;o[a+b]=255&d,b+=v,d/=256,u-=8);for(f=f<<u|d,g+=u;g>0;o[a+b]=255&f,b+=v,f/=256,g-=8);o[a+b-v]|=128*F}},{}],440:[function(r,n,i){typeof Object.create=="function"?n.exports=function(o,s){s&&(o.super_=s,o.prototype=Object.create(s.prototype,{constructor:{value:o,enumerable:!1,writable:!0,configurable:!0}}))}:n.exports=function(o,s){if(s){o.super_=s;var a=function(){};a.prototype=s.prototype,o.prototype=new a,o.prototype.constructor=o}}},{}],441:[function(r,n,i){(function(o,s,a,l,u,c,f,d){(function(){/*!

		JSZip v3.10.1 - A JavaScript class for generating and reading zip files
		<http://stuartk.com/jszip>

		(c) 2009-2016 Stuart Knightley <stuart [at] stuartk.com>
		Dual licenced under the MIT license or GPLv3. See https://raw.github.com/Stuk/jszip/main/LICENSE.markdown.

		JSZip uses the library pako released under the MIT license :
		https://github.com/nodeca/pako/blob/main/LICENSE
		*/(function(h){typeof i=="object"&&n!==void 0?n.exports=h():(typeof window<"u"?window:s!==void 0?s:typeof self<"u"?self:this).JSZip=h()})((function(){return(function h(g,m,p){function y(F,E){if(!m[F]){if(!g[F]){var T=typeof r=="function"&&r;if(!E&&T)return T(F,!0);if(b)return b(F,!0);var I=new Error("Cannot find module '"+F+"'");throw I.code="MODULE_NOT_FOUND",I}var M=m[F]={exports:{}};g[F][0].call(M.exports,(function(P){return y(g[F][1][P]||P)}),M,M.exports,h,g,m,p)}return m[F].exports}for(var b=typeof r=="function"&&r,v=0;v<p.length;v++)y(p[v]);return y})({1:[function(h,g,m){var p=h("./utils"),y=h("./support"),b="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";m.encode=function(v){for(var F,E,T,I,M,P,O,z=[],L=0,_=v.length,R=_,k=p.getTypeOf(v)!=="string";L<v.length;)R=_-L,T=k?(F=v[L++],E=L<_?v[L++]:0,L<_?v[L++]:0):(F=v.charCodeAt(L++),E=L<_?v.charCodeAt(L++):0,L<_?v.charCodeAt(L++):0),I=F>>2,M=(3&F)<<4|E>>4,P=1<R?(15&E)<<2|T>>6:64,O=2<R?63&T:64,z.push(b.charAt(I)+b.charAt(M)+b.charAt(P)+b.charAt(O));return z.join("")},m.decode=function(v){var F,E,T,I,M,P,O=0,z=0,L="data:";if(v.substr(0,L.length)===L)throw new Error("Invalid base64 input, it looks like a data url.");var _,R=3*(v=v.replace(/[^A-Za-z0-9+/=]/g,"")).length/4;if(v.charAt(v.length-1)===b.charAt(64)&&R--,v.charAt(v.length-2)===b.charAt(64)&&R--,R%1!=0)throw new Error("Invalid base64 input, bad content length.");for(_=y.uint8array?new Uint8Array(0|R):new Array(0|R);O<v.length;)F=b.indexOf(v.charAt(O++))<<2|(I=b.indexOf(v.charAt(O++)))>>4,E=(15&I)<<4|(M=b.indexOf(v.charAt(O++)))>>2,T=(3&M)<<6|(P=b.indexOf(v.charAt(O++))),_[z++]=F,M!==64&&(_[z++]=E),P!==64&&(_[z++]=T);return _}},{"./support":30,"./utils":32}],2:[function(h,g,m){var p=h("./external"),y=h("./stream/DataWorker"),b=h("./stream/Crc32Probe"),v=h("./stream/DataLengthProbe");function F(E,T,I,M,P){this.compressedSize=E,this.uncompressedSize=T,this.crc32=I,this.compression=M,this.compressedContent=P}F.prototype={getContentWorker:function(){var E=new y(p.Promise.resolve(this.compressedContent)).pipe(this.compression.uncompressWorker()).pipe(new v("data_length")),T=this;return E.on("end",(function(){if(this.streamInfo.data_length!==T.uncompressedSize)throw new Error("Bug : uncompressed data size mismatch")})),E},getCompressedWorker:function(){return new y(p.Promise.resolve(this.compressedContent)).withStreamInfo("compressedSize",this.compressedSize).withStreamInfo("uncompressedSize",this.uncompressedSize).withStreamInfo("crc32",this.crc32).withStreamInfo("compression",this.compression)}},F.createWorkerFrom=function(E,T,I){return E.pipe(new b).pipe(new v("uncompressedSize")).pipe(T.compressWorker(I)).pipe(new v("compressedSize")).withStreamInfo("compression",T)},g.exports=F},{"./external":6,"./stream/Crc32Probe":25,"./stream/DataLengthProbe":26,"./stream/DataWorker":27}],3:[function(h,g,m){var p=h("./stream/GenericWorker");m.STORE={magic:"\0\0",compressWorker:function(){return new p("STORE compression")},uncompressWorker:function(){return new p("STORE decompression")}},m.DEFLATE=h("./flate")},{"./flate":7,"./stream/GenericWorker":28}],4:[function(h,g,m){var p=h("./utils"),y=(function(){for(var b,v=[],F=0;F<256;F++){b=F;for(var E=0;E<8;E++)b=1&b?3988292384^b>>>1:b>>>1;v[F]=b}return v})();g.exports=function(b,v){return b!==void 0&&b.length?p.getTypeOf(b)!=="string"?(function(F,E,T,I){var M=y,P=0+T;F^=-1;for(var O=0;O<P;O++)F=F>>>8^M[255&(F^E[O])];return-1^F})(0|v,b,b.length):(function(F,E,T,I){var M=y,P=0+T;F^=-1;for(var O=0;O<P;O++)F=F>>>8^M[255&(F^E.charCodeAt(O))];return-1^F})(0|v,b,b.length):0}},{"./utils":32}],5:[function(h,g,m){m.base64=!1,m.binary=!1,m.dir=!1,m.createFolders=!0,m.date=null,m.compression=null,m.compressionOptions=null,m.comment=null,m.unixPermissions=null,m.dosPermissions=null},{}],6:[function(h,g,m){var p;p=typeof Promise<"u"?Promise:h("lie"),g.exports={Promise:p}},{lie:37}],7:[function(h,g,m){var p=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Uint32Array<"u",y=h("pako"),b=h("./utils"),v=h("./stream/GenericWorker"),F=p?"uint8array":"array";function E(T,I){v.call(this,"FlateWorker/"+T),this._pako=null,this._pakoAction=T,this._pakoOptions=I,this.meta={}}m.magic="\b\0",b.inherits(E,v),E.prototype.processChunk=function(T){this.meta=T.meta,this._pako===null&&this._createPako(),this._pako.push(b.transformTo(F,T.data),!1)},E.prototype.flush=function(){v.prototype.flush.call(this),this._pako===null&&this._createPako(),this._pako.push([],!0)},E.prototype.cleanUp=function(){v.prototype.cleanUp.call(this),this._pako=null},E.prototype._createPako=function(){this._pako=new y[this._pakoAction]({raw:!0,level:this._pakoOptions.level||-1});var T=this;this._pako.onData=function(I){T.push({data:I,meta:T.meta})}},m.compressWorker=function(T){return new E("Deflate",T)},m.uncompressWorker=function(){return new E("Inflate",{})}},{"./stream/GenericWorker":28,"./utils":32,pako:38}],8:[function(h,g,m){function p(M,P){var O,z="";for(O=0;O<P;O++)z+=String.fromCharCode(255&M),M>>>=8;return z}function y(M,P,O,z,L,_){var R,k,S=M.file,w=M.compression,C=_!==F.utf8encode,x=b.transformTo("string",_(S.name)),A=b.transformTo("string",F.utf8encode(S.name)),D=S.comment,B=b.transformTo("string",_(D)),V=b.transformTo("string",F.utf8encode(D)),j=A.length!==S.name.length,K=V.length!==D.length,G="",Y="",H="",N=S.dir,$=S.date,J={crc32:0,compressedSize:0,uncompressedSize:0};P&&!O||(J.crc32=M.crc32,J.compressedSize=M.compressedSize,J.uncompressedSize=M.uncompressedSize);var Q=0;P&&(Q|=8),C||!j&&!K||(Q|=2048);var ee=0,W=0;N&&(ee|=16),L==="UNIX"?(W=798,ee|=(function(re,q){var X=re;return re||(X=q?16893:33204),(65535&X)<<16})(S.unixPermissions,N)):(W=20,ee|=(function(re){return 63&(re||0)})(S.dosPermissions)),R=$.getUTCHours(),R<<=6,R|=$.getUTCMinutes(),R<<=5,R|=$.getUTCSeconds()/2,k=$.getUTCFullYear()-1980,k<<=4,k|=$.getUTCMonth()+1,k<<=5,k|=$.getUTCDate(),j&&(Y=p(1,1)+p(E(x),4)+A,G+="up"+p(Y.length,2)+Y),K&&(H=p(1,1)+p(E(B),4)+V,G+="uc"+p(H.length,2)+H);var ne="";return ne+=`
\0`,ne+=p(Q,2),ne+=w.magic,ne+=p(R,2),ne+=p(k,2),ne+=p(J.crc32,4),ne+=p(J.compressedSize,4),ne+=p(J.uncompressedSize,4),ne+=p(x.length,2),ne+=p(G.length,2),{fileRecord:T.LOCAL_FILE_HEADER+ne+x+G,dirRecord:T.CENTRAL_FILE_HEADER+p(W,2)+ne+p(B.length,2)+"\0\0\0\0"+p(ee,4)+p(z,4)+x+G+B}}var b=h("../utils"),v=h("../stream/GenericWorker"),F=h("../utf8"),E=h("../crc32"),T=h("../signature");function I(M,P,O,z){v.call(this,"ZipFileWorker"),this.bytesWritten=0,this.zipComment=P,this.zipPlatform=O,this.encodeFileName=z,this.streamFiles=M,this.accumulate=!1,this.contentBuffer=[],this.dirRecords=[],this.currentSourceOffset=0,this.entriesCount=0,this.currentFile=null,this._sources=[]}b.inherits(I,v),I.prototype.push=function(M){var P=M.meta.percent||0,O=this.entriesCount,z=this._sources.length;this.accumulate?this.contentBuffer.push(M):(this.bytesWritten+=M.data.length,v.prototype.push.call(this,{data:M.data,meta:{currentFile:this.currentFile,percent:O?(P+100*(O-z-1))/O:100}}))},I.prototype.openedSource=function(M){this.currentSourceOffset=this.bytesWritten,this.currentFile=M.file.name;var P=this.streamFiles&&!M.file.dir;if(P){var O=y(M,P,!1,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);this.push({data:O.fileRecord,meta:{percent:0}})}else this.accumulate=!0},I.prototype.closedSource=function(M){this.accumulate=!1;var P=this.streamFiles&&!M.file.dir,O=y(M,P,!0,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);if(this.dirRecords.push(O.dirRecord),P)this.push({data:(function(z){return T.DATA_DESCRIPTOR+p(z.crc32,4)+p(z.compressedSize,4)+p(z.uncompressedSize,4)})(M),meta:{percent:100}});else for(this.push({data:O.fileRecord,meta:{percent:0}});this.contentBuffer.length;)this.push(this.contentBuffer.shift());this.currentFile=null},I.prototype.flush=function(){for(var M=this.bytesWritten,P=0;P<this.dirRecords.length;P++)this.push({data:this.dirRecords[P],meta:{percent:100}});var O=this.bytesWritten-M,z=(function(L,_,R,k,S){var w=b.transformTo("string",S(k));return T.CENTRAL_DIRECTORY_END+"\0\0\0\0"+p(L,2)+p(L,2)+p(_,4)+p(R,4)+p(w.length,2)+w})(this.dirRecords.length,O,M,this.zipComment,this.encodeFileName);this.push({data:z,meta:{percent:100}})},I.prototype.prepareNextSource=function(){this.previous=this._sources.shift(),this.openedSource(this.previous.streamInfo),this.isPaused?this.previous.pause():this.previous.resume()},I.prototype.registerPrevious=function(M){this._sources.push(M);var P=this;return M.on("data",(function(O){P.processChunk(O)})),M.on("end",(function(){P.closedSource(P.previous.streamInfo),P._sources.length?P.prepareNextSource():P.end()})),M.on("error",(function(O){P.error(O)})),this},I.prototype.resume=function(){return!!v.prototype.resume.call(this)&&(!this.previous&&this._sources.length?(this.prepareNextSource(),!0):this.previous||this._sources.length||this.generatedError?void 0:(this.end(),!0))},I.prototype.error=function(M){var P=this._sources;if(!v.prototype.error.call(this,M))return!1;for(var O=0;O<P.length;O++)try{P[O].error(M)}catch{}return!0},I.prototype.lock=function(){v.prototype.lock.call(this);for(var M=this._sources,P=0;P<M.length;P++)M[P].lock()},g.exports=I},{"../crc32":4,"../signature":23,"../stream/GenericWorker":28,"../utf8":31,"../utils":32}],9:[function(h,g,m){var p=h("../compressions"),y=h("./ZipFileWorker");m.generateWorker=function(b,v,F){var E=new y(v.streamFiles,F,v.platform,v.encodeFileName),T=0;try{b.forEach((function(I,M){T++;var P=(function(_,R){var k=_||R,S=p[k];if(!S)throw new Error(k+" is not a valid compression method !");return S})(M.options.compression,v.compression),O=M.options.compressionOptions||v.compressionOptions||{},z=M.dir,L=M.date;M._compressWorker(P,O).withStreamInfo("file",{name:I,dir:z,date:L,comment:M.comment||"",unixPermissions:M.unixPermissions,dosPermissions:M.dosPermissions}).pipe(E)})),E.entriesCount=T}catch(I){E.error(I)}return E}},{"../compressions":3,"./ZipFileWorker":8}],10:[function(h,g,m){function p(){if(!(this instanceof p))return new p;if(arguments.length)throw new Error("The constructor with parameters has been removed in JSZip 3.0, please check the upgrade guide.");this.files=Object.create(null),this.comment=null,this.root="",this.clone=function(){var y=new p;for(var b in this)typeof this[b]!="function"&&(y[b]=this[b]);return y}}(p.prototype=h("./object")).loadAsync=h("./load"),p.support=h("./support"),p.defaults=h("./defaults"),p.version="3.10.1",p.loadAsync=function(y,b){return new p().loadAsync(y,b)},p.external=h("./external"),g.exports=p},{"./defaults":5,"./external":6,"./load":11,"./object":15,"./support":30}],11:[function(h,g,m){var p=h("./utils"),y=h("./external"),b=h("./utf8"),v=h("./zipEntries"),F=h("./stream/Crc32Probe"),E=h("./nodejsUtils");function T(I){return new y.Promise((function(M,P){var O=I.decompressed.getContentWorker().pipe(new F);O.on("error",(function(z){P(z)})).on("end",(function(){O.streamInfo.crc32!==I.decompressed.crc32?P(new Error("Corrupted zip : CRC32 mismatch")):M()})).resume()}))}g.exports=function(I,M){var P=this;return M=p.extend(M||{},{base64:!1,checkCRC32:!1,optimizedBinaryString:!1,createFolders:!1,decodeFileName:b.utf8decode}),E.isNode&&E.isStream(I)?y.Promise.reject(new Error("JSZip can't accept a stream when loading a zip file.")):p.prepareContent("the loaded zip file",I,!0,M.optimizedBinaryString,M.base64).then((function(O){var z=new v(M);return z.load(O),z})).then((function(O){var z=[y.Promise.resolve(O)],L=O.files;if(M.checkCRC32)for(var _=0;_<L.length;_++)z.push(T(L[_]));return y.Promise.all(z)})).then((function(O){for(var z=O.shift(),L=z.files,_=0;_<L.length;_++){var R=L[_],k=R.fileNameStr,S=p.resolve(R.fileNameStr);P.file(S,R.decompressed,{binary:!0,optimizedBinaryString:!0,date:R.date,dir:R.dir,comment:R.fileCommentStr.length?R.fileCommentStr:null,unixPermissions:R.unixPermissions,dosPermissions:R.dosPermissions,createFolders:M.createFolders}),R.dir||(P.file(S).unsafeOriginalName=k)}return z.zipComment.length&&(P.comment=z.zipComment),P}))}},{"./external":6,"./nodejsUtils":14,"./stream/Crc32Probe":25,"./utf8":31,"./utils":32,"./zipEntries":33}],12:[function(h,g,m){var p=h("../utils"),y=h("../stream/GenericWorker");function b(v,F){y.call(this,"Nodejs stream input adapter for "+v),this._upstreamEnded=!1,this._bindStream(F)}p.inherits(b,y),b.prototype._bindStream=function(v){var F=this;(this._stream=v).pause(),v.on("data",(function(E){F.push({data:E,meta:{percent:0}})})).on("error",(function(E){F.isPaused?this.generatedError=E:F.error(E)})).on("end",(function(){F.isPaused?F._upstreamEnded=!0:F.end()}))},b.prototype.pause=function(){return!!y.prototype.pause.call(this)&&(this._stream.pause(),!0)},b.prototype.resume=function(){return!!y.prototype.resume.call(this)&&(this._upstreamEnded?this.end():this._stream.resume(),!0)},g.exports=b},{"../stream/GenericWorker":28,"../utils":32}],13:[function(h,g,m){var p=h("readable-stream").Readable;function y(b,v,F){p.call(this,v),this._helper=b;var E=this;b.on("data",(function(T,I){E.push(T)||E._helper.pause(),F&&F(I)})).on("error",(function(T){E.emit("error",T)})).on("end",(function(){E.push(null)}))}h("../utils").inherits(y,p),y.prototype._read=function(){this._helper.resume()},g.exports=y},{"../utils":32,"readable-stream":16}],14:[function(h,g,m){g.exports={isNode:a!==void 0,newBufferFrom:function(p,y){if(a.from&&a.from!==Uint8Array.from)return a.from(p,y);if(typeof p=="number")throw new Error('The "data" argument must not be a number');return new a(p,y)},allocBuffer:function(p){if(a.alloc)return a.alloc(p);var y=new a(p);return y.fill(0),y},isBuffer:function(p){return a.isBuffer(p)},isStream:function(p){return p&&typeof p.on=="function"&&typeof p.pause=="function"&&typeof p.resume=="function"}}},{}],15:[function(h,g,m){function p(S,w,C){var x,A=b.getTypeOf(w),D=b.extend(C||{},E);D.date=D.date||new Date,D.compression!==null&&(D.compression=D.compression.toUpperCase()),typeof D.unixPermissions=="string"&&(D.unixPermissions=parseInt(D.unixPermissions,8)),D.unixPermissions&&16384&D.unixPermissions&&(D.dir=!0),D.dosPermissions&&16&D.dosPermissions&&(D.dir=!0),D.dir&&(S=L(S)),D.createFolders&&(x=z(S))&&_.call(this,x,!0);var B=A==="string"&&D.binary===!1&&D.base64===!1;C&&C.binary!==void 0||(D.binary=!B),(w instanceof T&&w.uncompressedSize===0||D.dir||!w||w.length===0)&&(D.base64=!1,D.binary=!0,w="",D.compression="STORE",A="string");var V;V=w instanceof T||w instanceof v?w:P.isNode&&P.isStream(w)?new O(S,w):b.prepareContent(S,w,D.binary,D.optimizedBinaryString,D.base64);var j=new I(S,V,D);this.files[S]=j}var y=h("./utf8"),b=h("./utils"),v=h("./stream/GenericWorker"),F=h("./stream/StreamHelper"),E=h("./defaults"),T=h("./compressedObject"),I=h("./zipObject"),M=h("./generate"),P=h("./nodejsUtils"),O=h("./nodejs/NodejsStreamInputAdapter"),z=function(S){S.slice(-1)==="/"&&(S=S.substring(0,S.length-1));var w=S.lastIndexOf("/");return 0<w?S.substring(0,w):""},L=function(S){return S.slice(-1)!=="/"&&(S+="/"),S},_=function(S,w){return w=w!==void 0?w:E.createFolders,S=L(S),this.files[S]||p.call(this,S,null,{dir:!0,createFolders:w}),this.files[S]};function R(S){return Object.prototype.toString.call(S)==="[object RegExp]"}var k={load:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},forEach:function(S){var w,C,x;for(w in this.files)x=this.files[w],(C=w.slice(this.root.length,w.length))&&w.slice(0,this.root.length)===this.root&&S(C,x)},filter:function(S){var w=[];return this.forEach((function(C,x){S(C,x)&&w.push(x)})),w},file:function(S,w,C){if(arguments.length!==1)return S=this.root+S,p.call(this,S,w,C),this;if(R(S)){var x=S;return this.filter((function(D,B){return!B.dir&&x.test(D)}))}var A=this.files[this.root+S];return A&&!A.dir?A:null},folder:function(S){if(!S)return this;if(R(S))return this.filter((function(A,D){return D.dir&&S.test(A)}));var w=this.root+S,C=_.call(this,w),x=this.clone();return x.root=C.name,x},remove:function(S){S=this.root+S;var w=this.files[S];if(w||(S.slice(-1)!=="/"&&(S+="/"),w=this.files[S]),w&&!w.dir)delete this.files[S];else for(var C=this.filter((function(A,D){return D.name.slice(0,S.length)===S})),x=0;x<C.length;x++)delete this.files[C[x].name];return this},generate:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},generateInternalStream:function(S){var w,C={};try{if((C=b.extend(S||{},{streamFiles:!1,compression:"STORE",compressionOptions:null,type:"",platform:"DOS",comment:null,mimeType:"application/zip",encodeFileName:y.utf8encode})).type=C.type.toLowerCase(),C.compression=C.compression.toUpperCase(),C.type==="binarystring"&&(C.type="string"),!C.type)throw new Error("No output type specified.");b.checkSupport(C.type),C.platform!=="darwin"&&C.platform!=="freebsd"&&C.platform!=="linux"&&C.platform!=="sunos"||(C.platform="UNIX"),C.platform==="win32"&&(C.platform="DOS");var x=C.comment||this.comment||"";w=M.generateWorker(this,C,x)}catch(A){(w=new v("error")).error(A)}return new F(w,C.type||"string",C.mimeType)},generateAsync:function(S,w){return this.generateInternalStream(S).accumulate(w)},generateNodeStream:function(S,w){return(S=S||{}).type||(S.type="nodebuffer"),this.generateInternalStream(S).toNodejsStream(w)}};g.exports=k},{"./compressedObject":2,"./defaults":5,"./generate":9,"./nodejs/NodejsStreamInputAdapter":12,"./nodejsUtils":14,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31,"./utils":32,"./zipObject":35}],16:[function(h,g,m){g.exports=h("stream")},{stream:void 0}],17:[function(h,g,m){var p=h("./DataReader");function y(b){p.call(this,b);for(var v=0;v<this.data.length;v++)b[v]=255&b[v]}h("../utils").inherits(y,p),y.prototype.byteAt=function(b){return this.data[this.zero+b]},y.prototype.lastIndexOfSignature=function(b){for(var v=b.charCodeAt(0),F=b.charCodeAt(1),E=b.charCodeAt(2),T=b.charCodeAt(3),I=this.length-4;0<=I;--I)if(this.data[I]===v&&this.data[I+1]===F&&this.data[I+2]===E&&this.data[I+3]===T)return I-this.zero;return-1},y.prototype.readAndCheckSignature=function(b){var v=b.charCodeAt(0),F=b.charCodeAt(1),E=b.charCodeAt(2),T=b.charCodeAt(3),I=this.readData(4);return v===I[0]&&F===I[1]&&E===I[2]&&T===I[3]},y.prototype.readData=function(b){if(this.checkOffset(b),b===0)return[];var v=this.data.slice(this.zero+this.index,this.zero+this.index+b);return this.index+=b,v},g.exports=y},{"../utils":32,"./DataReader":18}],18:[function(h,g,m){var p=h("../utils");function y(b){this.data=b,this.length=b.length,this.index=0,this.zero=0}y.prototype={checkOffset:function(b){this.checkIndex(this.index+b)},checkIndex:function(b){if(this.length<this.zero+b||b<0)throw new Error("End of data reached (data length = "+this.length+", asked index = "+b+"). Corrupted zip ?")},setIndex:function(b){this.checkIndex(b),this.index=b},skip:function(b){this.setIndex(this.index+b)},byteAt:function(){},readInt:function(b){var v,F=0;for(this.checkOffset(b),v=this.index+b-1;v>=this.index;v--)F=(F<<8)+this.byteAt(v);return this.index+=b,F},readString:function(b){return p.transformTo("string",this.readData(b))},readData:function(){},lastIndexOfSignature:function(){},readAndCheckSignature:function(){},readDate:function(){var b=this.readInt(4);return new Date(Date.UTC(1980+(b>>25&127),(b>>21&15)-1,b>>16&31,b>>11&31,b>>5&63,(31&b)<<1))}},g.exports=y},{"../utils":32}],19:[function(h,g,m){var p=h("./Uint8ArrayReader");function y(b){p.call(this,b)}h("../utils").inherits(y,p),y.prototype.readData=function(b){this.checkOffset(b);var v=this.data.slice(this.zero+this.index,this.zero+this.index+b);return this.index+=b,v},g.exports=y},{"../utils":32,"./Uint8ArrayReader":21}],20:[function(h,g,m){var p=h("./DataReader");function y(b){p.call(this,b)}h("../utils").inherits(y,p),y.prototype.byteAt=function(b){return this.data.charCodeAt(this.zero+b)},y.prototype.lastIndexOfSignature=function(b){return this.data.lastIndexOf(b)-this.zero},y.prototype.readAndCheckSignature=function(b){return b===this.readData(4)},y.prototype.readData=function(b){this.checkOffset(b);var v=this.data.slice(this.zero+this.index,this.zero+this.index+b);return this.index+=b,v},g.exports=y},{"../utils":32,"./DataReader":18}],21:[function(h,g,m){var p=h("./ArrayReader");function y(b){p.call(this,b)}h("../utils").inherits(y,p),y.prototype.readData=function(b){if(this.checkOffset(b),b===0)return new Uint8Array(0);var v=this.data.subarray(this.zero+this.index,this.zero+this.index+b);return this.index+=b,v},g.exports=y},{"../utils":32,"./ArrayReader":17}],22:[function(h,g,m){var p=h("../utils"),y=h("../support"),b=h("./ArrayReader"),v=h("./StringReader"),F=h("./NodeBufferReader"),E=h("./Uint8ArrayReader");g.exports=function(T){var I=p.getTypeOf(T);return p.checkSupport(I),I!=="string"||y.uint8array?I==="nodebuffer"?new F(T):y.uint8array?new E(p.transformTo("uint8array",T)):new b(p.transformTo("array",T)):new v(T)}},{"../support":30,"../utils":32,"./ArrayReader":17,"./NodeBufferReader":19,"./StringReader":20,"./Uint8ArrayReader":21}],23:[function(h,g,m){m.LOCAL_FILE_HEADER="PK",m.CENTRAL_FILE_HEADER="PK",m.CENTRAL_DIRECTORY_END="PK",m.ZIP64_CENTRAL_DIRECTORY_LOCATOR="PK\x07",m.ZIP64_CENTRAL_DIRECTORY_END="PK",m.DATA_DESCRIPTOR="PK\x07\b"},{}],24:[function(h,g,m){var p=h("./GenericWorker"),y=h("../utils");function b(v){p.call(this,"ConvertWorker to "+v),this.destType=v}y.inherits(b,p),b.prototype.processChunk=function(v){this.push({data:y.transformTo(this.destType,v.data),meta:v.meta})},g.exports=b},{"../utils":32,"./GenericWorker":28}],25:[function(h,g,m){var p=h("./GenericWorker"),y=h("../crc32");function b(){p.call(this,"Crc32Probe"),this.withStreamInfo("crc32",0)}h("../utils").inherits(b,p),b.prototype.processChunk=function(v){this.streamInfo.crc32=y(v.data,this.streamInfo.crc32||0),this.push(v)},g.exports=b},{"../crc32":4,"../utils":32,"./GenericWorker":28}],26:[function(h,g,m){var p=h("../utils"),y=h("./GenericWorker");function b(v){y.call(this,"DataLengthProbe for "+v),this.propName=v,this.withStreamInfo(v,0)}p.inherits(b,y),b.prototype.processChunk=function(v){if(v){var F=this.streamInfo[this.propName]||0;this.streamInfo[this.propName]=F+v.data.length}y.prototype.processChunk.call(this,v)},g.exports=b},{"../utils":32,"./GenericWorker":28}],27:[function(h,g,m){var p=h("../utils"),y=h("./GenericWorker");function b(v){y.call(this,"DataWorker");var F=this;this.dataIsReady=!1,this.index=0,this.max=0,this.data=null,this.type="",this._tickScheduled=!1,v.then((function(E){F.dataIsReady=!0,F.data=E,F.max=E&&E.length||0,F.type=p.getTypeOf(E),F.isPaused||F._tickAndRepeat()}),(function(E){F.error(E)}))}p.inherits(b,y),b.prototype.cleanUp=function(){y.prototype.cleanUp.call(this),this.data=null},b.prototype.resume=function(){return!!y.prototype.resume.call(this)&&(!this._tickScheduled&&this.dataIsReady&&(this._tickScheduled=!0,p.delay(this._tickAndRepeat,[],this)),!0)},b.prototype._tickAndRepeat=function(){this._tickScheduled=!1,this.isPaused||this.isFinished||(this._tick(),this.isFinished||(p.delay(this._tickAndRepeat,[],this),this._tickScheduled=!0))},b.prototype._tick=function(){if(this.isPaused||this.isFinished)return!1;var v=null,F=Math.min(this.max,this.index+16384);if(this.index>=this.max)return this.end();switch(this.type){case"string":v=this.data.substring(this.index,F);break;case"uint8array":v=this.data.subarray(this.index,F);break;case"array":case"nodebuffer":v=this.data.slice(this.index,F)}return this.index=F,this.push({data:v,meta:{percent:this.max?this.index/this.max*100:0}})},g.exports=b},{"../utils":32,"./GenericWorker":28}],28:[function(h,g,m){function p(y){this.name=y||"default",this.streamInfo={},this.generatedError=null,this.extraStreamInfo={},this.isPaused=!0,this.isFinished=!1,this.isLocked=!1,this._listeners={data:[],end:[],error:[]},this.previous=null}p.prototype={push:function(y){this.emit("data",y)},end:function(){if(this.isFinished)return!1;this.flush();try{this.emit("end"),this.cleanUp(),this.isFinished=!0}catch(y){this.emit("error",y)}return!0},error:function(y){return!this.isFinished&&(this.isPaused?this.generatedError=y:(this.isFinished=!0,this.emit("error",y),this.previous&&this.previous.error(y),this.cleanUp()),!0)},on:function(y,b){return this._listeners[y].push(b),this},cleanUp:function(){this.streamInfo=this.generatedError=this.extraStreamInfo=null,this._listeners=[]},emit:function(y,b){if(this._listeners[y])for(var v=0;v<this._listeners[y].length;v++)this._listeners[y][v].call(this,b)},pipe:function(y){return y.registerPrevious(this)},registerPrevious:function(y){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.streamInfo=y.streamInfo,this.mergeStreamInfo(),this.previous=y;var b=this;return y.on("data",(function(v){b.processChunk(v)})),y.on("end",(function(){b.end()})),y.on("error",(function(v){b.error(v)})),this},pause:function(){return!this.isPaused&&!this.isFinished&&(this.isPaused=!0,this.previous&&this.previous.pause(),!0)},resume:function(){if(!this.isPaused||this.isFinished)return!1;var y=this.isPaused=!1;return this.generatedError&&(this.error(this.generatedError),y=!0),this.previous&&this.previous.resume(),!y},flush:function(){},processChunk:function(y){this.push(y)},withStreamInfo:function(y,b){return this.extraStreamInfo[y]=b,this.mergeStreamInfo(),this},mergeStreamInfo:function(){for(var y in this.extraStreamInfo)Object.prototype.hasOwnProperty.call(this.extraStreamInfo,y)&&(this.streamInfo[y]=this.extraStreamInfo[y])},lock:function(){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.isLocked=!0,this.previous&&this.previous.lock()},toString:function(){var y="Worker "+this.name;return this.previous?this.previous+" -> "+y:y}},g.exports=p},{}],29:[function(h,g,m){var p=h("../utils"),y=h("./ConvertWorker"),b=h("./GenericWorker"),v=h("../base64"),F=h("../support"),E=h("../external"),T=null;if(F.nodestream)try{T=h("../nodejs/NodejsStreamOutputAdapter")}catch{}function I(M,P,O){var z=P;switch(P){case"blob":case"arraybuffer":z="uint8array";break;case"base64":z="string"}try{this._internalType=z,this._outputType=P,this._mimeType=O,p.checkSupport(z),this._worker=M.pipe(new y(z)),M.lock()}catch(L){this._worker=new b("error"),this._worker.error(L)}}I.prototype={accumulate:function(M){return(function(P,O){return new E.Promise((function(z,L){var _=[],R=P._internalType,k=P._outputType,S=P._mimeType;P.on("data",(function(w,C){_.push(w),O&&O(C)})).on("error",(function(w){_=[],L(w)})).on("end",(function(){try{var w=(function(C,x,A){switch(C){case"blob":return p.newBlob(p.transformTo("arraybuffer",x),A);case"base64":return v.encode(x);default:return p.transformTo(C,x)}})(k,(function(C,x){var A,D=0,B=null,V=0;for(A=0;A<x.length;A++)V+=x[A].length;switch(C){case"string":return x.join("");case"array":return Array.prototype.concat.apply([],x);case"uint8array":for(B=new Uint8Array(V),A=0;A<x.length;A++)B.set(x[A],D),D+=x[A].length;return B;case"nodebuffer":return a.concat(x);default:throw new Error("concat : unsupported type '"+C+"'")}})(R,_),S);z(w)}catch(C){L(C)}_=[]})).resume()}))})(this,M)},on:function(M,P){var O=this;return M==="data"?this._worker.on(M,(function(z){P.call(O,z.data,z.meta)})):this._worker.on(M,(function(){p.delay(P,arguments,O)})),this},resume:function(){return p.delay(this._worker.resume,[],this._worker),this},pause:function(){return this._worker.pause(),this},toNodejsStream:function(M){if(p.checkSupport("nodestream"),this._outputType!=="nodebuffer")throw new Error(this._outputType+" is not supported by this method");return new T(this,{objectMode:this._outputType!=="nodebuffer"},M)}},g.exports=I},{"../base64":1,"../external":6,"../nodejs/NodejsStreamOutputAdapter":13,"../support":30,"../utils":32,"./ConvertWorker":24,"./GenericWorker":28}],30:[function(h,g,m){if(m.base64=!0,m.array=!0,m.string=!0,m.arraybuffer=typeof ArrayBuffer<"u"&&typeof Uint8Array<"u",m.nodebuffer=a!==void 0,m.uint8array=typeof Uint8Array<"u",typeof ArrayBuffer>"u")m.blob=!1;else{var p=new ArrayBuffer(0);try{m.blob=new Blob([p],{type:"application/zip"}).size===0}catch{try{var y=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);y.append(p),m.blob=y.getBlob("application/zip").size===0}catch{m.blob=!1}}}try{m.nodestream=!!h("readable-stream").Readable}catch{m.nodestream=!1}},{"readable-stream":16}],31:[function(h,g,m){for(var p=h("./utils"),y=h("./support"),b=h("./nodejsUtils"),v=h("./stream/GenericWorker"),F=new Array(256),E=0;E<256;E++)F[E]=252<=E?6:248<=E?5:240<=E?4:224<=E?3:192<=E?2:1;function T(){v.call(this,"utf-8 decode"),this.leftOver=null}function I(){v.call(this,"utf-8 encode")}F[254]=F[254]=1,m.utf8encode=function(M){return y.nodebuffer?b.newBufferFrom(M,"utf-8"):(function(P){var O,z,L,_,R,k=P.length,S=0;for(_=0;_<k;_++)(64512&(z=P.charCodeAt(_)))==55296&&_+1<k&&(64512&(L=P.charCodeAt(_+1)))==56320&&(z=65536+(z-55296<<10)+(L-56320),_++),S+=z<128?1:z<2048?2:z<65536?3:4;for(O=y.uint8array?new Uint8Array(S):new Array(S),_=R=0;R<S;_++)(64512&(z=P.charCodeAt(_)))==55296&&_+1<k&&(64512&(L=P.charCodeAt(_+1)))==56320&&(z=65536+(z-55296<<10)+(L-56320),_++),z<128?O[R++]=z:(z<2048?O[R++]=192|z>>>6:(z<65536?O[R++]=224|z>>>12:(O[R++]=240|z>>>18,O[R++]=128|z>>>12&63),O[R++]=128|z>>>6&63),O[R++]=128|63&z);return O})(M)},m.utf8decode=function(M){return y.nodebuffer?p.transformTo("nodebuffer",M).toString("utf-8"):(function(P){var O,z,L,_,R=P.length,k=new Array(2*R);for(O=z=0;O<R;)if((L=P[O++])<128)k[z++]=L;else if(4<(_=F[L]))k[z++]=65533,O+=_-1;else{for(L&=_===2?31:_===3?15:7;1<_&&O<R;)L=L<<6|63&P[O++],_--;1<_?k[z++]=65533:L<65536?k[z++]=L:(L-=65536,k[z++]=55296|L>>10&1023,k[z++]=56320|1023&L)}return k.length!==z&&(k.subarray?k=k.subarray(0,z):k.length=z),p.applyFromCharCode(k)})(M=p.transformTo(y.uint8array?"uint8array":"array",M))},p.inherits(T,v),T.prototype.processChunk=function(M){var P=p.transformTo(y.uint8array?"uint8array":"array",M.data);if(this.leftOver&&this.leftOver.length){if(y.uint8array){var O=P;(P=new Uint8Array(O.length+this.leftOver.length)).set(this.leftOver,0),P.set(O,this.leftOver.length)}else P=this.leftOver.concat(P);this.leftOver=null}var z=(function(_,R){var k;for((R=R||_.length)>_.length&&(R=_.length),k=R-1;0<=k&&(192&_[k])==128;)k--;return k<0||k===0?R:k+F[_[k]]>R?k:R})(P),L=P;z!==P.length&&(y.uint8array?(L=P.subarray(0,z),this.leftOver=P.subarray(z,P.length)):(L=P.slice(0,z),this.leftOver=P.slice(z,P.length))),this.push({data:m.utf8decode(L),meta:M.meta})},T.prototype.flush=function(){this.leftOver&&this.leftOver.length&&(this.push({data:m.utf8decode(this.leftOver),meta:{}}),this.leftOver=null)},m.Utf8DecodeWorker=T,p.inherits(I,v),I.prototype.processChunk=function(M){this.push({data:m.utf8encode(M.data),meta:M.meta})},m.Utf8EncodeWorker=I},{"./nodejsUtils":14,"./stream/GenericWorker":28,"./support":30,"./utils":32}],32:[function(h,g,m){var p=h("./support"),y=h("./base64"),b=h("./nodejsUtils"),v=h("./external");function F(O){return O}function E(O,z){for(var L=0;L<O.length;++L)z[L]=255&O.charCodeAt(L);return z}h("setimmediate"),m.newBlob=function(O,z){m.checkSupport("blob");try{return new Blob([O],{type:z})}catch{try{var L=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);return L.append(O),L.getBlob(z)}catch{throw new Error("Bug : can't construct the Blob.")}}};var T={stringifyByChunk:function(O,z,L){var _=[],R=0,k=O.length;if(k<=L)return String.fromCharCode.apply(null,O);for(;R<k;)z==="array"||z==="nodebuffer"?_.push(String.fromCharCode.apply(null,O.slice(R,Math.min(R+L,k)))):_.push(String.fromCharCode.apply(null,O.subarray(R,Math.min(R+L,k)))),R+=L;return _.join("")},stringifyByChar:function(O){for(var z="",L=0;L<O.length;L++)z+=String.fromCharCode(O[L]);return z},applyCanBeUsed:{uint8array:(function(){try{return p.uint8array&&String.fromCharCode.apply(null,new Uint8Array(1)).length===1}catch{return!1}})(),nodebuffer:(function(){try{return p.nodebuffer&&String.fromCharCode.apply(null,b.allocBuffer(1)).length===1}catch{return!1}})()}};function I(O){var z=65536,L=m.getTypeOf(O),_=!0;if(L==="uint8array"?_=T.applyCanBeUsed.uint8array:L==="nodebuffer"&&(_=T.applyCanBeUsed.nodebuffer),_)for(;1<z;)try{return T.stringifyByChunk(O,L,z)}catch{z=Math.floor(z/2)}return T.stringifyByChar(O)}function M(O,z){for(var L=0;L<O.length;L++)z[L]=O[L];return z}m.applyFromCharCode=I;var P={};P.string={string:F,array:function(O){return E(O,new Array(O.length))},arraybuffer:function(O){return P.string.uint8array(O).buffer},uint8array:function(O){return E(O,new Uint8Array(O.length))},nodebuffer:function(O){return E(O,b.allocBuffer(O.length))}},P.array={string:I,array:F,arraybuffer:function(O){return new Uint8Array(O).buffer},uint8array:function(O){return new Uint8Array(O)},nodebuffer:function(O){return b.newBufferFrom(O)}},P.arraybuffer={string:function(O){return I(new Uint8Array(O))},array:function(O){return M(new Uint8Array(O),new Array(O.byteLength))},arraybuffer:F,uint8array:function(O){return new Uint8Array(O)},nodebuffer:function(O){return b.newBufferFrom(new Uint8Array(O))}},P.uint8array={string:I,array:function(O){return M(O,new Array(O.length))},arraybuffer:function(O){return O.buffer},uint8array:F,nodebuffer:function(O){return b.newBufferFrom(O)}},P.nodebuffer={string:I,array:function(O){return M(O,new Array(O.length))},arraybuffer:function(O){return P.nodebuffer.uint8array(O).buffer},uint8array:function(O){return M(O,new Uint8Array(O.length))},nodebuffer:F},m.transformTo=function(O,z){if(z=z||"",!O)return z;m.checkSupport(O);var L=m.getTypeOf(z);return P[L][O](z)},m.resolve=function(O){for(var z=O.split("/"),L=[],_=0;_<z.length;_++){var R=z[_];R==="."||R===""&&_!==0&&_!==z.length-1||(R===".."?L.pop():L.push(R))}return L.join("/")},m.getTypeOf=function(O){return typeof O=="string"?"string":Object.prototype.toString.call(O)==="[object Array]"?"array":p.nodebuffer&&b.isBuffer(O)?"nodebuffer":p.uint8array&&O instanceof Uint8Array?"uint8array":p.arraybuffer&&O instanceof ArrayBuffer?"arraybuffer":void 0},m.checkSupport=function(O){if(!p[O.toLowerCase()])throw new Error(O+" is not supported by this platform")},m.MAX_VALUE_16BITS=65535,m.MAX_VALUE_32BITS=-1,m.pretty=function(O){var z,L,_="";for(L=0;L<(O||"").length;L++)_+="\\x"+((z=O.charCodeAt(L))<16?"0":"")+z.toString(16).toUpperCase();return _},m.delay=function(O,z,L){d((function(){O.apply(L||null,z||[])}))},m.inherits=function(O,z){function L(){}L.prototype=z.prototype,O.prototype=new L},m.extend=function(){var O,z,L={};for(O=0;O<arguments.length;O++)for(z in arguments[O])Object.prototype.hasOwnProperty.call(arguments[O],z)&&L[z]===void 0&&(L[z]=arguments[O][z]);return L},m.prepareContent=function(O,z,L,_,R){return v.Promise.resolve(z).then((function(k){return p.blob&&(k instanceof Blob||["[object File]","[object Blob]"].indexOf(Object.prototype.toString.call(k))!==-1)&&typeof FileReader<"u"?new v.Promise((function(S,w){var C=new FileReader;C.onload=function(x){S(x.target.result)},C.onerror=function(x){w(x.target.error)},C.readAsArrayBuffer(k)})):k})).then((function(k){var S=m.getTypeOf(k);return S?(S==="arraybuffer"?k=m.transformTo("uint8array",k):S==="string"&&(R?k=y.decode(k):L&&_!==!0&&(k=(function(w){return E(w,p.uint8array?new Uint8Array(w.length):new Array(w.length))})(k))),k):v.Promise.reject(new Error("Can't read the data of '"+O+"'. Is it in a supported JavaScript type (String, Blob, ArrayBuffer, etc) ?"))}))}},{"./base64":1,"./external":6,"./nodejsUtils":14,"./support":30,setimmediate:54}],33:[function(h,g,m){var p=h("./reader/readerFor"),y=h("./utils"),b=h("./signature"),v=h("./zipEntry"),F=h("./support");function E(T){this.files=[],this.loadOptions=T}E.prototype={checkSignature:function(T){if(!this.reader.readAndCheckSignature(T)){this.reader.index-=4;var I=this.reader.readString(4);throw new Error("Corrupted zip or bug: unexpected signature ("+y.pretty(I)+", expected "+y.pretty(T)+")")}},isSignature:function(T,I){var M=this.reader.index;this.reader.setIndex(T);var P=this.reader.readString(4)===I;return this.reader.setIndex(M),P},readBlockEndOfCentral:function(){this.diskNumber=this.reader.readInt(2),this.diskWithCentralDirStart=this.reader.readInt(2),this.centralDirRecordsOnThisDisk=this.reader.readInt(2),this.centralDirRecords=this.reader.readInt(2),this.centralDirSize=this.reader.readInt(4),this.centralDirOffset=this.reader.readInt(4),this.zipCommentLength=this.reader.readInt(2);var T=this.reader.readData(this.zipCommentLength),I=F.uint8array?"uint8array":"array",M=y.transformTo(I,T);this.zipComment=this.loadOptions.decodeFileName(M)},readBlockZip64EndOfCentral:function(){this.zip64EndOfCentralSize=this.reader.readInt(8),this.reader.skip(4),this.diskNumber=this.reader.readInt(4),this.diskWithCentralDirStart=this.reader.readInt(4),this.centralDirRecordsOnThisDisk=this.reader.readInt(8),this.centralDirRecords=this.reader.readInt(8),this.centralDirSize=this.reader.readInt(8),this.centralDirOffset=this.reader.readInt(8),this.zip64ExtensibleData={};for(var T,I,M,P=this.zip64EndOfCentralSize-44;0<P;)T=this.reader.readInt(2),I=this.reader.readInt(4),M=this.reader.readData(I),this.zip64ExtensibleData[T]={id:T,length:I,value:M}},readBlockZip64EndOfCentralLocator:function(){if(this.diskWithZip64CentralDirStart=this.reader.readInt(4),this.relativeOffsetEndOfZip64CentralDir=this.reader.readInt(8),this.disksCount=this.reader.readInt(4),1<this.disksCount)throw new Error("Multi-volumes zip are not supported")},readLocalFiles:function(){var T,I;for(T=0;T<this.files.length;T++)I=this.files[T],this.reader.setIndex(I.localHeaderOffset),this.checkSignature(b.LOCAL_FILE_HEADER),I.readLocalPart(this.reader),I.handleUTF8(),I.processAttributes()},readCentralDir:function(){var T;for(this.reader.setIndex(this.centralDirOffset);this.reader.readAndCheckSignature(b.CENTRAL_FILE_HEADER);)(T=new v({zip64:this.zip64},this.loadOptions)).readCentralPart(this.reader),this.files.push(T);if(this.centralDirRecords!==this.files.length&&this.centralDirRecords!==0&&this.files.length===0)throw new Error("Corrupted zip or bug: expected "+this.centralDirRecords+" records in central dir, got "+this.files.length)},readEndOfCentral:function(){var T=this.reader.lastIndexOfSignature(b.CENTRAL_DIRECTORY_END);if(T<0)throw this.isSignature(0,b.LOCAL_FILE_HEADER)?new Error("Corrupted zip: can't find end of central directory"):new Error("Can't find end of central directory : is this a zip file ? If it is, see https://stuk.github.io/jszip/documentation/howto/read_zip.html");this.reader.setIndex(T);var I=T;if(this.checkSignature(b.CENTRAL_DIRECTORY_END),this.readBlockEndOfCentral(),this.diskNumber===y.MAX_VALUE_16BITS||this.diskWithCentralDirStart===y.MAX_VALUE_16BITS||this.centralDirRecordsOnThisDisk===y.MAX_VALUE_16BITS||this.centralDirRecords===y.MAX_VALUE_16BITS||this.centralDirSize===y.MAX_VALUE_32BITS||this.centralDirOffset===y.MAX_VALUE_32BITS){if(this.zip64=!0,(T=this.reader.lastIndexOfSignature(b.ZIP64_CENTRAL_DIRECTORY_LOCATOR))<0)throw new Error("Corrupted zip: can't find the ZIP64 end of central directory locator");if(this.reader.setIndex(T),this.checkSignature(b.ZIP64_CENTRAL_DIRECTORY_LOCATOR),this.readBlockZip64EndOfCentralLocator(),!this.isSignature(this.relativeOffsetEndOfZip64CentralDir,b.ZIP64_CENTRAL_DIRECTORY_END)&&(this.relativeOffsetEndOfZip64CentralDir=this.reader.lastIndexOfSignature(b.ZIP64_CENTRAL_DIRECTORY_END),this.relativeOffsetEndOfZip64CentralDir<0))throw new Error("Corrupted zip: can't find the ZIP64 end of central directory");this.reader.setIndex(this.relativeOffsetEndOfZip64CentralDir),this.checkSignature(b.ZIP64_CENTRAL_DIRECTORY_END),this.readBlockZip64EndOfCentral()}var M=this.centralDirOffset+this.centralDirSize;this.zip64&&(M+=20,M+=12+this.zip64EndOfCentralSize);var P=I-M;if(0<P)this.isSignature(I,b.CENTRAL_FILE_HEADER)||(this.reader.zero=P);else if(P<0)throw new Error("Corrupted zip: missing "+Math.abs(P)+" bytes.")},prepareReader:function(T){this.reader=p(T)},load:function(T){this.prepareReader(T),this.readEndOfCentral(),this.readCentralDir(),this.readLocalFiles()}},g.exports=E},{"./reader/readerFor":22,"./signature":23,"./support":30,"./utils":32,"./zipEntry":34}],34:[function(h,g,m){var p=h("./reader/readerFor"),y=h("./utils"),b=h("./compressedObject"),v=h("./crc32"),F=h("./utf8"),E=h("./compressions"),T=h("./support");function I(M,P){this.options=M,this.loadOptions=P}I.prototype={isEncrypted:function(){return(1&this.bitFlag)==1},useUTF8:function(){return(2048&this.bitFlag)==2048},readLocalPart:function(M){var P,O;if(M.skip(22),this.fileNameLength=M.readInt(2),O=M.readInt(2),this.fileName=M.readData(this.fileNameLength),M.skip(O),this.compressedSize===-1||this.uncompressedSize===-1)throw new Error("Bug or corrupted zip : didn't get enough information from the central directory (compressedSize === -1 || uncompressedSize === -1)");if((P=(function(z){for(var L in E)if(Object.prototype.hasOwnProperty.call(E,L)&&E[L].magic===z)return E[L];return null})(this.compressionMethod))===null)throw new Error("Corrupted zip : compression "+y.pretty(this.compressionMethod)+" unknown (inner file : "+y.transformTo("string",this.fileName)+")");this.decompressed=new b(this.compressedSize,this.uncompressedSize,this.crc32,P,M.readData(this.compressedSize))},readCentralPart:function(M){this.versionMadeBy=M.readInt(2),M.skip(2),this.bitFlag=M.readInt(2),this.compressionMethod=M.readString(2),this.date=M.readDate(),this.crc32=M.readInt(4),this.compressedSize=M.readInt(4),this.uncompressedSize=M.readInt(4);var P=M.readInt(2);if(this.extraFieldsLength=M.readInt(2),this.fileCommentLength=M.readInt(2),this.diskNumberStart=M.readInt(2),this.internalFileAttributes=M.readInt(2),this.externalFileAttributes=M.readInt(4),this.localHeaderOffset=M.readInt(4),this.isEncrypted())throw new Error("Encrypted zip are not supported");M.skip(P),this.readExtraFields(M),this.parseZIP64ExtraField(M),this.fileComment=M.readData(this.fileCommentLength)},processAttributes:function(){this.unixPermissions=null,this.dosPermissions=null;var M=this.versionMadeBy>>8;this.dir=!!(16&this.externalFileAttributes),M==0&&(this.dosPermissions=63&this.externalFileAttributes),M==3&&(this.unixPermissions=this.externalFileAttributes>>16&65535),this.dir||this.fileNameStr.slice(-1)!=="/"||(this.dir=!0)},parseZIP64ExtraField:function(){if(this.extraFields[1]){var M=p(this.extraFields[1].value);this.uncompressedSize===y.MAX_VALUE_32BITS&&(this.uncompressedSize=M.readInt(8)),this.compressedSize===y.MAX_VALUE_32BITS&&(this.compressedSize=M.readInt(8)),this.localHeaderOffset===y.MAX_VALUE_32BITS&&(this.localHeaderOffset=M.readInt(8)),this.diskNumberStart===y.MAX_VALUE_32BITS&&(this.diskNumberStart=M.readInt(4))}},readExtraFields:function(M){var P,O,z,L=M.index+this.extraFieldsLength;for(this.extraFields||(this.extraFields={});M.index+4<L;)P=M.readInt(2),O=M.readInt(2),z=M.readData(O),this.extraFields[P]={id:P,length:O,value:z};M.setIndex(L)},handleUTF8:function(){var M=T.uint8array?"uint8array":"array";if(this.useUTF8())this.fileNameStr=F.utf8decode(this.fileName),this.fileCommentStr=F.utf8decode(this.fileComment);else{var P=this.findExtraFieldUnicodePath();if(P!==null)this.fileNameStr=P;else{var O=y.transformTo(M,this.fileName);this.fileNameStr=this.loadOptions.decodeFileName(O)}var z=this.findExtraFieldUnicodeComment();if(z!==null)this.fileCommentStr=z;else{var L=y.transformTo(M,this.fileComment);this.fileCommentStr=this.loadOptions.decodeFileName(L)}}},findExtraFieldUnicodePath:function(){var M=this.extraFields[28789];if(M){var P=p(M.value);return P.readInt(1)!==1||v(this.fileName)!==P.readInt(4)?null:F.utf8decode(P.readData(M.length-5))}return null},findExtraFieldUnicodeComment:function(){var M=this.extraFields[25461];if(M){var P=p(M.value);return P.readInt(1)!==1||v(this.fileComment)!==P.readInt(4)?null:F.utf8decode(P.readData(M.length-5))}return null}},g.exports=I},{"./compressedObject":2,"./compressions":3,"./crc32":4,"./reader/readerFor":22,"./support":30,"./utf8":31,"./utils":32}],35:[function(h,g,m){function p(P,O,z){this.name=P,this.dir=z.dir,this.date=z.date,this.comment=z.comment,this.unixPermissions=z.unixPermissions,this.dosPermissions=z.dosPermissions,this._data=O,this._dataBinary=z.binary,this.options={compression:z.compression,compressionOptions:z.compressionOptions}}var y=h("./stream/StreamHelper"),b=h("./stream/DataWorker"),v=h("./utf8"),F=h("./compressedObject"),E=h("./stream/GenericWorker");p.prototype={internalStream:function(P){var O=null,z="string";try{if(!P)throw new Error("No output type specified.");var L=(z=P.toLowerCase())==="string"||z==="text";z!=="binarystring"&&z!=="text"||(z="string"),O=this._decompressWorker();var _=!this._dataBinary;_&&!L&&(O=O.pipe(new v.Utf8EncodeWorker)),!_&&L&&(O=O.pipe(new v.Utf8DecodeWorker))}catch(R){(O=new E("error")).error(R)}return new y(O,z,"")},async:function(P,O){return this.internalStream(P).accumulate(O)},nodeStream:function(P,O){return this.internalStream(P||"nodebuffer").toNodejsStream(O)},_compressWorker:function(P,O){if(this._data instanceof F&&this._data.compression.magic===P.magic)return this._data.getCompressedWorker();var z=this._decompressWorker();return this._dataBinary||(z=z.pipe(new v.Utf8EncodeWorker)),F.createWorkerFrom(z,P,O)},_decompressWorker:function(){return this._data instanceof F?this._data.getContentWorker():this._data instanceof E?this._data:new b(this._data)}};for(var T=["asText","asBinary","asNodeBuffer","asUint8Array","asArrayBuffer"],I=function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},M=0;M<T.length;M++)p.prototype[T[M]]=I;g.exports=p},{"./compressedObject":2,"./stream/DataWorker":27,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31}],36:[function(h,g,m){(function(p){var y,b,v=p.MutationObserver||p.WebKitMutationObserver;if(v){var F=0,E=new v(P),T=p.document.createTextNode("");E.observe(T,{characterData:!0}),y=function(){T.data=F=++F%2}}else if(p.setImmediate||p.MessageChannel===void 0)y="document"in p&&"onreadystatechange"in p.document.createElement("script")?function(){var O=p.document.createElement("script");O.onreadystatechange=function(){P(),O.onreadystatechange=null,O.parentNode.removeChild(O),O=null},p.document.documentElement.appendChild(O)}:function(){setTimeout(P,0)};else{var I=new p.MessageChannel;I.port1.onmessage=P,y=function(){I.port2.postMessage(0)}}var M=[];function P(){var O,z;b=!0;for(var L=M.length;L;){for(z=M,M=[],O=-1;++O<L;)z[O]();L=M.length}b=!1}g.exports=function(O){M.push(O)!==1||b||y()}}).call(this,s!==void 0?s:typeof self<"u"?self:typeof window<"u"?window:{})},{}],37:[function(h,g,m){var p=h("immediate");function y(){}var b={},v=["REJECTED"],F=["FULFILLED"],E=["PENDING"];function T(L){if(typeof L!="function")throw new TypeError("resolver must be a function");this.state=E,this.queue=[],this.outcome=void 0,L!==y&&O(this,L)}function I(L,_,R){this.promise=L,typeof _=="function"&&(this.onFulfilled=_,this.callFulfilled=this.otherCallFulfilled),typeof R=="function"&&(this.onRejected=R,this.callRejected=this.otherCallRejected)}function M(L,_,R){p((function(){var k;try{k=_(R)}catch(S){return b.reject(L,S)}k===L?b.reject(L,new TypeError("Cannot resolve promise with itself")):b.resolve(L,k)}))}function P(L){var _=L&&L.then;if(L&&(typeof L=="object"||typeof L=="function")&&typeof _=="function")return function(){_.apply(L,arguments)}}function O(L,_){var R=!1;function k(C){R||(R=!0,b.reject(L,C))}function S(C){R||(R=!0,b.resolve(L,C))}var w=z((function(){_(S,k)}));w.status==="error"&&k(w.value)}function z(L,_){var R={};try{R.value=L(_),R.status="success"}catch(k){R.status="error",R.value=k}return R}(g.exports=T).prototype.finally=function(L){if(typeof L!="function")return this;var _=this.constructor;return this.then((function(R){return _.resolve(L()).then((function(){return R}))}),(function(R){return _.resolve(L()).then((function(){throw R}))}))},T.prototype.catch=function(L){return this.then(null,L)},T.prototype.then=function(L,_){if(typeof L!="function"&&this.state===F||typeof _!="function"&&this.state===v)return this;var R=new this.constructor(y);return this.state!==E?M(R,this.state===F?L:_,this.outcome):this.queue.push(new I(R,L,_)),R},I.prototype.callFulfilled=function(L){b.resolve(this.promise,L)},I.prototype.otherCallFulfilled=function(L){M(this.promise,this.onFulfilled,L)},I.prototype.callRejected=function(L){b.reject(this.promise,L)},I.prototype.otherCallRejected=function(L){M(this.promise,this.onRejected,L)},b.resolve=function(L,_){var R=z(P,_);if(R.status==="error")return b.reject(L,R.value);var k=R.value;if(k)O(L,k);else{L.state=F,L.outcome=_;for(var S=-1,w=L.queue.length;++S<w;)L.queue[S].callFulfilled(_)}return L},b.reject=function(L,_){L.state=v,L.outcome=_;for(var R=-1,k=L.queue.length;++R<k;)L.queue[R].callRejected(_);return L},T.resolve=function(L){return L instanceof this?L:b.resolve(new this(y),L)},T.reject=function(L){var _=new this(y);return b.reject(_,L)},T.all=function(L){var _=this;if(Object.prototype.toString.call(L)!=="[object Array]")return this.reject(new TypeError("must be an array"));var R=L.length,k=!1;if(!R)return this.resolve([]);for(var S=new Array(R),w=0,C=-1,x=new this(y);++C<R;)A(L[C],C);return x;function A(D,B){_.resolve(D).then((function(V){S[B]=V,++w!==R||k||(k=!0,b.resolve(x,S))}),(function(V){k||(k=!0,b.reject(x,V))}))}},T.race=function(L){if(Object.prototype.toString.call(L)!=="[object Array]")return this.reject(new TypeError("must be an array"));var _=L.length,R=!1;if(!_)return this.resolve([]);for(var k,S=-1,w=new this(y);++S<_;)k=L[S],this.resolve(k).then((function(C){R||(R=!0,b.resolve(w,C))}),(function(C){R||(R=!0,b.reject(w,C))}));return w}},{immediate:36}],38:[function(h,g,m){var p={};(0,h("./lib/utils/common").assign)(p,h("./lib/deflate"),h("./lib/inflate"),h("./lib/zlib/constants")),g.exports=p},{"./lib/deflate":39,"./lib/inflate":40,"./lib/utils/common":41,"./lib/zlib/constants":44}],39:[function(h,g,m){var p=h("./zlib/deflate"),y=h("./utils/common"),b=h("./utils/strings"),v=h("./zlib/messages"),F=h("./zlib/zstream"),E=Object.prototype.toString;function T(M){if(!(this instanceof T))return new T(M);this.options=y.assign({level:-1,method:8,chunkSize:16384,windowBits:15,memLevel:8,strategy:0,to:""},M||{});var P=this.options;P.raw&&0<P.windowBits?P.windowBits=-P.windowBits:P.gzip&&0<P.windowBits&&P.windowBits<16&&(P.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new F,this.strm.avail_out=0;var O=p.deflateInit2(this.strm,P.level,P.method,P.windowBits,P.memLevel,P.strategy);if(O!==0)throw new Error(v[O]);if(P.header&&p.deflateSetHeader(this.strm,P.header),P.dictionary){var z;if(z=typeof P.dictionary=="string"?b.string2buf(P.dictionary):E.call(P.dictionary)==="[object ArrayBuffer]"?new Uint8Array(P.dictionary):P.dictionary,(O=p.deflateSetDictionary(this.strm,z))!==0)throw new Error(v[O]);this._dict_set=!0}}function I(M,P){var O=new T(P);if(O.push(M,!0),O.err)throw O.msg||v[O.err];return O.result}T.prototype.push=function(M,P){var O,z,L=this.strm,_=this.options.chunkSize;if(this.ended)return!1;z=P===~~P?P:P===!0?4:0,typeof M=="string"?L.input=b.string2buf(M):E.call(M)==="[object ArrayBuffer]"?L.input=new Uint8Array(M):L.input=M,L.next_in=0,L.avail_in=L.input.length;do{if(L.avail_out===0&&(L.output=new y.Buf8(_),L.next_out=0,L.avail_out=_),(O=p.deflate(L,z))!==1&&O!==0)return this.onEnd(O),!(this.ended=!0);L.avail_out!==0&&(L.avail_in!==0||z!==4&&z!==2)||(this.options.to==="string"?this.onData(b.buf2binstring(y.shrinkBuf(L.output,L.next_out))):this.onData(y.shrinkBuf(L.output,L.next_out)))}while((0<L.avail_in||L.avail_out===0)&&O!==1);return z===4?(O=p.deflateEnd(this.strm),this.onEnd(O),this.ended=!0,O===0):z!==2||(this.onEnd(0),!(L.avail_out=0))},T.prototype.onData=function(M){this.chunks.push(M)},T.prototype.onEnd=function(M){M===0&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=y.flattenChunks(this.chunks)),this.chunks=[],this.err=M,this.msg=this.strm.msg},m.Deflate=T,m.deflate=I,m.deflateRaw=function(M,P){return(P=P||{}).raw=!0,I(M,P)},m.gzip=function(M,P){return(P=P||{}).gzip=!0,I(M,P)}},{"./utils/common":41,"./utils/strings":42,"./zlib/deflate":46,"./zlib/messages":51,"./zlib/zstream":53}],40:[function(h,g,m){var p=h("./zlib/inflate"),y=h("./utils/common"),b=h("./utils/strings"),v=h("./zlib/constants"),F=h("./zlib/messages"),E=h("./zlib/zstream"),T=h("./zlib/gzheader"),I=Object.prototype.toString;function M(O){if(!(this instanceof M))return new M(O);this.options=y.assign({chunkSize:16384,windowBits:0,to:""},O||{});var z=this.options;z.raw&&0<=z.windowBits&&z.windowBits<16&&(z.windowBits=-z.windowBits,z.windowBits===0&&(z.windowBits=-15)),!(0<=z.windowBits&&z.windowBits<16)||O&&O.windowBits||(z.windowBits+=32),15<z.windowBits&&z.windowBits<48&&(15&z.windowBits)==0&&(z.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new E,this.strm.avail_out=0;var L=p.inflateInit2(this.strm,z.windowBits);if(L!==v.Z_OK)throw new Error(F[L]);this.header=new T,p.inflateGetHeader(this.strm,this.header)}function P(O,z){var L=new M(z);if(L.push(O,!0),L.err)throw L.msg||F[L.err];return L.result}M.prototype.push=function(O,z){var L,_,R,k,S,w,C=this.strm,x=this.options.chunkSize,A=this.options.dictionary,D=!1;if(this.ended)return!1;_=z===~~z?z:z===!0?v.Z_FINISH:v.Z_NO_FLUSH,typeof O=="string"?C.input=b.binstring2buf(O):I.call(O)==="[object ArrayBuffer]"?C.input=new Uint8Array(O):C.input=O,C.next_in=0,C.avail_in=C.input.length;do{if(C.avail_out===0&&(C.output=new y.Buf8(x),C.next_out=0,C.avail_out=x),(L=p.inflate(C,v.Z_NO_FLUSH))===v.Z_NEED_DICT&&A&&(w=typeof A=="string"?b.string2buf(A):I.call(A)==="[object ArrayBuffer]"?new Uint8Array(A):A,L=p.inflateSetDictionary(this.strm,w)),L===v.Z_BUF_ERROR&&D===!0&&(L=v.Z_OK,D=!1),L!==v.Z_STREAM_END&&L!==v.Z_OK)return this.onEnd(L),!(this.ended=!0);C.next_out&&(C.avail_out!==0&&L!==v.Z_STREAM_END&&(C.avail_in!==0||_!==v.Z_FINISH&&_!==v.Z_SYNC_FLUSH)||(this.options.to==="string"?(R=b.utf8border(C.output,C.next_out),k=C.next_out-R,S=b.buf2string(C.output,R),C.next_out=k,C.avail_out=x-k,k&&y.arraySet(C.output,C.output,R,k,0),this.onData(S)):this.onData(y.shrinkBuf(C.output,C.next_out)))),C.avail_in===0&&C.avail_out===0&&(D=!0)}while((0<C.avail_in||C.avail_out===0)&&L!==v.Z_STREAM_END);return L===v.Z_STREAM_END&&(_=v.Z_FINISH),_===v.Z_FINISH?(L=p.inflateEnd(this.strm),this.onEnd(L),this.ended=!0,L===v.Z_OK):_!==v.Z_SYNC_FLUSH||(this.onEnd(v.Z_OK),!(C.avail_out=0))},M.prototype.onData=function(O){this.chunks.push(O)},M.prototype.onEnd=function(O){O===v.Z_OK&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=y.flattenChunks(this.chunks)),this.chunks=[],this.err=O,this.msg=this.strm.msg},m.Inflate=M,m.inflate=P,m.inflateRaw=function(O,z){return(z=z||{}).raw=!0,P(O,z)},m.ungzip=P},{"./utils/common":41,"./utils/strings":42,"./zlib/constants":44,"./zlib/gzheader":47,"./zlib/inflate":49,"./zlib/messages":51,"./zlib/zstream":53}],41:[function(h,g,m){var p=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Int32Array<"u";m.assign=function(v){for(var F=Array.prototype.slice.call(arguments,1);F.length;){var E=F.shift();if(E){if(typeof E!="object")throw new TypeError(E+"must be non-object");for(var T in E)E.hasOwnProperty(T)&&(v[T]=E[T])}}return v},m.shrinkBuf=function(v,F){return v.length===F?v:v.subarray?v.subarray(0,F):(v.length=F,v)};var y={arraySet:function(v,F,E,T,I){if(F.subarray&&v.subarray)v.set(F.subarray(E,E+T),I);else for(var M=0;M<T;M++)v[I+M]=F[E+M]},flattenChunks:function(v){var F,E,T,I,M,P;for(F=T=0,E=v.length;F<E;F++)T+=v[F].length;for(P=new Uint8Array(T),F=I=0,E=v.length;F<E;F++)M=v[F],P.set(M,I),I+=M.length;return P}},b={arraySet:function(v,F,E,T,I){for(var M=0;M<T;M++)v[I+M]=F[E+M]},flattenChunks:function(v){return[].concat.apply([],v)}};m.setTyped=function(v){v?(m.Buf8=Uint8Array,m.Buf16=Uint16Array,m.Buf32=Int32Array,m.assign(m,y)):(m.Buf8=Array,m.Buf16=Array,m.Buf32=Array,m.assign(m,b))},m.setTyped(p)},{}],42:[function(h,g,m){var p=h("./common"),y=!0,b=!0;try{String.fromCharCode.apply(null,[0])}catch{y=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{b=!1}for(var v=new p.Buf8(256),F=0;F<256;F++)v[F]=252<=F?6:248<=F?5:240<=F?4:224<=F?3:192<=F?2:1;function E(T,I){if(I<65537&&(T.subarray&&b||!T.subarray&&y))return String.fromCharCode.apply(null,p.shrinkBuf(T,I));for(var M="",P=0;P<I;P++)M+=String.fromCharCode(T[P]);return M}v[254]=v[254]=1,m.string2buf=function(T){var I,M,P,O,z,L=T.length,_=0;for(O=0;O<L;O++)(64512&(M=T.charCodeAt(O)))==55296&&O+1<L&&(64512&(P=T.charCodeAt(O+1)))==56320&&(M=65536+(M-55296<<10)+(P-56320),O++),_+=M<128?1:M<2048?2:M<65536?3:4;for(I=new p.Buf8(_),O=z=0;z<_;O++)(64512&(M=T.charCodeAt(O)))==55296&&O+1<L&&(64512&(P=T.charCodeAt(O+1)))==56320&&(M=65536+(M-55296<<10)+(P-56320),O++),M<128?I[z++]=M:(M<2048?I[z++]=192|M>>>6:(M<65536?I[z++]=224|M>>>12:(I[z++]=240|M>>>18,I[z++]=128|M>>>12&63),I[z++]=128|M>>>6&63),I[z++]=128|63&M);return I},m.buf2binstring=function(T){return E(T,T.length)},m.binstring2buf=function(T){for(var I=new p.Buf8(T.length),M=0,P=I.length;M<P;M++)I[M]=T.charCodeAt(M);return I},m.buf2string=function(T,I){var M,P,O,z,L=I||T.length,_=new Array(2*L);for(M=P=0;M<L;)if((O=T[M++])<128)_[P++]=O;else if(4<(z=v[O]))_[P++]=65533,M+=z-1;else{for(O&=z===2?31:z===3?15:7;1<z&&M<L;)O=O<<6|63&T[M++],z--;1<z?_[P++]=65533:O<65536?_[P++]=O:(O-=65536,_[P++]=55296|O>>10&1023,_[P++]=56320|1023&O)}return E(_,P)},m.utf8border=function(T,I){var M;for((I=I||T.length)>T.length&&(I=T.length),M=I-1;0<=M&&(192&T[M])==128;)M--;return M<0||M===0?I:M+v[T[M]]>I?M:I}},{"./common":41}],43:[function(h,g,m){g.exports=function(p,y,b,v){for(var F=65535&p|0,E=p>>>16&65535|0,T=0;b!==0;){for(b-=T=2e3<b?2e3:b;E=E+(F=F+y[v++]|0)|0,--T;);F%=65521,E%=65521}return F|E<<16|0}},{}],44:[function(h,g,m){g.exports={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}},{}],45:[function(h,g,m){var p=(function(){for(var y,b=[],v=0;v<256;v++){y=v;for(var F=0;F<8;F++)y=1&y?3988292384^y>>>1:y>>>1;b[v]=y}return b})();g.exports=function(y,b,v,F){var E=p,T=F+v;y^=-1;for(var I=F;I<T;I++)y=y>>>8^E[255&(y^b[I])];return-1^y}},{}],46:[function(h,g,m){var p,y=h("../utils/common"),b=h("./trees"),v=h("./adler32"),F=h("./crc32"),E=h("./messages"),T=-2,I=258,M=262,P=113;function O(G,Y){return G.msg=E[Y],Y}function z(G){return(G<<1)-(4<G?9:0)}function L(G){for(var Y=G.length;0<=--Y;)G[Y]=0}function _(G){var Y=G.state,H=Y.pending;H>G.avail_out&&(H=G.avail_out),H!==0&&(y.arraySet(G.output,Y.pending_buf,Y.pending_out,H,G.next_out),G.next_out+=H,Y.pending_out+=H,G.total_out+=H,G.avail_out-=H,Y.pending-=H,Y.pending===0&&(Y.pending_out=0))}function R(G,Y){b._tr_flush_block(G,0<=G.block_start?G.block_start:-1,G.strstart-G.block_start,Y),G.block_start=G.strstart,_(G.strm)}function k(G,Y){G.pending_buf[G.pending++]=Y}function S(G,Y){G.pending_buf[G.pending++]=Y>>>8&255,G.pending_buf[G.pending++]=255&Y}function w(G,Y){var H,N,$=G.max_chain_length,J=G.strstart,Q=G.prev_length,ee=G.nice_match,W=G.strstart>G.w_size-M?G.strstart-(G.w_size-M):0,ne=G.window,re=G.w_mask,q=G.prev,X=G.strstart+I,te=ne[J+Q-1],se=ne[J+Q];G.prev_length>=G.good_match&&($>>=2),ee>G.lookahead&&(ee=G.lookahead);do if(ne[(H=Y)+Q]===se&&ne[H+Q-1]===te&&ne[H]===ne[J]&&ne[++H]===ne[J+1]){J+=2,H++;do;while(ne[++J]===ne[++H]&&ne[++J]===ne[++H]&&ne[++J]===ne[++H]&&ne[++J]===ne[++H]&&ne[++J]===ne[++H]&&ne[++J]===ne[++H]&&ne[++J]===ne[++H]&&ne[++J]===ne[++H]&&J<X);if(N=I-(X-J),J=X-I,Q<N){if(G.match_start=Y,ee<=(Q=N))break;te=ne[J+Q-1],se=ne[J+Q]}}while((Y=q[Y&re])>W&&--$!=0);return Q<=G.lookahead?Q:G.lookahead}function C(G){var Y,H,N,$,J,Q,ee,W,ne,re,q=G.w_size;do{if($=G.window_size-G.lookahead-G.strstart,G.strstart>=q+(q-M)){for(y.arraySet(G.window,G.window,q,q,0),G.match_start-=q,G.strstart-=q,G.block_start-=q,Y=H=G.hash_size;N=G.head[--Y],G.head[Y]=q<=N?N-q:0,--H;);for(Y=H=q;N=G.prev[--Y],G.prev[Y]=q<=N?N-q:0,--H;);$+=q}if(G.strm.avail_in===0)break;if(Q=G.strm,ee=G.window,W=G.strstart+G.lookahead,re=void 0,(ne=$)<(re=Q.avail_in)&&(re=ne),H=re===0?0:(Q.avail_in-=re,y.arraySet(ee,Q.input,Q.next_in,re,W),Q.state.wrap===1?Q.adler=v(Q.adler,ee,re,W):Q.state.wrap===2&&(Q.adler=F(Q.adler,ee,re,W)),Q.next_in+=re,Q.total_in+=re,re),G.lookahead+=H,G.lookahead+G.insert>=3)for(J=G.strstart-G.insert,G.ins_h=G.window[J],G.ins_h=(G.ins_h<<G.hash_shift^G.window[J+1])&G.hash_mask;G.insert&&(G.ins_h=(G.ins_h<<G.hash_shift^G.window[J+3-1])&G.hash_mask,G.prev[J&G.w_mask]=G.head[G.ins_h],G.head[G.ins_h]=J,J++,G.insert--,!(G.lookahead+G.insert<3)););}while(G.lookahead<M&&G.strm.avail_in!==0)}function x(G,Y){for(var H,N;;){if(G.lookahead<M){if(C(G),G.lookahead<M&&Y===0)return 1;if(G.lookahead===0)break}if(H=0,G.lookahead>=3&&(G.ins_h=(G.ins_h<<G.hash_shift^G.window[G.strstart+3-1])&G.hash_mask,H=G.prev[G.strstart&G.w_mask]=G.head[G.ins_h],G.head[G.ins_h]=G.strstart),H!==0&&G.strstart-H<=G.w_size-M&&(G.match_length=w(G,H)),G.match_length>=3)if(N=b._tr_tally(G,G.strstart-G.match_start,G.match_length-3),G.lookahead-=G.match_length,G.match_length<=G.max_lazy_match&&G.lookahead>=3){for(G.match_length--;G.strstart++,G.ins_h=(G.ins_h<<G.hash_shift^G.window[G.strstart+3-1])&G.hash_mask,H=G.prev[G.strstart&G.w_mask]=G.head[G.ins_h],G.head[G.ins_h]=G.strstart,--G.match_length!=0;);G.strstart++}else G.strstart+=G.match_length,G.match_length=0,G.ins_h=G.window[G.strstart],G.ins_h=(G.ins_h<<G.hash_shift^G.window[G.strstart+1])&G.hash_mask;else N=b._tr_tally(G,0,G.window[G.strstart]),G.lookahead--,G.strstart++;if(N&&(R(G,!1),G.strm.avail_out===0))return 1}return G.insert=G.strstart<2?G.strstart:2,Y===4?(R(G,!0),G.strm.avail_out===0?3:4):G.last_lit&&(R(G,!1),G.strm.avail_out===0)?1:2}function A(G,Y){for(var H,N,$;;){if(G.lookahead<M){if(C(G),G.lookahead<M&&Y===0)return 1;if(G.lookahead===0)break}if(H=0,G.lookahead>=3&&(G.ins_h=(G.ins_h<<G.hash_shift^G.window[G.strstart+3-1])&G.hash_mask,H=G.prev[G.strstart&G.w_mask]=G.head[G.ins_h],G.head[G.ins_h]=G.strstart),G.prev_length=G.match_length,G.prev_match=G.match_start,G.match_length=2,H!==0&&G.prev_length<G.max_lazy_match&&G.strstart-H<=G.w_size-M&&(G.match_length=w(G,H),G.match_length<=5&&(G.strategy===1||G.match_length===3&&4096<G.strstart-G.match_start)&&(G.match_length=2)),G.prev_length>=3&&G.match_length<=G.prev_length){for($=G.strstart+G.lookahead-3,N=b._tr_tally(G,G.strstart-1-G.prev_match,G.prev_length-3),G.lookahead-=G.prev_length-1,G.prev_length-=2;++G.strstart<=$&&(G.ins_h=(G.ins_h<<G.hash_shift^G.window[G.strstart+3-1])&G.hash_mask,H=G.prev[G.strstart&G.w_mask]=G.head[G.ins_h],G.head[G.ins_h]=G.strstart),--G.prev_length!=0;);if(G.match_available=0,G.match_length=2,G.strstart++,N&&(R(G,!1),G.strm.avail_out===0))return 1}else if(G.match_available){if((N=b._tr_tally(G,0,G.window[G.strstart-1]))&&R(G,!1),G.strstart++,G.lookahead--,G.strm.avail_out===0)return 1}else G.match_available=1,G.strstart++,G.lookahead--}return G.match_available&&(N=b._tr_tally(G,0,G.window[G.strstart-1]),G.match_available=0),G.insert=G.strstart<2?G.strstart:2,Y===4?(R(G,!0),G.strm.avail_out===0?3:4):G.last_lit&&(R(G,!1),G.strm.avail_out===0)?1:2}function D(G,Y,H,N,$){this.good_length=G,this.max_lazy=Y,this.nice_length=H,this.max_chain=N,this.func=$}function B(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=8,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new y.Buf16(1146),this.dyn_dtree=new y.Buf16(122),this.bl_tree=new y.Buf16(78),L(this.dyn_ltree),L(this.dyn_dtree),L(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new y.Buf16(16),this.heap=new y.Buf16(573),L(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new y.Buf16(573),L(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}function V(G){var Y;return G&&G.state?(G.total_in=G.total_out=0,G.data_type=2,(Y=G.state).pending=0,Y.pending_out=0,Y.wrap<0&&(Y.wrap=-Y.wrap),Y.status=Y.wrap?42:P,G.adler=Y.wrap===2?0:1,Y.last_flush=0,b._tr_init(Y),0):O(G,T)}function j(G){var Y=V(G);return Y===0&&(function(H){H.window_size=2*H.w_size,L(H.head),H.max_lazy_match=p[H.level].max_lazy,H.good_match=p[H.level].good_length,H.nice_match=p[H.level].nice_length,H.max_chain_length=p[H.level].max_chain,H.strstart=0,H.block_start=0,H.lookahead=0,H.insert=0,H.match_length=H.prev_length=2,H.match_available=0,H.ins_h=0})(G.state),Y}function K(G,Y,H,N,$,J){if(!G)return T;var Q=1;if(Y===-1&&(Y=6),N<0?(Q=0,N=-N):15<N&&(Q=2,N-=16),$<1||9<$||H!==8||N<8||15<N||Y<0||9<Y||J<0||4<J)return O(G,T);N===8&&(N=9);var ee=new B;return(G.state=ee).strm=G,ee.wrap=Q,ee.gzhead=null,ee.w_bits=N,ee.w_size=1<<ee.w_bits,ee.w_mask=ee.w_size-1,ee.hash_bits=$+7,ee.hash_size=1<<ee.hash_bits,ee.hash_mask=ee.hash_size-1,ee.hash_shift=~~((ee.hash_bits+3-1)/3),ee.window=new y.Buf8(2*ee.w_size),ee.head=new y.Buf16(ee.hash_size),ee.prev=new y.Buf16(ee.w_size),ee.lit_bufsize=1<<$+6,ee.pending_buf_size=4*ee.lit_bufsize,ee.pending_buf=new y.Buf8(ee.pending_buf_size),ee.d_buf=1*ee.lit_bufsize,ee.l_buf=3*ee.lit_bufsize,ee.level=Y,ee.strategy=J,ee.method=H,j(G)}p=[new D(0,0,0,0,(function(G,Y){var H=65535;for(H>G.pending_buf_size-5&&(H=G.pending_buf_size-5);;){if(G.lookahead<=1){if(C(G),G.lookahead===0&&Y===0)return 1;if(G.lookahead===0)break}G.strstart+=G.lookahead,G.lookahead=0;var N=G.block_start+H;if((G.strstart===0||G.strstart>=N)&&(G.lookahead=G.strstart-N,G.strstart=N,R(G,!1),G.strm.avail_out===0)||G.strstart-G.block_start>=G.w_size-M&&(R(G,!1),G.strm.avail_out===0))return 1}return G.insert=0,Y===4?(R(G,!0),G.strm.avail_out===0?3:4):(G.strstart>G.block_start&&(R(G,!1),G.strm.avail_out),1)})),new D(4,4,8,4,x),new D(4,5,16,8,x),new D(4,6,32,32,x),new D(4,4,16,16,A),new D(8,16,32,32,A),new D(8,16,128,128,A),new D(8,32,128,256,A),new D(32,128,258,1024,A),new D(32,258,258,4096,A)],m.deflateInit=function(G,Y){return K(G,Y,8,15,8,0)},m.deflateInit2=K,m.deflateReset=j,m.deflateResetKeep=V,m.deflateSetHeader=function(G,Y){return G&&G.state?G.state.wrap!==2?T:(G.state.gzhead=Y,0):T},m.deflate=function(G,Y){var H,N,$,J;if(!G||!G.state||5<Y||Y<0)return G?O(G,T):T;if(N=G.state,!G.output||!G.input&&G.avail_in!==0||N.status===666&&Y!==4)return O(G,G.avail_out===0?-5:T);if(N.strm=G,H=N.last_flush,N.last_flush=Y,N.status===42)if(N.wrap===2)G.adler=0,k(N,31),k(N,139),k(N,8),N.gzhead?(k(N,(N.gzhead.text?1:0)+(N.gzhead.hcrc?2:0)+(N.gzhead.extra?4:0)+(N.gzhead.name?8:0)+(N.gzhead.comment?16:0)),k(N,255&N.gzhead.time),k(N,N.gzhead.time>>8&255),k(N,N.gzhead.time>>16&255),k(N,N.gzhead.time>>24&255),k(N,N.level===9?2:2<=N.strategy||N.level<2?4:0),k(N,255&N.gzhead.os),N.gzhead.extra&&N.gzhead.extra.length&&(k(N,255&N.gzhead.extra.length),k(N,N.gzhead.extra.length>>8&255)),N.gzhead.hcrc&&(G.adler=F(G.adler,N.pending_buf,N.pending,0)),N.gzindex=0,N.status=69):(k(N,0),k(N,0),k(N,0),k(N,0),k(N,0),k(N,N.level===9?2:2<=N.strategy||N.level<2?4:0),k(N,3),N.status=P);else{var Q=8+(N.w_bits-8<<4)<<8;Q|=(2<=N.strategy||N.level<2?0:N.level<6?1:N.level===6?2:3)<<6,N.strstart!==0&&(Q|=32),Q+=31-Q%31,N.status=P,S(N,Q),N.strstart!==0&&(S(N,G.adler>>>16),S(N,65535&G.adler)),G.adler=1}if(N.status===69)if(N.gzhead.extra){for($=N.pending;N.gzindex<(65535&N.gzhead.extra.length)&&(N.pending!==N.pending_buf_size||(N.gzhead.hcrc&&N.pending>$&&(G.adler=F(G.adler,N.pending_buf,N.pending-$,$)),_(G),$=N.pending,N.pending!==N.pending_buf_size));)k(N,255&N.gzhead.extra[N.gzindex]),N.gzindex++;N.gzhead.hcrc&&N.pending>$&&(G.adler=F(G.adler,N.pending_buf,N.pending-$,$)),N.gzindex===N.gzhead.extra.length&&(N.gzindex=0,N.status=73)}else N.status=73;if(N.status===73)if(N.gzhead.name){$=N.pending;do{if(N.pending===N.pending_buf_size&&(N.gzhead.hcrc&&N.pending>$&&(G.adler=F(G.adler,N.pending_buf,N.pending-$,$)),_(G),$=N.pending,N.pending===N.pending_buf_size)){J=1;break}J=N.gzindex<N.gzhead.name.length?255&N.gzhead.name.charCodeAt(N.gzindex++):0,k(N,J)}while(J!==0);N.gzhead.hcrc&&N.pending>$&&(G.adler=F(G.adler,N.pending_buf,N.pending-$,$)),J===0&&(N.gzindex=0,N.status=91)}else N.status=91;if(N.status===91)if(N.gzhead.comment){$=N.pending;do{if(N.pending===N.pending_buf_size&&(N.gzhead.hcrc&&N.pending>$&&(G.adler=F(G.adler,N.pending_buf,N.pending-$,$)),_(G),$=N.pending,N.pending===N.pending_buf_size)){J=1;break}J=N.gzindex<N.gzhead.comment.length?255&N.gzhead.comment.charCodeAt(N.gzindex++):0,k(N,J)}while(J!==0);N.gzhead.hcrc&&N.pending>$&&(G.adler=F(G.adler,N.pending_buf,N.pending-$,$)),J===0&&(N.status=103)}else N.status=103;if(N.status===103&&(N.gzhead.hcrc?(N.pending+2>N.pending_buf_size&&_(G),N.pending+2<=N.pending_buf_size&&(k(N,255&G.adler),k(N,G.adler>>8&255),G.adler=0,N.status=P)):N.status=P),N.pending!==0){if(_(G),G.avail_out===0)return N.last_flush=-1,0}else if(G.avail_in===0&&z(Y)<=z(H)&&Y!==4)return O(G,-5);if(N.status===666&&G.avail_in!==0)return O(G,-5);if(G.avail_in!==0||N.lookahead!==0||Y!==0&&N.status!==666){var ee=N.strategy===2?(function(W,ne){for(var re;;){if(W.lookahead===0&&(C(W),W.lookahead===0)){if(ne===0)return 1;break}if(W.match_length=0,re=b._tr_tally(W,0,W.window[W.strstart]),W.lookahead--,W.strstart++,re&&(R(W,!1),W.strm.avail_out===0))return 1}return W.insert=0,ne===4?(R(W,!0),W.strm.avail_out===0?3:4):W.last_lit&&(R(W,!1),W.strm.avail_out===0)?1:2})(N,Y):N.strategy===3?(function(W,ne){for(var re,q,X,te,se=W.window;;){if(W.lookahead<=I){if(C(W),W.lookahead<=I&&ne===0)return 1;if(W.lookahead===0)break}if(W.match_length=0,W.lookahead>=3&&0<W.strstart&&(q=se[X=W.strstart-1])===se[++X]&&q===se[++X]&&q===se[++X]){te=W.strstart+I;do;while(q===se[++X]&&q===se[++X]&&q===se[++X]&&q===se[++X]&&q===se[++X]&&q===se[++X]&&q===se[++X]&&q===se[++X]&&X<te);W.match_length=I-(te-X),W.match_length>W.lookahead&&(W.match_length=W.lookahead)}if(W.match_length>=3?(re=b._tr_tally(W,1,W.match_length-3),W.lookahead-=W.match_length,W.strstart+=W.match_length,W.match_length=0):(re=b._tr_tally(W,0,W.window[W.strstart]),W.lookahead--,W.strstart++),re&&(R(W,!1),W.strm.avail_out===0))return 1}return W.insert=0,ne===4?(R(W,!0),W.strm.avail_out===0?3:4):W.last_lit&&(R(W,!1),W.strm.avail_out===0)?1:2})(N,Y):p[N.level].func(N,Y);if(ee!==3&&ee!==4||(N.status=666),ee===1||ee===3)return G.avail_out===0&&(N.last_flush=-1),0;if(ee===2&&(Y===1?b._tr_align(N):Y!==5&&(b._tr_stored_block(N,0,0,!1),Y===3&&(L(N.head),N.lookahead===0&&(N.strstart=0,N.block_start=0,N.insert=0))),_(G),G.avail_out===0))return N.last_flush=-1,0}return Y!==4?0:N.wrap<=0?1:(N.wrap===2?(k(N,255&G.adler),k(N,G.adler>>8&255),k(N,G.adler>>16&255),k(N,G.adler>>24&255),k(N,255&G.total_in),k(N,G.total_in>>8&255),k(N,G.total_in>>16&255),k(N,G.total_in>>24&255)):(S(N,G.adler>>>16),S(N,65535&G.adler)),_(G),0<N.wrap&&(N.wrap=-N.wrap),N.pending!==0?0:1)},m.deflateEnd=function(G){var Y;return G&&G.state?(Y=G.state.status)!==42&&Y!==69&&Y!==73&&Y!==91&&Y!==103&&Y!==P&&Y!==666?O(G,T):(G.state=null,Y===P?O(G,-3):0):T},m.deflateSetDictionary=function(G,Y){var H,N,$,J,Q,ee,W,ne,re=Y.length;if(!G||!G.state||(J=(H=G.state).wrap)===2||J===1&&H.status!==42||H.lookahead)return T;for(J===1&&(G.adler=v(G.adler,Y,re,0)),H.wrap=0,re>=H.w_size&&(J===0&&(L(H.head),H.strstart=0,H.block_start=0,H.insert=0),ne=new y.Buf8(H.w_size),y.arraySet(ne,Y,re-H.w_size,H.w_size,0),Y=ne,re=H.w_size),Q=G.avail_in,ee=G.next_in,W=G.input,G.avail_in=re,G.next_in=0,G.input=Y,C(H);H.lookahead>=3;){for(N=H.strstart,$=H.lookahead-2;H.ins_h=(H.ins_h<<H.hash_shift^H.window[N+3-1])&H.hash_mask,H.prev[N&H.w_mask]=H.head[H.ins_h],H.head[H.ins_h]=N,N++,--$;);H.strstart=N,H.lookahead=2,C(H)}return H.strstart+=H.lookahead,H.block_start=H.strstart,H.insert=H.lookahead,H.lookahead=0,H.match_length=H.prev_length=2,H.match_available=0,G.next_in=ee,G.input=W,G.avail_in=Q,H.wrap=J,0},m.deflateInfo="pako deflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./messages":51,"./trees":52}],47:[function(h,g,m){g.exports=function(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}},{}],48:[function(h,g,m){g.exports=function(p,y){var b,v,F,E,T,I,M,P,O,z,L,_,R,k,S,w,C,x,A,D,B,V,j,K,G;b=p.state,v=p.next_in,K=p.input,F=v+(p.avail_in-5),E=p.next_out,G=p.output,T=E-(y-p.avail_out),I=E+(p.avail_out-257),M=b.dmax,P=b.wsize,O=b.whave,z=b.wnext,L=b.window,_=b.hold,R=b.bits,k=b.lencode,S=b.distcode,w=(1<<b.lenbits)-1,C=(1<<b.distbits)-1;e:do{R<15&&(_+=K[v++]<<R,R+=8,_+=K[v++]<<R,R+=8),x=k[_&w];t:for(;;){if(_>>>=A=x>>>24,R-=A,(A=x>>>16&255)==0)G[E++]=65535&x;else{if(!(16&A)){if((64&A)==0){x=k[(65535&x)+(_&(1<<A)-1)];continue t}if(32&A){b.mode=12;break e}p.msg="invalid literal/length code",b.mode=30;break e}D=65535&x,(A&=15)&&(R<A&&(_+=K[v++]<<R,R+=8),D+=_&(1<<A)-1,_>>>=A,R-=A),R<15&&(_+=K[v++]<<R,R+=8,_+=K[v++]<<R,R+=8),x=S[_&C];r:for(;;){if(_>>>=A=x>>>24,R-=A,!(16&(A=x>>>16&255))){if((64&A)==0){x=S[(65535&x)+(_&(1<<A)-1)];continue r}p.msg="invalid distance code",b.mode=30;break e}if(B=65535&x,R<(A&=15)&&(_+=K[v++]<<R,(R+=8)<A&&(_+=K[v++]<<R,R+=8)),M<(B+=_&(1<<A)-1)){p.msg="invalid distance too far back",b.mode=30;break e}if(_>>>=A,R-=A,(A=E-T)<B){if(O<(A=B-A)&&b.sane){p.msg="invalid distance too far back",b.mode=30;break e}if(j=L,(V=0)===z){if(V+=P-A,A<D){for(D-=A;G[E++]=L[V++],--A;);V=E-B,j=G}}else if(z<A){if(V+=P+z-A,(A-=z)<D){for(D-=A;G[E++]=L[V++],--A;);if(V=0,z<D){for(D-=A=z;G[E++]=L[V++],--A;);V=E-B,j=G}}}else if(V+=z-A,A<D){for(D-=A;G[E++]=L[V++],--A;);V=E-B,j=G}for(;2<D;)G[E++]=j[V++],G[E++]=j[V++],G[E++]=j[V++],D-=3;D&&(G[E++]=j[V++],1<D&&(G[E++]=j[V++]))}else{for(V=E-B;G[E++]=G[V++],G[E++]=G[V++],G[E++]=G[V++],2<(D-=3););D&&(G[E++]=G[V++],1<D&&(G[E++]=G[V++]))}break}}break}}while(v<F&&E<I);v-=D=R>>3,_&=(1<<(R-=D<<3))-1,p.next_in=v,p.next_out=E,p.avail_in=v<F?F-v+5:5-(v-F),p.avail_out=E<I?I-E+257:257-(E-I),b.hold=_,b.bits=R}},{}],49:[function(h,g,m){var p=h("../utils/common"),y=h("./adler32"),b=h("./crc32"),v=h("./inffast"),F=h("./inftrees"),E=-2;function T(w){return(w>>>24&255)+(w>>>8&65280)+((65280&w)<<8)+((255&w)<<24)}function I(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new p.Buf16(320),this.work=new p.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function M(w){var C;return w&&w.state?(C=w.state,w.total_in=w.total_out=C.total=0,w.msg="",C.wrap&&(w.adler=1&C.wrap),C.mode=1,C.last=0,C.havedict=0,C.dmax=32768,C.head=null,C.hold=0,C.bits=0,C.lencode=C.lendyn=new p.Buf32(852),C.distcode=C.distdyn=new p.Buf32(592),C.sane=1,C.back=-1,0):E}function P(w){var C;return w&&w.state?((C=w.state).wsize=0,C.whave=0,C.wnext=0,M(w)):E}function O(w,C){var x,A;return w&&w.state?(A=w.state,C<0?(x=0,C=-C):(x=1+(C>>4),C<48&&(C&=15)),C&&(C<8||15<C)?E:(A.window!==null&&A.wbits!==C&&(A.window=null),A.wrap=x,A.wbits=C,P(w))):E}function z(w,C){var x,A;return w?(A=new I,(w.state=A).window=null,(x=O(w,C))!==0&&(w.state=null),x):E}var L,_,R=!0;function k(w){if(R){var C;for(L=new p.Buf32(512),_=new p.Buf32(32),C=0;C<144;)w.lens[C++]=8;for(;C<256;)w.lens[C++]=9;for(;C<280;)w.lens[C++]=7;for(;C<288;)w.lens[C++]=8;for(F(1,w.lens,0,288,L,0,w.work,{bits:9}),C=0;C<32;)w.lens[C++]=5;F(2,w.lens,0,32,_,0,w.work,{bits:5}),R=!1}w.lencode=L,w.lenbits=9,w.distcode=_,w.distbits=5}function S(w,C,x,A){var D,B=w.state;return B.window===null&&(B.wsize=1<<B.wbits,B.wnext=0,B.whave=0,B.window=new p.Buf8(B.wsize)),A>=B.wsize?(p.arraySet(B.window,C,x-B.wsize,B.wsize,0),B.wnext=0,B.whave=B.wsize):(A<(D=B.wsize-B.wnext)&&(D=A),p.arraySet(B.window,C,x-A,D,B.wnext),(A-=D)?(p.arraySet(B.window,C,x-A,A,0),B.wnext=A,B.whave=B.wsize):(B.wnext+=D,B.wnext===B.wsize&&(B.wnext=0),B.whave<B.wsize&&(B.whave+=D))),0}m.inflateReset=P,m.inflateReset2=O,m.inflateResetKeep=M,m.inflateInit=function(w){return z(w,15)},m.inflateInit2=z,m.inflate=function(w,C){var x,A,D,B,V,j,K,G,Y,H,N,$,J,Q,ee,W,ne,re,q,X,te,se,oe,ie,ae=0,ue=new p.Buf8(4),ce=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!w||!w.state||!w.output||!w.input&&w.avail_in!==0)return E;(x=w.state).mode===12&&(x.mode=13),V=w.next_out,D=w.output,K=w.avail_out,B=w.next_in,A=w.input,j=w.avail_in,G=x.hold,Y=x.bits,H=j,N=K,se=0;e:for(;;)switch(x.mode){case 1:if(x.wrap===0){x.mode=13;break}for(;Y<16;){if(j===0)break e;j--,G+=A[B++]<<Y,Y+=8}if(2&x.wrap&&G===35615){ue[x.check=0]=255&G,ue[1]=G>>>8&255,x.check=b(x.check,ue,2,0),Y=G=0,x.mode=2;break}if(x.flags=0,x.head&&(x.head.done=!1),!(1&x.wrap)||(((255&G)<<8)+(G>>8))%31){w.msg="incorrect header check",x.mode=30;break}if((15&G)!=8){w.msg="unknown compression method",x.mode=30;break}if(Y-=4,te=8+(15&(G>>>=4)),x.wbits===0)x.wbits=te;else if(te>x.wbits){w.msg="invalid window size",x.mode=30;break}x.dmax=1<<te,w.adler=x.check=1,x.mode=512&G?10:12,Y=G=0;break;case 2:for(;Y<16;){if(j===0)break e;j--,G+=A[B++]<<Y,Y+=8}if(x.flags=G,(255&x.flags)!=8){w.msg="unknown compression method",x.mode=30;break}if(57344&x.flags){w.msg="unknown header flags set",x.mode=30;break}x.head&&(x.head.text=G>>8&1),512&x.flags&&(ue[0]=255&G,ue[1]=G>>>8&255,x.check=b(x.check,ue,2,0)),Y=G=0,x.mode=3;case 3:for(;Y<32;){if(j===0)break e;j--,G+=A[B++]<<Y,Y+=8}x.head&&(x.head.time=G),512&x.flags&&(ue[0]=255&G,ue[1]=G>>>8&255,ue[2]=G>>>16&255,ue[3]=G>>>24&255,x.check=b(x.check,ue,4,0)),Y=G=0,x.mode=4;case 4:for(;Y<16;){if(j===0)break e;j--,G+=A[B++]<<Y,Y+=8}x.head&&(x.head.xflags=255&G,x.head.os=G>>8),512&x.flags&&(ue[0]=255&G,ue[1]=G>>>8&255,x.check=b(x.check,ue,2,0)),Y=G=0,x.mode=5;case 5:if(1024&x.flags){for(;Y<16;){if(j===0)break e;j--,G+=A[B++]<<Y,Y+=8}x.length=G,x.head&&(x.head.extra_len=G),512&x.flags&&(ue[0]=255&G,ue[1]=G>>>8&255,x.check=b(x.check,ue,2,0)),Y=G=0}else x.head&&(x.head.extra=null);x.mode=6;case 6:if(1024&x.flags&&(j<($=x.length)&&($=j),$&&(x.head&&(te=x.head.extra_len-x.length,x.head.extra||(x.head.extra=new Array(x.head.extra_len)),p.arraySet(x.head.extra,A,B,$,te)),512&x.flags&&(x.check=b(x.check,A,$,B)),j-=$,B+=$,x.length-=$),x.length))break e;x.length=0,x.mode=7;case 7:if(2048&x.flags){if(j===0)break e;for($=0;te=A[B+$++],x.head&&te&&x.length<65536&&(x.head.name+=String.fromCharCode(te)),te&&$<j;);if(512&x.flags&&(x.check=b(x.check,A,$,B)),j-=$,B+=$,te)break e}else x.head&&(x.head.name=null);x.length=0,x.mode=8;case 8:if(4096&x.flags){if(j===0)break e;for($=0;te=A[B+$++],x.head&&te&&x.length<65536&&(x.head.comment+=String.fromCharCode(te)),te&&$<j;);if(512&x.flags&&(x.check=b(x.check,A,$,B)),j-=$,B+=$,te)break e}else x.head&&(x.head.comment=null);x.mode=9;case 9:if(512&x.flags){for(;Y<16;){if(j===0)break e;j--,G+=A[B++]<<Y,Y+=8}if(G!==(65535&x.check)){w.msg="header crc mismatch",x.mode=30;break}Y=G=0}x.head&&(x.head.hcrc=x.flags>>9&1,x.head.done=!0),w.adler=x.check=0,x.mode=12;break;case 10:for(;Y<32;){if(j===0)break e;j--,G+=A[B++]<<Y,Y+=8}w.adler=x.check=T(G),Y=G=0,x.mode=11;case 11:if(x.havedict===0)return w.next_out=V,w.avail_out=K,w.next_in=B,w.avail_in=j,x.hold=G,x.bits=Y,2;w.adler=x.check=1,x.mode=12;case 12:if(C===5||C===6)break e;case 13:if(x.last){G>>>=7&Y,Y-=7&Y,x.mode=27;break}for(;Y<3;){if(j===0)break e;j--,G+=A[B++]<<Y,Y+=8}switch(x.last=1&G,Y-=1,3&(G>>>=1)){case 0:x.mode=14;break;case 1:if(k(x),x.mode=20,C!==6)break;G>>>=2,Y-=2;break e;case 2:x.mode=17;break;case 3:w.msg="invalid block type",x.mode=30}G>>>=2,Y-=2;break;case 14:for(G>>>=7&Y,Y-=7&Y;Y<32;){if(j===0)break e;j--,G+=A[B++]<<Y,Y+=8}if((65535&G)!=(G>>>16^65535)){w.msg="invalid stored block lengths",x.mode=30;break}if(x.length=65535&G,Y=G=0,x.mode=15,C===6)break e;case 15:x.mode=16;case 16:if($=x.length){if(j<$&&($=j),K<$&&($=K),$===0)break e;p.arraySet(D,A,B,$,V),j-=$,B+=$,K-=$,V+=$,x.length-=$;break}x.mode=12;break;case 17:for(;Y<14;){if(j===0)break e;j--,G+=A[B++]<<Y,Y+=8}if(x.nlen=257+(31&G),G>>>=5,Y-=5,x.ndist=1+(31&G),G>>>=5,Y-=5,x.ncode=4+(15&G),G>>>=4,Y-=4,286<x.nlen||30<x.ndist){w.msg="too many length or distance symbols",x.mode=30;break}x.have=0,x.mode=18;case 18:for(;x.have<x.ncode;){for(;Y<3;){if(j===0)break e;j--,G+=A[B++]<<Y,Y+=8}x.lens[ce[x.have++]]=7&G,G>>>=3,Y-=3}for(;x.have<19;)x.lens[ce[x.have++]]=0;if(x.lencode=x.lendyn,x.lenbits=7,oe={bits:x.lenbits},se=F(0,x.lens,0,19,x.lencode,0,x.work,oe),x.lenbits=oe.bits,se){w.msg="invalid code lengths set",x.mode=30;break}x.have=0,x.mode=19;case 19:for(;x.have<x.nlen+x.ndist;){for(;W=(ae=x.lencode[G&(1<<x.lenbits)-1])>>>16&255,ne=65535&ae,!((ee=ae>>>24)<=Y);){if(j===0)break e;j--,G+=A[B++]<<Y,Y+=8}if(ne<16)G>>>=ee,Y-=ee,x.lens[x.have++]=ne;else{if(ne===16){for(ie=ee+2;Y<ie;){if(j===0)break e;j--,G+=A[B++]<<Y,Y+=8}if(G>>>=ee,Y-=ee,x.have===0){w.msg="invalid bit length repeat",x.mode=30;break}te=x.lens[x.have-1],$=3+(3&G),G>>>=2,Y-=2}else if(ne===17){for(ie=ee+3;Y<ie;){if(j===0)break e;j--,G+=A[B++]<<Y,Y+=8}Y-=ee,te=0,$=3+(7&(G>>>=ee)),G>>>=3,Y-=3}else{for(ie=ee+7;Y<ie;){if(j===0)break e;j--,G+=A[B++]<<Y,Y+=8}Y-=ee,te=0,$=11+(127&(G>>>=ee)),G>>>=7,Y-=7}if(x.have+$>x.nlen+x.ndist){w.msg="invalid bit length repeat",x.mode=30;break}for(;$--;)x.lens[x.have++]=te}}if(x.mode===30)break;if(x.lens[256]===0){w.msg="invalid code -- missing end-of-block",x.mode=30;break}if(x.lenbits=9,oe={bits:x.lenbits},se=F(1,x.lens,0,x.nlen,x.lencode,0,x.work,oe),x.lenbits=oe.bits,se){w.msg="invalid literal/lengths set",x.mode=30;break}if(x.distbits=6,x.distcode=x.distdyn,oe={bits:x.distbits},se=F(2,x.lens,x.nlen,x.ndist,x.distcode,0,x.work,oe),x.distbits=oe.bits,se){w.msg="invalid distances set",x.mode=30;break}if(x.mode=20,C===6)break e;case 20:x.mode=21;case 21:if(6<=j&&258<=K){w.next_out=V,w.avail_out=K,w.next_in=B,w.avail_in=j,x.hold=G,x.bits=Y,v(w,N),V=w.next_out,D=w.output,K=w.avail_out,B=w.next_in,A=w.input,j=w.avail_in,G=x.hold,Y=x.bits,x.mode===12&&(x.back=-1);break}for(x.back=0;W=(ae=x.lencode[G&(1<<x.lenbits)-1])>>>16&255,ne=65535&ae,!((ee=ae>>>24)<=Y);){if(j===0)break e;j--,G+=A[B++]<<Y,Y+=8}if(W&&(240&W)==0){for(re=ee,q=W,X=ne;W=(ae=x.lencode[X+((G&(1<<re+q)-1)>>re)])>>>16&255,ne=65535&ae,!(re+(ee=ae>>>24)<=Y);){if(j===0)break e;j--,G+=A[B++]<<Y,Y+=8}G>>>=re,Y-=re,x.back+=re}if(G>>>=ee,Y-=ee,x.back+=ee,x.length=ne,W===0){x.mode=26;break}if(32&W){x.back=-1,x.mode=12;break}if(64&W){w.msg="invalid literal/length code",x.mode=30;break}x.extra=15&W,x.mode=22;case 22:if(x.extra){for(ie=x.extra;Y<ie;){if(j===0)break e;j--,G+=A[B++]<<Y,Y+=8}x.length+=G&(1<<x.extra)-1,G>>>=x.extra,Y-=x.extra,x.back+=x.extra}x.was=x.length,x.mode=23;case 23:for(;W=(ae=x.distcode[G&(1<<x.distbits)-1])>>>16&255,ne=65535&ae,!((ee=ae>>>24)<=Y);){if(j===0)break e;j--,G+=A[B++]<<Y,Y+=8}if((240&W)==0){for(re=ee,q=W,X=ne;W=(ae=x.distcode[X+((G&(1<<re+q)-1)>>re)])>>>16&255,ne=65535&ae,!(re+(ee=ae>>>24)<=Y);){if(j===0)break e;j--,G+=A[B++]<<Y,Y+=8}G>>>=re,Y-=re,x.back+=re}if(G>>>=ee,Y-=ee,x.back+=ee,64&W){w.msg="invalid distance code",x.mode=30;break}x.offset=ne,x.extra=15&W,x.mode=24;case 24:if(x.extra){for(ie=x.extra;Y<ie;){if(j===0)break e;j--,G+=A[B++]<<Y,Y+=8}x.offset+=G&(1<<x.extra)-1,G>>>=x.extra,Y-=x.extra,x.back+=x.extra}if(x.offset>x.dmax){w.msg="invalid distance too far back",x.mode=30;break}x.mode=25;case 25:if(K===0)break e;if($=N-K,x.offset>$){if(($=x.offset-$)>x.whave&&x.sane){w.msg="invalid distance too far back",x.mode=30;break}J=$>x.wnext?($-=x.wnext,x.wsize-$):x.wnext-$,$>x.length&&($=x.length),Q=x.window}else Q=D,J=V-x.offset,$=x.length;for(K<$&&($=K),K-=$,x.length-=$;D[V++]=Q[J++],--$;);x.length===0&&(x.mode=21);break;case 26:if(K===0)break e;D[V++]=x.length,K--,x.mode=21;break;case 27:if(x.wrap){for(;Y<32;){if(j===0)break e;j--,G|=A[B++]<<Y,Y+=8}if(N-=K,w.total_out+=N,x.total+=N,N&&(w.adler=x.check=x.flags?b(x.check,D,N,V-N):y(x.check,D,N,V-N)),N=K,(x.flags?G:T(G))!==x.check){w.msg="incorrect data check",x.mode=30;break}Y=G=0}x.mode=28;case 28:if(x.wrap&&x.flags){for(;Y<32;){if(j===0)break e;j--,G+=A[B++]<<Y,Y+=8}if(G!==(4294967295&x.total)){w.msg="incorrect length check",x.mode=30;break}Y=G=0}x.mode=29;case 29:se=1;break e;case 30:se=-3;break e;case 31:return-4;case 32:default:return E}return w.next_out=V,w.avail_out=K,w.next_in=B,w.avail_in=j,x.hold=G,x.bits=Y,(x.wsize||N!==w.avail_out&&x.mode<30&&(x.mode<27||C!==4))&&S(w,w.output,w.next_out,N-w.avail_out)?(x.mode=31,-4):(H-=w.avail_in,N-=w.avail_out,w.total_in+=H,w.total_out+=N,x.total+=N,x.wrap&&N&&(w.adler=x.check=x.flags?b(x.check,D,N,w.next_out-N):y(x.check,D,N,w.next_out-N)),w.data_type=x.bits+(x.last?64:0)+(x.mode===12?128:0)+(x.mode===20||x.mode===15?256:0),(H==0&&N===0||C===4)&&se===0&&(se=-5),se)},m.inflateEnd=function(w){if(!w||!w.state)return E;var C=w.state;return C.window&&(C.window=null),w.state=null,0},m.inflateGetHeader=function(w,C){var x;return w&&w.state?(2&(x=w.state).wrap)==0?E:((x.head=C).done=!1,0):E},m.inflateSetDictionary=function(w,C){var x,A=C.length;return w&&w.state?(x=w.state).wrap!==0&&x.mode!==11?E:x.mode===11&&y(1,C,A,0)!==x.check?-3:S(w,C,A,A)?(x.mode=31,-4):(x.havedict=1,0):E},m.inflateInfo="pako inflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./inffast":48,"./inftrees":50}],50:[function(h,g,m){var p=h("../utils/common"),y=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],b=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],v=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],F=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];g.exports=function(E,T,I,M,P,O,z,L){var _,R,k,S,w,C,x,A,D,B=L.bits,V=0,j=0,K=0,G=0,Y=0,H=0,N=0,$=0,J=0,Q=0,ee=null,W=0,ne=new p.Buf16(16),re=new p.Buf16(16),q=null,X=0;for(V=0;V<=15;V++)ne[V]=0;for(j=0;j<M;j++)ne[T[I+j]]++;for(Y=B,G=15;1<=G&&ne[G]===0;G--);if(G<Y&&(Y=G),G===0)return P[O++]=20971520,P[O++]=20971520,L.bits=1,0;for(K=1;K<G&&ne[K]===0;K++);for(Y<K&&(Y=K),V=$=1;V<=15;V++)if($<<=1,($-=ne[V])<0)return-1;if(0<$&&(E===0||G!==1))return-1;for(re[1]=0,V=1;V<15;V++)re[V+1]=re[V]+ne[V];for(j=0;j<M;j++)T[I+j]!==0&&(z[re[T[I+j]]++]=j);if(C=E===0?(ee=q=z,19):E===1?(ee=y,W-=257,q=b,X-=257,256):(ee=v,q=F,-1),V=K,w=O,N=j=Q=0,k=-1,S=(J=1<<(H=Y))-1,E===1&&852<J||E===2&&592<J)return 1;for(;;){for(x=V-N,D=z[j]<C?(A=0,z[j]):z[j]>C?(A=q[X+z[j]],ee[W+z[j]]):(A=96,0),_=1<<V-N,K=R=1<<H;P[w+(Q>>N)+(R-=_)]=x<<24|A<<16|D|0,R!==0;);for(_=1<<V-1;Q&_;)_>>=1;if(_!==0?(Q&=_-1,Q+=_):Q=0,j++,--ne[V]==0){if(V===G)break;V=T[I+z[j]]}if(Y<V&&(Q&S)!==k){for(N===0&&(N=Y),w+=K,$=1<<(H=V-N);H+N<G&&!(($-=ne[H+N])<=0);)H++,$<<=1;if(J+=1<<H,E===1&&852<J||E===2&&592<J)return 1;P[k=Q&S]=Y<<24|H<<16|w-O|0}}return Q!==0&&(P[w+Q]=V-N<<24|64<<16|0),L.bits=Y,0}},{"../utils/common":41}],51:[function(h,g,m){g.exports={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}},{}],52:[function(h,g,m){var p=h("../utils/common");function y(q){for(var X=q.length;0<=--X;)q[X]=0}var b=256,v=286,F=30,E=15,T=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],I=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],M=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],P=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],O=new Array(576);y(O);var z=new Array(60);y(z);var L=new Array(512);y(L);var _=new Array(256);y(_);var R=new Array(29);y(R);var k,S,w,C=new Array(F);function x(q,X,te,se,oe){this.static_tree=q,this.extra_bits=X,this.extra_base=te,this.elems=se,this.max_length=oe,this.has_stree=q&&q.length}function A(q,X){this.dyn_tree=q,this.max_code=0,this.stat_desc=X}function D(q){return q<256?L[q]:L[256+(q>>>7)]}function B(q,X){q.pending_buf[q.pending++]=255&X,q.pending_buf[q.pending++]=X>>>8&255}function V(q,X,te){q.bi_valid>16-te?(q.bi_buf|=X<<q.bi_valid&65535,B(q,q.bi_buf),q.bi_buf=X>>16-q.bi_valid,q.bi_valid+=te-16):(q.bi_buf|=X<<q.bi_valid&65535,q.bi_valid+=te)}function j(q,X,te){V(q,te[2*X],te[2*X+1])}function K(q,X){for(var te=0;te|=1&q,q>>>=1,te<<=1,0<--X;);return te>>>1}function G(q,X,te){var se,oe,ie=new Array(16),ae=0;for(se=1;se<=E;se++)ie[se]=ae=ae+te[se-1]<<1;for(oe=0;oe<=X;oe++){var ue=q[2*oe+1];ue!==0&&(q[2*oe]=K(ie[ue]++,ue))}}function Y(q){var X;for(X=0;X<v;X++)q.dyn_ltree[2*X]=0;for(X=0;X<F;X++)q.dyn_dtree[2*X]=0;for(X=0;X<19;X++)q.bl_tree[2*X]=0;q.dyn_ltree[512]=1,q.opt_len=q.static_len=0,q.last_lit=q.matches=0}function H(q){8<q.bi_valid?B(q,q.bi_buf):0<q.bi_valid&&(q.pending_buf[q.pending++]=q.bi_buf),q.bi_buf=0,q.bi_valid=0}function N(q,X,te,se){var oe=2*X,ie=2*te;return q[oe]<q[ie]||q[oe]===q[ie]&&se[X]<=se[te]}function $(q,X,te){for(var se=q.heap[te],oe=te<<1;oe<=q.heap_len&&(oe<q.heap_len&&N(X,q.heap[oe+1],q.heap[oe],q.depth)&&oe++,!N(X,se,q.heap[oe],q.depth));)q.heap[te]=q.heap[oe],te=oe,oe<<=1;q.heap[te]=se}function J(q,X,te){var se,oe,ie,ae,ue=0;if(q.last_lit!==0)for(;se=q.pending_buf[q.d_buf+2*ue]<<8|q.pending_buf[q.d_buf+2*ue+1],oe=q.pending_buf[q.l_buf+ue],ue++,se===0?j(q,oe,X):(j(q,(ie=_[oe])+b+1,X),(ae=T[ie])!==0&&V(q,oe-=R[ie],ae),j(q,ie=D(--se),te),(ae=I[ie])!==0&&V(q,se-=C[ie],ae)),ue<q.last_lit;);j(q,256,X)}function Q(q,X){var te,se,oe,ie=X.dyn_tree,ae=X.stat_desc.static_tree,ue=X.stat_desc.has_stree,ce=X.stat_desc.elems,pe=-1;for(q.heap_len=0,q.heap_max=573,te=0;te<ce;te++)ie[2*te]!==0?(q.heap[++q.heap_len]=pe=te,q.depth[te]=0):ie[2*te+1]=0;for(;q.heap_len<2;)ie[2*(oe=q.heap[++q.heap_len]=pe<2?++pe:0)]=1,q.depth[oe]=0,q.opt_len--,ue&&(q.static_len-=ae[2*oe+1]);for(X.max_code=pe,te=q.heap_len>>1;1<=te;te--)$(q,ie,te);for(oe=ce;te=q.heap[1],q.heap[1]=q.heap[q.heap_len--],$(q,ie,1),se=q.heap[1],q.heap[--q.heap_max]=te,q.heap[--q.heap_max]=se,ie[2*oe]=ie[2*te]+ie[2*se],q.depth[oe]=(q.depth[te]>=q.depth[se]?q.depth[te]:q.depth[se])+1,ie[2*te+1]=ie[2*se+1]=oe,q.heap[1]=oe++,$(q,ie,1),2<=q.heap_len;);q.heap[--q.heap_max]=q.heap[1],(function(ye,ge){var Re,_e,Ae,De,Fe,ke,Pe=ge.dyn_tree,Oe=ge.max_code,He=ge.stat_desc.static_tree,ht=ge.stat_desc.has_stree,St=ge.stat_desc.extra_bits,We=ge.stat_desc.extra_base,bt=ge.stat_desc.max_length,at=0;for(De=0;De<=E;De++)ye.bl_count[De]=0;for(Pe[2*ye.heap[ye.heap_max]+1]=0,Re=ye.heap_max+1;Re<573;Re++)bt<(De=Pe[2*Pe[2*(_e=ye.heap[Re])+1]+1]+1)&&(De=bt,at++),Pe[2*_e+1]=De,Oe<_e||(ye.bl_count[De]++,Fe=0,We<=_e&&(Fe=St[_e-We]),ke=Pe[2*_e],ye.opt_len+=ke*(De+Fe),ht&&(ye.static_len+=ke*(He[2*_e+1]+Fe)));if(at!==0){do{for(De=bt-1;ye.bl_count[De]===0;)De--;ye.bl_count[De]--,ye.bl_count[De+1]+=2,ye.bl_count[bt]--,at-=2}while(0<at);for(De=bt;De!==0;De--)for(_e=ye.bl_count[De];_e!==0;)Oe<(Ae=ye.heap[--Re])||(Pe[2*Ae+1]!==De&&(ye.opt_len+=(De-Pe[2*Ae+1])*Pe[2*Ae],Pe[2*Ae+1]=De),_e--)}})(q,X),G(ie,pe,q.bl_count)}function ee(q,X,te){var se,oe,ie=-1,ae=X[1],ue=0,ce=7,pe=4;for(ae===0&&(ce=138,pe=3),X[2*(te+1)+1]=65535,se=0;se<=te;se++)oe=ae,ae=X[2*(se+1)+1],++ue<ce&&oe===ae||(ue<pe?q.bl_tree[2*oe]+=ue:oe!==0?(oe!==ie&&q.bl_tree[2*oe]++,q.bl_tree[32]++):ue<=10?q.bl_tree[34]++:q.bl_tree[36]++,ie=oe,pe=(ue=0)===ae?(ce=138,3):oe===ae?(ce=6,3):(ce=7,4))}function W(q,X,te){var se,oe,ie=-1,ae=X[1],ue=0,ce=7,pe=4;for(ae===0&&(ce=138,pe=3),se=0;se<=te;se++)if(oe=ae,ae=X[2*(se+1)+1],!(++ue<ce&&oe===ae)){if(ue<pe)for(;j(q,oe,q.bl_tree),--ue!=0;);else oe!==0?(oe!==ie&&(j(q,oe,q.bl_tree),ue--),j(q,16,q.bl_tree),V(q,ue-3,2)):ue<=10?(j(q,17,q.bl_tree),V(q,ue-3,3)):(j(q,18,q.bl_tree),V(q,ue-11,7));ie=oe,pe=(ue=0)===ae?(ce=138,3):oe===ae?(ce=6,3):(ce=7,4)}}y(C);var ne=!1;function re(q,X,te,se){V(q,0+(se?1:0),3),(function(oe,ie,ae,ue){H(oe),B(oe,ae),B(oe,~ae),p.arraySet(oe.pending_buf,oe.window,ie,ae,oe.pending),oe.pending+=ae})(q,X,te)}m._tr_init=function(q){ne||((function(){var X,te,se,oe,ie,ae=new Array(16);for(oe=se=0;oe<28;oe++)for(R[oe]=se,X=0;X<1<<T[oe];X++)_[se++]=oe;for(_[se-1]=oe,oe=ie=0;oe<16;oe++)for(C[oe]=ie,X=0;X<1<<I[oe];X++)L[ie++]=oe;for(ie>>=7;oe<F;oe++)for(C[oe]=ie<<7,X=0;X<1<<I[oe]-7;X++)L[256+ie++]=oe;for(te=0;te<=E;te++)ae[te]=0;for(X=0;X<=143;)O[2*X+1]=8,X++,ae[8]++;for(;X<=255;)O[2*X+1]=9,X++,ae[9]++;for(;X<=279;)O[2*X+1]=7,X++,ae[7]++;for(;X<=287;)O[2*X+1]=8,X++,ae[8]++;for(G(O,287,ae),X=0;X<F;X++)z[2*X+1]=5,z[2*X]=K(X,5);k=new x(O,T,257,v,E),S=new x(z,I,0,F,E),w=new x(new Array(0),M,0,19,7)})(),ne=!0),q.l_desc=new A(q.dyn_ltree,k),q.d_desc=new A(q.dyn_dtree,S),q.bl_desc=new A(q.bl_tree,w),q.bi_buf=0,q.bi_valid=0,Y(q)},m._tr_stored_block=re,m._tr_flush_block=function(q,X,te,se){var oe,ie,ae=0;0<q.level?(q.strm.data_type===2&&(q.strm.data_type=(function(ue){var ce,pe=4093624447;for(ce=0;ce<=31;ce++,pe>>>=1)if(1&pe&&ue.dyn_ltree[2*ce]!==0)return 0;if(ue.dyn_ltree[18]!==0||ue.dyn_ltree[20]!==0||ue.dyn_ltree[26]!==0)return 1;for(ce=32;ce<b;ce++)if(ue.dyn_ltree[2*ce]!==0)return 1;return 0})(q)),Q(q,q.l_desc),Q(q,q.d_desc),ae=(function(ue){var ce;for(ee(ue,ue.dyn_ltree,ue.l_desc.max_code),ee(ue,ue.dyn_dtree,ue.d_desc.max_code),Q(ue,ue.bl_desc),ce=18;3<=ce&&ue.bl_tree[2*P[ce]+1]===0;ce--);return ue.opt_len+=3*(ce+1)+5+5+4,ce})(q),oe=q.opt_len+3+7>>>3,(ie=q.static_len+3+7>>>3)<=oe&&(oe=ie)):oe=ie=te+5,te+4<=oe&&X!==-1?re(q,X,te,se):q.strategy===4||ie===oe?(V(q,2+(se?1:0),3),J(q,O,z)):(V(q,4+(se?1:0),3),(function(ue,ce,pe,ye){var ge;for(V(ue,ce-257,5),V(ue,pe-1,5),V(ue,ye-4,4),ge=0;ge<ye;ge++)V(ue,ue.bl_tree[2*P[ge]+1],3);W(ue,ue.dyn_ltree,ce-1),W(ue,ue.dyn_dtree,pe-1)})(q,q.l_desc.max_code+1,q.d_desc.max_code+1,ae+1),J(q,q.dyn_ltree,q.dyn_dtree)),Y(q),se&&H(q)},m._tr_tally=function(q,X,te){return q.pending_buf[q.d_buf+2*q.last_lit]=X>>>8&255,q.pending_buf[q.d_buf+2*q.last_lit+1]=255&X,q.pending_buf[q.l_buf+q.last_lit]=255&te,q.last_lit++,X===0?q.dyn_ltree[2*te]++:(q.matches++,X--,q.dyn_ltree[2*(_[te]+b+1)]++,q.dyn_dtree[2*D(X)]++),q.last_lit===q.lit_bufsize-1},m._tr_align=function(q){V(q,2,3),j(q,256,O),(function(X){X.bi_valid===16?(B(X,X.bi_buf),X.bi_buf=0,X.bi_valid=0):8<=X.bi_valid&&(X.pending_buf[X.pending++]=255&X.bi_buf,X.bi_buf>>=8,X.bi_valid-=8)})(q)}},{"../utils/common":41}],53:[function(h,g,m){g.exports=function(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}},{}],54:[function(h,g,m){(function(p){(function(y,b){if(!y.setImmediate){var v,F,E,T,I=1,M={},P=!1,O=y.document,z=Object.getPrototypeOf&&Object.getPrototypeOf(y);z=z&&z.setTimeout?z:y,v={}.toString.call(y.process)==="[object process]"?function(k){o.nextTick((function(){_(k)}))}:(function(){if(y.postMessage&&!y.importScripts){var k=!0,S=y.onmessage;return y.onmessage=function(){k=!1},y.postMessage("","*"),y.onmessage=S,k}})()?(T="setImmediate$"+Math.random()+"$",y.addEventListener?y.addEventListener("message",R,!1):y.attachEvent("onmessage",R),function(k){y.postMessage(T+k,"*")}):y.MessageChannel?((E=new MessageChannel).port1.onmessage=function(k){_(k.data)},function(k){E.port2.postMessage(k)}):O&&"onreadystatechange"in O.createElement("script")?(F=O.documentElement,function(k){var S=O.createElement("script");S.onreadystatechange=function(){_(k),S.onreadystatechange=null,F.removeChild(S),S=null},F.appendChild(S)}):function(k){setTimeout(_,0,k)},z.setImmediate=function(k){typeof k!="function"&&(k=new Function(""+k));for(var S=new Array(arguments.length-1),w=0;w<S.length;w++)S[w]=arguments[w+1];var C={callback:k,args:S};return M[I]=C,v(I),I++},z.clearImmediate=L}function L(k){delete M[k]}function _(k){if(P)setTimeout(_,0,k);else{var S=M[k];if(S){P=!0;try{(function(w){var C=w.callback,x=w.args;switch(x.length){case 0:C();break;case 1:C(x[0]);break;case 2:C(x[0],x[1]);break;case 3:C(x[0],x[1],x[2]);break;default:C.apply(void 0,x)}})(S)}finally{L(k),P=!1}}}}function R(k){k.source===y&&typeof k.data=="string"&&k.data.indexOf(T)===0&&_(+k.data.slice(T.length))}})(typeof self>"u"?p===void 0?this:p:self)}).call(this,s!==void 0?s:typeof self<"u"?self:typeof window<"u"?window:{})},{}]},{},[10])(10)}))}).call(this)}).call(this,r("_process"),typeof lt<"u"?lt:typeof self<"u"?self:typeof window<"u"?window:{},r("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],r("timers").setImmediate)},{_process:467,buffer:220,timers:523}],442:[function(r,n,i){(function(o){(function(){var s=/[\\^$.*+?()[\]{}|]/g,a=RegExp(s.source),l=typeof o=="object"&&o&&o.Object===Object&&o,u=typeof self=="object"&&self&&self.Object===Object&&self,c=l||u||Function("return this")(),f=Object.prototype.toString,d=c.Symbol,h=d?d.prototype:void 0,g=h?h.toString:void 0;function m(p){if(typeof p=="string")return p;if((function(b){return typeof b=="symbol"||(function(v){return!!v&&typeof v=="object"})(b)&&f.call(b)=="[object Symbol]"})(p))return g?g.call(p):"";var y=p+"";return y=="0"&&1/p==-1/0?"-0":y}n.exports=function(p){var y;return(p=(y=p)==null?"":m(y))&&a.test(p)?p.replace(s,"\\$&"):p}}).call(this)}).call(this,typeof lt<"u"?lt:typeof self<"u"?self:typeof window<"u"?window:{})},{}],443:[function(r,n,i){(function(o){(function(){var s="[object Arguments]",a="[object Map]",l="[object Object]",u="[object Set]",c=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,f=/^\w*$/,d=/^\./,h=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,g=/\\(\\)?/g,m=/^\[object .+?Constructor\]$/,p=/^(?:0|[1-9]\d*)$/,y={};y["[object Float32Array]"]=y["[object Float64Array]"]=y["[object Int8Array]"]=y["[object Int16Array]"]=y["[object Int32Array]"]=y["[object Uint8Array]"]=y["[object Uint8ClampedArray]"]=y["[object Uint16Array]"]=y["[object Uint32Array]"]=!0,y[s]=y["[object Array]"]=y["[object ArrayBuffer]"]=y["[object Boolean]"]=y["[object DataView]"]=y["[object Date]"]=y["[object Error]"]=y["[object Function]"]=y[a]=y["[object Number]"]=y[l]=y["[object RegExp]"]=y[u]=y["[object String]"]=y["[object WeakMap]"]=!1;var b=typeof o=="object"&&o&&o.Object===Object&&o,v=typeof self=="object"&&self&&self.Object===Object&&self,F=b||v||Function("return this")(),E=typeof i=="object"&&i&&!i.nodeType&&i,T=E&&typeof n=="object"&&n&&!n.nodeType&&n,I=T&&T.exports===E&&b.process,M=(function(){try{return I&&I.binding("util")}catch{}})(),P=M&&M.isTypedArray;function O(le,fe,Ce,Ee){for(var ze=-1,Te=le?le.length:0;++ze<Te;){var Be=le[ze];fe(Ee,Be,Ce(Be),le)}return Ee}function z(le,fe){for(var Ce=-1,Ee=le?le.length:0;++Ce<Ee;)if(fe(le[Ce],Ce,le))return!0;return!1}function L(le){var fe=!1;if(le!=null&&typeof le.toString!="function")try{fe=!!(le+"")}catch{}return fe}function _(le){var fe=-1,Ce=Array(le.size);return le.forEach((function(Ee,ze){Ce[++fe]=[ze,Ee]})),Ce}function R(le){var fe=-1,Ce=Array(le.size);return le.forEach((function(Ee){Ce[++fe]=Ee})),Ce}var k,S,w,C=Array.prototype,x=Function.prototype,A=Object.prototype,D=F["__core-js_shared__"],B=(k=/[^.]+$/.exec(D&&D.keys&&D.keys.IE_PROTO||""))?"Symbol(src)_1."+k:"",V=x.toString,j=A.hasOwnProperty,K=A.toString,G=RegExp("^"+V.call(j).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Y=F.Symbol,H=F.Uint8Array,N=A.propertyIsEnumerable,$=C.splice,J=(S=Object.keys,w=Object,function(le){return S(w(le))}),Q=Xe(F,"DataView"),ee=Xe(F,"Map"),W=Xe(F,"Promise"),ne=Xe(F,"Set"),re=Xe(F,"WeakMap"),q=Xe(Object,"create"),X=he(Q),te=he(ee),se=he(W),oe=he(ne),ie=he(re),ae=Y?Y.prototype:void 0,ue=ae?ae.valueOf:void 0,ce=ae?ae.toString:void 0;function pe(le){var fe=-1,Ce=le?le.length:0;for(this.clear();++fe<Ce;){var Ee=le[fe];this.set(Ee[0],Ee[1])}}function ye(le){var fe=-1,Ce=le?le.length:0;for(this.clear();++fe<Ce;){var Ee=le[fe];this.set(Ee[0],Ee[1])}}function ge(le){var fe=-1,Ce=le?le.length:0;for(this.clear();++fe<Ce;){var Ee=le[fe];this.set(Ee[0],Ee[1])}}function Re(le){var fe=-1,Ce=le?le.length:0;for(this.__data__=new ge;++fe<Ce;)this.add(le[fe])}function _e(le){this.__data__=new ye(le)}function Ae(le,fe){var Ce=Je(le)||rt(le)?(function(Be,yt){for(var ut=-1,dt=Array(Be);++ut<Be;)dt[ut]=yt(ut);return dt})(le.length,String):[],Ee=Ce.length,ze=!!Ee;for(var Te in le)!j.call(le,Te)||ze&&(Te=="length"||It(Te,Ee))||Ce.push(Te);return Ce}function De(le,fe){for(var Ce=le.length;Ce--;)if(Ne(le[Ce][0],fe))return Ce;return-1}function Fe(le,fe,Ce,Ee){return Pe(le,(function(ze,Te,Be){fe(Ee,ze,Ce(ze),Be)})),Ee}pe.prototype.clear=function(){this.__data__=q?q(null):{}},pe.prototype.delete=function(le){return this.has(le)&&delete this.__data__[le]},pe.prototype.get=function(le){var fe=this.__data__;if(q){var Ce=fe[le];return Ce==="__lodash_hash_undefined__"?void 0:Ce}return j.call(fe,le)?fe[le]:void 0},pe.prototype.has=function(le){var fe=this.__data__;return q?fe[le]!==void 0:j.call(fe,le)},pe.prototype.set=function(le,fe){return this.__data__[le]=q&&fe===void 0?"__lodash_hash_undefined__":fe,this},ye.prototype.clear=function(){this.__data__=[]},ye.prototype.delete=function(le){var fe=this.__data__,Ce=De(fe,le);return!(Ce<0)&&(Ce==fe.length-1?fe.pop():$.call(fe,Ce,1),!0)},ye.prototype.get=function(le){var fe=this.__data__,Ce=De(fe,le);return Ce<0?void 0:fe[Ce][1]},ye.prototype.has=function(le){return De(this.__data__,le)>-1},ye.prototype.set=function(le,fe){var Ce=this.__data__,Ee=De(Ce,le);return Ee<0?Ce.push([le,fe]):Ce[Ee][1]=fe,this},ge.prototype.clear=function(){this.__data__={hash:new pe,map:new(ee||ye),string:new pe}},ge.prototype.delete=function(le){return xt(this,le).delete(le)},ge.prototype.get=function(le){return xt(this,le).get(le)},ge.prototype.has=function(le){return xt(this,le).has(le)},ge.prototype.set=function(le,fe){return xt(this,le).set(le,fe),this},Re.prototype.add=Re.prototype.push=function(le){return this.__data__.set(le,"__lodash_hash_undefined__"),this},Re.prototype.has=function(le){return this.__data__.has(le)},_e.prototype.clear=function(){this.__data__=new ye},_e.prototype.delete=function(le){return this.__data__.delete(le)},_e.prototype.get=function(le){return this.__data__.get(le)},_e.prototype.has=function(le){return this.__data__.has(le)},_e.prototype.set=function(le,fe){var Ce=this.__data__;if(Ce instanceof ye){var Ee=Ce.__data__;if(!ee||Ee.length<199)return Ee.push([le,fe]),this;Ce=this.__data__=new ge(Ee)}return Ce.set(le,fe),this};var ke,Pe=(ke=function(le,fe){return le&&Oe(le,fe,ar)},function(le,fe){if(le==null)return le;if(!$e(le))return ke(le,fe);for(var Ce=le.length,Ee=-1,ze=Object(le);++Ee<Ce&&fe(ze[Ee],Ee,ze)!==!1;);return le}),Oe=(function(le){return function(fe,Ce,Ee){for(var ze=-1,Te=Object(fe),Be=Ee(fe),yt=Be.length;yt--;){var ut=Be[++ze];if(Ce(Te[ut],ut,Te)===!1)break}return fe}})();function He(le,fe){for(var Ce=0,Ee=(fe=tt(fe,le)?[fe]:Ze(fe)).length;le!=null&&Ce<Ee;)le=le[de(fe[Ce++])];return Ce&&Ce==Ee?le:void 0}function ht(le,fe){return le!=null&&fe in Object(le)}function St(le,fe,Ce,Ee,ze){return le===fe||(le==null||fe==null||!ct(le)&&!Qt(fe)?le!=le&&fe!=fe:(function(Te,Be,yt,ut,dt,Ye){var Tt=Je(Te),Dt=Je(Be),Lt="[object Array]",Ut="[object Array]";Tt||(Lt=(Lt=wt(Te))==s?l:Lt),Dt||(Ut=(Ut=wt(Be))==s?l:Ut);var ur=Lt==l&&!L(Te),Rr=Ut==l&&!L(Be),cn=Lt==Ut;if(cn&&!ur)return Ye||(Ye=new _e),Tt||sr(Te)?Ht(Te,Be,yt,ut,dt,Ye):(function(Mt,Ft,ai,Gi,Wa,Wr,Bn){switch(ai){case"[object DataView]":if(Mt.byteLength!=Ft.byteLength||Mt.byteOffset!=Ft.byteOffset)return!1;Mt=Mt.buffer,Ft=Ft.buffer;case"[object ArrayBuffer]":return!(Mt.byteLength!=Ft.byteLength||!Gi(new H(Mt),new H(Ft)));case"[object Boolean]":case"[object Date]":case"[object Number]":return Ne(+Mt,+Ft);case"[object Error]":return Mt.name==Ft.name&&Mt.message==Ft.message;case"[object RegExp]":case"[object String]":return Mt==Ft+"";case a:var li=_;case u:var Is=2&Wr;if(li||(li=R),Mt.size!=Ft.size&&!Is)return!1;var $a=Bn.get(Mt);if($a)return $a==Ft;Wr|=1,Bn.set(Mt,Ft);var Io=Ht(li(Mt),li(Ft),Gi,Wa,Wr,Bn);return Bn.delete(Mt),Io;case"[object Symbol]":if(ue)return ue.call(Mt)==ue.call(Ft)}return!1})(Te,Be,Lt,yt,ut,dt,Ye);if(!(2&dt)){var Hi=ur&&j.call(Te,"__wrapped__"),Do=Rr&&j.call(Be,"__wrapped__");if(Hi||Do){var Mo=Hi?Te.value():Te,Po=Do?Be.value():Be;return Ye||(Ye=new _e),yt(Mo,Po,ut,dt,Ye)}}return cn?(Ye||(Ye=new _e),(function(Mt,Ft,ai,Gi,Wa,Wr){var Bn=2&Wa,li=ar(Mt),Is=li.length,$a=ar(Ft).length;if(Is!=$a&&!Bn)return!1;for(var Io=Is;Io--;){var ui=li[Io];if(!(Bn?ui in Ft:j.call(Ft,ui)))return!1}var Up=Wr.get(Mt);if(Up&&Wr.get(Ft))return Up==Ft;var Ua=!0;Wr.set(Mt,Ft),Wr.set(Ft,Mt);for(var Yc=Bn;++Io<Is;){ui=li[Io];var Ka=Mt[ui],qa=Ft[ui];if(Gi)var Kp=Bn?Gi(qa,Ka,ui,Ft,Mt,Wr):Gi(Ka,qa,ui,Mt,Ft,Wr);if(!(Kp===void 0?Ka===qa||ai(Ka,qa,Gi,Wa,Wr):Kp)){Ua=!1;break}Yc||(Yc=ui=="constructor")}if(Ua&&!Yc){var Ja=Mt.constructor,Ya=Ft.constructor;Ja==Ya||!("constructor"in Mt)||!("constructor"in Ft)||typeof Ja=="function"&&Ja instanceof Ja&&typeof Ya=="function"&&Ya instanceof Ya||(Ua=!1)}return Wr.delete(Mt),Wr.delete(Ft),Ua})(Te,Be,yt,ut,dt,Ye)):!1})(le,fe,St,Ce,Ee,ze))}function We(le){return!(!ct(le)||(function(fe){return!!B&&B in fe})(le))&&(ot(le)||L(le)?G:m).test(he(le))}function bt(le){return typeof le=="function"?le:le==null?Br:typeof le=="object"?Je(le)?(function(Ee,ze){return tt(Ee)&&kt(ze)?Bt(de(Ee),ze):function(Te){var Be=(function(yt,ut,dt){var Ye=yt==null?void 0:He(yt,ut);return Ye===void 0?dt:Ye})(Te,Ee);return Be===void 0&&Be===ze?(function(yt,ut){return yt!=null&&(function(dt,Ye,Tt){Ye=tt(Ye,dt)?[Ye]:Ze(Ye);for(var Dt,Lt=-1,Ut=Ye.length;++Lt<Ut;){var ur=de(Ye[Lt]);if(!(Dt=dt!=null&&Tt(dt,ur)))break;dt=dt[ur]}return Dt||!!(Ut=dt?dt.length:0)&&nt(Ut)&&It(ur,Ut)&&(Je(dt)||rt(dt))})(yt,ut,ht)})(Te,Ee):St(ze,Be,void 0,3)}})(le[0],le[1]):(function(Ee){var ze=(function(Te){for(var Be=ar(Te),yt=Be.length;yt--;){var ut=Be[yt],dt=Te[ut];Be[yt]=[ut,dt,kt(dt)]}return Be})(Ee);return ze.length==1&&ze[0][2]?Bt(ze[0][0],ze[0][1]):function(Te){return Te===Ee||(function(Be,yt,ut,dt){var Ye=ut.length,Tt=Ye;if(Be==null)return!Tt;for(Be=Object(Be);Ye--;){var Dt=ut[Ye];if(Dt[2]?Dt[1]!==Be[Dt[0]]:!(Dt[0]in Be))return!1}for(;++Ye<Tt;){var Lt=(Dt=ut[Ye])[0],Ut=Be[Lt],ur=Dt[1];if(Dt[2]){if(Ut===void 0&&!(Lt in Be))return!1}else{var Rr=new _e,cn;if(!(cn===void 0?St(ur,Ut,dt,3,Rr):cn))return!1}}return!0})(Te,Ee,ze)}})(le):tt(fe=le)?(Ce=de(fe),function(Ee){return Ee?.[Ce]}):(function(Ee){return function(ze){return He(ze,Ee)}})(fe);var fe,Ce}function at(le){if(Ce=(fe=le)&&fe.constructor,Ee=typeof Ce=="function"&&Ce.prototype||A,fe!==Ee)return J(le);var fe,Ce,Ee,ze=[];for(var Te in Object(le))j.call(le,Te)&&Te!="constructor"&&ze.push(Te);return ze}function Ze(le){return Je(le)?le:st(le)}function Ht(le,fe,Ce,Ee,ze,Te){var Be=2&ze,yt=le.length,ut=fe.length;if(yt!=ut&&!(Be&&ut>yt))return!1;var dt=Te.get(le);if(dt&&Te.get(fe))return dt==fe;var Ye=-1,Tt=!0,Dt=1&ze?new Re:void 0;for(Te.set(le,fe),Te.set(fe,le);++Ye<yt;){var Lt=le[Ye],Ut=fe[Ye];if(Ee)var ur=Be?Ee(Ut,Lt,Ye,fe,le,Te):Ee(Lt,Ut,Ye,le,fe,Te);if(ur!==void 0){if(ur)continue;Tt=!1;break}if(Dt){if(!z(fe,(function(Rr,cn){if(!Dt.has(cn)&&(Lt===Rr||Ce(Lt,Rr,Ee,ze,Te)))return Dt.add(cn)}))){Tt=!1;break}}else if(Lt!==Ut&&!Ce(Lt,Ut,Ee,ze,Te)){Tt=!1;break}}return Te.delete(le),Te.delete(fe),Tt}function xt(le,fe){var Ce,Ee,ze=le.__data__;return((Ee=typeof(Ce=fe))=="string"||Ee=="number"||Ee=="symbol"||Ee=="boolean"?Ce!=="__proto__":Ce===null)?ze[typeof fe=="string"?"string":"hash"]:ze.map}function Xe(le,fe){var Ce=(function(Ee,ze){return Ee?.[ze]})(le,fe);return We(Ce)?Ce:void 0}var wt=function(le){return K.call(le)};function It(le,fe){return!!(fe=fe??9007199254740991)&&(typeof le=="number"||p.test(le))&&le>-1&&le%1==0&&le<fe}function tt(le,fe){if(Je(le))return!1;var Ce=typeof le;return!(Ce!="number"&&Ce!="symbol"&&Ce!="boolean"&&le!=null&&!jt(le))||f.test(le)||!c.test(le)||fe!=null&&le in Object(fe)}function kt(le){return le==le&&!ct(le)}function Bt(le,fe){return function(Ce){return Ce!=null&&Ce[le]===fe&&(fe!==void 0||le in Object(Ce))}}(Q&&wt(new Q(new ArrayBuffer(1)))!="[object DataView]"||ee&&wt(new ee)!=a||W&&wt(W.resolve())!="[object Promise]"||ne&&wt(new ne)!=u||re&&wt(new re)!="[object WeakMap]")&&(wt=function(le){var fe=K.call(le),Ce=fe==l?le.constructor:void 0,Ee=Ce?he(Ce):void 0;if(Ee)switch(Ee){case X:return"[object DataView]";case te:return a;case se:return"[object Promise]";case oe:return u;case ie:return"[object WeakMap]"}return fe});var st=qe((function(le){var fe;le=(fe=le)==null?"":(function(Ee){if(typeof Ee=="string")return Ee;if(jt(Ee))return ce?ce.call(Ee):"";var ze=Ee+"";return ze=="0"&&1/Ee==-1/0?"-0":ze})(fe);var Ce=[];return d.test(le)&&Ce.push(""),le.replace(h,(function(Ee,ze,Te,Be){Ce.push(Te?Be.replace(g,"$1"):ze||Ee)})),Ce}));function de(le){if(typeof le=="string"||jt(le))return le;var fe=le+"";return fe=="0"&&1/le==-1/0?"-0":fe}function he(le){if(le!=null){try{return V.call(le)}catch{}try{return le+""}catch{}}return""}var we,Ie=(we=function(le,fe,Ce){j.call(le,Ce)?le[Ce].push(fe):le[Ce]=[fe]},function(le,fe){var Ce=Je(le)?O:Fe,Ee={};return Ce(le,we,bt(fe),Ee)});function qe(le,fe){if(typeof le!="function"||fe&&typeof fe!="function")throw new TypeError("Expected a function");var Ce=function(){var Ee=arguments,ze=fe?fe.apply(this,Ee):Ee[0],Te=Ce.cache;if(Te.has(ze))return Te.get(ze);var Be=le.apply(this,Ee);return Ce.cache=Te.set(ze,Be),Be};return Ce.cache=new(qe.Cache||ge),Ce}function Ne(le,fe){return le===fe||le!=le&&fe!=fe}function rt(le){return(function(fe){return Qt(fe)&&$e(fe)})(le)&&j.call(le,"callee")&&(!N.call(le,"callee")||K.call(le)==s)}qe.Cache=ge;var Je=Array.isArray;function $e(le){return le!=null&&nt(le.length)&&!ot(le)}function ot(le){var fe=ct(le)?K.call(le):"";return fe=="[object Function]"||fe=="[object GeneratorFunction]"}function nt(le){return typeof le=="number"&&le>-1&&le%1==0&&le<=9007199254740991}function ct(le){var fe=typeof le;return!!le&&(fe=="object"||fe=="function")}function Qt(le){return!!le&&typeof le=="object"}function jt(le){return typeof le=="symbol"||Qt(le)&&K.call(le)=="[object Symbol]"}var sr=P?(function(le){return function(fe){return le(fe)}})(P):function(le){return Qt(le)&&nt(le.length)&&!!y[K.call(le)]};function ar(le){return $e(le)?Ae(le):at(le)}function Br(le){return le}n.exports=Ie}).call(this)}).call(this,typeof lt<"u"?lt:typeof self<"u"?self:typeof window<"u"?window:{})},{}],444:[function(r,n,i){var o=Object.prototype.toString;n.exports=function(s){return s===!0||s===!1||(function(a){return!!a&&typeof a=="object"})(s)&&o.call(s)=="[object Boolean]"}},{}],445:[function(r,n,i){(function(o){(function(){var s="[object Arguments]",a="[object Map]",l="[object Object]",u="[object Set]",c=/^\[object .+?Constructor\]$/,f=/^(?:0|[1-9]\d*)$/,d={};d["[object Float32Array]"]=d["[object Float64Array]"]=d["[object Int8Array]"]=d["[object Int16Array]"]=d["[object Int32Array]"]=d["[object Uint8Array]"]=d["[object Uint8ClampedArray]"]=d["[object Uint16Array]"]=d["[object Uint32Array]"]=!0,d[s]=d["[object Array]"]=d["[object ArrayBuffer]"]=d["[object Boolean]"]=d["[object DataView]"]=d["[object Date]"]=d["[object Error]"]=d["[object Function]"]=d[a]=d["[object Number]"]=d[l]=d["[object RegExp]"]=d[u]=d["[object String]"]=d["[object WeakMap]"]=!1;var h=typeof o=="object"&&o&&o.Object===Object&&o,g=typeof self=="object"&&self&&self.Object===Object&&self,m=h||g||Function("return this")(),p=typeof i=="object"&&i&&!i.nodeType&&i,y=p&&typeof n=="object"&&n&&!n.nodeType&&n,b=y&&y.exports===p,v=b&&h.process,F=(function(){try{return v&&v.binding&&v.binding("util")}catch{}})(),E=F&&F.isTypedArray;function T(de,he){for(var we=-1,Ie=de==null?0:de.length;++we<Ie;)if(he(de[we],we,de))return!0;return!1}function I(de){var he=-1,we=Array(de.size);return de.forEach((function(Ie,qe){we[++he]=[qe,Ie]})),we}function M(de){var he=-1,we=Array(de.size);return de.forEach((function(Ie){we[++he]=Ie})),we}var P,O,z,L=Array.prototype,_=Function.prototype,R=Object.prototype,k=m["__core-js_shared__"],S=_.toString,w=R.hasOwnProperty,C=(P=/[^.]+$/.exec(k&&k.keys&&k.keys.IE_PROTO||""))?"Symbol(src)_1."+P:"",x=R.toString,A=RegExp("^"+S.call(w).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),D=b?m.Buffer:void 0,B=m.Symbol,V=m.Uint8Array,j=R.propertyIsEnumerable,K=L.splice,G=B?B.toStringTag:void 0,Y=Object.getOwnPropertySymbols,H=D?D.isBuffer:void 0,N=(O=Object.keys,z=Object,function(de){return O(z(de))}),$=ht(m,"DataView"),J=ht(m,"Map"),Q=ht(m,"Promise"),ee=ht(m,"Set"),W=ht(m,"WeakMap"),ne=ht(Object,"create"),re=at($),q=at(J),X=at(Q),te=at(ee),se=at(W),oe=B?B.prototype:void 0,ie=oe?oe.valueOf:void 0;function ae(de){var he=-1,we=de==null?0:de.length;for(this.clear();++he<we;){var Ie=de[he];this.set(Ie[0],Ie[1])}}function ue(de){var he=-1,we=de==null?0:de.length;for(this.clear();++he<we;){var Ie=de[he];this.set(Ie[0],Ie[1])}}function ce(de){var he=-1,we=de==null?0:de.length;for(this.clear();++he<we;){var Ie=de[he];this.set(Ie[0],Ie[1])}}function pe(de){var he=-1,we=de==null?0:de.length;for(this.__data__=new ce;++he<we;)this.add(de[he])}function ye(de){var he=this.__data__=new ue(de);this.size=he.size}function ge(de,he){var we=xt(de),Ie=!we&&Ht(de),qe=!we&&!Ie&&Xe(de),Ne=!we&&!Ie&&!qe&&Bt(de),rt=we||Ie||qe||Ne,Je=rt?(function(nt,ct){for(var Qt=-1,jt=Array(nt);++Qt<nt;)jt[Qt]=ct(Qt);return jt})(de.length,String):[],$e=Je.length;for(var ot in de)!w.call(de,ot)||rt&&(ot=="length"||qe&&(ot=="offset"||ot=="parent")||Ne&&(ot=="buffer"||ot=="byteLength"||ot=="byteOffset")||bt(ot,$e))||Je.push(ot);return Je}function Re(de,he){for(var we=de.length;we--;)if(Ze(de[we][0],he))return we;return-1}function _e(de){return de==null?de===void 0?"[object Undefined]":"[object Null]":G&&G in Object(de)?(function(he){var we=w.call(he,G),Ie=he[G];try{he[G]=void 0;var qe=!0}catch{}var Ne=x.call(he);return qe&&(we?he[G]=Ie:delete he[G]),Ne})(de):(function(he){return x.call(he)})(de)}function Ae(de){return kt(de)&&_e(de)==s}function De(de,he,we,Ie,qe){return de===he||(de==null||he==null||!kt(de)&&!kt(he)?de!=de&&he!=he:(function(Ne,rt,Je,$e,ot,nt){var ct=xt(Ne),Qt=xt(rt),jt=ct?"[object Array]":We(Ne),sr=Qt?"[object Array]":We(rt),ar=(jt=jt==s?l:jt)==l,Br=(sr=sr==s?l:sr)==l,le=jt==sr;if(le&&Xe(Ne)){if(!Xe(rt))return!1;ct=!0,ar=!1}if(le&&!ar)return nt||(nt=new ye),ct||Bt(Ne)?Pe(Ne,rt,Je,$e,ot,nt):(function(Te,Be,yt,ut,dt,Ye,Tt){switch(yt){case"[object DataView]":if(Te.byteLength!=Be.byteLength||Te.byteOffset!=Be.byteOffset)return!1;Te=Te.buffer,Be=Be.buffer;case"[object ArrayBuffer]":return!(Te.byteLength!=Be.byteLength||!Ye(new V(Te),new V(Be)));case"[object Boolean]":case"[object Date]":case"[object Number]":return Ze(+Te,+Be);case"[object Error]":return Te.name==Be.name&&Te.message==Be.message;case"[object RegExp]":case"[object String]":return Te==Be+"";case a:var Dt=I;case u:var Lt=1&ut;if(Dt||(Dt=M),Te.size!=Be.size&&!Lt)return!1;var Ut=Tt.get(Te);if(Ut)return Ut==Be;ut|=2,Tt.set(Te,Be);var ur=Pe(Dt(Te),Dt(Be),ut,dt,Ye,Tt);return Tt.delete(Te),ur;case"[object Symbol]":if(ie)return ie.call(Te)==ie.call(Be)}return!1})(Ne,rt,jt,Je,$e,ot,nt);if(!(1&Je)){var fe=ar&&w.call(Ne,"__wrapped__"),Ce=Br&&w.call(rt,"__wrapped__");if(fe||Ce){var Ee=fe?Ne.value():Ne,ze=Ce?rt.value():rt;return nt||(nt=new ye),ot(Ee,ze,Je,$e,nt)}}return le?(nt||(nt=new ye),(function(Te,Be,yt,ut,dt,Ye){var Tt=1&yt,Dt=Oe(Te),Lt=Dt.length,Ut=Oe(Be).length;if(Lt!=Ut&&!Tt)return!1;for(var ur=Lt;ur--;){var Rr=Dt[ur];if(!(Tt?Rr in Be:w.call(Be,Rr)))return!1}var cn=Ye.get(Te);if(cn&&Ye.get(Be))return cn==Be;var Hi=!0;Ye.set(Te,Be),Ye.set(Be,Te);for(var Do=Tt;++ur<Lt;){Rr=Dt[ur];var Mo=Te[Rr],Po=Be[Rr];if(ut)var Mt=Tt?ut(Po,Mo,Rr,Be,Te,Ye):ut(Mo,Po,Rr,Te,Be,Ye);if(!(Mt===void 0?Mo===Po||dt(Mo,Po,yt,ut,Ye):Mt)){Hi=!1;break}Do||(Do=Rr=="constructor")}if(Hi&&!Do){var Ft=Te.constructor,ai=Be.constructor;Ft==ai||!("constructor"in Te)||!("constructor"in Be)||typeof Ft=="function"&&Ft instanceof Ft&&typeof ai=="function"&&ai instanceof ai||(Hi=!1)}return Ye.delete(Te),Ye.delete(Be),Hi})(Ne,rt,Je,$e,ot,nt)):!1})(de,he,we,Ie,De,qe))}function Fe(de){return!(!tt(de)||(function(he){return!!C&&C in he})(de))&&(wt(de)?A:c).test(at(de))}function ke(de){if(we=(he=de)&&he.constructor,Ie=typeof we=="function"&&we.prototype||R,he!==Ie)return N(de);var he,we,Ie,qe=[];for(var Ne in Object(de))w.call(de,Ne)&&Ne!="constructor"&&qe.push(Ne);return qe}function Pe(de,he,we,Ie,qe,Ne){var rt=1&we,Je=de.length,$e=he.length;if(Je!=$e&&!(rt&&$e>Je))return!1;var ot=Ne.get(de);if(ot&&Ne.get(he))return ot==he;var nt=-1,ct=!0,Qt=2&we?new pe:void 0;for(Ne.set(de,he),Ne.set(he,de);++nt<Je;){var jt=de[nt],sr=he[nt];if(Ie)var ar=rt?Ie(sr,jt,nt,he,de,Ne):Ie(jt,sr,nt,de,he,Ne);if(ar!==void 0){if(ar)continue;ct=!1;break}if(Qt){if(!T(he,(function(Br,le){if(fe=le,!Qt.has(fe)&&(jt===Br||qe(jt,Br,we,Ie,Ne)))return Qt.push(le);var fe}))){ct=!1;break}}else if(jt!==sr&&!qe(jt,sr,we,Ie,Ne)){ct=!1;break}}return Ne.delete(de),Ne.delete(he),ct}function Oe(de){return(function(he,we,Ie){var qe=we(he);return xt(he)?qe:(function(Ne,rt){for(var Je=-1,$e=rt.length,ot=Ne.length;++Je<$e;)Ne[ot+Je]=rt[Je];return Ne})(qe,Ie(he))})(de,st,St)}function He(de,he){var we,Ie,qe=de.__data__;return((Ie=typeof(we=he))=="string"||Ie=="number"||Ie=="symbol"||Ie=="boolean"?we!=="__proto__":we===null)?qe[typeof he=="string"?"string":"hash"]:qe.map}function ht(de,he){var we=(function(Ie,qe){return Ie?.[qe]})(de,he);return Fe(we)?we:void 0}ae.prototype.clear=function(){this.__data__=ne?ne(null):{},this.size=0},ae.prototype.delete=function(de){var he=this.has(de)&&delete this.__data__[de];return this.size-=he?1:0,he},ae.prototype.get=function(de){var he=this.__data__;if(ne){var we=he[de];return we==="__lodash_hash_undefined__"?void 0:we}return w.call(he,de)?he[de]:void 0},ae.prototype.has=function(de){var he=this.__data__;return ne?he[de]!==void 0:w.call(he,de)},ae.prototype.set=function(de,he){var we=this.__data__;return this.size+=this.has(de)?0:1,we[de]=ne&&he===void 0?"__lodash_hash_undefined__":he,this},ue.prototype.clear=function(){this.__data__=[],this.size=0},ue.prototype.delete=function(de){var he=this.__data__,we=Re(he,de);return!(we<0)&&(we==he.length-1?he.pop():K.call(he,we,1),--this.size,!0)},ue.prototype.get=function(de){var he=this.__data__,we=Re(he,de);return we<0?void 0:he[we][1]},ue.prototype.has=function(de){return Re(this.__data__,de)>-1},ue.prototype.set=function(de,he){var we=this.__data__,Ie=Re(we,de);return Ie<0?(++this.size,we.push([de,he])):we[Ie][1]=he,this},ce.prototype.clear=function(){this.size=0,this.__data__={hash:new ae,map:new(J||ue),string:new ae}},ce.prototype.delete=function(de){var he=He(this,de).delete(de);return this.size-=he?1:0,he},ce.prototype.get=function(de){return He(this,de).get(de)},ce.prototype.has=function(de){return He(this,de).has(de)},ce.prototype.set=function(de,he){var we=He(this,de),Ie=we.size;return we.set(de,he),this.size+=we.size==Ie?0:1,this},pe.prototype.add=pe.prototype.push=function(de){return this.__data__.set(de,"__lodash_hash_undefined__"),this},pe.prototype.has=function(de){return this.__data__.has(de)},ye.prototype.clear=function(){this.__data__=new ue,this.size=0},ye.prototype.delete=function(de){var he=this.__data__,we=he.delete(de);return this.size=he.size,we},ye.prototype.get=function(de){return this.__data__.get(de)},ye.prototype.has=function(de){return this.__data__.has(de)},ye.prototype.set=function(de,he){var we=this.__data__;if(we instanceof ue){var Ie=we.__data__;if(!J||Ie.length<199)return Ie.push([de,he]),this.size=++we.size,this;we=this.__data__=new ce(Ie)}return we.set(de,he),this.size=we.size,this};var St=Y?function(de){return de==null?[]:(de=Object(de),(function(he,we){for(var Ie=-1,qe=he==null?0:he.length,Ne=0,rt=[];++Ie<qe;){var Je=he[Ie];we(Je,Ie,he)&&(rt[Ne++]=Je)}return rt})(Y(de),(function(he){return j.call(de,he)})))}:function(){return[]},We=_e;function bt(de,he){return!!(he=he??9007199254740991)&&(typeof de=="number"||f.test(de))&&de>-1&&de%1==0&&de<he}function at(de){if(de!=null){try{return S.call(de)}catch{}try{return de+""}catch{}}return""}function Ze(de,he){return de===he||de!=de&&he!=he}($&&We(new $(new ArrayBuffer(1)))!="[object DataView]"||J&&We(new J)!=a||Q&&We(Q.resolve())!="[object Promise]"||ee&&We(new ee)!=u||W&&We(new W)!="[object WeakMap]")&&(We=function(de){var he=_e(de),we=he==l?de.constructor:void 0,Ie=we?at(we):"";if(Ie)switch(Ie){case re:return"[object DataView]";case q:return a;case X:return"[object Promise]";case te:return u;case se:return"[object WeakMap]"}return he});var Ht=Ae((function(){return arguments})())?Ae:function(de){return kt(de)&&w.call(de,"callee")&&!j.call(de,"callee")},xt=Array.isArray,Xe=H||function(){return!1};function wt(de){if(!tt(de))return!1;var he=_e(de);return he=="[object Function]"||he=="[object GeneratorFunction]"||he=="[object AsyncFunction]"||he=="[object Proxy]"}function It(de){return typeof de=="number"&&de>-1&&de%1==0&&de<=9007199254740991}function tt(de){var he=typeof de;return de!=null&&(he=="object"||he=="function")}function kt(de){return de!=null&&typeof de=="object"}var Bt=E?(function(de){return function(he){return de(he)}})(E):function(de){return kt(de)&&It(de.length)&&!!d[_e(de)]};function st(de){return(he=de)!=null&&It(he.length)&&!wt(he)?ge(de):ke(de);var he}n.exports=function(de,he){return De(de,he)}}).call(this)}).call(this,typeof lt<"u"?lt:typeof self<"u"?self:typeof window<"u"?window:{})},{}],446:[function(r,n,i){(function(o){(function(){var s=typeof o=="object"&&o&&o.Object===Object&&o,a=typeof self=="object"&&self&&self.Object===Object&&self,l=s||a||Function("return this")(),u=Object.prototype,c=u.hasOwnProperty,f=u.toString,d=l.Symbol,h=d?d.toStringTag:void 0;function g(m){return m==null?m===void 0?"[object Undefined]":"[object Null]":h&&h in Object(m)?(function(p){var y=c.call(p,h),b=p[h];try{p[h]=void 0;var v=!0}catch{}var F=f.call(p);return v&&(y?p[h]=b:delete p[h]),F})(m):(function(p){return f.call(p)})(m)}n.exports=function(m){if(!(function(y){var b=typeof y;return y!=null&&(b=="object"||b=="function")})(m))return!1;var p=g(m);return p=="[object Function]"||p=="[object GeneratorFunction]"||p=="[object AsyncFunction]"||p=="[object Proxy]"}}).call(this)}).call(this,typeof lt<"u"?lt:typeof self<"u"?self:typeof window<"u"?window:{})},{}],447:[function(r,n,i){n.exports=function(o){return o==null}},{}],448:[function(r,n,i){n.exports=function(o){return o===void 0}},{}],449:[function(r,n,i){(function(o){(function(){var s=/^\[object .+?Constructor\]$/,a=typeof o=="object"&&o&&o.Object===Object&&o,l=typeof self=="object"&&self&&self.Object===Object&&self,u=a||l||Function("return this")();function c(B,V){return!!(B&&B.length)&&(function(j,K,G){if(K!=K)return(function(N,$,J,Q){for(var ee=N.length,W=J+-1;++W<ee;)if($(N[W],W,N))return W;return-1})(j,f,G);for(var Y=G-1,H=j.length;++Y<H;)if(j[Y]===K)return Y;return-1})(B,V,0)>-1}function f(B){return B!=B}function d(B,V){return B.has(V)}function h(B){var V=-1,j=Array(B.size);return B.forEach((function(K){j[++V]=K})),j}var g,m=Array.prototype,p=Function.prototype,y=Object.prototype,b=u["__core-js_shared__"],v=(g=/[^.]+$/.exec(b&&b.keys&&b.keys.IE_PROTO||""))?"Symbol(src)_1."+g:"",F=p.toString,E=y.hasOwnProperty,T=y.toString,I=RegExp("^"+F.call(E).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),M=m.splice,P=A(u,"Map"),O=A(u,"Set"),z=A(Object,"create");function L(B){var V=-1,j=B?B.length:0;for(this.clear();++V<j;){var K=B[V];this.set(K[0],K[1])}}function _(B){var V=-1,j=B?B.length:0;for(this.clear();++V<j;){var K=B[V];this.set(K[0],K[1])}}function R(B){var V=-1,j=B?B.length:0;for(this.clear();++V<j;){var K=B[V];this.set(K[0],K[1])}}function k(B){var V=-1,j=B?B.length:0;for(this.__data__=new R;++V<j;)this.add(B[V])}function S(B,V){for(var j,K,G=B.length;G--;)if((j=B[G][0])===(K=V)||j!=j&&K!=K)return G;return-1}function w(B){return!(!D(B)||(V=B,v&&v in V))&&((function(j){var K=D(j)?T.call(j):"";return K=="[object Function]"||K=="[object GeneratorFunction]"})(B)||(function(j){var K=!1;if(j!=null&&typeof j.toString!="function")try{K=!!(j+"")}catch{}return K})(B)?I:s).test((function(j){if(j!=null){try{return F.call(j)}catch{}try{return j+""}catch{}}return""})(B));var V}L.prototype.clear=function(){this.__data__=z?z(null):{}},L.prototype.delete=function(B){return this.has(B)&&delete this.__data__[B]},L.prototype.get=function(B){var V=this.__data__;if(z){var j=V[B];return j==="__lodash_hash_undefined__"?void 0:j}return E.call(V,B)?V[B]:void 0},L.prototype.has=function(B){var V=this.__data__;return z?V[B]!==void 0:E.call(V,B)},L.prototype.set=function(B,V){return this.__data__[B]=z&&V===void 0?"__lodash_hash_undefined__":V,this},_.prototype.clear=function(){this.__data__=[]},_.prototype.delete=function(B){var V=this.__data__,j=S(V,B);return!(j<0)&&(j==V.length-1?V.pop():M.call(V,j,1),!0)},_.prototype.get=function(B){var V=this.__data__,j=S(V,B);return j<0?void 0:V[j][1]},_.prototype.has=function(B){return S(this.__data__,B)>-1},_.prototype.set=function(B,V){var j=this.__data__,K=S(j,B);return K<0?j.push([B,V]):j[K][1]=V,this},R.prototype.clear=function(){this.__data__={hash:new L,map:new(P||_),string:new L}},R.prototype.delete=function(B){return x(this,B).delete(B)},R.prototype.get=function(B){return x(this,B).get(B)},R.prototype.has=function(B){return x(this,B).has(B)},R.prototype.set=function(B,V){return x(this,B).set(B,V),this},k.prototype.add=k.prototype.push=function(B){return this.__data__.set(B,"__lodash_hash_undefined__"),this},k.prototype.has=function(B){return this.__data__.has(B)};var C=O&&1/h(new O([,-0]))[1]==1/0?function(B){return new O(B)}:function(){};function x(B,V){var j,K,G=B.__data__;return((K=typeof(j=V))=="string"||K=="number"||K=="symbol"||K=="boolean"?j!=="__proto__":j===null)?G[typeof V=="string"?"string":"hash"]:G.map}function A(B,V){var j=(function(K,G){return K?.[G]})(B,V);return w(j)?j:void 0}function D(B){var V=typeof B;return!!B&&(V=="object"||V=="function")}n.exports=function(B){return B&&B.length?(function(V,j,K){var G=-1,Y=c,H=V.length,N=!0,$=[],J=$;if(H>=200){var Q=C(V);if(Q)return h(Q);N=!1,Y=d,J=new k}else J=$;e:for(;++G<H;){var ee=V[G],W=ee;if(ee=ee!==0?ee:0,N&&W==W){for(var ne=J.length;ne--;)if(J[ne]===W)continue e;$.push(ee)}else Y(J,W,K)||(J!==$&&J.push(W),$.push(ee))}return $})(B):[]}}).call(this)}).call(this,typeof lt<"u"?lt:typeof self<"u"?self:typeof window<"u"?window:{})},{}],450:[function(r,n,i){var o=r("inherits"),s=r("hash-base"),a=r("safe-buffer").Buffer,l=new Array(16);function u(){s.call(this,64),this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878}function c(m,p){return m<<p|m>>>32-p}function f(m,p,y,b,v,F,E){return c(m+(p&y|~p&b)+v+F|0,E)+p|0}function d(m,p,y,b,v,F,E){return c(m+(p&b|y&~b)+v+F|0,E)+p|0}function h(m,p,y,b,v,F,E){return c(m+(p^y^b)+v+F|0,E)+p|0}function g(m,p,y,b,v,F,E){return c(m+(y^(p|~b))+v+F|0,E)+p|0}o(u,s),u.prototype._update=function(){for(var m=l,p=0;p<16;++p)m[p]=this._block.readInt32LE(4*p);var y=this._a,b=this._b,v=this._c,F=this._d;y=f(y,b,v,F,m[0],3614090360,7),F=f(F,y,b,v,m[1],3905402710,12),v=f(v,F,y,b,m[2],606105819,17),b=f(b,v,F,y,m[3],3250441966,22),y=f(y,b,v,F,m[4],4118548399,7),F=f(F,y,b,v,m[5],1200080426,12),v=f(v,F,y,b,m[6],2821735955,17),b=f(b,v,F,y,m[7],4249261313,22),y=f(y,b,v,F,m[8],1770035416,7),F=f(F,y,b,v,m[9],2336552879,12),v=f(v,F,y,b,m[10],4294925233,17),b=f(b,v,F,y,m[11],2304563134,22),y=f(y,b,v,F,m[12],1804603682,7),F=f(F,y,b,v,m[13],4254626195,12),v=f(v,F,y,b,m[14],2792965006,17),y=d(y,b=f(b,v,F,y,m[15],1236535329,22),v,F,m[1],4129170786,5),F=d(F,y,b,v,m[6],3225465664,9),v=d(v,F,y,b,m[11],643717713,14),b=d(b,v,F,y,m[0],3921069994,20),y=d(y,b,v,F,m[5],3593408605,5),F=d(F,y,b,v,m[10],38016083,9),v=d(v,F,y,b,m[15],3634488961,14),b=d(b,v,F,y,m[4],3889429448,20),y=d(y,b,v,F,m[9],568446438,5),F=d(F,y,b,v,m[14],3275163606,9),v=d(v,F,y,b,m[3],4107603335,14),b=d(b,v,F,y,m[8],1163531501,20),y=d(y,b,v,F,m[13],2850285829,5),F=d(F,y,b,v,m[2],4243563512,9),v=d(v,F,y,b,m[7],1735328473,14),y=h(y,b=d(b,v,F,y,m[12],2368359562,20),v,F,m[5],4294588738,4),F=h(F,y,b,v,m[8],2272392833,11),v=h(v,F,y,b,m[11],1839030562,16),b=h(b,v,F,y,m[14],4259657740,23),y=h(y,b,v,F,m[1],2763975236,4),F=h(F,y,b,v,m[4],1272893353,11),v=h(v,F,y,b,m[7],4139469664,16),b=h(b,v,F,y,m[10],3200236656,23),y=h(y,b,v,F,m[13],681279174,4),F=h(F,y,b,v,m[0],3936430074,11),v=h(v,F,y,b,m[3],3572445317,16),b=h(b,v,F,y,m[6],76029189,23),y=h(y,b,v,F,m[9],3654602809,4),F=h(F,y,b,v,m[12],3873151461,11),v=h(v,F,y,b,m[15],530742520,16),y=g(y,b=h(b,v,F,y,m[2],3299628645,23),v,F,m[0],4096336452,6),F=g(F,y,b,v,m[7],1126891415,10),v=g(v,F,y,b,m[14],2878612391,15),b=g(b,v,F,y,m[5],4237533241,21),y=g(y,b,v,F,m[12],1700485571,6),F=g(F,y,b,v,m[3],2399980690,10),v=g(v,F,y,b,m[10],4293915773,15),b=g(b,v,F,y,m[1],2240044497,21),y=g(y,b,v,F,m[8],1873313359,6),F=g(F,y,b,v,m[15],4264355552,10),v=g(v,F,y,b,m[6],2734768916,15),b=g(b,v,F,y,m[13],1309151649,21),y=g(y,b,v,F,m[4],4149444226,6),F=g(F,y,b,v,m[11],3174756917,10),v=g(v,F,y,b,m[2],718787259,15),b=g(b,v,F,y,m[9],3951481745,21),this._a=this._a+y|0,this._b=this._b+b|0,this._c=this._c+v|0,this._d=this._d+F|0},u.prototype._digest=function(){this._block[this._blockOffset++]=128,this._blockOffset>56&&(this._block.fill(0,this._blockOffset,64),this._update(),this._blockOffset=0),this._block.fill(0,this._blockOffset,56),this._block.writeUInt32LE(this._length[0],56),this._block.writeUInt32LE(this._length[1],60),this._update();var m=a.allocUnsafe(16);return m.writeInt32LE(this._a,0),m.writeInt32LE(this._b,4),m.writeInt32LE(this._c,8),m.writeInt32LE(this._d,12),m},n.exports=u},{"hash-base":425,inherits:440,"safe-buffer":494}],451:[function(r,n,i){var o=r("bn.js"),s=r("brorand");function a(l){this.rand=l||new s.Rand}n.exports=a,a.create=function(l){return new a(l)},a.prototype._randbelow=function(l){var u=l.bitLength(),c=Math.ceil(u/8);do var f=new o(this.rand.generate(c));while(f.cmp(l)>=0);return f},a.prototype._randrange=function(l,u){var c=u.sub(l);return l.add(this._randbelow(c))},a.prototype.test=function(l,u,c){var f=l.bitLength(),d=o.mont(l),h=new o(1).toRed(d);u||(u=Math.max(1,f/48|0));for(var g=l.subn(1),m=0;!g.testn(m);m++);for(var p=l.shrn(m),y=g.toRed(d);u>0;u--){var b=this._randrange(new o(2),g);c&&c(b);var v=b.toRed(d).redPow(p);if(v.cmp(h)!==0&&v.cmp(y)!==0){for(var F=1;F<m;F++){if((v=v.redSqr()).cmp(h)===0)return!1;if(v.cmp(y)===0)break}if(F===m)return!1}}return!0},a.prototype.getDivisor=function(l,u){var c=l.bitLength(),f=o.mont(l),d=new o(1).toRed(f);u||(u=Math.max(1,c/48|0));for(var h=l.subn(1),g=0;!h.testn(g);g++);for(var m=l.shrn(g),p=h.toRed(f);u>0;u--){var y=this._randrange(new o(2),h),b=l.gcd(y);if(b.cmpn(1)!==0)return b;var v=y.toRed(f).redPow(m);if(v.cmp(d)!==0&&v.cmp(p)!==0){for(var F=1;F<g;F++){if((v=v.redSqr()).cmp(d)===0)return v.fromRed().subn(1).gcd(l);if(v.cmp(p)===0)break}if(F===g)return(v=v.redSqr()).fromRed().subn(1).gcd(l)}}return!1}},{"bn.js":452,brorand:187}],452:[function(r,n,i){arguments[4][184][0].apply(i,arguments)},{buffer:188,dup:184}],453:[function(r,n,i){function o(s,a){if(!s)throw new Error(a||"Assertion failed")}n.exports=o,o.equal=function(s,a,l){if(s!=a)throw new Error(l||"Assertion failed: "+s+" != "+a)}},{}],454:[function(r,n,i){var o=i;function s(l){return l.length===1?"0"+l:l}function a(l){for(var u="",c=0;c<l.length;c++)u+=s(l[c].toString(16));return u}o.toArray=function(l,u){if(Array.isArray(l))return l.slice();if(!l)return[];var c=[];if(typeof l!="string"){for(var f=0;f<l.length;f++)c[f]=0|l[f];return c}if(u==="hex")for((l=l.replace(/[^a-z0-9]+/gi,"")).length%2!=0&&(l="0"+l),f=0;f<l.length;f+=2)c.push(parseInt(l[f]+l[f+1],16));else for(f=0;f<l.length;f++){var d=l.charCodeAt(f),h=d>>8,g=255&d;h?c.push(h,g):c.push(g)}return c},o.zero2=s,o.toHex=a,o.encode=function(l,u){return u==="hex"?a(l):l}},{}],455:[function(r,n,i){n.exports={"2.16.840.1.101.3.4.1.1":"aes-128-ecb","2.16.840.1.101.3.4.1.2":"aes-128-cbc","2.16.840.1.101.3.4.1.3":"aes-128-ofb","2.16.840.1.101.3.4.1.4":"aes-128-cfb","2.16.840.1.101.3.4.1.21":"aes-192-ecb","2.16.840.1.101.3.4.1.22":"aes-192-cbc","2.16.840.1.101.3.4.1.23":"aes-192-ofb","2.16.840.1.101.3.4.1.24":"aes-192-cfb","2.16.840.1.101.3.4.1.41":"aes-256-ecb","2.16.840.1.101.3.4.1.42":"aes-256-cbc","2.16.840.1.101.3.4.1.43":"aes-256-ofb","2.16.840.1.101.3.4.1.44":"aes-256-cfb"}},{}],456:[function(r,n,i){var o=r("asn1.js");i.certificate=r("./certificate");var s=o.define("RSAPrivateKey",(function(){this.seq().obj(this.key("version").int(),this.key("modulus").int(),this.key("publicExponent").int(),this.key("privateExponent").int(),this.key("prime1").int(),this.key("prime2").int(),this.key("exponent1").int(),this.key("exponent2").int(),this.key("coefficient").int())}));i.RSAPrivateKey=s;var a=o.define("RSAPublicKey",(function(){this.seq().obj(this.key("modulus").int(),this.key("publicExponent").int())}));i.RSAPublicKey=a;var l=o.define("SubjectPublicKeyInfo",(function(){this.seq().obj(this.key("algorithm").use(u),this.key("subjectPublicKey").bitstr())}));i.PublicKey=l;var u=o.define("AlgorithmIdentifier",(function(){this.seq().obj(this.key("algorithm").objid(),this.key("none").null_().optional(),this.key("curve").objid().optional(),this.key("params").seq().obj(this.key("p").int(),this.key("q").int(),this.key("g").int()).optional())})),c=o.define("PrivateKeyInfo",(function(){this.seq().obj(this.key("version").int(),this.key("algorithm").use(u),this.key("subjectPrivateKey").octstr())}));i.PrivateKey=c;var f=o.define("EncryptedPrivateKeyInfo",(function(){this.seq().obj(this.key("algorithm").seq().obj(this.key("id").objid(),this.key("decrypt").seq().obj(this.key("kde").seq().obj(this.key("id").objid(),this.key("kdeparams").seq().obj(this.key("salt").octstr(),this.key("iters").int())),this.key("cipher").seq().obj(this.key("algo").objid(),this.key("iv").octstr()))),this.key("subjectPrivateKey").octstr())}));i.EncryptedPrivateKey=f;var d=o.define("DSAPrivateKey",(function(){this.seq().obj(this.key("version").int(),this.key("p").int(),this.key("q").int(),this.key("g").int(),this.key("pub_key").int(),this.key("priv_key").int())}));i.DSAPrivateKey=d,i.DSAparam=o.define("DSAparam",(function(){this.int()}));var h=o.define("ECPrivateKey",(function(){this.seq().obj(this.key("version").int(),this.key("privateKey").octstr(),this.key("parameters").optional().explicit(0).use(g),this.key("publicKey").optional().explicit(1).bitstr())}));i.ECPrivateKey=h;var g=o.define("ECParameters",(function(){this.choice({namedCurve:this.objid()})}));i.signature=o.define("signature",(function(){this.seq().obj(this.key("r").int(),this.key("s").int())}))},{"./certificate":457,"asn1.js":170}],457:[function(r,n,i){var o=r("asn1.js"),s=o.define("Time",(function(){this.choice({utcTime:this.utctime(),generalTime:this.gentime()})})),a=o.define("AttributeTypeValue",(function(){this.seq().obj(this.key("type").objid(),this.key("value").any())})),l=o.define("AlgorithmIdentifier",(function(){this.seq().obj(this.key("algorithm").objid(),this.key("parameters").optional(),this.key("curve").objid().optional())})),u=o.define("SubjectPublicKeyInfo",(function(){this.seq().obj(this.key("algorithm").use(l),this.key("subjectPublicKey").bitstr())})),c=o.define("RelativeDistinguishedName",(function(){this.setof(a)})),f=o.define("RDNSequence",(function(){this.seqof(c)})),d=o.define("Name",(function(){this.choice({rdnSequence:this.use(f)})})),h=o.define("Validity",(function(){this.seq().obj(this.key("notBefore").use(s),this.key("notAfter").use(s))})),g=o.define("Extension",(function(){this.seq().obj(this.key("extnID").objid(),this.key("critical").bool().def(!1),this.key("extnValue").octstr())})),m=o.define("TBSCertificate",(function(){this.seq().obj(this.key("version").explicit(0).int().optional(),this.key("serialNumber").int(),this.key("signature").use(l),this.key("issuer").use(d),this.key("validity").use(h),this.key("subject").use(d),this.key("subjectPublicKeyInfo").use(u),this.key("issuerUniqueID").implicit(1).bitstr().optional(),this.key("subjectUniqueID").implicit(2).bitstr().optional(),this.key("extensions").explicit(3).seqof(g).optional())})),p=o.define("X509Certificate",(function(){this.seq().obj(this.key("tbsCertificate").use(m),this.key("signatureAlgorithm").use(l),this.key("signatureValue").bitstr())}));n.exports=p},{"asn1.js":170}],458:[function(r,n,i){var o=/Proc-Type: 4,ENCRYPTED[\n\r]+DEK-Info: AES-((?:128)|(?:192)|(?:256))-CBC,([0-9A-H]+)[\n\r]+([0-9A-z\n\r+/=]+)[\n\r]+/m,s=/^-----BEGIN ((?:.*? KEY)|CERTIFICATE)-----/m,a=/^-----BEGIN ((?:.*? KEY)|CERTIFICATE)-----([0-9A-z\n\r+/=]+)-----END \1-----$/m,l=r("evp_bytestokey"),u=r("browserify-aes"),c=r("safe-buffer").Buffer;n.exports=function(f,d){var h,g=f.toString(),m=g.match(o);if(m){var p="aes"+m[1],y=c.from(m[2],"hex"),b=c.from(m[3].replace(/[\r\n]/g,""),"base64"),v=l(d,y.slice(0,8),parseInt(m[1],10)).key,F=[],E=u.createDecipheriv(p,v,y);F.push(E.update(b)),F.push(E.final()),h=c.concat(F)}else{var T=g.match(a);h=c.from(T[2].replace(/[\r\n]/g,""),"base64")}return{tag:g.match(s)[1],data:h}}},{"browserify-aes":191,evp_bytestokey:423,"safe-buffer":494}],459:[function(r,n,i){var o=r("./asn1"),s=r("./aesid.json"),a=r("./fixProc"),l=r("browserify-aes"),u=r("pbkdf2"),c=r("safe-buffer").Buffer;function f(d){var h;typeof d!="object"||c.isBuffer(d)||(h=d.passphrase,d=d.key),typeof d=="string"&&(d=c.from(d));var g,m,p=a(d,h),y=p.tag,b=p.data;switch(y){case"CERTIFICATE":m=o.certificate.decode(b,"der").tbsCertificate.subjectPublicKeyInfo;case"PUBLIC KEY":switch(m||(m=o.PublicKey.decode(b,"der")),g=m.algorithm.algorithm.join(".")){case"1.2.840.113549.1.1.1":return o.RSAPublicKey.decode(m.subjectPublicKey.data,"der");case"1.2.840.10045.2.1":return m.subjectPrivateKey=m.subjectPublicKey,{type:"ec",data:m};case"1.2.840.10040.4.1":return m.algorithm.params.pub_key=o.DSAparam.decode(m.subjectPublicKey.data,"der"),{type:"dsa",data:m.algorithm.params};default:throw new Error("unknown key id "+g)}case"ENCRYPTED PRIVATE KEY":b=(function(v,F){var E=v.algorithm.decrypt.kde.kdeparams.salt,T=parseInt(v.algorithm.decrypt.kde.kdeparams.iters.toString(),10),I=s[v.algorithm.decrypt.cipher.algo.join(".")],M=v.algorithm.decrypt.cipher.iv,P=v.subjectPrivateKey,O=parseInt(I.split("-")[1],10)/8,z=u.pbkdf2Sync(F,E,T,O,"sha1"),L=l.createDecipheriv(I,z,M),_=[];return _.push(L.update(P)),_.push(L.final()),c.concat(_)})(b=o.EncryptedPrivateKey.decode(b,"der"),h);case"PRIVATE KEY":switch(g=(m=o.PrivateKey.decode(b,"der")).algorithm.algorithm.join(".")){case"1.2.840.113549.1.1.1":return o.RSAPrivateKey.decode(m.subjectPrivateKey,"der");case"1.2.840.10045.2.1":return{curve:m.algorithm.curve,privateKey:o.ECPrivateKey.decode(m.subjectPrivateKey,"der").privateKey};case"1.2.840.10040.4.1":return m.algorithm.params.priv_key=o.DSAparam.decode(m.subjectPrivateKey,"der"),{type:"dsa",params:m.algorithm.params};default:throw new Error("unknown key id "+g)}case"RSA PUBLIC KEY":return o.RSAPublicKey.decode(b,"der");case"RSA PRIVATE KEY":return o.RSAPrivateKey.decode(b,"der");case"DSA PRIVATE KEY":return{type:"dsa",params:o.DSAPrivateKey.decode(b,"der")};case"EC PRIVATE KEY":return{curve:(b=o.ECPrivateKey.decode(b,"der")).parameters.value,privateKey:b.privateKey};default:throw new Error("unknown key type "+y)}}n.exports=f,f.signature=o.signature},{"./aesid.json":455,"./asn1":456,"./fixProc":458,"browserify-aes":191,pbkdf2:460,"safe-buffer":494}],460:[function(r,n,i){i.pbkdf2=r("./lib/async"),i.pbkdf2Sync=r("./lib/sync")},{"./lib/async":461,"./lib/sync":464}],461:[function(r,n,i){(function(o){(function(){var s,a,l=r("safe-buffer").Buffer,u=r("./precondition"),c=r("./default-encoding"),f=r("./sync"),d=r("./to-buffer"),h=o.crypto&&o.crypto.subtle,g={sha:"SHA-1","sha-1":"SHA-1",sha1:"SHA-1",sha256:"SHA-256","sha-256":"SHA-256",sha384:"SHA-384","sha-384":"SHA-384","sha-512":"SHA-512",sha512:"SHA-512"},m=[];function p(){return a||(a=o.process&&o.process.nextTick?o.process.nextTick:o.queueMicrotask?o.queueMicrotask:o.setImmediate?o.setImmediate:o.setTimeout)}function y(b,v,F,E,T){return h.importKey("raw",b,{name:"PBKDF2"},!1,["deriveBits"]).then((function(I){return h.deriveBits({name:"PBKDF2",salt:v,iterations:F,hash:{name:T}},I,E<<3)})).then((function(I){return l.from(I)}))}n.exports=function(b,v,F,E,T,I){typeof T=="function"&&(I=T,T=void 0);var M=g[(T=T||"sha1").toLowerCase()];if(M&&typeof o.Promise=="function"){if(u(F,E),b=d(b,c,"Password"),v=d(v,c,"Salt"),typeof I!="function")throw new Error("No callback provided to pbkdf2");(function(P,O){P.then((function(z){p()((function(){O(null,z)}))}),(function(z){p()((function(){O(z)}))}))})((function(P){if(o.process&&!o.process.browser||!h||!h.importKey||!h.deriveBits)return Promise.resolve(!1);if(m[P]!==void 0)return m[P];var O=y(s=s||l.alloc(8),s,10,128,P).then((function(){return!0})).catch((function(){return!1}));return m[P]=O,O})(M).then((function(P){return P?y(b,v,F,E,M):f(b,v,F,E,T)})),I)}else p()((function(){var P;try{P=f(b,v,F,E,T)}catch(O){return I(O)}I(null,P)}))}}).call(this)}).call(this,typeof lt<"u"?lt:typeof self<"u"?self:typeof window<"u"?window:{})},{"./default-encoding":462,"./precondition":463,"./sync":464,"./to-buffer":465,"safe-buffer":494}],462:[function(r,n,i){(function(o,s){(function(){var a;s.process&&s.process.browser?a="utf-8":s.process&&s.process.version?a=parseInt(o.version.split(".")[0].slice(1),10)>=6?"utf-8":"binary":a="utf-8",n.exports=a}).call(this)}).call(this,r("_process"),typeof lt<"u"?lt:typeof self<"u"?self:typeof window<"u"?window:{})},{_process:467}],463:[function(r,n,i){var o=Math.pow(2,30)-1;n.exports=function(s,a){if(typeof s!="number")throw new TypeError("Iterations not a number");if(s<0)throw new TypeError("Bad iterations");if(typeof a!="number")throw new TypeError("Key length not a number");if(a<0||a>o||a!=a)throw new TypeError("Bad key length")}},{}],464:[function(r,n,i){var o=r("create-hash/md5"),s=r("ripemd160"),a=r("sha.js"),l=r("safe-buffer").Buffer,u=r("./precondition"),c=r("./default-encoding"),f=r("./to-buffer"),d=l.alloc(128),h={md5:16,sha1:20,sha224:28,sha256:32,sha384:48,sha512:64,rmd160:20,ripemd160:20};function g(m,p,y){var b=(function(M){function P(O){return a(M).update(O).digest()}return M==="rmd160"||M==="ripemd160"?function(O){return new s().update(O).digest()}:M==="md5"?o:P})(m),v=m==="sha512"||m==="sha384"?128:64;p.length>v?p=b(p):p.length<v&&(p=l.concat([p,d],v));for(var F=l.allocUnsafe(v+h[m]),E=l.allocUnsafe(v+h[m]),T=0;T<v;T++)F[T]=54^p[T],E[T]=92^p[T];var I=l.allocUnsafe(v+y+4);F.copy(I,0,0,v),this.ipad1=I,this.ipad2=F,this.opad=E,this.alg=m,this.blocksize=v,this.hash=b,this.size=h[m]}g.prototype.run=function(m,p){return m.copy(p,this.blocksize),this.hash(p).copy(this.opad,this.blocksize),this.hash(this.opad)},n.exports=function(m,p,y,b,v){u(y,b);var F=new g(v=v||"sha1",m=f(m,c,"Password"),(p=f(p,c,"Salt")).length),E=l.allocUnsafe(b),T=l.allocUnsafe(p.length+4);p.copy(T,0,0,p.length);for(var I=0,M=h[v],P=Math.ceil(b/M),O=1;O<=P;O++){T.writeUInt32BE(O,p.length);for(var z=F.run(T,F.ipad1),L=z,_=1;_<y;_++){L=F.run(L,F.ipad2);for(var R=0;R<M;R++)z[R]^=L[R]}z.copy(E,I),I+=M}return E}},{"./default-encoding":462,"./precondition":463,"./to-buffer":465,"create-hash/md5":387,ripemd160:493,"safe-buffer":494,"sha.js":498}],465:[function(r,n,i){var o=r("safe-buffer").Buffer;n.exports=function(s,a,l){if(o.isBuffer(s))return s;if(typeof s=="string")return o.from(s,a);if(ArrayBuffer.isView(s))return o.from(s.buffer);throw new TypeError(l+" must be a string, a Buffer, a typed array or a DataView")}},{"safe-buffer":494}],466:[function(r,n,i){(function(o){(function(){o===void 0||!o.version||o.version.indexOf("v0.")===0||o.version.indexOf("v1.")===0&&o.version.indexOf("v1.8.")!==0?n.exports={nextTick:function(s,a,l,u){if(typeof s!="function")throw new TypeError('"callback" argument must be a function');var c,f,d=arguments.length;switch(d){case 0:case 1:return o.nextTick(s);case 2:return o.nextTick((function(){s.call(null,a)}));case 3:return o.nextTick((function(){s.call(null,a,l)}));case 4:return o.nextTick((function(){s.call(null,a,l,u)}));default:for(c=new Array(d-1),f=0;f<c.length;)c[f++]=arguments[f];return o.nextTick((function(){s.apply(null,c)}))}}}:n.exports=o}).call(this)}).call(this,r("_process"))},{_process:467}],467:[function(r,n,i){var o,s,a=n.exports={};function l(){throw new Error("setTimeout has not been defined")}function u(){throw new Error("clearTimeout has not been defined")}function c(v){if(o===setTimeout)return setTimeout(v,0);if((o===l||!o)&&setTimeout)return o=setTimeout,setTimeout(v,0);try{return o(v,0)}catch{try{return o.call(null,v,0)}catch{return o.call(this,v,0)}}}(function(){try{o=typeof setTimeout=="function"?setTimeout:l}catch{o=l}try{s=typeof clearTimeout=="function"?clearTimeout:u}catch{s=u}})();var f,d=[],h=!1,g=-1;function m(){h&&f&&(h=!1,f.length?d=f.concat(d):g=-1,d.length&&p())}function p(){if(!h){var v=c(m);h=!0;for(var F=d.length;F;){for(f=d,d=[];++g<F;)f&&f[g].run();g=-1,F=d.length}f=null,h=!1,(function(E){if(s===clearTimeout)return clearTimeout(E);if((s===u||!s)&&clearTimeout)return s=clearTimeout,clearTimeout(E);try{s(E)}catch{try{return s.call(null,E)}catch{return s.call(this,E)}}})(v)}}function y(v,F){this.fun=v,this.array=F}function b(){}a.nextTick=function(v){var F=new Array(arguments.length-1);if(arguments.length>1)for(var E=1;E<arguments.length;E++)F[E-1]=arguments[E];d.push(new y(v,F)),d.length!==1||h||c(p)},y.prototype.run=function(){this.fun.apply(null,this.array)},a.title="browser",a.browser=!0,a.env={},a.argv=[],a.version="",a.versions={},a.on=b,a.addListener=b,a.once=b,a.off=b,a.removeListener=b,a.removeAllListeners=b,a.emit=b,a.prependListener=b,a.prependOnceListener=b,a.listeners=function(v){return[]},a.binding=function(v){throw new Error("process.binding is not supported")},a.cwd=function(){return"/"},a.chdir=function(v){throw new Error("process.chdir is not supported")},a.umask=function(){return 0}},{}],468:[function(r,n,i){i.publicEncrypt=r("./publicEncrypt"),i.privateDecrypt=r("./privateDecrypt"),i.privateEncrypt=function(o,s){return i.publicEncrypt(o,s,!0)},i.publicDecrypt=function(o,s){return i.privateDecrypt(o,s,!0)}},{"./privateDecrypt":471,"./publicEncrypt":472}],469:[function(r,n,i){var o=r("create-hash"),s=r("safe-buffer").Buffer;function a(l){var u=s.allocUnsafe(4);return u.writeUInt32BE(l,0),u}n.exports=function(l,u){for(var c,f=s.alloc(0),d=0;f.length<u;)c=a(d++),f=s.concat([f,o("sha1").update(l).update(c).digest()]);return f.slice(0,u)}},{"create-hash":386,"safe-buffer":494}],470:[function(r,n,i){arguments[4][184][0].apply(i,arguments)},{buffer:188,dup:184}],471:[function(r,n,i){var o=r("parse-asn1"),s=r("./mgf"),a=r("./xor"),l=r("bn.js"),u=r("browserify-rsa"),c=r("create-hash"),f=r("./withPublic"),d=r("safe-buffer").Buffer;n.exports=function(h,g,m){var p;p=h.padding?h.padding:m?1:4;var y,b=o(h),v=b.modulus.byteLength();if(g.length>v||new l(g).cmp(b.modulus)>=0)throw new Error("decryption error");y=m?f(new l(g),b):u(g,b);var F=d.alloc(v-y.length);if(y=d.concat([F,y],v),p===4)return(function(E,T){var I=E.modulus.byteLength(),M=c("sha1").update(d.alloc(0)).digest(),P=M.length;if(T[0]!==0)throw new Error("decryption error");var O=T.slice(1,P+1),z=T.slice(P+1),L=a(O,s(z,P)),_=a(z,s(L,I-P-1));if((function(k,S){k=d.from(k),S=d.from(S);var w=0,C=k.length;k.length!==S.length&&(w++,C=Math.min(k.length,S.length));for(var x=-1;++x<C;)w+=k[x]^S[x];return w})(M,_.slice(0,P)))throw new Error("decryption error");for(var R=P;_[R]===0;)R++;if(_[R++]!==1)throw new Error("decryption error");return _.slice(R)})(b,y);if(p===1)return(function(E,T,I){for(var M=T.slice(0,2),P=2,O=0;T[P++]!==0;)if(P>=T.length){O++;break}var z=T.slice(2,P-1);if((M.toString("hex")!=="0002"&&!I||M.toString("hex")!=="0001"&&I)&&O++,z.length<8&&O++,O)throw new Error("decryption error");return T.slice(P)})(0,y,m);if(p===3)return y;throw new Error("unknown padding")}},{"./mgf":469,"./withPublic":473,"./xor":474,"bn.js":470,"browserify-rsa":209,"create-hash":386,"parse-asn1":459,"safe-buffer":494}],472:[function(r,n,i){var o=r("parse-asn1"),s=r("randombytes"),a=r("create-hash"),l=r("./mgf"),u=r("./xor"),c=r("bn.js"),f=r("./withPublic"),d=r("browserify-rsa"),h=r("safe-buffer").Buffer;n.exports=function(g,m,p){var y;y=g.padding?g.padding:p?1:4;var b,v=o(g);if(y===4)b=(function(F,E){var T=F.modulus.byteLength(),I=E.length,M=a("sha1").update(h.alloc(0)).digest(),P=M.length,O=2*P;if(I>T-O-2)throw new Error("message too long");var z=h.alloc(T-I-O-2),L=T-P-1,_=s(P),R=u(h.concat([M,z,h.alloc(1,1),E],L),l(_,L)),k=u(_,l(R,P));return new c(h.concat([h.alloc(1),k,R],T))})(v,m);else if(y===1)b=(function(F,E,T){var I,M=E.length,P=F.modulus.byteLength();if(M>P-11)throw new Error("message too long");return I=T?h.alloc(P-M-3,255):(function(O){for(var z,L=h.allocUnsafe(O),_=0,R=s(2*O),k=0;_<O;)k===R.length&&(R=s(2*O),k=0),(z=R[k++])&&(L[_++]=z);return L})(P-M-3),new c(h.concat([h.from([0,T?1:2]),I,h.alloc(1),E],P))})(v,m,p);else{if(y!==3)throw new Error("unknown padding");if((b=new c(m)).cmp(v.modulus)>=0)throw new Error("data too long for modulus")}return p?d(b,v):f(b,v)}},{"./mgf":469,"./withPublic":473,"./xor":474,"bn.js":470,"browserify-rsa":209,"create-hash":386,"parse-asn1":459,randombytes:475,"safe-buffer":494}],473:[function(r,n,i){var o=r("bn.js"),s=r("safe-buffer").Buffer;n.exports=function(a,l){return s.from(a.toRed(o.mont(l.modulus)).redPow(new o(l.publicExponent)).fromRed().toArray())}},{"bn.js":470,"safe-buffer":494}],474:[function(r,n,i){n.exports=function(o,s){for(var a=o.length,l=-1;++l<a;)o[l]^=s[l];return o}},{}],475:[function(r,n,i){(function(o,s){(function(){var a=r("safe-buffer").Buffer,l=s.crypto||s.msCrypto;l&&l.getRandomValues?n.exports=function(u,c){if(u>4294967295)throw new RangeError("requested too many random bytes");var f=a.allocUnsafe(u);if(u>0)if(u>65536)for(var d=0;d<u;d+=65536)l.getRandomValues(f.slice(d,d+65536));else l.getRandomValues(f);return typeof c=="function"?o.nextTick((function(){c(null,f)})):f}:n.exports=function(){throw new Error(`Secure random number generation is not supported by this browser.
Use Chrome, Firefox or Internet Explorer 11`)}}).call(this)}).call(this,r("_process"),typeof lt<"u"?lt:typeof self<"u"?self:typeof window<"u"?window:{})},{_process:467,"safe-buffer":494}],476:[function(r,n,i){(function(o,s){(function(){function a(){throw new Error(`secure random number generation not supported by this browser
use chrome, FireFox or Internet Explorer 11`)}var l=r("safe-buffer"),u=r("randombytes"),c=l.Buffer,f=l.kMaxLength,d=s.crypto||s.msCrypto,h=Math.pow(2,32)-1;function g(y,b){if(typeof y!="number"||y!=y)throw new TypeError("offset must be a number");if(y>h||y<0)throw new TypeError("offset must be a uint32");if(y>f||y>b)throw new RangeError("offset out of range")}function m(y,b,v){if(typeof y!="number"||y!=y)throw new TypeError("size must be a number");if(y>h||y<0)throw new TypeError("size must be a uint32");if(y+b>v||y>f)throw new RangeError("buffer too small")}function p(y,b,v,F){if(o.browser){var E=y.buffer,T=new Uint8Array(E,b,v);return d.getRandomValues(T),F?void o.nextTick((function(){F(null,y)})):y}if(!F)return u(v).copy(y,b),y;u(v,(function(I,M){if(I)return F(I);M.copy(y,b),F(null,y)}))}d&&d.getRandomValues||!o.browser?(i.randomFill=function(y,b,v,F){if(!(c.isBuffer(y)||y instanceof s.Uint8Array))throw new TypeError('"buf" argument must be a Buffer or Uint8Array');if(typeof b=="function")F=b,b=0,v=y.length;else if(typeof v=="function")F=v,v=y.length-b;else if(typeof F!="function")throw new TypeError('"cb" argument must be a function');return g(b,y.length),m(v,b,y.length),p(y,b,v,F)},i.randomFillSync=function(y,b,v){if(b===void 0&&(b=0),!(c.isBuffer(y)||y instanceof s.Uint8Array))throw new TypeError('"buf" argument must be a Buffer or Uint8Array');return g(b,y.length),v===void 0&&(v=y.length-b),m(v,b,y.length),p(y,b,v)}):(i.randomFill=a,i.randomFillSync=a)}).call(this)}).call(this,r("_process"),typeof lt<"u"?lt:typeof self<"u"?self:typeof window<"u"?window:{})},{_process:467,randombytes:475,"safe-buffer":494}],477:[function(r,n,i){var o={};function s(l,u,c){c||(c=Error);var f=(function(d){var h,g;function m(p,y,b){return d.call(this,(function(v,F,E){return typeof u=="string"?u:u(v,F,E)})(p,y,b))||this}return g=d,(h=m).prototype=Object.create(g.prototype),h.prototype.constructor=h,h.__proto__=g,m})(c);f.prototype.name=c.name,f.prototype.code=l,o[l]=f}function a(l,u){if(Array.isArray(l)){var c=l.length;return l=l.map((function(f){return String(f)})),c>2?"one of ".concat(u," ").concat(l.slice(0,c-1).join(", "),", or ")+l[c-1]:c===2?"one of ".concat(u," ").concat(l[0]," or ").concat(l[1]):"of ".concat(u," ").concat(l[0])}return"of ".concat(u," ").concat(String(l))}s("ERR_INVALID_OPT_VALUE",(function(l,u){return'The value "'+u+'" is invalid for option "'+l+'"'}),TypeError),s("ERR_INVALID_ARG_TYPE",(function(l,u,c){var f,d,h;if(typeof u=="string"&&(d="not ",u.substr(0,d.length)===d)?(f="must not be",u=u.replace(/^not /,"")):f="must be",(function(m,p,y){return(y===void 0||y>m.length)&&(y=m.length),m.substring(y-p.length,y)===p})(l," argument"))h="The ".concat(l," ").concat(f," ").concat(a(u,"type"));else{var g=(function(m,p,y){return typeof y!="number"&&(y=0),!(y+p.length>m.length)&&m.indexOf(p,y)!==-1})(l,".")?"property":"argument";h='The "'.concat(l,'" ').concat(g," ").concat(f," ").concat(a(u,"type"))}return h+=". Received type ".concat(typeof c)}),TypeError),s("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF"),s("ERR_METHOD_NOT_IMPLEMENTED",(function(l){return"The "+l+" method is not implemented"})),s("ERR_STREAM_PREMATURE_CLOSE","Premature close"),s("ERR_STREAM_DESTROYED",(function(l){return"Cannot call "+l+" after a stream was destroyed"})),s("ERR_MULTIPLE_CALLBACK","Callback called multiple times"),s("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable"),s("ERR_STREAM_WRITE_AFTER_END","write after end"),s("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError),s("ERR_UNKNOWN_ENCODING",(function(l){return"Unknown encoding: "+l}),TypeError),s("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event"),n.exports.codes=o},{}],478:[function(r,n,i){(function(o){(function(){var s=Object.keys||function(m){var p=[];for(var y in m)p.push(y);return p};n.exports=d;var a=r("./_stream_readable"),l=r("./_stream_writable");r("inherits")(d,a);for(var u=s(l.prototype),c=0;c<u.length;c++){var f=u[c];d.prototype[f]||(d.prototype[f]=l.prototype[f])}function d(m){if(!(this instanceof d))return new d(m);a.call(this,m),l.call(this,m),this.allowHalfOpen=!0,m&&(m.readable===!1&&(this.readable=!1),m.writable===!1&&(this.writable=!1),m.allowHalfOpen===!1&&(this.allowHalfOpen=!1,this.once("end",h)))}function h(){this._writableState.ended||o.nextTick(g,this)}function g(m){m.end()}Object.defineProperty(d.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Object.defineProperty(d.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(d.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}}),Object.defineProperty(d.prototype,"destroyed",{enumerable:!1,get:function(){return this._readableState!==void 0&&this._writableState!==void 0&&this._readableState.destroyed&&this._writableState.destroyed},set:function(m){this._readableState!==void 0&&this._writableState!==void 0&&(this._readableState.destroyed=m,this._writableState.destroyed=m)}})}).call(this)}).call(this,r("_process"))},{"./_stream_readable":480,"./_stream_writable":482,_process:467,inherits:440}],479:[function(r,n,i){n.exports=s;var o=r("./_stream_transform");function s(a){if(!(this instanceof s))return new s(a);o.call(this,a)}r("inherits")(s,o),s.prototype._transform=function(a,l,u){u(null,a)}},{"./_stream_transform":481,inherits:440}],480:[function(r,n,i){(function(o,s){(function(){var a;n.exports=L,L.ReadableState=z,r("events").EventEmitter;var l=function(H,N){return H.listeners(N).length},u=r("./internal/streams/stream"),c=r("buffer").Buffer,f=(s!==void 0?s:typeof window<"u"?window:typeof self<"u"?self:{}).Uint8Array||function(){},d,h=r("util");d=h&&h.debuglog?h.debuglog("stream"):function(){};var g,m,p,y=r("./internal/streams/buffer_list"),b=r("./internal/streams/destroy"),v=r("./internal/streams/state").getHighWaterMark,F=r("../errors").codes,E=F.ERR_INVALID_ARG_TYPE,T=F.ERR_STREAM_PUSH_AFTER_EOF,I=F.ERR_METHOD_NOT_IMPLEMENTED,M=F.ERR_STREAM_UNSHIFT_AFTER_END_EVENT;r("inherits")(L,u);var P=b.errorOrDestroy,O=["error","close","destroy","pause","resume"];function z(H,N,$){a=a||r("./_stream_duplex"),H=H||{},typeof $!="boolean"&&($=N instanceof a),this.objectMode=!!H.objectMode,$&&(this.objectMode=this.objectMode||!!H.readableObjectMode),this.highWaterMark=v(this,H,"readableHighWaterMark",$),this.buffer=new y,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.paused=!0,this.emitClose=H.emitClose!==!1,this.autoDestroy=!!H.autoDestroy,this.destroyed=!1,this.defaultEncoding=H.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,H.encoding&&(g||(g=r("string_decoder/").StringDecoder),this.decoder=new g(H.encoding),this.encoding=H.encoding)}function L(H){if(a=a||r("./_stream_duplex"),!(this instanceof L))return new L(H);var N=this instanceof a;this._readableState=new z(H,this,N),this.readable=!0,H&&(typeof H.read=="function"&&(this._read=H.read),typeof H.destroy=="function"&&(this._destroy=H.destroy)),u.call(this)}function _(H,N,$,J,Q){d("readableAddChunk",N);var ee,W=H._readableState;if(N===null)W.reading=!1,(function(ne,re){if(d("onEofChunk"),!re.ended){if(re.decoder){var q=re.decoder.end();q&&q.length&&(re.buffer.push(q),re.length+=re.objectMode?1:q.length)}re.ended=!0,re.sync?S(ne):(re.needReadable=!1,re.emittedReadable||(re.emittedReadable=!0,w(ne)))}})(H,W);else if(Q||(ee=(function(ne,re){var q;X=re,c.isBuffer(X)||X instanceof f||typeof re=="string"||re===void 0||ne.objectMode||(q=new E("chunk",["string","Buffer","Uint8Array"],re));var X;return q})(W,N)),ee)P(H,ee);else if(W.objectMode||N&&N.length>0)if(typeof N=="string"||W.objectMode||Object.getPrototypeOf(N)===c.prototype||(N=(function(ne){return c.from(ne)})(N)),J)W.endEmitted?P(H,new M):R(H,W,N,!0);else if(W.ended)P(H,new T);else{if(W.destroyed)return!1;W.reading=!1,W.decoder&&!$?(N=W.decoder.write(N),W.objectMode||N.length!==0?R(H,W,N,!1):C(H,W)):R(H,W,N,!1)}else J||(W.reading=!1,C(H,W));return!W.ended&&(W.length<W.highWaterMark||W.length===0)}function R(H,N,$,J){N.flowing&&N.length===0&&!N.sync?(N.awaitDrain=0,H.emit("data",$)):(N.length+=N.objectMode?1:$.length,J?N.buffer.unshift($):N.buffer.push($),N.needReadable&&S(H)),C(H,N)}Object.defineProperty(L.prototype,"destroyed",{enumerable:!1,get:function(){return this._readableState!==void 0&&this._readableState.destroyed},set:function(H){this._readableState&&(this._readableState.destroyed=H)}}),L.prototype.destroy=b.destroy,L.prototype._undestroy=b.undestroy,L.prototype._destroy=function(H,N){N(H)},L.prototype.push=function(H,N){var $,J=this._readableState;return J.objectMode?$=!0:typeof H=="string"&&((N=N||J.defaultEncoding)!==J.encoding&&(H=c.from(H,N),N=""),$=!0),_(this,H,N,!1,$)},L.prototype.unshift=function(H){return _(this,H,null,!0,!1)},L.prototype.isPaused=function(){return this._readableState.flowing===!1},L.prototype.setEncoding=function(H){g||(g=r("string_decoder/").StringDecoder);var N=new g(H);this._readableState.decoder=N,this._readableState.encoding=this._readableState.decoder.encoding;for(var $=this._readableState.buffer.head,J="";$!==null;)J+=N.write($.data),$=$.next;return this._readableState.buffer.clear(),J!==""&&this._readableState.buffer.push(J),this._readableState.length=J.length,this};function k(H,N){return H<=0||N.length===0&&N.ended?0:N.objectMode?1:H!=H?N.flowing&&N.length?N.buffer.head.data.length:N.length:(H>N.highWaterMark&&(N.highWaterMark=(function($){return $>=1073741824?$=1073741824:($--,$|=$>>>1,$|=$>>>2,$|=$>>>4,$|=$>>>8,$|=$>>>16,$++),$})(H)),H<=N.length?H:N.ended?N.length:(N.needReadable=!0,0))}function S(H){var N=H._readableState;d("emitReadable",N.needReadable,N.emittedReadable),N.needReadable=!1,N.emittedReadable||(d("emitReadable",N.flowing),N.emittedReadable=!0,o.nextTick(w,H))}function w(H){var N=H._readableState;d("emitReadable_",N.destroyed,N.length,N.ended),N.destroyed||!N.length&&!N.ended||(H.emit("readable"),N.emittedReadable=!1),N.needReadable=!N.flowing&&!N.ended&&N.length<=N.highWaterMark,V(H)}function C(H,N){N.readingMore||(N.readingMore=!0,o.nextTick(x,H,N))}function x(H,N){for(;!N.reading&&!N.ended&&(N.length<N.highWaterMark||N.flowing&&N.length===0);){var $=N.length;if(d("maybeReadMore read 0"),H.read(0),$===N.length)break}N.readingMore=!1}function A(H){var N=H._readableState;N.readableListening=H.listenerCount("readable")>0,N.resumeScheduled&&!N.paused?N.flowing=!0:H.listenerCount("data")>0&&H.resume()}function D(H){d("readable nexttick read 0"),H.read(0)}function B(H,N){d("resume",N.reading),N.reading||H.read(0),N.resumeScheduled=!1,H.emit("resume"),V(H),N.flowing&&!N.reading&&H.read(0)}function V(H){var N=H._readableState;for(d("flow",N.flowing);N.flowing&&H.read()!==null;);}function j(H,N){return N.length===0?null:(N.objectMode?$=N.buffer.shift():!H||H>=N.length?($=N.decoder?N.buffer.join(""):N.buffer.length===1?N.buffer.first():N.buffer.concat(N.length),N.buffer.clear()):$=N.buffer.consume(H,N.decoder),$);var $}function K(H){var N=H._readableState;d("endReadable",N.endEmitted),N.endEmitted||(N.ended=!0,o.nextTick(G,N,H))}function G(H,N){if(d("endReadableNT",H.endEmitted,H.length),!H.endEmitted&&H.length===0&&(H.endEmitted=!0,N.readable=!1,N.emit("end"),H.autoDestroy)){var $=N._writableState;(!$||$.autoDestroy&&$.finished)&&N.destroy()}}function Y(H,N){for(var $=0,J=H.length;$<J;$++)if(H[$]===N)return $;return-1}L.prototype.read=function(H){d("read",H),H=parseInt(H,10);var N=this._readableState,$=H;if(H!==0&&(N.emittedReadable=!1),H===0&&N.needReadable&&((N.highWaterMark!==0?N.length>=N.highWaterMark:N.length>0)||N.ended))return d("read: emitReadable",N.length,N.ended),N.length===0&&N.ended?K(this):S(this),null;if((H=k(H,N))===0&&N.ended)return N.length===0&&K(this),null;var J,Q=N.needReadable;return d("need readable",Q),(N.length===0||N.length-H<N.highWaterMark)&&d("length less than watermark",Q=!0),N.ended||N.reading?d("reading or ended",Q=!1):Q&&(d("do read"),N.reading=!0,N.sync=!0,N.length===0&&(N.needReadable=!0),this._read(N.highWaterMark),N.sync=!1,N.reading||(H=k($,N))),(J=H>0?j(H,N):null)===null?(N.needReadable=N.length<=N.highWaterMark,H=0):(N.length-=H,N.awaitDrain=0),N.length===0&&(N.ended||(N.needReadable=!0),$!==H&&N.ended&&K(this)),J!==null&&this.emit("data",J),J},L.prototype._read=function(H){P(this,new I("_read()"))},L.prototype.pipe=function(H,N){var $=this,J=this._readableState;switch(J.pipesCount){case 0:J.pipes=H;break;case 1:J.pipes=[J.pipes,H];break;default:J.pipes.push(H)}J.pipesCount+=1,d("pipe count=%d opts=%j",J.pipesCount,N);var Q=(!N||N.end!==!1)&&H!==o.stdout&&H!==o.stderr?W:oe;function ee(ie,ae){d("onunpipe"),ie===$&&ae&&ae.hasUnpiped===!1&&(ae.hasUnpiped=!0,d("cleanup"),H.removeListener("close",te),H.removeListener("finish",se),H.removeListener("drain",ne),H.removeListener("error",X),H.removeListener("unpipe",ee),$.removeListener("end",W),$.removeListener("end",oe),$.removeListener("data",q),re=!0,!J.awaitDrain||H._writableState&&!H._writableState.needDrain||ne())}function W(){d("onend"),H.end()}J.endEmitted?o.nextTick(Q):$.once("end",Q),H.on("unpipe",ee);var ne=(function(ie){return function(){var ae=ie._readableState;d("pipeOnDrain",ae.awaitDrain),ae.awaitDrain&&ae.awaitDrain--,ae.awaitDrain===0&&l(ie,"data")&&(ae.flowing=!0,V(ie))}})($);H.on("drain",ne);var re=!1;function q(ie){d("ondata");var ae=H.write(ie);d("dest.write",ae),ae===!1&&((J.pipesCount===1&&J.pipes===H||J.pipesCount>1&&Y(J.pipes,H)!==-1)&&!re&&(d("false write response, pause",J.awaitDrain),J.awaitDrain++),$.pause())}function X(ie){d("onerror",ie),oe(),H.removeListener("error",X),l(H,"error")===0&&P(H,ie)}function te(){H.removeListener("finish",se),oe()}function se(){d("onfinish"),H.removeListener("close",te),oe()}function oe(){d("unpipe"),$.unpipe(H)}return $.on("data",q),(function(ie,ae,ue){if(typeof ie.prependListener=="function")return ie.prependListener(ae,ue);ie._events&&ie._events[ae]?Array.isArray(ie._events[ae])?ie._events[ae].unshift(ue):ie._events[ae]=[ue,ie._events[ae]]:ie.on(ae,ue)})(H,"error",X),H.once("close",te),H.once("finish",se),H.emit("pipe",$),J.flowing||(d("pipe resume"),$.resume()),H},L.prototype.unpipe=function(H){var N=this._readableState,$={hasUnpiped:!1};if(N.pipesCount===0)return this;if(N.pipesCount===1)return H&&H!==N.pipes||(H||(H=N.pipes),N.pipes=null,N.pipesCount=0,N.flowing=!1,H&&H.emit("unpipe",this,$)),this;if(!H){var J=N.pipes,Q=N.pipesCount;N.pipes=null,N.pipesCount=0,N.flowing=!1;for(var ee=0;ee<Q;ee++)J[ee].emit("unpipe",this,{hasUnpiped:!1});return this}var W=Y(N.pipes,H);return W===-1||(N.pipes.splice(W,1),N.pipesCount-=1,N.pipesCount===1&&(N.pipes=N.pipes[0]),H.emit("unpipe",this,$)),this},L.prototype.on=function(H,N){var $=u.prototype.on.call(this,H,N),J=this._readableState;return H==="data"?(J.readableListening=this.listenerCount("readable")>0,J.flowing!==!1&&this.resume()):H==="readable"&&(J.endEmitted||J.readableListening||(J.readableListening=J.needReadable=!0,J.flowing=!1,J.emittedReadable=!1,d("on readable",J.length,J.reading),J.length?S(this):J.reading||o.nextTick(D,this))),$},L.prototype.addListener=L.prototype.on,L.prototype.removeListener=function(H,N){var $=u.prototype.removeListener.call(this,H,N);return H==="readable"&&o.nextTick(A,this),$},L.prototype.removeAllListeners=function(H){var N=u.prototype.removeAllListeners.apply(this,arguments);return H!=="readable"&&H!==void 0||o.nextTick(A,this),N},L.prototype.resume=function(){var H=this._readableState;return H.flowing||(d("resume"),H.flowing=!H.readableListening,(function(N,$){$.resumeScheduled||($.resumeScheduled=!0,o.nextTick(B,N,$))})(this,H)),H.paused=!1,this},L.prototype.pause=function(){return d("call pause flowing=%j",this._readableState.flowing),this._readableState.flowing!==!1&&(d("pause"),this._readableState.flowing=!1,this.emit("pause")),this._readableState.paused=!0,this},L.prototype.wrap=function(H){var N=this,$=this._readableState,J=!1;for(var Q in H.on("end",(function(){if(d("wrapped end"),$.decoder&&!$.ended){var W=$.decoder.end();W&&W.length&&N.push(W)}N.push(null)})),H.on("data",(function(W){d("wrapped data"),$.decoder&&(W=$.decoder.write(W)),$.objectMode&&W==null||($.objectMode||W&&W.length)&&(N.push(W)||(J=!0,H.pause()))})),H)this[Q]===void 0&&typeof H[Q]=="function"&&(this[Q]=(function(W){return function(){return H[W].apply(H,arguments)}})(Q));for(var ee=0;ee<O.length;ee++)H.on(O[ee],this.emit.bind(this,O[ee]));return this._read=function(W){d("wrapped _read",W),J&&(J=!1,H.resume())},this},typeof Symbol=="function"&&(L.prototype[Symbol.asyncIterator]=function(){return m===void 0&&(m=r("./internal/streams/async_iterator")),m(this)}),Object.defineProperty(L.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),Object.defineProperty(L.prototype,"readableBuffer",{enumerable:!1,get:function(){return this._readableState&&this._readableState.buffer}}),Object.defineProperty(L.prototype,"readableFlowing",{enumerable:!1,get:function(){return this._readableState.flowing},set:function(H){this._readableState&&(this._readableState.flowing=H)}}),L._fromList=j,Object.defineProperty(L.prototype,"readableLength",{enumerable:!1,get:function(){return this._readableState.length}}),typeof Symbol=="function"&&(L.from=function(H,N){return p===void 0&&(p=r("./internal/streams/from")),p(L,H,N)})}).call(this)}).call(this,r("_process"),typeof lt<"u"?lt:typeof self<"u"?self:typeof window<"u"?window:{})},{"../errors":477,"./_stream_duplex":478,"./internal/streams/async_iterator":483,"./internal/streams/buffer_list":484,"./internal/streams/destroy":485,"./internal/streams/from":487,"./internal/streams/state":489,"./internal/streams/stream":490,_process:467,buffer:220,events:422,inherits:440,"string_decoder/":522,util:188}],481:[function(r,n,i){n.exports=d;var o=r("../errors").codes,s=o.ERR_METHOD_NOT_IMPLEMENTED,a=o.ERR_MULTIPLE_CALLBACK,l=o.ERR_TRANSFORM_ALREADY_TRANSFORMING,u=o.ERR_TRANSFORM_WITH_LENGTH_0,c=r("./_stream_duplex");function f(m,p){var y=this._transformState;y.transforming=!1;var b=y.writecb;if(b===null)return this.emit("error",new a);y.writechunk=null,y.writecb=null,p!=null&&this.push(p),b(m);var v=this._readableState;v.reading=!1,(v.needReadable||v.length<v.highWaterMark)&&this._read(v.highWaterMark)}function d(m){if(!(this instanceof d))return new d(m);c.call(this,m),this._transformState={afterTransform:f.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,m&&(typeof m.transform=="function"&&(this._transform=m.transform),typeof m.flush=="function"&&(this._flush=m.flush)),this.on("prefinish",h)}function h(){var m=this;typeof this._flush!="function"||this._readableState.destroyed?g(this,null,null):this._flush((function(p,y){g(m,p,y)}))}function g(m,p,y){if(p)return m.emit("error",p);if(y!=null&&m.push(y),m._writableState.length)throw new u;if(m._transformState.transforming)throw new l;return m.push(null)}r("inherits")(d,c),d.prototype.push=function(m,p){return this._transformState.needTransform=!1,c.prototype.push.call(this,m,p)},d.prototype._transform=function(m,p,y){y(new s("_transform()"))},d.prototype._write=function(m,p,y){var b=this._transformState;if(b.writecb=y,b.writechunk=m,b.writeencoding=p,!b.transforming){var v=this._readableState;(b.needTransform||v.needReadable||v.length<v.highWaterMark)&&this._read(v.highWaterMark)}},d.prototype._read=function(m){var p=this._transformState;p.writechunk===null||p.transforming?p.needTransform=!0:(p.transforming=!0,this._transform(p.writechunk,p.writeencoding,p.afterTransform))},d.prototype._destroy=function(m,p){c.prototype._destroy.call(this,m,(function(y){p(y)}))}},{"../errors":477,"./_stream_duplex":478,inherits:440}],482:[function(r,n,i){(function(o,s){(function(){function a(x){var A=this;this.next=null,this.entry=null,this.finish=function(){(function(D,B,V){var j=D.entry;for(D.entry=null;j;){var K=j.callback;B.pendingcb--,K(V),j=j.next}B.corkedRequestsFree.next=D})(A,x)}}var l;n.exports=L,L.WritableState=z;var u={deprecate:r("util-deprecate")},c=r("./internal/streams/stream"),f=r("buffer").Buffer,d=(s!==void 0?s:typeof window<"u"?window:typeof self<"u"?self:{}).Uint8Array||function(){},h,g=r("./internal/streams/destroy"),m=r("./internal/streams/state").getHighWaterMark,p=r("../errors").codes,y=p.ERR_INVALID_ARG_TYPE,b=p.ERR_METHOD_NOT_IMPLEMENTED,v=p.ERR_MULTIPLE_CALLBACK,F=p.ERR_STREAM_CANNOT_PIPE,E=p.ERR_STREAM_DESTROYED,T=p.ERR_STREAM_NULL_VALUES,I=p.ERR_STREAM_WRITE_AFTER_END,M=p.ERR_UNKNOWN_ENCODING,P=g.errorOrDestroy;function O(){}function z(x,A,D){l=l||r("./_stream_duplex"),x=x||{},typeof D!="boolean"&&(D=A instanceof l),this.objectMode=!!x.objectMode,D&&(this.objectMode=this.objectMode||!!x.writableObjectMode),this.highWaterMark=m(this,x,"writableHighWaterMark",D),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var B=x.decodeStrings===!1;this.decodeStrings=!B,this.defaultEncoding=x.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(V){(function(j,K){var G=j._writableState,Y=G.sync,H=G.writecb;if(typeof H!="function")throw new v;if((function($){$.writing=!1,$.writecb=null,$.length-=$.writelen,$.writelen=0})(G),K)(function($,J,Q,ee,W){--J.pendingcb,Q?(o.nextTick(W,ee),o.nextTick(C,$,J),$._writableState.errorEmitted=!0,P($,ee)):(W(ee),$._writableState.errorEmitted=!0,P($,ee),C($,J))})(j,G,Y,K,H);else{var N=S(G)||j.destroyed;N||G.corked||G.bufferProcessing||!G.bufferedRequest||k(j,G),Y?o.nextTick(R,j,G,N,H):R(j,G,N,H)}})(A,V)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=x.emitClose!==!1,this.autoDestroy=!!x.autoDestroy,this.bufferedRequestCount=0,this.corkedRequestsFree=new a(this)}function L(x){var A=this instanceof(l=l||r("./_stream_duplex"));if(!A&&!h.call(L,this))return new L(x);this._writableState=new z(x,this,A),this.writable=!0,x&&(typeof x.write=="function"&&(this._write=x.write),typeof x.writev=="function"&&(this._writev=x.writev),typeof x.destroy=="function"&&(this._destroy=x.destroy),typeof x.final=="function"&&(this._final=x.final)),c.call(this)}function _(x,A,D,B,V,j,K){A.writelen=B,A.writecb=K,A.writing=!0,A.sync=!0,A.destroyed?A.onwrite(new E("write")):D?x._writev(V,A.onwrite):x._write(V,j,A.onwrite),A.sync=!1}function R(x,A,D,B){D||(function(V,j){j.length===0&&j.needDrain&&(j.needDrain=!1,V.emit("drain"))})(x,A),A.pendingcb--,B(),C(x,A)}function k(x,A){A.bufferProcessing=!0;var D=A.bufferedRequest;if(x._writev&&D&&D.next){var B=A.bufferedRequestCount,V=new Array(B),j=A.corkedRequestsFree;j.entry=D;for(var K=0,G=!0;D;)V[K]=D,D.isBuf||(G=!1),D=D.next,K+=1;V.allBuffers=G,_(x,A,!0,A.length,V,"",j.finish),A.pendingcb++,A.lastBufferedRequest=null,j.next?(A.corkedRequestsFree=j.next,j.next=null):A.corkedRequestsFree=new a(A),A.bufferedRequestCount=0}else{for(;D;){var Y=D.chunk,H=D.encoding,N=D.callback;if(_(x,A,!1,A.objectMode?1:Y.length,Y,H,N),D=D.next,A.bufferedRequestCount--,A.writing)break}D===null&&(A.lastBufferedRequest=null)}A.bufferedRequest=D,A.bufferProcessing=!1}function S(x){return x.ending&&x.length===0&&x.bufferedRequest===null&&!x.finished&&!x.writing}function w(x,A){x._final((function(D){A.pendingcb--,D&&P(x,D),A.prefinished=!0,x.emit("prefinish"),C(x,A)}))}function C(x,A){var D=S(A);if(D&&((function(V,j){j.prefinished||j.finalCalled||(typeof V._final!="function"||j.destroyed?(j.prefinished=!0,V.emit("prefinish")):(j.pendingcb++,j.finalCalled=!0,o.nextTick(w,V,j)))})(x,A),A.pendingcb===0&&(A.finished=!0,x.emit("finish"),A.autoDestroy))){var B=x._readableState;(!B||B.autoDestroy&&B.endEmitted)&&x.destroy()}return D}r("inherits")(L,c),z.prototype.getBuffer=function(){for(var x=this.bufferedRequest,A=[];x;)A.push(x),x=x.next;return A},(function(){try{Object.defineProperty(z.prototype,"buffer",{get:u.deprecate((function(){return this.getBuffer()}),"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch{}})(),typeof Symbol=="function"&&Symbol.hasInstance&&typeof Function.prototype[Symbol.hasInstance]=="function"?(h=Function.prototype[Symbol.hasInstance],Object.defineProperty(L,Symbol.hasInstance,{value:function(x){return!!h.call(this,x)||this===L&&x&&x._writableState instanceof z}})):h=function(x){return x instanceof this},L.prototype.pipe=function(){P(this,new F)},L.prototype.write=function(x,A,D){var B,V=this._writableState,j=!1,K=!V.objectMode&&(B=x,f.isBuffer(B)||B instanceof d);return K&&!f.isBuffer(x)&&(x=(function(G){return f.from(G)})(x)),typeof A=="function"&&(D=A,A=null),K?A="buffer":A||(A=V.defaultEncoding),typeof D!="function"&&(D=O),V.ending?(function(G,Y){var H=new I;P(G,H),o.nextTick(Y,H)})(this,D):(K||(function(G,Y,H,N){var $;return H===null?$=new T:typeof H=="string"||Y.objectMode||($=new y("chunk",["string","Buffer"],H)),!$||(P(G,$),o.nextTick(N,$),!1)})(this,V,x,D))&&(V.pendingcb++,j=(function(G,Y,H,N,$,J){if(!H){var Q=(function(re,q,X){return re.objectMode||re.decodeStrings===!1||typeof q!="string"||(q=f.from(q,X)),q})(Y,N,$);N!==Q&&(H=!0,$="buffer",N=Q)}var ee=Y.objectMode?1:N.length;Y.length+=ee;var W=Y.length<Y.highWaterMark;if(W||(Y.needDrain=!0),Y.writing||Y.corked){var ne=Y.lastBufferedRequest;Y.lastBufferedRequest={chunk:N,encoding:$,isBuf:H,callback:J,next:null},ne?ne.next=Y.lastBufferedRequest:Y.bufferedRequest=Y.lastBufferedRequest,Y.bufferedRequestCount+=1}else _(G,Y,!1,ee,N,$,J);return W})(this,V,K,x,A,D)),j},L.prototype.cork=function(){this._writableState.corked++},L.prototype.uncork=function(){var x=this._writableState;x.corked&&(x.corked--,x.writing||x.corked||x.bufferProcessing||!x.bufferedRequest||k(this,x))},L.prototype.setDefaultEncoding=function(x){if(typeof x=="string"&&(x=x.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((x+"").toLowerCase())>-1))throw new M(x);return this._writableState.defaultEncoding=x,this},Object.defineProperty(L.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(L.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),L.prototype._write=function(x,A,D){D(new b("_write()"))},L.prototype._writev=null,L.prototype.end=function(x,A,D){var B=this._writableState;return typeof x=="function"?(D=x,x=null,A=null):typeof A=="function"&&(D=A,A=null),x!=null&&this.write(x,A),B.corked&&(B.corked=1,this.uncork()),B.ending||(function(V,j,K){j.ending=!0,C(V,j),K&&(j.finished?o.nextTick(K):V.once("finish",K)),j.ended=!0,V.writable=!1})(this,B,D),this},Object.defineProperty(L.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}}),Object.defineProperty(L.prototype,"destroyed",{enumerable:!1,get:function(){return this._writableState!==void 0&&this._writableState.destroyed},set:function(x){this._writableState&&(this._writableState.destroyed=x)}}),L.prototype.destroy=g.destroy,L.prototype._undestroy=g.undestroy,L.prototype._destroy=function(x,A){A(x)}}).call(this)}).call(this,r("_process"),typeof lt<"u"?lt:typeof self<"u"?self:typeof window<"u"?window:{})},{"../errors":477,"./_stream_duplex":478,"./internal/streams/destroy":485,"./internal/streams/state":489,"./internal/streams/stream":490,_process:467,buffer:220,inherits:440,"util-deprecate":524}],483:[function(r,n,i){(function(o){(function(){var s;function a(E,T,I){return(T=(function(M){var P=(function(O,z){if(typeof O!="object"||O===null)return O;var L=O[Symbol.toPrimitive];if(L!==void 0){var _=L.call(O,z);if(typeof _!="object")return _;throw new TypeError("@@toPrimitive must return a primitive value.")}return(z==="string"?String:Number)(O)})(M,"string");return typeof P=="symbol"?P:String(P)})(T))in E?Object.defineProperty(E,T,{value:I,enumerable:!0,configurable:!0,writable:!0}):E[T]=I,E}var l=r("./end-of-stream"),u=Symbol("lastResolve"),c=Symbol("lastReject"),f=Symbol("error"),d=Symbol("ended"),h=Symbol("lastPromise"),g=Symbol("handlePromise"),m=Symbol("stream");function p(E,T){return{value:E,done:T}}function y(E){var T=E[u];if(T!==null){var I=E[m].read();I!==null&&(E[h]=null,E[u]=null,E[c]=null,T(p(I,!1)))}}function b(E){o.nextTick(y,E)}var v=Object.getPrototypeOf((function(){})),F=Object.setPrototypeOf((a(s={get stream(){return this[m]},next:function(){var E=this,T=this[f];if(T!==null)return Promise.reject(T);if(this[d])return Promise.resolve(p(void 0,!0));if(this[m].destroyed)return new Promise((function(O,z){o.nextTick((function(){E[f]?z(E[f]):O(p(void 0,!0))}))}));var I,M=this[h];if(M)I=new Promise((function(O,z){return function(L,_){O.then((function(){z[d]?L(p(void 0,!0)):z[g](L,_)}),_)}})(M,this));else{var P=this[m].read();if(P!==null)return Promise.resolve(p(P,!1));I=new Promise(this[g])}return this[h]=I,I}},Symbol.asyncIterator,(function(){return this})),a(s,"return",(function(){var E=this;return new Promise((function(T,I){E[m].destroy(null,(function(M){M?I(M):T(p(void 0,!0))}))}))})),s),v);n.exports=function(E){var T,I=Object.create(F,(a(T={},m,{value:E,writable:!0}),a(T,u,{value:null,writable:!0}),a(T,c,{value:null,writable:!0}),a(T,f,{value:null,writable:!0}),a(T,d,{value:E._readableState.endEmitted,writable:!0}),a(T,g,{value:function(M,P){var O=I[m].read();O?(I[h]=null,I[u]=null,I[c]=null,M(p(O,!1))):(I[u]=M,I[c]=P)},writable:!0}),T));return I[h]=null,l(E,(function(M){if(M&&M.code!=="ERR_STREAM_PREMATURE_CLOSE"){var P=I[c];return P!==null&&(I[h]=null,I[u]=null,I[c]=null,P(M)),void(I[f]=M)}var O=I[u];O!==null&&(I[h]=null,I[u]=null,I[c]=null,O(p(void 0,!0))),I[d]=!0})),E.on("readable",b.bind(null,I)),I}}).call(this)}).call(this,r("_process"))},{"./end-of-stream":486,_process:467}],484:[function(r,n,i){function o(h,g){var m=Object.keys(h);if(Object.getOwnPropertySymbols){var p=Object.getOwnPropertySymbols(h);g&&(p=p.filter((function(y){return Object.getOwnPropertyDescriptor(h,y).enumerable}))),m.push.apply(m,p)}return m}function s(h){for(var g=1;g<arguments.length;g++){var m=arguments[g]!=null?arguments[g]:{};g%2?o(Object(m),!0).forEach((function(p){a(h,p,m[p])})):Object.getOwnPropertyDescriptors?Object.defineProperties(h,Object.getOwnPropertyDescriptors(m)):o(Object(m)).forEach((function(p){Object.defineProperty(h,p,Object.getOwnPropertyDescriptor(m,p))}))}return h}function a(h,g,m){return(g=u(g))in h?Object.defineProperty(h,g,{value:m,enumerable:!0,configurable:!0,writable:!0}):h[g]=m,h}function l(h,g){for(var m=0;m<g.length;m++){var p=g[m];p.enumerable=p.enumerable||!1,p.configurable=!0,"value"in p&&(p.writable=!0),Object.defineProperty(h,u(p.key),p)}}function u(h){var g=(function(m,p){if(typeof m!="object"||m===null)return m;var y=m[Symbol.toPrimitive];if(y!==void 0){var b=y.call(m,p);if(typeof b!="object")return b;throw new TypeError("@@toPrimitive must return a primitive value.")}return(p==="string"?String:Number)(m)})(h,"string");return typeof g=="symbol"?g:String(g)}var c=r("buffer").Buffer,f=r("util").inspect,d=f&&f.custom||"inspect";n.exports=(function(){function h(){(function(p,y){if(!(p instanceof y))throw new TypeError("Cannot call a class as a function")})(this,h),this.head=null,this.tail=null,this.length=0}var g,m;return g=h,(m=[{key:"push",value:function(p){var y={data:p,next:null};this.length>0?this.tail.next=y:this.head=y,this.tail=y,++this.length}},{key:"unshift",value:function(p){var y={data:p,next:this.head};this.length===0&&(this.tail=y),this.head=y,++this.length}},{key:"shift",value:function(){if(this.length!==0){var p=this.head.data;return this.length===1?this.head=this.tail=null:this.head=this.head.next,--this.length,p}}},{key:"clear",value:function(){this.head=this.tail=null,this.length=0}},{key:"join",value:function(p){if(this.length===0)return"";for(var y=this.head,b=""+y.data;y=y.next;)b+=p+y.data;return b}},{key:"concat",value:function(p){if(this.length===0)return c.alloc(0);for(var y,b,v,F=c.allocUnsafe(p>>>0),E=this.head,T=0;E;)y=E.data,b=F,v=T,c.prototype.copy.call(y,b,v),T+=E.data.length,E=E.next;return F}},{key:"consume",value:function(p,y){var b;return p<this.head.data.length?(b=this.head.data.slice(0,p),this.head.data=this.head.data.slice(p)):b=p===this.head.data.length?this.shift():y?this._getString(p):this._getBuffer(p),b}},{key:"first",value:function(){return this.head.data}},{key:"_getString",value:function(p){var y=this.head,b=1,v=y.data;for(p-=v.length;y=y.next;){var F=y.data,E=p>F.length?F.length:p;if(E===F.length?v+=F:v+=F.slice(0,p),(p-=E)==0){E===F.length?(++b,y.next?this.head=y.next:this.head=this.tail=null):(this.head=y,y.data=F.slice(E));break}++b}return this.length-=b,v}},{key:"_getBuffer",value:function(p){var y=c.allocUnsafe(p),b=this.head,v=1;for(b.data.copy(y),p-=b.data.length;b=b.next;){var F=b.data,E=p>F.length?F.length:p;if(F.copy(y,y.length-p,0,E),(p-=E)==0){E===F.length?(++v,b.next?this.head=b.next:this.head=this.tail=null):(this.head=b,b.data=F.slice(E));break}++v}return this.length-=v,y}},{key:d,value:function(p,y){return f(this,s(s({},y),{},{depth:0,customInspect:!1}))}}])&&l(g.prototype,m),Object.defineProperty(g,"prototype",{writable:!1}),h})()},{buffer:220,util:188}],485:[function(r,n,i){(function(o){(function(){function s(u,c){l(u,c),a(u)}function a(u){u._writableState&&!u._writableState.emitClose||u._readableState&&!u._readableState.emitClose||u.emit("close")}function l(u,c){u.emit("error",c)}n.exports={destroy:function(u,c){var f=this,d=this._readableState&&this._readableState.destroyed,h=this._writableState&&this._writableState.destroyed;return d||h?(c?c(u):u&&(this._writableState?this._writableState.errorEmitted||(this._writableState.errorEmitted=!0,o.nextTick(l,this,u)):o.nextTick(l,this,u)),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(u||null,(function(g){!c&&g?f._writableState?f._writableState.errorEmitted?o.nextTick(a,f):(f._writableState.errorEmitted=!0,o.nextTick(s,f,g)):o.nextTick(s,f,g):c?(o.nextTick(a,f),c(g)):o.nextTick(a,f)})),this)},undestroy:function(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finalCalled=!1,this._writableState.prefinished=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)},errorOrDestroy:function(u,c){var f=u._readableState,d=u._writableState;f&&f.autoDestroy||d&&d.autoDestroy?u.destroy(c):u.emit("error",c)}}}).call(this)}).call(this,r("_process"))},{_process:467}],486:[function(r,n,i){var o=r("../../../errors").codes.ERR_STREAM_PREMATURE_CLOSE;function s(){}n.exports=function a(l,u,c){if(typeof u=="function")return a(l,null,u);u||(u={}),c=(function(E){var T=!1;return function(){if(!T){T=!0;for(var I=arguments.length,M=new Array(I),P=0;P<I;P++)M[P]=arguments[P];E.apply(this,M)}}})(c||s);var f=u.readable||u.readable!==!1&&l.readable,d=u.writable||u.writable!==!1&&l.writable,h=function(){l.writable||m()},g=l._writableState&&l._writableState.finished,m=function(){d=!1,g=!0,f||c.call(l)},p=l._readableState&&l._readableState.endEmitted,y=function(){f=!1,p=!0,d||c.call(l)},b=function(E){c.call(l,E)},v=function(){var E;return f&&!p?(l._readableState&&l._readableState.ended||(E=new o),c.call(l,E)):d&&!g?(l._writableState&&l._writableState.ended||(E=new o),c.call(l,E)):void 0},F=function(){l.req.on("finish",m)};return(function(E){return E.setHeader&&typeof E.abort=="function"})(l)?(l.on("complete",m),l.on("abort",v),l.req?F():l.on("request",F)):d&&!l._writableState&&(l.on("end",h),l.on("close",h)),l.on("end",y),l.on("finish",m),u.error!==!1&&l.on("error",b),l.on("close",v),function(){l.removeListener("complete",m),l.removeListener("abort",v),l.removeListener("request",F),l.req&&l.req.removeListener("finish",m),l.removeListener("end",h),l.removeListener("close",h),l.removeListener("finish",m),l.removeListener("end",y),l.removeListener("error",b),l.removeListener("close",v)}}},{"../../../errors":477}],487:[function(r,n,i){n.exports=function(){throw new Error("Readable.from is not available in the browser")}},{}],488:[function(r,n,i){var o,s=r("../../../errors").codes,a=s.ERR_MISSING_ARGS,l=s.ERR_STREAM_DESTROYED;function u(g){if(g)throw g}function c(g,m,p,y){y=(function(F){var E=!1;return function(){E||(E=!0,F.apply(void 0,arguments))}})(y);var b=!1;g.on("close",(function(){b=!0})),o===void 0&&(o=r("./end-of-stream")),o(g,{readable:m,writable:p},(function(F){if(F)return y(F);b=!0,y()}));var v=!1;return function(F){if(!b&&!v)return v=!0,(function(E){return E.setHeader&&typeof E.abort=="function"})(g)?g.abort():typeof g.destroy=="function"?g.destroy():void y(F||new l("pipe"))}}function f(g){g()}function d(g,m){return g.pipe(m)}function h(g){return g.length?typeof g[g.length-1]!="function"?u:g.pop():u}n.exports=function(){for(var g=arguments.length,m=new Array(g),p=0;p<g;p++)m[p]=arguments[p];var y,b=h(m);if(Array.isArray(m[0])&&(m=m[0]),m.length<2)throw new a("streams");var v=m.map((function(F,E){var T=E<m.length-1;return c(F,T,E>0,(function(I){y||(y=I),I&&v.forEach(f),T||(v.forEach(f),b(y))}))}));return m.reduce(d)}},{"../../../errors":477,"./end-of-stream":486}],489:[function(r,n,i){var o=r("../../../errors").codes.ERR_INVALID_OPT_VALUE;n.exports={getHighWaterMark:function(s,a,l,u){var c=(function(f,d,h){return f.highWaterMark!=null?f.highWaterMark:d?f[h]:null})(a,u,l);if(c!=null){if(!isFinite(c)||Math.floor(c)!==c||c<0)throw new o(u?l:"highWaterMark",c);return Math.floor(c)}return s.objectMode?16:16384}}},{"../../../errors":477}],490:[function(r,n,i){n.exports=r("events").EventEmitter},{events:422}],491:[function(r,n,i){(i=n.exports=r("./lib/_stream_readable.js")).Stream=i,i.Readable=i,i.Writable=r("./lib/_stream_writable.js"),i.Duplex=r("./lib/_stream_duplex.js"),i.Transform=r("./lib/_stream_transform.js"),i.PassThrough=r("./lib/_stream_passthrough.js"),i.finished=r("./lib/internal/streams/end-of-stream.js"),i.pipeline=r("./lib/internal/streams/pipeline.js")},{"./lib/_stream_duplex.js":478,"./lib/_stream_passthrough.js":479,"./lib/_stream_readable.js":480,"./lib/_stream_transform.js":481,"./lib/_stream_writable.js":482,"./lib/internal/streams/end-of-stream.js":486,"./lib/internal/streams/pipeline.js":488}],492:[function(r,n,i){var o=(function(s){var a=Object.prototype,l=a.hasOwnProperty,u=Object.defineProperty||function(C,x,A){C[x]=A.value},c=typeof Symbol=="function"?Symbol:{},f=c.iterator||"@@iterator",d=c.asyncIterator||"@@asyncIterator",h=c.toStringTag||"@@toStringTag";function g(C,x,A){return Object.defineProperty(C,x,{value:A,enumerable:!0,configurable:!0,writable:!0}),C[x]}try{g({},"")}catch{g=function(x,A,D){return x[A]=D}}function m(C,x,A,D){var B=x&&x.prototype instanceof b?x:b,V=Object.create(B.prototype),j=new k(D||[]);return u(V,"_invoke",{value:z(C,A,j)}),V}function p(C,x,A){try{return{type:"normal",arg:C.call(x,A)}}catch(D){return{type:"throw",arg:D}}}s.wrap=m;var y={};function b(){}function v(){}function F(){}var E={};g(E,f,(function(){return this}));var T=Object.getPrototypeOf,I=T&&T(T(S([])));I&&I!==a&&l.call(I,f)&&(E=I);var M=F.prototype=b.prototype=Object.create(E);function P(C){["next","throw","return"].forEach((function(x){g(C,x,(function(A){return this._invoke(x,A)}))}))}function O(C,x){var A;u(this,"_invoke",{value:function(D,B){function V(){return new x((function(j,K){(function G(Y,H,N,$){var J=p(C[Y],C,H);if(J.type!=="throw"){var Q=J.arg,ee=Q.value;return ee&&typeof ee=="object"&&l.call(ee,"__await")?x.resolve(ee.__await).then((function(W){G("next",W,N,$)}),(function(W){G("throw",W,N,$)})):x.resolve(ee).then((function(W){Q.value=W,N(Q)}),(function(W){return G("throw",W,N,$)}))}$(J.arg)})(D,B,j,K)}))}return A=A?A.then(V,V):V()}})}function z(C,x,A){var D="suspendedStart";return function(B,V){if(D==="executing")throw new Error("Generator is already running");if(D==="completed"){if(B==="throw")throw V;return w()}for(A.method=B,A.arg=V;;){var j=A.delegate;if(j){var K=L(j,A);if(K){if(K===y)continue;return K}}if(A.method==="next")A.sent=A._sent=A.arg;else if(A.method==="throw"){if(D==="suspendedStart")throw D="completed",A.arg;A.dispatchException(A.arg)}else A.method==="return"&&A.abrupt("return",A.arg);D="executing";var G=p(C,x,A);if(G.type==="normal"){if(D=A.done?"completed":"suspendedYield",G.arg===y)continue;return{value:G.arg,done:A.done}}G.type==="throw"&&(D="completed",A.method="throw",A.arg=G.arg)}}}function L(C,x){var A=x.method,D=C.iterator[A];if(D===void 0)return x.delegate=null,A==="throw"&&C.iterator.return&&(x.method="return",x.arg=void 0,L(C,x),x.method==="throw")||A!=="return"&&(x.method="throw",x.arg=new TypeError("The iterator does not provide a '"+A+"' method")),y;var B=p(D,C.iterator,x.arg);if(B.type==="throw")return x.method="throw",x.arg=B.arg,x.delegate=null,y;var V=B.arg;return V?V.done?(x[C.resultName]=V.value,x.next=C.nextLoc,x.method!=="return"&&(x.method="next",x.arg=void 0),x.delegate=null,y):V:(x.method="throw",x.arg=new TypeError("iterator result is not an object"),x.delegate=null,y)}function _(C){var x={tryLoc:C[0]};1 in C&&(x.catchLoc=C[1]),2 in C&&(x.finallyLoc=C[2],x.afterLoc=C[3]),this.tryEntries.push(x)}function R(C){var x=C.completion||{};x.type="normal",delete x.arg,C.completion=x}function k(C){this.tryEntries=[{tryLoc:"root"}],C.forEach(_,this),this.reset(!0)}function S(C){if(C){var x=C[f];if(x)return x.call(C);if(typeof C.next=="function")return C;if(!isNaN(C.length)){var A=-1,D=function B(){for(;++A<C.length;)if(l.call(C,A))return B.value=C[A],B.done=!1,B;return B.value=void 0,B.done=!0,B};return D.next=D}}return{next:w}}function w(){return{value:void 0,done:!0}}return v.prototype=F,u(M,"constructor",{value:F,configurable:!0}),u(F,"constructor",{value:v,configurable:!0}),v.displayName=g(F,h,"GeneratorFunction"),s.isGeneratorFunction=function(C){var x=typeof C=="function"&&C.constructor;return!!x&&(x===v||(x.displayName||x.name)==="GeneratorFunction")},s.mark=function(C){return Object.setPrototypeOf?Object.setPrototypeOf(C,F):(C.__proto__=F,g(C,h,"GeneratorFunction")),C.prototype=Object.create(M),C},s.awrap=function(C){return{__await:C}},P(O.prototype),g(O.prototype,d,(function(){return this})),s.AsyncIterator=O,s.async=function(C,x,A,D,B){B===void 0&&(B=Promise);var V=new O(m(C,x,A,D),B);return s.isGeneratorFunction(x)?V:V.next().then((function(j){return j.done?j.value:V.next()}))},P(M),g(M,h,"Generator"),g(M,f,(function(){return this})),g(M,"toString",(function(){return"[object Generator]"})),s.keys=function(C){var x=Object(C),A=[];for(var D in x)A.push(D);return A.reverse(),function B(){for(;A.length;){var V=A.pop();if(V in x)return B.value=V,B.done=!1,B}return B.done=!0,B}},s.values=S,k.prototype={constructor:k,reset:function(C){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(R),!C)for(var x in this)x.charAt(0)==="t"&&l.call(this,x)&&!isNaN(+x.slice(1))&&(this[x]=void 0)},stop:function(){this.done=!0;var C=this.tryEntries[0].completion;if(C.type==="throw")throw C.arg;return this.rval},dispatchException:function(C){if(this.done)throw C;var x=this;function A(G,Y){return V.type="throw",V.arg=C,x.next=G,Y&&(x.method="next",x.arg=void 0),!!Y}for(var D=this.tryEntries.length-1;D>=0;--D){var B=this.tryEntries[D],V=B.completion;if(B.tryLoc==="root")return A("end");if(B.tryLoc<=this.prev){var j=l.call(B,"catchLoc"),K=l.call(B,"finallyLoc");if(j&&K){if(this.prev<B.catchLoc)return A(B.catchLoc,!0);if(this.prev<B.finallyLoc)return A(B.finallyLoc)}else if(j){if(this.prev<B.catchLoc)return A(B.catchLoc,!0)}else{if(!K)throw new Error("try statement without catch or finally");if(this.prev<B.finallyLoc)return A(B.finallyLoc)}}}},abrupt:function(C,x){for(var A=this.tryEntries.length-1;A>=0;--A){var D=this.tryEntries[A];if(D.tryLoc<=this.prev&&l.call(D,"finallyLoc")&&this.prev<D.finallyLoc){var B=D;break}}B&&(C==="break"||C==="continue")&&B.tryLoc<=x&&x<=B.finallyLoc&&(B=null);var V=B?B.completion:{};return V.type=C,V.arg=x,B?(this.method="next",this.next=B.finallyLoc,y):this.complete(V)},complete:function(C,x){if(C.type==="throw")throw C.arg;return C.type==="break"||C.type==="continue"?this.next=C.arg:C.type==="return"?(this.rval=this.arg=C.arg,this.method="return",this.next="end"):C.type==="normal"&&x&&(this.next=x),y},finish:function(C){for(var x=this.tryEntries.length-1;x>=0;--x){var A=this.tryEntries[x];if(A.finallyLoc===C)return this.complete(A.completion,A.afterLoc),R(A),y}},catch:function(C){for(var x=this.tryEntries.length-1;x>=0;--x){var A=this.tryEntries[x];if(A.tryLoc===C){var D=A.completion;if(D.type==="throw"){var B=D.arg;R(A)}return B}}throw new Error("illegal catch attempt")},delegateYield:function(C,x,A){return this.delegate={iterator:S(C),resultName:x,nextLoc:A},this.method==="next"&&(this.arg=void 0),y}},s})(typeof n=="object"?n.exports:{});try{regeneratorRuntime=o}catch{typeof globalThis=="object"?globalThis.regeneratorRuntime=o:Function("r","regeneratorRuntime = r")(o)}},{}],493:[function(r,n,i){var o=r("buffer").Buffer,s=r("inherits"),a=r("hash-base"),l=new Array(16),u=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13],c=[5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11],f=[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6],d=[8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11],h=[0,1518500249,1859775393,2400959708,2840853838],g=[1352829926,1548603684,1836072691,2053994217,0];function m(){a.call(this,64),this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878,this._e=3285377520}function p(T,I){return T<<I|T>>>32-I}function y(T,I,M,P,O,z,L,_){return p(T+(I^M^P)+z+L|0,_)+O|0}function b(T,I,M,P,O,z,L,_){return p(T+(I&M|~I&P)+z+L|0,_)+O|0}function v(T,I,M,P,O,z,L,_){return p(T+((I|~M)^P)+z+L|0,_)+O|0}function F(T,I,M,P,O,z,L,_){return p(T+(I&P|M&~P)+z+L|0,_)+O|0}function E(T,I,M,P,O,z,L,_){return p(T+(I^(M|~P))+z+L|0,_)+O|0}s(m,a),m.prototype._update=function(){for(var T=l,I=0;I<16;++I)T[I]=this._block.readInt32LE(4*I);for(var M=0|this._a,P=0|this._b,O=0|this._c,z=0|this._d,L=0|this._e,_=0|this._a,R=0|this._b,k=0|this._c,S=0|this._d,w=0|this._e,C=0;C<80;C+=1){var x,A;C<16?(x=y(M,P,O,z,L,T[u[C]],h[0],f[C]),A=E(_,R,k,S,w,T[c[C]],g[0],d[C])):C<32?(x=b(M,P,O,z,L,T[u[C]],h[1],f[C]),A=F(_,R,k,S,w,T[c[C]],g[1],d[C])):C<48?(x=v(M,P,O,z,L,T[u[C]],h[2],f[C]),A=v(_,R,k,S,w,T[c[C]],g[2],d[C])):C<64?(x=F(M,P,O,z,L,T[u[C]],h[3],f[C]),A=b(_,R,k,S,w,T[c[C]],g[3],d[C])):(x=E(M,P,O,z,L,T[u[C]],h[4],f[C]),A=y(_,R,k,S,w,T[c[C]],g[4],d[C])),M=L,L=z,z=p(O,10),O=P,P=x,_=w,w=S,S=p(k,10),k=R,R=A}var D=this._b+O+S|0;this._b=this._c+z+w|0,this._c=this._d+L+_|0,this._d=this._e+M+R|0,this._e=this._a+P+k|0,this._a=D},m.prototype._digest=function(){this._block[this._blockOffset++]=128,this._blockOffset>56&&(this._block.fill(0,this._blockOffset,64),this._update(),this._blockOffset=0),this._block.fill(0,this._blockOffset,56),this._block.writeUInt32LE(this._length[0],56),this._block.writeUInt32LE(this._length[1],60),this._update();var T=o.alloc?o.alloc(20):new o(20);return T.writeInt32LE(this._a,0),T.writeInt32LE(this._b,4),T.writeInt32LE(this._c,8),T.writeInt32LE(this._d,12),T.writeInt32LE(this._e,16),T},n.exports=m},{buffer:220,"hash-base":425,inherits:440}],494:[function(r,n,i){/*! safe-buffer. MIT License. Feross Aboukhadijeh <https://feross.org/opensource> */var o=r("buffer"),s=o.Buffer;function a(u,c){for(var f in u)c[f]=u[f]}function l(u,c,f){return s(u,c,f)}s.from&&s.alloc&&s.allocUnsafe&&s.allocUnsafeSlow?n.exports=o:(a(o,i),i.Buffer=l),l.prototype=Object.create(s.prototype),a(s,l),l.from=function(u,c,f){if(typeof u=="number")throw new TypeError("Argument must not be a number");return s(u,c,f)},l.alloc=function(u,c,f){if(typeof u!="number")throw new TypeError("Argument must be a number");var d=s(u);return c!==void 0?typeof f=="string"?d.fill(c,f):d.fill(c):d.fill(0),d},l.allocUnsafe=function(u){if(typeof u!="number")throw new TypeError("Argument must be a number");return s(u)},l.allocUnsafeSlow=function(u){if(typeof u!="number")throw new TypeError("Argument must be a number");return o.SlowBuffer(u)}},{buffer:220}],495:[function(r,n,i){(function(o){(function(){var s,a=r("buffer"),l=a.Buffer,u={};for(s in a)a.hasOwnProperty(s)&&s!=="SlowBuffer"&&s!=="Buffer"&&(u[s]=a[s]);var c=u.Buffer={};for(s in l)l.hasOwnProperty(s)&&s!=="allocUnsafe"&&s!=="allocUnsafeSlow"&&(c[s]=l[s]);if(u.Buffer.prototype=l.prototype,c.from&&c.from!==Uint8Array.from||(c.from=function(f,d,h){if(typeof f=="number")throw new TypeError('The "value" argument must not be of type number. Received type '+typeof f);if(f&&f.length===void 0)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof f);return l(f,d,h)}),c.alloc||(c.alloc=function(f,d,h){if(typeof f!="number")throw new TypeError('The "size" argument must be of type number. Received type '+typeof f);if(f<0||f>=2*(1<<30))throw new RangeError('The value "'+f+'" is invalid for option "size"');var g=l(f);return d&&d.length!==0?typeof h=="string"?g.fill(d,h):g.fill(d):g.fill(0),g}),!u.kStringMaxLength)try{u.kStringMaxLength=o.binding("buffer").kStringMaxLength}catch{}u.constants||(u.constants={MAX_LENGTH:u.kMaxLength},u.kStringMaxLength&&(u.constants.MAX_STRING_LENGTH=u.kStringMaxLength)),n.exports=u}).call(this)}).call(this,r("_process"))},{_process:467,buffer:220}],496:[function(r,n,i){Object.defineProperty(i,"__esModule",{value:!0});const o=r("xmlchars/xml/1.0/ed5"),s=r("xmlchars/xml/1.1/ed2"),a=r("xmlchars/xmlns/1.0/ed3");var l=o.isS,u=o.isChar,c=o.isNameStartChar,f=o.isNameChar,d=o.S_LIST,h=o.NAME_RE,g=s.isChar,m=a.isNCNameStartChar,p=a.isNCNameChar,y=a.NC_NAME_RE;const b="http://www.w3.org/XML/1998/namespace",v="http://www.w3.org/2000/xmlns/",F={__proto__:null,xml:b,xmlns:v},E={__proto__:null,amp:"&",gt:">",lt:"<",quot:'"',apos:"'"},T=S=>S===34||S===39,I=[34,39],M=[...I,91,62],P=[...I,60,93],O=[61,63,...d],z=[...d,62,38,60];function L(S,w,C){switch(w){case"xml":C!==b&&S.fail(`xml prefix must be bound to ${b}.`);break;case"xmlns":C!==v&&S.fail(`xmlns prefix must be bound to ${v}.`)}switch(C){case v:S.fail(w===""?`the default namespace may not be set to ${C}.`:`may not assign a prefix (even "xmlns") to the URI ${v}.`);break;case b:switch(w){case"xml":break;case"":S.fail(`the default namespace may not be set to ${C}.`);break;default:S.fail("may not assign the xml namespace to another prefix.")}}}const _=S=>y.test(S),R=S=>h.test(S);i.EVENTS=["xmldecl","text","processinginstruction","doctype","comment","opentagstart","attribute","opentag","closetag","cdata","error","end","ready"];const k={xmldecl:"xmldeclHandler",text:"textHandler",processinginstruction:"piHandler",doctype:"doctypeHandler",comment:"commentHandler",opentagstart:"openTagStartHandler",attribute:"attributeHandler",opentag:"openTagHandler",closetag:"closeTagHandler",cdata:"cdataHandler",error:"errorHandler",end:"endHandler",ready:"readyHandler"};i.SaxesParser=class{constructor(S){this.opt=S??{},this.fragmentOpt=!!this.opt.fragment;const w=this.xmlnsOpt=!!this.opt.xmlns;if(this.trackPosition=this.opt.position!==!1,this.fileName=this.opt.fileName,w){this.nameStartCheck=m,this.nameCheck=p,this.isName=_,this.processAttribs=this.processAttribsNS,this.pushAttrib=this.pushAttribNS,this.ns=Object.assign({__proto__:null},F);const C=this.opt.additionalNamespaces;C!=null&&((function(x,A){for(const D of Object.keys(A))L(x,D,A[D])})(this,C),Object.assign(this.ns,C))}else this.nameStartCheck=c,this.nameCheck=f,this.isName=R,this.processAttribs=this.processAttribsPlain,this.pushAttrib=this.pushAttribPlain;this.stateTable=[this.sBegin,this.sBeginWhitespace,this.sDoctype,this.sDoctypeQuote,this.sDTD,this.sDTDQuoted,this.sDTDOpenWaka,this.sDTDOpenWakaBang,this.sDTDComment,this.sDTDCommentEnding,this.sDTDCommentEnded,this.sDTDPI,this.sDTDPIEnding,this.sText,this.sEntity,this.sOpenWaka,this.sOpenWakaBang,this.sComment,this.sCommentEnding,this.sCommentEnded,this.sCData,this.sCDataEnding,this.sCDataEnding2,this.sPIFirstChar,this.sPIRest,this.sPIBody,this.sPIEnding,this.sXMLDeclNameStart,this.sXMLDeclName,this.sXMLDeclEq,this.sXMLDeclValueStart,this.sXMLDeclValue,this.sXMLDeclSeparator,this.sXMLDeclEnding,this.sOpenTag,this.sOpenTagSlash,this.sAttrib,this.sAttribName,this.sAttribNameSawWhite,this.sAttribValue,this.sAttribValueQuoted,this.sAttribValueClosed,this.sAttribValueUnquoted,this.sCloseTag,this.sCloseTagSawWhite],this._init()}get closed(){return this._closed}_init(){var S;this.openWakaBang="",this.text="",this.name="",this.piTarget="",this.entity="",this.q=null,this.tags=[],this.tag=null,this.topNS=null,this.chunk="",this.chunkPosition=0,this.i=0,this.prevI=0,this.carriedFromPrevious=void 0,this.forbiddenState=0,this.attribList=[];const{fragmentOpt:w}=this;this.state=w?13:0,this.reportedTextBeforeRoot=this.reportedTextAfterRoot=this.closedRoot=this.sawRoot=w,this.xmlDeclPossible=!w,this.xmlDeclExpects=["version"],this.entityReturnState=void 0;let{defaultXMLVersion:C}=this.opt;if(C===void 0){if(this.opt.forceXMLVersion===!0)throw new Error("forceXMLVersion set but defaultXMLVersion is not set");C="1.0"}this.setXMLVersion(C),this.positionAtNewLine=0,this.doctype=!1,this._closed=!1,this.xmlDecl={version:void 0,encoding:void 0,standalone:void 0},this.line=1,this.column=0,this.ENTITIES=Object.create(E),(S=this.readyHandler)===null||S===void 0||S.call(this)}get position(){return this.chunkPosition+this.i}get columnIndex(){return this.position-this.positionAtNewLine}on(S,w){this[k[S]]=w}off(S){this[k[S]]=void 0}makeError(S){var w;let C=(w=this.fileName)!==null&&w!==void 0?w:"";return this.trackPosition&&(C.length>0&&(C+=":"),C+=`${this.line}:${this.column}`),C.length>0&&(C+=": "),new Error(C+S)}fail(S){const w=this.makeError(S),C=this.errorHandler;if(C===void 0)throw w;return C(w),this}write(S){if(this.closed)return this.fail("cannot write after close; assign an onready handler.");let w=!1;S===null?(w=!0,S=""):typeof S=="object"&&(S=S.toString()),this.carriedFromPrevious!==void 0&&(S=`${this.carriedFromPrevious}${S}`,this.carriedFromPrevious=void 0);let C=S.length;const x=S.charCodeAt(C-1);!w&&(x===13||x>=55296&&x<=56319)&&(this.carriedFromPrevious=S[C-1],C--,S=S.slice(0,C));const{stateTable:A}=this;for(this.chunk=S,this.i=0;this.i<C;)A[this.state].call(this);return this.chunkPosition+=C,w?this.end():this}close(){return this.write(null)}getCode10(){const{chunk:S,i:w}=this;if(this.prevI=w,this.i=w+1,w>=S.length)return-1;const C=S.charCodeAt(w);if(this.column++,C<55296){if(C>=32||C===9)return C;switch(C){case 10:return this.line++,this.column=0,this.positionAtNewLine=this.position,10;case 13:return S.charCodeAt(w+1)===10&&(this.i=w+2),this.line++,this.column=0,this.positionAtNewLine=this.position,-2;default:return this.fail("disallowed character."),C}}if(C>56319)return C>=57344&&C<=65533||this.fail("disallowed character."),C;const x=65536+1024*(C-55296)+(S.charCodeAt(w+1)-56320);return this.i=w+2,x>1114111&&this.fail("disallowed character."),x}getCode11(){const{chunk:S,i:w}=this;if(this.prevI=w,this.i=w+1,w>=S.length)return-1;const C=S.charCodeAt(w);if(this.column++,C<55296){if(C>31&&C<127||C>159&&C!==8232||C===9)return C;switch(C){case 10:return this.line++,this.column=0,this.positionAtNewLine=this.position,10;case 13:{const A=S.charCodeAt(w+1);A!==10&&A!==133||(this.i=w+2)}case 133:case 8232:return this.line++,this.column=0,this.positionAtNewLine=this.position,-2;default:return this.fail("disallowed character."),C}}if(C>56319)return C>=57344&&C<=65533||this.fail("disallowed character."),C;const x=65536+1024*(C-55296)+(S.charCodeAt(w+1)-56320);return this.i=w+2,x>1114111&&this.fail("disallowed character."),x}getCodeNorm(){const S=this.getCode();return S===-2?10:S}unget(){this.i=this.prevI,this.column--}captureTo(S){let{i:w}=this;const{chunk:C}=this;for(;;){const x=this.getCode(),A=x===-2,D=A?10:x;if(D===-1||S.includes(D))return this.text+=C.slice(w,this.prevI),D;A&&(this.text+=C.slice(w,this.prevI)+`
`,w=this.i)}}captureToChar(S){let{i:w}=this;const{chunk:C}=this;for(;;){let x=this.getCode();switch(x){case-2:this.text+=C.slice(w,this.prevI)+`
`,w=this.i,x=10;break;case-1:return this.text+=C.slice(w),!1}if(x===S)return this.text+=C.slice(w,this.prevI),!0}}captureNameChars(){const{chunk:S,i:w}=this;for(;;){const C=this.getCode();if(C===-1)return this.name+=S.slice(w),-1;if(!f(C))return this.name+=S.slice(w,this.prevI),C===-2?10:C}}skipSpaces(){for(;;){const S=this.getCodeNorm();if(S===-1||!l(S))return S}}setXMLVersion(S){this.currentXMLVersion=S,S==="1.0"?(this.isChar=u,this.getCode=this.getCode10):(this.isChar=g,this.getCode=this.getCode11)}sBegin(){this.chunk.charCodeAt(0)===65279&&(this.i++,this.column++),this.state=1}sBeginWhitespace(){const S=this.i,w=this.skipSpaces();switch(this.prevI!==S&&(this.xmlDeclPossible=!1),w){case 60:if(this.state=15,this.text.length!==0)throw new Error("no-empty text at start");break;case-1:break;default:this.unget(),this.state=13,this.xmlDeclPossible=!1}}sDoctype(){var S;const w=this.captureTo(M);switch(w){case 62:(S=this.doctypeHandler)===null||S===void 0||S.call(this,this.text),this.text="",this.state=13,this.doctype=!0;break;case-1:break;default:this.text+=String.fromCodePoint(w),w===91?this.state=4:T(w)&&(this.state=3,this.q=w)}}sDoctypeQuote(){const S=this.q;this.captureToChar(S)&&(this.text+=String.fromCodePoint(S),this.q=null,this.state=2)}sDTD(){const S=this.captureTo(P);S!==-1&&(this.text+=String.fromCodePoint(S),S===93?this.state=2:S===60?this.state=6:T(S)&&(this.state=5,this.q=S))}sDTDQuoted(){const S=this.q;this.captureToChar(S)&&(this.text+=String.fromCodePoint(S),this.state=4,this.q=null)}sDTDOpenWaka(){const S=this.getCodeNorm();switch(this.text+=String.fromCodePoint(S),S){case 33:this.state=7,this.openWakaBang="";break;case 63:this.state=11;break;default:this.state=4}}sDTDOpenWakaBang(){const S=String.fromCodePoint(this.getCodeNorm()),w=this.openWakaBang+=S;this.text+=S,w!=="-"&&(this.state=w==="--"?8:4,this.openWakaBang="")}sDTDComment(){this.captureToChar(45)&&(this.text+="-",this.state=9)}sDTDCommentEnding(){const S=this.getCodeNorm();this.text+=String.fromCodePoint(S),this.state=S===45?10:8}sDTDCommentEnded(){const S=this.getCodeNorm();this.text+=String.fromCodePoint(S),S===62?this.state=4:(this.fail("malformed comment."),this.state=8)}sDTDPI(){this.captureToChar(63)&&(this.text+="?",this.state=12)}sDTDPIEnding(){const S=this.getCodeNorm();this.text+=String.fromCodePoint(S),S===62&&(this.state=4)}sText(){this.tags.length!==0?this.handleTextInRoot():this.handleTextOutsideRoot()}sEntity(){let{i:S}=this;const{chunk:w}=this;e:for(;;)switch(this.getCode()){case-2:this.entity+=w.slice(S,this.prevI)+`
`,S=this.i;break;case 59:{const{entityReturnState:C}=this,x=this.entity+w.slice(S,this.prevI);let A;this.state=C,x===""?(this.fail("empty entity name."),A="&;"):(A=this.parseEntity(x),this.entity=""),C===13&&this.textHandler===void 0||(this.text+=A);break e}case-1:this.entity+=w.slice(S);break e}}sOpenWaka(){const S=this.getCode();if(c(S))this.state=34,this.unget(),this.xmlDeclPossible=!1;else switch(S){case 47:this.state=43,this.xmlDeclPossible=!1;break;case 33:this.state=16,this.openWakaBang="",this.xmlDeclPossible=!1;break;case 63:this.state=23;break;default:this.fail("disallowed character in tag name"),this.state=13,this.xmlDeclPossible=!1}}sOpenWakaBang(){switch(this.openWakaBang+=String.fromCodePoint(this.getCodeNorm()),this.openWakaBang){case"[CDATA[":this.sawRoot||this.reportedTextBeforeRoot||(this.fail("text data outside of root node."),this.reportedTextBeforeRoot=!0),this.closedRoot&&!this.reportedTextAfterRoot&&(this.fail("text data outside of root node."),this.reportedTextAfterRoot=!0),this.state=20,this.openWakaBang="";break;case"--":this.state=17,this.openWakaBang="";break;case"DOCTYPE":this.state=2,(this.doctype||this.sawRoot)&&this.fail("inappropriately located doctype declaration."),this.openWakaBang="";break;default:this.openWakaBang.length>=7&&this.fail("incorrect syntax.")}}sComment(){this.captureToChar(45)&&(this.state=18)}sCommentEnding(){var S;const w=this.getCodeNorm();w===45?(this.state=19,(S=this.commentHandler)===null||S===void 0||S.call(this,this.text),this.text=""):(this.text+="-"+String.fromCodePoint(w),this.state=17)}sCommentEnded(){const S=this.getCodeNorm();S!==62?(this.fail("malformed comment."),this.text+="--"+String.fromCodePoint(S),this.state=17):this.state=13}sCData(){this.captureToChar(93)&&(this.state=21)}sCDataEnding(){const S=this.getCodeNorm();S===93?this.state=22:(this.text+="]"+String.fromCodePoint(S),this.state=20)}sCDataEnding2(){var S;const w=this.getCodeNorm();switch(w){case 62:(S=this.cdataHandler)===null||S===void 0||S.call(this,this.text),this.text="",this.state=13;break;case 93:this.text+="]";break;default:this.text+="]]"+String.fromCodePoint(w),this.state=20}}sPIFirstChar(){const S=this.getCodeNorm();this.nameStartCheck(S)?(this.piTarget+=String.fromCodePoint(S),this.state=24):S===63||l(S)?(this.fail("processing instruction without a target."),this.state=S===63?26:25):(this.fail("disallowed character in processing instruction name."),this.piTarget+=String.fromCodePoint(S),this.state=24)}sPIRest(){const{chunk:S,i:w}=this;for(;;){const C=this.getCodeNorm();if(C===-1)return void(this.piTarget+=S.slice(w));if(!this.nameCheck(C)){this.piTarget+=S.slice(w,this.prevI);const x=C===63;x||l(C)?this.piTarget==="xml"?(this.xmlDeclPossible||this.fail("an XML declaration must be at the start of the document."),this.state=x?33:27):this.state=x?26:25:(this.fail("disallowed character in processing instruction name."),this.piTarget+=String.fromCodePoint(C));break}}}sPIBody(){if(this.text.length===0){const S=this.getCodeNorm();S===63?this.state=26:l(S)||(this.text=String.fromCodePoint(S))}else this.captureToChar(63)&&(this.state=26)}sPIEnding(){var S;const w=this.getCodeNorm();if(w===62){const{piTarget:C}=this;C.toLowerCase()==="xml"&&this.fail("the XML declaration must appear at the start of the document."),(S=this.piHandler)===null||S===void 0||S.call(this,{target:C,body:this.text}),this.piTarget=this.text="",this.state=13}else w===63?this.text+="?":(this.text+="?"+String.fromCodePoint(w),this.state=25);this.xmlDeclPossible=!1}sXMLDeclNameStart(){const S=this.skipSpaces();S!==63?S!==-1&&(this.state=28,this.name=String.fromCodePoint(S)):this.state=33}sXMLDeclName(){const S=this.captureTo(O);if(S===63)return this.state=33,this.name+=this.text,this.text="",void this.fail("XML declaration is incomplete.");if(l(S)||S===61){if(this.name+=this.text,this.text="",!this.xmlDeclExpects.includes(this.name))switch(this.name.length){case 0:this.fail("did not expect any more name/value pairs.");break;case 1:this.fail(`expected the name ${this.xmlDeclExpects[0]}.`);break;default:this.fail("expected one of "+this.xmlDeclExpects.join(", "))}this.state=S===61?30:29}}sXMLDeclEq(){const S=this.getCodeNorm();if(S===63)return this.state=33,void this.fail("XML declaration is incomplete.");l(S)||(S!==61&&this.fail("value required."),this.state=30)}sXMLDeclValueStart(){const S=this.getCodeNorm();if(S===63)return this.state=33,void this.fail("XML declaration is incomplete.");l(S)||(T(S)?this.q=S:(this.fail("value must be quoted."),this.q=32),this.state=31)}sXMLDeclValue(){const S=this.captureTo([this.q,63]);if(S===63)return this.state=33,this.text="",void this.fail("XML declaration is incomplete.");if(S===-1)return;const w=this.text;switch(this.text="",this.name){case"version":{this.xmlDeclExpects=["encoding","standalone"];const C=w;this.xmlDecl.version=C,/^1\.[0-9]+$/.test(C)?this.opt.forceXMLVersion||this.setXMLVersion(C):this.fail("version number must match /^1\\.[0-9]+$/.");break}case"encoding":/^[A-Za-z][A-Za-z0-9._-]*$/.test(w)||this.fail("encoding value must match /^[A-Za-z0-9][A-Za-z0-9._-]*$/."),this.xmlDeclExpects=["standalone"],this.xmlDecl.encoding=w;break;case"standalone":w!=="yes"&&w!=="no"&&this.fail('standalone value must match "yes" or "no".'),this.xmlDeclExpects=[],this.xmlDecl.standalone=w}this.name="",this.state=32}sXMLDeclSeparator(){const S=this.getCodeNorm();S!==63?(l(S)||(this.fail("whitespace required."),this.unget()),this.state=27):this.state=33}sXMLDeclEnding(){var S;this.getCodeNorm()===62?(this.piTarget!=="xml"?this.fail("processing instructions are not allowed before root."):this.name!=="version"&&this.xmlDeclExpects.includes("version")&&this.fail("XML declaration must contain a version."),(S=this.xmldeclHandler)===null||S===void 0||S.call(this,this.xmlDecl),this.name="",this.piTarget=this.text="",this.state=13):this.fail("The character ? is disallowed anywhere in XML declarations."),this.xmlDeclPossible=!1}sOpenTag(){var S;const w=this.captureNameChars();if(w===-1)return;const C=this.tag={name:this.name,attributes:Object.create(null)};switch(this.name="",this.xmlnsOpt&&(this.topNS=C.ns=Object.create(null)),(S=this.openTagStartHandler)===null||S===void 0||S.call(this,C),this.sawRoot=!0,!this.fragmentOpt&&this.closedRoot&&this.fail("documents may contain only one root."),w){case 62:this.openTag();break;case 47:this.state=35;break;default:l(w)||this.fail("disallowed character in tag name."),this.state=36}}sOpenTagSlash(){this.getCode()===62?this.openSelfClosingTag():(this.fail("forward-slash in opening tag not followed by >."),this.state=36)}sAttrib(){const S=this.skipSpaces();S!==-1&&(c(S)?(this.unget(),this.state=37):S===62?this.openTag():S===47?this.state=35:this.fail("disallowed character in attribute name."))}sAttribName(){const S=this.captureNameChars();S===61?this.state=39:l(S)?this.state=38:S===62?(this.fail("attribute without value."),this.pushAttrib(this.name,this.name),this.name=this.text="",this.openTag()):S!==-1&&this.fail("disallowed character in attribute name.")}sAttribNameSawWhite(){const S=this.skipSpaces();switch(S){case-1:return;case 61:this.state=39;break;default:this.fail("attribute without value."),this.text="",this.name="",S===62?this.openTag():c(S)?(this.unget(),this.state=37):(this.fail("disallowed character in attribute name."),this.state=36)}}sAttribValue(){const S=this.getCodeNorm();T(S)?(this.q=S,this.state=40):l(S)||(this.fail("unquoted attribute value."),this.state=42,this.unget())}sAttribValueQuoted(){const{q:S,chunk:w}=this;let{i:C}=this;for(;;)switch(this.getCode()){case S:return this.pushAttrib(this.name,this.text+w.slice(C,this.prevI)),this.name=this.text="",this.q=null,void(this.state=41);case 38:return this.text+=w.slice(C,this.prevI),this.state=14,void(this.entityReturnState=40);case 10:case-2:case 9:this.text+=w.slice(C,this.prevI)+" ",C=this.i;break;case 60:return this.text+=w.slice(C,this.prevI),void this.fail("disallowed character.");case-1:return void(this.text+=w.slice(C))}}sAttribValueClosed(){const S=this.getCodeNorm();l(S)?this.state=36:S===62?this.openTag():S===47?this.state=35:c(S)?(this.fail("no whitespace between attributes."),this.unget(),this.state=37):this.fail("disallowed character in attribute name.")}sAttribValueUnquoted(){const S=this.captureTo(z);switch(S){case 38:this.state=14,this.entityReturnState=42;break;case 60:this.fail("disallowed character.");break;case-1:break;default:this.text.includes("]]>")&&this.fail('the string "]]>" is disallowed in char data.'),this.pushAttrib(this.name,this.text),this.name=this.text="",S===62?this.openTag():this.state=36}}sCloseTag(){const S=this.captureNameChars();S===62?this.closeTag():l(S)?this.state=44:S!==-1&&this.fail("disallowed character in closing tag.")}sCloseTagSawWhite(){switch(this.skipSpaces()){case 62:this.closeTag();break;case-1:break;default:this.fail("disallowed character in closing tag.")}}handleTextInRoot(){let{i:S,forbiddenState:w}=this;const{chunk:C,textHandler:x}=this;e:for(;;)switch(this.getCode()){case 60:if(this.state=15,x!==void 0){const{text:A}=this,D=C.slice(S,this.prevI);A.length!==0?(x(A+D),this.text=""):D.length!==0&&x(D)}w=0;break e;case 38:this.state=14,this.entityReturnState=13,x!==void 0&&(this.text+=C.slice(S,this.prevI)),w=0;break e;case 93:switch(w){case 0:w=1;break;case 1:w=2;break;case 2:break;default:throw new Error("impossible state")}break;case 62:w===2&&this.fail('the string "]]>" is disallowed in char data.'),w=0;break;case-2:x!==void 0&&(this.text+=C.slice(S,this.prevI)+`
`),S=this.i,w=0;break;case-1:x!==void 0&&(this.text+=C.slice(S));break e;default:w=0}this.forbiddenState=w}handleTextOutsideRoot(){let{i:S}=this;const{chunk:w,textHandler:C}=this;let x=!1;e:for(;;){const A=this.getCode();switch(A){case 60:if(this.state=15,C!==void 0){const{text:D}=this,B=w.slice(S,this.prevI);D.length!==0?(C(D+B),this.text=""):B.length!==0&&C(B)}break e;case 38:this.state=14,this.entityReturnState=13,C!==void 0&&(this.text+=w.slice(S,this.prevI)),x=!0;break e;case-2:C!==void 0&&(this.text+=w.slice(S,this.prevI)+`
`),S=this.i;break;case-1:C!==void 0&&(this.text+=w.slice(S));break e;default:l(A)||(x=!0)}}x&&(this.sawRoot||this.reportedTextBeforeRoot||(this.fail("text data outside of root node."),this.reportedTextBeforeRoot=!0),this.closedRoot&&!this.reportedTextAfterRoot&&(this.fail("text data outside of root node."),this.reportedTextAfterRoot=!0))}pushAttribNS(S,w){var C;const{prefix:x,local:A}=this.qname(S),D={name:S,prefix:x,local:A,value:w};if(this.attribList.push(D),(C=this.attributeHandler)===null||C===void 0||C.call(this,D),x==="xmlns"){const B=w.trim();this.currentXMLVersion==="1.0"&&B===""&&this.fail("invalid attempt to undefine prefix in XML 1.0"),this.topNS[A]=B,L(this,A,B)}else if(S==="xmlns"){const B=w.trim();this.topNS[""]=B,L(this,"",B)}}pushAttribPlain(S,w){var C;const x={name:S,value:w};this.attribList.push(x),(C=this.attributeHandler)===null||C===void 0||C.call(this,x)}end(){var S,w;this.sawRoot||this.fail("document must contain a root element.");const{tags:C}=this;for(;C.length>0;){const A=C.pop();this.fail("unclosed tag: "+A.name)}this.state!==0&&this.state!==13&&this.fail("unexpected end.");const{text:x}=this;return x.length!==0&&((S=this.textHandler)===null||S===void 0||S.call(this,x),this.text=""),this._closed=!0,(w=this.endHandler)===null||w===void 0||w.call(this),this._init(),this}resolve(S){var w,C;let x=this.topNS[S];if(x!==void 0)return x;const{tags:A}=this;for(let D=A.length-1;D>=0;D--)if(x=A[D].ns[S],x!==void 0)return x;return x=this.ns[S],x!==void 0?x:(C=(w=this.opt).resolvePrefix)===null||C===void 0?void 0:C.call(w,S)}qname(S){const w=S.indexOf(":");if(w===-1)return{prefix:"",local:S};const C=S.slice(w+1),x=S.slice(0,w);return(x===""||C===""||C.includes(":"))&&this.fail(`malformed name: ${S}.`),{prefix:x,local:C}}processAttribsNS(){var S;const{attribList:w}=this,C=this.tag;{const{prefix:D,local:B}=this.qname(C.name);C.prefix=D,C.local=B;const V=C.uri=(S=this.resolve(D))!==null&&S!==void 0?S:"";D!==""&&(D==="xmlns"&&this.fail('tags may not have "xmlns" as prefix.'),V===""&&(this.fail(`unbound namespace prefix: ${JSON.stringify(D)}.`),C.uri=D))}if(w.length===0)return;const{attributes:x}=C,A=new Set;for(const D of w){const{name:B,prefix:V,local:j}=D;let K,G;V===""?(K=B==="xmlns"?v:"",G=B):(K=this.resolve(V),K===void 0&&(this.fail(`unbound namespace prefix: ${JSON.stringify(V)}.`),K=V),G=`{${K}}${j}`),A.has(G)&&this.fail(`duplicate attribute: ${G}.`),A.add(G),D.uri=K,x[B]=D}this.attribList=[]}processAttribsPlain(){const{attribList:S}=this,w=this.tag.attributes;for(const{name:C,value:x}of S)w[C]!==void 0&&this.fail(`duplicate attribute: ${C}.`),w[C]=x;this.attribList=[]}openTag(){var S;this.processAttribs();const{tags:w}=this,C=this.tag;C.isSelfClosing=!1,(S=this.openTagHandler)===null||S===void 0||S.call(this,C),w.push(C),this.state=13,this.name=""}openSelfClosingTag(){var S,w,C;this.processAttribs();const{tags:x}=this,A=this.tag;A.isSelfClosing=!0,(S=this.openTagHandler)===null||S===void 0||S.call(this,A),(w=this.closeTagHandler)===null||w===void 0||w.call(this,A),(this.tag=(C=x[x.length-1])!==null&&C!==void 0?C:null)===null&&(this.closedRoot=!0),this.state=13,this.name=""}closeTag(){const{tags:S,name:w}=this;if(this.state=13,this.name="",w==="")return this.fail("weird empty close tag."),void(this.text+="</>");const C=this.closeTagHandler;let x=S.length;for(;x-- >0;){const A=this.tag=S.pop();if(this.topNS=A.ns,C?.(A),A.name===w)break;this.fail("unexpected close tag.")}x===0?this.closedRoot=!0:x<0&&(this.fail(`unmatched closing tag: ${w}.`),this.text+=`</${w}>`)}parseEntity(S){if(S[0]!=="#"){const C=this.ENTITIES[S];return C!==void 0?C:(this.fail(this.isName(S)?"undefined entity.":"disallowed character in entity name."),`&${S};`)}let w=NaN;return S[1]==="x"&&/^#x[0-9a-f]+$/i.test(S)?w=parseInt(S.slice(2),16):/^#[0-9]+$/.test(S)&&(w=parseInt(S.slice(1),10)),this.isChar(w)?String.fromCodePoint(w):(this.fail("malformed character entity."),`&${S};`)}}},{"xmlchars/xml/1.0/ed5":543,"xmlchars/xml/1.1/ed2":544,"xmlchars/xmlns/1.0/ed3":545}],497:[function(r,n,i){var o=r("safe-buffer").Buffer;function s(a,l){this._block=o.alloc(a),this._finalSize=l,this._blockSize=a,this._len=0}s.prototype.update=function(a,l){typeof a=="string"&&(l=l||"utf8",a=o.from(a,l));for(var u=this._block,c=this._blockSize,f=a.length,d=this._len,h=0;h<f;){for(var g=d%c,m=Math.min(f-h,c-g),p=0;p<m;p++)u[g+p]=a[h+p];h+=m,(d+=m)%c==0&&this._update(u)}return this._len+=f,this},s.prototype.digest=function(a){var l=this._len%this._blockSize;this._block[l]=128,this._block.fill(0,l+1),l>=this._finalSize&&(this._update(this._block),this._block.fill(0));var u=8*this._len;if(u<=4294967295)this._block.writeUInt32BE(u,this._blockSize-4);else{var c=(4294967295&u)>>>0,f=(u-c)/4294967296;this._block.writeUInt32BE(f,this._blockSize-8),this._block.writeUInt32BE(c,this._blockSize-4)}this._update(this._block);var d=this._hash();return a?d.toString(a):d},s.prototype._update=function(){throw new Error("_update must be implemented by subclass")},n.exports=s},{"safe-buffer":494}],498:[function(r,n,i){var o=n.exports=function(s){s=s.toLowerCase();var a=o[s];if(!a)throw new Error(s+" is not supported (we accept pull requests)");return new a};o.sha=r("./sha"),o.sha1=r("./sha1"),o.sha224=r("./sha224"),o.sha256=r("./sha256"),o.sha384=r("./sha384"),o.sha512=r("./sha512")},{"./sha":499,"./sha1":500,"./sha224":501,"./sha256":502,"./sha384":503,"./sha512":504}],499:[function(r,n,i){var o=r("inherits"),s=r("./hash"),a=r("safe-buffer").Buffer,l=[1518500249,1859775393,-1894007588,-899497514],u=new Array(80);function c(){this.init(),this._w=u,s.call(this,64,56)}function f(h){return h<<30|h>>>2}function d(h,g,m,p){return h===0?g&m|~g&p:h===2?g&m|g&p|m&p:g^m^p}o(c,s),c.prototype.init=function(){return this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878,this._e=3285377520,this},c.prototype._update=function(h){for(var g,m=this._w,p=0|this._a,y=0|this._b,b=0|this._c,v=0|this._d,F=0|this._e,E=0;E<16;++E)m[E]=h.readInt32BE(4*E);for(;E<80;++E)m[E]=m[E-3]^m[E-8]^m[E-14]^m[E-16];for(var T=0;T<80;++T){var I=~~(T/20),M=0|((g=p)<<5|g>>>27)+d(I,y,b,v)+F+m[T]+l[I];F=v,v=b,b=f(y),y=p,p=M}this._a=p+this._a|0,this._b=y+this._b|0,this._c=b+this._c|0,this._d=v+this._d|0,this._e=F+this._e|0},c.prototype._hash=function(){var h=a.allocUnsafe(20);return h.writeInt32BE(0|this._a,0),h.writeInt32BE(0|this._b,4),h.writeInt32BE(0|this._c,8),h.writeInt32BE(0|this._d,12),h.writeInt32BE(0|this._e,16),h},n.exports=c},{"./hash":497,inherits:440,"safe-buffer":494}],500:[function(r,n,i){var o=r("inherits"),s=r("./hash"),a=r("safe-buffer").Buffer,l=[1518500249,1859775393,-1894007588,-899497514],u=new Array(80);function c(){this.init(),this._w=u,s.call(this,64,56)}function f(g){return g<<5|g>>>27}function d(g){return g<<30|g>>>2}function h(g,m,p,y){return g===0?m&p|~m&y:g===2?m&p|m&y|p&y:m^p^y}o(c,s),c.prototype.init=function(){return this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878,this._e=3285377520,this},c.prototype._update=function(g){for(var m,p=this._w,y=0|this._a,b=0|this._b,v=0|this._c,F=0|this._d,E=0|this._e,T=0;T<16;++T)p[T]=g.readInt32BE(4*T);for(;T<80;++T)p[T]=(m=p[T-3]^p[T-8]^p[T-14]^p[T-16])<<1|m>>>31;for(var I=0;I<80;++I){var M=~~(I/20),P=f(y)+h(M,b,v,F)+E+p[I]+l[M]|0;E=F,F=v,v=d(b),b=y,y=P}this._a=y+this._a|0,this._b=b+this._b|0,this._c=v+this._c|0,this._d=F+this._d|0,this._e=E+this._e|0},c.prototype._hash=function(){var g=a.allocUnsafe(20);return g.writeInt32BE(0|this._a,0),g.writeInt32BE(0|this._b,4),g.writeInt32BE(0|this._c,8),g.writeInt32BE(0|this._d,12),g.writeInt32BE(0|this._e,16),g},n.exports=c},{"./hash":497,inherits:440,"safe-buffer":494}],501:[function(r,n,i){var o=r("inherits"),s=r("./sha256"),a=r("./hash"),l=r("safe-buffer").Buffer,u=new Array(64);function c(){this.init(),this._w=u,a.call(this,64,56)}o(c,s),c.prototype.init=function(){return this._a=3238371032,this._b=914150663,this._c=812702999,this._d=4144912697,this._e=4290775857,this._f=1750603025,this._g=1694076839,this._h=3204075428,this},c.prototype._hash=function(){var f=l.allocUnsafe(28);return f.writeInt32BE(this._a,0),f.writeInt32BE(this._b,4),f.writeInt32BE(this._c,8),f.writeInt32BE(this._d,12),f.writeInt32BE(this._e,16),f.writeInt32BE(this._f,20),f.writeInt32BE(this._g,24),f},n.exports=c},{"./hash":497,"./sha256":502,inherits:440,"safe-buffer":494}],502:[function(r,n,i){var o=r("inherits"),s=r("./hash"),a=r("safe-buffer").Buffer,l=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298],u=new Array(64);function c(){this.init(),this._w=u,s.call(this,64,56)}function f(p,y,b){return b^p&(y^b)}function d(p,y,b){return p&y|b&(p|y)}function h(p){return(p>>>2|p<<30)^(p>>>13|p<<19)^(p>>>22|p<<10)}function g(p){return(p>>>6|p<<26)^(p>>>11|p<<21)^(p>>>25|p<<7)}function m(p){return(p>>>7|p<<25)^(p>>>18|p<<14)^p>>>3}o(c,s),c.prototype.init=function(){return this._a=1779033703,this._b=3144134277,this._c=1013904242,this._d=2773480762,this._e=1359893119,this._f=2600822924,this._g=528734635,this._h=1541459225,this},c.prototype._update=function(p){for(var y,b=this._w,v=0|this._a,F=0|this._b,E=0|this._c,T=0|this._d,I=0|this._e,M=0|this._f,P=0|this._g,O=0|this._h,z=0;z<16;++z)b[z]=p.readInt32BE(4*z);for(;z<64;++z)b[z]=0|(((y=b[z-2])>>>17|y<<15)^(y>>>19|y<<13)^y>>>10)+b[z-7]+m(b[z-15])+b[z-16];for(var L=0;L<64;++L){var _=O+g(I)+f(I,M,P)+l[L]+b[L]|0,R=h(v)+d(v,F,E)|0;O=P,P=M,M=I,I=T+_|0,T=E,E=F,F=v,v=_+R|0}this._a=v+this._a|0,this._b=F+this._b|0,this._c=E+this._c|0,this._d=T+this._d|0,this._e=I+this._e|0,this._f=M+this._f|0,this._g=P+this._g|0,this._h=O+this._h|0},c.prototype._hash=function(){var p=a.allocUnsafe(32);return p.writeInt32BE(this._a,0),p.writeInt32BE(this._b,4),p.writeInt32BE(this._c,8),p.writeInt32BE(this._d,12),p.writeInt32BE(this._e,16),p.writeInt32BE(this._f,20),p.writeInt32BE(this._g,24),p.writeInt32BE(this._h,28),p},n.exports=c},{"./hash":497,inherits:440,"safe-buffer":494}],503:[function(r,n,i){var o=r("inherits"),s=r("./sha512"),a=r("./hash"),l=r("safe-buffer").Buffer,u=new Array(160);function c(){this.init(),this._w=u,a.call(this,128,112)}o(c,s),c.prototype.init=function(){return this._ah=3418070365,this._bh=1654270250,this._ch=2438529370,this._dh=355462360,this._eh=1731405415,this._fh=2394180231,this._gh=3675008525,this._hh=1203062813,this._al=3238371032,this._bl=914150663,this._cl=812702999,this._dl=4144912697,this._el=4290775857,this._fl=1750603025,this._gl=1694076839,this._hl=3204075428,this},c.prototype._hash=function(){var f=l.allocUnsafe(48);function d(h,g,m){f.writeInt32BE(h,m),f.writeInt32BE(g,m+4)}return d(this._ah,this._al,0),d(this._bh,this._bl,8),d(this._ch,this._cl,16),d(this._dh,this._dl,24),d(this._eh,this._el,32),d(this._fh,this._fl,40),f},n.exports=c},{"./hash":497,"./sha512":504,inherits:440,"safe-buffer":494}],504:[function(r,n,i){var o=r("inherits"),s=r("./hash"),a=r("safe-buffer").Buffer,l=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591],u=new Array(160);function c(){this.init(),this._w=u,s.call(this,128,112)}function f(F,E,T){return T^F&(E^T)}function d(F,E,T){return F&E|T&(F|E)}function h(F,E){return(F>>>28|E<<4)^(E>>>2|F<<30)^(E>>>7|F<<25)}function g(F,E){return(F>>>14|E<<18)^(F>>>18|E<<14)^(E>>>9|F<<23)}function m(F,E){return(F>>>1|E<<31)^(F>>>8|E<<24)^F>>>7}function p(F,E){return(F>>>1|E<<31)^(F>>>8|E<<24)^(F>>>7|E<<25)}function y(F,E){return(F>>>19|E<<13)^(E>>>29|F<<3)^F>>>6}function b(F,E){return(F>>>19|E<<13)^(E>>>29|F<<3)^(F>>>6|E<<26)}function v(F,E){return F>>>0<E>>>0?1:0}o(c,s),c.prototype.init=function(){return this._ah=1779033703,this._bh=3144134277,this._ch=1013904242,this._dh=2773480762,this._eh=1359893119,this._fh=2600822924,this._gh=528734635,this._hh=1541459225,this._al=4089235720,this._bl=2227873595,this._cl=4271175723,this._dl=1595750129,this._el=2917565137,this._fl=725511199,this._gl=4215389547,this._hl=327033209,this},c.prototype._update=function(F){for(var E=this._w,T=0|this._ah,I=0|this._bh,M=0|this._ch,P=0|this._dh,O=0|this._eh,z=0|this._fh,L=0|this._gh,_=0|this._hh,R=0|this._al,k=0|this._bl,S=0|this._cl,w=0|this._dl,C=0|this._el,x=0|this._fl,A=0|this._gl,D=0|this._hl,B=0;B<32;B+=2)E[B]=F.readInt32BE(4*B),E[B+1]=F.readInt32BE(4*B+4);for(;B<160;B+=2){var V=E[B-30],j=E[B-30+1],K=m(V,j),G=p(j,V),Y=y(V=E[B-4],j=E[B-4+1]),H=b(j,V),N=E[B-14],$=E[B-14+1],J=E[B-32],Q=E[B-32+1],ee=G+$|0,W=K+N+v(ee,G)|0;W=(W=W+Y+v(ee=ee+H|0,H)|0)+J+v(ee=ee+Q|0,Q)|0,E[B]=W,E[B+1]=ee}for(var ne=0;ne<160;ne+=2){W=E[ne],ee=E[ne+1];var re=d(T,I,M),q=d(R,k,S),X=h(T,R),te=h(R,T),se=g(O,C),oe=g(C,O),ie=l[ne],ae=l[ne+1],ue=f(O,z,L),ce=f(C,x,A),pe=D+oe|0,ye=_+se+v(pe,D)|0;ye=(ye=(ye=ye+ue+v(pe=pe+ce|0,ce)|0)+ie+v(pe=pe+ae|0,ae)|0)+W+v(pe=pe+ee|0,ee)|0;var ge=te+q|0,Re=X+re+v(ge,te)|0;_=L,D=A,L=z,A=x,z=O,x=C,O=P+ye+v(C=w+pe|0,w)|0,P=M,w=S,M=I,S=k,I=T,k=R,T=ye+Re+v(R=pe+ge|0,pe)|0}this._al=this._al+R|0,this._bl=this._bl+k|0,this._cl=this._cl+S|0,this._dl=this._dl+w|0,this._el=this._el+C|0,this._fl=this._fl+x|0,this._gl=this._gl+A|0,this._hl=this._hl+D|0,this._ah=this._ah+T+v(this._al,R)|0,this._bh=this._bh+I+v(this._bl,k)|0,this._ch=this._ch+M+v(this._cl,S)|0,this._dh=this._dh+P+v(this._dl,w)|0,this._eh=this._eh+O+v(this._el,C)|0,this._fh=this._fh+z+v(this._fl,x)|0,this._gh=this._gh+L+v(this._gl,A)|0,this._hh=this._hh+_+v(this._hl,D)|0},c.prototype._hash=function(){var F=a.allocUnsafe(64);function E(T,I,M){F.writeInt32BE(T,M),F.writeInt32BE(I,M+4)}return E(this._ah,this._al,0),E(this._bh,this._bl,8),E(this._ch,this._cl,16),E(this._dh,this._dl,24),E(this._eh,this._el,32),E(this._fh,this._fl,40),E(this._gh,this._gl,48),E(this._hh,this._hl,56),F},n.exports=c},{"./hash":497,inherits:440,"safe-buffer":494}],505:[function(r,n,i){n.exports=s;var o=r("events").EventEmitter;function s(){o.call(this)}r("inherits")(s,o),s.Readable=r("readable-stream/readable.js"),s.Writable=r("readable-stream/writable.js"),s.Duplex=r("readable-stream/duplex.js"),s.Transform=r("readable-stream/transform.js"),s.PassThrough=r("readable-stream/passthrough.js"),s.Stream=s,s.prototype.pipe=function(a,l){var u=this;function c(y){a.writable&&a.write(y)===!1&&u.pause&&u.pause()}function f(){u.readable&&u.resume&&u.resume()}u.on("data",c),a.on("drain",f),a._isStdio||l&&l.end===!1||(u.on("end",h),u.on("close",g));var d=!1;function h(){d||(d=!0,a.end())}function g(){d||(d=!0,typeof a.destroy=="function"&&a.destroy())}function m(y){if(p(),o.listenerCount(this,"error")===0)throw y}function p(){u.removeListener("data",c),a.removeListener("drain",f),u.removeListener("end",h),u.removeListener("close",g),u.removeListener("error",m),a.removeListener("error",m),u.removeListener("end",p),u.removeListener("close",p),a.removeListener("close",p)}return u.on("error",m),a.on("error",m),u.on("end",p),u.on("close",p),a.on("close",p),a.emit("pipe",u),a}},{events:422,inherits:440,"readable-stream/duplex.js":507,"readable-stream/passthrough.js":516,"readable-stream/readable.js":517,"readable-stream/transform.js":518,"readable-stream/writable.js":519}],506:[function(r,n,i){var o={}.toString;n.exports=Array.isArray||function(s){return o.call(s)=="[object Array]"}},{}],507:[function(r,n,i){n.exports=r("./lib/_stream_duplex.js")},{"./lib/_stream_duplex.js":508}],508:[function(r,n,i){var o=r("process-nextick-args"),s=Object.keys||function(p){var y=[];for(var b in p)y.push(b);return y};n.exports=h;var a=Object.create(r("core-util-is"));a.inherits=r("inherits");var l=r("./_stream_readable"),u=r("./_stream_writable");a.inherits(h,l);for(var c=s(u.prototype),f=0;f<c.length;f++){var d=c[f];h.prototype[d]||(h.prototype[d]=u.prototype[d])}function h(p){if(!(this instanceof h))return new h(p);l.call(this,p),u.call(this,p),p&&p.readable===!1&&(this.readable=!1),p&&p.writable===!1&&(this.writable=!1),this.allowHalfOpen=!0,p&&p.allowHalfOpen===!1&&(this.allowHalfOpen=!1),this.once("end",g)}function g(){this.allowHalfOpen||this._writableState.ended||o.nextTick(m,this)}function m(p){p.end()}Object.defineProperty(h.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Object.defineProperty(h.prototype,"destroyed",{get:function(){return this._readableState!==void 0&&this._writableState!==void 0&&this._readableState.destroyed&&this._writableState.destroyed},set:function(p){this._readableState!==void 0&&this._writableState!==void 0&&(this._readableState.destroyed=p,this._writableState.destroyed=p)}}),h.prototype._destroy=function(p,y){this.push(null),this.end(),o.nextTick(y,p)}},{"./_stream_readable":510,"./_stream_writable":512,"core-util-is":383,inherits:440,"process-nextick-args":466}],509:[function(r,n,i){n.exports=a;var o=r("./_stream_transform"),s=Object.create(r("core-util-is"));function a(l){if(!(this instanceof a))return new a(l);o.call(this,l)}s.inherits=r("inherits"),s.inherits(a,o),a.prototype._transform=function(l,u,c){c(null,l)}},{"./_stream_transform":511,"core-util-is":383,inherits:440}],510:[function(r,n,i){(function(o,s){(function(){var a=r("process-nextick-args");n.exports=T;var l,u=r("isarray");T.ReadableState=E,r("events").EventEmitter;var c=function(D,B){return D.listeners(B).length},f=r("./internal/streams/stream"),d=r("safe-buffer").Buffer,h=(s!==void 0?s:typeof window<"u"?window:typeof self<"u"?self:{}).Uint8Array||function(){},g=Object.create(r("core-util-is"));g.inherits=r("inherits");var m=r("util"),p=void 0;p=m&&m.debuglog?m.debuglog("stream"):function(){};var y,b=r("./internal/streams/BufferList"),v=r("./internal/streams/destroy");g.inherits(T,f);var F=["error","close","destroy","pause","resume"];function E(D,B){D=D||{};var V=B instanceof(l=l||r("./_stream_duplex"));this.objectMode=!!D.objectMode,V&&(this.objectMode=this.objectMode||!!D.readableObjectMode);var j=D.highWaterMark,K=D.readableHighWaterMark,G=this.objectMode?16:16384;this.highWaterMark=j||j===0?j:V&&(K||K===0)?K:G,this.highWaterMark=Math.floor(this.highWaterMark),this.buffer=new b,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.destroyed=!1,this.defaultEncoding=D.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,D.encoding&&(y||(y=r("string_decoder/").StringDecoder),this.decoder=new y(D.encoding),this.encoding=D.encoding)}function T(D){if(l=l||r("./_stream_duplex"),!(this instanceof T))return new T(D);this._readableState=new E(D,this),this.readable=!0,D&&(typeof D.read=="function"&&(this._read=D.read),typeof D.destroy=="function"&&(this._destroy=D.destroy)),f.call(this)}function I(D,B,V,j,K){var G,Y=D._readableState;return B===null?(Y.reading=!1,(function(H,N){if(!N.ended){if(N.decoder){var $=N.decoder.end();$&&$.length&&(N.buffer.push($),N.length+=N.objectMode?1:$.length)}N.ended=!0,O(H)}})(D,Y)):(K||(G=(function(H,N){var $;J=N,d.isBuffer(J)||J instanceof h||typeof N=="string"||N===void 0||H.objectMode||($=new TypeError("Invalid non-string/buffer chunk"));var J;return $})(Y,B)),G?D.emit("error",G):Y.objectMode||B&&B.length>0?(typeof B=="string"||Y.objectMode||Object.getPrototypeOf(B)===d.prototype||(B=(function(H){return d.from(H)})(B)),j?Y.endEmitted?D.emit("error",new Error("stream.unshift() after end event")):M(D,Y,B,!0):Y.ended?D.emit("error",new Error("stream.push() after EOF")):(Y.reading=!1,Y.decoder&&!V?(B=Y.decoder.write(B),Y.objectMode||B.length!==0?M(D,Y,B,!1):L(D,Y)):M(D,Y,B,!1))):j||(Y.reading=!1)),(function(H){return!H.ended&&(H.needReadable||H.length<H.highWaterMark||H.length===0)})(Y)}function M(D,B,V,j){B.flowing&&B.length===0&&!B.sync?(D.emit("data",V),D.read(0)):(B.length+=B.objectMode?1:V.length,j?B.buffer.unshift(V):B.buffer.push(V),B.needReadable&&O(D)),L(D,B)}Object.defineProperty(T.prototype,"destroyed",{get:function(){return this._readableState!==void 0&&this._readableState.destroyed},set:function(D){this._readableState&&(this._readableState.destroyed=D)}}),T.prototype.destroy=v.destroy,T.prototype._undestroy=v.undestroy,T.prototype._destroy=function(D,B){this.push(null),B(D)},T.prototype.push=function(D,B){var V,j=this._readableState;return j.objectMode?V=!0:typeof D=="string"&&((B=B||j.defaultEncoding)!==j.encoding&&(D=d.from(D,B),B=""),V=!0),I(this,D,B,!1,V)},T.prototype.unshift=function(D){return I(this,D,null,!0,!1)},T.prototype.isPaused=function(){return this._readableState.flowing===!1},T.prototype.setEncoding=function(D){return y||(y=r("string_decoder/").StringDecoder),this._readableState.decoder=new y(D),this._readableState.encoding=D,this};function P(D,B){return D<=0||B.length===0&&B.ended?0:B.objectMode?1:D!=D?B.flowing&&B.length?B.buffer.head.data.length:B.length:(D>B.highWaterMark&&(B.highWaterMark=(function(V){return V>=8388608?V=8388608:(V--,V|=V>>>1,V|=V>>>2,V|=V>>>4,V|=V>>>8,V|=V>>>16,V++),V})(D)),D<=B.length?D:B.ended?B.length:(B.needReadable=!0,0))}function O(D){var B=D._readableState;B.needReadable=!1,B.emittedReadable||(p("emitReadable",B.flowing),B.emittedReadable=!0,B.sync?a.nextTick(z,D):z(D))}function z(D){p("emit readable"),D.emit("readable"),S(D)}function L(D,B){B.readingMore||(B.readingMore=!0,a.nextTick(_,D,B))}function _(D,B){for(var V=B.length;!B.reading&&!B.flowing&&!B.ended&&B.length<B.highWaterMark&&(p("maybeReadMore read 0"),D.read(0),V!==B.length);)V=B.length;B.readingMore=!1}function R(D){p("readable nexttick read 0"),D.read(0)}function k(D,B){B.reading||(p("resume read 0"),D.read(0)),B.resumeScheduled=!1,B.awaitDrain=0,D.emit("resume"),S(D),B.flowing&&!B.reading&&D.read(0)}function S(D){var B=D._readableState;for(p("flow",B.flowing);B.flowing&&D.read()!==null;);}function w(D,B){return B.length===0?null:(B.objectMode?V=B.buffer.shift():!D||D>=B.length?(V=B.decoder?B.buffer.join(""):B.buffer.length===1?B.buffer.head.data:B.buffer.concat(B.length),B.buffer.clear()):V=(function(j,K,G){var Y;return j<K.head.data.length?(Y=K.head.data.slice(0,j),K.head.data=K.head.data.slice(j)):Y=j===K.head.data.length?K.shift():G?(function(H,N){var $=N.head,J=1,Q=$.data;for(H-=Q.length;$=$.next;){var ee=$.data,W=H>ee.length?ee.length:H;if(W===ee.length?Q+=ee:Q+=ee.slice(0,H),(H-=W)===0){W===ee.length?(++J,$.next?N.head=$.next:N.head=N.tail=null):(N.head=$,$.data=ee.slice(W));break}++J}return N.length-=J,Q})(j,K):(function(H,N){var $=d.allocUnsafe(H),J=N.head,Q=1;for(J.data.copy($),H-=J.data.length;J=J.next;){var ee=J.data,W=H>ee.length?ee.length:H;if(ee.copy($,$.length-H,0,W),(H-=W)===0){W===ee.length?(++Q,J.next?N.head=J.next:N.head=N.tail=null):(N.head=J,J.data=ee.slice(W));break}++Q}return N.length-=Q,$})(j,K),Y})(D,B.buffer,B.decoder),V);var V}function C(D){var B=D._readableState;if(B.length>0)throw new Error('"endReadable()" called on non-empty stream');B.endEmitted||(B.ended=!0,a.nextTick(x,B,D))}function x(D,B){D.endEmitted||D.length!==0||(D.endEmitted=!0,B.readable=!1,B.emit("end"))}function A(D,B){for(var V=0,j=D.length;V<j;V++)if(D[V]===B)return V;return-1}T.prototype.read=function(D){p("read",D),D=parseInt(D,10);var B=this._readableState,V=D;if(D!==0&&(B.emittedReadable=!1),D===0&&B.needReadable&&(B.length>=B.highWaterMark||B.ended))return p("read: emitReadable",B.length,B.ended),B.length===0&&B.ended?C(this):O(this),null;if((D=P(D,B))===0&&B.ended)return B.length===0&&C(this),null;var j,K=B.needReadable;return p("need readable",K),(B.length===0||B.length-D<B.highWaterMark)&&p("length less than watermark",K=!0),B.ended||B.reading?p("reading or ended",K=!1):K&&(p("do read"),B.reading=!0,B.sync=!0,B.length===0&&(B.needReadable=!0),this._read(B.highWaterMark),B.sync=!1,B.reading||(D=P(V,B))),(j=D>0?w(D,B):null)===null?(B.needReadable=!0,D=0):B.length-=D,B.length===0&&(B.ended||(B.needReadable=!0),V!==D&&B.ended&&C(this)),j!==null&&this.emit("data",j),j},T.prototype._read=function(D){this.emit("error",new Error("_read() is not implemented"))},T.prototype.pipe=function(D,B){var V=this,j=this._readableState;switch(j.pipesCount){case 0:j.pipes=D;break;case 1:j.pipes=[j.pipes,D];break;default:j.pipes.push(D)}j.pipesCount+=1,p("pipe count=%d opts=%j",j.pipesCount,B);var K=(!B||B.end!==!1)&&D!==o.stdout&&D!==o.stderr?Y:ne;function G(re,q){p("onunpipe"),re===V&&q&&q.hasUnpiped===!1&&(q.hasUnpiped=!0,p("cleanup"),D.removeListener("close",ee),D.removeListener("finish",W),D.removeListener("drain",H),D.removeListener("error",Q),D.removeListener("unpipe",G),V.removeListener("end",Y),V.removeListener("end",ne),V.removeListener("data",J),N=!0,!j.awaitDrain||D._writableState&&!D._writableState.needDrain||H())}function Y(){p("onend"),D.end()}j.endEmitted?a.nextTick(K):V.once("end",K),D.on("unpipe",G);var H=(function(re){return function(){var q=re._readableState;p("pipeOnDrain",q.awaitDrain),q.awaitDrain&&q.awaitDrain--,q.awaitDrain===0&&c(re,"data")&&(q.flowing=!0,S(re))}})(V);D.on("drain",H);var N=!1,$=!1;function J(re){p("ondata"),$=!1,D.write(re)!==!1||$||((j.pipesCount===1&&j.pipes===D||j.pipesCount>1&&A(j.pipes,D)!==-1)&&!N&&(p("false write response, pause",j.awaitDrain),j.awaitDrain++,$=!0),V.pause())}function Q(re){p("onerror",re),ne(),D.removeListener("error",Q),c(D,"error")===0&&D.emit("error",re)}function ee(){D.removeListener("finish",W),ne()}function W(){p("onfinish"),D.removeListener("close",ee),ne()}function ne(){p("unpipe"),V.unpipe(D)}return V.on("data",J),(function(re,q,X){if(typeof re.prependListener=="function")return re.prependListener(q,X);re._events&&re._events[q]?u(re._events[q])?re._events[q].unshift(X):re._events[q]=[X,re._events[q]]:re.on(q,X)})(D,"error",Q),D.once("close",ee),D.once("finish",W),D.emit("pipe",V),j.flowing||(p("pipe resume"),V.resume()),D},T.prototype.unpipe=function(D){var B=this._readableState,V={hasUnpiped:!1};if(B.pipesCount===0)return this;if(B.pipesCount===1)return D&&D!==B.pipes||(D||(D=B.pipes),B.pipes=null,B.pipesCount=0,B.flowing=!1,D&&D.emit("unpipe",this,V)),this;if(!D){var j=B.pipes,K=B.pipesCount;B.pipes=null,B.pipesCount=0,B.flowing=!1;for(var G=0;G<K;G++)j[G].emit("unpipe",this,{hasUnpiped:!1});return this}var Y=A(B.pipes,D);return Y===-1||(B.pipes.splice(Y,1),B.pipesCount-=1,B.pipesCount===1&&(B.pipes=B.pipes[0]),D.emit("unpipe",this,V)),this},T.prototype.on=function(D,B){var V=f.prototype.on.call(this,D,B);if(D==="data")this._readableState.flowing!==!1&&this.resume();else if(D==="readable"){var j=this._readableState;j.endEmitted||j.readableListening||(j.readableListening=j.needReadable=!0,j.emittedReadable=!1,j.reading?j.length&&O(this):a.nextTick(R,this))}return V},T.prototype.addListener=T.prototype.on,T.prototype.resume=function(){var D=this._readableState;return D.flowing||(p("resume"),D.flowing=!0,(function(B,V){V.resumeScheduled||(V.resumeScheduled=!0,a.nextTick(k,B,V))})(this,D)),this},T.prototype.pause=function(){return p("call pause flowing=%j",this._readableState.flowing),this._readableState.flowing!==!1&&(p("pause"),this._readableState.flowing=!1,this.emit("pause")),this},T.prototype.wrap=function(D){var B=this,V=this._readableState,j=!1;for(var K in D.on("end",(function(){if(p("wrapped end"),V.decoder&&!V.ended){var Y=V.decoder.end();Y&&Y.length&&B.push(Y)}B.push(null)})),D.on("data",(function(Y){p("wrapped data"),V.decoder&&(Y=V.decoder.write(Y)),V.objectMode&&Y==null||(V.objectMode||Y&&Y.length)&&(B.push(Y)||(j=!0,D.pause()))})),D)this[K]===void 0&&typeof D[K]=="function"&&(this[K]=(function(Y){return function(){return D[Y].apply(D,arguments)}})(K));for(var G=0;G<F.length;G++)D.on(F[G],this.emit.bind(this,F[G]));return this._read=function(Y){p("wrapped _read",Y),j&&(j=!1,D.resume())},this},Object.defineProperty(T.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),T._fromList=w}).call(this)}).call(this,r("_process"),typeof lt<"u"?lt:typeof self<"u"?self:typeof window<"u"?window:{})},{"./_stream_duplex":508,"./internal/streams/BufferList":513,"./internal/streams/destroy":514,"./internal/streams/stream":515,_process:467,"core-util-is":383,events:422,inherits:440,isarray:506,"process-nextick-args":466,"safe-buffer":520,"string_decoder/":521,util:188}],511:[function(r,n,i){n.exports=l;var o=r("./_stream_duplex"),s=Object.create(r("core-util-is"));function a(f,d){var h=this._transformState;h.transforming=!1;var g=h.writecb;if(!g)return this.emit("error",new Error("write callback called multiple times"));h.writechunk=null,h.writecb=null,d!=null&&this.push(d),g(f);var m=this._readableState;m.reading=!1,(m.needReadable||m.length<m.highWaterMark)&&this._read(m.highWaterMark)}function l(f){if(!(this instanceof l))return new l(f);o.call(this,f),this._transformState={afterTransform:a.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,f&&(typeof f.transform=="function"&&(this._transform=f.transform),typeof f.flush=="function"&&(this._flush=f.flush)),this.on("prefinish",u)}function u(){var f=this;typeof this._flush=="function"?this._flush((function(d,h){c(f,d,h)})):c(this,null,null)}function c(f,d,h){if(d)return f.emit("error",d);if(h!=null&&f.push(h),f._writableState.length)throw new Error("Calling transform done when ws.length != 0");if(f._transformState.transforming)throw new Error("Calling transform done when still transforming");return f.push(null)}s.inherits=r("inherits"),s.inherits(l,o),l.prototype.push=function(f,d){return this._transformState.needTransform=!1,o.prototype.push.call(this,f,d)},l.prototype._transform=function(f,d,h){throw new Error("_transform() is not implemented")},l.prototype._write=function(f,d,h){var g=this._transformState;if(g.writecb=h,g.writechunk=f,g.writeencoding=d,!g.transforming){var m=this._readableState;(g.needTransform||m.needReadable||m.length<m.highWaterMark)&&this._read(m.highWaterMark)}},l.prototype._read=function(f){var d=this._transformState;d.writechunk!==null&&d.writecb&&!d.transforming?(d.transforming=!0,this._transform(d.writechunk,d.writeencoding,d.afterTransform)):d.needTransform=!0},l.prototype._destroy=function(f,d){var h=this;o.prototype._destroy.call(this,f,(function(g){d(g),h.emit("close")}))}},{"./_stream_duplex":508,"core-util-is":383,inherits:440}],512:[function(r,n,i){(function(o,s,a){(function(){var l=r("process-nextick-args");function u(L){var _=this;this.next=null,this.entry=null,this.finish=function(){(function(R,k,S){var w=R.entry;for(R.entry=null;w;){var C=w.callback;k.pendingcb--,C(S),w=w.next}k.corkedRequestsFree.next=R})(_,L)}}n.exports=E;var c,f=!o.browser&&["v0.10","v0.9."].indexOf(o.version.slice(0,5))>-1?a:l.nextTick;E.WritableState=F;var d=Object.create(r("core-util-is"));d.inherits=r("inherits");var h={deprecate:r("util-deprecate")},g=r("./internal/streams/stream"),m=r("safe-buffer").Buffer,p=(s!==void 0?s:typeof window<"u"?window:typeof self<"u"?self:{}).Uint8Array||function(){},y,b=r("./internal/streams/destroy");function v(){}function F(L,_){c=c||r("./_stream_duplex"),L=L||{};var R=_ instanceof c;this.objectMode=!!L.objectMode,R&&(this.objectMode=this.objectMode||!!L.writableObjectMode);var k=L.highWaterMark,S=L.writableHighWaterMark,w=this.objectMode?16:16384;this.highWaterMark=k||k===0?k:R&&(S||S===0)?S:w,this.highWaterMark=Math.floor(this.highWaterMark),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var C=L.decodeStrings===!1;this.decodeStrings=!C,this.defaultEncoding=L.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(x){(function(A,D){var B=A._writableState,V=B.sync,j=B.writecb;if((function(G){G.writing=!1,G.writecb=null,G.length-=G.writelen,G.writelen=0})(B),D)(function(G,Y,H,N,$){--Y.pendingcb,H?(l.nextTick($,N),l.nextTick(z,G,Y),G._writableState.errorEmitted=!0,G.emit("error",N)):($(N),G._writableState.errorEmitted=!0,G.emit("error",N),z(G,Y))})(A,B,V,D,j);else{var K=P(B);K||B.corked||B.bufferProcessing||!B.bufferedRequest||M(A,B),V?f(I,A,B,K,j):I(A,B,K,j)}})(_,x)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.bufferedRequestCount=0,this.corkedRequestsFree=new u(this)}function E(L){if(c=c||r("./_stream_duplex"),!(y.call(E,this)||this instanceof c))return new E(L);this._writableState=new F(L,this),this.writable=!0,L&&(typeof L.write=="function"&&(this._write=L.write),typeof L.writev=="function"&&(this._writev=L.writev),typeof L.destroy=="function"&&(this._destroy=L.destroy),typeof L.final=="function"&&(this._final=L.final)),g.call(this)}function T(L,_,R,k,S,w,C){_.writelen=k,_.writecb=C,_.writing=!0,_.sync=!0,R?L._writev(S,_.onwrite):L._write(S,w,_.onwrite),_.sync=!1}function I(L,_,R,k){R||(function(S,w){w.length===0&&w.needDrain&&(w.needDrain=!1,S.emit("drain"))})(L,_),_.pendingcb--,k(),z(L,_)}function M(L,_){_.bufferProcessing=!0;var R=_.bufferedRequest;if(L._writev&&R&&R.next){var k=_.bufferedRequestCount,S=new Array(k),w=_.corkedRequestsFree;w.entry=R;for(var C=0,x=!0;R;)S[C]=R,R.isBuf||(x=!1),R=R.next,C+=1;S.allBuffers=x,T(L,_,!0,_.length,S,"",w.finish),_.pendingcb++,_.lastBufferedRequest=null,w.next?(_.corkedRequestsFree=w.next,w.next=null):_.corkedRequestsFree=new u(_),_.bufferedRequestCount=0}else{for(;R;){var A=R.chunk,D=R.encoding,B=R.callback;if(T(L,_,!1,_.objectMode?1:A.length,A,D,B),R=R.next,_.bufferedRequestCount--,_.writing)break}R===null&&(_.lastBufferedRequest=null)}_.bufferedRequest=R,_.bufferProcessing=!1}function P(L){return L.ending&&L.length===0&&L.bufferedRequest===null&&!L.finished&&!L.writing}function O(L,_){L._final((function(R){_.pendingcb--,R&&L.emit("error",R),_.prefinished=!0,L.emit("prefinish"),z(L,_)}))}function z(L,_){var R=P(_);return R&&((function(k,S){S.prefinished||S.finalCalled||(typeof k._final=="function"?(S.pendingcb++,S.finalCalled=!0,l.nextTick(O,k,S)):(S.prefinished=!0,k.emit("prefinish")))})(L,_),_.pendingcb===0&&(_.finished=!0,L.emit("finish"))),R}d.inherits(E,g),F.prototype.getBuffer=function(){for(var L=this.bufferedRequest,_=[];L;)_.push(L),L=L.next;return _},(function(){try{Object.defineProperty(F.prototype,"buffer",{get:h.deprecate((function(){return this.getBuffer()}),"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch{}})(),typeof Symbol=="function"&&Symbol.hasInstance&&typeof Function.prototype[Symbol.hasInstance]=="function"?(y=Function.prototype[Symbol.hasInstance],Object.defineProperty(E,Symbol.hasInstance,{value:function(L){return!!y.call(this,L)||this===E&&L&&L._writableState instanceof F}})):y=function(L){return L instanceof this},E.prototype.pipe=function(){this.emit("error",new Error("Cannot pipe, not readable"))},E.prototype.write=function(L,_,R){var k,S=this._writableState,w=!1,C=!S.objectMode&&(k=L,m.isBuffer(k)||k instanceof p);return C&&!m.isBuffer(L)&&(L=(function(x){return m.from(x)})(L)),typeof _=="function"&&(R=_,_=null),C?_="buffer":_||(_=S.defaultEncoding),typeof R!="function"&&(R=v),S.ended?(function(x,A){var D=new Error("write after end");x.emit("error",D),l.nextTick(A,D)})(this,R):(C||(function(x,A,D,B){var V=!0,j=!1;return D===null?j=new TypeError("May not write null values to stream"):typeof D=="string"||D===void 0||A.objectMode||(j=new TypeError("Invalid non-string/buffer chunk")),j&&(x.emit("error",j),l.nextTick(B,j),V=!1),V})(this,S,L,R))&&(S.pendingcb++,w=(function(x,A,D,B,V,j){if(!D){var K=(function(N,$,J){return N.objectMode||N.decodeStrings===!1||typeof $!="string"||($=m.from($,J)),$})(A,B,V);B!==K&&(D=!0,V="buffer",B=K)}var G=A.objectMode?1:B.length;A.length+=G;var Y=A.length<A.highWaterMark;if(Y||(A.needDrain=!0),A.writing||A.corked){var H=A.lastBufferedRequest;A.lastBufferedRequest={chunk:B,encoding:V,isBuf:D,callback:j,next:null},H?H.next=A.lastBufferedRequest:A.bufferedRequest=A.lastBufferedRequest,A.bufferedRequestCount+=1}else T(x,A,!1,G,B,V,j);return Y})(this,S,C,L,_,R)),w},E.prototype.cork=function(){this._writableState.corked++},E.prototype.uncork=function(){var L=this._writableState;L.corked&&(L.corked--,L.writing||L.corked||L.bufferProcessing||!L.bufferedRequest||M(this,L))},E.prototype.setDefaultEncoding=function(L){if(typeof L=="string"&&(L=L.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((L+"").toLowerCase())>-1))throw new TypeError("Unknown encoding: "+L);return this._writableState.defaultEncoding=L,this},Object.defineProperty(E.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),E.prototype._write=function(L,_,R){R(new Error("_write() is not implemented"))},E.prototype._writev=null,E.prototype.end=function(L,_,R){var k=this._writableState;typeof L=="function"?(R=L,L=null,_=null):typeof _=="function"&&(R=_,_=null),L!=null&&this.write(L,_),k.corked&&(k.corked=1,this.uncork()),k.ending||(function(S,w,C){w.ending=!0,z(S,w),C&&(w.finished?l.nextTick(C):S.once("finish",C)),w.ended=!0,S.writable=!1})(this,k,R)},Object.defineProperty(E.prototype,"destroyed",{get:function(){return this._writableState!==void 0&&this._writableState.destroyed},set:function(L){this._writableState&&(this._writableState.destroyed=L)}}),E.prototype.destroy=b.destroy,E.prototype._undestroy=b.undestroy,E.prototype._destroy=function(L,_){this.end(),_(L)}}).call(this)}).call(this,r("_process"),typeof lt<"u"?lt:typeof self<"u"?self:typeof window<"u"?window:{},r("timers").setImmediate)},{"./_stream_duplex":508,"./internal/streams/destroy":514,"./internal/streams/stream":515,_process:467,"core-util-is":383,inherits:440,"process-nextick-args":466,"safe-buffer":520,timers:523,"util-deprecate":524}],513:[function(r,n,i){var o=r("safe-buffer").Buffer,s=r("util");n.exports=(function(){function a(){(function(l,u){if(!(l instanceof u))throw new TypeError("Cannot call a class as a function")})(this,a),this.head=null,this.tail=null,this.length=0}return a.prototype.push=function(l){var u={data:l,next:null};this.length>0?this.tail.next=u:this.head=u,this.tail=u,++this.length},a.prototype.unshift=function(l){var u={data:l,next:this.head};this.length===0&&(this.tail=u),this.head=u,++this.length},a.prototype.shift=function(){if(this.length!==0){var l=this.head.data;return this.length===1?this.head=this.tail=null:this.head=this.head.next,--this.length,l}},a.prototype.clear=function(){this.head=this.tail=null,this.length=0},a.prototype.join=function(l){if(this.length===0)return"";for(var u=this.head,c=""+u.data;u=u.next;)c+=l+u.data;return c},a.prototype.concat=function(l){if(this.length===0)return o.alloc(0);for(var u,c,f,d=o.allocUnsafe(l>>>0),h=this.head,g=0;h;)u=h.data,c=d,f=g,u.copy(c,f),g+=h.data.length,h=h.next;return d},a})(),s&&s.inspect&&s.inspect.custom&&(n.exports.prototype[s.inspect.custom]=function(){var a=s.inspect({length:this.length});return this.constructor.name+" "+a})},{"safe-buffer":520,util:188}],514:[function(r,n,i){var o=r("process-nextick-args");function s(a,l){a.emit("error",l)}n.exports={destroy:function(a,l){var u=this,c=this._readableState&&this._readableState.destroyed,f=this._writableState&&this._writableState.destroyed;return c||f?(l?l(a):a&&(this._writableState?this._writableState.errorEmitted||(this._writableState.errorEmitted=!0,o.nextTick(s,this,a)):o.nextTick(s,this,a)),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(a||null,(function(d){!l&&d?u._writableState?u._writableState.errorEmitted||(u._writableState.errorEmitted=!0,o.nextTick(s,u,d)):o.nextTick(s,u,d):l&&l(d)})),this)},undestroy:function(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finalCalled=!1,this._writableState.prefinished=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)}}},{"process-nextick-args":466}],515:[function(r,n,i){arguments[4][490][0].apply(i,arguments)},{dup:490,events:422}],516:[function(r,n,i){n.exports=r("./readable").PassThrough},{"./readable":517}],517:[function(r,n,i){(i=n.exports=r("./lib/_stream_readable.js")).Stream=i,i.Readable=i,i.Writable=r("./lib/_stream_writable.js"),i.Duplex=r("./lib/_stream_duplex.js"),i.Transform=r("./lib/_stream_transform.js"),i.PassThrough=r("./lib/_stream_passthrough.js")},{"./lib/_stream_duplex.js":508,"./lib/_stream_passthrough.js":509,"./lib/_stream_readable.js":510,"./lib/_stream_transform.js":511,"./lib/_stream_writable.js":512}],518:[function(r,n,i){n.exports=r("./readable").Transform},{"./readable":517}],519:[function(r,n,i){n.exports=r("./lib/_stream_writable.js")},{"./lib/_stream_writable.js":512}],520:[function(r,n,i){arguments[4][217][0].apply(i,arguments)},{buffer:220,dup:217}],521:[function(r,n,i){arguments[4][218][0].apply(i,arguments)},{dup:218,"safe-buffer":520}],522:[function(r,n,i){arguments[4][218][0].apply(i,arguments)},{dup:218,"safe-buffer":494}],523:[function(r,n,i){(function(o,s){(function(){var a=r("process/browser.js").nextTick,l=Function.prototype.apply,u=Array.prototype.slice,c={},f=0;function d(h,g){this._id=h,this._clearFn=g}i.setTimeout=function(){return new d(l.call(setTimeout,window,arguments),clearTimeout)},i.setInterval=function(){return new d(l.call(setInterval,window,arguments),clearInterval)},i.clearTimeout=i.clearInterval=function(h){h.close()},d.prototype.unref=d.prototype.ref=function(){},d.prototype.close=function(){this._clearFn.call(window,this._id)},i.enroll=function(h,g){clearTimeout(h._idleTimeoutId),h._idleTimeout=g},i.unenroll=function(h){clearTimeout(h._idleTimeoutId),h._idleTimeout=-1},i._unrefActive=i.active=function(h){clearTimeout(h._idleTimeoutId);var g=h._idleTimeout;g>=0&&(h._idleTimeoutId=setTimeout((function(){h._onTimeout&&h._onTimeout()}),g))},i.setImmediate=typeof o=="function"?o:function(h){var g=f++,m=!(arguments.length<2)&&u.call(arguments,1);return c[g]=!0,a((function(){c[g]&&(m?h.apply(null,m):h.call(null),i.clearImmediate(g))})),g},i.clearImmediate=typeof s=="function"?s:function(h){delete c[h]}}).call(this)}).call(this,r("timers").setImmediate,r("timers").clearImmediate)},{"process/browser.js":467,timers:523}],524:[function(r,n,i){(function(o){(function(){function s(a){try{if(!o.localStorage)return!1}catch{return!1}var l=o.localStorage[a];return l!=null&&String(l).toLowerCase()==="true"}n.exports=function(a,l){if(s("noDeprecation"))return a;var u=!1;return function(){if(!u){if(s("throwDeprecation"))throw new Error(l);s("traceDeprecation")?console.trace(l):console.warn(l),u=!0}return a.apply(this,arguments)}}}).call(this)}).call(this,typeof lt<"u"?lt:typeof self<"u"?self:typeof window<"u"?window:{})},{}],525:[function(r,n,i){typeof Object.create=="function"?n.exports=function(o,s){o.super_=s,o.prototype=Object.create(s.prototype,{constructor:{value:o,enumerable:!1,writable:!0,configurable:!0}})}:n.exports=function(o,s){o.super_=s;var a=function(){};a.prototype=s.prototype,o.prototype=new a,o.prototype.constructor=o}},{}],526:[function(r,n,i){n.exports=function(o){return o&&typeof o=="object"&&typeof o.copy=="function"&&typeof o.fill=="function"&&typeof o.readUInt8=="function"}},{}],527:[function(r,n,i){(function(o,s){(function(){var a=/%[sdj%]/g;i.format=function(S){if(!F(S)){for(var w=[],C=0;C<arguments.length;C++)w.push(c(arguments[C]));return w.join(" ")}C=1;for(var x=arguments,A=x.length,D=String(S).replace(a,(function(V){if(V==="%%")return"%";if(C>=A)return V;switch(V){case"%s":return String(x[C++]);case"%d":return Number(x[C++]);case"%j":try{return JSON.stringify(x[C++])}catch{return"[Circular]"}default:return V}})),B=x[C];C<A;B=x[++C])b(B)||!I(B)?D+=" "+B:D+=" "+c(B);return D},i.deprecate=function(S,w){if(E(s.process))return function(){return i.deprecate(S,w).apply(this,arguments)};if(o.noDeprecation===!0)return S;var C=!1;return function(){if(!C){if(o.throwDeprecation)throw new Error(w);o.traceDeprecation?console.trace(w):console.error(w),C=!0}return S.apply(this,arguments)}};var l,u={};function c(S,w){var C={seen:[],stylize:d};return arguments.length>=3&&(C.depth=arguments[2]),arguments.length>=4&&(C.colors=arguments[3]),y(w)?C.showHidden=w:w&&i._extend(C,w),E(C.showHidden)&&(C.showHidden=!1),E(C.depth)&&(C.depth=2),E(C.colors)&&(C.colors=!1),E(C.customInspect)&&(C.customInspect=!0),C.colors&&(C.stylize=f),h(C,S,C.depth)}function f(S,w){var C=c.styles[w];return C?"\x1B["+c.colors[C][0]+"m"+S+"\x1B["+c.colors[C][1]+"m":S}function d(S,w){return S}function h(S,w,C){if(S.customInspect&&w&&O(w.inspect)&&w.inspect!==i.inspect&&(!w.constructor||w.constructor.prototype!==w)){var x=w.inspect(C,S);return F(x)||(x=h(S,x,C)),x}var A=(function(H,N){if(E(N))return H.stylize("undefined","undefined");if(F(N)){var $="'"+JSON.stringify(N).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return H.stylize($,"string")}if(v(N))return H.stylize(""+N,"number");if(y(N))return H.stylize(""+N,"boolean");if(b(N))return H.stylize("null","null")})(S,w);if(A)return A;var D=Object.keys(w),B=(function(H){var N={};return H.forEach((function($,J){N[$]=!0})),N})(D);if(S.showHidden&&(D=Object.getOwnPropertyNames(w)),P(w)&&(D.indexOf("message")>=0||D.indexOf("description")>=0))return g(w);if(D.length===0){if(O(w)){var V=w.name?": "+w.name:"";return S.stylize("[Function"+V+"]","special")}if(T(w))return S.stylize(RegExp.prototype.toString.call(w),"regexp");if(M(w))return S.stylize(Date.prototype.toString.call(w),"date");if(P(w))return g(w)}var j,K="",G=!1,Y=["{","}"];return p(w)&&(G=!0,Y=["[","]"]),O(w)&&(K=" [Function"+(w.name?": "+w.name:"")+"]"),T(w)&&(K=" "+RegExp.prototype.toString.call(w)),M(w)&&(K=" "+Date.prototype.toUTCString.call(w)),P(w)&&(K=" "+g(w)),D.length!==0||G&&w.length!=0?C<0?T(w)?S.stylize(RegExp.prototype.toString.call(w),"regexp"):S.stylize("[Object]","special"):(S.seen.push(w),j=G?(function(H,N,$,J,Q){for(var ee=[],W=0,ne=N.length;W<ne;++W)k(N,String(W))?ee.push(m(H,N,$,J,String(W),!0)):ee.push("");return Q.forEach((function(re){re.match(/^\d+$/)||ee.push(m(H,N,$,J,re,!0))})),ee})(S,w,C,B,D):D.map((function(H){return m(S,w,C,B,H,G)})),S.seen.pop(),(function(H,N,$){return H.reduce((function(J,Q){return Q.indexOf(`
`)>=0,J+Q.replace(/\u001b\[\d\d?m/g,"").length+1}),0)>60?$[0]+(N===""?"":N+`
 `)+" "+H.join(`,
  `)+" "+$[1]:$[0]+N+" "+H.join(", ")+" "+$[1]})(j,K,Y)):Y[0]+K+Y[1]}function g(S){return"["+Error.prototype.toString.call(S)+"]"}function m(S,w,C,x,A,D){var B,V,j;if((j=Object.getOwnPropertyDescriptor(w,A)||{value:w[A]}).get?V=j.set?S.stylize("[Getter/Setter]","special"):S.stylize("[Getter]","special"):j.set&&(V=S.stylize("[Setter]","special")),k(x,A)||(B="["+A+"]"),V||(S.seen.indexOf(j.value)<0?(V=b(C)?h(S,j.value,null):h(S,j.value,C-1)).indexOf(`
`)>-1&&(V=D?V.split(`
`).map((function(K){return"  "+K})).join(`
`).substr(2):`
`+V.split(`
`).map((function(K){return"   "+K})).join(`
`)):V=S.stylize("[Circular]","special")),E(B)){if(D&&A.match(/^\d+$/))return V;(B=JSON.stringify(""+A)).match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(B=B.substr(1,B.length-2),B=S.stylize(B,"name")):(B=B.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),B=S.stylize(B,"string"))}return B+": "+V}function p(S){return Array.isArray(S)}function y(S){return typeof S=="boolean"}function b(S){return S===null}function v(S){return typeof S=="number"}function F(S){return typeof S=="string"}function E(S){return S===void 0}function T(S){return I(S)&&z(S)==="[object RegExp]"}function I(S){return typeof S=="object"&&S!==null}function M(S){return I(S)&&z(S)==="[object Date]"}function P(S){return I(S)&&(z(S)==="[object Error]"||S instanceof Error)}function O(S){return typeof S=="function"}function z(S){return Object.prototype.toString.call(S)}function L(S){return S<10?"0"+S.toString(10):S.toString(10)}i.debuglog=function(S){if(E(l)&&(l=o.env.NODE_DEBUG||""),S=S.toUpperCase(),!u[S])if(new RegExp("\\b"+S+"\\b","i").test(l)){var w=o.pid;u[S]=function(){var C=i.format.apply(i,arguments);console.error("%s %d: %s",S,w,C)}}else u[S]=function(){};return u[S]},i.inspect=c,c.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},c.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"},i.isArray=p,i.isBoolean=y,i.isNull=b,i.isNullOrUndefined=function(S){return S==null},i.isNumber=v,i.isString=F,i.isSymbol=function(S){return typeof S=="symbol"},i.isUndefined=E,i.isRegExp=T,i.isObject=I,i.isDate=M,i.isError=P,i.isFunction=O,i.isPrimitive=function(S){return S===null||typeof S=="boolean"||typeof S=="number"||typeof S=="string"||typeof S=="symbol"||S===void 0},i.isBuffer=r("./support/isBuffer");var _=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function R(){var S=new Date,w=[L(S.getHours()),L(S.getMinutes()),L(S.getSeconds())].join(":");return[S.getDate(),_[S.getMonth()],w].join(" ")}function k(S,w){return Object.prototype.hasOwnProperty.call(S,w)}i.log=function(){console.log("%s - %s",R(),i.format.apply(i,arguments))},i.inherits=r("inherits"),i._extend=function(S,w){if(!w||!I(w))return S;for(var C=Object.keys(w),x=C.length;x--;)S[C[x]]=w[C[x]];return S}}).call(this)}).call(this,r("_process"),typeof lt<"u"?lt:typeof self<"u"?self:typeof window<"u"?window:{})},{"./support/isBuffer":526,_process:467,inherits:525}],528:[function(r,n,i){Object.defineProperty(i,"__esModule",{value:!0}),Object.defineProperty(i,"v1",{enumerable:!0,get:function(){return o.default}}),Object.defineProperty(i,"v3",{enumerable:!0,get:function(){return s.default}}),Object.defineProperty(i,"v4",{enumerable:!0,get:function(){return a.default}}),Object.defineProperty(i,"v5",{enumerable:!0,get:function(){return l.default}}),Object.defineProperty(i,"NIL",{enumerable:!0,get:function(){return u.default}}),Object.defineProperty(i,"version",{enumerable:!0,get:function(){return c.default}}),Object.defineProperty(i,"validate",{enumerable:!0,get:function(){return f.default}}),Object.defineProperty(i,"stringify",{enumerable:!0,get:function(){return d.default}}),Object.defineProperty(i,"parse",{enumerable:!0,get:function(){return h.default}});var o=g(r("./v1.js")),s=g(r("./v3.js")),a=g(r("./v4.js")),l=g(r("./v5.js")),u=g(r("./nil.js")),c=g(r("./version.js")),f=g(r("./validate.js")),d=g(r("./stringify.js")),h=g(r("./parse.js"));function g(m){return m&&m.__esModule?m:{default:m}}},{"./nil.js":530,"./parse.js":531,"./stringify.js":535,"./v1.js":536,"./v3.js":537,"./v4.js":539,"./v5.js":540,"./validate.js":541,"./version.js":542}],529:[function(r,n,i){function o(h){return 14+(h+64>>>9<<4)+1}function s(h,g){const m=(65535&h)+(65535&g);return(h>>16)+(g>>16)+(m>>16)<<16|65535&m}function a(h,g,m,p,y,b){return s((v=s(s(g,h),s(p,b)))<<(F=y)|v>>>32-F,m);var v,F}function l(h,g,m,p,y,b,v){return a(g&m|~g&p,h,g,y,b,v)}function u(h,g,m,p,y,b,v){return a(g&p|m&~p,h,g,y,b,v)}function c(h,g,m,p,y,b,v){return a(g^m^p,h,g,y,b,v)}function f(h,g,m,p,y,b,v){return a(m^(g|~p),h,g,y,b,v)}Object.defineProperty(i,"__esModule",{value:!0}),i.default=void 0;var d=function(h){if(typeof h=="string"){const g=unescape(encodeURIComponent(h));h=new Uint8Array(g.length);for(let m=0;m<g.length;++m)h[m]=g.charCodeAt(m)}return(function(g){const m=[],p=32*g.length;for(let y=0;y<p;y+=8){const b=g[y>>5]>>>y%32&255,v=parseInt("0123456789abcdef".charAt(b>>>4&15)+"0123456789abcdef".charAt(15&b),16);m.push(v)}return m})((function(g,m){g[m>>5]|=128<<m%32,g[o(m)-1]=m;let p=1732584193,y=-271733879,b=-1732584194,v=271733878;for(let F=0;F<g.length;F+=16){const E=p,T=y,I=b,M=v;p=l(p,y,b,v,g[F],7,-680876936),v=l(v,p,y,b,g[F+1],12,-389564586),b=l(b,v,p,y,g[F+2],17,606105819),y=l(y,b,v,p,g[F+3],22,-1044525330),p=l(p,y,b,v,g[F+4],7,-176418897),v=l(v,p,y,b,g[F+5],12,1200080426),b=l(b,v,p,y,g[F+6],17,-1473231341),y=l(y,b,v,p,g[F+7],22,-45705983),p=l(p,y,b,v,g[F+8],7,1770035416),v=l(v,p,y,b,g[F+9],12,-1958414417),b=l(b,v,p,y,g[F+10],17,-42063),y=l(y,b,v,p,g[F+11],22,-1990404162),p=l(p,y,b,v,g[F+12],7,1804603682),v=l(v,p,y,b,g[F+13],12,-40341101),b=l(b,v,p,y,g[F+14],17,-1502002290),y=l(y,b,v,p,g[F+15],22,1236535329),p=u(p,y,b,v,g[F+1],5,-165796510),v=u(v,p,y,b,g[F+6],9,-1069501632),b=u(b,v,p,y,g[F+11],14,643717713),y=u(y,b,v,p,g[F],20,-373897302),p=u(p,y,b,v,g[F+5],5,-701558691),v=u(v,p,y,b,g[F+10],9,38016083),b=u(b,v,p,y,g[F+15],14,-660478335),y=u(y,b,v,p,g[F+4],20,-405537848),p=u(p,y,b,v,g[F+9],5,568446438),v=u(v,p,y,b,g[F+14],9,-1019803690),b=u(b,v,p,y,g[F+3],14,-187363961),y=u(y,b,v,p,g[F+8],20,1163531501),p=u(p,y,b,v,g[F+13],5,-1444681467),v=u(v,p,y,b,g[F+2],9,-51403784),b=u(b,v,p,y,g[F+7],14,1735328473),y=u(y,b,v,p,g[F+12],20,-1926607734),p=c(p,y,b,v,g[F+5],4,-378558),v=c(v,p,y,b,g[F+8],11,-2022574463),b=c(b,v,p,y,g[F+11],16,1839030562),y=c(y,b,v,p,g[F+14],23,-35309556),p=c(p,y,b,v,g[F+1],4,-1530992060),v=c(v,p,y,b,g[F+4],11,1272893353),b=c(b,v,p,y,g[F+7],16,-155497632),y=c(y,b,v,p,g[F+10],23,-1094730640),p=c(p,y,b,v,g[F+13],4,681279174),v=c(v,p,y,b,g[F],11,-358537222),b=c(b,v,p,y,g[F+3],16,-722521979),y=c(y,b,v,p,g[F+6],23,76029189),p=c(p,y,b,v,g[F+9],4,-640364487),v=c(v,p,y,b,g[F+12],11,-421815835),b=c(b,v,p,y,g[F+15],16,530742520),y=c(y,b,v,p,g[F+2],23,-995338651),p=f(p,y,b,v,g[F],6,-198630844),v=f(v,p,y,b,g[F+7],10,1126891415),b=f(b,v,p,y,g[F+14],15,-1416354905),y=f(y,b,v,p,g[F+5],21,-57434055),p=f(p,y,b,v,g[F+12],6,1700485571),v=f(v,p,y,b,g[F+3],10,-1894986606),b=f(b,v,p,y,g[F+10],15,-1051523),y=f(y,b,v,p,g[F+1],21,-2054922799),p=f(p,y,b,v,g[F+8],6,1873313359),v=f(v,p,y,b,g[F+15],10,-30611744),b=f(b,v,p,y,g[F+6],15,-1560198380),y=f(y,b,v,p,g[F+13],21,1309151649),p=f(p,y,b,v,g[F+4],6,-145523070),v=f(v,p,y,b,g[F+11],10,-1120210379),b=f(b,v,p,y,g[F+2],15,718787259),y=f(y,b,v,p,g[F+9],21,-343485551),p=s(p,E),y=s(y,T),b=s(b,I),v=s(v,M)}return[p,y,b,v]})((function(g){if(g.length===0)return[];const m=8*g.length,p=new Uint32Array(o(m));for(let y=0;y<m;y+=8)p[y>>5]|=(255&g[y/8])<<y%32;return p})(h),8*h.length))};i.default=d},{}],530:[function(r,n,i){Object.defineProperty(i,"__esModule",{value:!0}),i.default=void 0,i.default="00000000-0000-0000-0000-000000000000"},{}],531:[function(r,n,i){Object.defineProperty(i,"__esModule",{value:!0}),i.default=void 0;var o,s=(o=r("./validate.js"))&&o.__esModule?o:{default:o},a=function(l){if(!(0,s.default)(l))throw TypeError("Invalid UUID");let u;const c=new Uint8Array(16);return c[0]=(u=parseInt(l.slice(0,8),16))>>>24,c[1]=u>>>16&255,c[2]=u>>>8&255,c[3]=255&u,c[4]=(u=parseInt(l.slice(9,13),16))>>>8,c[5]=255&u,c[6]=(u=parseInt(l.slice(14,18),16))>>>8,c[7]=255&u,c[8]=(u=parseInt(l.slice(19,23),16))>>>8,c[9]=255&u,c[10]=(u=parseInt(l.slice(24,36),16))/1099511627776&255,c[11]=u/4294967296&255,c[12]=u>>>24&255,c[13]=u>>>16&255,c[14]=u>>>8&255,c[15]=255&u,c};i.default=a},{"./validate.js":541}],532:[function(r,n,i){Object.defineProperty(i,"__esModule",{value:!0}),i.default=void 0,i.default=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i},{}],533:[function(r,n,i){let o;Object.defineProperty(i,"__esModule",{value:!0}),i.default=function(){if(!o&&(o=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||typeof msCrypto<"u"&&typeof msCrypto.getRandomValues=="function"&&msCrypto.getRandomValues.bind(msCrypto),!o))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return o(s)};const s=new Uint8Array(16)},{}],534:[function(r,n,i){function o(l,u,c,f){switch(l){case 0:return u&c^~u&f;case 1:return u^c^f;case 2:return u&c^u&f^c&f;case 3:return u^c^f}}function s(l,u){return l<<u|l>>>32-u}Object.defineProperty(i,"__esModule",{value:!0}),i.default=void 0;var a=function(l){const u=[1518500249,1859775393,2400959708,3395469782],c=[1732584193,4023233417,2562383102,271733878,3285377520];if(typeof l=="string"){const g=unescape(encodeURIComponent(l));l=[];for(let m=0;m<g.length;++m)l.push(g.charCodeAt(m))}else Array.isArray(l)||(l=Array.prototype.slice.call(l));l.push(128);const f=l.length/4+2,d=Math.ceil(f/16),h=new Array(d);for(let g=0;g<d;++g){const m=new Uint32Array(16);for(let p=0;p<16;++p)m[p]=l[64*g+4*p]<<24|l[64*g+4*p+1]<<16|l[64*g+4*p+2]<<8|l[64*g+4*p+3];h[g]=m}h[d-1][14]=8*(l.length-1)/Math.pow(2,32),h[d-1][14]=Math.floor(h[d-1][14]),h[d-1][15]=8*(l.length-1)&4294967295;for(let g=0;g<d;++g){const m=new Uint32Array(80);for(let E=0;E<16;++E)m[E]=h[g][E];for(let E=16;E<80;++E)m[E]=s(m[E-3]^m[E-8]^m[E-14]^m[E-16],1);let p=c[0],y=c[1],b=c[2],v=c[3],F=c[4];for(let E=0;E<80;++E){const T=Math.floor(E/20),I=s(p,5)+o(T,y,b,v)+F+u[T]+m[E]>>>0;F=v,v=b,b=s(y,30)>>>0,y=p,p=I}c[0]=c[0]+p>>>0,c[1]=c[1]+y>>>0,c[2]=c[2]+b>>>0,c[3]=c[3]+v>>>0,c[4]=c[4]+F>>>0}return[c[0]>>24&255,c[0]>>16&255,c[0]>>8&255,255&c[0],c[1]>>24&255,c[1]>>16&255,c[1]>>8&255,255&c[1],c[2]>>24&255,c[2]>>16&255,c[2]>>8&255,255&c[2],c[3]>>24&255,c[3]>>16&255,c[3]>>8&255,255&c[3],c[4]>>24&255,c[4]>>16&255,c[4]>>8&255,255&c[4]]};i.default=a},{}],535:[function(r,n,i){Object.defineProperty(i,"__esModule",{value:!0}),i.default=void 0;var o,s=(o=r("./validate.js"))&&o.__esModule?o:{default:o};const a=[];for(let u=0;u<256;++u)a.push((u+256).toString(16).substr(1));var l=function(u){let c=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;const f=(a[u[c+0]]+a[u[c+1]]+a[u[c+2]]+a[u[c+3]]+"-"+a[u[c+4]]+a[u[c+5]]+"-"+a[u[c+6]]+a[u[c+7]]+"-"+a[u[c+8]]+a[u[c+9]]+"-"+a[u[c+10]]+a[u[c+11]]+a[u[c+12]]+a[u[c+13]]+a[u[c+14]]+a[u[c+15]]).toLowerCase();if(!(0,s.default)(f))throw TypeError("Stringified UUID is invalid");return f};i.default=l},{"./validate.js":541}],536:[function(r,n,i){Object.defineProperty(i,"__esModule",{value:!0}),i.default=void 0;var o=a(r("./rng.js")),s=a(r("./stringify.js"));function a(h){return h&&h.__esModule?h:{default:h}}let l,u,c=0,f=0;var d=function(h,g,m){let p=g&&m||0;const y=g||new Array(16);let b=(h=h||{}).node||l,v=h.clockseq!==void 0?h.clockseq:u;if(b==null||v==null){const P=h.random||(h.rng||o.default)();b==null&&(b=l=[1|P[0],P[1],P[2],P[3],P[4],P[5]]),v==null&&(v=u=16383&(P[6]<<8|P[7]))}let F=h.msecs!==void 0?h.msecs:Date.now(),E=h.nsecs!==void 0?h.nsecs:f+1;const T=F-c+(E-f)/1e4;if(T<0&&h.clockseq===void 0&&(v=v+1&16383),(T<0||F>c)&&h.nsecs===void 0&&(E=0),E>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");c=F,f=E,u=v,F+=122192928e5;const I=(1e4*(268435455&F)+E)%4294967296;y[p++]=I>>>24&255,y[p++]=I>>>16&255,y[p++]=I>>>8&255,y[p++]=255&I;const M=F/4294967296*1e4&268435455;y[p++]=M>>>8&255,y[p++]=255&M,y[p++]=M>>>24&15|16,y[p++]=M>>>16&255,y[p++]=v>>>8|128,y[p++]=255&v;for(let P=0;P<6;++P)y[p+P]=b[P];return g||(0,s.default)(y)};i.default=d},{"./rng.js":533,"./stringify.js":535}],537:[function(r,n,i){Object.defineProperty(i,"__esModule",{value:!0}),i.default=void 0;var o=a(r("./v35.js")),s=a(r("./md5.js"));function a(u){return u&&u.__esModule?u:{default:u}}var l=(0,o.default)("v3",48,s.default);i.default=l},{"./md5.js":529,"./v35.js":538}],538:[function(r,n,i){Object.defineProperty(i,"__esModule",{value:!0}),i.default=function(c,f,d){function h(g,m,p,y){if(typeof g=="string"&&(g=(function(v){v=unescape(encodeURIComponent(v));const F=[];for(let E=0;E<v.length;++E)F.push(v.charCodeAt(E));return F})(g)),typeof m=="string"&&(m=(0,s.default)(m)),m.length!==16)throw TypeError("Namespace must be array-like (16 iterable integer values, 0-255)");let b=new Uint8Array(16+g.length);if(b.set(m),b.set(g,m.length),b=d(b),b[6]=15&b[6]|f,b[8]=63&b[8]|128,p){y=y||0;for(let v=0;v<16;++v)p[y+v]=b[v];return p}return(0,o.default)(b)}try{h.name=c}catch{}return h.DNS=l,h.URL=u,h},i.URL=i.DNS=void 0;var o=a(r("./stringify.js")),s=a(r("./parse.js"));function a(c){return c&&c.__esModule?c:{default:c}}const l="6ba7b810-9dad-11d1-80b4-00c04fd430c8";i.DNS=l;const u="6ba7b811-9dad-11d1-80b4-00c04fd430c8";i.URL=u},{"./parse.js":531,"./stringify.js":535}],539:[function(r,n,i){Object.defineProperty(i,"__esModule",{value:!0}),i.default=void 0;var o=a(r("./rng.js")),s=a(r("./stringify.js"));function a(u){return u&&u.__esModule?u:{default:u}}var l=function(u,c,f){const d=(u=u||{}).random||(u.rng||o.default)();if(d[6]=15&d[6]|64,d[8]=63&d[8]|128,c){f=f||0;for(let h=0;h<16;++h)c[f+h]=d[h];return c}return(0,s.default)(d)};i.default=l},{"./rng.js":533,"./stringify.js":535}],540:[function(r,n,i){Object.defineProperty(i,"__esModule",{value:!0}),i.default=void 0;var o=a(r("./v35.js")),s=a(r("./sha1.js"));function a(u){return u&&u.__esModule?u:{default:u}}var l=(0,o.default)("v5",80,s.default);i.default=l},{"./sha1.js":534,"./v35.js":538}],541:[function(r,n,i){Object.defineProperty(i,"__esModule",{value:!0}),i.default=void 0;var o,s=(o=r("./regex.js"))&&o.__esModule?o:{default:o},a=function(l){return typeof l=="string"&&s.default.test(l)};i.default=a},{"./regex.js":532}],542:[function(r,n,i){Object.defineProperty(i,"__esModule",{value:!0}),i.default=void 0;var o,s=(o=r("./validate.js"))&&o.__esModule?o:{default:o},a=function(l){if(!(0,s.default)(l))throw TypeError("Invalid UUID");return parseInt(l.substr(14,1),16)};i.default=a},{"./validate.js":541}],543:[function(r,n,i){/**
* Character classes and associated utilities for the 5th edition of XML 1.0.
*
* @author Louis-Dominique Dubeau
* @license MIT
* @copyright Louis-Dominique Dubeau
*/Object.defineProperty(i,"__esModule",{value:!0}),i.CHAR=`	
\r ---`,i.S=` 	\r
`,i.NAME_START_CHAR=":A-Z_a-z-----------",i.NAME_CHAR="-"+i.NAME_START_CHAR+".0-9--",i.CHAR_RE=new RegExp("^["+i.CHAR+"]$","u"),i.S_RE=new RegExp("^["+i.S+"]+$","u"),i.NAME_START_CHAR_RE=new RegExp("^["+i.NAME_START_CHAR+"]$","u"),i.NAME_CHAR_RE=new RegExp("^["+i.NAME_CHAR+"]$","u"),i.NAME_RE=new RegExp("^["+i.NAME_START_CHAR+"]["+i.NAME_CHAR+"]*$","u"),i.NMTOKEN_RE=new RegExp("^["+i.NAME_CHAR+"]+$","u");function o(s){return s>=65&&s<=90||s>=97&&s<=122||s===58||s===95||s===8204||s===8205||s>=192&&s<=214||s>=216&&s<=246||s>=248&&s<=767||s>=880&&s<=893||s>=895&&s<=8191||s>=8304&&s<=8591||s>=11264&&s<=12271||s>=12289&&s<=55295||s>=63744&&s<=64975||s>=65008&&s<=65533||s>=65536&&s<=983039}i.S_LIST=[32,10,13,9],i.isChar=function(s){return s>=32&&s<=55295||s===10||s===13||s===9||s>=57344&&s<=65533||s>=65536&&s<=1114111},i.isS=function(s){return s===32||s===10||s===13||s===9},i.isNameStartChar=o,i.isNameChar=function(s){return o(s)||s>=48&&s<=57||s===45||s===46||s===183||s>=768&&s<=879||s>=8255&&s<=8256}},{}],544:[function(r,n,i){/**
* Character classes and associated utilities for the 2nd edition of XML 1.1.
*
* @author Louis-Dominique Dubeau
* @license MIT
* @copyright Louis-Dominique Dubeau
*/Object.defineProperty(i,"__esModule",{value:!0}),i.CHAR="---",i.RESTRICTED_CHAR="-\b\v\f---",i.S=` 	\r
`,i.NAME_START_CHAR=":A-Z_a-z-----------",i.NAME_CHAR="-"+i.NAME_START_CHAR+".0-9--",i.CHAR_RE=new RegExp("^["+i.CHAR+"]$","u"),i.RESTRICTED_CHAR_RE=new RegExp("^["+i.RESTRICTED_CHAR+"]$","u"),i.S_RE=new RegExp("^["+i.S+"]+$","u"),i.NAME_START_CHAR_RE=new RegExp("^["+i.NAME_START_CHAR+"]$","u"),i.NAME_CHAR_RE=new RegExp("^["+i.NAME_CHAR+"]$","u"),i.NAME_RE=new RegExp("^["+i.NAME_START_CHAR+"]["+i.NAME_CHAR+"]*$","u"),i.NMTOKEN_RE=new RegExp("^["+i.NAME_CHAR+"]+$","u");function o(s){return s>=65&&s<=90||s>=97&&s<=122||s===58||s===95||s===8204||s===8205||s>=192&&s<=214||s>=216&&s<=246||s>=248&&s<=767||s>=880&&s<=893||s>=895&&s<=8191||s>=8304&&s<=8591||s>=11264&&s<=12271||s>=12289&&s<=55295||s>=63744&&s<=64975||s>=65008&&s<=65533||s>=65536&&s<=983039}i.S_LIST=[32,10,13,9],i.isChar=function(s){return s>=1&&s<=55295||s>=57344&&s<=65533||s>=65536&&s<=1114111},i.isRestrictedChar=function(s){return s>=1&&s<=8||s===11||s===12||s>=14&&s<=31||s>=127&&s<=132||s>=134&&s<=159},i.isCharAndNotRestricted=function(s){return s===9||s===10||s===13||s>31&&s<127||s===133||s>159&&s<=55295||s>=57344&&s<=65533||s>=65536&&s<=1114111},i.isS=function(s){return s===32||s===10||s===13||s===9},i.isNameStartChar=o,i.isNameChar=function(s){return o(s)||s>=48&&s<=57||s===45||s===46||s===183||s>=768&&s<=879||s>=8255&&s<=8256}},{}],545:[function(r,n,i){/**
* Character class utilities for XML NS 1.0 edition 3.
*
* @author Louis-Dominique Dubeau
* @license MIT
* @copyright Louis-Dominique Dubeau
*/function o(s){return s>=65&&s<=90||s===95||s>=97&&s<=122||s>=192&&s<=214||s>=216&&s<=246||s>=248&&s<=767||s>=880&&s<=893||s>=895&&s<=8191||s>=8204&&s<=8205||s>=8304&&s<=8591||s>=11264&&s<=12271||s>=12289&&s<=55295||s>=63744&&s<=64975||s>=65008&&s<=65533||s>=65536&&s<=983039}Object.defineProperty(i,"__esModule",{value:!0}),i.NC_NAME_START_CHAR="A-Z_a-z------------",i.NC_NAME_CHAR="-"+i.NC_NAME_START_CHAR+".0-9--",i.NC_NAME_START_CHAR_RE=new RegExp("^["+i.NC_NAME_START_CHAR+"]$","u"),i.NC_NAME_CHAR_RE=new RegExp("^["+i.NC_NAME_CHAR+"]$","u"),i.NC_NAME_RE=new RegExp("^["+i.NC_NAME_START_CHAR+"]["+i.NC_NAME_CHAR+"]*$","u"),i.isNCNameStartChar=o,i.isNCNameChar=function(s){return o(s)||s===45||s===46||s>=48&&s<=57||s===183||s>=768&&s<=879||s>=8255&&s<=8256}},{}]},{},[15])(15)}))})(th)),th.exports}var dU=cU();const XF=Fo(dU);var wl={exports:{}},rh={},Hn={},$i={},nh={},ih={},oh={},j0;function bc(){return j0||(j0=1,(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.regexpCode=e.getEsmExportName=e.getProperty=e.safeStringify=e.stringify=e.strConcat=e.addCodeArg=e.str=e._=e.nil=e._Code=e.Name=e.IDENTIFIER=e._CodeOrName=void 0;class t{}e._CodeOrName=t,e.IDENTIFIER=/^[a-z$_][a-z$_0-9]*$/i;class r extends t{constructor(b){if(super(),!e.IDENTIFIER.test(b))throw new Error("CodeGen: name must be a valid identifier");this.str=b}toString(){return this.str}emptyStr(){return!1}get names(){return{[this.str]:1}}}e.Name=r;class n extends t{constructor(b){super(),this._items=typeof b=="string"?[b]:b}toString(){return this.str}emptyStr(){if(this._items.length>1)return!1;const b=this._items[0];return b===""||b==='""'}get str(){var b;return(b=this._str)!==null&&b!==void 0?b:this._str=this._items.reduce((v,F)=>`${v}${F}`,"")}get names(){var b;return(b=this._names)!==null&&b!==void 0?b:this._names=this._items.reduce((v,F)=>(F instanceof r&&(v[F.str]=(v[F.str]||0)+1),v),{})}}e._Code=n,e.nil=new n("");function i(y,...b){const v=[y[0]];let F=0;for(;F<b.length;)a(v,b[F]),v.push(y[++F]);return new n(v)}e._=i;const o=new n("+");function s(y,...b){const v=[h(y[0])];let F=0;for(;F<b.length;)v.push(o),a(v,b[F]),v.push(o,h(y[++F]));return l(v),new n(v)}e.str=s;function a(y,b){b instanceof n?y.push(...b._items):b instanceof r?y.push(b):y.push(f(b))}e.addCodeArg=a;function l(y){let b=1;for(;b<y.length-1;){if(y[b]===o){const v=u(y[b-1],y[b+1]);if(v!==void 0){y.splice(b-1,3,v);continue}y[b++]="+"}b++}}function u(y,b){if(b==='""')return y;if(y==='""')return b;if(typeof y=="string")return b instanceof r||y[y.length-1]!=='"'?void 0:typeof b!="string"?`${y.slice(0,-1)}${b}"`:b[0]==='"'?y.slice(0,-1)+b.slice(1):void 0;if(typeof b=="string"&&b[0]==='"'&&!(y instanceof r))return`"${y}${b.slice(1)}`}function c(y,b){return b.emptyStr()?y:y.emptyStr()?b:s`${y}${b}`}e.strConcat=c;function f(y){return typeof y=="number"||typeof y=="boolean"||y===null?y:h(Array.isArray(y)?y.join(","):y)}function d(y){return new n(h(y))}e.stringify=d;function h(y){return JSON.stringify(y).replace(/\u2028/g,"\\u2028").replace(/\u2029/g,"\\u2029")}e.safeStringify=h;function g(y){return typeof y=="string"&&e.IDENTIFIER.test(y)?new n(`.${y}`):i`[${y}]`}e.getProperty=g;function m(y){if(typeof y=="string"&&e.IDENTIFIER.test(y))return new n(`${y}`);throw new Error(`CodeGen: invalid export name: ${y}, use explicit $id name mapping`)}e.getEsmExportName=m;function p(y){return new n(y.toString())}e.regexpCode=p})(oh)),oh}var sh={},z0;function V0(){return z0||(z0=1,(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.ValueScope=e.ValueScopeName=e.Scope=e.varKinds=e.UsedValueState=void 0;const t=bc();class r extends Error{constructor(u){super(`CodeGen: "code" for ${u} not defined`),this.value=u.value}}var n;(function(l){l[l.Started=0]="Started",l[l.Completed=1]="Completed"})(n||(e.UsedValueState=n={})),e.varKinds={const:new t.Name("const"),let:new t.Name("let"),var:new t.Name("var")};class i{constructor({prefixes:u,parent:c}={}){this._names={},this._prefixes=u,this._parent=c}toName(u){return u instanceof t.Name?u:this.name(u)}name(u){return new t.Name(this._newName(u))}_newName(u){const c=this._names[u]||this._nameGroup(u);return`${u}${c.index++}`}_nameGroup(u){var c,f;if(!((f=(c=this._parent)===null||c===void 0?void 0:c._prefixes)===null||f===void 0)&&f.has(u)||this._prefixes&&!this._prefixes.has(u))throw new Error(`CodeGen: prefix "${u}" is not allowed in this scope`);return this._names[u]={prefix:u,index:0}}}e.Scope=i;class o extends t.Name{constructor(u,c){super(c),this.prefix=u}setValue(u,{property:c,itemIndex:f}){this.value=u,this.scopePath=(0,t._)`.${new t.Name(c)}[${f}]`}}e.ValueScopeName=o;const s=(0,t._)`\n`;class a extends i{constructor(u){super(u),this._values={},this._scope=u.scope,this.opts={...u,_n:u.lines?s:t.nil}}get(){return this._scope}name(u){return new o(u,this._newName(u))}value(u,c){var f;if(c.ref===void 0)throw new Error("CodeGen: ref must be passed in value");const d=this.toName(u),{prefix:h}=d,g=(f=c.key)!==null&&f!==void 0?f:c.ref;let m=this._values[h];if(m){const b=m.get(g);if(b)return b}else m=this._values[h]=new Map;m.set(g,d);const p=this._scope[h]||(this._scope[h]=[]),y=p.length;return p[y]=c.ref,d.setValue(c,{property:h,itemIndex:y}),d}getValue(u,c){const f=this._values[u];if(f)return f.get(c)}scopeRefs(u,c=this._values){return this._reduceValues(c,f=>{if(f.scopePath===void 0)throw new Error(`CodeGen: name "${f}" has no value`);return(0,t._)`${u}${f.scopePath}`})}scopeCode(u=this._values,c,f){return this._reduceValues(u,d=>{if(d.value===void 0)throw new Error(`CodeGen: name "${d}" has no value`);return d.value.code},c,f)}_reduceValues(u,c,f={},d){let h=t.nil;for(const g in u){const m=u[g];if(!m)continue;const p=f[g]=f[g]||new Map;m.forEach(y=>{if(p.has(y))return;p.set(y,n.Started);let b=c(y);if(b){const v=this.opts.es5?e.varKinds.var:e.varKinds.const;h=(0,t._)`${h}${v} ${y} = ${b};${this.opts._n}`}else if(b=d?.(y))h=(0,t._)`${h}${b}${this.opts._n}`;else throw new r(y);p.set(y,n.Completed)})}return h}}e.ValueScope=a})(sh)),sh}var W0;function gt(){return W0||(W0=1,(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.or=e.and=e.not=e.CodeGen=e.operators=e.varKinds=e.ValueScopeName=e.ValueScope=e.Scope=e.Name=e.regexpCode=e.stringify=e.getProperty=e.nil=e.strConcat=e.str=e._=void 0;const t=bc(),r=V0();var n=bc();Object.defineProperty(e,"_",{enumerable:!0,get:function(){return n._}}),Object.defineProperty(e,"str",{enumerable:!0,get:function(){return n.str}}),Object.defineProperty(e,"strConcat",{enumerable:!0,get:function(){return n.strConcat}}),Object.defineProperty(e,"nil",{enumerable:!0,get:function(){return n.nil}}),Object.defineProperty(e,"getProperty",{enumerable:!0,get:function(){return n.getProperty}}),Object.defineProperty(e,"stringify",{enumerable:!0,get:function(){return n.stringify}}),Object.defineProperty(e,"regexpCode",{enumerable:!0,get:function(){return n.regexpCode}}),Object.defineProperty(e,"Name",{enumerable:!0,get:function(){return n.Name}});var i=V0();Object.defineProperty(e,"Scope",{enumerable:!0,get:function(){return i.Scope}}),Object.defineProperty(e,"ValueScope",{enumerable:!0,get:function(){return i.ValueScope}}),Object.defineProperty(e,"ValueScopeName",{enumerable:!0,get:function(){return i.ValueScopeName}}),Object.defineProperty(e,"varKinds",{enumerable:!0,get:function(){return i.varKinds}}),e.operators={GT:new t._Code(">"),GTE:new t._Code(">="),LT:new t._Code("<"),LTE:new t._Code("<="),EQ:new t._Code("==="),NEQ:new t._Code("!=="),NOT:new t._Code("!"),OR:new t._Code("||"),AND:new t._Code("&&"),ADD:new t._Code("+")};class o{optimizeNodes(){return this}optimizeNames(j,K){return this}}class s extends o{constructor(j,K,G){super(),this.varKind=j,this.name=K,this.rhs=G}render({es5:j,_n:K}){const G=j?r.varKinds.var:this.varKind,Y=this.rhs===void 0?"":` = ${this.rhs}`;return`${G} ${this.name}${Y};`+K}optimizeNames(j,K){if(j[this.name.str])return this.rhs&&(this.rhs=R(this.rhs,j,K)),this}get names(){return this.rhs instanceof t._CodeOrName?this.rhs.names:{}}}class a extends o{constructor(j,K,G){super(),this.lhs=j,this.rhs=K,this.sideEffects=G}render({_n:j}){return`${this.lhs} = ${this.rhs};`+j}optimizeNames(j,K){if(!(this.lhs instanceof t.Name&&!j[this.lhs.str]&&!this.sideEffects))return this.rhs=R(this.rhs,j,K),this}get names(){const j=this.lhs instanceof t.Name?{}:{...this.lhs.names};return _(j,this.rhs)}}class l extends a{constructor(j,K,G,Y){super(j,G,Y),this.op=K}render({_n:j}){return`${this.lhs} ${this.op}= ${this.rhs};`+j}}class u extends o{constructor(j){super(),this.label=j,this.names={}}render({_n:j}){return`${this.label}:`+j}}class c extends o{constructor(j){super(),this.label=j,this.names={}}render({_n:j}){return`break${this.label?` ${this.label}`:""};`+j}}class f extends o{constructor(j){super(),this.error=j}render({_n:j}){return`throw ${this.error};`+j}get names(){return this.error.names}}class d extends o{constructor(j){super(),this.code=j}render({_n:j}){return`${this.code};`+j}optimizeNodes(){return`${this.code}`?this:void 0}optimizeNames(j,K){return this.code=R(this.code,j,K),this}get names(){return this.code instanceof t._CodeOrName?this.code.names:{}}}class h extends o{constructor(j=[]){super(),this.nodes=j}render(j){return this.nodes.reduce((K,G)=>K+G.render(j),"")}optimizeNodes(){const{nodes:j}=this;let K=j.length;for(;K--;){const G=j[K].optimizeNodes();Array.isArray(G)?j.splice(K,1,...G):G?j[K]=G:j.splice(K,1)}return j.length>0?this:void 0}optimizeNames(j,K){const{nodes:G}=this;let Y=G.length;for(;Y--;){const H=G[Y];H.optimizeNames(j,K)||(k(j,H.names),G.splice(Y,1))}return G.length>0?this:void 0}get names(){return this.nodes.reduce((j,K)=>L(j,K.names),{})}}class g extends h{render(j){return"{"+j._n+super.render(j)+"}"+j._n}}class m extends h{}class p extends g{}p.kind="else";class y extends g{constructor(j,K){super(K),this.condition=j}render(j){let K=`if(${this.condition})`+super.render(j);return this.else&&(K+="else "+this.else.render(j)),K}optimizeNodes(){super.optimizeNodes();const j=this.condition;if(j===!0)return this.nodes;let K=this.else;if(K){const G=K.optimizeNodes();K=this.else=Array.isArray(G)?new p(G):G}if(K)return j===!1?K instanceof y?K:K.nodes:this.nodes.length?this:new y(S(j),K instanceof y?[K]:K.nodes);if(!(j===!1||!this.nodes.length))return this}optimizeNames(j,K){var G;if(this.else=(G=this.else)===null||G===void 0?void 0:G.optimizeNames(j,K),!!(super.optimizeNames(j,K)||this.else))return this.condition=R(this.condition,j,K),this}get names(){const j=super.names;return _(j,this.condition),this.else&&L(j,this.else.names),j}}y.kind="if";class b extends g{}b.kind="for";class v extends b{constructor(j){super(),this.iteration=j}render(j){return`for(${this.iteration})`+super.render(j)}optimizeNames(j,K){if(super.optimizeNames(j,K))return this.iteration=R(this.iteration,j,K),this}get names(){return L(super.names,this.iteration.names)}}class F extends b{constructor(j,K,G,Y){super(),this.varKind=j,this.name=K,this.from=G,this.to=Y}render(j){const K=j.es5?r.varKinds.var:this.varKind,{name:G,from:Y,to:H}=this;return`for(${K} ${G}=${Y}; ${G}<${H}; ${G}++)`+super.render(j)}get names(){const j=_(super.names,this.from);return _(j,this.to)}}class E extends b{constructor(j,K,G,Y){super(),this.loop=j,this.varKind=K,this.name=G,this.iterable=Y}render(j){return`for(${this.varKind} ${this.name} ${this.loop} ${this.iterable})`+super.render(j)}optimizeNames(j,K){if(super.optimizeNames(j,K))return this.iterable=R(this.iterable,j,K),this}get names(){return L(super.names,this.iterable.names)}}class T extends g{constructor(j,K,G){super(),this.name=j,this.args=K,this.async=G}render(j){return`${this.async?"async ":""}function ${this.name}(${this.args})`+super.render(j)}}T.kind="func";class I extends h{render(j){return"return "+super.render(j)}}I.kind="return";class M extends g{render(j){let K="try"+super.render(j);return this.catch&&(K+=this.catch.render(j)),this.finally&&(K+=this.finally.render(j)),K}optimizeNodes(){var j,K;return super.optimizeNodes(),(j=this.catch)===null||j===void 0||j.optimizeNodes(),(K=this.finally)===null||K===void 0||K.optimizeNodes(),this}optimizeNames(j,K){var G,Y;return super.optimizeNames(j,K),(G=this.catch)===null||G===void 0||G.optimizeNames(j,K),(Y=this.finally)===null||Y===void 0||Y.optimizeNames(j,K),this}get names(){const j=super.names;return this.catch&&L(j,this.catch.names),this.finally&&L(j,this.finally.names),j}}class P extends g{constructor(j){super(),this.error=j}render(j){return`catch(${this.error})`+super.render(j)}}P.kind="catch";class O extends g{render(j){return"finally"+super.render(j)}}O.kind="finally";class z{constructor(j,K={}){this._values={},this._blockStarts=[],this._constants={},this.opts={...K,_n:K.lines?`
`:""},this._extScope=j,this._scope=new r.Scope({parent:j}),this._nodes=[new m]}toString(){return this._root.render(this.opts)}name(j){return this._scope.name(j)}scopeName(j){return this._extScope.name(j)}scopeValue(j,K){const G=this._extScope.value(j,K);return(this._values[G.prefix]||(this._values[G.prefix]=new Set)).add(G),G}getScopeValue(j,K){return this._extScope.getValue(j,K)}scopeRefs(j){return this._extScope.scopeRefs(j,this._values)}scopeCode(){return this._extScope.scopeCode(this._values)}_def(j,K,G,Y){const H=this._scope.toName(K);return G!==void 0&&Y&&(this._constants[H.str]=G),this._leafNode(new s(j,H,G)),H}const(j,K,G){return this._def(r.varKinds.const,j,K,G)}let(j,K,G){return this._def(r.varKinds.let,j,K,G)}var(j,K,G){return this._def(r.varKinds.var,j,K,G)}assign(j,K,G){return this._leafNode(new a(j,K,G))}add(j,K){return this._leafNode(new l(j,e.operators.ADD,K))}code(j){return typeof j=="function"?j():j!==t.nil&&this._leafNode(new d(j)),this}object(...j){const K=["{"];for(const[G,Y]of j)K.length>1&&K.push(","),K.push(G),(G!==Y||this.opts.es5)&&(K.push(":"),(0,t.addCodeArg)(K,Y));return K.push("}"),new t._Code(K)}if(j,K,G){if(this._blockNode(new y(j)),K&&G)this.code(K).else().code(G).endIf();else if(K)this.code(K).endIf();else if(G)throw new Error('CodeGen: "else" body without "then" body');return this}elseIf(j){return this._elseNode(new y(j))}else(){return this._elseNode(new p)}endIf(){return this._endBlockNode(y,p)}_for(j,K){return this._blockNode(j),K&&this.code(K).endFor(),this}for(j,K){return this._for(new v(j),K)}forRange(j,K,G,Y,H=this.opts.es5?r.varKinds.var:r.varKinds.let){const N=this._scope.toName(j);return this._for(new F(H,N,K,G),()=>Y(N))}forOf(j,K,G,Y=r.varKinds.const){const H=this._scope.toName(j);if(this.opts.es5){const N=K instanceof t.Name?K:this.var("_arr",K);return this.forRange("_i",0,(0,t._)`${N}.length`,$=>{this.var(H,(0,t._)`${N}[${$}]`),G(H)})}return this._for(new E("of",Y,H,K),()=>G(H))}forIn(j,K,G,Y=this.opts.es5?r.varKinds.var:r.varKinds.const){if(this.opts.ownProperties)return this.forOf(j,(0,t._)`Object.keys(${K})`,G);const H=this._scope.toName(j);return this._for(new E("in",Y,H,K),()=>G(H))}endFor(){return this._endBlockNode(b)}label(j){return this._leafNode(new u(j))}break(j){return this._leafNode(new c(j))}return(j){const K=new I;if(this._blockNode(K),this.code(j),K.nodes.length!==1)throw new Error('CodeGen: "return" should have one node');return this._endBlockNode(I)}try(j,K,G){if(!K&&!G)throw new Error('CodeGen: "try" without "catch" and "finally"');const Y=new M;if(this._blockNode(Y),this.code(j),K){const H=this.name("e");this._currNode=Y.catch=new P(H),K(H)}return G&&(this._currNode=Y.finally=new O,this.code(G)),this._endBlockNode(P,O)}throw(j){return this._leafNode(new f(j))}block(j,K){return this._blockStarts.push(this._nodes.length),j&&this.code(j).endBlock(K),this}endBlock(j){const K=this._blockStarts.pop();if(K===void 0)throw new Error("CodeGen: not in self-balancing block");const G=this._nodes.length-K;if(G<0||j!==void 0&&G!==j)throw new Error(`CodeGen: wrong number of nodes: ${G} vs ${j} expected`);return this._nodes.length=K,this}func(j,K=t.nil,G,Y){return this._blockNode(new T(j,K,G)),Y&&this.code(Y).endFunc(),this}endFunc(){return this._endBlockNode(T)}optimize(j=1){for(;j-- >0;)this._root.optimizeNodes(),this._root.optimizeNames(this._root.names,this._constants)}_leafNode(j){return this._currNode.nodes.push(j),this}_blockNode(j){this._currNode.nodes.push(j),this._nodes.push(j)}_endBlockNode(j,K){const G=this._currNode;if(G instanceof j||K&&G instanceof K)return this._nodes.pop(),this;throw new Error(`CodeGen: not in block "${K?`${j.kind}/${K.kind}`:j.kind}"`)}_elseNode(j){const K=this._currNode;if(!(K instanceof y))throw new Error('CodeGen: "else" without "if"');return this._currNode=K.else=j,this}get _root(){return this._nodes[0]}get _currNode(){const j=this._nodes;return j[j.length-1]}set _currNode(j){const K=this._nodes;K[K.length-1]=j}}e.CodeGen=z;function L(V,j){for(const K in j)V[K]=(V[K]||0)+(j[K]||0);return V}function _(V,j){return j instanceof t._CodeOrName?L(V,j.names):V}function R(V,j,K){if(V instanceof t.Name)return G(V);if(!Y(V))return V;return new t._Code(V._items.reduce((H,N)=>(N instanceof t.Name&&(N=G(N)),N instanceof t._Code?H.push(...N._items):H.push(N),H),[]));function G(H){const N=K[H.str];return N===void 0||j[H.str]!==1?H:(delete j[H.str],N)}function Y(H){return H instanceof t._Code&&H._items.some(N=>N instanceof t.Name&&j[N.str]===1&&K[N.str]!==void 0)}}function k(V,j){for(const K in j)V[K]=(V[K]||0)-(j[K]||0)}function S(V){return typeof V=="boolean"||typeof V=="number"||V===null?!V:(0,t._)`!${B(V)}`}e.not=S;const w=D(e.operators.AND);function C(...V){return V.reduce(w)}e.and=C;const x=D(e.operators.OR);function A(...V){return V.reduce(x)}e.or=A;function D(V){return(j,K)=>j===t.nil?K:K===t.nil?j:(0,t._)`${B(j)} ${V} ${B(K)}`}function B(V){return V instanceof t.Name?V:(0,t._)`(${V})`}})(ih)),ih}var ft={},$0;function _t(){if($0)return ft;$0=1,Object.defineProperty(ft,"__esModule",{value:!0}),ft.checkStrictMode=ft.getErrorPath=ft.Type=ft.useFunc=ft.setEvaluated=ft.evaluatedPropsToName=ft.mergeEvaluated=ft.eachItem=ft.unescapeJsonPointer=ft.escapeJsonPointer=ft.escapeFragment=ft.unescapeFragment=ft.schemaRefOrVal=ft.schemaHasRulesButRef=ft.schemaHasRules=ft.checkUnknownRules=ft.alwaysValidSchema=ft.toHash=void 0;const e=gt(),t=bc();function r(E){const T={};for(const I of E)T[I]=!0;return T}ft.toHash=r;function n(E,T){return typeof T=="boolean"?T:Object.keys(T).length===0?!0:(i(E,T),!o(T,E.self.RULES.all))}ft.alwaysValidSchema=n;function i(E,T=E.schema){const{opts:I,self:M}=E;if(!I.strictSchema||typeof T=="boolean")return;const P=M.RULES.keywords;for(const O in T)P[O]||F(E,`unknown keyword: "${O}"`)}ft.checkUnknownRules=i;function o(E,T){if(typeof E=="boolean")return!E;for(const I in E)if(T[I])return!0;return!1}ft.schemaHasRules=o;function s(E,T){if(typeof E=="boolean")return!E;for(const I in E)if(I!=="$ref"&&T.all[I])return!0;return!1}ft.schemaHasRulesButRef=s;function a({topSchemaRef:E,schemaPath:T},I,M,P){if(!P){if(typeof I=="number"||typeof I=="boolean")return I;if(typeof I=="string")return(0,e._)`${I}`}return(0,e._)`${E}${T}${(0,e.getProperty)(M)}`}ft.schemaRefOrVal=a;function l(E){return f(decodeURIComponent(E))}ft.unescapeFragment=l;function u(E){return encodeURIComponent(c(E))}ft.escapeFragment=u;function c(E){return typeof E=="number"?`${E}`:E.replace(/~/g,"~0").replace(/\//g,"~1")}ft.escapeJsonPointer=c;function f(E){return E.replace(/~1/g,"/").replace(/~0/g,"~")}ft.unescapeJsonPointer=f;function d(E,T){if(Array.isArray(E))for(const I of E)T(I);else T(E)}ft.eachItem=d;function h({mergeNames:E,mergeToName:T,mergeValues:I,resultToName:M}){return(P,O,z,L)=>{const _=z===void 0?O:z instanceof e.Name?(O instanceof e.Name?E(P,O,z):T(P,O,z),z):O instanceof e.Name?(T(P,z,O),O):I(O,z);return L===e.Name&&!(_ instanceof e.Name)?M(P,_):_}}ft.mergeEvaluated={props:h({mergeNames:(E,T,I)=>E.if((0,e._)`${I} !== true && ${T} !== undefined`,()=>{E.if((0,e._)`${T} === true`,()=>E.assign(I,!0),()=>E.assign(I,(0,e._)`${I} || {}`).code((0,e._)`Object.assign(${I}, ${T})`))}),mergeToName:(E,T,I)=>E.if((0,e._)`${I} !== true`,()=>{T===!0?E.assign(I,!0):(E.assign(I,(0,e._)`${I} || {}`),m(E,I,T))}),mergeValues:(E,T)=>E===!0?!0:{...E,...T},resultToName:g}),items:h({mergeNames:(E,T,I)=>E.if((0,e._)`${I} !== true && ${T} !== undefined`,()=>E.assign(I,(0,e._)`${T} === true ? true : ${I} > ${T} ? ${I} : ${T}`)),mergeToName:(E,T,I)=>E.if((0,e._)`${I} !== true`,()=>E.assign(I,T===!0?!0:(0,e._)`${I} > ${T} ? ${I} : ${T}`)),mergeValues:(E,T)=>E===!0?!0:Math.max(E,T),resultToName:(E,T)=>E.var("items",T)})};function g(E,T){if(T===!0)return E.var("props",!0);const I=E.var("props",(0,e._)`{}`);return T!==void 0&&m(E,I,T),I}ft.evaluatedPropsToName=g;function m(E,T,I){Object.keys(I).forEach(M=>E.assign((0,e._)`${T}${(0,e.getProperty)(M)}`,!0))}ft.setEvaluated=m;const p={};function y(E,T){return E.scopeValue("func",{ref:T,code:p[T.code]||(p[T.code]=new t._Code(T.code))})}ft.useFunc=y;var b;(function(E){E[E.Num=0]="Num",E[E.Str=1]="Str"})(b||(ft.Type=b={}));function v(E,T,I){if(E instanceof e.Name){const M=T===b.Num;return I?M?(0,e._)`"[" + ${E} + "]"`:(0,e._)`"['" + ${E} + "']"`:M?(0,e._)`"/" + ${E}`:(0,e._)`"/" + ${E}.replace(/~/g, "~0").replace(/\\//g, "~1")`}return I?(0,e.getProperty)(E).toString():"/"+c(E)}ft.getErrorPath=v;function F(E,T,I=E.opts.strictSchema){if(I){if(T=`strict mode: ${T}`,I===!0)throw new Error(T);E.self.logger.warn(T)}}return ft.checkStrictMode=F,ft}var Cl={},U0;function Oi(){if(U0)return Cl;U0=1,Object.defineProperty(Cl,"__esModule",{value:!0});const e=gt(),t={data:new e.Name("data"),valCxt:new e.Name("valCxt"),instancePath:new e.Name("instancePath"),parentData:new e.Name("parentData"),parentDataProperty:new e.Name("parentDataProperty"),rootData:new e.Name("rootData"),dynamicAnchors:new e.Name("dynamicAnchors"),vErrors:new e.Name("vErrors"),errors:new e.Name("errors"),this:new e.Name("this"),self:new e.Name("self"),scope:new e.Name("scope"),json:new e.Name("json"),jsonPos:new e.Name("jsonPos"),jsonLen:new e.Name("jsonLen"),jsonPart:new e.Name("jsonPart")};return Cl.default=t,Cl}var K0;function Uc(){return K0||(K0=1,(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.extendErrors=e.resetErrorsCount=e.reportExtraError=e.reportError=e.keyword$DataError=e.keywordError=void 0;const t=gt(),r=_t(),n=Oi();e.keywordError={message:({keyword:p})=>(0,t.str)`must pass "${p}" keyword validation`},e.keyword$DataError={message:({keyword:p,schemaType:y})=>y?(0,t.str)`"${p}" keyword must be ${y} ($data)`:(0,t.str)`"${p}" keyword is invalid ($data)`};function i(p,y=e.keywordError,b,v){const{it:F}=p,{gen:E,compositeRule:T,allErrors:I}=F,M=f(p,y,b);v??(T||I)?l(E,M):u(F,(0,t._)`[${M}]`)}e.reportError=i;function o(p,y=e.keywordError,b){const{it:v}=p,{gen:F,compositeRule:E,allErrors:T}=v,I=f(p,y,b);l(F,I),E||T||u(v,n.default.vErrors)}e.reportExtraError=o;function s(p,y){p.assign(n.default.errors,y),p.if((0,t._)`${n.default.vErrors} !== null`,()=>p.if(y,()=>p.assign((0,t._)`${n.default.vErrors}.length`,y),()=>p.assign(n.default.vErrors,null)))}e.resetErrorsCount=s;function a({gen:p,keyword:y,schemaValue:b,data:v,errsCount:F,it:E}){if(F===void 0)throw new Error("ajv implementation error");const T=p.name("err");p.forRange("i",F,n.default.errors,I=>{p.const(T,(0,t._)`${n.default.vErrors}[${I}]`),p.if((0,t._)`${T}.instancePath === undefined`,()=>p.assign((0,t._)`${T}.instancePath`,(0,t.strConcat)(n.default.instancePath,E.errorPath))),p.assign((0,t._)`${T}.schemaPath`,(0,t.str)`${E.errSchemaPath}/${y}`),E.opts.verbose&&(p.assign((0,t._)`${T}.schema`,b),p.assign((0,t._)`${T}.data`,v))})}e.extendErrors=a;function l(p,y){const b=p.const("err",y);p.if((0,t._)`${n.default.vErrors} === null`,()=>p.assign(n.default.vErrors,(0,t._)`[${b}]`),(0,t._)`${n.default.vErrors}.push(${b})`),p.code((0,t._)`${n.default.errors}++`)}function u(p,y){const{gen:b,validateName:v,schemaEnv:F}=p;F.$async?b.throw((0,t._)`new ${p.ValidationError}(${y})`):(b.assign((0,t._)`${v}.errors`,y),b.return(!1))}const c={keyword:new t.Name("keyword"),schemaPath:new t.Name("schemaPath"),params:new t.Name("params"),propertyName:new t.Name("propertyName"),message:new t.Name("message"),schema:new t.Name("schema"),parentSchema:new t.Name("parentSchema")};function f(p,y,b){const{createErrors:v}=p.it;return v===!1?(0,t._)`{}`:d(p,y,b)}function d(p,y,b={}){const{gen:v,it:F}=p,E=[h(F,b),g(p,b)];return m(p,y,E),v.object(...E)}function h({errorPath:p},{instancePath:y}){const b=y?(0,t.str)`${p}${(0,r.getErrorPath)(y,r.Type.Str)}`:p;return[n.default.instancePath,(0,t.strConcat)(n.default.instancePath,b)]}function g({keyword:p,it:{errSchemaPath:y}},{schemaPath:b,parentSchema:v}){let F=v?y:(0,t.str)`${y}/${p}`;return b&&(F=(0,t.str)`${F}${(0,r.getErrorPath)(b,r.Type.Str)}`),[c.schemaPath,F]}function m(p,{params:y,message:b},v){const{keyword:F,data:E,schemaValue:T,it:I}=p,{opts:M,propertyName:P,topSchemaRef:O,schemaPath:z}=I;v.push([c.keyword,F],[c.params,typeof y=="function"?y(p):y||(0,t._)`{}`]),M.messages&&v.push([c.message,typeof b=="function"?b(p):b]),M.verbose&&v.push([c.schema,T],[c.parentSchema,(0,t._)`${O}${z}`],[n.default.data,E]),P&&v.push([c.propertyName,P])}})(nh)),nh}var q0;function hU(){if(q0)return $i;q0=1,Object.defineProperty($i,"__esModule",{value:!0}),$i.boolOrEmptySchema=$i.topBoolOrEmptySchema=void 0;const e=Uc(),t=gt(),r=Oi(),n={message:"boolean schema is false"};function i(a){const{gen:l,schema:u,validateName:c}=a;u===!1?s(a,!1):typeof u=="object"&&u.$async===!0?l.return(r.default.data):(l.assign((0,t._)`${c}.errors`,null),l.return(!0))}$i.topBoolOrEmptySchema=i;function o(a,l){const{gen:u,schema:c}=a;c===!1?(u.var(l,!1),s(a)):u.var(l,!0)}$i.boolOrEmptySchema=o;function s(a,l){const{gen:u,data:c}=a,f={gen:u,keyword:"false schema",data:c,schema:!1,schemaCode:!1,schemaValue:!1,params:{},it:a};(0,e.reportError)(f,n,void 0,l)}return $i}var gr={},Ui={},J0;function QF(){if(J0)return Ui;J0=1,Object.defineProperty(Ui,"__esModule",{value:!0}),Ui.getRules=Ui.isJSONType=void 0;const e=["string","number","integer","boolean","null","object","array"],t=new Set(e);function r(i){return typeof i=="string"&&t.has(i)}Ui.isJSONType=r;function n(){const i={number:{type:"number",rules:[]},string:{type:"string",rules:[]},array:{type:"array",rules:[]},object:{type:"object",rules:[]}};return{types:{...i,integer:!0,boolean:!0,null:!0},rules:[{rules:[]},i.number,i.string,i.array,i.object],post:{rules:[]},all:{},keywords:{}}}return Ui.getRules=n,Ui}var Gn={},Y0;function e2(){if(Y0)return Gn;Y0=1,Object.defineProperty(Gn,"__esModule",{value:!0}),Gn.shouldUseRule=Gn.shouldUseGroup=Gn.schemaHasRulesForType=void 0;function e({schema:n,self:i},o){const s=i.RULES.types[o];return s&&s!==!0&&t(n,s)}Gn.schemaHasRulesForType=e;function t(n,i){return i.rules.some(o=>r(n,o))}Gn.shouldUseGroup=t;function r(n,i){var o;return n[i.keyword]!==void 0||((o=i.definition.implements)===null||o===void 0?void 0:o.some(s=>n[s]!==void 0))}return Gn.shouldUseRule=r,Gn}var Z0;function yc(){if(Z0)return gr;Z0=1,Object.defineProperty(gr,"__esModule",{value:!0}),gr.reportTypeError=gr.checkDataTypes=gr.checkDataType=gr.coerceAndCheckDataType=gr.getJSONTypes=gr.getSchemaTypes=gr.DataType=void 0;const e=QF(),t=e2(),r=Uc(),n=gt(),i=_t();var o;(function(b){b[b.Correct=0]="Correct",b[b.Wrong=1]="Wrong"})(o||(gr.DataType=o={}));function s(b){const v=a(b.type);if(v.includes("null")){if(b.nullable===!1)throw new Error("type: null contradicts nullable: false")}else{if(!v.length&&b.nullable!==void 0)throw new Error('"nullable" cannot be used without "type"');b.nullable===!0&&v.push("null")}return v}gr.getSchemaTypes=s;function a(b){const v=Array.isArray(b)?b:b?[b]:[];if(v.every(e.isJSONType))return v;throw new Error("type must be JSONType or JSONType[]: "+v.join(","))}gr.getJSONTypes=a;function l(b,v){const{gen:F,data:E,opts:T}=b,I=c(v,T.coerceTypes),M=v.length>0&&!(I.length===0&&v.length===1&&(0,t.schemaHasRulesForType)(b,v[0]));if(M){const P=g(v,E,T.strictNumbers,o.Wrong);F.if(P,()=>{I.length?f(b,v,I):p(b)})}return M}gr.coerceAndCheckDataType=l;const u=new Set(["string","number","integer","boolean","null"]);function c(b,v){return v?b.filter(F=>u.has(F)||v==="array"&&F==="array"):[]}function f(b,v,F){const{gen:E,data:T,opts:I}=b,M=E.let("dataType",(0,n._)`typeof ${T}`),P=E.let("coerced",(0,n._)`undefined`);I.coerceTypes==="array"&&E.if((0,n._)`${M} == 'object' && Array.isArray(${T}) && ${T}.length == 1`,()=>E.assign(T,(0,n._)`${T}[0]`).assign(M,(0,n._)`typeof ${T}`).if(g(v,T,I.strictNumbers),()=>E.assign(P,T))),E.if((0,n._)`${P} !== undefined`);for(const z of F)(u.has(z)||z==="array"&&I.coerceTypes==="array")&&O(z);E.else(),p(b),E.endIf(),E.if((0,n._)`${P} !== undefined`,()=>{E.assign(T,P),d(b,P)});function O(z){switch(z){case"string":E.elseIf((0,n._)`${M} == "number" || ${M} == "boolean"`).assign(P,(0,n._)`"" + ${T}`).elseIf((0,n._)`${T} === null`).assign(P,(0,n._)`""`);return;case"number":E.elseIf((0,n._)`${M} == "boolean" || ${T} === null
              || (${M} == "string" && ${T} && ${T} == +${T})`).assign(P,(0,n._)`+${T}`);return;case"integer":E.elseIf((0,n._)`${M} === "boolean" || ${T} === null
              || (${M} === "string" && ${T} && ${T} == +${T} && !(${T} % 1))`).assign(P,(0,n._)`+${T}`);return;case"boolean":E.elseIf((0,n._)`${T} === "false" || ${T} === 0 || ${T} === null`).assign(P,!1).elseIf((0,n._)`${T} === "true" || ${T} === 1`).assign(P,!0);return;case"null":E.elseIf((0,n._)`${T} === "" || ${T} === 0 || ${T} === false`),E.assign(P,null);return;case"array":E.elseIf((0,n._)`${M} === "string" || ${M} === "number"
              || ${M} === "boolean" || ${T} === null`).assign(P,(0,n._)`[${T}]`)}}}function d({gen:b,parentData:v,parentDataProperty:F},E){b.if((0,n._)`${v} !== undefined`,()=>b.assign((0,n._)`${v}[${F}]`,E))}function h(b,v,F,E=o.Correct){const T=E===o.Correct?n.operators.EQ:n.operators.NEQ;let I;switch(b){case"null":return(0,n._)`${v} ${T} null`;case"array":I=(0,n._)`Array.isArray(${v})`;break;case"object":I=(0,n._)`${v} && typeof ${v} == "object" && !Array.isArray(${v})`;break;case"integer":I=M((0,n._)`!(${v} % 1) && !isNaN(${v})`);break;case"number":I=M();break;default:return(0,n._)`typeof ${v} ${T} ${b}`}return E===o.Correct?I:(0,n.not)(I);function M(P=n.nil){return(0,n.and)((0,n._)`typeof ${v} == "number"`,P,F?(0,n._)`isFinite(${v})`:n.nil)}}gr.checkDataType=h;function g(b,v,F,E){if(b.length===1)return h(b[0],v,F,E);let T;const I=(0,i.toHash)(b);if(I.array&&I.object){const M=(0,n._)`typeof ${v} != "object"`;T=I.null?M:(0,n._)`!${v} || ${M}`,delete I.null,delete I.array,delete I.object}else T=n.nil;I.number&&delete I.integer;for(const M in I)T=(0,n.and)(T,h(M,v,F,E));return T}gr.checkDataTypes=g;const m={message:({schema:b})=>`must be ${b}`,params:({schema:b,schemaValue:v})=>typeof b=="string"?(0,n._)`{type: ${b}}`:(0,n._)`{type: ${v}}`};function p(b){const v=y(b);(0,r.reportError)(v,m)}gr.reportTypeError=p;function y(b){const{gen:v,data:F,schema:E}=b,T=(0,i.schemaRefOrVal)(b,E,"type");return{gen:v,keyword:"type",data:F,schema:E.type,schemaCode:T,schemaValue:T,parentSchema:E,params:{},it:b}}return gr}var Vs={},X0;function fU(){if(X0)return Vs;X0=1,Object.defineProperty(Vs,"__esModule",{value:!0}),Vs.assignDefaults=void 0;const e=gt(),t=_t();function r(i,o){const{properties:s,items:a}=i.schema;if(o==="object"&&s)for(const l in s)n(i,l,s[l].default);else o==="array"&&Array.isArray(a)&&a.forEach((l,u)=>n(i,u,l.default))}Vs.assignDefaults=r;function n(i,o,s){const{gen:a,compositeRule:l,data:u,opts:c}=i;if(s===void 0)return;const f=(0,e._)`${u}${(0,e.getProperty)(o)}`;if(l){(0,t.checkStrictMode)(i,`default is ignored for: ${f}`);return}let d=(0,e._)`${f} === undefined`;c.useDefaults==="empty"&&(d=(0,e._)`${d} || ${f} === null || ${f} === ""`),a.if(d,(0,e._)`${f} = ${(0,e.stringify)(s)}`)}return Vs}var hn={},Nt={},Q0;function bn(){if(Q0)return Nt;Q0=1,Object.defineProperty(Nt,"__esModule",{value:!0}),Nt.validateUnion=Nt.validateArray=Nt.usePattern=Nt.callValidateCode=Nt.schemaProperties=Nt.allSchemaProperties=Nt.noPropertyInData=Nt.propertyInData=Nt.isOwnProperty=Nt.hasPropFunc=Nt.reportMissingProp=Nt.checkMissingProp=Nt.checkReportMissingProp=void 0;const e=gt(),t=_t(),r=Oi(),n=_t();function i(b,v){const{gen:F,data:E,it:T}=b;F.if(c(F,E,v,T.opts.ownProperties),()=>{b.setParams({missingProperty:(0,e._)`${v}`},!0),b.error()})}Nt.checkReportMissingProp=i;function o({gen:b,data:v,it:{opts:F}},E,T){return(0,e.or)(...E.map(I=>(0,e.and)(c(b,v,I,F.ownProperties),(0,e._)`${T} = ${I}`)))}Nt.checkMissingProp=o;function s(b,v){b.setParams({missingProperty:v},!0),b.error()}Nt.reportMissingProp=s;function a(b){return b.scopeValue("func",{ref:Object.prototype.hasOwnProperty,code:(0,e._)`Object.prototype.hasOwnProperty`})}Nt.hasPropFunc=a;function l(b,v,F){return(0,e._)`${a(b)}.call(${v}, ${F})`}Nt.isOwnProperty=l;function u(b,v,F,E){const T=(0,e._)`${v}${(0,e.getProperty)(F)} !== undefined`;return E?(0,e._)`${T} && ${l(b,v,F)}`:T}Nt.propertyInData=u;function c(b,v,F,E){const T=(0,e._)`${v}${(0,e.getProperty)(F)} === undefined`;return E?(0,e.or)(T,(0,e.not)(l(b,v,F))):T}Nt.noPropertyInData=c;function f(b){return b?Object.keys(b).filter(v=>v!=="__proto__"):[]}Nt.allSchemaProperties=f;function d(b,v){return f(v).filter(F=>!(0,t.alwaysValidSchema)(b,v[F]))}Nt.schemaProperties=d;function h({schemaCode:b,data:v,it:{gen:F,topSchemaRef:E,schemaPath:T,errorPath:I},it:M},P,O,z){const L=z?(0,e._)`${b}, ${v}, ${E}${T}`:v,_=[[r.default.instancePath,(0,e.strConcat)(r.default.instancePath,I)],[r.default.parentData,M.parentData],[r.default.parentDataProperty,M.parentDataProperty],[r.default.rootData,r.default.rootData]];M.opts.dynamicRef&&_.push([r.default.dynamicAnchors,r.default.dynamicAnchors]);const R=(0,e._)`${L}, ${F.object(..._)}`;return O!==e.nil?(0,e._)`${P}.call(${O}, ${R})`:(0,e._)`${P}(${R})`}Nt.callValidateCode=h;const g=(0,e._)`new RegExp`;function m({gen:b,it:{opts:v}},F){const E=v.unicodeRegExp?"u":"",{regExp:T}=v.code,I=T(F,E);return b.scopeValue("pattern",{key:I.toString(),ref:I,code:(0,e._)`${T.code==="new RegExp"?g:(0,n.useFunc)(b,T)}(${F}, ${E})`})}Nt.usePattern=m;function p(b){const{gen:v,data:F,keyword:E,it:T}=b,I=v.name("valid");if(T.allErrors){const P=v.let("valid",!0);return M(()=>v.assign(P,!1)),P}return v.var(I,!0),M(()=>v.break()),I;function M(P){const O=v.const("len",(0,e._)`${F}.length`);v.forRange("i",0,O,z=>{b.subschema({keyword:E,dataProp:z,dataPropType:t.Type.Num},I),v.if((0,e.not)(I),P)})}}Nt.validateArray=p;function y(b){const{gen:v,schema:F,keyword:E,it:T}=b;if(!Array.isArray(F))throw new Error("ajv implementation error");if(F.some(O=>(0,t.alwaysValidSchema)(T,O))&&!T.opts.unevaluated)return;const M=v.let("valid",!1),P=v.name("_valid");v.block(()=>F.forEach((O,z)=>{const L=b.subschema({keyword:E,schemaProp:z,compositeRule:!0},P);v.assign(M,(0,e._)`${M} || ${P}`),b.mergeValidEvaluated(L,P)||v.if((0,e.not)(M))})),b.result(M,()=>b.reset(),()=>b.error(!0))}return Nt.validateUnion=y,Nt}var eb;function pU(){if(eb)return hn;eb=1,Object.defineProperty(hn,"__esModule",{value:!0}),hn.validateKeywordUsage=hn.validSchemaType=hn.funcKeywordCode=hn.macroKeywordCode=void 0;const e=gt(),t=Oi(),r=bn(),n=Uc();function i(d,h){const{gen:g,keyword:m,schema:p,parentSchema:y,it:b}=d,v=h.macro.call(b.self,p,y,b),F=u(g,m,v);b.opts.validateSchema!==!1&&b.self.validateSchema(v,!0);const E=g.name("valid");d.subschema({schema:v,schemaPath:e.nil,errSchemaPath:`${b.errSchemaPath}/${m}`,topSchemaRef:F,compositeRule:!0},E),d.pass(E,()=>d.error(!0))}hn.macroKeywordCode=i;function o(d,h){var g;const{gen:m,keyword:p,schema:y,parentSchema:b,$data:v,it:F}=d;l(F,h);const E=!v&&h.compile?h.compile.call(F.self,y,b,F):h.validate,T=u(m,p,E),I=m.let("valid");d.block$data(I,M),d.ok((g=h.valid)!==null&&g!==void 0?g:I);function M(){if(h.errors===!1)z(),h.modifying&&s(d),L(()=>d.error());else{const _=h.async?P():O();h.modifying&&s(d),L(()=>a(d,_))}}function P(){const _=m.let("ruleErrs",null);return m.try(()=>z((0,e._)`await `),R=>m.assign(I,!1).if((0,e._)`${R} instanceof ${F.ValidationError}`,()=>m.assign(_,(0,e._)`${R}.errors`),()=>m.throw(R))),_}function O(){const _=(0,e._)`${T}.errors`;return m.assign(_,null),z(e.nil),_}function z(_=h.async?(0,e._)`await `:e.nil){const R=F.opts.passContext?t.default.this:t.default.self,k=!("compile"in h&&!v||h.schema===!1);m.assign(I,(0,e._)`${_}${(0,r.callValidateCode)(d,T,R,k)}`,h.modifying)}function L(_){var R;m.if((0,e.not)((R=h.valid)!==null&&R!==void 0?R:I),_)}}hn.funcKeywordCode=o;function s(d){const{gen:h,data:g,it:m}=d;h.if(m.parentData,()=>h.assign(g,(0,e._)`${m.parentData}[${m.parentDataProperty}]`))}function a(d,h){const{gen:g}=d;g.if((0,e._)`Array.isArray(${h})`,()=>{g.assign(t.default.vErrors,(0,e._)`${t.default.vErrors} === null ? ${h} : ${t.default.vErrors}.concat(${h})`).assign(t.default.errors,(0,e._)`${t.default.vErrors}.length`),(0,n.extendErrors)(d)},()=>d.error())}function l({schemaEnv:d},h){if(h.async&&!d.$async)throw new Error("async keyword in sync schema")}function u(d,h,g){if(g===void 0)throw new Error(`keyword "${h}" failed to compile`);return d.scopeValue("keyword",typeof g=="function"?{ref:g}:{ref:g,code:(0,e.stringify)(g)})}function c(d,h,g=!1){return!h.length||h.some(m=>m==="array"?Array.isArray(d):m==="object"?d&&typeof d=="object"&&!Array.isArray(d):typeof d==m||g&&typeof d>"u")}hn.validSchemaType=c;function f({schema:d,opts:h,self:g,errSchemaPath:m},p,y){if(Array.isArray(p.keyword)?!p.keyword.includes(y):p.keyword!==y)throw new Error("ajv implementation error");const b=p.dependencies;if(b?.some(v=>!Object.prototype.hasOwnProperty.call(d,v)))throw new Error(`parent schema must have dependencies of ${y}: ${b.join(",")}`);if(p.validateSchema&&!p.validateSchema(d[y])){const F=`keyword "${y}" value is invalid at path "${m}": `+g.errorsText(p.validateSchema.errors);if(h.validateSchema==="log")g.logger.error(F);else throw new Error(F)}}return hn.validateKeywordUsage=f,hn}var jn={},tb;function gU(){if(tb)return jn;tb=1,Object.defineProperty(jn,"__esModule",{value:!0}),jn.extendSubschemaMode=jn.extendSubschemaData=jn.getSubschema=void 0;const e=gt(),t=_t();function r(o,{keyword:s,schemaProp:a,schema:l,schemaPath:u,errSchemaPath:c,topSchemaRef:f}){if(s!==void 0&&l!==void 0)throw new Error('both "keyword" and "schema" passed, only one allowed');if(s!==void 0){const d=o.schema[s];return a===void 0?{schema:d,schemaPath:(0,e._)`${o.schemaPath}${(0,e.getProperty)(s)}`,errSchemaPath:`${o.errSchemaPath}/${s}`}:{schema:d[a],schemaPath:(0,e._)`${o.schemaPath}${(0,e.getProperty)(s)}${(0,e.getProperty)(a)}`,errSchemaPath:`${o.errSchemaPath}/${s}/${(0,t.escapeFragment)(a)}`}}if(l!==void 0){if(u===void 0||c===void 0||f===void 0)throw new Error('"schemaPath", "errSchemaPath" and "topSchemaRef" are required with "schema"');return{schema:l,schemaPath:u,topSchemaRef:f,errSchemaPath:c}}throw new Error('either "keyword" or "schema" must be passed')}jn.getSubschema=r;function n(o,s,{dataProp:a,dataPropType:l,data:u,dataTypes:c,propertyName:f}){if(u!==void 0&&a!==void 0)throw new Error('both "data" and "dataProp" passed, only one allowed');const{gen:d}=s;if(a!==void 0){const{errorPath:g,dataPathArr:m,opts:p}=s,y=d.let("data",(0,e._)`${s.data}${(0,e.getProperty)(a)}`,!0);h(y),o.errorPath=(0,e.str)`${g}${(0,t.getErrorPath)(a,l,p.jsPropertySyntax)}`,o.parentDataProperty=(0,e._)`${a}`,o.dataPathArr=[...m,o.parentDataProperty]}if(u!==void 0){const g=u instanceof e.Name?u:d.let("data",u,!0);h(g),f!==void 0&&(o.propertyName=f)}c&&(o.dataTypes=c);function h(g){o.data=g,o.dataLevel=s.dataLevel+1,o.dataTypes=[],s.definedProperties=new Set,o.parentData=s.data,o.dataNames=[...s.dataNames,g]}}jn.extendSubschemaData=n;function i(o,{jtdDiscriminator:s,jtdMetadata:a,compositeRule:l,createErrors:u,allErrors:c}){l!==void 0&&(o.compositeRule=l),u!==void 0&&(o.createErrors=u),c!==void 0&&(o.allErrors=c),o.jtdDiscriminator=s,o.jtdMetadata=a}return jn.extendSubschemaMode=i,jn}var _r={},ah,rb;function t2(){return rb||(rb=1,ah=function e(t,r){if(t===r)return!0;if(t&&r&&typeof t=="object"&&typeof r=="object"){if(t.constructor!==r.constructor)return!1;var n,i,o;if(Array.isArray(t)){if(n=t.length,n!=r.length)return!1;for(i=n;i--!==0;)if(!e(t[i],r[i]))return!1;return!0}if(t.constructor===RegExp)return t.source===r.source&&t.flags===r.flags;if(t.valueOf!==Object.prototype.valueOf)return t.valueOf()===r.valueOf();if(t.toString!==Object.prototype.toString)return t.toString()===r.toString();if(o=Object.keys(t),n=o.length,n!==Object.keys(r).length)return!1;for(i=n;i--!==0;)if(!Object.prototype.hasOwnProperty.call(r,o[i]))return!1;for(i=n;i--!==0;){var s=o[i];if(!e(t[s],r[s]))return!1}return!0}return t!==t&&r!==r}),ah}var lh={exports:{}},nb;function mU(){if(nb)return lh.exports;nb=1;var e=lh.exports=function(n,i,o){typeof i=="function"&&(o=i,i={}),o=i.cb||o;var s=typeof o=="function"?o:o.pre||function(){},a=o.post||function(){};t(i,s,a,n,"",n)};e.keywords={additionalItems:!0,items:!0,contains:!0,additionalProperties:!0,propertyNames:!0,not:!0,if:!0,then:!0,else:!0},e.arrayKeywords={items:!0,allOf:!0,anyOf:!0,oneOf:!0},e.propsKeywords={$defs:!0,definitions:!0,properties:!0,patternProperties:!0,dependencies:!0},e.skipKeywords={default:!0,enum:!0,const:!0,required:!0,maximum:!0,minimum:!0,exclusiveMaximum:!0,exclusiveMinimum:!0,multipleOf:!0,maxLength:!0,minLength:!0,pattern:!0,format:!0,maxItems:!0,minItems:!0,uniqueItems:!0,maxProperties:!0,minProperties:!0};function t(n,i,o,s,a,l,u,c,f,d){if(s&&typeof s=="object"&&!Array.isArray(s)){i(s,a,l,u,c,f,d);for(var h in s){var g=s[h];if(Array.isArray(g)){if(h in e.arrayKeywords)for(var m=0;m<g.length;m++)t(n,i,o,g[m],a+"/"+h+"/"+m,l,a,h,s,m)}else if(h in e.propsKeywords){if(g&&typeof g=="object")for(var p in g)t(n,i,o,g[p],a+"/"+h+"/"+r(p),l,a,h,s,p)}else(h in e.keywords||n.allKeys&&!(h in e.skipKeywords))&&t(n,i,o,g,a+"/"+h,l,a,h,s)}o(s,a,l,u,c,f,d)}}function r(n){return n.replace(/~/g,"~0").replace(/\//g,"~1")}return lh.exports}var ib;function Kc(){if(ib)return _r;ib=1,Object.defineProperty(_r,"__esModule",{value:!0}),_r.getSchemaRefs=_r.resolveUrl=_r.normalizeId=_r._getFullPath=_r.getFullPath=_r.inlineRef=void 0;const e=_t(),t=t2(),r=mU(),n=new Set(["type","format","pattern","maxLength","minLength","maxProperties","minProperties","maxItems","minItems","maximum","minimum","uniqueItems","multipleOf","required","enum","const"]);function i(m,p=!0){return typeof m=="boolean"?!0:p===!0?!s(m):p?a(m)<=p:!1}_r.inlineRef=i;const o=new Set(["$ref","$recursiveRef","$recursiveAnchor","$dynamicRef","$dynamicAnchor"]);function s(m){for(const p in m){if(o.has(p))return!0;const y=m[p];if(Array.isArray(y)&&y.some(s)||typeof y=="object"&&s(y))return!0}return!1}function a(m){let p=0;for(const y in m){if(y==="$ref")return 1/0;if(p++,!n.has(y)&&(typeof m[y]=="object"&&(0,e.eachItem)(m[y],b=>p+=a(b)),p===1/0))return 1/0}return p}function l(m,p="",y){y!==!1&&(p=f(p));const b=m.parse(p);return u(m,b)}_r.getFullPath=l;function u(m,p){return m.serialize(p).split("#")[0]+"#"}_r._getFullPath=u;const c=/#\/?$/;function f(m){return m?m.replace(c,""):""}_r.normalizeId=f;function d(m,p,y){return y=f(y),m.resolve(p,y)}_r.resolveUrl=d;const h=/^[a-z_][-a-z0-9._]*$/i;function g(m,p){if(typeof m=="boolean")return{};const{schemaId:y,uriResolver:b}=this.opts,v=f(m[y]||p),F={"":v},E=l(b,v,!1),T={},I=new Set;return r(m,{allKeys:!0},(O,z,L,_)=>{if(_===void 0)return;const R=E+z;let k=F[_];typeof O[y]=="string"&&(k=S.call(this,O[y])),w.call(this,O.$anchor),w.call(this,O.$dynamicAnchor),F[z]=k;function S(C){const x=this.opts.uriResolver.resolve;if(C=f(k?x(k,C):C),I.has(C))throw P(C);I.add(C);let A=this.refs[C];return typeof A=="string"&&(A=this.refs[A]),typeof A=="object"?M(O,A.schema,C):C!==f(R)&&(C[0]==="#"?(M(O,T[C],C),T[C]=O):this.refs[C]=R),C}function w(C){if(typeof C=="string"){if(!h.test(C))throw new Error(`invalid anchor "${C}"`);S.call(this,`#${C}`)}}}),T;function M(O,z,L){if(z!==void 0&&!t(O,z))throw P(L)}function P(O){return new Error(`reference "${O}" resolves to more than one schema`)}}return _r.getSchemaRefs=g,_r}var ob;function qc(){if(ob)return Hn;ob=1,Object.defineProperty(Hn,"__esModule",{value:!0}),Hn.getData=Hn.KeywordCxt=Hn.validateFunctionCode=void 0;const e=hU(),t=yc(),r=e2(),n=yc(),i=fU(),o=pU(),s=gU(),a=gt(),l=Oi(),u=Kc(),c=_t(),f=Uc();function d(J){if(E(J)&&(I(J),F(J))){p(J);return}h(J,()=>(0,e.topBoolOrEmptySchema)(J))}Hn.validateFunctionCode=d;function h({gen:J,validateName:Q,schema:ee,schemaEnv:W,opts:ne},re){ne.code.es5?J.func(Q,(0,a._)`${l.default.data}, ${l.default.valCxt}`,W.$async,()=>{J.code((0,a._)`"use strict"; ${b(ee,ne)}`),m(J,ne),J.code(re)}):J.func(Q,(0,a._)`${l.default.data}, ${g(ne)}`,W.$async,()=>J.code(b(ee,ne)).code(re))}function g(J){return(0,a._)`{${l.default.instancePath}="", ${l.default.parentData}, ${l.default.parentDataProperty}, ${l.default.rootData}=${l.default.data}${J.dynamicRef?(0,a._)`, ${l.default.dynamicAnchors}={}`:a.nil}}={}`}function m(J,Q){J.if(l.default.valCxt,()=>{J.var(l.default.instancePath,(0,a._)`${l.default.valCxt}.${l.default.instancePath}`),J.var(l.default.parentData,(0,a._)`${l.default.valCxt}.${l.default.parentData}`),J.var(l.default.parentDataProperty,(0,a._)`${l.default.valCxt}.${l.default.parentDataProperty}`),J.var(l.default.rootData,(0,a._)`${l.default.valCxt}.${l.default.rootData}`),Q.dynamicRef&&J.var(l.default.dynamicAnchors,(0,a._)`${l.default.valCxt}.${l.default.dynamicAnchors}`)},()=>{J.var(l.default.instancePath,(0,a._)`""`),J.var(l.default.parentData,(0,a._)`undefined`),J.var(l.default.parentDataProperty,(0,a._)`undefined`),J.var(l.default.rootData,l.default.data),Q.dynamicRef&&J.var(l.default.dynamicAnchors,(0,a._)`{}`)})}function p(J){const{schema:Q,opts:ee,gen:W}=J;h(J,()=>{ee.$comment&&Q.$comment&&_(J),O(J),W.let(l.default.vErrors,null),W.let(l.default.errors,0),ee.unevaluated&&y(J),M(J),R(J)})}function y(J){const{gen:Q,validateName:ee}=J;J.evaluated=Q.const("evaluated",(0,a._)`${ee}.evaluated`),Q.if((0,a._)`${J.evaluated}.dynamicProps`,()=>Q.assign((0,a._)`${J.evaluated}.props`,(0,a._)`undefined`)),Q.if((0,a._)`${J.evaluated}.dynamicItems`,()=>Q.assign((0,a._)`${J.evaluated}.items`,(0,a._)`undefined`))}function b(J,Q){const ee=typeof J=="object"&&J[Q.schemaId];return ee&&(Q.code.source||Q.code.process)?(0,a._)`/*# sourceURL=${ee} */`:a.nil}function v(J,Q){if(E(J)&&(I(J),F(J))){T(J,Q);return}(0,e.boolOrEmptySchema)(J,Q)}function F({schema:J,self:Q}){if(typeof J=="boolean")return!J;for(const ee in J)if(Q.RULES.all[ee])return!0;return!1}function E(J){return typeof J.schema!="boolean"}function T(J,Q){const{schema:ee,gen:W,opts:ne}=J;ne.$comment&&ee.$comment&&_(J),z(J),L(J);const re=W.const("_errs",l.default.errors);M(J,re),W.var(Q,(0,a._)`${re} === ${l.default.errors}`)}function I(J){(0,c.checkUnknownRules)(J),P(J)}function M(J,Q){if(J.opts.jtd)return S(J,[],!1,Q);const ee=(0,t.getSchemaTypes)(J.schema),W=(0,t.coerceAndCheckDataType)(J,ee);S(J,ee,!W,Q)}function P(J){const{schema:Q,errSchemaPath:ee,opts:W,self:ne}=J;Q.$ref&&W.ignoreKeywordsWithRef&&(0,c.schemaHasRulesButRef)(Q,ne.RULES)&&ne.logger.warn(`$ref: keywords ignored in schema at path "${ee}"`)}function O(J){const{schema:Q,opts:ee}=J;Q.default!==void 0&&ee.useDefaults&&ee.strictSchema&&(0,c.checkStrictMode)(J,"default is ignored in the schema root")}function z(J){const Q=J.schema[J.opts.schemaId];Q&&(J.baseId=(0,u.resolveUrl)(J.opts.uriResolver,J.baseId,Q))}function L(J){if(J.schema.$async&&!J.schemaEnv.$async)throw new Error("async schema in sync schema")}function _({gen:J,schemaEnv:Q,schema:ee,errSchemaPath:W,opts:ne}){const re=ee.$comment;if(ne.$comment===!0)J.code((0,a._)`${l.default.self}.logger.log(${re})`);else if(typeof ne.$comment=="function"){const q=(0,a.str)`${W}/$comment`,X=J.scopeValue("root",{ref:Q.root});J.code((0,a._)`${l.default.self}.opts.$comment(${re}, ${q}, ${X}.schema)`)}}function R(J){const{gen:Q,schemaEnv:ee,validateName:W,ValidationError:ne,opts:re}=J;ee.$async?Q.if((0,a._)`${l.default.errors} === 0`,()=>Q.return(l.default.data),()=>Q.throw((0,a._)`new ${ne}(${l.default.vErrors})`)):(Q.assign((0,a._)`${W}.errors`,l.default.vErrors),re.unevaluated&&k(J),Q.return((0,a._)`${l.default.errors} === 0`))}function k({gen:J,evaluated:Q,props:ee,items:W}){ee instanceof a.Name&&J.assign((0,a._)`${Q}.props`,ee),W instanceof a.Name&&J.assign((0,a._)`${Q}.items`,W)}function S(J,Q,ee,W){const{gen:ne,schema:re,data:q,allErrors:X,opts:te,self:se}=J,{RULES:oe}=se;if(re.$ref&&(te.ignoreKeywordsWithRef||!(0,c.schemaHasRulesButRef)(re,oe))){ne.block(()=>Y(J,"$ref",oe.all.$ref.definition));return}te.jtd||C(J,Q),ne.block(()=>{for(const ae of oe.rules)ie(ae);ie(oe.post)});function ie(ae){(0,r.shouldUseGroup)(re,ae)&&(ae.type?(ne.if((0,n.checkDataType)(ae.type,q,te.strictNumbers)),w(J,ae),Q.length===1&&Q[0]===ae.type&&ee&&(ne.else(),(0,n.reportTypeError)(J)),ne.endIf()):w(J,ae),X||ne.if((0,a._)`${l.default.errors} === ${W||0}`))}}function w(J,Q){const{gen:ee,schema:W,opts:{useDefaults:ne}}=J;ne&&(0,i.assignDefaults)(J,Q.type),ee.block(()=>{for(const re of Q.rules)(0,r.shouldUseRule)(W,re)&&Y(J,re.keyword,re.definition,Q.type)})}function C(J,Q){J.schemaEnv.meta||!J.opts.strictTypes||(x(J,Q),J.opts.allowUnionTypes||A(J,Q),D(J,J.dataTypes))}function x(J,Q){if(Q.length){if(!J.dataTypes.length){J.dataTypes=Q;return}Q.forEach(ee=>{V(J.dataTypes,ee)||K(J,`type "${ee}" not allowed by context "${J.dataTypes.join(",")}"`)}),j(J,Q)}}function A(J,Q){Q.length>1&&!(Q.length===2&&Q.includes("null"))&&K(J,"use allowUnionTypes to allow union type keyword")}function D(J,Q){const ee=J.self.RULES.all;for(const W in ee){const ne=ee[W];if(typeof ne=="object"&&(0,r.shouldUseRule)(J.schema,ne)){const{type:re}=ne.definition;re.length&&!re.some(q=>B(Q,q))&&K(J,`missing type "${re.join(",")}" for keyword "${W}"`)}}}function B(J,Q){return J.includes(Q)||Q==="number"&&J.includes("integer")}function V(J,Q){return J.includes(Q)||Q==="integer"&&J.includes("number")}function j(J,Q){const ee=[];for(const W of J.dataTypes)V(Q,W)?ee.push(W):Q.includes("integer")&&W==="number"&&ee.push("integer");J.dataTypes=ee}function K(J,Q){const ee=J.schemaEnv.baseId+J.errSchemaPath;Q+=` at "${ee}" (strictTypes)`,(0,c.checkStrictMode)(J,Q,J.opts.strictTypes)}class G{constructor(Q,ee,W){if((0,o.validateKeywordUsage)(Q,ee,W),this.gen=Q.gen,this.allErrors=Q.allErrors,this.keyword=W,this.data=Q.data,this.schema=Q.schema[W],this.$data=ee.$data&&Q.opts.$data&&this.schema&&this.schema.$data,this.schemaValue=(0,c.schemaRefOrVal)(Q,this.schema,W,this.$data),this.schemaType=ee.schemaType,this.parentSchema=Q.schema,this.params={},this.it=Q,this.def=ee,this.$data)this.schemaCode=Q.gen.const("vSchema",$(this.$data,Q));else if(this.schemaCode=this.schemaValue,!(0,o.validSchemaType)(this.schema,ee.schemaType,ee.allowUndefined))throw new Error(`${W} value must be ${JSON.stringify(ee.schemaType)}`);("code"in ee?ee.trackErrors:ee.errors!==!1)&&(this.errsCount=Q.gen.const("_errs",l.default.errors))}result(Q,ee,W){this.failResult((0,a.not)(Q),ee,W)}failResult(Q,ee,W){this.gen.if(Q),W?W():this.error(),ee?(this.gen.else(),ee(),this.allErrors&&this.gen.endIf()):this.allErrors?this.gen.endIf():this.gen.else()}pass(Q,ee){this.failResult((0,a.not)(Q),void 0,ee)}fail(Q){if(Q===void 0){this.error(),this.allErrors||this.gen.if(!1);return}this.gen.if(Q),this.error(),this.allErrors?this.gen.endIf():this.gen.else()}fail$data(Q){if(!this.$data)return this.fail(Q);const{schemaCode:ee}=this;this.fail((0,a._)`${ee} !== undefined && (${(0,a.or)(this.invalid$data(),Q)})`)}error(Q,ee,W){if(ee){this.setParams(ee),this._error(Q,W),this.setParams({});return}this._error(Q,W)}_error(Q,ee){(Q?f.reportExtraError:f.reportError)(this,this.def.error,ee)}$dataError(){(0,f.reportError)(this,this.def.$dataError||f.keyword$DataError)}reset(){if(this.errsCount===void 0)throw new Error('add "trackErrors" to keyword definition');(0,f.resetErrorsCount)(this.gen,this.errsCount)}ok(Q){this.allErrors||this.gen.if(Q)}setParams(Q,ee){ee?Object.assign(this.params,Q):this.params=Q}block$data(Q,ee,W=a.nil){this.gen.block(()=>{this.check$data(Q,W),ee()})}check$data(Q=a.nil,ee=a.nil){if(!this.$data)return;const{gen:W,schemaCode:ne,schemaType:re,def:q}=this;W.if((0,a.or)((0,a._)`${ne} === undefined`,ee)),Q!==a.nil&&W.assign(Q,!0),(re.length||q.validateSchema)&&(W.elseIf(this.invalid$data()),this.$dataError(),Q!==a.nil&&W.assign(Q,!1)),W.else()}invalid$data(){const{gen:Q,schemaCode:ee,schemaType:W,def:ne,it:re}=this;return(0,a.or)(q(),X());function q(){if(W.length){if(!(ee instanceof a.Name))throw new Error("ajv implementation error");const te=Array.isArray(W)?W:[W];return(0,a._)`${(0,n.checkDataTypes)(te,ee,re.opts.strictNumbers,n.DataType.Wrong)}`}return a.nil}function X(){if(ne.validateSchema){const te=Q.scopeValue("validate$data",{ref:ne.validateSchema});return(0,a._)`!${te}(${ee})`}return a.nil}}subschema(Q,ee){const W=(0,s.getSubschema)(this.it,Q);(0,s.extendSubschemaData)(W,this.it,Q),(0,s.extendSubschemaMode)(W,Q);const ne={...this.it,...W,items:void 0,props:void 0};return v(ne,ee),ne}mergeEvaluated(Q,ee){const{it:W,gen:ne}=this;W.opts.unevaluated&&(W.props!==!0&&Q.props!==void 0&&(W.props=c.mergeEvaluated.props(ne,Q.props,W.props,ee)),W.items!==!0&&Q.items!==void 0&&(W.items=c.mergeEvaluated.items(ne,Q.items,W.items,ee)))}mergeValidEvaluated(Q,ee){const{it:W,gen:ne}=this;if(W.opts.unevaluated&&(W.props!==!0||W.items!==!0))return ne.if(ee,()=>this.mergeEvaluated(Q,a.Name)),!0}}Hn.KeywordCxt=G;function Y(J,Q,ee,W){const ne=new G(J,ee,Q);"code"in ee?ee.code(ne,W):ne.$data&&ee.validate?(0,o.funcKeywordCode)(ne,ee):"macro"in ee?(0,o.macroKeywordCode)(ne,ee):(ee.compile||ee.validate)&&(0,o.funcKeywordCode)(ne,ee)}const H=/^\/(?:[^~]|~0|~1)*$/,N=/^([0-9]+)(#|\/(?:[^~]|~0|~1)*)?$/;function $(J,{dataLevel:Q,dataNames:ee,dataPathArr:W}){let ne,re;if(J==="")return l.default.rootData;if(J[0]==="/"){if(!H.test(J))throw new Error(`Invalid JSON-pointer: ${J}`);ne=J,re=l.default.rootData}else{const se=N.exec(J);if(!se)throw new Error(`Invalid JSON-pointer: ${J}`);const oe=+se[1];if(ne=se[2],ne==="#"){if(oe>=Q)throw new Error(te("property/index",oe));return W[Q-oe]}if(oe>Q)throw new Error(te("data",oe));if(re=ee[Q-oe],!ne)return re}let q=re;const X=ne.split("/");for(const se of X)se&&(re=(0,a._)`${re}${(0,a.getProperty)((0,c.unescapeJsonPointer)(se))}`,q=(0,a._)`${q} && ${re}`);return q;function te(se,oe){return`Cannot access ${se} ${oe} levels up, current level is ${Q}`}}return Hn.getData=$,Hn}var Fl={},sb;function jp(){if(sb)return Fl;sb=1,Object.defineProperty(Fl,"__esModule",{value:!0});class e extends Error{constructor(r){super("validation failed"),this.errors=r,this.ajv=this.validation=!0}}return Fl.default=e,Fl}var Sl={},ab;function Jc(){if(ab)return Sl;ab=1,Object.defineProperty(Sl,"__esModule",{value:!0});const e=Kc();class t extends Error{constructor(n,i,o,s){super(s||`can't resolve reference ${o} from id ${i}`),this.missingRef=(0,e.resolveUrl)(n,i,o),this.missingSchema=(0,e.normalizeId)((0,e.getFullPath)(n,this.missingRef))}}return Sl.default=t,Sl}var Ur={},lb;function zp(){if(lb)return Ur;lb=1,Object.defineProperty(Ur,"__esModule",{value:!0}),Ur.resolveSchema=Ur.getCompilingSchema=Ur.resolveRef=Ur.compileSchema=Ur.SchemaEnv=void 0;const e=gt(),t=jp(),r=Oi(),n=Kc(),i=_t(),o=qc();class s{constructor(y){var b;this.refs={},this.dynamicAnchors={};let v;typeof y.schema=="object"&&(v=y.schema),this.schema=y.schema,this.schemaId=y.schemaId,this.root=y.root||this,this.baseId=(b=y.baseId)!==null&&b!==void 0?b:(0,n.normalizeId)(v?.[y.schemaId||"$id"]),this.schemaPath=y.schemaPath,this.localRefs=y.localRefs,this.meta=y.meta,this.$async=v?.$async,this.refs={}}}Ur.SchemaEnv=s;function a(p){const y=c.call(this,p);if(y)return y;const b=(0,n.getFullPath)(this.opts.uriResolver,p.root.baseId),{es5:v,lines:F}=this.opts.code,{ownProperties:E}=this.opts,T=new e.CodeGen(this.scope,{es5:v,lines:F,ownProperties:E});let I;p.$async&&(I=T.scopeValue("Error",{ref:t.default,code:(0,e._)`require("ajv/dist/runtime/validation_error").default`}));const M=T.scopeName("validate");p.validateName=M;const P={gen:T,allErrors:this.opts.allErrors,data:r.default.data,parentData:r.default.parentData,parentDataProperty:r.default.parentDataProperty,dataNames:[r.default.data],dataPathArr:[e.nil],dataLevel:0,dataTypes:[],definedProperties:new Set,topSchemaRef:T.scopeValue("schema",this.opts.code.source===!0?{ref:p.schema,code:(0,e.stringify)(p.schema)}:{ref:p.schema}),validateName:M,ValidationError:I,schema:p.schema,schemaEnv:p,rootId:b,baseId:p.baseId||b,schemaPath:e.nil,errSchemaPath:p.schemaPath||(this.opts.jtd?"":"#"),errorPath:(0,e._)`""`,opts:this.opts,self:this};let O;try{this._compilations.add(p),(0,o.validateFunctionCode)(P),T.optimize(this.opts.code.optimize);const z=T.toString();O=`${T.scopeRefs(r.default.scope)}return ${z}`,this.opts.code.process&&(O=this.opts.code.process(O,p));const _=new Function(`${r.default.self}`,`${r.default.scope}`,O)(this,this.scope.get());if(this.scope.value(M,{ref:_}),_.errors=null,_.schema=p.schema,_.schemaEnv=p,p.$async&&(_.$async=!0),this.opts.code.source===!0&&(_.source={validateName:M,validateCode:z,scopeValues:T._values}),this.opts.unevaluated){const{props:R,items:k}=P;_.evaluated={props:R instanceof e.Name?void 0:R,items:k instanceof e.Name?void 0:k,dynamicProps:R instanceof e.Name,dynamicItems:k instanceof e.Name},_.source&&(_.source.evaluated=(0,e.stringify)(_.evaluated))}return p.validate=_,p}catch(z){throw delete p.validate,delete p.validateName,O&&this.logger.error("Error compiling schema, function code:",O),z}finally{this._compilations.delete(p)}}Ur.compileSchema=a;function l(p,y,b){var v;b=(0,n.resolveUrl)(this.opts.uriResolver,y,b);const F=p.refs[b];if(F)return F;let E=d.call(this,p,b);if(E===void 0){const T=(v=p.localRefs)===null||v===void 0?void 0:v[b],{schemaId:I}=this.opts;T&&(E=new s({schema:T,schemaId:I,root:p,baseId:y}))}if(E!==void 0)return p.refs[b]=u.call(this,E)}Ur.resolveRef=l;function u(p){return(0,n.inlineRef)(p.schema,this.opts.inlineRefs)?p.schema:p.validate?p:a.call(this,p)}function c(p){for(const y of this._compilations)if(f(y,p))return y}Ur.getCompilingSchema=c;function f(p,y){return p.schema===y.schema&&p.root===y.root&&p.baseId===y.baseId}function d(p,y){let b;for(;typeof(b=this.refs[y])=="string";)y=b;return b||this.schemas[y]||h.call(this,p,y)}function h(p,y){const b=this.opts.uriResolver.parse(y),v=(0,n._getFullPath)(this.opts.uriResolver,b);let F=(0,n.getFullPath)(this.opts.uriResolver,p.baseId,void 0);if(Object.keys(p.schema).length>0&&v===F)return m.call(this,b,p);const E=(0,n.normalizeId)(v),T=this.refs[E]||this.schemas[E];if(typeof T=="string"){const I=h.call(this,p,T);return typeof I?.schema!="object"?void 0:m.call(this,b,I)}if(typeof T?.schema=="object"){if(T.validate||a.call(this,T),E===(0,n.normalizeId)(y)){const{schema:I}=T,{schemaId:M}=this.opts,P=I[M];return P&&(F=(0,n.resolveUrl)(this.opts.uriResolver,F,P)),new s({schema:I,schemaId:M,root:p,baseId:F})}return m.call(this,b,T)}}Ur.resolveSchema=h;const g=new Set(["properties","patternProperties","enum","dependencies","definitions"]);function m(p,{baseId:y,schema:b,root:v}){var F;if(((F=p.fragment)===null||F===void 0?void 0:F[0])!=="/")return;for(const I of p.fragment.slice(1).split("/")){if(typeof b=="boolean")return;const M=b[(0,i.unescapeFragment)(I)];if(M===void 0)return;b=M;const P=typeof b=="object"&&b[this.opts.schemaId];!g.has(I)&&P&&(y=(0,n.resolveUrl)(this.opts.uriResolver,y,P))}let E;if(typeof b!="boolean"&&b.$ref&&!(0,i.schemaHasRulesButRef)(b,this.RULES)){const I=(0,n.resolveUrl)(this.opts.uriResolver,y,b.$ref);E=h.call(this,v,I)}const{schemaId:T}=this.opts;if(E=E||new s({schema:b,schemaId:T,root:v,baseId:y}),E.schema!==E.root.schema)return E}return Ur}const bU="https://raw.githubusercontent.com/ajv-validator/ajv/master/lib/refs/data.json#",yU="Meta-schema for $data reference (JSON AnySchema extension proposal)",vU="object",wU=["$data"],CU={$data:{type:"string",anyOf:[{format:"relative-json-pointer"},{format:"json-pointer"}]}},FU=!1,SU={$id:bU,description:yU,type:vU,required:wU,properties:CU,additionalProperties:FU};var xl={},Ws={exports:{}},uh,ub;function r2(){if(ub)return uh;ub=1;const e=RegExp.prototype.test.bind(/^[\da-f]{8}-[\da-f]{4}-[\da-f]{4}-[\da-f]{4}-[\da-f]{12}$/iu),t=RegExp.prototype.test.bind(/^(?:(?:25[0-5]|2[0-4]\d|1\d{2}|[1-9]\d|\d)\.){3}(?:25[0-5]|2[0-4]\d|1\d{2}|[1-9]\d|\d)$/u);function r(d){let h="",g=0,m=0;for(m=0;m<d.length;m++)if(g=d[m].charCodeAt(0),g!==48){if(!(g>=48&&g<=57||g>=65&&g<=70||g>=97&&g<=102))return"";h+=d[m];break}for(m+=1;m<d.length;m++){if(g=d[m].charCodeAt(0),!(g>=48&&g<=57||g>=65&&g<=70||g>=97&&g<=102))return"";h+=d[m]}return h}const n=RegExp.prototype.test.bind(/[^!"$&'()*+,\-.;=_`a-z{}~]/u);function i(d){return d.length=0,!0}function o(d,h,g){if(d.length){const m=r(d);if(m!=="")h.push(m);else return g.error=!0,!1;d.length=0}return!0}function s(d){let h=0;const g={error:!1,address:"",zone:""},m=[],p=[];let y=!1,b=!1,v=o;for(let F=0;F<d.length;F++){const E=d[F];if(!(E==="["||E==="]"))if(E===":"){if(y===!0&&(b=!0),!v(p,m,g))break;if(++h>7){g.error=!0;break}F>0&&d[F-1]===":"&&(y=!0),m.push(":");continue}else if(E==="%"){if(!v(p,m,g))break;v=i}else{p.push(E);continue}}return p.length&&(v===i?g.zone=p.join(""):b?m.push(p.join("")):m.push(r(p))),g.address=m.join(""),g}function a(d){if(l(d,":")<2)return{host:d,isIPV6:!1};const h=s(d);if(h.error)return{host:d,isIPV6:!1};{let g=h.address,m=h.address;return h.zone&&(g+="%"+h.zone,m+="%25"+h.zone),{host:g,isIPV6:!0,escapedHost:m}}}function l(d,h){let g=0;for(let m=0;m<d.length;m++)d[m]===h&&g++;return g}function u(d){let h=d;const g=[];let m=-1,p=0;for(;p=h.length;){if(p===1){if(h===".")break;if(h==="/"){g.push("/");break}else{g.push(h);break}}else if(p===2){if(h[0]==="."){if(h[1]===".")break;if(h[1]==="/"){h=h.slice(2);continue}}else if(h[0]==="/"&&(h[1]==="."||h[1]==="/")){g.push("/");break}}else if(p===3&&h==="/.."){g.length!==0&&g.pop(),g.push("/");break}if(h[0]==="."){if(h[1]==="."){if(h[2]==="/"){h=h.slice(3);continue}}else if(h[1]==="/"){h=h.slice(2);continue}}else if(h[0]==="/"&&h[1]==="."){if(h[2]==="/"){h=h.slice(2);continue}else if(h[2]==="."&&h[3]==="/"){h=h.slice(3),g.length!==0&&g.pop();continue}}if((m=h.indexOf("/",1))===-1){g.push(h);break}else g.push(h.slice(0,m)),h=h.slice(m)}return g.join("")}function c(d,h){const g=h!==!0?escape:unescape;return d.scheme!==void 0&&(d.scheme=g(d.scheme)),d.userinfo!==void 0&&(d.userinfo=g(d.userinfo)),d.host!==void 0&&(d.host=g(d.host)),d.path!==void 0&&(d.path=g(d.path)),d.query!==void 0&&(d.query=g(d.query)),d.fragment!==void 0&&(d.fragment=g(d.fragment)),d}function f(d){const h=[];if(d.userinfo!==void 0&&(h.push(d.userinfo),h.push("@")),d.host!==void 0){let g=unescape(d.host);if(!t(g)){const m=a(g);m.isIPV6===!0?g=`[${m.escapedHost}]`:g=d.host}h.push(g)}return(typeof d.port=="number"||typeof d.port=="string")&&(h.push(":"),h.push(String(d.port))),h.length?h.join(""):void 0}return uh={nonSimpleDomain:n,recomposeAuthority:f,normalizeComponentEncoding:c,removeDotSegments:u,isIPv4:t,isUUID:e,normalizeIPv6:a,stringArrayToHexStripped:r},uh}var ch,cb;function xU(){if(cb)return ch;cb=1;const{isUUID:e}=r2(),t=/([\da-z][\d\-a-z]{0,31}):((?:[\w!$'()*+,\-.:;=@]|%[\da-f]{2})+)/iu,r=["http","https","ws","wss","urn","urn:uuid"];function n(E){return r.indexOf(E)!==-1}function i(E){return E.secure===!0?!0:E.secure===!1?!1:E.scheme?E.scheme.length===3&&(E.scheme[0]==="w"||E.scheme[0]==="W")&&(E.scheme[1]==="s"||E.scheme[1]==="S")&&(E.scheme[2]==="s"||E.scheme[2]==="S"):!1}function o(E){return E.host||(E.error=E.error||"HTTP URIs must have a host."),E}function s(E){const T=String(E.scheme).toLowerCase()==="https";return(E.port===(T?443:80)||E.port==="")&&(E.port=void 0),E.path||(E.path="/"),E}function a(E){return E.secure=i(E),E.resourceName=(E.path||"/")+(E.query?"?"+E.query:""),E.path=void 0,E.query=void 0,E}function l(E){if((E.port===(i(E)?443:80)||E.port==="")&&(E.port=void 0),typeof E.secure=="boolean"&&(E.scheme=E.secure?"wss":"ws",E.secure=void 0),E.resourceName){const[T,I]=E.resourceName.split("?");E.path=T&&T!=="/"?T:void 0,E.query=I,E.resourceName=void 0}return E.fragment=void 0,E}function u(E,T){if(!E.path)return E.error="URN can not be parsed",E;const I=E.path.match(t);if(I){const M=T.scheme||E.scheme||"urn";E.nid=I[1].toLowerCase(),E.nss=I[2];const P=`${M}:${T.nid||E.nid}`,O=F(P);E.path=void 0,O&&(E=O.parse(E,T))}else E.error=E.error||"URN can not be parsed.";return E}function c(E,T){if(E.nid===void 0)throw new Error("URN without nid cannot be serialized");const I=T.scheme||E.scheme||"urn",M=E.nid.toLowerCase(),P=`${I}:${T.nid||M}`,O=F(P);O&&(E=O.serialize(E,T));const z=E,L=E.nss;return z.path=`${M||T.nid}:${L}`,T.skipEscape=!0,z}function f(E,T){const I=E;return I.uuid=I.nss,I.nss=void 0,!T.tolerant&&(!I.uuid||!e(I.uuid))&&(I.error=I.error||"UUID is not valid."),I}function d(E){const T=E;return T.nss=(E.uuid||"").toLowerCase(),T}const h={scheme:"http",domainHost:!0,parse:o,serialize:s},g={scheme:"https",domainHost:h.domainHost,parse:o,serialize:s},m={scheme:"ws",domainHost:!0,parse:a,serialize:l},p={scheme:"wss",domainHost:m.domainHost,parse:m.parse,serialize:m.serialize},v={http:h,https:g,ws:m,wss:p,urn:{scheme:"urn",parse:u,serialize:c,skipNormalize:!0},"urn:uuid":{scheme:"urn:uuid",parse:f,serialize:d,skipNormalize:!0}};Object.setPrototypeOf(v,null);function F(E){return E&&(v[E]||v[E.toLowerCase()])||void 0}return ch={wsIsSecure:i,SCHEMES:v,isValidSchemeName:n,getSchemeHandler:F},ch}var db;function kU(){if(db)return Ws.exports;db=1;const{normalizeIPv6:e,removeDotSegments:t,recomposeAuthority:r,normalizeComponentEncoding:n,isIPv4:i,nonSimpleDomain:o}=r2(),{SCHEMES:s,getSchemeHandler:a}=xU();function l(p,y){return typeof p=="string"?p=d(g(p,y),y):typeof p=="object"&&(p=g(d(p,y),y)),p}function u(p,y,b){const v=b?Object.assign({scheme:"null"},b):{scheme:"null"},F=c(g(p,v),g(y,v),v,!0);return v.skipEscape=!0,d(F,v)}function c(p,y,b,v){const F={};return v||(p=g(d(p,b),b),y=g(d(y,b),b)),b=b||{},!b.tolerant&&y.scheme?(F.scheme=y.scheme,F.userinfo=y.userinfo,F.host=y.host,F.port=y.port,F.path=t(y.path||""),F.query=y.query):(y.userinfo!==void 0||y.host!==void 0||y.port!==void 0?(F.userinfo=y.userinfo,F.host=y.host,F.port=y.port,F.path=t(y.path||""),F.query=y.query):(y.path?(y.path[0]==="/"?F.path=t(y.path):((p.userinfo!==void 0||p.host!==void 0||p.port!==void 0)&&!p.path?F.path="/"+y.path:p.path?F.path=p.path.slice(0,p.path.lastIndexOf("/")+1)+y.path:F.path=y.path,F.path=t(F.path)),F.query=y.query):(F.path=p.path,y.query!==void 0?F.query=y.query:F.query=p.query),F.userinfo=p.userinfo,F.host=p.host,F.port=p.port),F.scheme=p.scheme),F.fragment=y.fragment,F}function f(p,y,b){return typeof p=="string"?(p=unescape(p),p=d(n(g(p,b),!0),{...b,skipEscape:!0})):typeof p=="object"&&(p=d(n(p,!0),{...b,skipEscape:!0})),typeof y=="string"?(y=unescape(y),y=d(n(g(y,b),!0),{...b,skipEscape:!0})):typeof y=="object"&&(y=d(n(y,!0),{...b,skipEscape:!0})),p.toLowerCase()===y.toLowerCase()}function d(p,y){const b={host:p.host,scheme:p.scheme,userinfo:p.userinfo,port:p.port,path:p.path,query:p.query,nid:p.nid,nss:p.nss,uuid:p.uuid,fragment:p.fragment,reference:p.reference,resourceName:p.resourceName,secure:p.secure,error:""},v=Object.assign({},y),F=[],E=a(v.scheme||b.scheme);E&&E.serialize&&E.serialize(b,v),b.path!==void 0&&(v.skipEscape?b.path=unescape(b.path):(b.path=escape(b.path),b.scheme!==void 0&&(b.path=b.path.split("%3A").join(":")))),v.reference!=="suffix"&&b.scheme&&F.push(b.scheme,":");const T=r(b);if(T!==void 0&&(v.reference!=="suffix"&&F.push("//"),F.push(T),b.path&&b.path[0]!=="/"&&F.push("/")),b.path!==void 0){let I=b.path;!v.absolutePath&&(!E||!E.absolutePath)&&(I=t(I)),T===void 0&&I[0]==="/"&&I[1]==="/"&&(I="/%2F"+I.slice(2)),F.push(I)}return b.query!==void 0&&F.push("?",b.query),b.fragment!==void 0&&F.push("#",b.fragment),F.join("")}const h=/^(?:([^#/:?]+):)?(?:\/\/((?:([^#/?@]*)@)?(\[[^#/?\]]+\]|[^#/:?]*)(?::(\d*))?))?([^#?]*)(?:\?([^#]*))?(?:#((?:.|[\n\r])*))?/u;function g(p,y){const b=Object.assign({},y),v={scheme:void 0,userinfo:void 0,host:"",port:void 0,path:"",query:void 0,fragment:void 0};let F=!1;b.reference==="suffix"&&(b.scheme?p=b.scheme+":"+p:p="//"+p);const E=p.match(h);if(E){if(v.scheme=E[1],v.userinfo=E[3],v.host=E[4],v.port=parseInt(E[5],10),v.path=E[6]||"",v.query=E[7],v.fragment=E[8],isNaN(v.port)&&(v.port=E[5]),v.host)if(i(v.host)===!1){const M=e(v.host);v.host=M.host.toLowerCase(),F=M.isIPV6}else F=!0;v.scheme===void 0&&v.userinfo===void 0&&v.host===void 0&&v.port===void 0&&v.query===void 0&&!v.path?v.reference="same-document":v.scheme===void 0?v.reference="relative":v.fragment===void 0?v.reference="absolute":v.reference="uri",b.reference&&b.reference!=="suffix"&&b.reference!==v.reference&&(v.error=v.error||"URI is not a "+b.reference+" reference.");const T=a(b.scheme||v.scheme);if(!b.unicodeSupport&&(!T||!T.unicodeSupport)&&v.host&&(b.domainHost||T&&T.domainHost)&&F===!1&&o(v.host))try{v.host=URL.domainToASCII(v.host.toLowerCase())}catch(I){v.error=v.error||"Host's domain name can not be converted to ASCII: "+I}(!T||T&&!T.skipNormalize)&&(p.indexOf("%")!==-1&&(v.scheme!==void 0&&(v.scheme=unescape(v.scheme)),v.host!==void 0&&(v.host=unescape(v.host))),v.path&&(v.path=escape(unescape(v.path))),v.fragment&&(v.fragment=encodeURI(decodeURIComponent(v.fragment)))),T&&T.parse&&T.parse(v,b)}else v.error=v.error||"URI can not be parsed.";return v}const m={SCHEMES:s,normalize:l,resolve:u,resolveComponent:c,equal:f,serialize:d,parse:g};return Ws.exports=m,Ws.exports.default=m,Ws.exports.fastUri=m,Ws.exports}var hb;function EU(){if(hb)return xl;hb=1,Object.defineProperty(xl,"__esModule",{value:!0});const e=kU();return e.code='require("ajv/dist/runtime/uri").default',xl.default=e,xl}var fb;function RU(){return fb||(fb=1,(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.CodeGen=e.Name=e.nil=e.stringify=e.str=e._=e.KeywordCxt=void 0;var t=qc();Object.defineProperty(e,"KeywordCxt",{enumerable:!0,get:function(){return t.KeywordCxt}});var r=gt();Object.defineProperty(e,"_",{enumerable:!0,get:function(){return r._}}),Object.defineProperty(e,"str",{enumerable:!0,get:function(){return r.str}}),Object.defineProperty(e,"stringify",{enumerable:!0,get:function(){return r.stringify}}),Object.defineProperty(e,"nil",{enumerable:!0,get:function(){return r.nil}}),Object.defineProperty(e,"Name",{enumerable:!0,get:function(){return r.Name}}),Object.defineProperty(e,"CodeGen",{enumerable:!0,get:function(){return r.CodeGen}});const n=jp(),i=Jc(),o=QF(),s=zp(),a=gt(),l=Kc(),u=yc(),c=_t(),f=SU,d=EU(),h=(A,D)=>new RegExp(A,D);h.code="new RegExp";const g=["removeAdditional","useDefaults","coerceTypes"],m=new Set(["validate","serialize","parse","wrapper","root","schema","keyword","pattern","formats","validate$data","func","obj","Error"]),p={errorDataPath:"",format:"`validateFormats: false` can be used instead.",nullable:'"nullable" keyword is supported by default.',jsonPointers:"Deprecated jsPropertySyntax can be used instead.",extendRefs:"Deprecated ignoreKeywordsWithRef can be used instead.",missingRefs:"Pass empty schema with $id that should be ignored to ajv.addSchema.",processCode:"Use option `code: {process: (code, schemaEnv: object) => string}`",sourceCode:"Use option `code: {source: true}`",strictDefaults:"It is default now, see option `strict`.",strictKeywords:"It is default now, see option `strict`.",uniqueItems:'"uniqueItems" keyword is always validated.',unknownFormats:"Disable strict mode or pass `true` to `ajv.addFormat` (or `formats` option).",cache:"Map is used as cache, schema object as key.",serialize:"Map is used as cache, schema object as key.",ajvErrors:"It is default now."},y={ignoreKeywordsWithRef:"",jsPropertySyntax:"",unicode:'"minLength"/"maxLength" account for unicode characters by default.'},b=200;function v(A){var D,B,V,j,K,G,Y,H,N,$,J,Q,ee,W,ne,re,q,X,te,se,oe,ie,ae,ue,ce;const pe=A.strict,ye=(D=A.code)===null||D===void 0?void 0:D.optimize,ge=ye===!0||ye===void 0?1:ye||0,Re=(V=(B=A.code)===null||B===void 0?void 0:B.regExp)!==null&&V!==void 0?V:h,_e=(j=A.uriResolver)!==null&&j!==void 0?j:d.default;return{strictSchema:(G=(K=A.strictSchema)!==null&&K!==void 0?K:pe)!==null&&G!==void 0?G:!0,strictNumbers:(H=(Y=A.strictNumbers)!==null&&Y!==void 0?Y:pe)!==null&&H!==void 0?H:!0,strictTypes:($=(N=A.strictTypes)!==null&&N!==void 0?N:pe)!==null&&$!==void 0?$:"log",strictTuples:(Q=(J=A.strictTuples)!==null&&J!==void 0?J:pe)!==null&&Q!==void 0?Q:"log",strictRequired:(W=(ee=A.strictRequired)!==null&&ee!==void 0?ee:pe)!==null&&W!==void 0?W:!1,code:A.code?{...A.code,optimize:ge,regExp:Re}:{optimize:ge,regExp:Re},loopRequired:(ne=A.loopRequired)!==null&&ne!==void 0?ne:b,loopEnum:(re=A.loopEnum)!==null&&re!==void 0?re:b,meta:(q=A.meta)!==null&&q!==void 0?q:!0,messages:(X=A.messages)!==null&&X!==void 0?X:!0,inlineRefs:(te=A.inlineRefs)!==null&&te!==void 0?te:!0,schemaId:(se=A.schemaId)!==null&&se!==void 0?se:"$id",addUsedSchema:(oe=A.addUsedSchema)!==null&&oe!==void 0?oe:!0,validateSchema:(ie=A.validateSchema)!==null&&ie!==void 0?ie:!0,validateFormats:(ae=A.validateFormats)!==null&&ae!==void 0?ae:!0,unicodeRegExp:(ue=A.unicodeRegExp)!==null&&ue!==void 0?ue:!0,int32range:(ce=A.int32range)!==null&&ce!==void 0?ce:!0,uriResolver:_e}}class F{constructor(D={}){this.schemas={},this.refs={},this.formats={},this._compilations=new Set,this._loading={},this._cache=new Map,D=this.opts={...D,...v(D)};const{es5:B,lines:V}=this.opts.code;this.scope=new a.ValueScope({scope:{},prefixes:m,es5:B,lines:V}),this.logger=L(D.logger);const j=D.validateFormats;D.validateFormats=!1,this.RULES=(0,o.getRules)(),E.call(this,p,D,"NOT SUPPORTED"),E.call(this,y,D,"DEPRECATED","warn"),this._metaOpts=O.call(this),D.formats&&M.call(this),this._addVocabularies(),this._addDefaultMetaSchema(),D.keywords&&P.call(this,D.keywords),typeof D.meta=="object"&&this.addMetaSchema(D.meta),I.call(this),D.validateFormats=j}_addVocabularies(){this.addKeyword("$async")}_addDefaultMetaSchema(){const{$data:D,meta:B,schemaId:V}=this.opts;let j=f;V==="id"&&(j={...f},j.id=j.$id,delete j.$id),B&&D&&this.addMetaSchema(j,j[V],!1)}defaultMeta(){const{meta:D,schemaId:B}=this.opts;return this.opts.defaultMeta=typeof D=="object"?D[B]||D:void 0}validate(D,B){let V;if(typeof D=="string"){if(V=this.getSchema(D),!V)throw new Error(`no schema with key or ref "${D}"`)}else V=this.compile(D);const j=V(B);return"$async"in V||(this.errors=V.errors),j}compile(D,B){const V=this._addSchema(D,B);return V.validate||this._compileSchemaEnv(V)}compileAsync(D,B){if(typeof this.opts.loadSchema!="function")throw new Error("options.loadSchema should be a function");const{loadSchema:V}=this.opts;return j.call(this,D,B);async function j($,J){await K.call(this,$.$schema);const Q=this._addSchema($,J);return Q.validate||G.call(this,Q)}async function K($){$&&!this.getSchema($)&&await j.call(this,{$ref:$},!0)}async function G($){try{return this._compileSchemaEnv($)}catch(J){if(!(J instanceof i.default))throw J;return Y.call(this,J),await H.call(this,J.missingSchema),G.call(this,$)}}function Y({missingSchema:$,missingRef:J}){if(this.refs[$])throw new Error(`AnySchema ${$} is loaded but ${J} cannot be resolved`)}async function H($){const J=await N.call(this,$);this.refs[$]||await K.call(this,J.$schema),this.refs[$]||this.addSchema(J,$,B)}async function N($){const J=this._loading[$];if(J)return J;try{return await(this._loading[$]=V($))}finally{delete this._loading[$]}}}addSchema(D,B,V,j=this.opts.validateSchema){if(Array.isArray(D)){for(const G of D)this.addSchema(G,void 0,V,j);return this}let K;if(typeof D=="object"){const{schemaId:G}=this.opts;if(K=D[G],K!==void 0&&typeof K!="string")throw new Error(`schema ${G} must be string`)}return B=(0,l.normalizeId)(B||K),this._checkUnique(B),this.schemas[B]=this._addSchema(D,V,B,j,!0),this}addMetaSchema(D,B,V=this.opts.validateSchema){return this.addSchema(D,B,!0,V),this}validateSchema(D,B){if(typeof D=="boolean")return!0;let V;if(V=D.$schema,V!==void 0&&typeof V!="string")throw new Error("$schema must be a string");if(V=V||this.opts.defaultMeta||this.defaultMeta(),!V)return this.logger.warn("meta-schema not available"),this.errors=null,!0;const j=this.validate(V,D);if(!j&&B){const K="schema is invalid: "+this.errorsText();if(this.opts.validateSchema==="log")this.logger.error(K);else throw new Error(K)}return j}getSchema(D){let B;for(;typeof(B=T.call(this,D))=="string";)D=B;if(B===void 0){const{schemaId:V}=this.opts,j=new s.SchemaEnv({schema:{},schemaId:V});if(B=s.resolveSchema.call(this,j,D),!B)return;this.refs[D]=B}return B.validate||this._compileSchemaEnv(B)}removeSchema(D){if(D instanceof RegExp)return this._removeAllSchemas(this.schemas,D),this._removeAllSchemas(this.refs,D),this;switch(typeof D){case"undefined":return this._removeAllSchemas(this.schemas),this._removeAllSchemas(this.refs),this._cache.clear(),this;case"string":{const B=T.call(this,D);return typeof B=="object"&&this._cache.delete(B.schema),delete this.schemas[D],delete this.refs[D],this}case"object":{const B=D;this._cache.delete(B);let V=D[this.opts.schemaId];return V&&(V=(0,l.normalizeId)(V),delete this.schemas[V],delete this.refs[V]),this}default:throw new Error("ajv.removeSchema: invalid parameter")}}addVocabulary(D){for(const B of D)this.addKeyword(B);return this}addKeyword(D,B){let V;if(typeof D=="string")V=D,typeof B=="object"&&(this.logger.warn("these parameters are deprecated, see docs for addKeyword"),B.keyword=V);else if(typeof D=="object"&&B===void 0){if(B=D,V=B.keyword,Array.isArray(V)&&!V.length)throw new Error("addKeywords: keyword must be string or non-empty array")}else throw new Error("invalid addKeywords parameters");if(R.call(this,V,B),!B)return(0,c.eachItem)(V,K=>k.call(this,K)),this;w.call(this,B);const j={...B,type:(0,u.getJSONTypes)(B.type),schemaType:(0,u.getJSONTypes)(B.schemaType)};return(0,c.eachItem)(V,j.type.length===0?K=>k.call(this,K,j):K=>j.type.forEach(G=>k.call(this,K,j,G))),this}getKeyword(D){const B=this.RULES.all[D];return typeof B=="object"?B.definition:!!B}removeKeyword(D){const{RULES:B}=this;delete B.keywords[D],delete B.all[D];for(const V of B.rules){const j=V.rules.findIndex(K=>K.keyword===D);j>=0&&V.rules.splice(j,1)}return this}addFormat(D,B){return typeof B=="string"&&(B=new RegExp(B)),this.formats[D]=B,this}errorsText(D=this.errors,{separator:B=", ",dataVar:V="data"}={}){return!D||D.length===0?"No errors":D.map(j=>`${V}${j.instancePath} ${j.message}`).reduce((j,K)=>j+B+K)}$dataMetaSchema(D,B){const V=this.RULES.all;D=JSON.parse(JSON.stringify(D));for(const j of B){const K=j.split("/").slice(1);let G=D;for(const Y of K)G=G[Y];for(const Y in V){const H=V[Y];if(typeof H!="object")continue;const{$data:N}=H.definition,$=G[Y];N&&$&&(G[Y]=x($))}}return D}_removeAllSchemas(D,B){for(const V in D){const j=D[V];(!B||B.test(V))&&(typeof j=="string"?delete D[V]:j&&!j.meta&&(this._cache.delete(j.schema),delete D[V]))}}_addSchema(D,B,V,j=this.opts.validateSchema,K=this.opts.addUsedSchema){let G;const{schemaId:Y}=this.opts;if(typeof D=="object")G=D[Y];else{if(this.opts.jtd)throw new Error("schema must be object");if(typeof D!="boolean")throw new Error("schema must be object or boolean")}let H=this._cache.get(D);if(H!==void 0)return H;V=(0,l.normalizeId)(G||V);const N=l.getSchemaRefs.call(this,D,V);return H=new s.SchemaEnv({schema:D,schemaId:Y,meta:B,baseId:V,localRefs:N}),this._cache.set(H.schema,H),K&&!V.startsWith("#")&&(V&&this._checkUnique(V),this.refs[V]=H),j&&this.validateSchema(D,!0),H}_checkUnique(D){if(this.schemas[D]||this.refs[D])throw new Error(`schema with key or id "${D}" already exists`)}_compileSchemaEnv(D){if(D.meta?this._compileMetaSchema(D):s.compileSchema.call(this,D),!D.validate)throw new Error("ajv implementation error");return D.validate}_compileMetaSchema(D){const B=this.opts;this.opts=this._metaOpts;try{s.compileSchema.call(this,D)}finally{this.opts=B}}}F.ValidationError=n.default,F.MissingRefError=i.default,e.default=F;function E(A,D,B,V="error"){for(const j in A){const K=j;K in D&&this.logger[V](`${B}: option ${j}. ${A[K]}`)}}function T(A){return A=(0,l.normalizeId)(A),this.schemas[A]||this.refs[A]}function I(){const A=this.opts.schemas;if(A)if(Array.isArray(A))this.addSchema(A);else for(const D in A)this.addSchema(A[D],D)}function M(){for(const A in this.opts.formats){const D=this.opts.formats[A];D&&this.addFormat(A,D)}}function P(A){if(Array.isArray(A)){this.addVocabulary(A);return}this.logger.warn("keywords option as map is deprecated, pass array");for(const D in A){const B=A[D];B.keyword||(B.keyword=D),this.addKeyword(B)}}function O(){const A={...this.opts};for(const D of g)delete A[D];return A}const z={log(){},warn(){},error(){}};function L(A){if(A===!1)return z;if(A===void 0)return console;if(A.log&&A.warn&&A.error)return A;throw new Error("logger must implement log, warn and error methods")}const _=/^[a-z_$][a-z0-9_$:-]*$/i;function R(A,D){const{RULES:B}=this;if((0,c.eachItem)(A,V=>{if(B.keywords[V])throw new Error(`Keyword ${V} is already defined`);if(!_.test(V))throw new Error(`Keyword ${V} has invalid name`)}),!!D&&D.$data&&!("code"in D||"validate"in D))throw new Error('$data keyword must have "code" or "validate" function')}function k(A,D,B){var V;const j=D?.post;if(B&&j)throw new Error('keyword with "post" flag cannot have "type"');const{RULES:K}=this;let G=j?K.post:K.rules.find(({type:H})=>H===B);if(G||(G={type:B,rules:[]},K.rules.push(G)),K.keywords[A]=!0,!D)return;const Y={keyword:A,definition:{...D,type:(0,u.getJSONTypes)(D.type),schemaType:(0,u.getJSONTypes)(D.schemaType)}};D.before?S.call(this,G,Y,D.before):G.rules.push(Y),K.all[A]=Y,(V=D.implements)===null||V===void 0||V.forEach(H=>this.addKeyword(H))}function S(A,D,B){const V=A.rules.findIndex(j=>j.keyword===B);V>=0?A.rules.splice(V,0,D):(A.rules.push(D),this.logger.warn(`rule ${B} is not defined`))}function w(A){let{metaSchema:D}=A;D!==void 0&&(A.$data&&this.opts.$data&&(D=x(D)),A.validateSchema=this.compile(D,!0))}const C={$ref:"https://raw.githubusercontent.com/ajv-validator/ajv/master/lib/refs/data.json#"};function x(A){return{anyOf:[A,C]}}})(rh)),rh}var kl={},El={},Rl={},pb;function _U(){if(pb)return Rl;pb=1,Object.defineProperty(Rl,"__esModule",{value:!0});const e={keyword:"id",code(){throw new Error('NOT SUPPORTED: keyword "id", use "$id" for schema ID')}};return Rl.default=e,Rl}var pi={},gb;function AU(){if(gb)return pi;gb=1,Object.defineProperty(pi,"__esModule",{value:!0}),pi.callRef=pi.getValidate=void 0;const e=Jc(),t=bn(),r=gt(),n=Oi(),i=zp(),o=_t(),s={keyword:"$ref",schemaType:"string",code(u){const{gen:c,schema:f,it:d}=u,{baseId:h,schemaEnv:g,validateName:m,opts:p,self:y}=d,{root:b}=g;if((f==="#"||f==="#/")&&h===b.baseId)return F();const v=i.resolveRef.call(y,b,h,f);if(v===void 0)throw new e.default(d.opts.uriResolver,h,f);if(v instanceof i.SchemaEnv)return E(v);return T(v);function F(){if(g===b)return l(u,m,g,g.$async);const I=c.scopeValue("root",{ref:b});return l(u,(0,r._)`${I}.validate`,b,b.$async)}function E(I){const M=a(u,I);l(u,M,I,I.$async)}function T(I){const M=c.scopeValue("schema",p.code.source===!0?{ref:I,code:(0,r.stringify)(I)}:{ref:I}),P=c.name("valid"),O=u.subschema({schema:I,dataTypes:[],schemaPath:r.nil,topSchemaRef:M,errSchemaPath:f},P);u.mergeEvaluated(O),u.ok(P)}}};function a(u,c){const{gen:f}=u;return c.validate?f.scopeValue("validate",{ref:c.validate}):(0,r._)`${f.scopeValue("wrapper",{ref:c})}.validate`}pi.getValidate=a;function l(u,c,f,d){const{gen:h,it:g}=u,{allErrors:m,schemaEnv:p,opts:y}=g,b=y.passContext?n.default.this:r.nil;d?v():F();function v(){if(!p.$async)throw new Error("async schema referenced by sync schema");const I=h.let("valid");h.try(()=>{h.code((0,r._)`await ${(0,t.callValidateCode)(u,c,b)}`),T(c),m||h.assign(I,!0)},M=>{h.if((0,r._)`!(${M} instanceof ${g.ValidationError})`,()=>h.throw(M)),E(M),m||h.assign(I,!1)}),u.ok(I)}function F(){u.result((0,t.callValidateCode)(u,c,b),()=>T(c),()=>E(c))}function E(I){const M=(0,r._)`${I}.errors`;h.assign(n.default.vErrors,(0,r._)`${n.default.vErrors} === null ? ${M} : ${n.default.vErrors}.concat(${M})`),h.assign(n.default.errors,(0,r._)`${n.default.vErrors}.length`)}function T(I){var M;if(!g.opts.unevaluated)return;const P=(M=f?.validate)===null||M===void 0?void 0:M.evaluated;if(g.props!==!0)if(P&&!P.dynamicProps)P.props!==void 0&&(g.props=o.mergeEvaluated.props(h,P.props,g.props));else{const O=h.var("props",(0,r._)`${I}.evaluated.props`);g.props=o.mergeEvaluated.props(h,O,g.props,r.Name)}if(g.items!==!0)if(P&&!P.dynamicItems)P.items!==void 0&&(g.items=o.mergeEvaluated.items(h,P.items,g.items));else{const O=h.var("items",(0,r._)`${I}.evaluated.items`);g.items=o.mergeEvaluated.items(h,O,g.items,r.Name)}}}return pi.callRef=l,pi.default=s,pi}var mb;function TU(){if(mb)return El;mb=1,Object.defineProperty(El,"__esModule",{value:!0});const e=_U(),t=AU(),r=["$schema","$id","$defs","$vocabulary",{keyword:"$comment"},"definitions",e.default,t.default];return El.default=r,El}var _l={},Al={},bb;function DU(){if(bb)return Al;bb=1,Object.defineProperty(Al,"__esModule",{value:!0});const e=gt(),t=e.operators,r={maximum:{okStr:"<=",ok:t.LTE,fail:t.GT},minimum:{okStr:">=",ok:t.GTE,fail:t.LT},exclusiveMaximum:{okStr:"<",ok:t.LT,fail:t.GTE},exclusiveMinimum:{okStr:">",ok:t.GT,fail:t.LTE}},n={message:({keyword:o,schemaCode:s})=>(0,e.str)`must be ${r[o].okStr} ${s}`,params:({keyword:o,schemaCode:s})=>(0,e._)`{comparison: ${r[o].okStr}, limit: ${s}}`},i={keyword:Object.keys(r),type:"number",schemaType:"number",$data:!0,error:n,code(o){const{keyword:s,data:a,schemaCode:l}=o;o.fail$data((0,e._)`${a} ${r[s].fail} ${l} || isNaN(${a})`)}};return Al.default=i,Al}var Tl={},yb;function MU(){if(yb)return Tl;yb=1,Object.defineProperty(Tl,"__esModule",{value:!0});const e=gt(),r={keyword:"multipleOf",type:"number",schemaType:"number",$data:!0,error:{message:({schemaCode:n})=>(0,e.str)`must be multiple of ${n}`,params:({schemaCode:n})=>(0,e._)`{multipleOf: ${n}}`},code(n){const{gen:i,data:o,schemaCode:s,it:a}=n,l=a.opts.multipleOfPrecision,u=i.let("res"),c=l?(0,e._)`Math.abs(Math.round(${u}) - ${u}) > 1e-${l}`:(0,e._)`${u} !== parseInt(${u})`;n.fail$data((0,e._)`(${s} === 0 || (${u} = ${o}/${s}, ${c}))`)}};return Tl.default=r,Tl}var Dl={},Ml={},vb;function PU(){if(vb)return Ml;vb=1,Object.defineProperty(Ml,"__esModule",{value:!0});function e(t){const r=t.length;let n=0,i=0,o;for(;i<r;)n++,o=t.charCodeAt(i++),o>=55296&&o<=56319&&i<r&&(o=t.charCodeAt(i),(o&64512)===56320&&i++);return n}return Ml.default=e,e.code='require("ajv/dist/runtime/ucs2length").default',Ml}var wb;function IU(){if(wb)return Dl;wb=1,Object.defineProperty(Dl,"__esModule",{value:!0});const e=gt(),t=_t(),r=PU(),i={keyword:["maxLength","minLength"],type:"string",schemaType:"number",$data:!0,error:{message({keyword:o,schemaCode:s}){const a=o==="maxLength"?"more":"fewer";return(0,e.str)`must NOT have ${a} than ${s} characters`},params:({schemaCode:o})=>(0,e._)`{limit: ${o}}`},code(o){const{keyword:s,data:a,schemaCode:l,it:u}=o,c=s==="maxLength"?e.operators.GT:e.operators.LT,f=u.opts.unicode===!1?(0,e._)`${a}.length`:(0,e._)`${(0,t.useFunc)(o.gen,r.default)}(${a})`;o.fail$data((0,e._)`${f} ${c} ${l}`)}};return Dl.default=i,Dl}var Pl={},Cb;function BU(){if(Cb)return Pl;Cb=1,Object.defineProperty(Pl,"__esModule",{value:!0});const e=bn(),t=gt(),n={keyword:"pattern",type:"string",schemaType:"string",$data:!0,error:{message:({schemaCode:i})=>(0,t.str)`must match pattern "${i}"`,params:({schemaCode:i})=>(0,t._)`{pattern: ${i}}`},code(i){const{data:o,$data:s,schema:a,schemaCode:l,it:u}=i,c=u.opts.unicodeRegExp?"u":"",f=s?(0,t._)`(new RegExp(${l}, ${c}))`:(0,e.usePattern)(i,a);i.fail$data((0,t._)`!${f}.test(${o})`)}};return Pl.default=n,Pl}var Il={},Fb;function LU(){if(Fb)return Il;Fb=1,Object.defineProperty(Il,"__esModule",{value:!0});const e=gt(),r={keyword:["maxProperties","minProperties"],type:"object",schemaType:"number",$data:!0,error:{message({keyword:n,schemaCode:i}){const o=n==="maxProperties"?"more":"fewer";return(0,e.str)`must NOT have ${o} than ${i} properties`},params:({schemaCode:n})=>(0,e._)`{limit: ${n}}`},code(n){const{keyword:i,data:o,schemaCode:s}=n,a=i==="maxProperties"?e.operators.GT:e.operators.LT;n.fail$data((0,e._)`Object.keys(${o}).length ${a} ${s}`)}};return Il.default=r,Il}var Bl={},Sb;function NU(){if(Sb)return Bl;Sb=1,Object.defineProperty(Bl,"__esModule",{value:!0});const e=bn(),t=gt(),r=_t(),i={keyword:"required",type:"object",schemaType:"array",$data:!0,error:{message:({params:{missingProperty:o}})=>(0,t.str)`must have required property '${o}'`,params:({params:{missingProperty:o}})=>(0,t._)`{missingProperty: ${o}}`},code(o){const{gen:s,schema:a,schemaCode:l,data:u,$data:c,it:f}=o,{opts:d}=f;if(!c&&a.length===0)return;const h=a.length>=d.loopRequired;if(f.allErrors?g():m(),d.strictRequired){const b=o.parentSchema.properties,{definedProperties:v}=o.it;for(const F of a)if(b?.[F]===void 0&&!v.has(F)){const E=f.schemaEnv.baseId+f.errSchemaPath,T=`required property "${F}" is not defined at "${E}" (strictRequired)`;(0,r.checkStrictMode)(f,T,f.opts.strictRequired)}}function g(){if(h||c)o.block$data(t.nil,p);else for(const b of a)(0,e.checkReportMissingProp)(o,b)}function m(){const b=s.let("missing");if(h||c){const v=s.let("valid",!0);o.block$data(v,()=>y(b,v)),o.ok(v)}else s.if((0,e.checkMissingProp)(o,a,b)),(0,e.reportMissingProp)(o,b),s.else()}function p(){s.forOf("prop",l,b=>{o.setParams({missingProperty:b}),s.if((0,e.noPropertyInData)(s,u,b,d.ownProperties),()=>o.error())})}function y(b,v){o.setParams({missingProperty:b}),s.forOf(b,l,()=>{s.assign(v,(0,e.propertyInData)(s,u,b,d.ownProperties)),s.if((0,t.not)(v),()=>{o.error(),s.break()})},t.nil)}}};return Bl.default=i,Bl}var Ll={},xb;function OU(){if(xb)return Ll;xb=1,Object.defineProperty(Ll,"__esModule",{value:!0});const e=gt(),r={keyword:["maxItems","minItems"],type:"array",schemaType:"number",$data:!0,error:{message({keyword:n,schemaCode:i}){const o=n==="maxItems"?"more":"fewer";return(0,e.str)`must NOT have ${o} than ${i} items`},params:({schemaCode:n})=>(0,e._)`{limit: ${n}}`},code(n){const{keyword:i,data:o,schemaCode:s}=n,a=i==="maxItems"?e.operators.GT:e.operators.LT;n.fail$data((0,e._)`${o}.length ${a} ${s}`)}};return Ll.default=r,Ll}var Nl={},Ol={},kb;function Vp(){if(kb)return Ol;kb=1,Object.defineProperty(Ol,"__esModule",{value:!0});const e=t2();return e.code='require("ajv/dist/runtime/equal").default',Ol.default=e,Ol}var Eb;function HU(){if(Eb)return Nl;Eb=1,Object.defineProperty(Nl,"__esModule",{value:!0});const e=yc(),t=gt(),r=_t(),n=Vp(),o={keyword:"uniqueItems",type:"array",schemaType:"boolean",$data:!0,error:{message:({params:{i:s,j:a}})=>(0,t.str)`must NOT have duplicate items (items ## ${a} and ${s} are identical)`,params:({params:{i:s,j:a}})=>(0,t._)`{i: ${s}, j: ${a}}`},code(s){const{gen:a,data:l,$data:u,schema:c,parentSchema:f,schemaCode:d,it:h}=s;if(!u&&!c)return;const g=a.let("valid"),m=f.items?(0,e.getSchemaTypes)(f.items):[];s.block$data(g,p,(0,t._)`${d} === false`),s.ok(g);function p(){const F=a.let("i",(0,t._)`${l}.length`),E=a.let("j");s.setParams({i:F,j:E}),a.assign(g,!0),a.if((0,t._)`${F} > 1`,()=>(y()?b:v)(F,E))}function y(){return m.length>0&&!m.some(F=>F==="object"||F==="array")}function b(F,E){const T=a.name("item"),I=(0,e.checkDataTypes)(m,T,h.opts.strictNumbers,e.DataType.Wrong),M=a.const("indices",(0,t._)`{}`);a.for((0,t._)`;${F}--;`,()=>{a.let(T,(0,t._)`${l}[${F}]`),a.if(I,(0,t._)`continue`),m.length>1&&a.if((0,t._)`typeof ${T} == "string"`,(0,t._)`${T} += "_"`),a.if((0,t._)`typeof ${M}[${T}] == "number"`,()=>{a.assign(E,(0,t._)`${M}[${T}]`),s.error(),a.assign(g,!1).break()}).code((0,t._)`${M}[${T}] = ${F}`)})}function v(F,E){const T=(0,r.useFunc)(a,n.default),I=a.name("outer");a.label(I).for((0,t._)`;${F}--;`,()=>a.for((0,t._)`${E} = ${F}; ${E}--;`,()=>a.if((0,t._)`${T}(${l}[${F}], ${l}[${E}])`,()=>{s.error(),a.assign(g,!1).break(I)})))}}};return Nl.default=o,Nl}var Hl={},Rb;function GU(){if(Rb)return Hl;Rb=1,Object.defineProperty(Hl,"__esModule",{value:!0});const e=gt(),t=_t(),r=Vp(),i={keyword:"const",$data:!0,error:{message:"must be equal to constant",params:({schemaCode:o})=>(0,e._)`{allowedValue: ${o}}`},code(o){const{gen:s,data:a,$data:l,schemaCode:u,schema:c}=o;l||c&&typeof c=="object"?o.fail$data((0,e._)`!${(0,t.useFunc)(s,r.default)}(${a}, ${u})`):o.fail((0,e._)`${c} !== ${a}`)}};return Hl.default=i,Hl}var Gl={},_b;function jU(){if(_b)return Gl;_b=1,Object.defineProperty(Gl,"__esModule",{value:!0});const e=gt(),t=_t(),r=Vp(),i={keyword:"enum",schemaType:"array",$data:!0,error:{message:"must be equal to one of the allowed values",params:({schemaCode:o})=>(0,e._)`{allowedValues: ${o}}`},code(o){const{gen:s,data:a,$data:l,schema:u,schemaCode:c,it:f}=o;if(!l&&u.length===0)throw new Error("enum must have non-empty array");const d=u.length>=f.opts.loopEnum;let h;const g=()=>h??(h=(0,t.useFunc)(s,r.default));let m;if(d||l)m=s.let("valid"),o.block$data(m,p);else{if(!Array.isArray(u))throw new Error("ajv implementation error");const b=s.const("vSchema",c);m=(0,e.or)(...u.map((v,F)=>y(b,F)))}o.pass(m);function p(){s.assign(m,!1),s.forOf("v",c,b=>s.if((0,e._)`${g()}(${a}, ${b})`,()=>s.assign(m,!0).break()))}function y(b,v){const F=u[v];return typeof F=="object"&&F!==null?(0,e._)`${g()}(${a}, ${b}[${v}])`:(0,e._)`${a} === ${F}`}}};return Gl.default=i,Gl}var Ab;function zU(){if(Ab)return _l;Ab=1,Object.defineProperty(_l,"__esModule",{value:!0});const e=DU(),t=MU(),r=IU(),n=BU(),i=LU(),o=NU(),s=OU(),a=HU(),l=GU(),u=jU(),c=[e.default,t.default,r.default,n.default,i.default,o.default,s.default,a.default,{keyword:"type",schemaType:["string","array"]},{keyword:"nullable",schemaType:"boolean"},l.default,u.default];return _l.default=c,_l}var jl={},jo={},Tb;function n2(){if(Tb)return jo;Tb=1,Object.defineProperty(jo,"__esModule",{value:!0}),jo.validateAdditionalItems=void 0;const e=gt(),t=_t(),n={keyword:"additionalItems",type:"array",schemaType:["boolean","object"],before:"uniqueItems",error:{message:({params:{len:o}})=>(0,e.str)`must NOT have more than ${o} items`,params:({params:{len:o}})=>(0,e._)`{limit: ${o}}`},code(o){const{parentSchema:s,it:a}=o,{items:l}=s;if(!Array.isArray(l)){(0,t.checkStrictMode)(a,'"additionalItems" is ignored when "items" is not an array of schemas');return}i(o,l)}};function i(o,s){const{gen:a,schema:l,data:u,keyword:c,it:f}=o;f.items=!0;const d=a.const("len",(0,e._)`${u}.length`);if(l===!1)o.setParams({len:s.length}),o.pass((0,e._)`${d} <= ${s.length}`);else if(typeof l=="object"&&!(0,t.alwaysValidSchema)(f,l)){const g=a.var("valid",(0,e._)`${d} <= ${s.length}`);a.if((0,e.not)(g),()=>h(g)),o.ok(g)}function h(g){a.forRange("i",s.length,d,m=>{o.subschema({keyword:c,dataProp:m,dataPropType:t.Type.Num},g),f.allErrors||a.if((0,e.not)(g),()=>a.break())})}}return jo.validateAdditionalItems=i,jo.default=n,jo}var zl={},zo={},Db;function i2(){if(Db)return zo;Db=1,Object.defineProperty(zo,"__esModule",{value:!0}),zo.validateTuple=void 0;const e=gt(),t=_t(),r=bn(),n={keyword:"items",type:"array",schemaType:["object","array","boolean"],before:"uniqueItems",code(o){const{schema:s,it:a}=o;if(Array.isArray(s))return i(o,"additionalItems",s);a.items=!0,!(0,t.alwaysValidSchema)(a,s)&&o.ok((0,r.validateArray)(o))}};function i(o,s,a=o.schema){const{gen:l,parentSchema:u,data:c,keyword:f,it:d}=o;m(u),d.opts.unevaluated&&a.length&&d.items!==!0&&(d.items=t.mergeEvaluated.items(l,a.length,d.items));const h=l.name("valid"),g=l.const("len",(0,e._)`${c}.length`);a.forEach((p,y)=>{(0,t.alwaysValidSchema)(d,p)||(l.if((0,e._)`${g} > ${y}`,()=>o.subschema({keyword:f,schemaProp:y,dataProp:y},h)),o.ok(h))});function m(p){const{opts:y,errSchemaPath:b}=d,v=a.length,F=v===p.minItems&&(v===p.maxItems||p[s]===!1);if(y.strictTuples&&!F){const E=`"${f}" is ${v}-tuple, but minItems or maxItems/${s} are not specified or different at path "${b}"`;(0,t.checkStrictMode)(d,E,y.strictTuples)}}}return zo.validateTuple=i,zo.default=n,zo}var Mb;function VU(){if(Mb)return zl;Mb=1,Object.defineProperty(zl,"__esModule",{value:!0});const e=i2(),t={keyword:"prefixItems",type:"array",schemaType:["array"],before:"uniqueItems",code:r=>(0,e.validateTuple)(r,"items")};return zl.default=t,zl}var Vl={},Pb;function WU(){if(Pb)return Vl;Pb=1,Object.defineProperty(Vl,"__esModule",{value:!0});const e=gt(),t=_t(),r=bn(),n=n2(),o={keyword:"items",type:"array",schemaType:["object","boolean"],before:"uniqueItems",error:{message:({params:{len:s}})=>(0,e.str)`must NOT have more than ${s} items`,params:({params:{len:s}})=>(0,e._)`{limit: ${s}}`},code(s){const{schema:a,parentSchema:l,it:u}=s,{prefixItems:c}=l;u.items=!0,!(0,t.alwaysValidSchema)(u,a)&&(c?(0,n.validateAdditionalItems)(s,c):s.ok((0,r.validateArray)(s)))}};return Vl.default=o,Vl}var Wl={},Ib;function $U(){if(Ib)return Wl;Ib=1,Object.defineProperty(Wl,"__esModule",{value:!0});const e=gt(),t=_t(),n={keyword:"contains",type:"array",schemaType:["object","boolean"],before:"uniqueItems",trackErrors:!0,error:{message:({params:{min:i,max:o}})=>o===void 0?(0,e.str)`must contain at least ${i} valid item(s)`:(0,e.str)`must contain at least ${i} and no more than ${o} valid item(s)`,params:({params:{min:i,max:o}})=>o===void 0?(0,e._)`{minContains: ${i}}`:(0,e._)`{minContains: ${i}, maxContains: ${o}}`},code(i){const{gen:o,schema:s,parentSchema:a,data:l,it:u}=i;let c,f;const{minContains:d,maxContains:h}=a;u.opts.next?(c=d===void 0?1:d,f=h):c=1;const g=o.const("len",(0,e._)`${l}.length`);if(i.setParams({min:c,max:f}),f===void 0&&c===0){(0,t.checkStrictMode)(u,'"minContains" == 0 without "maxContains": "contains" keyword ignored');return}if(f!==void 0&&c>f){(0,t.checkStrictMode)(u,'"minContains" > "maxContains" is always invalid'),i.fail();return}if((0,t.alwaysValidSchema)(u,s)){let v=(0,e._)`${g} >= ${c}`;f!==void 0&&(v=(0,e._)`${v} && ${g} <= ${f}`),i.pass(v);return}u.items=!0;const m=o.name("valid");f===void 0&&c===1?y(m,()=>o.if(m,()=>o.break())):c===0?(o.let(m,!0),f!==void 0&&o.if((0,e._)`${l}.length > 0`,p)):(o.let(m,!1),p()),i.result(m,()=>i.reset());function p(){const v=o.name("_valid"),F=o.let("count",0);y(v,()=>o.if(v,()=>b(F)))}function y(v,F){o.forRange("i",0,g,E=>{i.subschema({keyword:"contains",dataProp:E,dataPropType:t.Type.Num,compositeRule:!0},v),F()})}function b(v){o.code((0,e._)`${v}++`),f===void 0?o.if((0,e._)`${v} >= ${c}`,()=>o.assign(m,!0).break()):(o.if((0,e._)`${v} > ${f}`,()=>o.assign(m,!1).break()),c===1?o.assign(m,!0):o.if((0,e._)`${v} >= ${c}`,()=>o.assign(m,!0)))}}};return Wl.default=n,Wl}var dh={},Bb;function UU(){return Bb||(Bb=1,(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.validateSchemaDeps=e.validatePropertyDeps=e.error=void 0;const t=gt(),r=_t(),n=bn();e.error={message:({params:{property:l,depsCount:u,deps:c}})=>{const f=u===1?"property":"properties";return(0,t.str)`must have ${f} ${c} when property ${l} is present`},params:({params:{property:l,depsCount:u,deps:c,missingProperty:f}})=>(0,t._)`{property: ${l},
    missingProperty: ${f},
    depsCount: ${u},
    deps: ${c}}`};const i={keyword:"dependencies",type:"object",schemaType:"object",error:e.error,code(l){const[u,c]=o(l);s(l,u),a(l,c)}};function o({schema:l}){const u={},c={};for(const f in l){if(f==="__proto__")continue;const d=Array.isArray(l[f])?u:c;d[f]=l[f]}return[u,c]}function s(l,u=l.schema){const{gen:c,data:f,it:d}=l;if(Object.keys(u).length===0)return;const h=c.let("missing");for(const g in u){const m=u[g];if(m.length===0)continue;const p=(0,n.propertyInData)(c,f,g,d.opts.ownProperties);l.setParams({property:g,depsCount:m.length,deps:m.join(", ")}),d.allErrors?c.if(p,()=>{for(const y of m)(0,n.checkReportMissingProp)(l,y)}):(c.if((0,t._)`${p} && (${(0,n.checkMissingProp)(l,m,h)})`),(0,n.reportMissingProp)(l,h),c.else())}}e.validatePropertyDeps=s;function a(l,u=l.schema){const{gen:c,data:f,keyword:d,it:h}=l,g=c.name("valid");for(const m in u)(0,r.alwaysValidSchema)(h,u[m])||(c.if((0,n.propertyInData)(c,f,m,h.opts.ownProperties),()=>{const p=l.subschema({keyword:d,schemaProp:m},g);l.mergeValidEvaluated(p,g)},()=>c.var(g,!0)),l.ok(g))}e.validateSchemaDeps=a,e.default=i})(dh)),dh}var $l={},Lb;function KU(){if(Lb)return $l;Lb=1,Object.defineProperty($l,"__esModule",{value:!0});const e=gt(),t=_t(),n={keyword:"propertyNames",type:"object",schemaType:["object","boolean"],error:{message:"property name must be valid",params:({params:i})=>(0,e._)`{propertyName: ${i.propertyName}}`},code(i){const{gen:o,schema:s,data:a,it:l}=i;if((0,t.alwaysValidSchema)(l,s))return;const u=o.name("valid");o.forIn("key",a,c=>{i.setParams({propertyName:c}),i.subschema({keyword:"propertyNames",data:c,dataTypes:["string"],propertyName:c,compositeRule:!0},u),o.if((0,e.not)(u),()=>{i.error(!0),l.allErrors||o.break()})}),i.ok(u)}};return $l.default=n,$l}var Ul={},Nb;function o2(){if(Nb)return Ul;Nb=1,Object.defineProperty(Ul,"__esModule",{value:!0});const e=bn(),t=gt(),r=Oi(),n=_t(),o={keyword:"additionalProperties",type:["object"],schemaType:["boolean","object"],allowUndefined:!0,trackErrors:!0,error:{message:"must NOT have additional properties",params:({params:s})=>(0,t._)`{additionalProperty: ${s.additionalProperty}}`},code(s){const{gen:a,schema:l,parentSchema:u,data:c,errsCount:f,it:d}=s;if(!f)throw new Error("ajv implementation error");const{allErrors:h,opts:g}=d;if(d.props=!0,g.removeAdditional!=="all"&&(0,n.alwaysValidSchema)(d,l))return;const m=(0,e.allSchemaProperties)(u.properties),p=(0,e.allSchemaProperties)(u.patternProperties);y(),s.ok((0,t._)`${f} === ${r.default.errors}`);function y(){a.forIn("key",c,T=>{!m.length&&!p.length?F(T):a.if(b(T),()=>F(T))})}function b(T){let I;if(m.length>8){const M=(0,n.schemaRefOrVal)(d,u.properties,"properties");I=(0,e.isOwnProperty)(a,M,T)}else m.length?I=(0,t.or)(...m.map(M=>(0,t._)`${T} === ${M}`)):I=t.nil;return p.length&&(I=(0,t.or)(I,...p.map(M=>(0,t._)`${(0,e.usePattern)(s,M)}.test(${T})`))),(0,t.not)(I)}function v(T){a.code((0,t._)`delete ${c}[${T}]`)}function F(T){if(g.removeAdditional==="all"||g.removeAdditional&&l===!1){v(T);return}if(l===!1){s.setParams({additionalProperty:T}),s.error(),h||a.break();return}if(typeof l=="object"&&!(0,n.alwaysValidSchema)(d,l)){const I=a.name("valid");g.removeAdditional==="failing"?(E(T,I,!1),a.if((0,t.not)(I),()=>{s.reset(),v(T)})):(E(T,I),h||a.if((0,t.not)(I),()=>a.break()))}}function E(T,I,M){const P={keyword:"additionalProperties",dataProp:T,dataPropType:n.Type.Str};M===!1&&Object.assign(P,{compositeRule:!0,createErrors:!1,allErrors:!1}),s.subschema(P,I)}}};return Ul.default=o,Ul}var Kl={},Ob;function qU(){if(Ob)return Kl;Ob=1,Object.defineProperty(Kl,"__esModule",{value:!0});const e=qc(),t=bn(),r=_t(),n=o2(),i={keyword:"properties",type:"object",schemaType:"object",code(o){const{gen:s,schema:a,parentSchema:l,data:u,it:c}=o;c.opts.removeAdditional==="all"&&l.additionalProperties===void 0&&n.default.code(new e.KeywordCxt(c,n.default,"additionalProperties"));const f=(0,t.allSchemaProperties)(a);for(const p of f)c.definedProperties.add(p);c.opts.unevaluated&&f.length&&c.props!==!0&&(c.props=r.mergeEvaluated.props(s,(0,r.toHash)(f),c.props));const d=f.filter(p=>!(0,r.alwaysValidSchema)(c,a[p]));if(d.length===0)return;const h=s.name("valid");for(const p of d)g(p)?m(p):(s.if((0,t.propertyInData)(s,u,p,c.opts.ownProperties)),m(p),c.allErrors||s.else().var(h,!0),s.endIf()),o.it.definedProperties.add(p),o.ok(h);function g(p){return c.opts.useDefaults&&!c.compositeRule&&a[p].default!==void 0}function m(p){o.subschema({keyword:"properties",schemaProp:p,dataProp:p},h)}}};return Kl.default=i,Kl}var ql={},Hb;function JU(){if(Hb)return ql;Hb=1,Object.defineProperty(ql,"__esModule",{value:!0});const e=bn(),t=gt(),r=_t(),n=_t(),i={keyword:"patternProperties",type:"object",schemaType:"object",code(o){const{gen:s,schema:a,data:l,parentSchema:u,it:c}=o,{opts:f}=c,d=(0,e.allSchemaProperties)(a),h=d.filter(F=>(0,r.alwaysValidSchema)(c,a[F]));if(d.length===0||h.length===d.length&&(!c.opts.unevaluated||c.props===!0))return;const g=f.strictSchema&&!f.allowMatchingProperties&&u.properties,m=s.name("valid");c.props!==!0&&!(c.props instanceof t.Name)&&(c.props=(0,n.evaluatedPropsToName)(s,c.props));const{props:p}=c;y();function y(){for(const F of d)g&&b(F),c.allErrors?v(F):(s.var(m,!0),v(F),s.if(m))}function b(F){for(const E in g)new RegExp(F).test(E)&&(0,r.checkStrictMode)(c,`property ${E} matches pattern ${F} (use allowMatchingProperties)`)}function v(F){s.forIn("key",l,E=>{s.if((0,t._)`${(0,e.usePattern)(o,F)}.test(${E})`,()=>{const T=h.includes(F);T||o.subschema({keyword:"patternProperties",schemaProp:F,dataProp:E,dataPropType:n.Type.Str},m),c.opts.unevaluated&&p!==!0?s.assign((0,t._)`${p}[${E}]`,!0):!T&&!c.allErrors&&s.if((0,t.not)(m),()=>s.break())})})}}};return ql.default=i,ql}var Jl={},Gb;function YU(){if(Gb)return Jl;Gb=1,Object.defineProperty(Jl,"__esModule",{value:!0});const e=_t(),t={keyword:"not",schemaType:["object","boolean"],trackErrors:!0,code(r){const{gen:n,schema:i,it:o}=r;if((0,e.alwaysValidSchema)(o,i)){r.fail();return}const s=n.name("valid");r.subschema({keyword:"not",compositeRule:!0,createErrors:!1,allErrors:!1},s),r.failResult(s,()=>r.reset(),()=>r.error())},error:{message:"must NOT be valid"}};return Jl.default=t,Jl}var Yl={},jb;function ZU(){if(jb)return Yl;jb=1,Object.defineProperty(Yl,"__esModule",{value:!0});const t={keyword:"anyOf",schemaType:"array",trackErrors:!0,code:bn().validateUnion,error:{message:"must match a schema in anyOf"}};return Yl.default=t,Yl}var Zl={},zb;function XU(){if(zb)return Zl;zb=1,Object.defineProperty(Zl,"__esModule",{value:!0});const e=gt(),t=_t(),n={keyword:"oneOf",schemaType:"array",trackErrors:!0,error:{message:"must match exactly one schema in oneOf",params:({params:i})=>(0,e._)`{passingSchemas: ${i.passing}}`},code(i){const{gen:o,schema:s,parentSchema:a,it:l}=i;if(!Array.isArray(s))throw new Error("ajv implementation error");if(l.opts.discriminator&&a.discriminator)return;const u=s,c=o.let("valid",!1),f=o.let("passing",null),d=o.name("_valid");i.setParams({passing:f}),o.block(h),i.result(c,()=>i.reset(),()=>i.error(!0));function h(){u.forEach((g,m)=>{let p;(0,t.alwaysValidSchema)(l,g)?o.var(d,!0):p=i.subschema({keyword:"oneOf",schemaProp:m,compositeRule:!0},d),m>0&&o.if((0,e._)`${d} && ${c}`).assign(c,!1).assign(f,(0,e._)`[${f}, ${m}]`).else(),o.if(d,()=>{o.assign(c,!0),o.assign(f,m),p&&i.mergeEvaluated(p,e.Name)})})}}};return Zl.default=n,Zl}var Xl={},Vb;function QU(){if(Vb)return Xl;Vb=1,Object.defineProperty(Xl,"__esModule",{value:!0});const e=_t(),t={keyword:"allOf",schemaType:"array",code(r){const{gen:n,schema:i,it:o}=r;if(!Array.isArray(i))throw new Error("ajv implementation error");const s=n.name("valid");i.forEach((a,l)=>{if((0,e.alwaysValidSchema)(o,a))return;const u=r.subschema({keyword:"allOf",schemaProp:l},s);r.ok(s),r.mergeEvaluated(u)})}};return Xl.default=t,Xl}var Ql={},Wb;function eK(){if(Wb)return Ql;Wb=1,Object.defineProperty(Ql,"__esModule",{value:!0});const e=gt(),t=_t(),n={keyword:"if",schemaType:["object","boolean"],trackErrors:!0,error:{message:({params:o})=>(0,e.str)`must match "${o.ifClause}" schema`,params:({params:o})=>(0,e._)`{failingKeyword: ${o.ifClause}}`},code(o){const{gen:s,parentSchema:a,it:l}=o;a.then===void 0&&a.else===void 0&&(0,t.checkStrictMode)(l,'"if" without "then" and "else" is ignored');const u=i(l,"then"),c=i(l,"else");if(!u&&!c)return;const f=s.let("valid",!0),d=s.name("_valid");if(h(),o.reset(),u&&c){const m=s.let("ifClause");o.setParams({ifClause:m}),s.if(d,g("then",m),g("else",m))}else u?s.if(d,g("then")):s.if((0,e.not)(d),g("else"));o.pass(f,()=>o.error(!0));function h(){const m=o.subschema({keyword:"if",compositeRule:!0,createErrors:!1,allErrors:!1},d);o.mergeEvaluated(m)}function g(m,p){return()=>{const y=o.subschema({keyword:m},d);s.assign(f,d),o.mergeValidEvaluated(y,f),p?s.assign(p,(0,e._)`${m}`):o.setParams({ifClause:m})}}}};function i(o,s){const a=o.schema[s];return a!==void 0&&!(0,t.alwaysValidSchema)(o,a)}return Ql.default=n,Ql}var eu={},$b;function tK(){if($b)return eu;$b=1,Object.defineProperty(eu,"__esModule",{value:!0});const e=_t(),t={keyword:["then","else"],schemaType:["object","boolean"],code({keyword:r,parentSchema:n,it:i}){n.if===void 0&&(0,e.checkStrictMode)(i,`"${r}" without "if" is ignored`)}};return eu.default=t,eu}var Ub;function rK(){if(Ub)return jl;Ub=1,Object.defineProperty(jl,"__esModule",{value:!0});const e=n2(),t=VU(),r=i2(),n=WU(),i=$U(),o=UU(),s=KU(),a=o2(),l=qU(),u=JU(),c=YU(),f=ZU(),d=XU(),h=QU(),g=eK(),m=tK();function p(y=!1){const b=[c.default,f.default,d.default,h.default,g.default,m.default,s.default,a.default,o.default,l.default,u.default];return y?b.push(t.default,n.default):b.push(e.default,r.default),b.push(i.default),b}return jl.default=p,jl}var tu={},ru={},Kb;function nK(){if(Kb)return ru;Kb=1,Object.defineProperty(ru,"__esModule",{value:!0});const e=gt(),r={keyword:"format",type:["number","string"],schemaType:"string",$data:!0,error:{message:({schemaCode:n})=>(0,e.str)`must match format "${n}"`,params:({schemaCode:n})=>(0,e._)`{format: ${n}}`},code(n,i){const{gen:o,data:s,$data:a,schema:l,schemaCode:u,it:c}=n,{opts:f,errSchemaPath:d,schemaEnv:h,self:g}=c;if(!f.validateFormats)return;a?m():p();function m(){const y=o.scopeValue("formats",{ref:g.formats,code:f.code.formats}),b=o.const("fDef",(0,e._)`${y}[${u}]`),v=o.let("fType"),F=o.let("format");o.if((0,e._)`typeof ${b} == "object" && !(${b} instanceof RegExp)`,()=>o.assign(v,(0,e._)`${b}.type || "string"`).assign(F,(0,e._)`${b}.validate`),()=>o.assign(v,(0,e._)`"string"`).assign(F,b)),n.fail$data((0,e.or)(E(),T()));function E(){return f.strictSchema===!1?e.nil:(0,e._)`${u} && !${F}`}function T(){const I=h.$async?(0,e._)`(${b}.async ? await ${F}(${s}) : ${F}(${s}))`:(0,e._)`${F}(${s})`,M=(0,e._)`(typeof ${F} == "function" ? ${I} : ${F}.test(${s}))`;return(0,e._)`${F} && ${F} !== true && ${v} === ${i} && !${M}`}}function p(){const y=g.formats[l];if(!y){E();return}if(y===!0)return;const[b,v,F]=T(y);b===i&&n.pass(I());function E(){if(f.strictSchema===!1){g.logger.warn(M());return}throw new Error(M());function M(){return`unknown format "${l}" ignored in schema at path "${d}"`}}function T(M){const P=M instanceof RegExp?(0,e.regexpCode)(M):f.code.formats?(0,e._)`${f.code.formats}${(0,e.getProperty)(l)}`:void 0,O=o.scopeValue("formats",{key:l,ref:M,code:P});return typeof M=="object"&&!(M instanceof RegExp)?[M.type||"string",M.validate,(0,e._)`${O}.validate`]:["string",M,O]}function I(){if(typeof y=="object"&&!(y instanceof RegExp)&&y.async){if(!h.$async)throw new Error("async format in sync schema");return(0,e._)`await ${F}(${s})`}return typeof v=="function"?(0,e._)`${F}(${s})`:(0,e._)`${F}.test(${s})`}}}};return ru.default=r,ru}var qb;function iK(){if(qb)return tu;qb=1,Object.defineProperty(tu,"__esModule",{value:!0});const t=[nK().default];return tu.default=t,tu}var Ki={},Jb;function oK(){return Jb||(Jb=1,Object.defineProperty(Ki,"__esModule",{value:!0}),Ki.contentVocabulary=Ki.metadataVocabulary=void 0,Ki.metadataVocabulary=["title","description","default","deprecated","readOnly","writeOnly","examples"],Ki.contentVocabulary=["contentMediaType","contentEncoding","contentSchema"]),Ki}var Yb;function sK(){if(Yb)return kl;Yb=1,Object.defineProperty(kl,"__esModule",{value:!0});const e=TU(),t=zU(),r=rK(),n=iK(),i=oK(),o=[e.default,t.default,(0,r.default)(),n.default,i.metadataVocabulary,i.contentVocabulary];return kl.default=o,kl}var nu={},$s={},Zb;function aK(){if(Zb)return $s;Zb=1,Object.defineProperty($s,"__esModule",{value:!0}),$s.DiscrError=void 0;var e;return(function(t){t.Tag="tag",t.Mapping="mapping"})(e||($s.DiscrError=e={})),$s}var Xb;function lK(){if(Xb)return nu;Xb=1,Object.defineProperty(nu,"__esModule",{value:!0});const e=gt(),t=aK(),r=zp(),n=Jc(),i=_t(),s={keyword:"discriminator",type:"object",schemaType:"object",error:{message:({params:{discrError:a,tagName:l}})=>a===t.DiscrError.Tag?`tag "${l}" must be string`:`value of tag "${l}" must be in oneOf`,params:({params:{discrError:a,tag:l,tagName:u}})=>(0,e._)`{error: ${a}, tag: ${u}, tagValue: ${l}}`},code(a){const{gen:l,data:u,schema:c,parentSchema:f,it:d}=a,{oneOf:h}=f;if(!d.opts.discriminator)throw new Error("discriminator: requires discriminator option");const g=c.propertyName;if(typeof g!="string")throw new Error("discriminator: requires propertyName");if(c.mapping)throw new Error("discriminator: mapping is not supported");if(!h)throw new Error("discriminator: requires oneOf keyword");const m=l.let("valid",!1),p=l.const("tag",(0,e._)`${u}${(0,e.getProperty)(g)}`);l.if((0,e._)`typeof ${p} == "string"`,()=>y(),()=>a.error(!1,{discrError:t.DiscrError.Tag,tag:p,tagName:g})),a.ok(m);function y(){const F=v();l.if(!1);for(const E in F)l.elseIf((0,e._)`${p} === ${E}`),l.assign(m,b(F[E]));l.else(),a.error(!1,{discrError:t.DiscrError.Mapping,tag:p,tagName:g}),l.endIf()}function b(F){const E=l.name("valid"),T=a.subschema({keyword:"oneOf",schemaProp:F},E);return a.mergeEvaluated(T,e.Name),E}function v(){var F;const E={},T=M(f);let I=!0;for(let z=0;z<h.length;z++){let L=h[z];if(L?.$ref&&!(0,i.schemaHasRulesButRef)(L,d.self.RULES)){const R=L.$ref;if(L=r.resolveRef.call(d.self,d.schemaEnv.root,d.baseId,R),L instanceof r.SchemaEnv&&(L=L.schema),L===void 0)throw new n.default(d.opts.uriResolver,d.baseId,R)}const _=(F=L?.properties)===null||F===void 0?void 0:F[g];if(typeof _!="object")throw new Error(`discriminator: oneOf subschemas (or referenced schemas) must have "properties/${g}"`);I=I&&(T||M(L)),P(_,z)}if(!I)throw new Error(`discriminator: "${g}" must be required`);return E;function M({required:z}){return Array.isArray(z)&&z.includes(g)}function P(z,L){if(z.const)O(z.const,L);else if(z.enum)for(const _ of z.enum)O(_,L);else throw new Error(`discriminator: "properties/${g}" must have "const" or "enum"`)}function O(z,L){if(typeof z!="string"||z in E)throw new Error(`discriminator: "${g}" values must be unique strings`);E[z]=L}}}};return nu.default=s,nu}const uK="http://json-schema.org/draft-07/schema#",cK="http://json-schema.org/draft-07/schema#",dK="Core schema meta-schema",hK={schemaArray:{type:"array",minItems:1,items:{$ref:"#"}},nonNegativeInteger:{type:"integer",minimum:0},nonNegativeIntegerDefault0:{allOf:[{$ref:"#/definitions/nonNegativeInteger"},{default:0}]},simpleTypes:{enum:["array","boolean","integer","null","number","object","string"]},stringArray:{type:"array",items:{type:"string"},uniqueItems:!0,default:[]}},fK=["object","boolean"],pK={$id:{type:"string",format:"uri-reference"},$schema:{type:"string",format:"uri"},$ref:{type:"string",format:"uri-reference"},$comment:{type:"string"},title:{type:"string"},description:{type:"string"},default:!0,readOnly:{type:"boolean",default:!1},examples:{type:"array",items:!0},multipleOf:{type:"number",exclusiveMinimum:0},maximum:{type:"number"},exclusiveMaximum:{type:"number"},minimum:{type:"number"},exclusiveMinimum:{type:"number"},maxLength:{$ref:"#/definitions/nonNegativeInteger"},minLength:{$ref:"#/definitions/nonNegativeIntegerDefault0"},pattern:{type:"string",format:"regex"},additionalItems:{$ref:"#"},items:{anyOf:[{$ref:"#"},{$ref:"#/definitions/schemaArray"}],default:!0},maxItems:{$ref:"#/definitions/nonNegativeInteger"},minItems:{$ref:"#/definitions/nonNegativeIntegerDefault0"},uniqueItems:{type:"boolean",default:!1},contains:{$ref:"#"},maxProperties:{$ref:"#/definitions/nonNegativeInteger"},minProperties:{$ref:"#/definitions/nonNegativeIntegerDefault0"},required:{$ref:"#/definitions/stringArray"},additionalProperties:{$ref:"#"},definitions:{type:"object",additionalProperties:{$ref:"#"},default:{}},properties:{type:"object",additionalProperties:{$ref:"#"},default:{}},patternProperties:{type:"object",additionalProperties:{$ref:"#"},propertyNames:{format:"regex"},default:{}},dependencies:{type:"object",additionalProperties:{anyOf:[{$ref:"#"},{$ref:"#/definitions/stringArray"}]}},propertyNames:{$ref:"#"},const:!0,enum:{type:"array",items:!0,minItems:1,uniqueItems:!0},type:{anyOf:[{$ref:"#/definitions/simpleTypes"},{type:"array",items:{$ref:"#/definitions/simpleTypes"},minItems:1,uniqueItems:!0}]},format:{type:"string"},contentMediaType:{type:"string"},contentEncoding:{type:"string"},if:{$ref:"#"},then:{$ref:"#"},else:{$ref:"#"},allOf:{$ref:"#/definitions/schemaArray"},anyOf:{$ref:"#/definitions/schemaArray"},oneOf:{$ref:"#/definitions/schemaArray"},not:{$ref:"#"}},gK={$schema:uK,$id:cK,title:dK,definitions:hK,type:fK,properties:pK,default:!0};var Qb;function s2(){return Qb||(Qb=1,(function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.MissingRefError=t.ValidationError=t.CodeGen=t.Name=t.nil=t.stringify=t.str=t._=t.KeywordCxt=t.Ajv=void 0;const r=RU(),n=sK(),i=lK(),o=gK,s=["/properties"],a="http://json-schema.org/draft-07/schema";class l extends r.default{_addVocabularies(){super._addVocabularies(),n.default.forEach(g=>this.addVocabulary(g)),this.opts.discriminator&&this.addKeyword(i.default)}_addDefaultMetaSchema(){if(super._addDefaultMetaSchema(),!this.opts.meta)return;const g=this.opts.$data?this.$dataMetaSchema(o,s):o;this.addMetaSchema(g,a,!1),this.refs["http://json-schema.org/schema"]=a}defaultMeta(){return this.opts.defaultMeta=super.defaultMeta()||(this.getSchema(a)?a:void 0)}}t.Ajv=l,e.exports=t=l,e.exports.Ajv=l,Object.defineProperty(t,"__esModule",{value:!0}),t.default=l;var u=qc();Object.defineProperty(t,"KeywordCxt",{enumerable:!0,get:function(){return u.KeywordCxt}});var c=gt();Object.defineProperty(t,"_",{enumerable:!0,get:function(){return c._}}),Object.defineProperty(t,"str",{enumerable:!0,get:function(){return c.str}}),Object.defineProperty(t,"stringify",{enumerable:!0,get:function(){return c.stringify}}),Object.defineProperty(t,"nil",{enumerable:!0,get:function(){return c.nil}}),Object.defineProperty(t,"Name",{enumerable:!0,get:function(){return c.Name}}),Object.defineProperty(t,"CodeGen",{enumerable:!0,get:function(){return c.CodeGen}});var f=jp();Object.defineProperty(t,"ValidationError",{enumerable:!0,get:function(){return f.default}});var d=Jc();Object.defineProperty(t,"MissingRefError",{enumerable:!0,get:function(){return d.default}})})(wl,wl.exports)),wl.exports}var mK=s2();const Wp=Fo(mK);var iu={exports:{}},hh={},ey;function bK(){return ey||(ey=1,(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.formatNames=e.fastFormats=e.fullFormats=void 0;function t(z,L){return{validate:z,compare:L}}e.fullFormats={date:t(o,s),time:t(l(!0),u),"date-time":t(d(!0),h),"iso-time":t(l(),c),"iso-date-time":t(d(),g),duration:/^P(?!$)((\d+Y)?(\d+M)?(\d+D)?(T(?=\d)(\d+H)?(\d+M)?(\d+S)?)?|(\d+W)?)$/,uri:y,"uri-reference":/^(?:[a-z][a-z0-9+\-.]*:)?(?:\/?\/(?:(?:[a-z0-9\-._~!$&'()*+,;=:]|%[0-9a-f]{2})*@)?(?:\[(?:(?:(?:(?:[0-9a-f]{1,4}:){6}|::(?:[0-9a-f]{1,4}:){5}|(?:[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){4}|(?:(?:[0-9a-f]{1,4}:){0,1}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){3}|(?:(?:[0-9a-f]{1,4}:){0,2}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){2}|(?:(?:[0-9a-f]{1,4}:){0,3}[0-9a-f]{1,4})?::[0-9a-f]{1,4}:|(?:(?:[0-9a-f]{1,4}:){0,4}[0-9a-f]{1,4})?::)(?:[0-9a-f]{1,4}:[0-9a-f]{1,4}|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?))|(?:(?:[0-9a-f]{1,4}:){0,5}[0-9a-f]{1,4})?::[0-9a-f]{1,4}|(?:(?:[0-9a-f]{1,4}:){0,6}[0-9a-f]{1,4})?::)|[Vv][0-9a-f]+\.[a-z0-9\-._~!$&'()*+,;=:]+)\]|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?)|(?:[a-z0-9\-._~!$&'"()*+,;=]|%[0-9a-f]{2})*)(?::\d*)?(?:\/(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})*)*|\/(?:(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})*)*)?|(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})*)*)?(?:\?(?:[a-z0-9\-._~!$&'"()*+,;=:@/?]|%[0-9a-f]{2})*)?(?:#(?:[a-z0-9\-._~!$&'"()*+,;=:@/?]|%[0-9a-f]{2})*)?$/i,"uri-template":/^(?:(?:[^\x00-\x20"'<>%\\^`{|}]|%[0-9a-f]{2})|\{[+#./;?&=,!@|]?(?:[a-z0-9_]|%[0-9a-f]{2})+(?::[1-9][0-9]{0,3}|\*)?(?:,(?:[a-z0-9_]|%[0-9a-f]{2})+(?::[1-9][0-9]{0,3}|\*)?)*\})*$/i,url:/^(?:https?|ftp):\/\/(?:\S+(?::\S*)?@)?(?:(?!(?:10|127)(?:\.\d{1,3}){3})(?!(?:169\.254|192\.168)(?:\.\d{1,3}){2})(?!172\.(?:1[6-9]|2\d|3[0-1])(?:\.\d{1,3}){2})(?:[1-9]\d?|1\d\d|2[01]\d|22[0-3])(?:\.(?:1?\d{1,2}|2[0-4]\d|25[0-5])){2}(?:\.(?:[1-9]\d?|1\d\d|2[0-4]\d|25[0-4]))|(?:(?:[a-z0-9\u{00a1}-\u{ffff}]+-)*[a-z0-9\u{00a1}-\u{ffff}]+)(?:\.(?:[a-z0-9\u{00a1}-\u{ffff}]+-)*[a-z0-9\u{00a1}-\u{ffff}]+)*(?:\.(?:[a-z\u{00a1}-\u{ffff}]{2,})))(?::\d{2,5})?(?:\/[^\s]*)?$/iu,email:/^[a-z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-z0-9!#$%&'*+/=?^_`{|}~-]+)*@(?:[a-z0-9](?:[a-z0-9-]*[a-z0-9])?\.)+[a-z0-9](?:[a-z0-9-]*[a-z0-9])?$/i,hostname:/^(?=.{1,253}\.?$)[a-z0-9](?:[a-z0-9-]{0,61}[a-z0-9])?(?:\.[a-z0-9](?:[-0-9a-z]{0,61}[0-9a-z])?)*\.?$/i,ipv4:/^(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)\.){3}(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)$/,ipv6:/^((([0-9a-f]{1,4}:){7}([0-9a-f]{1,4}|:))|(([0-9a-f]{1,4}:){6}(:[0-9a-f]{1,4}|((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(([0-9a-f]{1,4}:){5}(((:[0-9a-f]{1,4}){1,2})|:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(([0-9a-f]{1,4}:){4}(((:[0-9a-f]{1,4}){1,3})|((:[0-9a-f]{1,4})?:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9a-f]{1,4}:){3}(((:[0-9a-f]{1,4}){1,4})|((:[0-9a-f]{1,4}){0,2}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9a-f]{1,4}:){2}(((:[0-9a-f]{1,4}){1,5})|((:[0-9a-f]{1,4}){0,3}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9a-f]{1,4}:){1}(((:[0-9a-f]{1,4}){1,6})|((:[0-9a-f]{1,4}){0,4}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(:(((:[0-9a-f]{1,4}){1,7})|((:[0-9a-f]{1,4}){0,5}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:)))$/i,regex:O,uuid:/^(?:urn:uuid:)?[0-9a-f]{8}-(?:[0-9a-f]{4}-){3}[0-9a-f]{12}$/i,"json-pointer":/^(?:\/(?:[^~/]|~0|~1)*)*$/,"json-pointer-uri-fragment":/^#(?:\/(?:[a-z0-9_\-.!$&'()*+,;:=@]|%[0-9a-f]{2}|~0|~1)*)*$/i,"relative-json-pointer":/^(?:0|[1-9][0-9]*)(?:#|(?:\/(?:[^~/]|~0|~1)*)*)$/,byte:v,int32:{type:"number",validate:T},int64:{type:"number",validate:I},float:{type:"number",validate:M},double:{type:"number",validate:M},password:!0,binary:!0},e.fastFormats={...e.fullFormats,date:t(/^\d\d\d\d-[0-1]\d-[0-3]\d$/,s),time:t(/^(?:[0-2]\d:[0-5]\d:[0-5]\d|23:59:60)(?:\.\d+)?(?:z|[+-]\d\d(?::?\d\d)?)$/i,u),"date-time":t(/^\d\d\d\d-[0-1]\d-[0-3]\dt(?:[0-2]\d:[0-5]\d:[0-5]\d|23:59:60)(?:\.\d+)?(?:z|[+-]\d\d(?::?\d\d)?)$/i,h),"iso-time":t(/^(?:[0-2]\d:[0-5]\d:[0-5]\d|23:59:60)(?:\.\d+)?(?:z|[+-]\d\d(?::?\d\d)?)?$/i,c),"iso-date-time":t(/^\d\d\d\d-[0-1]\d-[0-3]\d[t\s](?:[0-2]\d:[0-5]\d:[0-5]\d|23:59:60)(?:\.\d+)?(?:z|[+-]\d\d(?::?\d\d)?)?$/i,g),uri:/^(?:[a-z][a-z0-9+\-.]*:)(?:\/?\/)?[^\s]*$/i,"uri-reference":/^(?:(?:[a-z][a-z0-9+\-.]*:)?\/?\/)?(?:[^\\\s#][^\s#]*)?(?:#[^\\\s]*)?$/i,email:/^[a-z0-9.!#$%&'*+/=?^_`{|}~-]+@[a-z0-9](?:[a-z0-9-]{0,61}[a-z0-9])?(?:\.[a-z0-9](?:[a-z0-9-]{0,61}[a-z0-9])?)*$/i},e.formatNames=Object.keys(e.fullFormats);function r(z){return z%4===0&&(z%100!==0||z%400===0)}const n=/^(\d\d\d\d)-(\d\d)-(\d\d)$/,i=[0,31,28,31,30,31,30,31,31,30,31,30,31];function o(z){const L=n.exec(z);if(!L)return!1;const _=+L[1],R=+L[2],k=+L[3];return R>=1&&R<=12&&k>=1&&k<=(R===2&&r(_)?29:i[R])}function s(z,L){if(z&&L)return z>L?1:z<L?-1:0}const a=/^(\d\d):(\d\d):(\d\d(?:\.\d+)?)(z|([+-])(\d\d)(?::?(\d\d))?)?$/i;function l(z){return function(_){const R=a.exec(_);if(!R)return!1;const k=+R[1],S=+R[2],w=+R[3],C=R[4],x=R[5]==="-"?-1:1,A=+(R[6]||0),D=+(R[7]||0);if(A>23||D>59||z&&!C)return!1;if(k<=23&&S<=59&&w<60)return!0;const B=S-D*x,V=k-A*x-(B<0?1:0);return(V===23||V===-1)&&(B===59||B===-1)&&w<61}}function u(z,L){if(!(z&&L))return;const _=new Date("2020-01-01T"+z).valueOf(),R=new Date("2020-01-01T"+L).valueOf();if(_&&R)return _-R}function c(z,L){if(!(z&&L))return;const _=a.exec(z),R=a.exec(L);if(_&&R)return z=_[1]+_[2]+_[3],L=R[1]+R[2]+R[3],z>L?1:z<L?-1:0}const f=/t|\s/i;function d(z){const L=l(z);return function(R){const k=R.split(f);return k.length===2&&o(k[0])&&L(k[1])}}function h(z,L){if(!(z&&L))return;const _=new Date(z).valueOf(),R=new Date(L).valueOf();if(_&&R)return _-R}function g(z,L){if(!(z&&L))return;const[_,R]=z.split(f),[k,S]=L.split(f),w=s(_,k);if(w!==void 0)return w||u(R,S)}const m=/\/|:/,p=/^(?:[a-z][a-z0-9+\-.]*:)(?:\/?\/(?:(?:[a-z0-9\-._~!$&'()*+,;=:]|%[0-9a-f]{2})*@)?(?:\[(?:(?:(?:(?:[0-9a-f]{1,4}:){6}|::(?:[0-9a-f]{1,4}:){5}|(?:[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){4}|(?:(?:[0-9a-f]{1,4}:){0,1}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){3}|(?:(?:[0-9a-f]{1,4}:){0,2}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){2}|(?:(?:[0-9a-f]{1,4}:){0,3}[0-9a-f]{1,4})?::[0-9a-f]{1,4}:|(?:(?:[0-9a-f]{1,4}:){0,4}[0-9a-f]{1,4})?::)(?:[0-9a-f]{1,4}:[0-9a-f]{1,4}|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?))|(?:(?:[0-9a-f]{1,4}:){0,5}[0-9a-f]{1,4})?::[0-9a-f]{1,4}|(?:(?:[0-9a-f]{1,4}:){0,6}[0-9a-f]{1,4})?::)|[Vv][0-9a-f]+\.[a-z0-9\-._~!$&'()*+,;=:]+)\]|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?)|(?:[a-z0-9\-._~!$&'()*+,;=]|%[0-9a-f]{2})*)(?::\d*)?(?:\/(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})*)*|\/(?:(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})*)*)?|(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})*)*)(?:\?(?:[a-z0-9\-._~!$&'()*+,;=:@/?]|%[0-9a-f]{2})*)?(?:#(?:[a-z0-9\-._~!$&'()*+,;=:@/?]|%[0-9a-f]{2})*)?$/i;function y(z){return m.test(z)&&p.test(z)}const b=/^(?:[A-Za-z0-9+/]{4})*(?:[A-Za-z0-9+/]{2}==|[A-Za-z0-9+/]{3}=)?$/gm;function v(z){return b.lastIndex=0,b.test(z)}const F=-2147483648,E=2**31-1;function T(z){return Number.isInteger(z)&&z<=E&&z>=F}function I(z){return Number.isInteger(z)}function M(){return!0}const P=/[^\\]\\Z/;function O(z){if(P.test(z))return!1;try{return new RegExp(z),!0}catch{return!1}}})(hh)),hh}var fh={},ty;function yK(){return ty||(ty=1,(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.formatLimitDefinition=void 0;const t=s2(),r=gt(),n=r.operators,i={formatMaximum:{okStr:"<=",ok:n.LTE,fail:n.GT},formatMinimum:{okStr:">=",ok:n.GTE,fail:n.LT},formatExclusiveMaximum:{okStr:"<",ok:n.LT,fail:n.GTE},formatExclusiveMinimum:{okStr:">",ok:n.GT,fail:n.LTE}},o={message:({keyword:a,schemaCode:l})=>(0,r.str)`should be ${i[a].okStr} ${l}`,params:({keyword:a,schemaCode:l})=>(0,r._)`{comparison: ${i[a].okStr}, limit: ${l}}`};e.formatLimitDefinition={keyword:Object.keys(i),type:"string",schemaType:"string",$data:!0,error:o,code(a){const{gen:l,data:u,schemaCode:c,keyword:f,it:d}=a,{opts:h,self:g}=d;if(!h.validateFormats)return;const m=new t.KeywordCxt(d,g.RULES.all.format.definition,"format");m.$data?p():y();function p(){const v=l.scopeValue("formats",{ref:g.formats,code:h.code.formats}),F=l.const("fmt",(0,r._)`${v}[${m.schemaCode}]`);a.fail$data((0,r.or)((0,r._)`typeof ${F} != "object"`,(0,r._)`${F} instanceof RegExp`,(0,r._)`typeof ${F}.compare != "function"`,b(F)))}function y(){const v=m.schema,F=g.formats[v];if(!F||F===!0)return;if(typeof F!="object"||F instanceof RegExp||typeof F.compare!="function")throw new Error(`"${f}": format "${v}" does not define "compare" function`);const E=l.scopeValue("formats",{key:v,ref:F,code:h.code.formats?(0,r._)`${h.code.formats}${(0,r.getProperty)(v)}`:void 0});a.fail$data(b(E))}function b(v){return(0,r._)`${v}.compare(${u}, ${c}) ${i[f].fail} 0`}},dependencies:["format"]};const s=a=>(a.addKeyword(e.formatLimitDefinition),a);e.default=s})(fh)),fh}var ry;function vK(){return ry||(ry=1,(function(e,t){Object.defineProperty(t,"__esModule",{value:!0});const r=bK(),n=yK(),i=gt(),o=new i.Name("fullFormats"),s=new i.Name("fastFormats"),a=(u,c={keywords:!0})=>{if(Array.isArray(c))return l(u,c,r.fullFormats,o),u;const[f,d]=c.mode==="fast"?[r.fastFormats,s]:[r.fullFormats,o],h=c.formats||r.formatNames;return l(u,h,f,d),c.keywords&&(0,n.default)(u),u};a.get=(u,c="full")=>{const d=(c==="fast"?r.fastFormats:r.fullFormats)[u];if(!d)throw new Error(`Unknown format "${u}"`);return d};function l(u,c,f,d){var h,g;(h=(g=u.opts.code).formats)!==null&&h!==void 0||(g.formats=(0,i._)`require("ajv-formats/dist/formats").${d}`);for(const m of c)u.addFormat(m,f[m])}e.exports=t=a,Object.defineProperty(t,"__esModule",{value:!0}),t.default=a})(iu,iu.exports)),iu.exports}var wK=vK();const $p=Fo(wK),CK=`import glob
import json
import logging
import os
import re
import duckdb
import pandas as pd


# ===============================================================
# Script Compatibility Notice
# ---------------------------------------------------------------
# This script requires DuckDB version 1.0.0 or higher.
# Older versions may not support the functions used (e.g., sniff_csv).
# Please ensure your DuckDB installation is up to date.
# ===============================================================

def read_file(entity_structure, dtype_, parse_dates):
    logging.info("Trying to read the file with the configuration provided.")
    try:
        df = pd.read_csv(
            entity_structure['uploaded_filename'],
            sep=entity_structure['separator'],
            dtype=dtype_,
            parse_dates=parse_dates,
            encoding=entity_structure['encoding']
        )
        df = df[entity_structure['entity_variables']]  
        len_df = len(df)
        logging.info(f"{len_df} records read.")
        return df
    except ValueError as e:
        logging.error(f"Reading the file with the provided configuration failed!")
        logging.error(str(e))
        df = pd.read_csv(
            entity_structure['uploaded_filename'],
            sep=entity_structure['separator'],
            encoding=entity_structure['encoding']
        )
        variables_name = []
        variables_format = []
        for k, v in dtype_.items():
            if pd.StringDtype != type(v):
                variables_name.append(k)
                variables_format.append(v)
        for v in df.dtypes.items():
            logging.error(f"{v}")
        exit(1)


def load_file(entity_structure, df):
    logging.info(f"Trying to connect to the database ...")
    try:
        con = duckdb.connect(database_path, read_only=False)
        con.execute("SET GLOBAL pandas_analyze_sample=500000")
        logging.info(f"Connected!")
        entity_name_ = entity_structure['entity_name']
        logging.info(f"Trying to load records in the table \\"{entity_name_}\\"")
        query = "INSERT INTO {entity} SELECT * FROM df;".format(entity=entity_name_)
        con.execute(query)
        logging.info(f"{entity_structure['uploaded_filename']} -> LOADED!")
        global entities_uploaded
        entities_uploaded = entities_uploaded + 1
    except Exception as e:
        logging.error("Something went wrong trying to insert the data!")
        logging.error(str(e))
    finally:
        con.close()

        
def found_candidate(file_columns, entity_colums):
    return set(entity_colums) == set(file_columns) and len(entity_colums) == len(file_columns)


def query_found_errors(filename,entity_info):
    queries=[]
    for entity_key, entity_value in entity_info['parse'].items():
        query_errors = f"""select * from (select row_number() over() as rk, TRY_CAST({entity_key} AS {entity_value})::VARCHAR AS {entity_key}_error, {entity_key} 
        from read_csv('{filename}', all_varchar=TRUE)) where {entity_key}_error != {entity_key} or {entity_key}_error = {entity_key} is null"""
        queries.append({'variable':entity_key, 'query':query_errors})
    return queries

        
def sniff_original_files(uploaded_file_,entity_info_):        
    logging.info("Sniffing original files")
    con = duckdb.connect(database_path, read_only=False)
    result = con.execute(f"from sniff_csv('{uploaded_file_}', sample_size = 250000)").df()
    columns = result['Columns']
    columns = pd.DataFrame(list(columns[0]))
    #'entity_name': entity_name, 'entity_columns':entity_variables, 'parse':info 
    entities_to_upload = []
    entity_assigned = "Not found"
    for entity in entity_info_:
        candidate = found_candidate(columns['name'],entity['entity_columns'])
        if candidate:
            queries_errors = query_found_errors(uploaded_file_,entity)
            entity_assigned = entity['entity_name']           
            parse_original_file = {k: entity['parse'][k] for k in columns['name']}         
            entities_to_upload.append({"file":uploaded_file_,"entity": entity['entity_name'],"parse": parse_original_file, 'queries':queries_errors})
    
    logging.info("Original file characteristics")
    logging.info("=============================")
    logging.info(f"File: {uploaded_file_.replace('./inputs/','')}")
    logging.info(f"Delimiter: {result['Delimiter'][0]}")
    logging.info(f"Quote: {result['Quote'][0]}")
    logging.info(f"Escape: {result['Escape'][0]}")
    logging.info(f"NewLineDelimiter: {result['NewLineDelimiter'][0]}")
    logging.info(f"SkipRows: {result['SkipRows'][0]}")
    logging.info(f"HasHeader: {result['HasHeader'][0]}")
    logging.info(f"DateFormat: {result['DateFormat'][0]}")
    logging.info(f"TimestampFormat: {result['TimestampFormat'][0]}")
    logging.info('Columns with inferred types:')
    logging.info("\\n" + columns.to_string(index=False))
    logging.info(f'Assigned entity: {entity_assigned}')
    logging.info("=============================\\n\\n")
    return entities_to_upload

def get_duckdb_parsed_config(entity_variables,entity_formats):
    dtype_ = {}
    parse_dates = []
    
    try_casting =[]
    
    for c, f in zip(entity_variables, entity_formats):
        if f == 'string':
            dtype_[c] = 'VARCHAR'
            pass
        elif f == 'boolean':
            dtype_[c] = 'BOOLEAN'
        elif f == 'date':
            dtype_[c] = 'DATE'
        elif f == 'datetime':
            dtype_[c] = 'TIMESTAMP'
        elif f == 'integer':
            dtype_[c] = 'HUGEINT'
        elif f == 'double':
            dtype_[c] = 'DOUBLE'
            pass
        else:
            logging.warning(f"Format '{f}' not found, will be interpreted as String object.")
            dtype_[c] = 'VARCHAR'
        try_casting.append(f"TRY_CAST({c} AS {dtype_[c]}) AS {c}_error")
    return dtype_
   


def get_entity_info():
    if 'entities' in configuration_file:
        entities_structure = []
        for entity in configuration_file['entities']:
            if 'name' not in entity or 'variables' not in entity:
                logging.error("properties \\"name\\" or \\"variables\\" not found in entity! Check specifications!")
                exit(1)
            entity_name = entity['name']
            logging.info(f"Processing entity \\"{entity_name}\\"...")
            try:
                entity_variables = [variable['label'] for variable in entity['variables']]
                entity_formats = [str(variable['format']).lower() for variable in entity['variables']]
                create_entity_table_if_not_exists(entity_name,entity_variables,entity_formats)
                info = get_duckdb_parsed_config(entity_variables,entity_formats)
                r = {'entity_name': entity_name, 'entity_columns':entity_variables,'entity_formats':entity_formats, 'parse':info}
                entities_structure.append(r)
            except Exception as e:
                logging.error("Variables must have the properties \\"label\\" and \\"format\\"")
                logging.error(str(e))
                exit(1)
        return entities_structure
    else:
        logging.error("\\"entities\\" not found in your configuration file! Check specifications!")
        exit(1)
 

def create_entity_table_if_not_exists(entity_name_, entity_variables_, entity_formats_):
    format_translation = {
        "string": "VARCHAR",
        "boolean": "BOOLEAN",
        "date": "DATE",
        "datetime": "TIMESTAMP",
        "integer": "HUGEINT",
        "double": "DOUBLE"
    }
    
    query = f"""CREATE TABLE IF NOT EXISTS {entity_name_}({entity_variables_[0]} {format_translation.get(entity_formats_[0], "VARCHAR")}"""
    for (variable_, format_) in zip(entity_variables_[1:], entity_formats_[1:]):
        query += f""", {variable_} {format_translation.get(format_)}"""
    query += ");"
    try:
        logging.info(f"Trying to connect to the database ...")
        logging.info(f"Trying to create the table for entity \\"{entity_name_}\\"")
        logging.info(f"Table structure:\\n {query}")
        con = duckdb.connect(database_path, read_only=False)
        con.execute(query)
        logging.info(f"Table successfully created!")
    except Exception as e:
        logging.error("Something went wrong in the creation of the table")
        logging.error(str(e))
    finally:
        con.close()

if __name__ == '__main__':
    # Do not modify if you use the deployment container!
    os.chdir(os.path.dirname(__file__))
    logging.basicConfig(format='%(levelname)s:: %(message)s', level=logging.INFO)
    logging.info("Starting Checking data syntax process")
    # Relative paths to the work structure provided from CDMBuilder.
    # Important! The functionality of this script may vary, but the file name,
    # where it reads the data and where the results are saved must be maintained
    # for the correct functioning of the tool.
    database_path = '../../inputs/data.duckdb'
    configuration_file_path = '../../docs/CDM/cdmb_config.json'
    output_path = '../../outputs'
    upload_files_path = './inputs'
    global entities_uploaded
    entities_uploaded = 0
    # Opening JSON file
    try:
        with open(configuration_file_path, encoding='utf-8') as configuration_file:
            configuration_file = json.load(configuration_file)
    except FileNotFoundError as e:
        logging.error("Configuration file "" is missing!")
        exit(1)
    logging.info("Configuration file loaded\\n")
    CDMB_VERSION = configuration_file["cdmb_version"] if "cdmb_version" in configuration_file else "Non-versioned"
    ASPIRE_VERSION = os.environ.get('ASPIRE_VERSION', 'Non-versioned')
    PIPELINE_VERSION = os.environ.get('PIPELINE_VERSION', 'Non-versioned')
    logging.info("#########################################")
    logging.info(f"# CDMB version: {CDMB_VERSION}")
    logging.info(f"# ASPIRE version: {ASPIRE_VERSION}")
    logging.info(f"# PIPELINE version: {PIPELINE_VERSION}")
    logging.info("#########################################\\n")
    
    entity_info = get_entity_info()    
    csv_files = glob.glob(upload_files_path + "/*.csv", recursive=True)
    uploaded_file_structure = []
    logging.info(f"-Found {len(csv_files)} uploaded files to check and map!")
    all_files_to_upload = []
    if len(csv_files) > 0: logging.info("Starting the check of the files that do match an entity.")
    for uploaded_file in csv_files:
        try:
            entities_to_upload = sniff_original_files(uploaded_file, entity_info)
            all_files_to_upload = all_files_to_upload + entities_to_upload
            
        except Exception as e:
            logging.error(f"Something went wrong trying to read \\"{uploaded_file}\\" file")
            logging.error(str(e))
            exit(1)

    for entity in entity_info:
        files_to_upload = [item for item in all_files_to_upload if item["entity"] == entity['entity_name']]
        if len(files_to_upload) == 0:
            logging.warning(f"No file of the uploaded files has been found that matches the header with the "
                                f"configuration of the \\"{entity['entity_name']}\\" entity.!")
        else:
            logging.info(f"A file (total files: {len(files_to_upload)}) of the uploaded files has been found that matches the header with the "
                                f"configuration of the \\"{entity['entity_name']}\\" entity.!")
            
            try:
                logging.info(f"Trying to connect to the database ...")
                con = duckdb.connect(database_path, read_only=False)
                logging.info(f"Trying to load records in the table \\"{entity['entity_name']}\\"")
                has_pass = 0
                for i, item in enumerate(files_to_upload):
                    try:
                        parse_configuracion = json.dumps(item['parse'], ensure_ascii=False)
                        if i == 0:
                            # create o replace 
                            query = f"CREATE OR REPLACE TABLE {entity['entity_name']} as SELECT {','.join(entity['entity_columns'])} from (select * FROM read_csv('{item['file']}',nullstr=['NA',''],  columns ={parse_configuracion}))"
                            con.execute(query)
                            logging.info(f"Table successfully created! (CREATE OR REPLACE OPERATION)")
                        else: 
                            query = f"INSERT INTO {entity['entity_name']} SELECT {','.join(entity['entity_columns'])} from (select *  FROM read_csv('{item['file']}', nullstr=['NA',''],  columns ={parse_configuracion}))"
                            con.execute(query)
                            logging.info(f"Table successfully created! (INSERT OPERATION)")
                        has_pass = has_pass + 1
                    except Exception as e:
                        logging.error("Something went wrong trying to insert data into the database\\n")
                        logging.error(str(e))
                        logging.error("\\nChecking variable casting variable by variable\\n")
                        for query in item['queries']:
                                 
                            
                            result_error = con.execute(query['query']).df()
                            n_errors = len(result_error)
                            if n_errors > 0:
                                logging.error("---------")
                                logging.error(f"Checking variable: {query['variable']}")
                                logging.error(f"Filename: {item['file'].replace('./inputs/','')}")
                                logging.error(f"Found casting errors in {len(result_error)} line(s)")
                                n_lines = result_error["rk"].astype(str).tolist()
                                n_wrong_values = result_error[query['variable']].astype(str).unique().tolist()
                                logging.error(f"{len(n_wrong_values)} values have been found that cause casting errors.")
                                n_lines_st = ""
                                n_values_st = ""
                                if len(n_lines) > 15:
                                    n_lines_st = ", ".join(f"'{v}'" for v in n_lines[:15]) + ", ..."
                                else:
                                    n_lines_st = ", ".join(f"'{v}'" for v in n_lines)
                                
                                if len(n_wrong_values) > 15:
                                    n_values_st = ", ".join(f"'{v}'" for v in n_wrong_values[:15]) + ", ..."
                                else:
                                    n_values_st = ", ".join(f"'{v}'" for v in n_wrong_values)
                                    
                                logging.error(f"Line number where errors were found: {n_lines_st}")
                                logging.error(f"Example of erroneous values found: {n_values_st}")        
                                logging.error("---------")
              
                
                
                if has_pass == len(files_to_upload):
                    entities_uploaded = entities_uploaded+1
                    result = con.execute(f"select count(*) as n_rows from {entity['entity_name']}").df()            
                    logging.info(f"{result.loc[0, 'n_rows']} records read.\\n\\n")
                elif has_pass == 0:
                    logging.error("0 records read")
                else:
                    result = con.execute(f"select count(*) as n_rows from {entity['entity_name']}").df()     
                    logging.info(f"The entity has not been fully loaded with all records.")       
                    logging.info(f"{result.loc[0, 'n_rows']} records read.\\n\\n")
                
            except Exception as e :
                logging.error("Something went wrong trying to connect to the database")
                logging.error(str(e))
   
            finally:
                con.close()
    if entities_uploaded == 0:
            logging.error("None of the uploaded files have been matched with an entity!")
    else:
        logging.info(f"Total number of entities that have been matched to an uploaded file: {entities_uploaded}")

        
`,FK=`import json
import logging
import os

import duckdb
from ydata_profiling import ProfileReport 

if __name__ == '__main__':
    # Do not modify if you use the deployment container!
    os.chdir(os.path.dirname(__file__))
    logging.basicConfig(format='%(levelname)s:: %(message)s', level=logging.INFO)
    # Relative paths to the work structure provided from CDMBuilder.
    # Important! The functionality of this script may vary, but the file name,
    # where it reads the data and where the results are saved must be maintained
    # for the correct functioning of the tool.
    logging.info("Starting Data Quality Assesment process")
    database_path = '../../inputs/data.duckdb'
    configuration_file_path = '../../docs/CDM/cdmb_config.json'
    output_path = '../../outputs'

    try:
        with open(configuration_file_path, encoding='utf-8') as configuration_file:
            configuration_file = json.load(configuration_file)
    except FileNotFoundError as e:
        logging.error("Configuration file "" is missing!")
        exit(1)
    logging.info("Configuration file loaded\\n")
    CDMB_VERSION = configuration_file["cdmb_version"] if "cdmb_version" in configuration_file else "Non-versioned"
    ASPIRE_VERSION = os.environ.get('ASPIRE_VERSION', 'Non-versioned')
    PIPELINE_VERSION = os.environ.get('PIPELINE_VERSION', 'Non-versioned')
    logging.info("#########################################")
    logging.info(f"# CDMB version: {CDMB_VERSION}")
    logging.info(f"# ASPIRE version: {ASPIRE_VERSION}")
    logging.info(f"# PIPELINE version: {PIPELINE_VERSION}")
    logging.info("#########################################\\n")

    if 'metadata' not in configuration_file:
        logging.error(
            "\\"metadata\\" not found in your configuration file! Check specifications!")
        exit(1)
    if 'use_case' not in configuration_file['metadata']:
        logging.error(
            "\\"use_case\\" not found in your configuration file ('metadata' -> 'use_case')! Check specifications!")
        exit(1)
    if 'entities' not in configuration_file:
        logging.error("\\"entities\\" not found in your configuration file! Check specifications!")
        exit(1)

    use_case_name = str(configuration_file['metadata']['use_case']).replace(' ', '_')
    entities = configuration_file['entities']

    logging.info(f"Trying to connect to the database ...")
    con = duckdb.connect(database_path, read_only=True)
    for entity in entities:
        if 'name' not in entity:
            logging.error("properties \\"name\\" not found in entity! Check specifications!")
            exit(1)
        entity_name = entity['name']
        title = configuration_file['metadata']['use_case'] + ' - ' + entity_name + ' | Profiling Report'
        categorical_variables = [variable["label"] for variable in entity['variables'] if variable['type'] == "Categorical"]
        query = "Select * from {entity}".format(entity=entity_name)
        df_entity = con.query(query).to_df()
        df_entity[categorical_variables] = df_entity[categorical_variables].astype('category')
        logging.info(f"\\"{entity_name}\\" entity contains {len(df_entity)} records")
        if len(df_entity) > 0:
            profile = ProfileReport(df_entity, title=title, minimal=True)
            html_out = os.path.join(output_path, "dqa_{usecase}_{entity_}.html".format(
                usecase=use_case_name,
                entity_=str(entity_name).replace(' ', '_')
            ))
            json_out = os.path.join(output_path, "dqa_{usecase}_{entity_}.json".format(
                usecase=use_case_name,
                entity_=str(entity_name).replace(' ', '_')
            ))
            profile.to_file(html_out)
            profile.to_file(json_out)
    con.close()`,SK=`import json
import logging
import os
import glob
import duckdb
import subprocess
import random
import os
import time

# The functionality of this script is to test the developed scripts in different scenarios.
#
# Scenario 1: Set to null Optional Variable
# Scenario 2: Set to null recommended variables
# Scenario 3: Set 25% null values in required variables
# Scenario 4: Assign constant values to all required variables
#

def get_entities_variables_configuration():
    response = []
    entities = configuration_file['entities']
    for entity in entities:
        partial_res = {"entity_name":entity['name']}
        optional_var = [ v['label'] for v in entity['variables'] if v['requirement_level'] == "Optional"]
        recommended_var = [ v['label'] for v in entity['variables'] if v['requirement_level'] == "Recommended"]
        required_var = [ v['label'] for v in entity['variables'] if v['requirement_level'] == "Required"]
        constant_var_notstr = [ v['label'] for v in entity['variables'] if v['format'] not in ["Date","Datetime","String"]]
        constant_var_str = [ v['label'] for v in entity['variables'] if v['format'] == "String"]
        partial_res['optional'] = optional_var
        partial_res['recommended'] = recommended_var
        partial_res['required'] = required_var
        partial_res['constant_var_notstr'] = constant_var_notstr
        partial_res['constant_var_str'] = constant_var_str   
        response.append(partial_res)
    return response
    

def copy_original_data(entities):
    con = duckdb.connect(database_path, read_only=False)
    for entity in entities:
        con.execute(f"CREATE OR REPLACE TABLE {entity}_copy AS FROM {entity};")
    pass

def reset_original_data(entities):
    con = duckdb.connect(database_path, read_only=False)
    for entity in entities:
        con.execute(f"CREATE OR REPLACE TABLE {entity} AS FROM {entity}_copy;")
    pass

def remove_copy_data(entities):
    reset_original_data(entities)
    con = duckdb.connect(database_path, read_only=False)
    for entity in entities:
        con.execute(f"DROP TABLE {entity}_copy;")

def search_scripts():
    text_files = glob.glob("./**.*", recursive=False)
    text_files = [file.rsplit('/', 1)[1] for file in text_files]
    text_files = [file for file in text_files if str(file.split('.')[1]).lower() in ["py", "r", "qmd"]]
    text_files = [file for file in text_files if file != 'testing.py']
    return text_files


def run_script(script_path):
    file_name, file_extension = os.path.splitext(script_path)
    file_extension = file_extension.upper()
    if file_extension == ".R":
        process = subprocess.Popen(["Rscript", script_path],
                                   stdout=subprocess.PIPE, stderr=subprocess.STDOUT, universal_newlines=True)
        output, error = process.communicate()
        process.wait()
        output = output.replace("\\x1b[39m", "")
        output = output.replace("\\x1b[31m", "")
        output = output.replace("\\x1b[1m", "")
        output = output.replace("\\x1b[22m", "")
        if process.returncode != 0:
            logging.info("#########################################")
            logging.info(f"{script_path} script failed\\n")
            logging.info(f"Error log:\\n")
            logging.info("-----------------------------------------")
            logging.error(f"{output}\\n")
            logging.info("#########################################\\n")
        else:
            logging.info("#########################################")
            logging.info(f"{script_path} was executed correctly\\n")
            logging.info("#########################################\\n")
            
    elif file_extension == ".PY":
        process = subprocess.Popen(["python3", script_path],
                                   stdout=subprocess.PIPE, stderr=subprocess.STDOUT, universal_newlines=True)
        output, error = process.communicate()
        process.wait()
        output = output.replace("\\x1b[39m", "")
        output = output.replace("\\x1b[31m", "")
        output = output.replace("\\x1b[1m", "")
        output = output.replace("\\x1b[22m", "")
        if process.returncode != 0:
            logging.info("#########################################")
            logging.info(f"{script_path} script failed\\n")
            logging.info(f"Error log:\\n")
            logging.info("-----------------------------------------")
            logging.error(f"{output}\\n")
            logging.info("#########################################\\n")
        else:
            logging.info("#########################################")
            logging.info(f"{script_path} was executed correctly\\n")
            logging.info("#########################################\\n")
       
    elif file_extension == ".QMD":
        process = subprocess.Popen(["quarto", "render", script_path, "--output-dir", "../../outputs"],
                                   stdout=subprocess.PIPE, stderr=subprocess.STDOUT, universal_newlines=True)
        output, error = process.communicate()
        process.wait()
        # remove colors
        output = output.replace("\\x1b[39m", "")
        output = output.replace("\\x1b[31m", "")
        output = output.replace("\\x1b[1m", "")
        output = output.replace("\\x1b[22m", "")
        if process.returncode != 0:
            logging.info("#########################################")
            logging.info(f"{script_path} script failed\\n")
            logging.info(f"Error log:\\n")
            logging.info("-----------------------------------------")
            logging.error(f"{output}\\n")
            logging.info("#########################################\\n")
        else:
            logging.info("#########################################")
            logging.info(f"{script_path} was executed correctly\\n")
            logging.info("#########################################\\n")
    else:
        raise Exception(status_code=400, detail="Script with invalid extension. Only .py, .R , .qmd (Python or R) are supported.")
    
    

def execute_scenario1(entities,script_path):
    # Set to null Optional Variable
    logging.info("#########################################")
    logging.info(f"# Scenario 1")
    logging.info(f"# Set to null Optional Variable")
    logging.info("#########################################\\n")
    can_run = False
    con = duckdb.connect(database_path, read_only=False)
    for e in entities:
        if len(e['optional']) > 0:
            query = f"UPDATE {e['entity_name']} SET " + " = NULL, ".join(e['optional']) + " = NULL;" 
            con.execute(query)
            can_run = True
    con.close()
    if can_run:
        run_script(script_path)
    else:
        logging.info("#########################################")
        logging.info(f"# The Common Data Model has no optional variables.")
        logging.info("#########################################\\n") 
    


def execute_scenario2(entities,script_path):
    # Set to null recommended variables
    logging.info("#########################################")
    logging.info(f"# Scenario 2")
    logging.info(f"# Set to null recommended variables")
    logging.info("#########################################\\n")
    can_run = False
    con = duckdb.connect(database_path, read_only=False)
    for e in entities:
        if len(e['recommended']) > 0:
            query = f"UPDATE {e['entity_name']} SET " + " = NULL, ".join(e['recommended']) + " = NULL;" 
            con.execute(query)
            can_run = True
    con.close()
    if can_run:
        run_script(script_path)
    else:
        logging.info("#########################################")
        logging.info(f"# The Common Data Model has no recommended variables.")
        logging.info("#########################################\\n") 

def execute_scenario3(entities,script_path):
    # set 25% null values in required variables
    logging.info("#########################################")
    logging.info(f"# Scenario 3")
    logging.info(f"# Set 25% null values in required variables")
    logging.info("#########################################\\n")
    can_run = False
    con = duckdb.connect(database_path, read_only=False)
    for e in entities:
        if len(e['required']) > 0:
            # Get count 
            n_registries = con.execute(f"SELECT COUNT(*) FROM {e['entity_name']}").fetchone()[0]
            n_registries_25 = int(n_registries * 0.25)
            if n_registries > 25:
                for c in e['required']:
                    indexes = random.sample(range(0, n_registries), n_registries_25)
                    indexes = [str(i) for i in indexes]
                    query = f"UPDATE {e['entity_name']} SET {c} = NULL where rowid in (" + ",".join(indexes) + ");" 
                    con.execute(query)
                    can_run = True
    con.close()
    if can_run:
        run_script(script_path)
    else:
        logging.info("#########################################")
        logging.info(f"# The Common Data Model has no required variables.")
        logging.info("#########################################\\n") 

def execute_scenario4(entities,script_path):
    # Assign constant values to all required variables
    logging.info("#########################################")
    logging.info(f"# Scenario 4")
    logging.info(f"# Assign constant values to all required variables")
    logging.info("#########################################\\n")
    can_run = False
    con = duckdb.connect(database_path, read_only=False)
    logging.info(f"{entities}")
    for e in entities:
        n_registries = con.execute(f"SELECT COUNT(*) FROM {e['entity_name']}").fetchone()[0]
        if n_registries > 0:
            if len(e['constant_var_notstr']) > 0:
                for variable in e['constant_var_notstr']:
                    value = con.execute(f"select {variable} from {e['entity_name']} where {variable} is not null using sample 1").fetchone()
                    if value is not None :
                        value = value[0]
                        query = f"UPDATE {e['entity_name']} SET {variable} = {value};" 
                        con.execute(query)
                        can_run = True
            if len(e['constant_var_str']) > 0:
                for variable in e['constant_var_str']:
                    value = con.execute(f"select {variable} from {e['entity_name']} where {variable} is not null using sample 1").fetchone()
                    if value is not None :
                        value = value[0]
                        query = f"UPDATE {e['entity_name']} SET {variable} = '{value}';" 
                        con.execute(query)
                        can_run = True        
    con.close()
    if can_run:
        run_script(script_path)
    else:
        logging.info("#########################################")
        logging.info(f"# Something went wrong trying to run scenario 4.")
        logging.info("#########################################\\n") 
def clean_outputs(time_): 
    output_path = '../../outputs'
    for file_ in os.listdir(output_path):
        file_ = os.path.join(output_path, file_)
        if os.path.isfile(file_):
            modificado = os.path.getmtime(file_)
            if modificado > time_:
                os.remove(file_)

if __name__ == '__main__':
    # Do not modify if you use the deployment container!
    os.chdir(os.path.dirname(__file__))
    
    logging.basicConfig(format='%(asctime)s::%(levelname)s:: %(message)s', level=logging.INFO)
    database_path = '../../inputs/data.duckdb'
    configuration_file_path = '../../docs/CDM/cdmb_config.json'
    output_path = '../../outputs'
    
    try:
        with open(configuration_file_path, encoding='utf-8') as configuration_file:
            configuration_file = json.load(configuration_file)
    except FileNotFoundError as e:
        logging.error("Configuration file "" is missing!")
        exit(1)
        
    logging.info("Configuration file loaded\\n")
    CDMB_VERSION = configuration_file["cdmb_version"] if "cdmb_version" in configuration_file else "Non-versioned"
    ASPIRE_VERSION = os.environ.get('ASPIRE_VERSION', 'Non-versioned')
    PIPELINE_VERSION = os.environ.get('PIPELINE_VERSION', 'Non-versioned')
    
    logging.info("#########################################")
    logging.info(f"# CDMB version: {CDMB_VERSION}")
    logging.info(f"# ASPIRE version: {ASPIRE_VERSION}")
    logging.info(f"# PIPELINE version: {PIPELINE_VERSION}")
    logging.info("#########################################\\n")
    
    if 'metadata' not in configuration_file:
        logging.error(
            "\\"metadata\\" not found in your configuration file! Check specifications!")
        exit(1)
    if 'use_case' not in configuration_file['metadata']:
        logging.error(
            "\\"use_case\\" not found in your configuration file ('metadata' -> 'use_case')! Check specifications!")
        exit(1)
    if 'entities' not in configuration_file:
        logging.error("\\"entities\\" not found in your configuration file! Check specifications!")
        exit(1)

    
    config = get_entities_variables_configuration()
    logging.info("Common Data Model Info") 
    logging.info(json.dumps(config, indent=4, sort_keys=True))
    logging.info("#########################################")
    entities = [e['entity_name'] for e in config]
    scripts = search_scripts()
    time_ = time.time()
    copy_original_data(entities) 
    for script in scripts:
        logging.info("#########################################")
        logging.info(f"# Running script: {script}")
        logging.info("#########################################\\n")
        logging.info("#########################################")    
        execute_scenario1(config,script)
        reset_original_data(entities)
        execute_scenario2(config,script)
        reset_original_data(entities)
        execute_scenario3(config,script)
        reset_original_data(entities)
        execute_scenario4(config,script)
        reset_original_data(entities)
        
    logging.info("#########################################")
    logging.info(f"# All test scenarios have been executed.")
    logging.info(f"# Restoring original values")
    remove_copy_data(entities)
    logging.info(f"# Deleting files from the outptus folder ")
    clean_outputs(time_)
    logging.info("#########################################\\n")       


`,xK=`import json
import logging
import os

import duckdb  # duckdb-0.8.1
import pandas as pd
import chardet
import re

def infer_separator(file_, uploaded_file_):
    firstline = file_.readline().rstrip()
    logging.info(f"Header for the file '{uploaded_file_}':\\n\\n{firstline} \\n")
    separators = re.sub('"*[?a-zA-Z-0-9_-]*"*', '', firstline)
    if len(separators) > 0:
        return separators[0], firstline
    else:
        # Return random separator, exception will be thrown on header reading
        return '|', firstline


def infer_encoding(uploaded_file_):
    logging.info(f"Trying to detect the encoding of the file '{uploaded_file_}'")
    detector = chardet.UniversalDetector()
    with open(uploaded_file_, "rb") as f:
        for line in f.readlines():
            detector.feed(line)
            if detector.done: break
        detector.close()
    encoding = detector.result['encoding']
    confidence = detector.result['confidence']
    if confidence < 0.95:
        logging.warning(f"Confidence value is too low, 'utf-8' encoding will be applied.")
        return 'utf-8'
    else:
        logging.info(f"The file '{uploaded_file_}' follows an encoding format '{encoding}' at {confidence} confidence.")
        return encoding


if __name__ == '__main__':
    # Do not modify if you use the deployment container!
    os.chdir(os.path.dirname(__file__))
    logging.basicConfig(format='%(levelname)s:: %(message)s', level=logging.INFO)
    # Relative paths to the work structure provided from CDMBuilder.
    # Important! The functionality of this script may vary, but the file name,
    # where it reads the data and where the results are saved must be maintained
    # for the correct functioning of the tool.
    database_path = '../../inputs/data.duckdb'
    configuration_file_path = '../../docs/CDM/cdmb_config.json'
    output_path = '../../outputs'

    logging.info("Starting Checking data compliance with validation rules process")
    # Opening JSON file
    try:
        with open(configuration_file_path, encoding='utf-8') as configuration_file:
            configuration_file = json.load(configuration_file)
    except FileNotFoundError as e:
        logging.error("Configuration file "" is missing!")
        exit(1)
    logging.info("Configuration file loaded\\n")
    CDMB_VERSION = configuration_file["cdmb_version"] if "cdmb_version" in configuration_file else "Non-versioned"
    ASPIRE_VERSION = os.environ.get('ASPIRE_VERSION', 'Non-versioned')
    PIPELINE_VERSION = os.environ.get('PIPELINE_VERSION', 'Non-versioned')
    logging.info("#########################################")
    logging.info(f"# CDMB version: {CDMB_VERSION}")
    logging.info(f"# ASPIRE version: {ASPIRE_VERSION}")
    logging.info(f"# PIPELINE version: {PIPELINE_VERSION}")
    logging.info("#########################################\\n")

    if 'metadata' not in configuration_file:
        logging.error(
            "\\"metadata\\" not found in your configuration file! Check specifications!")
        exit(1)
    if 'use_case' not in configuration_file['metadata']:
        logging.error(
            "\\"use_case\\" not found in your configuration file ('metadata' -> 'use_case')! Check specifications!")
        exit(1)
    if 'entities' not in configuration_file:
        logging.error("\\"entities\\" not found in your configuration file! Check specifications!")
        exit(1)

    use_case_name = str(configuration_file['metadata']['use_case']).replace(' ', '_')

    entities = configuration_file['entities']

    logging.info(f"Trying to connect to the database ...")
    con = duckdb.connect(database_path, read_only=False)
    # total_registries
    response = []
    for entity in entities:
        if 'name' not in entity:
            logging.error("properties \\"name\\" not found in entity! Check specifications!")
            exit(1)
        # Create a list with the line number occupied by each record
        # to inform in which position the errors are found.
        view_name = f"{entity['name']}_view"

        entity_name = entity['name']
        logging.info(
            f"Checking the conformity of the data with the validation rules for the \\"{entity_name}\\" entity.")
        view_query = f"CREATE OR REPLACE VIEW  {view_name} AS SELECT * FROM (SELECT ROW_NUMBER () OVER () as line_number, * FROM {entity_name})"
        con.execute(view_query)
        result_entity = {}
        result_na = []
        result_rules = []
        result_catalogs = []
        # Count total registries
        logging.info(
            f"Counting total registries for the \\"{entity_name}\\" entity.")
        count_query = f"Select COUNT(*) as total_registries from {entity_name};"
        result = con.query(count_query).to_df()
        result_entity['entity'] = entity_name
        result_entity['total_registries'] = int(result['total_registries'][0])
        # Count NA values
        if 'variables' not in entity:
            logging.error("properties \\"variables\\" not found in entity! Check specifications!")
            exit(1)
        logging.info(
            f"Counting NA values for the \\"{entity_name}\\"'s variables.")
        for variable in entity['variables']:
            if 'label' not in variable:
                logging.error(
                    f"There are variables without the \\"label\\" property in the \\"{entity_name}\\" entity.")
                exit(1)
            na_query = f"Select COUNT(*) as na_count from {entity_name} where {variable['label']} is NULL;"
            result = con.query(na_query).to_df()
            result_na.append({
                "label": variable['label'],
                "na_count": int(result['na_count'][0])
            })

            if 'catalog_bl' not in variable:
                logging.warning(
                    f"\\"catalog_bl\\" property is not defined for variable")

            if 'catalog_bl' in variable and variable['catalog_bl'] is True and str(
                    variable['format']).lower() != "boolean":
                logging.info(
                    f"Checking variables that are defined based on a catalog.")
                if variable['catalog'] is None or 'column_name' not in variable['catalog'] or 'filename' not in \\
                        variable['catalog']:
                    logging.error(
                        f"\\"catalog\\" for your variable \\"{entity_name}\\" is not well defined in your configuration file! Check the specifications!")
                    exit(1)
                column_name = variable['catalog']["column_name"]
                filename = variable['catalog']["filename"]

                catalog_path = os.path.join('../../docs/CDM/entities', entity_name, 'catalogs', filename)
                try:
                    encoding = infer_encoding(catalog_path)
                    with open(catalog_path, mode='rt', encoding=encoding) as file:
                        separator, header = infer_separator(file, filename)
                        catalog_table = pd.read_csv(catalog_path, sep=separator, encoding=encoding)
                except Exception as e:
                    logging.error(
                        f"An attempt was made to read catalog \\"{filename}\\" but it failed. does the file exist in "
                        f"the catalogs folder inside the entity folder structure ?")
                    logging.error(str(e))
                    exit(1)

                catalog_query = f"select CAST(line_number AS VARCHAR) as wrong_lines, CAST({view_name}.{variable['label']} AS VARCHAR) as {variable['label']} from {view_name} " \\
                                f"left join catalog_table " \\
                                f"on {view_name}.{variable['label']} = catalog_table.{column_name} " \\
                                f"where catalog_table.{column_name} is NULL and {view_name}.{variable['label']} is not NULL"
                catalog_result = con.query(catalog_query).to_df()
                logging.warning(
                    f"{len(list(catalog_result[variable['label']].unique()))} different erroneous values were found in the data according to the catalog.")
                wrong_lines = list(catalog_result['wrong_lines'].values[:10]) + list(
                    [f"+{len(catalog_result['wrong_lines'].values) - 10} lines"])
                wrong_values = list(catalog_result[variable['label']].unique()[:10]) + list(
                    [f"+{len(catalog_result[variable['label']].unique()) - 10} values"])
                if len(catalog_result['wrong_lines'].values) <= 10:
                    wrong_lines = list(catalog_result['wrong_lines'].values[:10])
                if len(catalog_result[variable['label']].unique()) <= 10:
                    wrong_values = list(catalog_result[variable['label']].unique()[:10])
                result_catalogs.append({
                    "variable": variable['label'],
                    "wrong_values": wrong_values,
                    "wrong_lines": wrong_lines,
                    "total_wrong_lines": len(catalog_result['wrong_lines'].values)
                })

        result_entity['na_count_list'] = result_na
        result_entity['catalog_checking'] = result_catalogs

        logging.info(f"Starting validation rules checking")
        if 'rules' in entity:
            # Check rules
            rules = entity['rules']
        else:
            logging.warning(
                f"\\"rules\\" for your entity \\"{entity_name}\\" is not well defined in your configuration file! Check the specifications!")
            rules = []

        for rule in rules:
            logging.info(f"Checking rule - \\" {rule['expression']} \\"")
            rule_query = f"Select COUNT(*) as passed_rule from {entity_name} where {rule['expression']} ;"
            try:
                result = con.query(rule_query).to_df()
                # Select the lines that do not comply with the rule
                wrong_lines_query = f"select CAST(original_data.line_number as VARCHAR) as wrong_lines " \\
                                    f"from (select line_number from {view_name}) original_data " \\
                                    f"left join (select line_number from {view_name}  " \\
                                    f"where {rule['expression']}) rule_query " \\
                                    f"on original_data.line_number == rule_query.line_number " \\
                                    f"where rule_query.line_number is NULL "
                wrong_result = con.query(wrong_lines_query).to_df()
                logging.info(f"{int(result['passed_rule'][0])} entries passed the rule.")
                wrong_lines = list(wrong_result['wrong_lines'].values[:10]) + list(
                    [f"+{len(wrong_result['wrong_lines'].values) - 10} lines"])
                if len(wrong_result['wrong_lines'].values) <= 10:
                    wrong_lines = list(wrong_result['wrong_lines'].values[:10])
                result_rules.append({
                    "expression": rule['expression'],
                    "passed_rule": int(result['passed_rule'][0]),
                    "wrong_lines": wrong_lines,
                    "total_wrong_lines": len(wrong_result['wrong_lines'].values)
                })

            except Exception as e:
                logging.warning(f"rule - \\" {rule['expression']} \\" fails!")
                logging.error(str(e))
                result_rules.append({
                    "expression": rule['expression'],
                    "passed_rule": 0,
                    "wrong_lines": f"{result_entity['total_registries']} lines",
                    "total_wrong_lines": result_entity['total_registries']
                })
                pass

        result_entity['rules'] = result_rules
        response.append(result_entity)
        con.execute(f"DROP VIEW IF EXISTS {view_name};")
    try:
        with open(os.path.join(output_path, 'validator_output.json'), 'w') as f:
            json_object = json.dumps({'info': response}, indent=4)
            f.write(json_object)
            logging.info(f"validator_output.json created.")
    except Exception as e:
        logging.error(f"Something went wrong trying to write \\"validator_output\\" files")
        logging.error(str(e))

    con.close()
`,ny=`project:
  output-dir: "../../outputs"
 
`,kK=`---
title: "Report template"
author: "CDM BUILDER"
format: 
  html:
    self-contained: true
    grid:
      body-width: 1250px
      margin-width: 400px
      gutter-width: 1.5rem
code-fold: false
echo: false
message: false
warning: false
error: false
always_allow_html: yes
params:
    path_json: '../../docs/CDM/cdmb_config.json' 
    path_database: '../../inputs/data.duckdb'  
    
---


\`\`\`{r}
# All entities declared in the Common Data Model are persisted in the database 
# which is located, according to the defined folder structure, in '../../inputs/data.duckdb'.
# 
# The name of each of the tables is exactly the same as the name set at the time of defining each entity. 
# And the name of the columns of the table corresponds to the label of each one 
# of the variables for the specific entity.
# 
# You can access the data in the database by using SQL query or R API 
# (https://duckdb.org/docs/api/r).
# 
# When implementing your scripts please take into account the relative paths to 
# the inputs and outputs to maintain the folder structure.
# 
# You can develop Quarto documents in other languages such as Python. 
# - https://quarto.org/docs/computations/python.html
# - https://duckdb.org/docs/api/python/overview
# 
# Or simply develop .R or .py scripts. 

\`\`\`



\`\`\`{r}
#| label: load json

library(jsonlite)

file_json <- jsonlite::fromJSON(params$path_json)

entity_name <- file_json$entities$name

\`\`\`


\`\`\`{r,results='asis',message=FALSE}
#| label: connect to database
library(duckdb)
library(Hmisc)
library(kableExtra)
library(logger)

cat("::: {.panel-tabset} \\n")
for (i in 1:length(entity_name)){
  
  cat("\\n")
  cat("##", entity_name[i], "\\n")
  cat("### Entity:", entity_name[i], "\\n")

tryCatch(
  {
    con = dbConnect(duckdb::duckdb(), dbdir=params$path_database, read_only=FALSE)
    logger::log_info("Connect to database")
    df <- dbGetQuery(con, paste0(
    "SELECT * FROM ",entity_name[i]," LIMIT 10"))
  cat(as.data.frame(df) %>%
  kbl(., "html", escape = FALSE) %>%  kable_styling(bootstrap_options = c("striped", "hover", "responsive"), full_width = FALSE) %>% scroll_box(width = "100%"))
  },
  error=function(cond){
   logger::log_error("Here's error message:")
    logger::log_error(cond)
    # Choose a return value in case of error
    return(NA)
        },
  warning=function(cond){
    logger::log_warn("Here's warning message:")
    logger::log_warn(cond)
    # Choose a return value in case of warning
    return(NULL)
  },
  finally={
    dbDisconnect(con, shutdown=TRUE)
    logger::log_info("Disconnect to database")
  })
 cat("\\n \\n")
}
  cat(":::")

\`\`\`


This template has been created by the research group: Data Science for Health Services and Policy Research. You can find us on GitHub by clicking on the following link: [Ciencia de datos y salud](https://github.com/cienciadedatosysalud).
`,EK=`---
title: "Validation report"
format: 
  html:
    self-contained: true
    grid:
      body-width: 950px
      margin-width: 300px
      gutter-width: 1.5rem
code-fold: false
echo: false
message: false
warning: false
error: false
always_allow_html: yes

params:
    output_path: "../../outputs/validator_output.json"

---



\`\`\`{r}
library(jsonlite)
library(purrr)
library(kableExtra)
library(dplyr)


data <- jsonlite::fromJSON(params$output_path)
data <- as.data.frame(data$info)

entities_name =  data$entity
entities_total_registries =  data$total_registries

na_count_df <- data$na_count_list %>%
  map(\`[\`) %>%
  map(function(.) {
    as.data.frame(.)
    })

catalog_checking_df <- data$catalog_checking %>%
  map(\`[\`) %>%
  map(function(.) {
    as.data.frame(.)
    })

rules_df <- data$rules %>%
  map(\`[\`) %>%
  map(function(.) {
    as.data.frame(.)
    })


\`\`\`


<h3> This report provides information on the validation processes of each of the entities that make up the project. </h3> 
<h3> Each of the tabs contains information on one entity which is summarized in three processes: </h3>
<ul>
  <li><strong>Null value counting</strong>:  Finds for each variable that makes up the entity, how many null values it presents.</li>
  <li><strong>Validation against catalogs</strong>: Discovery of values that do not comply with the provided catalogs that are part of the definition of a variable.</li>
  <li><strong>Validation of rules</strong>: Discovery of records that do not comply with the rules established at the entity level.</li>
</ul>
<br>
<h3> Entities </h3>



\`\`\`{r,results='asis',message=FALSE,warning=FALSE, error=FALSE}

cat("::: {.panel-tabset} \\n")
for (i in 1:length(entities_name)) {
  
  cat("\\n")
  cat("##", entities_name[i], "\\n")
  cat("### Entity:", entities_name[i], "\\n")
  cat("### Total registries:", entities_total_registries[i], "\\n")
  
  cat("### Null value counting \\n")

  df1 <- as.data.frame(na_count_df[i])
  if(nrow(df1) > 0){
  df1$na_count <- cell_spec(df1$na_count, background = ifelse(df1$na_count > 0, "orange", ""))
  cat(df1 %>% 
  kbl(., "html", escape = F, col.names = c("Variable label", "Count of null values")) %>%  kable_styling(bootstrap_options = c("striped", "hover", "responsive"), full_width = T))
  }
  cat("\\n <hr/>")
  cat("### Validation against catalogs \\n")
  df2 <- as.data.frame(catalog_checking_df[i])
  if(nrow(df2) > 0){
  df2$total_wrong_lines <- cell_spec(df2$total_wrong_lines, background = ifelse(df2$total_wrong_lines > (0.2*entities_total_registries[i]), "orange", ""))
  
  cat(df2 %>%
  kbl(., "html", escape = F, col.names = c("Variable label", "Wrong values","Fails (line number)","Number of lines")) %>%  kable_styling(bootstrap_options = c("striped", "hover", "responsive"), full_width = T))
  }
  
  cat("\\n <hr/>")
  cat("### Validation of rules\\n")
  df3 <- as.data.frame(rules_df[i])
  if(nrow(df3) > 0){
  df3$total_wrong_lines <- cell_spec(df3$total_wrong_lines, background = ifelse(df3$total_wrong_lines > (0.2*entities_total_registries[i]), "orange", ""))
   cat(df3 %>%
  kbl(., "html", escape = F, col.names = c("Rule", "Passes","Fails (line number)","Number of lines")) %>%  kable_styling(bootstrap_options = c("striped", "hover", "responsive"), full_width = T))
  
  }
  cat("\\n \\n")
}
  cat(":::")

\`\`\``,RK=`docs/CDM/hashed_files_list.json
inputs/*
!inputs/readme.txt
outputs/*
!outputs/logs/readme.txt
!outputs/readme.txt
src/check_load-scripts/inputs/*
src/analysis-scripts/testing.py
!src/check_load-scripts/inputs/readme.txt
.Rproj.user
*.Rproj
*.Rhistory`,_K=`Attribution 4.0 International

=======================================================================

Creative Commons Corporation ("Creative Commons") is not a law firm and
does not provide legal services or legal advice. Distribution of
Creative Commons public licenses does not create a lawyer-client or
other relationship. Creative Commons makes its licenses and related
information available on an "as-is" basis. Creative Commons gives no
warranties regarding its licenses, any material licensed under their
terms and conditions, or any related information. Creative Commons
disclaims all liability for damages resulting from their use to the
fullest extent possible.

Using Creative Commons Public Licenses

Creative Commons public licenses provide a standard set of terms and
conditions that creators and other rights holders may use to share
original works of authorship and other material subject to copyright
and certain other rights specified in the public license below. The
following considerations are for informational purposes only, are not
exhaustive, and do not form part of our licenses.

     Considerations for licensors: Our public licenses are
     intended for use by those authorized to give the public
     permission to use material in ways otherwise restricted by
     copyright and certain other rights. Our licenses are
     irrevocable. Licensors should read and understand the terms
     and conditions of the license they choose before applying it.
     Licensors should also secure all rights necessary before
     applying our licenses so that the public can reuse the
     material as expected. Licensors should clearly mark any
     material not subject to the license. This includes other CC-
     licensed material, or material used under an exception or
     limitation to copyright. More considerations for licensors:
    wiki.creativecommons.org/Considerations_for_licensors

     Considerations for the public: By using one of our public
     licenses, a licensor grants the public permission to use the
     licensed material under specified terms and conditions. If
     the licensor's permission is not necessary for any reason--for
     example, because of any applicable exception or limitation to
     copyright--then that use is not regulated by the license. Our
     licenses grant only permissions under copyright and certain
     other rights that a licensor has authority to grant. Use of
     the licensed material may still be restricted for other
     reasons, including because others have copyright or other
     rights in the material. A licensor may make special requests,
     such as asking that all changes be marked or described.
     Although not required by our licenses, you are encouraged to
     respect those requests where reasonable. More considerations
     for the public:
    wiki.creativecommons.org/Considerations_for_licensees

=======================================================================

Creative Commons Attribution 4.0 International Public License

By exercising the Licensed Rights (defined below), You accept and agree
to be bound by the terms and conditions of this Creative Commons
Attribution 4.0 International Public License ("Public License"). To the
extent this Public License may be interpreted as a contract, You are
granted the Licensed Rights in consideration of Your acceptance of
these terms and conditions, and the Licensor grants You such rights in
consideration of benefits the Licensor receives from making the
Licensed Material available under these terms and conditions.


Section 1 -- Definitions.

  a. Adapted Material means material subject to Copyright and Similar
     Rights that is derived from or based upon the Licensed Material
     and in which the Licensed Material is translated, altered,
     arranged, transformed, or otherwise modified in a manner requiring
     permission under the Copyright and Similar Rights held by the
     Licensor. For purposes of this Public License, where the Licensed
     Material is a musical work, performance, or sound recording,
     Adapted Material is always produced where the Licensed Material is
     synched in timed relation with a moving image.

  b. Adapter's License means the license You apply to Your Copyright
     and Similar Rights in Your contributions to Adapted Material in
     accordance with the terms and conditions of this Public License.

  c. Copyright and Similar Rights means copyright and/or similar rights
     closely related to copyright including, without limitation,
     performance, broadcast, sound recording, and Sui Generis Database
     Rights, without regard to how the rights are labeled or
     categorized. For purposes of this Public License, the rights
     specified in Section 2(b)(1)-(2) are not Copyright and Similar
     Rights.

  d. Effective Technological Measures means those measures that, in the
     absence of proper authority, may not be circumvented under laws
     fulfilling obligations under Article 11 of the WIPO Copyright
     Treaty adopted on December 20, 1996, and/or similar international
     agreements.

  e. Exceptions and Limitations means fair use, fair dealing, and/or
     any other exception or limitation to Copyright and Similar Rights
     that applies to Your use of the Licensed Material.

  f. Licensed Material means the artistic or literary work, database,
     or other material to which the Licensor applied this Public
     License.

  g. Licensed Rights means the rights granted to You subject to the
     terms and conditions of this Public License, which are limited to
     all Copyright and Similar Rights that apply to Your use of the
     Licensed Material and that the Licensor has authority to license.

  h. Licensor means the individual(s) or entity(ies) granting rights
     under this Public License.

  i. Share means to provide material to the public by any means or
     process that requires permission under the Licensed Rights, such
     as reproduction, public display, public performance, distribution,
     dissemination, communication, or importation, and to make material
     available to the public including in ways that members of the
     public may access the material from a place and at a time
     individually chosen by them.

  j. Sui Generis Database Rights means rights other than copyright
     resulting from Directive 96/9/EC of the European Parliament and of
     the Council of 11 March 1996 on the legal protection of databases,
     as amended and/or succeeded, as well as other essentially
     equivalent rights anywhere in the world.

  k. You means the individual or entity exercising the Licensed Rights
     under this Public License. Your has a corresponding meaning.


Section 2 -- Scope.

  a. License grant.

       1. Subject to the terms and conditions of this Public License,
          the Licensor hereby grants You a worldwide, royalty-free,
          non-sublicensable, non-exclusive, irrevocable license to
          exercise the Licensed Rights in the Licensed Material to:

            a. reproduce and Share the Licensed Material, in whole or
               in part; and

            b. produce, reproduce, and Share Adapted Material.

       2. Exceptions and Limitations. For the avoidance of doubt, where
          Exceptions and Limitations apply to Your use, this Public
          License does not apply, and You do not need to comply with
          its terms and conditions.

       3. Term. The term of this Public License is specified in Section
          6(a).

       4. Media and formats; technical modifications allowed. The
          Licensor authorizes You to exercise the Licensed Rights in
          all media and formats whether now known or hereafter created,
          and to make technical modifications necessary to do so. The
          Licensor waives and/or agrees not to assert any right or
          authority to forbid You from making technical modifications
          necessary to exercise the Licensed Rights, including
          technical modifications necessary to circumvent Effective
          Technological Measures. For purposes of this Public License,
          simply making modifications authorized by this Section 2(a)
          (4) never produces Adapted Material.

       5. Downstream recipients.

            a. Offer from the Licensor -- Licensed Material. Every
               recipient of the Licensed Material automatically
               receives an offer from the Licensor to exercise the
               Licensed Rights under the terms and conditions of this
               Public License.

            b. No downstream restrictions. You may not offer or impose
               any additional or different terms or conditions on, or
               apply any Effective Technological Measures to, the
               Licensed Material if doing so restricts exercise of the
               Licensed Rights by any recipient of the Licensed
               Material.

       6. No endorsement. Nothing in this Public License constitutes or
          may be construed as permission to assert or imply that You
          are, or that Your use of the Licensed Material is, connected
          with, or sponsored, endorsed, or granted official status by,
          the Licensor or others designated to receive attribution as
          provided in Section 3(a)(1)(A)(i).

  b. Other rights.

       1. Moral rights, such as the right of integrity, are not
          licensed under this Public License, nor are publicity,
          privacy, and/or other similar personality rights; however, to
          the extent possible, the Licensor waives and/or agrees not to
          assert any such rights held by the Licensor to the limited
          extent necessary to allow You to exercise the Licensed
          Rights, but not otherwise.

       2. Patent and trademark rights are not licensed under this
          Public License.

       3. To the extent possible, the Licensor waives any right to
          collect royalties from You for the exercise of the Licensed
          Rights, whether directly or through a collecting society
          under any voluntary or waivable statutory or compulsory
          licensing scheme. In all other cases the Licensor expressly
          reserves any right to collect such royalties.


Section 3 -- License Conditions.

Your exercise of the Licensed Rights is expressly made subject to the
following conditions.

  a. Attribution.

       1. If You Share the Licensed Material (including in modified
          form), You must:

            a. retain the following if it is supplied by the Licensor
               with the Licensed Material:

                 i. identification of the creator(s) of the Licensed
                    Material and any others designated to receive
                    attribution, in any reasonable manner requested by
                    the Licensor (including by pseudonym if
                    designated);

                ii. a copyright notice;

               iii. a notice that refers to this Public License;

                iv. a notice that refers to the disclaimer of
                    warranties;

                 v. a URI or hyperlink to the Licensed Material to the
                    extent reasonably practicable;

            b. indicate if You modified the Licensed Material and
               retain an indication of any previous modifications; and

            c. indicate the Licensed Material is licensed under this
               Public License, and include the text of, or the URI or
               hyperlink to, this Public License.

       2. You may satisfy the conditions in Section 3(a)(1) in any
          reasonable manner based on the medium, means, and context in
          which You Share the Licensed Material. For example, it may be
          reasonable to satisfy the conditions by providing a URI or
          hyperlink to a resource that includes the required
          information.

       3. If requested by the Licensor, You must remove any of the
          information required by Section 3(a)(1)(A) to the extent
          reasonably practicable.

       4. If You Share Adapted Material You produce, the Adapter's
          License You apply must not prevent recipients of the Adapted
          Material from complying with this Public License.


Section 4 -- Sui Generis Database Rights.

Where the Licensed Rights include Sui Generis Database Rights that
apply to Your use of the Licensed Material:

  a. for the avoidance of doubt, Section 2(a)(1) grants You the right
     to extract, reuse, reproduce, and Share all or a substantial
     portion of the contents of the database;

  b. if You include all or a substantial portion of the database
     contents in a database in which You have Sui Generis Database
     Rights, then the database in which You have Sui Generis Database
     Rights (but not its individual contents) is Adapted Material; and

  c. You must comply with the conditions in Section 3(a) if You Share
     all or a substantial portion of the contents of the database.

For the avoidance of doubt, this Section 4 supplements and does not
replace Your obligations under this Public License where the Licensed
Rights include other Copyright and Similar Rights.


Section 5 -- Disclaimer of Warranties and Limitation of Liability.

  a. UNLESS OTHERWISE SEPARATELY UNDERTAKEN BY THE LICENSOR, TO THE
     EXTENT POSSIBLE, THE LICENSOR OFFERS THE LICENSED MATERIAL AS-IS
     AND AS-AVAILABLE, AND MAKES NO REPRESENTATIONS OR WARRANTIES OF
     ANY KIND CONCERNING THE LICENSED MATERIAL, WHETHER EXPRESS,
     IMPLIED, STATUTORY, OR OTHER. THIS INCLUDES, WITHOUT LIMITATION,
     WARRANTIES OF TITLE, MERCHANTABILITY, FITNESS FOR A PARTICULAR
     PURPOSE, NON-INFRINGEMENT, ABSENCE OF LATENT OR OTHER DEFECTS,
     ACCURACY, OR THE PRESENCE OR ABSENCE OF ERRORS, WHETHER OR NOT
     KNOWN OR DISCOVERABLE. WHERE DISCLAIMERS OF WARRANTIES ARE NOT
     ALLOWED IN FULL OR IN PART, THIS DISCLAIMER MAY NOT APPLY TO YOU.

  b. TO THE EXTENT POSSIBLE, IN NO EVENT WILL THE LICENSOR BE LIABLE
     TO YOU ON ANY LEGAL THEORY (INCLUDING, WITHOUT LIMITATION,
     NEGLIGENCE) OR OTHERWISE FOR ANY DIRECT, SPECIAL, INDIRECT,
     INCIDENTAL, CONSEQUENTIAL, PUNITIVE, EXEMPLARY, OR OTHER LOSSES,
     COSTS, EXPENSES, OR DAMAGES ARISING OUT OF THIS PUBLIC LICENSE OR
     USE OF THE LICENSED MATERIAL, EVEN IF THE LICENSOR HAS BEEN
     ADVISED OF THE POSSIBILITY OF SUCH LOSSES, COSTS, EXPENSES, OR
     DAMAGES. WHERE A LIMITATION OF LIABILITY IS NOT ALLOWED IN FULL OR
     IN PART, THIS LIMITATION MAY NOT APPLY TO YOU.

  c. The disclaimer of warranties and limitation of liability provided
     above shall be interpreted in a manner that, to the extent
     possible, most closely approximates an absolute disclaimer and
     waiver of all liability.


Section 6 -- Term and Termination.

  a. This Public License applies for the term of the Copyright and
     Similar Rights licensed here. However, if You fail to comply with
     this Public License, then Your rights under this Public License
     terminate automatically.

  b. Where Your right to use the Licensed Material has terminated under
     Section 6(a), it reinstates:

       1. automatically as of the date the violation is cured, provided
          it is cured within 30 days of Your discovery of the
          violation; or

       2. upon express reinstatement by the Licensor.

     For the avoidance of doubt, this Section 6(b) does not affect any
     right the Licensor may have to seek remedies for Your violations
     of this Public License.

  c. For the avoidance of doubt, the Licensor may also offer the
     Licensed Material under separate terms or conditions or stop
     distributing the Licensed Material at any time; however, doing so
     will not terminate this Public License.

  d. Sections 1, 5, 6, 7, and 8 survive termination of this Public
     License.


Section 7 -- Other Terms and Conditions.

  a. The Licensor shall not be bound by any additional or different
     terms or conditions communicated by You unless expressly agreed.

  b. Any arrangements, understandings, or agreements regarding the
     Licensed Material not stated herein are separate from and
     independent of the terms and conditions of this Public License.


Section 8 -- Interpretation.

  a. For the avoidance of doubt, this Public License does not, and
     shall not be interpreted to, reduce, limit, restrict, or impose
     conditions on any use of the Licensed Material that could lawfully
     be made without permission under this Public License.

  b. To the extent possible, if any provision of this Public License is
     deemed unenforceable, it shall be automatically reformed to the
     minimum extent necessary to make it enforceable. If the provision
     cannot be reformed, it shall be severed from this Public License
     without affecting the enforceability of the remaining terms and
     conditions.

  c. No term or condition of this Public License will be waived and no
     failure to comply consented to unless expressly agreed to by the
     Licensor.

  d. Nothing in this Public License constitutes or may be interpreted
     as a limitation upon, or waiver of, any privileges and immunities
     that apply to the Licensor or You, including from the legal
     processes of any jurisdiction or authority.


=======================================================================

Creative Commons is not a party to its public
licenses. Notwithstanding, Creative Commons may elect to apply one of
its public licenses to material it publishes and in those instances
will be considered the Licensor. The text of the Creative Commons
public licenses is dedicated to the public domain under the CC0 Public
Domain Dedication. Except for the limited purpose of indicating that
material is shared under a Creative Commons public license or as
otherwise permitted by the Creative Commons policies published at
creativecommons.org/policies, Creative Commons does not authorize the
use of the trademark "Creative Commons" or any other trademark or logo
of Creative Commons without its prior written consent including,
without limitation, in connection with any unauthorized modifications
to any of its public licenses or any other arrangements,
understandings, or agreements concerning use of licensed material. For
the avoidance of doubt, this paragraph does not form part of the
public licenses.

Creative Commons may be contacted at creativecommons.org.
`,AK="For more information, visit [Analytic Software Pipeline Interface for Reproducible Execution (ASPIRE)](https://github.com/cienciadedatosysalud/manual_aspire).",iy=`(Default directory of all inputs used during project execution)
`,TK=`(Default directory of all outputs produced during project execution)
`,oy=(e,t={})=>{const r=e.format||e.type||"String",i=(kn[r]||kn.String)?.[0]?.key||"random_default",o=t[e.label];return o&&o.dist?o:{dist:i,params:{},null_percentage:0}},DK=(e,t,r)=>{const n=[];if(!e)return n;const i=e?.metadata,o=e?.cohort,s=Array.isArray(e?.entities)?e.entities:Object.values(e?.entities||{}),a=/^(0|[1-9]\d*)\.(0|[1-9]\d*)\.(0|[1-9]\d*)(?:-((?:0|[1-9]\d*|\d*[a-zA-Z-][0-9a-zA-Z-]*)(?:\.(?:0|[1-9]\d*|\d*[a-zA-Z-][0-9a-zA-Z-]*))*))?(?:\+([0-9a-zA-Z-]+(?:\.[0-9a-zA-Z-]+)*))?$/,l=s.reduce((u,c)=>{if(c.name){const f=c.name.trim().toUpperCase();u[f]=(u[f]||0)+1}return u},{});return i?.project||n.push({msg:t("summary.errors.meta_project"),target:"project_input"}),i?.version_sem?a.test(i.version_sem)||n.push({msg:t("summary.errors.meta_version_fmt")||"Formato de versin invlido. Debe ser SemVer (ej: 1.0.0)",target:"versionSem"}):n.push({msg:t("summary.errors.meta_version"),target:"versionSem"}),o?.name||n.push({msg:t("summary.errors.cohort_name"),target:"name"}),o?.description||n.push({msg:t("summary.errors.cohort_desc")||"Cohort: Missing 'Description'.",target:"description"}),o?.inclusion_criteria||n.push({msg:t("summary.errors.cohort_inc")||"Cohort: Missing 'Inclusion Criteria'.",target:"inclusion_criteria"}),o?.cohort_definition_inclusion?.filename&&(o.cohort_definition_inclusion.fileloaded?o.cohort_definition_inclusion.column_name||n.push({msg:t("summary.errors.cohort_inc_col_missing"),target:"cohort_definition_inclusion"}):n.push({msg:`${t("summary.errors.cohort_inc_file_missing")} (${o.cohort_definition_inclusion.filename})`,target:"cohort_definition_inclusion"})),o?.cohort_definition_exclusion?.filename&&(o.cohort_definition_exclusion.fileloaded?o.cohort_definition_exclusion.column_name||n.push({msg:t("summary.errors.cohort_exc_col_missing"),target:"cohort_definition_exclusion"}):n.push({msg:`${t("summary.errors.cohort_exc_file_missing")} (${o.cohort_definition_exclusion.filename})`,target:"cohort_definition_exclusion"})),s.length===0?n.push({msg:t("summary.errors.no_entities"),target:"entities"}):s.forEach((u,c)=>{const f=u.name||`${t("summary.entity_num")} #${c+1}`;if(u.name?(/\s/.test(u.name)&&n.push({msg:`${t("summary.entity_label")} '${u.name}': ${t("summary.errors.no_spaces")}`,target:u.id}),r.includes(u.name.toUpperCase())&&n.push({msg:`${t("summary.entity_label")} '${u.name}': ${t("summary.errors.reserved_word")}`,target:u.id}),l[u.name.trim().toUpperCase()]>1&&n.push({msg:`${t("summary.entity_label")} '${u.name}': ${t("summary.errors.duplicate_entity")||"Nombre de entidad duplicado"}`,target:u.id})):n.push({msg:`${t("summary.entity_num")} #${c+1}: ${t("summary.errors.ent_no_name")}`,target:u.id}),!u.variables||u.variables.length===0)n.push({msg:`${t("summary.entity_label")} '${f}': ${t("summary.errors.no_vars")}`,target:u.id});else{const d=new Set;u.variables.forEach(h=>{if(!h.label)n.push({msg:`${t("summary.entity_label")} '${f}': ${t("summary.errors.var_no_label")}`,target:u.id});else{const g=h.label,m=h.label.toUpperCase();/\s/.test(g)&&n.push({msg:`${t("summary.var_label")} '${g}': ${t("summary.errors.no_spaces")}`,target:u.id}),r.includes(m)&&n.push({msg:`${t("summary.var_label")} '${g}': ${t("summary.errors.reserved_word")}`,target:u.id}),d.has(g)?n.push({msg:`${t("summary.var_label")} '${g}': ${t("summary.errors.duplicate")}`,target:u.id}):d.add(g),h.catalog_bl&&(!h.catalog||!h.catalog.fileloaded?n.push({msg:`${t("summary.var_label")} '${g}': ${t("summary.errors.catalog_file_missing")} (${h.catalog?.filename||"?"})`,target:u.id}):h.catalog.column_name||n.push({msg:`${t("summary.var_label")} '${g}': ${t("summary.errors.catalog_col_missing")}`,target:u.id}));const p=u.synthetic_configuration?.[h.label];if(p){const y=h.format||h.type||"String",v=(kn[y]||kn.String)?.find(F=>F.key===p.dist);v&&v.params&&v.params.forEach(F=>{const E=p.params?.[F];(E==null||E==="")&&n.push({msg:`${t("summary.entity_label")} '${f}' - Var '${g}': Falta parmetro sinttico '${F}'`,target:u.id})})}}})}}),n},qi=e=>{const t=e.getRow(1);t.height=25,t.eachCell(r=>{r.font={bold:!0,color:{argb:"FFFFFFFF"},size:12},r.fill={type:"pattern",pattern:"solid",fgColor:{argb:"FF5F9EA0"}},r.alignment={vertical:"middle",horizontal:"center"},r.border={top:{style:"thin"},left:{style:"thin"},bottom:{style:"medium"},right:{style:"thin"}}}),e.views=[{state:"frozen",ySplit:1}],e.autoFilter={from:{row:1,column:1},to:{row:1,column:e.columnCount}}},Us=e=>{e.columns.forEach(t=>{let r=0;t&&t.eachCell&&t.eachCell({includeEmpty:!0},n=>{const i=n.value?n.value.toString().length:10;i>r&&(r=i)}),t.width=r<12?12:r>50?50:r+2,r>50&&(t.alignment={wrapText:!0,vertical:"top"})})},MK=async e=>{if(!e)return null;const t=e.split(" http"),r=t[0].trim();let n="http"+t[1];n.endsWith("/")||(n+="/");const i=`${n}legalcode.txt`;try{const o=await fetch(i);if(o.ok)return await o.text();throw new Error(`Error ${o.status}`)}catch{return`# LICENSE: ${r}

This work is licensed under the ${r} License.

To view a copy of this license, visit:
${n}

-----------------------------------------------------------------------
NOTE: The full legal text could not be downloaded automatically at this time.
Please refer to the URL above for the complete legal code.
-----------------------------------------------------------------------`}},PK=async e=>{const t=new TextEncoder;let r;typeof e=="string"?r=t.encode(e):e instanceof Blob?r=await e.arrayBuffer():e instanceof Uint8Array||e instanceof ArrayBuffer?r=e:r=new Uint8Array(e);const n=await crypto.subtle.digest("SHA-256",r);return Array.from(new Uint8Array(n)).map(o=>o.toString(16).padStart(2,"0")).join("")};function IK(){const[e,t]=Z.useState(!1),{formData:r}=Di(),{t:n}=kr(),[i,o]=Z.useState([]),[s,a]=Z.useState(!1),[l,u]=Z.useState([]),c=Z.useRef(null),f=(w,C="info")=>{u(x=>[...x,{time:new Date().toLocaleTimeString(),message:w,type:C}])};Z.useEffect(()=>{c.current?.scrollIntoView({behavior:"smooth"})},[l]);const d=["ALL","ANALYSE","ANALYZE","AND","ANY","ARRAY","AS","ASC","ASYMMETRIC","AUTHORIZATION","BETWEEN","BIGINT","BINARY","BIT","BOOLEAN","BOTH","CASE","CAST","CHAR","CHARACTER","CHECK","COALESCE","COLLATE","COLLATION","COLUMN","CONSTRAINT","CREATE","CROSS","CURRENT_CATALOG","CURRENT_DATE","CURRENT_ROLE","CURRENT_SCHEMA","CURRENT_TIME","CURRENT_TIMESTAMP","CURRENT_USER","DATE","DEC","DECIMAL","DEFAULT","DEFERRABLE","DELETE","DESC","DESCRIBE","DISTINCT","DO","DOUBLE","DROP","ELSE","END","ESCAPE","EXCEPT","EXCLUDE","EXISTS","EXTRACT","FALSE","FETCH","FLOAT","FOR","FOREIGN","FREEZE","FROM","FULL","FUNCTION","GRANT","GROUP","GROUPING","HAVING","HUGEINT","ILIKE","IN","INITIALLY","INNER","INSERT","INT","INTEGER","INTERSECT","INTERVAL","INTO","IS","ISNULL","JOIN","LATERAL","LEADING","LEFT","LIKE","LIMIT","LOCALTIME","LOCALTIMESTAMP","MACRO","MAP","MATCH","MATERIALIZED","MERGE","MINUTE","MODULE","MONTH","NATURAL","NOT","NOTNULL","NULL","NUMERIC","OFFSET","ON","ONLY","OR","ORDER","OUTER","OVER","OVERLAPS","PARTITION","PIVOT","PLACING","POSITION","PRAGMA","PRECISION","PRIMARY","QUALIFY","REAL","REFERENCES","RETURNING","RIGHT","ROW","ROWID","SAMPLE","SELECT","SESSION_USER","SET","SHOW","SIMILAR","SMALLINT","SOME","SORT","STRUCT","SUMMARIZE","SYMMETRIC","TABLE","TABLESAMPLE","THEN","TIME","TIMESTAMP","TIMEZONE_HOUR","TIMEZONE_MINUTE","TINYINT","TO","TRAILING","TRANSACTION","TRUE","TRY_CAST","UBIGINT","UINTEGER","UNION","UNIQUE","UNNEST","UNPIVOT","UPDATE","USER","USING","USMALLINT","UTINYINT","VALUES","VARCHAR","VARIADIC","VIEW","WHEN","WHERE","WINDOW","WITH","YEAR","ZONE"],g={type:"object",properties:{project:{type:"string"},funder:{type:"string"},url_project:{type:"string"},work_package:{type:"string"},use_case:{type:"string"},document:{type:"string"},version_sem:{type:"string"},authors:{type:"array",items:{type:"object",properties:{name:{type:"string"},affiliation:{type:"string"},id:{type:"string"}},required:["name","affiliation","id"],additionalProperties:!1}},keywords:{type:"array",items:{type:"string"}},description:{type:"string"},notes:{type:"string"},spatial_coverage:{type:"string"},license:{type:"string"}},required:["project","funder","url_project","work_package","use_case","document","version_sem","description","notes","authors","keywords","spatial_coverage","license"],additionalProperties:!1},m={type:"object",properties:{filename:{type:"string"},nature:{type:"string"},column_name:{type:"string"}},required:["filename","nature","column_name"],additionalProperties:!1},T={type:"object",properties:{metadata:g,cohort:{type:"object",properties:{name:{type:"string"},description:{type:"string"},inclusion_criteria:{type:"string"},exclusion_criteria:{type:"string"},beginning_study_period:{anyOf:[{type:"string",format:"date"},{type:"null"}]},end_study_period:{anyOf:[{type:"string",format:"date"},{type:"null"}]},cohort_definition_inclusion:{anyOf:[m,{type:"null"}]},cohort_definition_exclusion:{anyOf:[m,{type:"null"}]}},required:["name","description","inclusion_criteria","exclusion_criteria","beginning_study_period","end_study_period"],additionalProperties:!1},entities:{type:"array",items:{title:"Entity Schema",type:"object",properties:{name:{type:"string"},time_varying:{type:"boolean"},variables:{type:"array",items:{type:"object",properties:{label:{type:"string"},description:{type:"string"},standard_classification:{type:"string"},format:{type:"string"},type:{type:"string"},units:{type:"string"},requirement_level:{type:"string"},characteristic:{type:"string"},catalog_bl:{type:"boolean"},transformations_from_origin:{type:"string"},possible_data_source:{type:"string"},observations_comments:{type:"string"},examples:{type:"string"},catalog:{anyOf:[{type:"object",properties:{column_name:{type:"string"},filename:{type:"string"}},required:["column_name","filename"],additionalProperties:!1},{type:"null"}]}},required:["label","description","standard_classification","format","type","units","requirement_level","characteristic","catalog_bl","transformations_from_origin","possible_data_source","observations_comments","examples","catalog"],additionalProperties:!1}},rules:{type:"array",items:{type:"object",properties:{expression:{type:"string"},name:{type:"string"},description:{type:"string"}},required:["expression","name","description"],additionalProperties:!1}},synthetic_configuration:{type:"object",properties:{row_count:{type:"integer",minimum:1,maximum:1e5}},additionalProperties:{type:"object",properties:{dist:{type:"string"},params:{type:"object",additionalProperties:!0},null_percentage:{type:"number",minimum:0,maximum:100}},required:["dist","params"],additionalProperties:!1}}},required:["name","time_varying","variables"],additionalProperties:!1}},relationships:{type:"array",items:{type:"object",properties:{left_entity:{type:"string"},right_entity:{type:"string"},join_type:{type:"string"},left_column:{type:"string"},right_column:{type:"string"}},required:["left_entity","right_entity","join_type","left_column","right_column"],additionalProperties:!1}}},required:["metadata","cohort","entities","relationships"],additionalProperties:!1},I=new Wp({allErrors:!0,removeAdditional:!0,coerceTypes:!0});$p(I);const M=I.compile(T);Z.useEffect(()=>{a(!0);const w=setTimeout(()=>{const C=DK(r,n,d);o(C),a(!1)},500);return()=>clearTimeout(w)},[r,n]);const P=w=>{const C=document.getElementById(w);C&&(C.scrollIntoView({behavior:"smooth",block:"center"}),C.focus(),C.classList.add("ring-4","ring-red-300","transition-all","duration-500"),setTimeout(()=>{C.classList.remove("ring-4","ring-red-300")},2e3))},O=async w=>{const C=new XF.Workbook;C.creator="CDM Builder",C.created=new Date;const x=w?.metadata||{},A=Object.values(w?.entities||{}),D=w?.cohort||{},B=new Set,V={format:'"String,Boolean,Date,Datetime,Integer,Double"',type:'"Categorical,Numerical,Date"',requirement:'"Required,Recommended,Optional"',characteristic:'"Observed,Calculated"',boolean:'"Yes,No"'},j=(W,ne,re)=>{W.eachRow(q=>{const X=q.getCell(re),te=X.value?X.value.toString():"";if(te.length>0){const se=Math.ceil(te.length/65),oe=te.split(`
`).length,ie=Math.max(se,oe);ie>1&&(q.height=ie*15+5)}q.eachCell(se=>{se.alignment={vertical:"middle",horizontal:"center",wrapText:!0}})})},K=C.addWorksheet("Metadata");B.add("Metadata"),qi(K);const G=[["Project",x.project],["Project URL",{text:x.url_project,hyperlink:x.url_project}],["Work package",x.work_package],["Funder",x.funder],["Use case",x.use_case],["Document",x.document],["Version (SEM)",x.version_sem],["Keywords",x.keywords?.join(", ")],["Description",x.description],["Notes",x.notes],["Spatial coverage",x.spatial_coverage],["License",x.license]];x?.authors?.forEach(W=>G.push(["Author",`${W.name} (${W.affiliation}) - ORCID: ${W.id}`])),G.forEach(W=>K.addRow(W)),K.addRow([]);const Y=K.addRow(["Tab Color Legend",""]);Y.font={bold:!0,size:12},K.mergeCells(Y.number,1,Y.number,2),Y.getCell(1).fill={type:"pattern",pattern:"solid",fgColor:{argb:"FFD3D3D3"}},[{label:"Cohort Definition",color:"e25f23"},{label:"Cohort Inclusion/Exclusion",color:"dc8e6b"},{label:"Entity Index",color:"5dd55d"},{label:"Entities",color:"90EE90"}].forEach(W=>{const ne=K.addRow(["",W.label]);ne.getCell(1).fill={type:"pattern",pattern:"solid",fgColor:{argb:"FF"+W.color}}}),K.getColumn(1).width=30,K.getColumn(2).width=70,j(K,70,2);const N=C.addWorksheet("Cohort definition",{properties:{tabColor:{argb:"e25f23"}}});if(B.add("Cohort definition"),qi(N),[["Cohort name",D.name],["Cohort description",D.description],["Inclusion Criteria",D.inclusion_criteria],["Exclusion Criteria",D.exclusion_criteria],["Start of study period",D.beginning_study_period],["End of study period",D.end_study_period],["",""],["Cohort Definition Catalog (Inclusion)",""],["Nature",D.cohort_definition_inclusion?.nature],["Column name",D.cohort_definition_inclusion?.column_name],["",""],["Cohort Definition Catalog (Exclusion)",""],["Nature",D.cohort_definition_exclusion?.nature],["Column name",D.cohort_definition_exclusion?.column_name]].forEach(W=>N.addRow(W)),N.getColumn(1).width=30,N.getColumn(2).width=70,j(N,70,2),D.cohort_definition_inclusion?.header){const W="Cohort Inclusion",ne=C.addWorksheet(W,{properties:{tabColor:{argb:"dc8e6b"}}});B.add(W),ne.addRow(D.cohort_definition_inclusion.header),qi(ne),D.cohort_definition_inclusion.rows?.forEach(re=>{ne.addRow(D.cohort_definition_inclusion.header.map(q=>re[q]??""))}),Us(ne)}if(D.cohort_definition_exclusion?.header){const W="Cohort Exclusion",ne=C.addWorksheet(W,{properties:{tabColor:{argb:"dc8e6b"}}});B.add(W),ne.addRow(D.cohort_definition_exclusion.header),qi(ne),D.cohort_definition_exclusion.rows?.forEach(re=>{ne.addRow(D.cohort_definition_exclusion.header.map(q=>re[q]??""))}),Us(ne)}const J={},Q=C.addWorksheet("Entity Index",{properties:{tabColor:{argb:"5dd55d"}}});return B.add("Entity Index"),Q.addRow(["ID Reference","Entity Name"]),qi(Q),A.forEach((W,ne)=>{const re=`e${ne+1}`;J[W.id]=re,Q.addRow([re,W.name])}),Us(Q),Q.eachRow(W=>{W.eachCell(ne=>{ne.alignment={vertical:"middle",horizontal:"center",wrapText:!0}})}),A.forEach(W=>{let ne=W.name.replace(/[\\/?*\[\]:]/g,"").substring(0,31),re=1;const q=ne;for(;B.has(ne);)ne=`${q.substring(0,28)}_${re}`,re++;B.add(ne);const X=C.addWorksheet(ne,{properties:{tabColor:{argb:"FF90EE90"}}});X.addRow(["label","description","standard_classification","format","type","units","requirement_level","characteristic","catalog_bl","column_for_values_in_catalog","catalog_file","transformations_from_origin","possible_data_source","observations_comments","examples"]),qi(X),W.variables?.forEach(te=>{const se=X.addRow([te.label||"",te.description||"",te.standard_classification||"",te.format||"",te.type||"",te.units||"",te.requirement_level||"",te.characteristic||"",te.catalog_bl?"Yes":"No",te.catalog?.column_name||"",te.catalog?.filename||"",te.transformations_from_origin||"",te.possible_data_source||"",te.observations_comments||"",te.examples||""]);se.getCell(4).dataValidation={type:"list",allowBlank:!0,formulae:[V.format],showErrorMessage:!0,errorTitle:"Invalid Format",error:"Please select a valid format from the list (English)."},se.getCell(5).dataValidation={type:"list",allowBlank:!0,formulae:[V.type]},se.getCell(7).dataValidation={type:"list",allowBlank:!0,formulae:[V.requirement]},se.getCell(8).dataValidation={type:"list",allowBlank:!0,formulae:[V.characteristic]},se.getCell(9).dataValidation={type:"list",allowBlank:!0,formulae:[V.boolean]}}),Us(X)}),A.forEach(W=>{const ne=J[W.id];W.variables?.forEach(re=>{if(re.catalog&&re.catalog.header){const q=re.label.replace(/[\\/?*\[\]:]/g,""),X=31-(ne.length+1);let se=`${ne}_${q.substring(0,X)}`,oe=1;for(;B.has(se);){const ae=`_${oe}`;se=`${ne}_${q.substring(0,31-(ne.length+1+ae.length))}${ae}`,oe++}B.add(se);const ie=C.addWorksheet(se);ie.addRow(re.catalog.header),qi(ie),re.catalog.rows?.forEach(ae=>{const ue=re.catalog.header.map(ce=>ae[ce]??"");ie.addRow(ue)}),Us(ie)}})}),await C.xlsx.writeBuffer()};function z(w){let C=`cff-version: 1.2.0
message: "If you use this software, please cite it as below:"
title: "${w.metadata.project||""}"
version: "${w.metadata.version_sem||""}"
date-released: "${new Date().toISOString().split("T")[0]}"
url: "${w.metadata.url_project||""}"
license: "${w.metadata.license||""}"
`;return w.metadata.authors&&w.metadata.authors.length>0&&(C+=`authors:
`,w.metadata.authors.forEach(x=>{const A=(x.name||"").split(","),D=A[0]?.trim()||"",B=A[1]?.trim()||x.name||"",V=x.id?`https://orcid.org/${x.id}`:"";C+=`- family-names: "${D}"
  given-names: "${B}"
  orcid: "${V}"
`})),C}function L(w){return JSON.stringify({title:w.metadata.project,description:w.metadata.description,creators:w.metadata.authors.map(C=>({name:C.name,affiliation:C.affiliation,orcid:C.id})),keywords:w.metadata.keywords},null,4)}const _=async()=>{t(!0),u([]),f(n("summary.log.start"),"info");try{const w=new oU,C={},x=async(oe,ie,ae,ue)=>{if(ue)try{const ce=await PK(ue);C[ae]=ce,oe.file(ie,ue)}catch(ce){console.error(`Error hashing ${ie}`,ce),oe.file(ie,ue)}};let A=structuredClone(r);A.entities=Object.values(A.entities||[]),A.relationships=Object.values(A.relationships||[]),f(n("summary.log.validating_schema"),"info"),M(A)?f(n("summary.log.schema_ok"),"success"):(f(n("summary.log.ajv_warning"),"warning"),M.errors&&M.errors.forEach(oe=>{const ie=`AJV: ${oe.instancePath||"Raz"} -> ${oe.message}`;f(ie,"error")})),f(n("summary.log.gen_docs"),"info"),await x(w,"CITATION.cff","CITATION.cff",z(r)),await x(w,".zenodo.json",".zenodo.json",L(r)),await x(w,".gitignore",".gitignore",RK),await x(w,"man_container_deployment.md","man_container_deployment.md",AK);const B=r.metadata.license;let V="";B?(f(n("summary.log.license"),"info"),V=await MK(B)):V=_K,await x(w,"LICENSE","LICENSE",V),f(n("summary.log.gen_cdm"),"info");const j=w.folder("docs").folder("CDM");await x(j,"cdmb_config.json","docs/CDM/cdmb_config.json",JSON.stringify(A,null,2));const K=r.cohort;if(K.cohort_definition_inclusion&&K.cohort_definition_inclusion.header){const{header:oe,rows:ie}=K.cohort_definition_inclusion,ae=[oe.join("|"),...ie.map(ue=>oe.map(ce=>ue[ce]??"").join("|"))].join(`
`);await x(j,"cohort_definition_inclusion.csv","docs/CDM/cohort_definition_inclusion.csv",ae)}if(K.cohort_definition_exclusion&&K.cohort_definition_exclusion.header){const{header:oe,rows:ie}=K.cohort_definition_exclusion,ae=[oe.join("|"),...ie.map(ue=>oe.map(ce=>ue[ce]??"").join("|"))].join(`
`);await x(j,"cohort_definition_exclusion.csv","docs/CDM/cohort_definition_exclusion.csv",ae)}const G=await O(r);await x(j,"common_datamodel.xlsx","docs/CDM/common_datamodel.xlsx",G);const Y=JF(r.entities,r.relationships);await x(j,"ER.mmd","docs/CDM/ER.mmd",Y),f(n("summary.log.start_synthetic"),"info");const H=j.folder("entities"),N=j.folder("synthetic-data"),$=Object.values(r.entities||[]),J={};for(const oe of $){f(n("summary.log.proc_entity",{name:oe.name}),"info");try{const ie=oe.synthetic_configuration||{},ae=ie.row_count||1e3,ue=[],ce={};oe.variables.forEach(_e=>{const Ae=oy(_e,ie);if(Ae.dist==="foreign_key"){const De=Ae.params?.target_entity,Fe=Ae.params?.target_variable,ke=J[De];if(ke&&ke.length>0){const Pe=ke.map(Oe=>Oe[Fe]).filter(Oe=>Oe!==void 0);Pe.length>0?ce[_e.label]=Pe:(f(n("summary.log.warn_fk_empty",{var:_e.label,target:`${De}.${Fe}`}),"warning"),ce[_e.label]=[])}else f(n("summary.log.warn_fk_no_parent",{var:_e.label}),"warning"),ce[_e.label]=[]}});for(let _e=0;_e<ae;_e++){const Ae={};oe.variables.forEach(De=>{const Fe=oy(De,ie),ke=ce[De.label]||[];Ae[De.label]=KF(De.format||De.type,Fe.dist,Fe.params,Ae,_e,ke,Fe.null_percentage||0,{entityConfig:oe,currentVariable:De})}),ue.push(Ae)}J[oe.name]=ue;const pe=Ba.unparse(ue,{quotes:!1,delimiter:"|",header:!0});await x(N,`synthetic_${oe.name}.csv`,`docs/CDM/synthetic-data/synthetic_${oe.name}.csv`,pe);const ye=H.folder(oe.name),ge=ye.folder("catalogs"),Re=ye.folder("validation-rules");if(oe.variables){for(const _e of oe.variables)if(_e.catalog&&_e.catalog.header){const{header:Ae,rows:De,filename:Fe}=_e.catalog,ke=[Ae.join("|"),...De.map(Oe=>Ae.map(He=>Oe[He]??"").join("|"))].join(`
`),Pe=Fe||`catalog_${_e.label}.csv`;await x(ge,Pe,`docs/CDM/entities/${oe.name}/catalogs/${Pe}`,ke)}}if(oe.rules&&oe.rules.length>0){const _e={description:"The expressions of the different rules follow the syntax of the SQL OLAP database... (truncated for brevity)",rules:oe.rules},Ae=JSON.stringify(_e,null,2);await x(Re,`rule_set_${oe.name}.json`,`docs/CDM/entities/${oe.name}/validation-rules/rule_set_${oe.name}.json`,Ae)}}catch(ie){throw new Error(`Error generating '${oe.name}': ${ie.message}`)}}f(n("summary.log.synthetic_ok"),"success"),f(n("summary.log.pack_scripts"),"info");const Q=w.folder("inputs");await x(Q,"readme.txt","inputs/readme.txt",iy);const ee=w.folder("outputs");await x(ee,"readme.txt","outputs/readme.txt",TK);const W=w.folder("src"),ne=W.folder("analysis-scripts");await x(ne,"testing.py","src/analysis-scripts/testing.py",SK),await x(ne,"r_report_template.qmd","src/analysis-scripts/r_report_template.qmd",kK),await x(ne,"_quarto.yml","src/analysis-scripts/_quarto.yml",ny);const re=W.folder("check_load-scripts");await x(re,"check_load.py","src/check_load-scripts/check_load.py",CK),await x(re.folder("inputs"),"readme.txt","src/check_load-scripts/inputs/readme.txt",iy);const q=W.folder("dqa-scripts");await x(q,"dqa.py","src/dqa-scripts/dqa.py",FK);const X=W.folder("validation-scripts");await x(X,"validator.py","src/validation-scripts/validator.py",xK),await x(X,"validator_report.qmd","src/validation-scripts/validator_report.qmd",EK),await x(X,"_quarto.yml","src/validation-scripts/_quarto.yml",ny);const te=Object.keys(C).sort().reduce((oe,ie)=>(oe[ie]=C[ie],oe),{});j.file("hashed_files_list.json",JSON.stringify(te,null,2)),f(n("summary.log.compressing"),"info");const se=await w.generateAsync({type:"blob"});uU.saveAs(se,"cdm_project.zip"),f(n("summary.log.success"),"success")}catch(w){if(f(n("summary.log.error_critical",{error:w.message}),"error"),w.stack){const C=w.stack.split(`
`)[1]||"";f(`    ${C.trim()}`,"error")}}finally{t(!1)}},R=Z.useMemo(()=>[{field:"proyecto",headerName:n("summary.grid1.project"),flex:1},{field:"version",headerName:n("summary.grid1.version"),flex:1},{field:"cohorte",headerName:n("summary.grid1.cohort"),flex:1},{field:"descripcion",headerName:n("summary.grid1.desc"),flex:2,wrapText:!0,autoHeight:!0},{field:"inicio",headerName:n("summary.grid1.start"),flex:1},{field:"fin",headerName:n("summary.grid1.end"),flex:1},{field:"crosswalks",headerName:n("summary.grid1.crosswalks"),flex:1},{field:"faltan_archivos",headerName:n("summary.grid1.missing"),flex:1}],[n]),k=Z.useMemo(()=>[{field:"entidad",headerName:n("summary.grid2.entity"),flex:2},{field:"variable_tiempo",headerName:n("summary.grid2.time_var"),flex:1},{field:"n_variables",headerName:n("summary.grid2.n_vars"),flex:1},{field:"n_catalogos",headerName:n("summary.grid2.n_cats"),flex:2},{field:"tiene_reglas",headerName:n("summary.grid2.has_rules"),flex:1}],[n]),S=Z.useMemo(()=>({noRowsToShow:n("summary.grid_no_rows"),loadingOoo:n("summary.grid_loading")}),[n]);return U.jsxs("div",{className:"w-full min-h-screen p-10",children:[U.jsx("h1",{className:"text-4xl font-bold mb-10 border-b pb-4",children:n("summary.title")}),U.jsx("div",{className:"mb-10",children:s?U.jsxs("div",{className:"p-4 bg-gray-50 rounded border border-gray-200 text-gray-500 animate-pulse flex items-center gap-2",children:[U.jsx(Eh,{size:"sm"}),n("summary.validating")||"Validando cambios..."]}):i.length>0?U.jsx(Yo,{className:"border-l-4 border-l-red-500 bg-white dark:bg-white shadow-sm dark:border-gray-200",children:U.jsxs("div",{className:"flex flex-col gap-4",children:[U.jsxs("div",{className:"flex items-center gap-3 text-red-700",children:[U.jsx(mE,{className:"h-8 w-8"}),U.jsx("h3",{className:"text-xl font-bold",children:n("summary.alert_error_title")})]}),U.jsx("p",{className:"text-sm text-gray-600 font-medium",children:n("summary.alert_error_desc")}),U.jsx("ul",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-x-6 gap-y-3 p-0 list-none",children:i.map((w,C)=>U.jsx("li",{children:U.jsxs("button",{onClick:()=>P(w.target),className:"w-full flex items-start gap-2 p-2 rounded-md text-left text-sm text-gray-700 bg-red-50 hover:bg-red-100 hover:text-red-800 transition-colors border border-transparent hover:border-red-200 group",title:"Ir a este campo",children:[U.jsx(SE,{className:"h-5 w-5 text-red-500 flex-shrink-0 mt-0.5 group-hover:scale-110 transition-transform"}),U.jsx("span",{className:"flex-1 font-medium",children:w.msg}),U.jsx(cE,{className:"h-4 w-4 text-red-400 opacity-0 group-hover:opacity-100 transition-opacity mt-1"})]})},C))})]})}):U.jsx(Cf,{color:"success",icon:Fv,rounded:!0,className:"border-l-4 border-l-green-500 shadow-sm",children:U.jsxs("div",{className:"ml-2",children:[U.jsx("span",{className:"font-bold text-lg",children:n("summary.alert_success_title")}),U.jsx("p",{className:"mt-1",children:n("summary.alert_success_desc")})]})})}),U.jsx("div",{className:"ag-theme-alpine w-full mb-8",children:U.jsx(Yo,{className:"bg-white dark:bg-white shadow-sm dark:border-gray-200",children:U.jsx(ff,{theme:"legacy",domLayout:"autoHeight",localeText:S,rowData:[{proyecto:r?.metadata?.project||"",version:r?.metadata?.version_sem||"",cohorte:r?.cohort?.name||"",descripcion:r?.cohort?.description||"",inicio:r?.cohort?.beginning_study_period||"",fin:r?.cohort?.end_study_period||"",crosswalks:Object.values(r.entities||{}).some(w=>w.variables?.some(C=>C.catalog))?n("common.yes"):n("common.no"),faltan_archivos:!r.metadata?.project||!r.metadata?.version_sem||!r.cohort?.name?n("common.yes"):n("common.no")}],columnDefs:R})})}),U.jsx("div",{className:"ag-theme-alpine w-full mb-10",children:U.jsx(Yo,{className:"bg-white dark:bg-white shadow-sm dark:border-gray-200",children:U.jsx(ff,{theme:"legacy",domLayout:"autoHeight",localeText:S,rowData:Object.values(r?.entities||{}).map(w=>({entidad:w.name,variable_tiempo:w.time_varying?n("common.yes"):n("common.no"),n_variables:w.variables?.length||0,n_catalogos:w.variables?.filter(C=>C.catalog).length||0,tiene_reglas:w.rules&&w.rules.length>0?n("common.yes"):n("common.no")})),columnDefs:k})})}),U.jsx("div",{className:"flex justify-center mt-4 pb-20",children:U.jsx(pt,{onClick:_,disabled:e||i.length>0||s,size:"xl",className:"bg-[#4D76B2]! hover:bg-[#3C64A3]!",children:e?U.jsxs("div",{className:"flex items-center gap-2",children:[U.jsx(Eh,{size:"sm"}),n("summary.btn_generating")]}):i.length>0?n("summary.btn_fix_errors"):n("summary.btn_download")})}),l.length>0&&U.jsxs("div",{className:"w-full mb-20 animate-fadeIn",children:[U.jsxs("div",{className:"bg-gray-900 rounded-t-lg p-3 flex items-center gap-2 border-b border-gray-700",children:[U.jsx(wE,{className:"text-green-400 w-5 h-5"}),U.jsx("span",{className:"text-gray-200 font-mono text-sm font-bold",children:n("summary.log.title")})]}),U.jsxs("div",{className:"bg-black p-4 rounded-b-lg h-64 overflow-y-auto font-mono text-xs md:text-sm border border-gray-800 shadow-2xl",children:[l.map((w,C)=>U.jsxs("div",{className:`mb-1 flex gap-3 ${w.type==="error"?"text-red-400":w.type==="success"?"text-green-400":w.type==="warning"?"text-yellow-300":"text-gray-300"}`,children:[U.jsxs("span",{className:"opacity-50 select-none",children:["[",w.time,"]"]}),U.jsx("span",{children:w.message})]},C)),U.jsx("div",{ref:c})]})]})]})}const BK="/cdmb-web/",Ys=yw(ha),LK={type:"object",properties:{name:{type:"string"},affiliation:{type:"string"},id:{type:"string"}},required:["name","affiliation","id"],additionalProperties:!1},NK={type:"object",properties:{project:{type:"string"},funder:{type:"string"},url_project:{type:"string"},work_package:{type:"string"},use_case:{type:"string"},document:{type:"string"},version_sem:{type:"string"},authors:{type:"array",items:LK},keywords:{type:"array",items:{type:"string"}},description:{type:"string"},notes:{type:"string"},spatial_coverage:{type:"string"},license:{type:"string"}},required:["project","funder","url_project","work_package","use_case","document","version_sem","authors","keywords","description","notes","spatial_coverage","license"],additionalProperties:!1},sy={type:"object",properties:{filename:{type:"string"},nature:{type:"string"},column_name:{type:"string"}},required:["filename","nature","column_name"],additionalProperties:!1},OK={type:"object",properties:{name:{type:"string"},description:{type:"string"},inclusion_criteria:{type:"string"},exclusion_criteria:{type:"string"},beginning_study_period:{anyOf:[{type:"string",format:"date"},{type:"null"}]},end_study_period:{anyOf:[{type:"string",format:"date"},{type:"null"}]},cohort_definition_inclusion:{anyOf:[sy,{type:"null"}]},cohort_definition_exclusion:{anyOf:[sy,{type:"null"}]}},required:["name","description","inclusion_criteria","exclusion_criteria","beginning_study_period","end_study_period","cohort_definition_inclusion","cohort_definition_exclusion"],additionalProperties:!1},HK={type:"object",properties:{label:{type:"string"},description:{type:"string"},standard_classification:{type:"string"},format:{type:"string"},type:{type:"string"},units:{type:"string"},requirement_level:{type:"string"},characteristic:{type:"string"},catalog_bl:{type:"boolean"},transformations_from_origin:{type:"string"},possible_data_source:{type:"string"},observations_comments:{type:"string"},examples:{type:"string"},catalog:{anyOf:[{type:"object",properties:{column_name:{type:"string"},filename:{type:"string"}},required:["column_name","filename"],additionalProperties:!1},{type:"null"}]}},required:["label","description","standard_classification","format","type","units","requirement_level","characteristic","catalog_bl","transformations_from_origin","possible_data_source","observations_comments","examples","catalog"],additionalProperties:!1},GK={type:"object",properties:{expression:{type:"string"},name:{type:"string"},description:{type:"string"}},required:["expression","name","description"],additionalProperties:!1},jK={type:"object",properties:{dist:{type:"string"},params:{type:"object",additionalProperties:!0},null_percentage:{type:"number",minimum:0,maximum:100}},required:["dist","params"],additionalProperties:!1},zK={title:"Entity Schema",type:"object",properties:{name:{type:"string"},time_varying:{type:"boolean"},variables:{type:"array",items:HK},rules:{type:"array",items:GK},synthetic_configuration:{type:"object",properties:{row_count:{type:"integer",minimum:1,maximum:1e5}},additionalProperties:jK}},required:["name","time_varying","variables","rules"],additionalProperties:!1},VK={type:"array",items:{type:"object",properties:{left_entity:{type:"string"},right_entity:{type:"string"},join_type:{type:"string"},left_column:{type:"string"},right_column:{type:"string"}},required:["left_entity","right_entity","join_type","left_column","right_column"],additionalProperties:!1}},WK={type:"object",properties:{metadata:NK,cohort:OK,entities:{type:"array",items:zK},relationships:VK},required:["metadata","cohort","entities","relationships"],additionalProperties:!1},a2=new Wp({allErrors:!0,removeAdditional:!0});$p(a2);const ay=a2.compile(WK),$K=(e,t)=>{if(!e||e.length===0)return t("project.alerts.unknown_error");let r=`${t("project.alerts.validation_intro",{count:e.length})}<br><br>`;return e.forEach((n,i)=>{const o=n.instancePath?n.instancePath.replace("/",""):"Root";r+=`${i+1}. ${t("project.alerts.field")} '${o}': ${n.message} <br> `}),r},ly=(e,t)=>{let r=JSON.parse(JSON.stringify(e));if(r.cohort&&r.cohort.beggining_study_period!==void 0&&(r.cohort.beginning_study_period=r.cohort.beggining_study_period,delete r.cohort.beggining_study_period),!ay(r)){const i=$K(ay.errors,t);return Ys.fire({icon:"error",title:t("project.alerts.validation_title"),html:i}),null}return r};async function ph(e){try{const t=await fetch(e);if(t.status==200){const r=await t.text(),n=Ba.parse(r,{header:!0});return{headers:n.meta.fields||[],rows:n.data||[],fileloaded:!0}}else return{headers:[],rows:[],fileloaded:!1}}catch(t){return console.error("Error leyendo CSV:",t),{headers:[],rows:[],fileloaded:!1}}}function UK(){const{updateForm:e}=Di(),[t,r]=Z.useState("github"),[n,i]=Z.useState(""),[o,s]=Z.useState(null),{t:a}=kr(),l=f=>{r(f.target.value)},u=async f=>{if(f.preventDefault(),!!n)try{let d=n.replace("https://github.com/","https://raw.githubusercontent.com/").replace("/blob/","/");const h=await fetch(d);if(!h.ok)throw new Error("No se pudo cargar el JSON desde GitHub");const g=await h.json();let m=ly(g,a);const p=d.substring(0,d.lastIndexOf("CDM/")+4);if(m){if(m.cohort.cohort_definition_inclusion?.filename?.toLowerCase().endsWith(".csv")){const b=`${p}/${m.cohort.cohort_definition_inclusion.filename}`,v=await ph(b);m.cohort.cohort_definition_inclusion.header=v.headers,m.cohort.cohort_definition_inclusion.rows=v.rows,m.cohort.cohort_definition_inclusion.fileloaded=v.fileloaded}if(m.cohort.cohort_definition_exclusion?.filename?.toLowerCase().endsWith(".csv")){const b=`${p}/${m.cohort.cohort_definition_exclusion.filename}`,v=await ph(b);m.cohort.cohort_definition_exclusion.header=v.headers,m.cohort.cohort_definition_exclusion.rows=v.rows,m.cohort.cohort_definition_exclusion.fileloaded=v.fileloaded}const y=[];m.entities.forEach((b,v)=>{b.variables.forEach((F,E)=>{const T=F.catalog;if(T&&T.filename){const I=`${p}entities/${b.name}/catalogs/${T.filename}`,M=ph(I).then(P=>{m.entities[v].variables[E].catalog.header=P.headers,m.entities[v].variables[E].catalog.rows=P.rows,m.entities[v].variables[E].catalog.fileloaded=P.fileloaded});y.push(M)}})}),await Promise.all(y),e("entities",m.entities),e("metadata",m.metadata),e("cohort",m.cohort),e("relationships",m.relationships),Ys.fire({icon:"success",title:a("project.alerts.github_success")})}}catch(d){console.error(d),Ys.fire({icon:"error",title:a("project.alerts.github_error")})}},c=f=>{if(f.preventDefault(),!o)return;const d=new FileReader;d.onload=async h=>{try{const g=JSON.parse(h.target.result),m=ly(g,a);m&&(console.log("Datos locales validados y cargados:",m),e("entities",m.entities),e("metadata",m.metadata),e("cohort",m.cohort),e("relationships",m.relationships),Ys.fire({icon:"success",title:a("project.alerts.file_success")}))}catch(g){Ys.fire({icon:"error",title:a("project.alerts.file_error"),text:g.message})}},d.readAsText(o)};return U.jsxs("section",{className:"config-section p-4",children:[U.jsx("h1",{className:"app-title text-2xl font-bold mb-6 text-center",children:a("project.title")}),U.jsx("div",{className:"flex justify-center p-4",children:U.jsx("img",{src:`${BK}logo_github_json.png`,alt:"Logo",className:"w-[150px] h-auto rounded-xl mb-15"})}),U.jsxs("div",{className:"flex justify-center gap-8 mb-8 flex-col md:flex-row items-center",children:[U.jsxs("div",{className:"flex items-center gap-2",children:[U.jsx(da,{id:"opt-github",name:"loadOption",value:"github",checked:t==="github",onChange:l,className:"cursor-pointer"}),U.jsx(mt,{htmlFor:"opt-github",className:"cursor-pointer text-lg",children:a("project.github_opt")})]}),U.jsxs("div",{className:"flex items-center gap-2",children:[U.jsx(da,{id:"opt-file",name:"loadOption",value:"file",checked:t==="file",onChange:l,className:"cursor-pointer"}),U.jsx(mt,{htmlFor:"opt-file",className:"cursor-pointer text-lg",children:a("project.file_opt")})]})]}),t==="github"&&U.jsxs("form",{onSubmit:u,className:"load-form flex flex-col gap-4 max-w-lg mx-auto",children:[U.jsxs("div",{children:[U.jsx(mt,{htmlFor:"github-url",value:a("project.github_url_label"),className:"mb-2 block"}),U.jsx(br,{type:"url",id:"github-url",placeholder:"https://github.com/user/repository/docs/CDM/cdmb_config.json",required:!0,value:n,onChange:f=>i(f.target.value)})]}),U.jsx("button",{type:"submit",className:"text-white bg-blue-700 hover:bg-blue-800 focus:ring-4 focus:ring-blue-300 font-medium rounded-lg text-sm px-5 py-2.5 mr-2 mb-2 focus:outline-none",children:a("project.github_btn")}),U.jsxs("div",{className:"mt-2 p-3 text-sm text-blue-800 border border-blue-200 rounded-lg bg-blue-50",children:[U.jsxs("span",{className:"font-medium",children:[a("project.note_label"),":"]})," ",a("project.note_github")]})]}),t==="file"&&U.jsxs("form",{onSubmit:c,className:"load-form flex flex-col gap-4 max-w-lg mx-auto",children:[U.jsxs("div",{children:[U.jsx(mt,{htmlFor:"json-file",value:a("project.json_file_label"),className:"mb-2 block"}),U.jsx(br,{type:"file",id:"json-file",accept:".json",onChange:f=>s(f.target.files[0])})]}),U.jsx("button",{type:"submit",className:"text-white bg-blue-700 hover:bg-blue-800 focus:ring-4 focus:ring-blue-300 font-medium rounded-lg text-sm px-5 py-2.5 mr-2 mb-2 focus:outline-none",children:a("project.file_btn")}),U.jsxs("div",{className:"mt-2 p-3 text-sm text-yellow-800 border border-yellow-200 rounded-lg bg-yellow-50",children:[U.jsxs("span",{className:"font-medium",children:[a("project.attention_label"),":"]})," ",a("project.warn_json_p1")," ",U.jsx("u",{children:a("project.warn_json_u")})," ",a("project.warn_json_p2")," ",a("project.warn_json_p3")]})]})]})}const KK=["label","description","standard_classification","format","type","units","requirement_level","characteristic","catalog_bl","column_for_values_in_catalog","catalog_file","transformations_from_origin","possible_data_source","examples"],qK=["ALL","ANALYSE","ANALYZE","AND","ANY","ARRAY","AS","ASC","ASYMMETRIC","AUTHORIZATION","BETWEEN","BIGINT","BINARY","BIT","BOOLEAN","BOTH","CASE","CAST","CHAR","CHARACTER","CHECK","COALESCE","COLLATE","COLLATION","COLUMN","CONSTRAINT","CREATE","CROSS","CURRENT_CATALOG","CURRENT_DATE","CURRENT_ROLE","CURRENT_SCHEMA","CURRENT_TIME","CURRENT_TIMESTAMP","CURRENT_USER","DATE","DEC","DECIMAL","DEFAULT","DEFERRABLE","DELETE","DESC","DESCRIBE","DISTINCT","DO","DOUBLE","DROP","ELSE","END","ESCAPE","EXCEPT","EXCLUDE","EXISTS","EXTRACT","FALSE","FETCH","FLOAT","FOR","FOREIGN","FREEZE","FROM","FULL","FUNCTION","GRANT","GROUP","GROUPING","HAVING","HUGEINT","ILIKE","IN","INITIALLY","INNER","INSERT","INT","INTEGER","INTERSECT","INTERVAL","INTO","IS","ISNULL","JOIN","LATERAL","LEADING","LEFT","LIKE","LIMIT","LOCALTIME","LOCALTIMESTAMP","MACRO","MAP","MATCH","MATERIALIZED","MERGE","MINUTE","MODULE","MONTH","NATURAL","NOT","NOTNULL","NULL","NUMERIC","OFFSET","ON","ONLY","OR","ORDER","OUTER","OVER","OVERLAPS","PARTITION","PIVOT","PLACING","POSITION","PRAGMA","PRECISION","PRIMARY","QUALIFY","REAL","REFERENCES","RETURNING","RIGHT","ROW","ROWID","SAMPLE","SELECT","SESSION_USER","SET","SHOW","SIMILAR","SMALLINT","SOME","SORT","STRUCT","SUMMARIZE","SYMMETRIC","TABLE","TABLESAMPLE","THEN","TIME","TIMESTAMP","TIMEZONE_HOUR","TIMEZONE_MINUTE","TINYINT","TO","TRAILING","TRANSACTION","TRUE","TRY_CAST","UBIGINT","UINTEGER","UNION","UNIQUE","UNNEST","UNPIVOT","UPDATE","USER","USING","USMALLINT","UTINYINT","VALUES","VARCHAR","VARIADIC","VIEW","WHEN","WHERE","WINDOW","WITH","YEAR","ZONE"],JK={metadata:{project:"",funder:"",url_project:"",work_package:"",use_case:"",document:"",version_sem:"",authors:[],keywords:[],description:"",notes:"",spatial_coverage:"",license:""},cohort:{name:"",description:"",inclusion_criteria:"",exclusion_criteria:"",beginning_study_period:null,end_study_period:null,cohort_definition_inclusion:{},cohort_definition_exclusion:{}},entities:[],relationships:[]};function YK(){const{updateForm:e,formData:t}=Di(),{t:r}=kr(),[n,i]=Z.useState(!1),[o,s]=Z.useState(null),[a,l]=Z.useState({isOpen:!1,processing:!1,logs:[],progress:0}),u=Z.useRef(null),c=Z.useRef(null),f=F=>{s(F),i(!1)},d=()=>s(null),h=async F=>{if((await Pt.fire({title:r("floating.alerts.confirm_clear",{section:F.toUpperCase()}),icon:"warning",showCancelButton:!0,confirmButtonColor:"#d33",cancelButtonColor:"#3085d6",confirmButtonText:r("common.yes")||"Yes",cancelButtonText:r("common.cancel")||"Cancel"})).isConfirmed){const T=JK[F];let I;Array.isArray(T)?I=[]:typeof T=="object"&&T!==null?I=structuredClone(T):I=T,e(F,I),d(),Pt.fire({icon:"success",title:r("floating.alerts.cleared")||"Seccin limpiada",toast:!0,position:"top-end",showConfirmButton:!1,timer:1500})}},g=()=>{i(!1),u.current&&(u.current.value=""),u.current.click()},m=async F=>{l({isOpen:!0,processing:!0,logs:[],progress:0});let E=structuredClone(t.entities||[]),T=[],I=0;const M=F.length,P=(O,z="info")=>T.push({msg:O,type:z});for(const O of F)P(`${r("floating.upload.processing")} ${O.name}...`,"info"),await new Promise(z=>{Ba.parse(O,{header:!0,skipEmptyLines:!0,complete:L=>{const _=L.meta.fields||[];let R=!1;E.forEach(k=>{k.variables?.forEach(S=>{S.catalog&&S.catalog.filename===O.name&&(_.includes(S.catalog.column_name)?(S.catalog.header=_,S.catalog.rows=L.data,S.catalog.fileloaded=!0,R=!0,P(` ${r("floating.upload.assigned_to")} [${k.name}] -> Variable: ${S.label}`,"success")):P(` ${r("floating.upload.col_mismatch",{file:O.name,col:S.catalog.column_name})}`,"error"))})}),R||P(` ${r("floating.upload.no_match")} ${O.name}`,"warning"),z()},error:L=>{P(` Error parsing ${O.name}: ${L.message}`,"error"),z()}})}),I++,l(z=>({...z,progress:Math.round(I/M*100),logs:[...T]}));e("entities",E),l(O=>({...O,processing:!1,logs:[...T]}))},p=F=>{F.target.files&&F.target.files.length>0&&m(Array.from(F.target.files))},y=()=>{i(!1),c.current&&(c.current.value=""),c.current.click()},b=async F=>{const E=F.target.files[0];if(!E)return;c.current&&(c.current.value=""),l({isOpen:!0,processing:!0,logs:[],progress:0});const T=[],I=(M,P="info")=>T.push({msg:M,type:P});I(r("floating.upload.excel_reading",{fileName:E.name}),"info");try{const M=new XF.Workbook,P=await E.arrayBuffer();await M.xlsx.load(P);const O=[];let z=0;if(M.eachSheet((L,_)=>{const R=L.getRow(1),k={};if(R.eachCell((w,C)=>{w.value&&(k[String(w.value).toLowerCase().trim()]=C)}),KK.filter(w=>!Object.prototype.hasOwnProperty.call(k,w)).length===0){I(r("floating.upload.excel_sheet_found",{sheetName:L.name}),"success");const w=[];L.eachRow((C,x)=>{if(x===1)return;const A=V=>{const j=k[V];if(j===void 0)return"";const K=C.getCell(j);return!K||!K.value?"":typeof K.value=="object"&&K.value.text?K.value.text:String(K.value).trim()},D=V=>{const j=A(V).toLowerCase();return j==="true"||j==="yes"||j==="1"||j==="verdadero"},B=A("label");if(B){const V=D("catalog_bl");w.push({id:Math.random().toString(36).substr(2,9),label:B,description:A("description"),standard_classification:A("standard_classification"),format:A("format"),type:A("type"),units:A("units"),requirement_level:A("requirement_level"),characteristic:A("characteristic"),catalog_bl:V,transformations_from_origin:A("transformations_from_origin"),possible_data_source:A("possible_data_source"),observations_comments:A("observations_comments"),examples:A("examples"),catalog:V?{column_name:A("column_for_values_in_catalog"),filename:A("catalog_file")||"",fileloaded:!1}:null})}}),w.length>0&&(O.push({id:Math.random().toString(36).substr(2,9),name:L.name.toLowerCase().replace(/\s/g,""),time_varying:!1,variables:w,rules:[]}),I(r("floating.upload.excel_entity_created",{entityName:L.name,count:w.length}),"info"))}z++}),O.length>0){let L=!0;t.entities&&t.entities.length>0&&(l(R=>({...R,isOpen:!1})),(await Pt.fire({title:r("floating.alerts.overwrite_title")||" Overwrite data?",text:r("floating.alerts.overwrite_desc")||"This will delete all existing entities and replace them with the ones from the Excel file. This action cannot be undone.",icon:"warning",showCancelButton:!0,confirmButtonColor:"#d33",cancelButtonColor:"#3085d6",confirmButtonText:r("common.yes_overwrite")||"Yes, overwrite all",cancelButtonText:r("common.cancel")||"Cancel"})).isConfirmed||(L=!1,I(r("floating.upload.op_cancelled"),"warning")),l(R=>({...R,isOpen:!0}))),L&&(e("entities",O),I(r("floating.upload.excel_success",{count:O.length}),"success"),l(_=>({..._,progress:100})))}else I(r("floating.upload.excel_no_valid_sheets"),"error")}catch(M){console.error(M),I(r("floating.upload.excel_error",{error:M.message}),"error")}finally{l(M=>({...M,processing:!1,logs:T}))}},v={root:{base:"fixed inset-x-0 top-0 z-50 h-screen overflow-y-auto overflow-x-hidden md:inset-0 md:h-full",show:{on:"flex bg-gray-900/5 backdrop-blur-none",off:"hidden"}},content:{base:"relative h-full w-full p-4 md:h-auto",inner:"relative flex max-h-[90dvh] flex-col rounded-lg bg-white text-gray-900 shadow-2xl"},header:{base:"flex items-start justify-between rounded-t border-b p-5",popup:"p-2 border-b-0",title:"text-xl font-medium text-black dark:text-black",close:{base:"ml-auto inline-flex items-center rounded-lg bg-transparent p-1.5 text-sm text-gray-400 hover:bg-gray-200 hover:text-gray-900",icon:"h-5 w-5"}}};return U.jsxs(U.Fragment,{children:[U.jsxs("div",{className:"fixed bottom-6 right-6 group z-50",children:[U.jsxs("div",{className:`flex flex-col items-center gap-3 mb-4 transition-all duration-300 ${n?"opacity-100 translate-y-0":"opacity-0 translate-y-10 pointer-events-none"}`,children:[U.jsx(Yi,{content:r("floating.tooltips.bulk_upload"),placement:"left",style:"light",children:U.jsx("button",{onClick:g,className:"w-12 h-12 bg-white text-blue-600 rounded-full shadow-lg border border-gray-200 hover:bg-gray-50 flex items-center justify-center transition-transform hover:scale-110",children:U.jsx(CE,{className:"h-6 w-6"})})}),U.jsx(Yi,{content:r("floating.tooltips.excel_upload"),placement:"left",style:"light",children:U.jsx("button",{onClick:y,className:"w-12 h-12 bg-white text-green-600 rounded-full shadow-lg border border-gray-200 hover:bg-gray-50 flex items-center justify-center transition-transform hover:scale-110",children:U.jsx(pE,{className:"h-6 w-6"})})}),U.jsx(Yi,{content:r("floating.tooltips.clear"),placement:"left",style:"light",children:U.jsx("button",{onClick:()=>f("clear"),className:"w-12 h-12 bg-white text-red-600 rounded-full shadow-lg border border-gray-200 hover:bg-gray-50 flex items-center justify-center transition-transform hover:scale-110",children:""})}),U.jsx(Yi,{content:r("floating.tooltips.shortcuts"),placement:"left",style:"light",children:U.jsx("button",{onClick:()=>f("shortcuts"),className:"w-12 h-12 bg-white text-gray-600 rounded-full shadow-lg border border-gray-200 hover:bg-gray-50 flex items-center justify-center transition-transform hover:scale-110",children:""})}),U.jsx(Yi,{content:r("floating.tooltips.reserved"),placement:"left",style:"light",children:U.jsx("button",{onClick:()=>f("reserved"),className:"w-12 h-12 bg-white text-purple-600 rounded-full shadow-lg border border-gray-200 hover:bg-gray-50 flex items-center justify-center transition-transform hover:scale-110",children:""})})]}),U.jsx("button",{onClick:()=>i(!n),className:"flex items-center justify-center text-white bg-[#4D76B2] hover:bg-[#3d6091] rounded-full w-14 h-14 focus:ring-4 focus:ring-blue-300 focus:outline-none shadow-xl transition-transform transform hover:rotate-90",children:U.jsx("svg",{className:`w-6 h-6 transition-transform ${n?"rotate-45":""}`,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:U.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M12 6v6m0 0v6m0-6h6m-6 0H6"})})})]}),U.jsx("input",{type:"file",multiple:!0,ref:u,className:"hidden",onChange:p,accept:".csv"}),U.jsx("input",{type:"file",ref:c,className:"hidden",onChange:b,accept:".xlsx"}),U.jsxs(Qi,{show:a.isOpen,onClose:()=>!a.processing&&l(F=>({...F,isOpen:!1})),theme:v,size:"lg",children:[U.jsx($o,{className:"bg-white dark:bg-white text-black dark:text-black border-b border-gray-200",children:a.processing?r("floating.upload.title_processing"):r("floating.upload.title_finished")}),U.jsx(Wo,{className:"bg-white dark:bg-white",children:U.jsxs("div",{className:"space-y-4",children:[U.jsxs("div",{className:"w-full",children:[U.jsxs("div",{className:"flex justify-between mb-1",children:[U.jsx("span",{className:"text-sm font-medium text-blue-700 dark:text-white",children:a.processing?r("floating.upload.status_working"):r("floating.upload.status_done")}),U.jsxs("span",{className:"text-sm font-medium text-blue-700 dark:text-white",children:[a.progress,"%"]})]}),U.jsx(vv,{progress:a.progress,color:a.progress===100?"green":"blue",size:"lg"})]}),U.jsxs("div",{className:"h-64 overflow-y-auto bg-gray-50 p-4 rounded-md border border-gray-200 text-sm font-mono shadow-inner",children:[a.logs.length===0&&U.jsx("div",{className:"text-gray-400 italic text-center mt-20",children:r("floating.upload.waiting")}),a.logs.map((F,E)=>{let T=null,I="text-gray-700";return F.type==="success"?(T=U.jsx(Fv,{className:"inline w-4 h-4 mr-1 mb-0.5"}),I="text-green-600 font-semibold"):F.type==="error"?(T=U.jsx(Sv,{className:"inline w-4 h-4 mr-1 mb-0.5"}),I="text-red-600 font-bold"):F.type==="warning"?(T=U.jsx(gE,{className:"inline w-4 h-4 mr-1 mb-0.5"}),I="text-yellow-600"):T=U.jsx("span",{className:"inline-block w-4 mr-1",children:""}),U.jsxs("div",{className:`mb-1.5 border-b border-gray-100 pb-1 last:border-0 ${I}`,children:[T," ",F.msg]},E)})]})]})}),U.jsx(Iu,{className:"bg-white dark:bg-white border-t border-gray-200",children:U.jsx(pt,{color:"gray",onClick:()=>l(F=>({...F,isOpen:!1})),disabled:a.processing,children:r("floating.upload.btn_close")})})]}),U.jsxs(Qi,{show:o==="shortcuts",onClose:d,size:"md",theme:v,children:[U.jsx($o,{className:"bg-white dark:bg-white text-black dark:text-black border-b border-gray-200",children:r("floating.modals.shortcuts.title")}),U.jsx(Wo,{className:"bg-white dark:bg-white",children:U.jsxs("div",{className:"space-y-4",children:[U.jsxs("div",{className:"flex justify-between items-center border-b border-gray-100 pb-2",children:[U.jsx("span",{className:"text-black dark:text-black font-medium",children:r("floating.modals.shortcuts.copy_cell")}),U.jsxs("span",{children:[U.jsx(hr,{children:"Ctrl"})," + ",U.jsx(hr,{children:"C"})]})]}),U.jsxs("div",{className:"flex justify-between items-center border-b border-gray-100 pb-2",children:[U.jsx("span",{className:"text-black dark:text-black font-medium",children:r("floating.modals.shortcuts.copy_row")}),U.jsxs("span",{children:[U.jsx(hr,{children:"Ctrl"})," + ",U.jsx(hr,{children:"Alt"})," + ",U.jsx(hr,{children:"C"})]})]}),U.jsxs("div",{className:"flex justify-between items-center border-b border-gray-100 pb-2",children:[U.jsx("span",{className:"text-black dark:text-black font-medium",children:r("floating.modals.shortcuts.paste")}),U.jsxs("span",{children:[U.jsx(hr,{children:"Ctrl"})," + ",U.jsx(hr,{children:"V"})]})]}),U.jsxs("div",{className:"flex justify-between items-center border-b border-gray-100 pb-2",children:[U.jsx("span",{className:"text-black dark:text-black font-medium",children:r("floating.modals.shortcuts.save")}),U.jsxs("span",{children:[U.jsx(hr,{children:"Ctrl"})," + ",U.jsx(hr,{children:"S"})]})]}),U.jsxs("div",{className:"flex justify-between items-center border-b border-gray-100 pb-2",children:[U.jsx("span",{className:"text-red-600 font-medium",children:r("floating.modals.shortcuts.clear")}),U.jsx("span",{children:U.jsx(hr,{children:"F5"})})]}),U.jsxs("div",{className:"flex justify-between items-center pb-2",children:[U.jsx("span",{className:"text-red-600 dark:text-red-600 font-medium",children:r("floating.modals.shortcuts.force_refresh")}),U.jsxs("span",{children:[U.jsx(hr,{children:"Ctrl"})," + ",U.jsx(hr,{children:"F5"})]})]})]})}),U.jsx(Iu,{className:"bg-white dark:bg-white border-t border-gray-200",children:U.jsx(pt,{color:"gray",onClick:d,children:r("floating.modals.shortcuts.btn_understood")})})]}),U.jsxs(Qi,{show:o==="reserved",onClose:d,theme:v,children:[U.jsx($o,{className:"bg-white dark:bg-white text-black dark:text-black border-b border-gray-200",children:r("floating.modals.reserved.title")}),U.jsxs(Wo,{className:"bg-white dark:bg-white",children:[U.jsx("p",{className:"text-sm text-black dark:text-black mb-4",children:r("floating.modals.reserved.desc")}),U.jsx("div",{className:"flex flex-wrap gap-2",children:qK.map(F=>U.jsx("span",{className:"px-2 py-1 bg-red-100 text-red-800 text-xs font-mono rounded border border-red-200",children:F},F))})]})]}),U.jsxs(Qi,{show:o==="clear",onClose:d,size:"sm",theme:v,children:[U.jsx($o,{className:"bg-white dark:bg-white text-black dark:text-black border-b border-gray-200",children:r("floating.modals.clear.title")}),U.jsx(Wo,{className:"bg-white dark:bg-white",children:U.jsxs("div",{className:"flex flex-col gap-3",children:[U.jsx("p",{className:"text-sm text-black dark:text-black mb-2",children:r("floating.modals.clear.desc")}),U.jsxs(pt,{color:"light",onClick:()=>h("metadata"),className:"justify-start items-center",children:[U.jsx(fE,{className:"mr-2 h-5 w-5"}),r("floating.modals.clear.btn_metadata")]}),U.jsxs(pt,{color:"light",onClick:()=>h("cohort"),className:"justify-start items-center",children:[U.jsx(FE,{className:"mr-2 h-5 w-5"}),r("floating.modals.clear.btn_cohort")]}),U.jsxs(pt,{color:"light",onClick:()=>h("entities"),className:"justify-start items-center",children:[U.jsx(vE,{className:"mr-2 h-5 w-5"}),r("floating.modals.clear.btn_entities")]}),U.jsxs(pt,{color:"light",onClick:()=>h("relationships"),className:"justify-start items-center",children:[U.jsx(yE,{className:"mr-2 h-5 w-5"}),r("floating.modals.clear.btn_relationships")]})]})})]})]})}const ZK=()=>{const{formData:e}=Di(),{t}=kr(),r=Z.useCallback(()=>{const i={type:"object",properties:{project:{type:"string"},funder:{type:"string"},url_project:{type:"string"},work_package:{type:"string"},use_case:{type:"string"},document:{type:"string"},version_sem:{type:"string"},authors:{type:"array",items:{type:"object",properties:{name:{type:"string"},affiliation:{type:"string"},id:{type:"string"}},required:["name","affiliation","id"],additionalProperties:!1}},keywords:{type:"array",items:{type:"string"}},description:{type:"string"},notes:{type:"string"},spatial_coverage:{type:"string"},license:{type:"string"}},required:["project","funder","url_project","work_package","use_case","document","version_sem","authors","keywords","description","notes","spatial_coverage","license"],additionalProperties:!1},o={type:"object",properties:{filename:{type:"string"},nature:{type:"string"},column_name:{type:"string"}},required:["filename","nature","column_name"],additionalProperties:!1},d={type:"object",properties:{metadata:i,cohort:{type:"object",properties:{name:{type:"string"},description:{type:"string"},inclusion_criteria:{type:"string"},exclusion_criteria:{type:"string"},beginning_study_period:{anyOf:[{type:"string",format:"date"},{type:"null"}]},end_study_period:{anyOf:[{type:"string",format:"date"},{type:"null"}]},cohort_definition_inclusion:{anyOf:[o,{type:"null"}]},cohort_definition_exclusion:{anyOf:[o,{type:"null"}]}},required:["name","description","inclusion_criteria","exclusion_criteria","beginning_study_period","end_study_period"],additionalProperties:!1},entities:{type:"array",items:{title:"Entity Schema",type:"object",properties:{name:{type:"string"},time_varying:{type:"boolean"},variables:{type:"array",items:{type:"object",properties:{label:{type:"string"},description:{type:"string"},standard_classification:{type:"string"},format:{type:"string"},type:{type:"string"},units:{type:"string"},requirement_level:{type:"string"},characteristic:{type:"string"},catalog_bl:{type:"boolean"},transformations_from_origin:{type:"string"},possible_data_source:{type:"string"},observations_comments:{type:"string"},examples:{type:"string"},catalog:{anyOf:[{type:"object",properties:{column_name:{type:"string"},filename:{type:"string"}},required:["column_name","filename"],additionalProperties:!1},{type:"null"}]}},required:["label","description","standard_classification","format","type","units","requirement_level","characteristic","catalog_bl","transformations_from_origin","possible_data_source","observations_comments","examples"],additionalProperties:!1}},rules:{type:"array",items:{type:"object",properties:{expression:{type:"string"},name:{type:"string"},description:{type:"string"}},required:["expression","name","description"],additionalProperties:!1}},synthetic_configuration:{type:"object",properties:{row_count:{type:"integer",minimum:1,maximum:1e5}},additionalProperties:{type:"object",properties:{dist:{type:"string"},params:{type:"object",additionalProperties:!0},null_percentage:{type:"number",minimum:0,maximum:100}},required:["dist","params"],additionalProperties:!1}}},required:["name","time_varying","variables","rules"],additionalProperties:!1}},relationships:{type:"array",items:{type:"object",properties:{left_entity:{type:"string"},right_entity:{type:"string"},join_type:{type:"string"},left_column:{type:"string"},right_column:{type:"string"}},required:["left_entity","right_entity","join_type","left_column","right_column"],additionalProperties:!1}}},required:["metadata","cohort","entities","relationships"],additionalProperties:!1},h=new Wp({allErrors:!0,removeAdditional:!0,coerceTypes:!0});$p(h);const g=h.compile(d);let m=structuredClone(e);m.entities=Object.values(m.entities||[]),m.relationships=Object.values(m.relationships||[]),g(m);const p=JSON.stringify(m,null,2),y=new Blob([p],{type:"application/json"}),b=URL.createObjectURL(y),v=document.createElement("a");v.href=b,v.download=`cdm_project_backup_${new Date().toISOString().slice(0,10)}.json`,document.body.appendChild(v),v.click(),document.body.removeChild(v),URL.revokeObjectURL(b)},[e]);return Z.useEffect(()=>{const n=o=>{o.preventDefault(),o.returnValue=""};window.addEventListener("beforeunload",n);const i=o=>{(o.ctrlKey||o.metaKey)&&(o.key==="s"||o.key==="S")&&(o.preventDefault(),Pt.fire({title:t("floating.alerts.save_changes"),showDenyButton:!0,showCancelButton:!0,confirmButtonText:t("floating.alerts.btn_save"),denyButtonText:t("floating.alerts.btn_dont_save"),cancelButtonText:t("floating.alerts.btn_cancel")}).then(s=>{s.isConfirmed?(r(),Pt.fire(t("floating.alerts.saved_success"),"","success")):s.isDenied&&Pt.fire(t("floating.alerts.not_saved"),"","info")})),(o.key==="F5"||(o.ctrlKey||o.metaKey)&&o.key==="r")&&(o.preventDefault(),Pt.fire({title:t("floating.alerts.refresh_warning_title"),text:t("floating.alerts.refresh_warning_text"),icon:"warning",showDenyButton:!0,showCancelButton:!0,confirmButtonText:t("floating.alerts.btn_refresh_delete"),confirmButtonColor:"#d33",denyButtonText:t("floating.alerts.btn_save_refresh"),denyButtonColor:"#3085d6",cancelButtonText:t("floating.alerts.btn_cancel")}).then(s=>{if(s.isConfirmed)window.removeEventListener("beforeunload",n),window.location.reload();else if(s.isDenied){r();let a;Pt.fire({title:t("floating.alerts.saving"),html:t("floating.alerts.refreshing_in",{ms:"<b></b>"}),timer:1e3,timerProgressBar:!0,didOpen:()=>{Pt.showLoading();const l=Pt.getHtmlContainer().querySelector("b");a=setInterval(()=>{l.textContent=Pt.getTimerLeft()},100)},willClose:()=>{clearInterval(a)}}).then(()=>{window.removeEventListener("beforeunload",n),window.location.reload()})}}))};return window.addEventListener("keydown",i),()=>{window.removeEventListener("keydown",i),window.removeEventListener("beforeunload",n)}},[r]),null};function iq(){return U.jsxs(c2,{children:[U.jsx(ZK,{}),U.jsx("section",{id:"project",className:"section",children:U.jsxs("div",{className:"section-content",children:[U.jsx(UK,{}),U.jsx(AE,{})]})}),U.jsx("section",{id:"cohort",className:"section",children:U.jsx("div",{className:"section-content",children:U.jsx(x_,{})})}),U.jsx("section",{id:"entities",className:"section",children:U.jsx("div",{className:"section-content",children:U.jsx(Z$,{})})}),U.jsx("section",{id:"validation",className:"section",children:U.jsx("div",{className:"section-content",children:U.jsx(rU,{})})}),U.jsx("section",{id:"summary",className:"section",children:U.jsx("div",{className:"section-content",children:U.jsx(IK,{})})}),U.jsx(YK,{})]})}export{iq as default};
